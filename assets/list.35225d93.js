var J=Object.defineProperty,C=Object.defineProperties;var F=Object.getOwnPropertyDescriptors;var v=Object.getOwnPropertySymbols;var y=Object.prototype.hasOwnProperty,b=Object.prototype.propertyIsEnumerable;var w=(e,a,r)=>a in e?J(e,a,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[a]=r,f=(e,a)=>{for(var r in a||(a={}))y.call(a,r)&&w(e,r,a[r]);if(v)for(var r of v(a))b.call(a,r)&&w(e,r,a[r]);return e},h=(e,a)=>C(e,F(a));import{_ as L,r as Q,o as O,t as V,a as m,c as d,g as i,F as N,z as G,f as B,L as U,n as S,ab as Y,B as K,A as k,w as Z,M as T,$ as M,ae as P,af as R,i as I,j as g,ac as W}from"./index.56a3c384.js";import{c as D}from"./utils.95e6bb58.js";var q="data:image/png;base64,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",H="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGwAAABsCAYAAACPZlfNAAAAAXNSR0IArs4c6QAACqhJREFUeF7tnQvIL0UZxp+HyiBKorKsNMpKSbuQGR0tKCOx6KJZSSkpFl2sKCMrgiQjETTtWGAXIS8JallhmSe7HZUuWmlZdiGJ7GIXKoKyG5U+8XTmr3v+3+7s7H33awb+fOKZfefd+e3Mzr7zvu8QuSyqB7gobbOyyMAW9hBkYBnYwnpgYermEZaBLawHFqZuHmEZ2MJ6YGHq5hGWgQ3fA5LuAeCBFb/dwv+3Ir8H8Ifw1/+904/kv4fXtt8WFjPCJD0RwHPDb0tP3fA1AJ8BsI3kj3qSOaiY2QKTdPcA5xAA/u09aE8APwBwOYCrAGwnefvA7bUSPztgkg4FcHSAtHuru+p+0a0AvgLgYpJf6C6uPwmzASbpcQBOAPCK/m6vF0nnAjiL5E29SOsoZHJgku4H4M0B1r073s9Ql//V0ABsJfmnoRpJkTspMEmvDbC6vp9uA/BbAL8p/PX9PwTAgwt/75PSKZE6NwdoH+4op/XlkwCT9IIwog5uofmvwuLg0hUgkgZWWyQZ2ArgYQD8e0TthRsreGHiafKzLa7tdMnowCS9EcD7G2rtFdyXvQQneXXDa6PVJT0FwLMBPB/AkxrKPonkKQ2v6VR9VGCSTgfw1kSNPb2dY1Akv554TadqBXivDtNoijyvJI9KqdhHnVGASdoVwMfDk1yn9wrUOST9Xhq9SPK0aWip4L4P4FkkbVUZtAwOTNJjANwIYJeaO5kc1Lp+DcH9x9+OfU/Z6zoNCkzSMQAuqAH1LwCnevqbakTVDYkCuHcCsAUmVl5P8oN1Mtv++2DAJL0OwNk1iv0SwHEkt7e9gTGvk/Q8AOcBeEBNu8eS/NgQug0CTNIzgk0upvM3AbyM5C1D3NhQMiV5JXkJgEfVtLEvyR/3rUfvwCR5e8Pvo9jU4eX54X3fzJjyJH0bwAGRNj3V70byL33qNQSw7wF4fETJj5C0hWPxRZI/nP39VlWuJPmcPm+0V2CSLvI0F1HwZJLv7vMGppYl6V0ATo7o8V6Sb+tLz96ASfIK6j0RxS4naZPUpiuSbFt8TeTG3kTyA33ceC/Agm3QO7dV5XqST+5D4bnKkHRZsE1WqXhYH7bHvoB5WV5lyP0pyUfPtaP71EvSdQBsmywrV5F8Ztf2OgMLWyQfqlDkjzZHkbyhq6JLuF6SLf82Tj+sQt/jSXbamukELGw+Xlvhb2FTzQtJfm4Jnd2XjpI8ij5fYYrzftqBXTZBuwLzIsOLjbKy6VaEqVBrVo6nkDwpVdZ6vdbAgg/GNwCUbev7w/mAudoG23ZW6nXB9nh9xRaN3Q0Oausj0gXYRyMOM51Gl6T3AbAfot8H/o75e2pnda0XRsdKzDVtre81o+xckq9so2srYMEV7cqKBjuNLklak/tdu70NYZdb11/SJwC8ZO3/79fGybRmlLkJL8Yau9C1BXY+gGP7fndJOg1AmVXALmYvJumX9iClApbbupbkQW0arRllF5L09lOj0hiYpLsB+DmAPUpa6jq67NxiS39Z8Sboi0j+rNEdJlSOwPrf1SQb95OvqxllvwOwJ0mvppNLY0Uk2W36i32PrnCDVSNs1Zxf5B5pv0i+w5qKdbC6jLBwTzFb4+EkYxaiDdq3Aebd4XdU9MMWkt7nalUkPSg8DDFrv+Ubmt2pO5UEWJZ/KMmqB7S2fUlPBeCgi7JyNsk31AopVGgDzO+Tx5Y0cgPJ2P5Qkl6S9gXgl/9+kQv8OeHp0dNKq5II60iS9n/sVCRV9dnNJPdpIrwRsNCZP6xooNNSvigzEdpXA7TGnkpjwvJ9SdoaHGfLum5/kl4JJ5WmwE70d1GF5E7T4brMRGj+TvNIS/Z3HxtWABZzmWjkjNoUmJ/qp5UAu4XkXkmPSINKidAcFmRof64TPQWslU6S7HC0Z4mO15E8sE731b8nAwthqvZTKCv2M3cESu8lEZoXBUeQ/FuVAlPCCqPMHmT2JCsru6SG7zYB9lAAVSuzg9uacFIIJ0LbFkbaP0um1zILxnq1XhYYkQcmNi3uQfLXKX3RBJhte9+pELrPkFaI8ISmrB4d8urp8c5g86lHVmFKdEjVTyr6L3nh0QSYQ1mr7Ie7pob8pDxFkac0BZq36g3tjrnACg+cQ52qXN6S7YpNgL0cQJk3620kHewwSkmcHj8F4I4SQ+6o02DJ1GxgZUGFx5C8MKUDmwB7C4AzSoQ2/vhLUSxWJxFaXTODvrPKGpfkKbEs2vREkmfWKex/bwKsys53Nck2kZQp+lXW6QhtdFhhWqwybp9O8u0pHdIEmKPpjysROmpAW7H9ltAmgRWAVTnankcyKXtCE2B2pnEmmvVyJklbQCYpDaFNBisA8yvFr5b1cgVJR8bUlv8nYJeSPLK2RwasIGlUYJthSpwUWiT2YJApcbMsOiaDJmnURcdmWtZPAm3sZf2SPpyd18O+Jw6IryqjQ5M06ofzUkxTDih0jJqB2eIRS4s0GrSQhWdU09QSjL8OujhqZYiW9IQA7ZFTjzRJoxt/57698q0Q5L6TG5yk/QO0h08JrSZQf5DtFefZnesGpiNonJGg1P1NkoMJPT2W7fiuOA46PUoadwMzfKnP0UXALmSGFXV7k+Rt+E/W5JAaDNroLgIB2NyccK4JsJJyUkmyP4pHmjNyj7Z6rJkOB3XC8QbiXNzcHKbrkeXU5slF0tMDtPuPBW0yN7cwyubgSPolAC9t4t5WhBOiJD3S7jsGtMkcSQOwIV21nfbOMGJev3ZTMKxat7bYsAsxAoYWSyvb+Z02B1ftIYMh6pKUXBFgOYqxc5HkTKSGdq+IsDNIpibl3CCmJuRolGCIqcKNHOXhd9Y/OpMqCAgZ2rx6vGeF3FtJxj4HKtWZRbhRmBbHDuj7dIBV9R3YiaEkJ2s2tLKEZl2AxWaMcQL6ArCYXbF1UF9IbecYsGJx9IjfWfaCGqxIOiJAW9/UTfa3WFvY+H1cFZjuqsmubUW5yTvO6z0laZCg9JAo+VUAvOy+ccxkYmF6dJ5fL/1t4rqsbfuzCkoPo8xHb+S0DyVjfpZpHwK0nFilHFjs3TVNYpUAzOem5NRFO68655u6KEBzdtGcHGxHpOW8k4OtHixJOf3eDmDzT78XRpkzjeYElzsO36kq80lwGaDlFLLVsOaVQrYwNeYkzRuhzTNJcwFaToN+F7R5p0EPU2M+aGAHsGUcNBCg5aM8gGUc5VGYGvNhOQOYqlsbf1N0ycdRpfRSszqDAgvTYz7wrRmTaO3BgQVo+UjFnqCNAqzwXsuHlnYENyqwMNryscAdoI0OrGB7PCFyXkvslvLB2x2Ad7o0H23fvPsmGWFFNcP5LU7d5xFXdspE87vq/wr7QZ4FYGtbb+O+VJocWGFBYh8RQ0tKMNJXByTIcfYE54O0i/rkZTbACuDsQne0D7EGsPtEPeTQJWc6dZafxqc3DKnz7IAVwNmp05l3DM6/WKxyH33kQHbnW3Rqhu0kb+9DaN8yZgts/UYlOcbaAP3b0lNHOBjQO+Xb2pyv0pMOjcQsBtjaQsXhuw7KK/t5e2cVsOfYMadJ998Nv9Q8u416dODKiwQ2cJ/MWnwGNms8G5XLwDKwhfXAwtTNIywDW1gPLEzdPMIysIX1wMLUzSMsA1tYDyxM3f8CoEv0qc1mdT8AAAAASUVORK5CYII=";const E={components:{},setup(){let e=Q({myVideoList:[],timer:null,loading:!0,fxImg:q,closeImg:H,options:{width:"100%",height:"3.5rem",color:"#409eff",muted:!1,webFullScreen:!1,speedRate:["0.75","1.0","1.25","1.5","2.0"],autoPlay:!1,loop:!1,mirror:!1,ligthOff:!1,volume:.3,control:TextTrackCue,title:"",poster:""},shareFlag:!1,videoShare:"",shareImg:"",codeURl:""}),a=()=>{if(e.loading==!0){T.error("\u7F51\u7EDC\u4E0D\u597D\uFF0C\u8BF7\u7B49\u5F85 \u6216 \u5237\u65B0\u91CD\u65B0\u5206\u4EAB\uFF01\uFF01\uFF01");return}console.log(e.videoShare);let n=e.videoShare.split("/"),s=n[n.length-1];console.log(s),s=s.replace(".mp4",""),console.log(s),new html2canvas(document.getElementById("shareMain"),{allowTaint:!0,useCORS:!0,backgroundColor:"transparent"}).then(A=>{let o=new Image,t=A.toDataURL();o.src=t,o.setAttribute("crossOrigin","Anonymous");var l=document.createElement("a"),p=new MouseEvent("click");l.download=s||"photo",l.href=t,l.dispatchEvent(p)})},r=()=>{e.shareFlag=!1,e.shareImg="",e.codeURl=""},c=n=>{e.shareFlag=!0;let s=document.createElement("video");s.style="width:0;height:0;position:fixed;right:-100%;",s.muted="muted",s.crossOrigin="Anonymous",s.currentTime=15,s.onloadeddata=function(){let{width:o,height:t}=A(750,750,1375),l=document.createElement("canvas");l.width=o,l.height=t,l.getContext("2d").drawImage(this,0,0,o,t),e.shareImg=l.toDataURL("image/png"),e.timer=setTimeout(()=>{e.loading=!1,clearTimeout(e.timer)},1e3),document.body.removeChild(s)},s.src=JSON.parse(n.videoList)[0].url,e.videoShare=JSON.parse(n.videoList)[0].url,e.codeURl=JSON.parse(n.videoList)[0].url,document.body.appendChild(s),M(async()=>{let o=await P({text:JSON.parse(n.videoList)[0].url,size:100}),t="data:image/png;base64,"+o.base64;e.codeURl=t});function A(o,t,l){return o>=t?{width:t,height:l}:{width:o,height:Math.floor(o/t*l)}}},u=async()=>{let s=(await R()).result;s.forEach((A,o)=>{s[o].timestamp=D(A.timestamp)}),e.myVideoList=s,console.log(e.myVideoList,"state.myVideoList")};return O(()=>{u()}),h(f({},V(e)),{goShare:c,closeShare:r,saveImgFunc:a})}},X={id:"myVideoBox"},z={style:{"margin-top":"0.1rem"}},x=["onClick","src"],j=["src"],_={key:0,class:"shareBox"},$={id:"shareMain",class:"main"},ee=["src"],se=["src"],te=["src"],ae=I("\u4FDD\u5B58");function oe(e,a,r,c,u,n){const s=g("vue3VideoPlay"),A=g("van-loading"),o=g("van-button");return m(),d("div",null,[i("ul",X,[(m(!0),d(N,null,G(e.myVideoList,(t,l)=>(m(),d("li",{key:"video_"+l},[B(s,U({class:"video_"+l,src:JSON.parse(t.videoList)[0].url},e.options),null,16,["class","src"]),i("p",z,"\u4E0A\u4F20\u4EBA\uFF1A"+S(JSON.parse(t.user).username),1),i("p",null,S(t.timestamp),1),i("img",{onClick:p=>c.goShare(t),class:"fxImg",src:e.fxImg,alt:""},null,8,x),Y(i("video",{id:"shareB",src:JSON.parse(t.videoList)[0].url},null,8,j),[[W,!1]])]))),128))]),e.shareFlag?(m(),d("div",_,[i("div",$,[e.loading?(m(),K(A,{key:0,color:"#1989fa"})):k("",!0),i("img",{onClick:a[0]||(a[0]=(...t)=>c.closeShare&&c.closeShare(...t)),class:"close",src:e.closeImg,alt:""},null,8,ee),i("img",{class:"mainImg",src:e.shareImg,alt:""},null,8,se),i("img",{class:"codeImg",src:e.codeURl,alt:""},null,8,te),B(o,{onClick:c.saveImgFunc,style:{position:"absolute",bottom:"-12vw"},type:"primary",block:""},{default:Z(()=>[ae]),_:1},8,["onClick"])])])):k("",!0)])}var ie=L(E,[["render",oe],["__scopeId","data-v-f03e1214"]]);export{ie as default};
