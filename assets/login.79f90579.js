var R=Object.defineProperty,V=Object.defineProperties;var v=Object.getOwnPropertyDescriptors;var g=Object.getOwnPropertySymbols;var k=Object.prototype.hasOwnProperty,C=Object.prototype.propertyIsEnumerable;var c=(o,e,t)=>e in o?R(o,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):o[e]=t,f=(o,e)=>{for(var t in e||(e={}))k.call(e,t)&&c(o,t,e[t]);if(g)for(var t of g(e))C.call(e,t)&&c(o,t,e[t]);return o},h=(o,e)=>V(o,v(e));import{_ as y,b as B,d as N,r as x,e as I,t as S,a as z,c as E,f as i,w as _,g as b,M as u,h as F,l as M,i as w,j as m}from"./index.3803a45c.js";const P={beforeRouteEnter(o,e,t){t(s=>{s.store.commit("changeFooter",!1)})},setup(){const o=B(),e=N();let t=x({store:o,username:"",password:""}),s=()=>{e.push({path:"/phone_login"})},d=()=>{e.push({path:"/regist"})},p=async()=>{if(!t.username||!t.password)u.error("\u7528\u6237\u540D\u6216\u5BC6\u7801\u9519\u8BEF");else{let a=await F();if(a.code==1){console.log(a,"\u5934\u50CF");let l={username:t.username,password:t.password,headImg:a.result.imgurl},r=await M(l);u.success("\u767B\u5F55\u6210\u529F"),r.code==1?(e.push({path:"/home"}),console.log(r,"\u767B\u5F55\u6210\u529F"),localStorage.setItem("user",JSON.stringify(r.result[0]))):u.error(r.msg)}}};return I((a,l)=>{o.commit("changeFooter",!0)}),h(f({},S(t)),{submit:p,goRegister:d,goPhoneRegister:s})}},U=w(" \u767B\u5F55 "),j=w("\u767B\u5F55");function H(o,e,t,s,d,p){const a=m("t-navbar"),l=m("t-input"),r=m("t-button");return z(),E("div",null,[i(a,{onClickRight:s.submit},{default:_(()=>[U]),_:1},8,["onClickRight"]),b("div",null,[i(l,{modelValue:o.username,"onUpdate:modelValue":e[0]||(e[0]=n=>o.username=n),label:"\u7528\u6237\u540D",type:"text",clearable:""},null,8,["modelValue"]),i(l,{modelValue:o.password,"onUpdate:modelValue":e[1]||(e[1]=n=>o.password=n),label:"\u5BC6\u7801",type:"password",clearable:""},null,8,["modelValue"])]),b("p",{onClick:e[2]||(e[2]=(...n)=>s.goRegister&&s.goRegister(...n)),style:{color:"green","font-size":"0.3rem","font-weight":"bold","text-indent":"0.3rem","line-height":"1rem"}},"\u53BB\u6CE8\u518C"),i(r,{onClick:s.submit,theme:"primary",size:"large"},{default:_(()=>[j]),_:1},8,["onClick"])])}var O=y(P,[["render",H]]);export{O as default};
