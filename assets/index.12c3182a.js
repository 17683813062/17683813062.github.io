var dC=Object.defineProperty,fC=Object.defineProperties;var hC=Object.getOwnPropertyDescriptors;var If=Object.getOwnPropertySymbols;var vC=Object.prototype.hasOwnProperty,mC=Object.prototype.propertyIsEnumerable;var Lf=(e,t,n)=>t in e?dC(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Rf=(e,t)=>{for(var n in t||(t={}))vC.call(t,n)&&Lf(e,n,t[n]);if(If)for(var n of If(t))mC.call(t,n)&&Lf(e,n,t[n]);return e},xf=(e,t)=>fC(e,hC(t));const gC=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerpolicy&&(i.referrerPolicy=a.referrerpolicy),a.crossorigin==="use-credentials"?i.credentials="include":a.crossorigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(a){if(a.ep)return;a.ep=!0;const i=n(a);fetch(a.href,i)}};gC();function ad(e,t){const n=Object.create(null),r=e.split(",");for(let a=0;a<r.length;a++)n[r[a]]=!0;return t?a=>!!n[a.toLowerCase()]:a=>!!n[a]}const pC="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",yC=ad(pC);function uy(e){return!!e||e===""}function De(e){if(Fe(e)){const t={};for(let n=0;n<e.length;n++){const r=e[n],a=Et(r)?TC(r):De(r);if(a)for(const i in a)t[i]=a[i]}return t}else{if(Et(e))return e;if(At(e))return e}}const bC=/;(?![^(]*\))/g,SC=/:(.+)/;function TC(e){const t={};return e.split(bC).forEach(n=>{if(n){const r=n.split(SC);r.length>1&&(t[r[0].trim()]=r[1].trim())}}),t}function z(e){let t="";if(Et(e))t=e;else if(Fe(e))for(let n=0;n<e.length;n++){const r=z(e[n]);r&&(t+=r+" ")}else if(At(e))for(const n in e)e[n]&&(t+=n+" ");return t.trim()}function CC(e){if(!e)return null;let{class:t,style:n}=e;return t&&!Et(t)&&(e.class=z(t)),n&&(e.style=De(n)),e}const Ae=e=>Et(e)?e:e==null?"":Fe(e)||At(e)&&(e.toString===hy||!Ve(e.toString))?JSON.stringify(e,cy,2):String(e),cy=(e,t)=>t&&t.__v_isRef?cy(e,t.value):si(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((n,[r,a])=>(n[`${r} =>`]=a,n),{})}:dy(t)?{[`Set(${t.size})`]:[...t.values()]}:At(t)&&!Fe(t)&&!vy(t)?String(t):t,ct={},oi=[],Rn=()=>{},EC=()=>!1,wC=/^on[^a-z]/,ul=e=>wC.test(e),id=e=>e.startsWith("onUpdate:"),Kt=Object.assign,od=(e,t)=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)},OC=Object.prototype.hasOwnProperty,Je=(e,t)=>OC.call(e,t),Fe=Array.isArray,si=e=>cl(e)==="[object Map]",dy=e=>cl(e)==="[object Set]",Ve=e=>typeof e=="function",Et=e=>typeof e=="string",sd=e=>typeof e=="symbol",At=e=>e!==null&&typeof e=="object",fy=e=>At(e)&&Ve(e.then)&&Ve(e.catch),hy=Object.prototype.toString,cl=e=>hy.call(e),kC=e=>cl(e).slice(8,-1),vy=e=>cl(e)==="[object Object]",ld=e=>Et(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,Is=ad(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),dl=e=>{const t=Object.create(null);return n=>t[n]||(t[n]=e(n))},_C=/-(\w)/g,Qn=dl(e=>e.replace(_C,(t,n)=>n?n.toUpperCase():"")),AC=/\B([A-Z])/g,Ta=dl(e=>e.replace(AC,"-$1").toLowerCase()),fl=dl(e=>e.charAt(0).toUpperCase()+e.slice(1)),ru=dl(e=>e?`on${fl(e)}`:""),_o=(e,t)=>!Object.is(e,t),Ls=(e,t)=>{for(let n=0;n<e.length;n++)e[n](t)},Vs=(e,t,n)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value:n})},Hs=e=>{const t=parseFloat(e);return isNaN(t)?e:t};let $f;const DC=()=>$f||($f=typeof globalThis!="undefined"?globalThis:typeof self!="undefined"?self:typeof window!="undefined"?window:typeof global!="undefined"?global:{});let un;class PC{constructor(t=!1){this.active=!0,this.effects=[],this.cleanups=[],!t&&un&&(this.parent=un,this.index=(un.scopes||(un.scopes=[])).push(this)-1)}run(t){if(this.active){const n=un;try{return un=this,t()}finally{un=n}}}on(){un=this}off(){un=this.parent}stop(t){if(this.active){let n,r;for(n=0,r=this.effects.length;n<r;n++)this.effects[n].stop();for(n=0,r=this.cleanups.length;n<r;n++)this.cleanups[n]();if(this.scopes)for(n=0,r=this.scopes.length;n<r;n++)this.scopes[n].stop(!0);if(this.parent&&!t){const a=this.parent.scopes.pop();a&&a!==this&&(this.parent.scopes[this.index]=a,a.index=this.index)}this.active=!1}}}function IC(e,t=un){t&&t.active&&t.effects.push(e)}function LC(){return un}function RC(e){un&&un.cleanups.push(e)}const ud=e=>{const t=new Set(e);return t.w=0,t.n=0,t},my=e=>(e.w&Nr)>0,gy=e=>(e.n&Nr)>0,xC=({deps:e})=>{if(e.length)for(let t=0;t<e.length;t++)e[t].w|=Nr},$C=e=>{const{deps:t}=e;if(t.length){let n=0;for(let r=0;r<t.length;r++){const a=t[r];my(a)&&!gy(a)?a.delete(e):t[n++]=a,a.w&=~Nr,a.n&=~Nr}t.length=n}},ec=new WeakMap;let fo=0,Nr=1;const tc=30;let In;const ga=Symbol(""),nc=Symbol("");class cd{constructor(t,n=null,r){this.fn=t,this.scheduler=n,this.active=!0,this.deps=[],this.parent=void 0,IC(this,r)}run(){if(!this.active)return this.fn();let t=In,n=Mr;for(;t;){if(t===this)return;t=t.parent}try{return this.parent=In,In=this,Mr=!0,Nr=1<<++fo,fo<=tc?xC(this):Mf(this),this.fn()}finally{fo<=tc&&$C(this),Nr=1<<--fo,In=this.parent,Mr=n,this.parent=void 0,this.deferStop&&this.stop()}}stop(){In===this?this.deferStop=!0:this.active&&(Mf(this),this.onStop&&this.onStop(),this.active=!1)}}function Mf(e){const{deps:t}=e;if(t.length){for(let n=0;n<t.length;n++)t[n].delete(e);t.length=0}}let Mr=!0;const py=[];function Ci(){py.push(Mr),Mr=!1}function Ei(){const e=py.pop();Mr=e===void 0?!0:e}function vn(e,t,n){if(Mr&&In){let r=ec.get(e);r||ec.set(e,r=new Map);let a=r.get(n);a||r.set(n,a=ud()),yy(a)}}function yy(e,t){let n=!1;fo<=tc?gy(e)||(e.n|=Nr,n=!my(e)):n=!e.has(In),n&&(e.add(In),In.deps.push(e))}function vr(e,t,n,r,a,i){const o=ec.get(e);if(!o)return;let l=[];if(t==="clear")l=[...o.values()];else if(n==="length"&&Fe(e))o.forEach((u,s)=>{(s==="length"||s>=r)&&l.push(u)});else switch(n!==void 0&&l.push(o.get(n)),t){case"add":Fe(e)?ld(n)&&l.push(o.get("length")):(l.push(o.get(ga)),si(e)&&l.push(o.get(nc)));break;case"delete":Fe(e)||(l.push(o.get(ga)),si(e)&&l.push(o.get(nc)));break;case"set":si(e)&&l.push(o.get(ga));break}if(l.length===1)l[0]&&rc(l[0]);else{const u=[];for(const s of l)s&&u.push(...s);rc(ud(u))}}function rc(e,t){for(const n of Fe(e)?e:[...e])(n!==In||n.allowRecurse)&&(n.scheduler?n.scheduler():n.run())}const MC=ad("__proto__,__v_isRef,__isVue"),by=new Set(Object.getOwnPropertyNames(Symbol).map(e=>Symbol[e]).filter(sd)),FC=dd(),BC=dd(!1,!0),NC=dd(!0),Ff=jC();function jC(){const e={};return["includes","indexOf","lastIndexOf"].forEach(t=>{e[t]=function(...n){const r=it(this);for(let i=0,o=this.length;i<o;i++)vn(r,"get",i+"");const a=r[t](...n);return a===-1||a===!1?r[t](...n.map(it)):a}}),["push","pop","shift","unshift","splice"].forEach(t=>{e[t]=function(...n){Ci();const r=it(this)[t].apply(this,n);return Ei(),r}}),e}function dd(e=!1,t=!1){return function(r,a,i){if(a==="__v_isReactive")return!e;if(a==="__v_isReadonly")return e;if(a==="__v_isShallow")return t;if(a==="__v_raw"&&i===(e?t?nE:wy:t?Ey:Cy).get(r))return r;const o=Fe(r);if(!e&&o&&Je(Ff,a))return Reflect.get(Ff,a,i);const l=Reflect.get(r,a,i);return(sd(a)?by.has(a):MC(a))||(e||vn(r,"get",a),t)?l:_t(l)?!o||!ld(a)?l.value:l:At(l)?e?vd(l):Me(l):l}}const UC=Sy(),VC=Sy(!0);function Sy(e=!1){return function(n,r,a,i){let o=n[r];if(Ao(o)&&_t(o)&&!_t(a))return!1;if(!e&&!Ao(a)&&(Oy(a)||(a=it(a),o=it(o)),!Fe(n)&&_t(o)&&!_t(a)))return o.value=a,!0;const l=Fe(n)&&ld(r)?Number(r)<n.length:Je(n,r),u=Reflect.set(n,r,a,i);return n===it(i)&&(l?_o(a,o)&&vr(n,"set",r,a):vr(n,"add",r,a)),u}}function HC(e,t){const n=Je(e,t);e[t];const r=Reflect.deleteProperty(e,t);return r&&n&&vr(e,"delete",t,void 0),r}function zC(e,t){const n=Reflect.has(e,t);return(!sd(t)||!by.has(t))&&vn(e,"has",t),n}function GC(e){return vn(e,"iterate",Fe(e)?"length":ga),Reflect.ownKeys(e)}const Ty={get:FC,set:UC,deleteProperty:HC,has:zC,ownKeys:GC},KC={get:NC,set(e,t){return!0},deleteProperty(e,t){return!0}},WC=Kt({},Ty,{get:BC,set:VC}),fd=e=>e,hl=e=>Reflect.getPrototypeOf(e);function Wo(e,t,n=!1,r=!1){e=e.__v_raw;const a=it(e),i=it(t);t!==i&&!n&&vn(a,"get",t),!n&&vn(a,"get",i);const{has:o}=hl(a),l=r?fd:n?gd:Do;if(o.call(a,t))return l(e.get(t));if(o.call(a,i))return l(e.get(i));e!==a&&e.get(t)}function Yo(e,t=!1){const n=this.__v_raw,r=it(n),a=it(e);return e!==a&&!t&&vn(r,"has",e),!t&&vn(r,"has",a),e===a?n.has(e):n.has(e)||n.has(a)}function qo(e,t=!1){return e=e.__v_raw,!t&&vn(it(e),"iterate",ga),Reflect.get(e,"size",e)}function Bf(e){e=it(e);const t=it(this);return hl(t).has.call(t,e)||(t.add(e),vr(t,"add",e,e)),this}function Nf(e,t){t=it(t);const n=it(this),{has:r,get:a}=hl(n);let i=r.call(n,e);i||(e=it(e),i=r.call(n,e));const o=a.call(n,e);return n.set(e,t),i?_o(t,o)&&vr(n,"set",e,t):vr(n,"add",e,t),this}function jf(e){const t=it(this),{has:n,get:r}=hl(t);let a=n.call(t,e);a||(e=it(e),a=n.call(t,e)),r&&r.call(t,e);const i=t.delete(e);return a&&vr(t,"delete",e,void 0),i}function Uf(){const e=it(this),t=e.size!==0,n=e.clear();return t&&vr(e,"clear",void 0,void 0),n}function Xo(e,t){return function(r,a){const i=this,o=i.__v_raw,l=it(o),u=t?fd:e?gd:Do;return!e&&vn(l,"iterate",ga),o.forEach((s,c)=>r.call(a,u(s),u(c),i))}}function Zo(e,t,n){return function(...r){const a=this.__v_raw,i=it(a),o=si(i),l=e==="entries"||e===Symbol.iterator&&o,u=e==="keys"&&o,s=a[e](...r),c=n?fd:t?gd:Do;return!t&&vn(i,"iterate",u?nc:ga),{next(){const{value:d,done:v}=s.next();return v?{value:d,done:v}:{value:l?[c(d[0]),c(d[1])]:c(d),done:v}},[Symbol.iterator](){return this}}}}function br(e){return function(...t){return e==="delete"?!1:this}}function YC(){const e={get(i){return Wo(this,i)},get size(){return qo(this)},has:Yo,add:Bf,set:Nf,delete:jf,clear:Uf,forEach:Xo(!1,!1)},t={get(i){return Wo(this,i,!1,!0)},get size(){return qo(this)},has:Yo,add:Bf,set:Nf,delete:jf,clear:Uf,forEach:Xo(!1,!0)},n={get(i){return Wo(this,i,!0)},get size(){return qo(this,!0)},has(i){return Yo.call(this,i,!0)},add:br("add"),set:br("set"),delete:br("delete"),clear:br("clear"),forEach:Xo(!0,!1)},r={get(i){return Wo(this,i,!0,!0)},get size(){return qo(this,!0)},has(i){return Yo.call(this,i,!0)},add:br("add"),set:br("set"),delete:br("delete"),clear:br("clear"),forEach:Xo(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(i=>{e[i]=Zo(i,!1,!1),n[i]=Zo(i,!0,!1),t[i]=Zo(i,!1,!0),r[i]=Zo(i,!0,!0)}),[e,n,t,r]}const[qC,XC,ZC,JC]=YC();function hd(e,t){const n=t?e?JC:ZC:e?XC:qC;return(r,a,i)=>a==="__v_isReactive"?!e:a==="__v_isReadonly"?e:a==="__v_raw"?r:Reflect.get(Je(n,a)&&a in r?n:r,a,i)}const QC={get:hd(!1,!1)},eE={get:hd(!1,!0)},tE={get:hd(!0,!1)},Cy=new WeakMap,Ey=new WeakMap,wy=new WeakMap,nE=new WeakMap;function rE(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function aE(e){return e.__v_skip||!Object.isExtensible(e)?0:rE(kC(e))}function Me(e){return Ao(e)?e:md(e,!1,Ty,QC,Cy)}function iE(e){return md(e,!1,WC,eE,Ey)}function vd(e){return md(e,!0,KC,tE,wy)}function md(e,t,n,r,a){if(!At(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const i=a.get(e);if(i)return i;const o=aE(e);if(o===0)return e;const l=new Proxy(e,o===2?r:n);return a.set(e,l),l}function li(e){return Ao(e)?li(e.__v_raw):!!(e&&e.__v_isReactive)}function Ao(e){return!!(e&&e.__v_isReadonly)}function Oy(e){return!!(e&&e.__v_isShallow)}function ky(e){return li(e)||Ao(e)}function it(e){const t=e&&e.__v_raw;return t?it(t):e}function _y(e){return Vs(e,"__v_skip",!0),e}const Do=e=>At(e)?Me(e):e,gd=e=>At(e)?vd(e):e;function pd(e){Mr&&In&&(e=it(e),yy(e.dep||(e.dep=ud())))}function yd(e,t){e=it(e),e.dep&&rc(e.dep)}function _t(e){return!!(e&&e.__v_isRef===!0)}function q(e){return Ay(e,!1)}function oE(e){return Ay(e,!0)}function Ay(e,t){return _t(e)?e:new sE(e,t)}class sE{constructor(t,n){this.__v_isShallow=n,this.dep=void 0,this.__v_isRef=!0,this._rawValue=n?t:it(t),this._value=n?t:Do(t)}get value(){return pd(this),this._value}set value(t){t=this.__v_isShallow?t:it(t),_o(t,this._rawValue)&&(this._rawValue=t,this._value=this.__v_isShallow?t:Do(t),yd(this))}}function he(e){return _t(e)?e.value:e}const lE={get:(e,t,n)=>he(Reflect.get(e,t,n)),set:(e,t,n,r)=>{const a=e[t];return _t(a)&&!_t(n)?(a.value=n,!0):Reflect.set(e,t,n,r)}};function Dy(e){return li(e)?e:new Proxy(e,lE)}class uE{constructor(t){this.dep=void 0,this.__v_isRef=!0;const{get:n,set:r}=t(()=>pd(this),()=>yd(this));this._get=n,this._set=r}get value(){return this._get()}set value(t){this._set(t)}}function cE(e){return new uE(e)}function He(e){const t=Fe(e)?new Array(e.length):{};for(const n in e)t[n]=fE(e,n);return t}class dE{constructor(t,n,r){this._object=t,this._key=n,this._defaultValue=r,this.__v_isRef=!0}get value(){const t=this._object[this._key];return t===void 0?this._defaultValue:t}set value(t){this._object[this._key]=t}}function fE(e,t,n){const r=e[t];return _t(r)?r:new dE(e,t,n)}class hE{constructor(t,n,r,a){this._setter=n,this.dep=void 0,this.__v_isRef=!0,this._dirty=!0,this.effect=new cd(t,()=>{this._dirty||(this._dirty=!0,yd(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!a,this.__v_isReadonly=r}get value(){const t=it(this);return pd(t),(t._dirty||!t._cacheable)&&(t._dirty=!1,t._value=t.effect.run()),t._value}set value(t){this._setter(t)}}function vE(e,t,n=!1){let r,a;const i=Ve(e);return i?(r=e,a=Rn):(r=e.get,a=e.set),new hE(r,a,i||!a,n)}function Fr(e,t,n,r){let a;try{a=r?e(...r):e()}catch(i){vl(i,t,n)}return a}function Tn(e,t,n,r){if(Ve(e)){const i=Fr(e,t,n,r);return i&&fy(i)&&i.catch(o=>{vl(o,t,n)}),i}const a=[];for(let i=0;i<e.length;i++)a.push(Tn(e[i],t,n,r));return a}function vl(e,t,n,r=!0){const a=t?t.vnode:null;if(t){let i=t.parent;const o=t.proxy,l=n;for(;i;){const s=i.ec;if(s){for(let c=0;c<s.length;c++)if(s[c](e,o,l)===!1)return}i=i.parent}const u=t.appContext.config.errorHandler;if(u){Fr(u,null,10,[e,o,l]);return}}mE(e,n,a,r)}function mE(e,t,n,r=!0){console.error(e)}let zs=!1,ac=!1;const fn=[];let dr=0;const po=[];let ho=null,Za=0;const yo=[];let Lr=null,Ja=0;const Py=Promise.resolve();let bd=null,ic=null;function Re(e){const t=bd||Py;return e?t.then(this?e.bind(this):e):t}function gE(e){let t=dr+1,n=fn.length;for(;t<n;){const r=t+n>>>1;Po(fn[r])<e?t=r+1:n=r}return t}function Iy(e){(!fn.length||!fn.includes(e,zs&&e.allowRecurse?dr+1:dr))&&e!==ic&&(e.id==null?fn.push(e):fn.splice(gE(e.id),0,e),Ly())}function Ly(){!zs&&!ac&&(ac=!0,bd=Py.then($y))}function pE(e){const t=fn.indexOf(e);t>dr&&fn.splice(t,1)}function Ry(e,t,n,r){Fe(e)?n.push(...e):(!t||!t.includes(e,e.allowRecurse?r+1:r))&&n.push(e),Ly()}function yE(e){Ry(e,ho,po,Za)}function bE(e){Ry(e,Lr,yo,Ja)}function Sd(e,t=null){if(po.length){for(ic=t,ho=[...new Set(po)],po.length=0,Za=0;Za<ho.length;Za++)ho[Za]();ho=null,Za=0,ic=null,Sd(e,t)}}function xy(e){if(yo.length){const t=[...new Set(yo)];if(yo.length=0,Lr){Lr.push(...t);return}for(Lr=t,Lr.sort((n,r)=>Po(n)-Po(r)),Ja=0;Ja<Lr.length;Ja++)Lr[Ja]();Lr=null,Ja=0}}const Po=e=>e.id==null?1/0:e.id;function $y(e){ac=!1,zs=!0,Sd(e),fn.sort((n,r)=>Po(n)-Po(r));const t=Rn;try{for(dr=0;dr<fn.length;dr++){const n=fn[dr];n&&n.active!==!1&&Fr(n,null,14)}}finally{dr=0,fn.length=0,xy(),zs=!1,bd=null,(fn.length||po.length||yo.length)&&$y(e)}}function SE(e,t,...n){if(e.isUnmounted)return;const r=e.vnode.props||ct;let a=n;const i=t.startsWith("update:"),o=i&&t.slice(7);if(o&&o in r){const c=`${o==="modelValue"?"model":o}Modifiers`,{number:d,trim:v}=r[c]||ct;v?a=n.map(S=>S.trim()):d&&(a=n.map(Hs))}let l,u=r[l=ru(t)]||r[l=ru(Qn(t))];!u&&i&&(u=r[l=ru(Ta(t))]),u&&Tn(u,e,6,a);const s=r[l+"Once"];if(s){if(!e.emitted)e.emitted={};else if(e.emitted[l])return;e.emitted[l]=!0,Tn(s,e,6,a)}}function My(e,t,n=!1){const r=t.emitsCache,a=r.get(e);if(a!==void 0)return a;const i=e.emits;let o={},l=!1;if(!Ve(e)){const u=s=>{const c=My(s,t,!0);c&&(l=!0,Kt(o,c))};!n&&t.mixins.length&&t.mixins.forEach(u),e.extends&&u(e.extends),e.mixins&&e.mixins.forEach(u)}return!i&&!l?(r.set(e,null),null):(Fe(i)?i.forEach(u=>o[u]=null):Kt(o,i),r.set(e,o),o)}function ml(e,t){return!e||!ul(t)?!1:(t=t.slice(2).replace(/Once$/,""),Je(e,t[0].toLowerCase()+t.slice(1))||Je(e,Ta(t))||Je(e,t))}let Wt=null,gl=null;function Gs(e){const t=Wt;return Wt=e,gl=e&&e.type.__scopeId||null,t}function Ur(e){gl=e}function Vr(){gl=null}function Ue(e,t=Wt,n){if(!t||e._n)return e;const r=(...a)=>{r._d&&Qf(-1);const i=Gs(t),o=e(...a);return Gs(i),r._d&&Qf(1),o};return r._n=!0,r._c=!0,r._d=!0,r}function au(e){const{type:t,vnode:n,proxy:r,withProxy:a,props:i,propsOptions:[o],slots:l,attrs:u,emit:s,render:c,renderCache:d,data:v,setupState:S,ctx:E,inheritAttrs:m}=e;let f,g;const h=Gs(e);try{if(n.shapeFlag&4){const b=a||r;f=Yn(c.call(b,b,d,i,S,v,E)),g=u}else{const b=t;f=Yn(b.length>1?b(i,{attrs:u,slots:l,emit:s}):b(i,null)),g=t.props?u:TE(u)}}catch(b){So.length=0,vl(b,e,1),f=R(Cn)}let y=f;if(g&&m!==!1){const b=Object.keys(g),{shapeFlag:p}=y;b.length&&p&7&&(o&&b.some(id)&&(g=CE(g,o)),y=ba(y,g))}return n.dirs&&(y.dirs=y.dirs?y.dirs.concat(n.dirs):n.dirs),n.transition&&(y.transition=n.transition),f=y,Gs(h),f}const TE=e=>{let t;for(const n in e)(n==="class"||n==="style"||ul(n))&&((t||(t={}))[n]=e[n]);return t},CE=(e,t)=>{const n={};for(const r in e)(!id(r)||!(r.slice(9)in t))&&(n[r]=e[r]);return n};function EE(e,t,n){const{props:r,children:a,component:i}=e,{props:o,children:l,patchFlag:u}=t,s=i.emitsOptions;if(t.dirs||t.transition)return!0;if(n&&u>=0){if(u&1024)return!0;if(u&16)return r?Vf(r,o,s):!!o;if(u&8){const c=t.dynamicProps;for(let d=0;d<c.length;d++){const v=c[d];if(o[v]!==r[v]&&!ml(s,v))return!0}}}else return(a||l)&&(!l||!l.$stable)?!0:r===o?!1:r?o?Vf(r,o,s):!0:!!o;return!1}function Vf(e,t,n){const r=Object.keys(t);if(r.length!==Object.keys(e).length)return!0;for(let a=0;a<r.length;a++){const i=r[a];if(t[i]!==e[i]&&!ml(n,i))return!0}return!1}function wE({vnode:e,parent:t},n){for(;t&&t.subTree===e;)(e=t.vnode).el=n,t=t.parent}const OE=e=>e.__isSuspense;function kE(e,t){t&&t.pendingBranch?Fe(e)?t.effects.push(...e):t.effects.push(e):bE(e)}function dt(e,t){if(Ft){let n=Ft.provides;const r=Ft.parent&&Ft.parent.provides;r===n&&(n=Ft.provides=Object.create(r)),n[e]=t}}function Qe(e,t,n=!1){const r=Ft||Wt;if(r){const a=r.parent==null?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides;if(a&&e in a)return a[e];if(arguments.length>1)return n&&Ve(t)?t.call(r.proxy):t}}function pl(e,t){return yl(e,null,t)}function _E(e,t){return yl(e,null,{flush:"post"})}const Hf={};function oe(e,t,n){return yl(e,t,n)}function yl(e,t,{immediate:n,deep:r,flush:a,onTrack:i,onTrigger:o}=ct){const l=Ft;let u,s=!1,c=!1;if(_t(e)?(u=()=>e.value,s=Oy(e)):li(e)?(u=()=>e,r=!0):Fe(e)?(c=!0,s=e.some(li),u=()=>e.map(g=>{if(_t(g))return g.value;if(li(g))return ha(g);if(Ve(g))return Fr(g,l,2)})):Ve(e)?t?u=()=>Fr(e,l,2):u=()=>{if(!(l&&l.isUnmounted))return d&&d(),Tn(e,l,3,[v])}:u=Rn,t&&r){const g=u;u=()=>ha(g())}let d,v=g=>{d=f.onStop=()=>{Fr(g,l,4)}};if(Io)return v=Rn,t?n&&Tn(t,l,3,[u(),c?[]:void 0,v]):u(),Rn;let S=c?[]:Hf;const E=()=>{if(!!f.active)if(t){const g=f.run();(r||s||(c?g.some((h,y)=>_o(h,S[y])):_o(g,S)))&&(d&&d(),Tn(t,l,3,[g,S===Hf?void 0:S,v]),S=g)}else f.run()};E.allowRecurse=!!t;let m;a==="sync"?m=E:a==="post"?m=()=>Qt(E,l&&l.suspense):m=()=>{!l||l.isMounted?yE(E):E()};const f=new cd(u,m);return t?n?E():S=f.run():a==="post"?Qt(f.run.bind(f),l&&l.suspense):f.run(),()=>{f.stop(),l&&l.scope&&od(l.scope.effects,f)}}function AE(e,t,n){const r=this.proxy,a=Et(e)?e.includes(".")?Fy(r,e):()=>r[e]:e.bind(r,r);let i;Ve(t)?i=t:(i=t.handler,n=t);const o=Ft;fi(this);const l=yl(a,i.bind(r),n);return o?fi(o):ya(),l}function Fy(e,t){const n=t.split(".");return()=>{let r=e;for(let a=0;a<n.length&&r;a++)r=r[n[a]];return r}}function ha(e,t){if(!At(e)||e.__v_skip||(t=t||new Set,t.has(e)))return e;if(t.add(e),_t(e))ha(e.value,t);else if(Fe(e))for(let n=0;n<e.length;n++)ha(e[n],t);else if(dy(e)||si(e))e.forEach(n=>{ha(n,t)});else if(vy(e))for(const n in e)ha(e[n],t);return e}function DE(){const e={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return et(()=>{e.isMounted=!0}),er(()=>{e.isUnmounting=!0}),e}const pn=[Function,Array],PE={name:"BaseTransition",props:{mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:pn,onEnter:pn,onAfterEnter:pn,onEnterCancelled:pn,onBeforeLeave:pn,onLeave:pn,onAfterLeave:pn,onLeaveCancelled:pn,onBeforeAppear:pn,onAppear:pn,onAfterAppear:pn,onAppearCancelled:pn},setup(e,{slots:t}){const n=Be(),r=DE();let a;return()=>{const i=t.default&&jy(t.default(),!0);if(!i||!i.length)return;let o=i[0];if(i.length>1){for(const m of i)if(m.type!==Cn){o=m;break}}const l=it(e),{mode:u}=l;if(r.isLeaving)return iu(o);const s=zf(o);if(!s)return iu(o);const c=oc(s,l,r,n);sc(s,c);const d=n.subTree,v=d&&zf(d);let S=!1;const{getTransitionKey:E}=s.type;if(E){const m=E();a===void 0?a=m:m!==a&&(a=m,S=!0)}if(v&&v.type!==Cn&&(!da(s,v)||S)){const m=oc(v,l,r,n);if(sc(v,m),u==="out-in")return r.isLeaving=!0,m.afterLeave=()=>{r.isLeaving=!1,n.update()},iu(o);u==="in-out"&&s.type!==Cn&&(m.delayLeave=(f,g,h)=>{const y=Ny(r,v);y[String(v.key)]=v,f._leaveCb=()=>{g(),f._leaveCb=void 0,delete c.delayedLeave},c.delayedLeave=h})}return o}}},By=PE;function Ny(e,t){const{leavingVNodes:n}=e;let r=n.get(t.type);return r||(r=Object.create(null),n.set(t.type,r)),r}function oc(e,t,n,r){const{appear:a,mode:i,persisted:o=!1,onBeforeEnter:l,onEnter:u,onAfterEnter:s,onEnterCancelled:c,onBeforeLeave:d,onLeave:v,onAfterLeave:S,onLeaveCancelled:E,onBeforeAppear:m,onAppear:f,onAfterAppear:g,onAppearCancelled:h}=t,y=String(e.key),b=Ny(n,e),p=(w,k)=>{w&&Tn(w,r,9,k)},C={mode:i,persisted:o,beforeEnter(w){let k=l;if(!n.isMounted)if(a)k=m||l;else return;w._leaveCb&&w._leaveCb(!0);const _=b[y];_&&da(e,_)&&_.el._leaveCb&&_.el._leaveCb(),p(k,[w])},enter(w){let k=u,_=s,T=c;if(!n.isMounted)if(a)k=f||u,_=g||s,T=h||c;else return;let O=!1;const A=w._enterCb=P=>{O||(O=!0,P?p(T,[w]):p(_,[w]),C.delayedLeave&&C.delayedLeave(),w._enterCb=void 0)};k?(k(w,A),k.length<=1&&A()):A()},leave(w,k){const _=String(e.key);if(w._enterCb&&w._enterCb(!0),n.isUnmounting)return k();p(d,[w]);let T=!1;const O=w._leaveCb=A=>{T||(T=!0,k(),A?p(E,[w]):p(S,[w]),w._leaveCb=void 0,b[_]===e&&delete b[_])};b[_]=e,v?(v(w,O),v.length<=1&&O()):O()},clone(w){return oc(w,t,n,r)}};return C}function iu(e){if(bl(e))return e=ba(e),e.children=null,e}function zf(e){return bl(e)?e.children?e.children[0]:void 0:e}function sc(e,t){e.shapeFlag&6&&e.component?sc(e.component.subTree,t):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function jy(e,t=!1,n){let r=[],a=0;for(let i=0;i<e.length;i++){let o=e[i];const l=n==null?o.key:String(n)+String(o.key!=null?o.key:i);o.type===Ce?(o.patchFlag&128&&a++,r=r.concat(jy(o.children,t,l))):(t||o.type!==Cn)&&r.push(l!=null?ba(o,{key:l}):o)}if(a>1)for(let i=0;i<r.length;i++)r[i].patchFlag=-2;return r}function ee(e){return Ve(e)?{setup:e,name:e.name}:e}const Ks=e=>!!e.type.__asyncLoader,bl=e=>e.type.__isKeepAlive;function Ca(e,t){Uy(e,"a",t)}function Hr(e,t){Uy(e,"da",t)}function Uy(e,t,n=Ft){const r=e.__wdc||(e.__wdc=()=>{let a=n;for(;a;){if(a.isDeactivated)return;a=a.parent}return e()});if(Sl(t,r,n),n){let a=n.parent;for(;a&&a.parent;)bl(a.parent.vnode)&&IE(r,t,n,a),a=a.parent}}function IE(e,t,n,r){const a=Sl(t,e,r,!0);$n(()=>{od(r[t],a)},n)}function Sl(e,t,n=Ft,r=!1){if(n){const a=n[e]||(n[e]=[]),i=t.__weh||(t.__weh=(...o)=>{if(n.isUnmounted)return;Ci(),fi(n);const l=Tn(t,n,e,o);return ya(),Ei(),l});return r?a.unshift(i):a.push(i),i}}const pr=e=>(t,n=Ft)=>(!Io||e==="sp")&&Sl(e,t,n),Td=pr("bm"),et=pr("m"),Vy=pr("bu"),Cd=pr("u"),er=pr("bum"),$n=pr("um"),LE=pr("sp"),RE=pr("rtg"),xE=pr("rtc");function $E(e,t=Ft){Sl("ec",e,t)}let lc=!0;function ME(e){const t=zy(e),n=e.proxy,r=e.ctx;lc=!1,t.beforeCreate&&Gf(t.beforeCreate,e,"bc");const{data:a,computed:i,methods:o,watch:l,provide:u,inject:s,created:c,beforeMount:d,mounted:v,beforeUpdate:S,updated:E,activated:m,deactivated:f,beforeDestroy:g,beforeUnmount:h,destroyed:y,unmounted:b,render:p,renderTracked:C,renderTriggered:w,errorCaptured:k,serverPrefetch:_,expose:T,inheritAttrs:O,components:A,directives:P,filters:D}=t;if(s&&FE(s,r,null,e.appContext.config.unwrapInjectedRef),o)for(const L in o){const $=o[L];Ve($)&&(r[L]=$.bind(n))}if(a){const L=a.call(n,n);At(L)&&(e.data=Me(L))}if(lc=!0,i)for(const L in i){const $=i[L],M=Ve($)?$.bind(n,n):Ve($.get)?$.get.bind(n,n):Rn,j=!Ve($)&&Ve($.set)?$.set.bind(n):Rn,F=N({get:M,set:j});Object.defineProperty(r,L,{enumerable:!0,configurable:!0,get:()=>F.value,set:U=>F.value=U})}if(l)for(const L in l)Hy(l[L],r,n,L);if(u){const L=Ve(u)?u.call(n):u;Reflect.ownKeys(L).forEach($=>{dt($,L[$])})}c&&Gf(c,e,"c");function x(L,$){Fe($)?$.forEach(M=>L(M.bind(n))):$&&L($.bind(n))}if(x(Td,d),x(et,v),x(Vy,S),x(Cd,E),x(Ca,m),x(Hr,f),x($E,k),x(xE,C),x(RE,w),x(er,h),x($n,b),x(LE,_),Fe(T))if(T.length){const L=e.exposed||(e.exposed={});T.forEach($=>{Object.defineProperty(L,$,{get:()=>n[$],set:M=>n[$]=M})})}else e.exposed||(e.exposed={});p&&e.render===Rn&&(e.render=p),O!=null&&(e.inheritAttrs=O),A&&(e.components=A),P&&(e.directives=P)}function FE(e,t,n=Rn,r=!1){Fe(e)&&(e=uc(e));for(const a in e){const i=e[a];let o;At(i)?"default"in i?o=Qe(i.from||a,i.default,!0):o=Qe(i.from||a):o=Qe(i),_t(o)&&r?Object.defineProperty(t,a,{enumerable:!0,configurable:!0,get:()=>o.value,set:l=>o.value=l}):t[a]=o}}function Gf(e,t,n){Tn(Fe(e)?e.map(r=>r.bind(t.proxy)):e.bind(t.proxy),t,n)}function Hy(e,t,n,r){const a=r.includes(".")?Fy(n,r):()=>n[r];if(Et(e)){const i=t[e];Ve(i)&&oe(a,i)}else if(Ve(e))oe(a,e.bind(n));else if(At(e))if(Fe(e))e.forEach(i=>Hy(i,t,n,r));else{const i=Ve(e.handler)?e.handler.bind(n):t[e.handler];Ve(i)&&oe(a,i,e)}}function zy(e){const t=e.type,{mixins:n,extends:r}=t,{mixins:a,optionsCache:i,config:{optionMergeStrategies:o}}=e.appContext,l=i.get(t);let u;return l?u=l:!a.length&&!n&&!r?u=t:(u={},a.length&&a.forEach(s=>Ws(u,s,o,!0)),Ws(u,t,o)),i.set(t,u),u}function Ws(e,t,n,r=!1){const{mixins:a,extends:i}=t;i&&Ws(e,i,n,!0),a&&a.forEach(o=>Ws(e,o,n,!0));for(const o in t)if(!(r&&o==="expose")){const l=BE[o]||n&&n[o];e[o]=l?l(e[o],t[o]):t[o]}return e}const BE={data:Kf,props:ua,emits:ua,methods:ua,computed:ua,beforeCreate:Zt,created:Zt,beforeMount:Zt,mounted:Zt,beforeUpdate:Zt,updated:Zt,beforeDestroy:Zt,beforeUnmount:Zt,destroyed:Zt,unmounted:Zt,activated:Zt,deactivated:Zt,errorCaptured:Zt,serverPrefetch:Zt,components:ua,directives:ua,watch:jE,provide:Kf,inject:NE};function Kf(e,t){return t?e?function(){return Kt(Ve(e)?e.call(this,this):e,Ve(t)?t.call(this,this):t)}:t:e}function NE(e,t){return ua(uc(e),uc(t))}function uc(e){if(Fe(e)){const t={};for(let n=0;n<e.length;n++)t[e[n]]=e[n];return t}return e}function Zt(e,t){return e?[...new Set([].concat(e,t))]:t}function ua(e,t){return e?Kt(Kt(Object.create(null),e),t):t}function jE(e,t){if(!e)return t;if(!t)return e;const n=Kt(Object.create(null),e);for(const r in t)n[r]=Zt(e[r],t[r]);return n}function UE(e,t,n,r=!1){const a={},i={};Vs(i,Tl,1),e.propsDefaults=Object.create(null),Gy(e,t,a,i);for(const o in e.propsOptions[0])o in a||(a[o]=void 0);n?e.props=r?a:iE(a):e.type.props?e.props=a:e.props=i,e.attrs=i}function VE(e,t,n,r){const{props:a,attrs:i,vnode:{patchFlag:o}}=e,l=it(a),[u]=e.propsOptions;let s=!1;if((r||o>0)&&!(o&16)){if(o&8){const c=e.vnode.dynamicProps;for(let d=0;d<c.length;d++){let v=c[d];if(ml(e.emitsOptions,v))continue;const S=t[v];if(u)if(Je(i,v))S!==i[v]&&(i[v]=S,s=!0);else{const E=Qn(v);a[E]=cc(u,l,E,S,e,!1)}else S!==i[v]&&(i[v]=S,s=!0)}}}else{Gy(e,t,a,i)&&(s=!0);let c;for(const d in l)(!t||!Je(t,d)&&((c=Ta(d))===d||!Je(t,c)))&&(u?n&&(n[d]!==void 0||n[c]!==void 0)&&(a[d]=cc(u,l,d,void 0,e,!0)):delete a[d]);if(i!==l)for(const d in i)(!t||!Je(t,d)&&!0)&&(delete i[d],s=!0)}s&&vr(e,"set","$attrs")}function Gy(e,t,n,r){const[a,i]=e.propsOptions;let o=!1,l;if(t)for(let u in t){if(Is(u))continue;const s=t[u];let c;a&&Je(a,c=Qn(u))?!i||!i.includes(c)?n[c]=s:(l||(l={}))[c]=s:ml(e.emitsOptions,u)||(!(u in r)||s!==r[u])&&(r[u]=s,o=!0)}if(i){const u=it(n),s=l||ct;for(let c=0;c<i.length;c++){const d=i[c];n[d]=cc(a,u,d,s[d],e,!Je(s,d))}}return o}function cc(e,t,n,r,a,i){const o=e[n];if(o!=null){const l=Je(o,"default");if(l&&r===void 0){const u=o.default;if(o.type!==Function&&Ve(u)){const{propsDefaults:s}=a;n in s?r=s[n]:(fi(a),r=s[n]=u.call(null,t),ya())}else r=u}o[0]&&(i&&!l?r=!1:o[1]&&(r===""||r===Ta(n))&&(r=!0))}return r}function Ky(e,t,n=!1){const r=t.propsCache,a=r.get(e);if(a)return a;const i=e.props,o={},l=[];let u=!1;if(!Ve(e)){const c=d=>{u=!0;const[v,S]=Ky(d,t,!0);Kt(o,v),S&&l.push(...S)};!n&&t.mixins.length&&t.mixins.forEach(c),e.extends&&c(e.extends),e.mixins&&e.mixins.forEach(c)}if(!i&&!u)return r.set(e,oi),oi;if(Fe(i))for(let c=0;c<i.length;c++){const d=Qn(i[c]);Wf(d)&&(o[d]=ct)}else if(i)for(const c in i){const d=Qn(c);if(Wf(d)){const v=i[c],S=o[d]=Fe(v)||Ve(v)?{type:v}:v;if(S){const E=Xf(Boolean,S.type),m=Xf(String,S.type);S[0]=E>-1,S[1]=m<0||E<m,(E>-1||Je(S,"default"))&&l.push(d)}}}const s=[o,l];return r.set(e,s),s}function Wf(e){return e[0]!=="$"}function Yf(e){const t=e&&e.toString().match(/^\s*function (\w+)/);return t?t[1]:e===null?"null":""}function qf(e,t){return Yf(e)===Yf(t)}function Xf(e,t){return Fe(t)?t.findIndex(n=>qf(n,e)):Ve(t)&&qf(t,e)?0:-1}const Wy=e=>e[0]==="_"||e==="$stable",Ed=e=>Fe(e)?e.map(Yn):[Yn(e)],HE=(e,t,n)=>{const r=Ue((...a)=>Ed(t(...a)),n);return r._c=!1,r},Yy=(e,t,n)=>{const r=e._ctx;for(const a in e){if(Wy(a))continue;const i=e[a];if(Ve(i))t[a]=HE(a,i,r);else if(i!=null){const o=Ed(i);t[a]=()=>o}}},qy=(e,t)=>{const n=Ed(t);e.slots.default=()=>n},zE=(e,t)=>{if(e.vnode.shapeFlag&32){const n=t._;n?(e.slots=it(t),Vs(t,"_",n)):Yy(t,e.slots={})}else e.slots={},t&&qy(e,t);Vs(e.slots,Tl,1)},GE=(e,t,n)=>{const{vnode:r,slots:a}=e;let i=!0,o=ct;if(r.shapeFlag&32){const l=t._;l?n&&l===1?i=!1:(Kt(a,t),!n&&l===1&&delete a._):(i=!t.$stable,Yy(t,a)),o=t}else t&&(qy(e,t),o={default:1});if(i)for(const l in a)!Wy(l)&&!(l in o)&&delete a[l]};function Ge(e,t){const n=Wt;if(n===null)return e;const r=Cl(n)||n.proxy,a=e.dirs||(e.dirs=[]);for(let i=0;i<t.length;i++){let[o,l,u,s=ct]=t[i];Ve(o)&&(o={mounted:o,updated:o}),o.deep&&ha(l),a.push({dir:o,instance:r,value:l,oldValue:void 0,arg:u,modifiers:s})}return e}function ta(e,t,n,r){const a=e.dirs,i=t&&t.dirs;for(let o=0;o<a.length;o++){const l=a[o];i&&(l.oldValue=i[o].value);let u=l.dir[r];u&&(Ci(),Tn(u,n,8,[e.el,l,e,t]),Ei())}}function Xy(){return{app:null,config:{isNativeTag:EC,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let KE=0;function WE(e,t){return function(r,a=null){Ve(r)||(r=Object.assign({},r)),a!=null&&!At(a)&&(a=null);const i=Xy(),o=new Set;let l=!1;const u=i.app={_uid:KE++,_component:r,_props:a,_container:null,_context:i,_instance:null,version:gw,get config(){return i.config},set config(s){},use(s,...c){return o.has(s)||(s&&Ve(s.install)?(o.add(s),s.install(u,...c)):Ve(s)&&(o.add(s),s(u,...c))),u},mixin(s){return i.mixins.includes(s)||i.mixins.push(s),u},component(s,c){return c?(i.components[s]=c,u):i.components[s]},directive(s,c){return c?(i.directives[s]=c,u):i.directives[s]},mount(s,c,d){if(!l){const v=R(r,a);return v.appContext=i,c&&t?t(v,s):e(v,s,d),l=!0,u._container=s,s.__vue_app__=u,Cl(v.component)||v.component.proxy}},unmount(){l&&(e(null,u._container),delete u._container.__vue_app__)},provide(s,c){return i.provides[s]=c,u}};return u}}function dc(e,t,n,r,a=!1){if(Fe(e)){e.forEach((v,S)=>dc(v,t&&(Fe(t)?t[S]:t),n,r,a));return}if(Ks(r)&&!a)return;const i=r.shapeFlag&4?Cl(r.component)||r.component.proxy:r.el,o=a?null:i,{i:l,r:u}=e,s=t&&t.r,c=l.refs===ct?l.refs={}:l.refs,d=l.setupState;if(s!=null&&s!==u&&(Et(s)?(c[s]=null,Je(d,s)&&(d[s]=null)):_t(s)&&(s.value=null)),Ve(u))Fr(u,l,12,[o,c]);else{const v=Et(u),S=_t(u);if(v||S){const E=()=>{if(e.f){const m=v?c[u]:u.value;a?Fe(m)&&od(m,i):Fe(m)?m.includes(i)||m.push(i):v?(c[u]=[i],Je(d,u)&&(d[u]=c[u])):(u.value=[i],e.k&&(c[e.k]=u.value))}else v?(c[u]=o,Je(d,u)&&(d[u]=o)):_t(u)&&(u.value=o,e.k&&(c[e.k]=o))};o?(E.id=-1,Qt(E,n)):E()}}}const Qt=kE;function YE(e){return qE(e)}function qE(e,t){const n=DC();n.__VUE__=!0;const{insert:r,remove:a,patchProp:i,createElement:o,createText:l,createComment:u,setText:s,setElementText:c,parentNode:d,nextSibling:v,setScopeId:S=Rn,cloneNode:E,insertStaticContent:m}=e,f=(G,Y,Q,re=null,ie=null,le=null,Se=!1,fe=null,me=!!Y.dynamicChildren)=>{if(G===Y)return;G&&!da(G,Y)&&(re=ne(G),B(G,ie,le,!0),G=null),Y.patchFlag===-2&&(me=!1,Y.dynamicChildren=null);const{type:ue,ref:ke,shapeFlag:Ee}=Y;switch(ue){case _d:g(G,Y,Q,re);break;case Cn:h(G,Y,Q,re);break;case Rs:G==null&&y(Y,Q,re,Se);break;case Ce:P(G,Y,Q,re,ie,le,Se,fe,me);break;default:Ee&1?C(G,Y,Q,re,ie,le,Se,fe,me):Ee&6?D(G,Y,Q,re,ie,le,Se,fe,me):(Ee&64||Ee&128)&&ue.process(G,Y,Q,re,ie,le,Se,fe,me,ye)}ke!=null&&ie&&dc(ke,G&&G.ref,le,Y||G,!Y)},g=(G,Y,Q,re)=>{if(G==null)r(Y.el=l(Y.children),Q,re);else{const ie=Y.el=G.el;Y.children!==G.children&&s(ie,Y.children)}},h=(G,Y,Q,re)=>{G==null?r(Y.el=u(Y.children||""),Q,re):Y.el=G.el},y=(G,Y,Q,re)=>{[G.el,G.anchor]=m(G.children,Y,Q,re,G.el,G.anchor)},b=({el:G,anchor:Y},Q,re)=>{let ie;for(;G&&G!==Y;)ie=v(G),r(G,Q,re),G=ie;r(Y,Q,re)},p=({el:G,anchor:Y})=>{let Q;for(;G&&G!==Y;)Q=v(G),a(G),G=Q;a(Y)},C=(G,Y,Q,re,ie,le,Se,fe,me)=>{Se=Se||Y.type==="svg",G==null?w(Y,Q,re,ie,le,Se,fe,me):T(G,Y,ie,le,Se,fe,me)},w=(G,Y,Q,re,ie,le,Se,fe)=>{let me,ue;const{type:ke,props:Ee,shapeFlag:Ie,transition:$e,patchFlag:je,dirs:rt}=G;if(G.el&&E!==void 0&&je===-1)me=G.el=E(G.el);else{if(me=G.el=o(G.type,le,Ee&&Ee.is,Ee),Ie&8?c(me,G.children):Ie&16&&_(G.children,me,null,re,ie,le&&ke!=="foreignObject",Se,fe),rt&&ta(G,null,re,"created"),Ee){for(const Ze in Ee)Ze!=="value"&&!Is(Ze)&&i(me,Ze,null,Ee[Ze],le,G.children,re,ie,Z);"value"in Ee&&i(me,"value",null,Ee.value),(ue=Ee.onVnodeBeforeMount)&&Vn(ue,re,G)}k(me,G,G.scopeId,Se,re)}rt&&ta(G,null,re,"beforeMount");const Xe=(!ie||ie&&!ie.pendingBranch)&&$e&&!$e.persisted;Xe&&$e.beforeEnter(me),r(me,Y,Q),((ue=Ee&&Ee.onVnodeMounted)||Xe||rt)&&Qt(()=>{ue&&Vn(ue,re,G),Xe&&$e.enter(me),rt&&ta(G,null,re,"mounted")},ie)},k=(G,Y,Q,re,ie)=>{if(Q&&S(G,Q),re)for(let le=0;le<re.length;le++)S(G,re[le]);if(ie){let le=ie.subTree;if(Y===le){const Se=ie.vnode;k(G,Se,Se.scopeId,Se.slotScopeIds,ie.parent)}}},_=(G,Y,Q,re,ie,le,Se,fe,me=0)=>{for(let ue=me;ue<G.length;ue++){const ke=G[ue]=fe?Rr(G[ue]):Yn(G[ue]);f(null,ke,Y,Q,re,ie,le,Se,fe)}},T=(G,Y,Q,re,ie,le,Se)=>{const fe=Y.el=G.el;let{patchFlag:me,dynamicChildren:ue,dirs:ke}=Y;me|=G.patchFlag&16;const Ee=G.props||ct,Ie=Y.props||ct;let $e;Q&&na(Q,!1),($e=Ie.onVnodeBeforeUpdate)&&Vn($e,Q,Y,G),ke&&ta(Y,G,Q,"beforeUpdate"),Q&&na(Q,!0);const je=ie&&Y.type!=="foreignObject";if(ue?O(G.dynamicChildren,ue,fe,Q,re,je,le):Se||M(G,Y,fe,null,Q,re,je,le,!1),me>0){if(me&16)A(fe,Y,Ee,Ie,Q,re,ie);else if(me&2&&Ee.class!==Ie.class&&i(fe,"class",null,Ie.class,ie),me&4&&i(fe,"style",Ee.style,Ie.style,ie),me&8){const rt=Y.dynamicProps;for(let Xe=0;Xe<rt.length;Xe++){const Ze=rt[Xe],Vt=Ee[Ze],sn=Ie[Ze];(sn!==Vt||Ze==="value")&&i(fe,Ze,Vt,sn,ie,G.children,Q,re,Z)}}me&1&&G.children!==Y.children&&c(fe,Y.children)}else!Se&&ue==null&&A(fe,Y,Ee,Ie,Q,re,ie);(($e=Ie.onVnodeUpdated)||ke)&&Qt(()=>{$e&&Vn($e,Q,Y,G),ke&&ta(Y,G,Q,"updated")},re)},O=(G,Y,Q,re,ie,le,Se)=>{for(let fe=0;fe<Y.length;fe++){const me=G[fe],ue=Y[fe],ke=me.el&&(me.type===Ce||!da(me,ue)||me.shapeFlag&70)?d(me.el):Q;f(me,ue,ke,null,re,ie,le,Se,!0)}},A=(G,Y,Q,re,ie,le,Se)=>{if(Q!==re){for(const fe in re){if(Is(fe))continue;const me=re[fe],ue=Q[fe];me!==ue&&fe!=="value"&&i(G,fe,ue,me,Se,Y.children,ie,le,Z)}if(Q!==ct)for(const fe in Q)!Is(fe)&&!(fe in re)&&i(G,fe,Q[fe],null,Se,Y.children,ie,le,Z);"value"in re&&i(G,"value",Q.value,re.value)}},P=(G,Y,Q,re,ie,le,Se,fe,me)=>{const ue=Y.el=G?G.el:l(""),ke=Y.anchor=G?G.anchor:l("");let{patchFlag:Ee,dynamicChildren:Ie,slotScopeIds:$e}=Y;$e&&(fe=fe?fe.concat($e):$e),G==null?(r(ue,Q,re),r(ke,Q,re),_(Y.children,Q,ke,ie,le,Se,fe,me)):Ee>0&&Ee&64&&Ie&&G.dynamicChildren?(O(G.dynamicChildren,Ie,Q,ie,le,Se,fe),(Y.key!=null||ie&&Y===ie.subTree)&&wd(G,Y,!0)):M(G,Y,Q,ke,ie,le,Se,fe,me)},D=(G,Y,Q,re,ie,le,Se,fe,me)=>{Y.slotScopeIds=fe,G==null?Y.shapeFlag&512?ie.ctx.activate(Y,Q,re,Se,me):I(Y,Q,re,ie,le,Se,me):x(G,Y,me)},I=(G,Y,Q,re,ie,le,Se)=>{const fe=G.component=lw(G,re,ie);if(bl(G)&&(fe.ctx.renderer=ye),uw(fe),fe.asyncDep){if(ie&&ie.registerDep(fe,L),!G.el){const me=fe.subTree=R(Cn);h(null,me,Y,Q)}return}L(fe,G,Y,Q,ie,le,Se)},x=(G,Y,Q)=>{const re=Y.component=G.component;if(EE(G,Y,Q))if(re.asyncDep&&!re.asyncResolved){$(re,Y,Q);return}else re.next=Y,pE(re.update),re.update();else Y.component=G.component,Y.el=G.el,re.vnode=Y},L=(G,Y,Q,re,ie,le,Se)=>{const fe=()=>{if(G.isMounted){let{next:ke,bu:Ee,u:Ie,parent:$e,vnode:je}=G,rt=ke,Xe;na(G,!1),ke?(ke.el=je.el,$(G,ke,Se)):ke=je,Ee&&Ls(Ee),(Xe=ke.props&&ke.props.onVnodeBeforeUpdate)&&Vn(Xe,$e,ke,je),na(G,!0);const Ze=au(G),Vt=G.subTree;G.subTree=Ze,f(Vt,Ze,d(Vt.el),ne(Vt),G,ie,le),ke.el=Ze.el,rt===null&&wE(G,Ze.el),Ie&&Qt(Ie,ie),(Xe=ke.props&&ke.props.onVnodeUpdated)&&Qt(()=>Vn(Xe,$e,ke,je),ie)}else{let ke;const{el:Ee,props:Ie}=Y,{bm:$e,m:je,parent:rt}=G,Xe=Ks(Y);if(na(G,!1),$e&&Ls($e),!Xe&&(ke=Ie&&Ie.onVnodeBeforeMount)&&Vn(ke,rt,Y),na(G,!0),Ee&&be){const Ze=()=>{G.subTree=au(G),be(Ee,G.subTree,G,ie,null)};Xe?Y.type.__asyncLoader().then(()=>!G.isUnmounted&&Ze()):Ze()}else{const Ze=G.subTree=au(G);f(null,Ze,Q,re,G,ie,le),Y.el=Ze.el}if(je&&Qt(je,ie),!Xe&&(ke=Ie&&Ie.onVnodeMounted)){const Ze=Y;Qt(()=>Vn(ke,rt,Ze),ie)}Y.shapeFlag&256&&G.a&&Qt(G.a,ie),G.isMounted=!0,Y=Q=re=null}},me=G.effect=new cd(fe,()=>Iy(G.update),G.scope),ue=G.update=me.run.bind(me);ue.id=G.uid,na(G,!0),ue()},$=(G,Y,Q)=>{Y.component=G;const re=G.vnode.props;G.vnode=Y,G.next=null,VE(G,Y.props,re,Q),GE(G,Y.children,Q),Ci(),Sd(void 0,G.update),Ei()},M=(G,Y,Q,re,ie,le,Se,fe,me=!1)=>{const ue=G&&G.children,ke=G?G.shapeFlag:0,Ee=Y.children,{patchFlag:Ie,shapeFlag:$e}=Y;if(Ie>0){if(Ie&128){F(ue,Ee,Q,re,ie,le,Se,fe,me);return}else if(Ie&256){j(ue,Ee,Q,re,ie,le,Se,fe,me);return}}$e&8?(ke&16&&Z(ue,ie,le),Ee!==ue&&c(Q,Ee)):ke&16?$e&16?F(ue,Ee,Q,re,ie,le,Se,fe,me):Z(ue,ie,le,!0):(ke&8&&c(Q,""),$e&16&&_(Ee,Q,re,ie,le,Se,fe,me))},j=(G,Y,Q,re,ie,le,Se,fe,me)=>{G=G||oi,Y=Y||oi;const ue=G.length,ke=Y.length,Ee=Math.min(ue,ke);let Ie;for(Ie=0;Ie<Ee;Ie++){const $e=Y[Ie]=me?Rr(Y[Ie]):Yn(Y[Ie]);f(G[Ie],$e,Q,null,ie,le,Se,fe,me)}ue>ke?Z(G,ie,le,!0,!1,Ee):_(Y,Q,re,ie,le,Se,fe,me,Ee)},F=(G,Y,Q,re,ie,le,Se,fe,me)=>{let ue=0;const ke=Y.length;let Ee=G.length-1,Ie=ke-1;for(;ue<=Ee&&ue<=Ie;){const $e=G[ue],je=Y[ue]=me?Rr(Y[ue]):Yn(Y[ue]);if(da($e,je))f($e,je,Q,null,ie,le,Se,fe,me);else break;ue++}for(;ue<=Ee&&ue<=Ie;){const $e=G[Ee],je=Y[Ie]=me?Rr(Y[Ie]):Yn(Y[Ie]);if(da($e,je))f($e,je,Q,null,ie,le,Se,fe,me);else break;Ee--,Ie--}if(ue>Ee){if(ue<=Ie){const $e=Ie+1,je=$e<ke?Y[$e].el:re;for(;ue<=Ie;)f(null,Y[ue]=me?Rr(Y[ue]):Yn(Y[ue]),Q,je,ie,le,Se,fe,me),ue++}}else if(ue>Ie)for(;ue<=Ee;)B(G[ue],ie,le,!0),ue++;else{const $e=ue,je=ue,rt=new Map;for(ue=je;ue<=Ie;ue++){const Tt=Y[ue]=me?Rr(Y[ue]):Yn(Y[ue]);Tt.key!=null&&rt.set(Tt.key,ue)}let Xe,Ze=0;const Vt=Ie-je+1;let sn=!1,gn=0;const wn=new Array(Vt);for(ue=0;ue<Vt;ue++)wn[ue]=0;for(ue=$e;ue<=Ee;ue++){const Tt=G[ue];if(Ze>=Vt){B(Tt,ie,le,!0);continue}let Dt;if(Tt.key!=null)Dt=rt.get(Tt.key);else for(Xe=je;Xe<=Ie;Xe++)if(wn[Xe-je]===0&&da(Tt,Y[Xe])){Dt=Xe;break}Dt===void 0?B(Tt,ie,le,!0):(wn[Dt-je]=ue+1,Dt>=gn?gn=Dt:sn=!0,f(Tt,Y[Dt],Q,null,ie,le,Se,fe,me),Ze++)}const ar=sn?XE(wn):oi;for(Xe=ar.length-1,ue=Vt-1;ue>=0;ue--){const Tt=je+ue,Dt=Y[Tt],jn=Tt+1<ke?Y[Tt+1].el:re;wn[ue]===0?f(null,Dt,Q,jn,ie,le,Se,fe,me):sn&&(Xe<0||ue!==ar[Xe]?U(Dt,Q,jn,2):Xe--)}}},U=(G,Y,Q,re,ie=null)=>{const{el:le,type:Se,transition:fe,children:me,shapeFlag:ue}=G;if(ue&6){U(G.component.subTree,Y,Q,re);return}if(ue&128){G.suspense.move(Y,Q,re);return}if(ue&64){Se.move(G,Y,Q,ye);return}if(Se===Ce){r(le,Y,Q);for(let Ee=0;Ee<me.length;Ee++)U(me[Ee],Y,Q,re);r(G.anchor,Y,Q);return}if(Se===Rs){b(G,Y,Q);return}if(re!==2&&ue&1&&fe)if(re===0)fe.beforeEnter(le),r(le,Y,Q),Qt(()=>fe.enter(le),ie);else{const{leave:Ee,delayLeave:Ie,afterLeave:$e}=fe,je=()=>r(le,Y,Q),rt=()=>{Ee(le,()=>{je(),$e&&$e()})};Ie?Ie(le,je,rt):rt()}else r(le,Y,Q)},B=(G,Y,Q,re=!1,ie=!1)=>{const{type:le,props:Se,ref:fe,children:me,dynamicChildren:ue,shapeFlag:ke,patchFlag:Ee,dirs:Ie}=G;if(fe!=null&&dc(fe,null,Q,G,!0),ke&256){Y.ctx.deactivate(G);return}const $e=ke&1&&Ie,je=!Ks(G);let rt;if(je&&(rt=Se&&Se.onVnodeBeforeUnmount)&&Vn(rt,Y,G),ke&6)X(G.component,Q,re);else{if(ke&128){G.suspense.unmount(Q,re);return}$e&&ta(G,null,Y,"beforeUnmount"),ke&64?G.type.remove(G,Y,Q,ie,ye,re):ue&&(le!==Ce||Ee>0&&Ee&64)?Z(ue,Y,Q,!1,!0):(le===Ce&&Ee&384||!ie&&ke&16)&&Z(me,Y,Q),re&&K(G)}(je&&(rt=Se&&Se.onVnodeUnmounted)||$e)&&Qt(()=>{rt&&Vn(rt,Y,G),$e&&ta(G,null,Y,"unmounted")},Q)},K=G=>{const{type:Y,el:Q,anchor:re,transition:ie}=G;if(Y===Ce){V(Q,re);return}if(Y===Rs){p(G);return}const le=()=>{a(Q),ie&&!ie.persisted&&ie.afterLeave&&ie.afterLeave()};if(G.shapeFlag&1&&ie&&!ie.persisted){const{leave:Se,delayLeave:fe}=ie,me=()=>Se(Q,le);fe?fe(G.el,le,me):me()}else le()},V=(G,Y)=>{let Q;for(;G!==Y;)Q=v(G),a(G),G=Q;a(Y)},X=(G,Y,Q)=>{const{bum:re,scope:ie,update:le,subTree:Se,um:fe}=G;re&&Ls(re),ie.stop(),le&&(le.active=!1,B(Se,G,Y,Q)),fe&&Qt(fe,Y),Qt(()=>{G.isUnmounted=!0},Y),Y&&Y.pendingBranch&&!Y.isUnmounted&&G.asyncDep&&!G.asyncResolved&&G.suspenseId===Y.pendingId&&(Y.deps--,Y.deps===0&&Y.resolve())},Z=(G,Y,Q,re=!1,ie=!1,le=0)=>{for(let Se=le;Se<G.length;Se++)B(G[Se],Y,Q,re,ie)},ne=G=>G.shapeFlag&6?ne(G.component.subTree):G.shapeFlag&128?G.suspense.next():v(G.anchor||G.el),ae=(G,Y,Q)=>{G==null?Y._vnode&&B(Y._vnode,null,null,!0):f(Y._vnode||null,G,Y,null,null,null,Q),xy(),Y._vnode=G},ye={p:f,um:B,m:U,r:K,mt:I,mc:_,pc:M,pbc:O,n:ne,o:e};let de,be;return t&&([de,be]=t(ye)),{render:ae,hydrate:de,createApp:WE(ae,de)}}function na({effect:e,update:t},n){e.allowRecurse=t.allowRecurse=n}function wd(e,t,n=!1){const r=e.children,a=t.children;if(Fe(r)&&Fe(a))for(let i=0;i<r.length;i++){const o=r[i];let l=a[i];l.shapeFlag&1&&!l.dynamicChildren&&((l.patchFlag<=0||l.patchFlag===32)&&(l=a[i]=Rr(a[i]),l.el=o.el),n||wd(o,l))}}function XE(e){const t=e.slice(),n=[0];let r,a,i,o,l;const u=e.length;for(r=0;r<u;r++){const s=e[r];if(s!==0){if(a=n[n.length-1],e[a]<s){t[r]=a,n.push(r);continue}for(i=0,o=n.length-1;i<o;)l=i+o>>1,e[n[l]]<s?i=l+1:o=l;s<e[n[i]]&&(i>0&&(t[r]=n[i-1]),n[i]=r)}}for(i=n.length,o=n[i-1];i-- >0;)n[i]=o,o=t[o];return n}const ZE=e=>e.__isTeleport,bo=e=>e&&(e.disabled||e.disabled===""),Zf=e=>typeof SVGElement!="undefined"&&e instanceof SVGElement,fc=(e,t)=>{const n=e&&e.to;return Et(n)?t?t(n):null:n},JE={__isTeleport:!0,process(e,t,n,r,a,i,o,l,u,s){const{mc:c,pc:d,pbc:v,o:{insert:S,querySelector:E,createText:m,createComment:f}}=s,g=bo(t.props);let{shapeFlag:h,children:y,dynamicChildren:b}=t;if(e==null){const p=t.el=m(""),C=t.anchor=m("");S(p,n,r),S(C,n,r);const w=t.target=fc(t.props,E),k=t.targetAnchor=m("");w&&(S(k,w),o=o||Zf(w));const _=(T,O)=>{h&16&&c(y,T,O,a,i,o,l,u)};g?_(n,C):w&&_(w,k)}else{t.el=e.el;const p=t.anchor=e.anchor,C=t.target=e.target,w=t.targetAnchor=e.targetAnchor,k=bo(e.props),_=k?n:C,T=k?p:w;if(o=o||Zf(C),b?(v(e.dynamicChildren,b,_,a,i,o,l),wd(e,t,!0)):u||d(e,t,_,T,a,i,o,l,!1),g)k||Jo(t,n,p,s,1);else if((t.props&&t.props.to)!==(e.props&&e.props.to)){const O=t.target=fc(t.props,E);O&&Jo(t,O,null,s,0)}else k&&Jo(t,C,w,s,1)}},remove(e,t,n,r,{um:a,o:{remove:i}},o){const{shapeFlag:l,children:u,anchor:s,targetAnchor:c,target:d,props:v}=e;if(d&&i(c),(o||!bo(v))&&(i(s),l&16))for(let S=0;S<u.length;S++){const E=u[S];a(E,t,n,!0,!!E.dynamicChildren)}},move:Jo,hydrate:QE};function Jo(e,t,n,{o:{insert:r},m:a},i=2){i===0&&r(e.targetAnchor,t,n);const{el:o,anchor:l,shapeFlag:u,children:s,props:c}=e,d=i===2;if(d&&r(o,t,n),(!d||bo(c))&&u&16)for(let v=0;v<s.length;v++)a(s[v],t,n,2);d&&r(l,t,n)}function QE(e,t,n,r,a,i,{o:{nextSibling:o,parentNode:l,querySelector:u}},s){const c=t.target=fc(t.props,u);if(c){const d=c._lpa||c.firstChild;t.shapeFlag&16&&(bo(t.props)?(t.anchor=s(o(e),t,l(e),n,r,a,i),t.targetAnchor=d):(t.anchor=o(e),t.targetAnchor=s(d,t,c,n,r,a,i)),c._lpa=t.targetAnchor&&o(t.targetAnchor))}return t.anchor&&o(t.anchor)}const Bo=JE,Od="components",ew="directives";function ge(e,t){return kd(Od,e,!0,t)||e}const Zy=Symbol();function No(e){return Et(e)?kd(Od,e,!1)||e:e||Zy}function tw(e){return kd(ew,e)}function kd(e,t,n=!0,r=!1){const a=Wt||Ft;if(a){const i=a.type;if(e===Od){const l=fw(i);if(l&&(l===t||l===Qn(t)||l===fl(Qn(t))))return i}const o=Jf(a[e]||i[e],t)||Jf(a.appContext[e],t);return!o&&r?i:o}}function Jf(e,t){return e&&(e[t]||e[Qn(t)]||e[fl(Qn(t))])}const Ce=Symbol(void 0),_d=Symbol(void 0),Cn=Symbol(void 0),Rs=Symbol(void 0),So=[];let pa=null;function H(e=!1){So.push(pa=e?null:[])}function nw(){So.pop(),pa=So[So.length-1]||null}let Ys=1;function Qf(e){Ys+=e}function Jy(e){return e.dynamicChildren=Ys>0?pa||oi:null,nw(),Ys>0&&pa&&pa.push(e),e}function W(e,t,n,r,a,i){return Jy(J(e,t,n,r,a,i,!0))}function Oe(e,t,n,r,a){return Jy(R(e,t,n,r,a,!0))}function di(e){return e?e.__v_isVNode===!0:!1}function da(e,t){return e.type===t.type&&e.key===t.key}const Tl="__vInternal",Qy=({key:e})=>e!=null?e:null,xs=({ref:e,ref_key:t,ref_for:n})=>e!=null?Et(e)||_t(e)||Ve(e)?{i:Wt,r:e,k:t,f:!!n}:e:null;function J(e,t=null,n=null,r=0,a=null,i=e===Ce?0:1,o=!1,l=!1){const u={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&Qy(t),ref:t&&xs(t),scopeId:gl,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:i,patchFlag:r,dynamicProps:a,dynamicChildren:null,appContext:null};return l?(Ad(u,n),i&128&&e.normalize(u)):n&&(u.shapeFlag|=Et(n)?8:16),Ys>0&&!o&&pa&&(u.patchFlag>0||i&6)&&u.patchFlag!==32&&pa.push(u),u}const R=rw;function rw(e,t=null,n=null,r=0,a=null,i=!1){if((!e||e===Zy)&&(e=Cn),di(e)){const l=ba(e,t,!0);return n&&Ad(l,n),l}if(hw(e)&&(e=e.__vccOpts),t){t=e0(t);let{class:l,style:u}=t;l&&!Et(l)&&(t.class=z(l)),At(u)&&(ky(u)&&!Fe(u)&&(u=Kt({},u)),t.style=De(u))}const o=Et(e)?1:OE(e)?128:ZE(e)?64:At(e)?4:Ve(e)?2:0;return J(e,t,n,r,a,o,i,!0)}function e0(e){return e?ky(e)||Tl in e?Kt({},e):e:null}function ba(e,t,n=!1){const{props:r,ref:a,patchFlag:i,children:o}=e,l=t?We(r||{},t):r;return{__v_isVNode:!0,__v_skip:!0,type:e.type,props:l,key:l&&Qy(l),ref:t&&t.ref?n&&a?Fe(a)?a.concat(xs(t)):[a,xs(t)]:xs(t):a,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:o,target:e.target,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==Ce?i===-1?16:i|16:i,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:e.transition,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&ba(e.ssContent),ssFallback:e.ssFallback&&ba(e.ssFallback),el:e.el,anchor:e.anchor}}function tt(e=" ",t=0){return R(_d,null,e,t)}function se(e="",t=!1){return t?(H(),Oe(Cn,null,e)):R(Cn,null,e)}function Yn(e){return e==null||typeof e=="boolean"?R(Cn):Fe(e)?R(Ce,null,e.slice()):typeof e=="object"?Rr(e):R(_d,null,String(e))}function Rr(e){return e.el===null||e.memo?e:ba(e)}function Ad(e,t){let n=0;const{shapeFlag:r}=e;if(t==null)t=null;else if(Fe(t))n=16;else if(typeof t=="object")if(r&65){const a=t.default;a&&(a._c&&(a._d=!1),Ad(e,a()),a._c&&(a._d=!0));return}else{n=32;const a=t._;!a&&!(Tl in t)?t._ctx=Wt:a===3&&Wt&&(Wt.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else Ve(t)?(t={default:t,_ctx:Wt},n=32):(t=String(t),r&64?(n=16,t=[tt(t)]):n=8);e.children=t,e.shapeFlag|=n}function We(...e){const t={};for(let n=0;n<e.length;n++){const r=e[n];for(const a in r)if(a==="class")t.class!==r.class&&(t.class=z([t.class,r.class]));else if(a==="style")t.style=De([t.style,r.style]);else if(ul(a)){const i=t[a],o=r[a];o&&i!==o&&!(Fe(i)&&i.includes(o))&&(t[a]=i?[].concat(i,o):o)}else a!==""&&(t[a]=r[a])}return t}function Vn(e,t,n,r=null){Tn(e,t,7,[n,r])}function Ne(e,t,n,r){let a;const i=n&&n[r];if(Fe(e)||Et(e)){a=new Array(e.length);for(let o=0,l=e.length;o<l;o++)a[o]=t(e[o],o,void 0,i&&i[o])}else if(typeof e=="number"){a=new Array(e);for(let o=0;o<e;o++)a[o]=t(o+1,o,void 0,i&&i[o])}else if(At(e))if(e[Symbol.iterator])a=Array.from(e,(o,l)=>t(o,l,void 0,i&&i[l]));else{const o=Object.keys(e);a=new Array(o.length);for(let l=0,u=o.length;l<u;l++){const s=o[l];a[l]=t(e[s],s,l,i&&i[l])}}else a=[];return n&&(n[r]=a),a}function aw(e,t){for(let n=0;n<t.length;n++){const r=t[n];if(Fe(r))for(let a=0;a<r.length;a++)e[r[a].name]=r[a].fn;else r&&(e[r.name]=r.fn)}return e}function Ye(e,t,n={},r,a){if(Wt.isCE||Wt.parent&&Ks(Wt.parent)&&Wt.parent.isCE)return R("slot",t==="default"?null:{name:t},r&&r());let i=e[t];i&&i._c&&(i._d=!1),H();const o=i&&t0(i(n)),l=Oe(Ce,{key:n.key||`_${t}`},o||(r?r():[]),o&&e._===1?64:-2);return!a&&l.scopeId&&(l.slotScopeIds=[l.scopeId+"-s"]),i&&i._c&&(i._d=!0),l}function t0(e){return e.some(t=>di(t)?!(t.type===Cn||t.type===Ce&&!t0(t.children)):!0)?e:null}const hc=e=>e?n0(e)?Cl(e)||e.proxy:hc(e.parent):null,qs=Kt(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>hc(e.parent),$root:e=>hc(e.root),$emit:e=>e.emit,$options:e=>zy(e),$forceUpdate:e=>()=>Iy(e.update),$nextTick:e=>Re.bind(e.proxy),$watch:e=>AE.bind(e)}),iw={get({_:e},t){const{ctx:n,setupState:r,data:a,props:i,accessCache:o,type:l,appContext:u}=e;let s;if(t[0]!=="$"){const S=o[t];if(S!==void 0)switch(S){case 1:return r[t];case 2:return a[t];case 4:return n[t];case 3:return i[t]}else{if(r!==ct&&Je(r,t))return o[t]=1,r[t];if(a!==ct&&Je(a,t))return o[t]=2,a[t];if((s=e.propsOptions[0])&&Je(s,t))return o[t]=3,i[t];if(n!==ct&&Je(n,t))return o[t]=4,n[t];lc&&(o[t]=0)}}const c=qs[t];let d,v;if(c)return t==="$attrs"&&vn(e,"get",t),c(e);if((d=l.__cssModules)&&(d=d[t]))return d;if(n!==ct&&Je(n,t))return o[t]=4,n[t];if(v=u.config.globalProperties,Je(v,t))return v[t]},set({_:e},t,n){const{data:r,setupState:a,ctx:i}=e;return a!==ct&&Je(a,t)?(a[t]=n,!0):r!==ct&&Je(r,t)?(r[t]=n,!0):Je(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(i[t]=n,!0)},has({_:{data:e,setupState:t,accessCache:n,ctx:r,appContext:a,propsOptions:i}},o){let l;return!!n[o]||e!==ct&&Je(e,o)||t!==ct&&Je(t,o)||(l=i[0])&&Je(l,o)||Je(r,o)||Je(qs,o)||Je(a.config.globalProperties,o)},defineProperty(e,t,n){return n.get!=null?e._.accessCache[t]=0:Je(n,"value")&&this.set(e,t,n.value,null),Reflect.defineProperty(e,t,n)}},ow=Xy();let sw=0;function lw(e,t,n){const r=e.type,a=(t?t.appContext:e.appContext)||ow,i={uid:sw++,vnode:e,type:r,parent:t,appContext:a,root:null,next:null,subTree:null,effect:null,update:null,scope:new PC(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(a.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Ky(r,a),emitsOptions:My(r,a),emit:null,emitted:null,propsDefaults:ct,inheritAttrs:r.inheritAttrs,ctx:ct,data:ct,props:ct,attrs:ct,slots:ct,refs:ct,setupState:ct,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return i.ctx={_:i},i.root=t?t.root:i,i.emit=SE.bind(null,i),e.ce&&e.ce(i),i}let Ft=null;const Be=()=>Ft||Wt,fi=e=>{Ft=e,e.scope.on()},ya=()=>{Ft&&Ft.scope.off(),Ft=null};function n0(e){return e.vnode.shapeFlag&4}let Io=!1;function uw(e,t=!1){Io=t;const{props:n,children:r}=e.vnode,a=n0(e);UE(e,n,a,t),zE(e,r);const i=a?cw(e,t):void 0;return Io=!1,i}function cw(e,t){const n=e.type;e.accessCache=Object.create(null),e.proxy=_y(new Proxy(e.ctx,iw));const{setup:r}=n;if(r){const a=e.setupContext=r.length>1?a0(e):null;fi(e),Ci();const i=Fr(r,e,0,[e.props,a]);if(Ei(),ya(),fy(i)){if(i.then(ya,ya),t)return i.then(o=>{eh(e,o,t)}).catch(o=>{vl(o,e,0)});e.asyncDep=i}else eh(e,i,t)}else r0(e,t)}function eh(e,t,n){Ve(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:At(t)&&(e.setupState=Dy(t)),r0(e,n)}let th;function r0(e,t,n){const r=e.type;if(!e.render){if(!t&&th&&!r.render){const a=r.template;if(a){const{isCustomElement:i,compilerOptions:o}=e.appContext.config,{delimiters:l,compilerOptions:u}=r,s=Kt(Kt({isCustomElement:i,delimiters:l},o),u);r.render=th(a,s)}}e.render=r.render||Rn}fi(e),Ci(),ME(e),Ei(),ya()}function dw(e){return new Proxy(e.attrs,{get(t,n){return vn(e,"get","$attrs"),t[n]}})}function a0(e){const t=r=>{e.exposed=r||{}};let n;return{get attrs(){return n||(n=dw(e))},slots:e.slots,emit:e.emit,expose:t}}function Cl(e){if(e.exposed)return e.exposeProxy||(e.exposeProxy=new Proxy(Dy(_y(e.exposed)),{get(t,n){if(n in t)return t[n];if(n in qs)return qs[n](e)}}))}function fw(e){return Ve(e)&&e.displayName||e.name}function hw(e){return Ve(e)&&"__vccOpts"in e}const N=(e,t)=>vE(e,t,Io);function vw(){return mw().attrs}function mw(){const e=Be();return e.setupContext||(e.setupContext=a0(e))}function pt(e,t,n){const r=arguments.length;return r===2?At(t)&&!Fe(t)?di(t)?R(e,null,[t]):R(e,t):R(e,null,t):(r>3?n=Array.prototype.slice.call(arguments,2):r===3&&di(n)&&(n=[n]),R(e,t,n))}const gw="3.2.33",pw="http://www.w3.org/2000/svg",fa=typeof document!="undefined"?document:null,nh=fa&&fa.createElement("template"),yw={insert:(e,t,n)=>{t.insertBefore(e,n||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,n,r)=>{const a=t?fa.createElementNS(pw,e):fa.createElement(e,n?{is:n}:void 0);return e==="select"&&r&&r.multiple!=null&&a.setAttribute("multiple",r.multiple),a},createText:e=>fa.createTextNode(e),createComment:e=>fa.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>fa.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},cloneNode(e){const t=e.cloneNode(!0);return"_value"in e&&(t._value=e._value),t},insertStaticContent(e,t,n,r,a,i){const o=n?n.previousSibling:t.lastChild;if(a&&(a===i||a.nextSibling))for(;t.insertBefore(a.cloneNode(!0),n),!(a===i||!(a=a.nextSibling)););else{nh.innerHTML=r?`<svg>${e}</svg>`:e;const l=nh.content;if(r){const u=l.firstChild;for(;u.firstChild;)l.appendChild(u.firstChild);l.removeChild(u)}t.insertBefore(l,n)}return[o?o.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}};function bw(e,t,n){const r=e._vtc;r&&(t=(t?[t,...r]:[...r]).join(" ")),t==null?e.removeAttribute("class"):n?e.setAttribute("class",t):e.className=t}function Sw(e,t,n){const r=e.style,a=Et(n);if(n&&!a){for(const i in n)vc(r,i,n[i]);if(t&&!Et(t))for(const i in t)n[i]==null&&vc(r,i,"")}else{const i=r.display;a?t!==n&&(r.cssText=n):t&&e.removeAttribute("style"),"_vod"in e&&(r.display=i)}}const rh=/\s*!important$/;function vc(e,t,n){if(Fe(n))n.forEach(r=>vc(e,t,r));else if(n==null&&(n=""),t.startsWith("--"))e.setProperty(t,n);else{const r=Tw(e,t);rh.test(n)?e.setProperty(Ta(r),n.replace(rh,""),"important"):e[r]=n}}const ah=["Webkit","Moz","ms"],ou={};function Tw(e,t){const n=ou[t];if(n)return n;let r=Qn(t);if(r!=="filter"&&r in e)return ou[t]=r;r=fl(r);for(let a=0;a<ah.length;a++){const i=ah[a]+r;if(i in e)return ou[t]=i}return t}const ih="http://www.w3.org/1999/xlink";function Cw(e,t,n,r,a){if(r&&t.startsWith("xlink:"))n==null?e.removeAttributeNS(ih,t.slice(6,t.length)):e.setAttributeNS(ih,t,n);else{const i=yC(t);n==null||i&&!uy(n)?e.removeAttribute(t):e.setAttribute(t,i?"":n)}}function Ew(e,t,n,r,a,i,o){if(t==="innerHTML"||t==="textContent"){r&&o(r,a,i),e[t]=n==null?"":n;return}if(t==="value"&&e.tagName!=="PROGRESS"&&!e.tagName.includes("-")){e._value=n;const u=n==null?"":n;(e.value!==u||e.tagName==="OPTION")&&(e.value=u),n==null&&e.removeAttribute(t);return}let l=!1;if(n===""||n==null){const u=typeof e[t];u==="boolean"?n=uy(n):n==null&&u==="string"?(n="",l=!0):u==="number"&&(n=0,l=!0)}try{e[t]=n}catch{}l&&e.removeAttribute(t)}const[i0,ww]=(()=>{let e=Date.now,t=!1;if(typeof window!="undefined"){Date.now()>document.createEvent("Event").timeStamp&&(e=()=>performance.now());const n=navigator.userAgent.match(/firefox\/(\d+)/i);t=!!(n&&Number(n[1])<=53)}return[e,t]})();let mc=0;const Ow=Promise.resolve(),kw=()=>{mc=0},_w=()=>mc||(Ow.then(kw),mc=i0());function Qa(e,t,n,r){e.addEventListener(t,n,r)}function Aw(e,t,n,r){e.removeEventListener(t,n,r)}function Dw(e,t,n,r,a=null){const i=e._vei||(e._vei={}),o=i[t];if(r&&o)o.value=r;else{const[l,u]=Pw(t);if(r){const s=i[t]=Iw(r,a);Qa(e,l,s,u)}else o&&(Aw(e,l,o,u),i[t]=void 0)}}const oh=/(?:Once|Passive|Capture)$/;function Pw(e){let t;if(oh.test(e)){t={};let n;for(;n=e.match(oh);)e=e.slice(0,e.length-n[0].length),t[n[0].toLowerCase()]=!0}return[Ta(e.slice(2)),t]}function Iw(e,t){const n=r=>{const a=r.timeStamp||i0();(ww||a>=n.attached-1)&&Tn(Lw(r,n.value),t,5,[r])};return n.value=e,n.attached=_w(),n}function Lw(e,t){if(Fe(t)){const n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},t.map(r=>a=>!a._stopped&&r&&r(a))}else return t}const sh=/^on[a-z]/,Rw=(e,t,n,r,a=!1,i,o,l,u)=>{t==="class"?bw(e,r,a):t==="style"?Sw(e,n,r):ul(t)?id(t)||Dw(e,t,n,r,o):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):xw(e,t,r,a))?Ew(e,t,r,i,o,l,u):(t==="true-value"?e._trueValue=r:t==="false-value"&&(e._falseValue=r),Cw(e,t,r,a))};function xw(e,t,n,r){return r?!!(t==="innerHTML"||t==="textContent"||t in e&&sh.test(t)&&Ve(n)):t==="spellcheck"||t==="draggable"||t==="translate"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA"||sh.test(t)&&Et(n)?!1:t in e}function Dd(e){const t=Be();if(!t)return;const n=()=>gc(t.subTree,e(t.proxy));_E(n),et(()=>{const r=new MutationObserver(n);r.observe(t.subTree.el.parentNode,{childList:!0}),$n(()=>r.disconnect())})}function gc(e,t){if(e.shapeFlag&128){const n=e.suspense;e=n.activeBranch,n.pendingBranch&&!n.isHydrating&&n.effects.push(()=>{gc(n.activeBranch,t)})}for(;e.component;)e=e.component.subTree;if(e.shapeFlag&1&&e.el)lh(e.el,t);else if(e.type===Ce)e.children.forEach(n=>gc(n,t));else if(e.type===Rs){let{el:n,anchor:r}=e;for(;n&&(lh(n,t),n!==r);)n=n.nextSibling}}function lh(e,t){if(e.nodeType===1){const n=e.style;for(const r in t)n.setProperty(`--${r}`,t[r])}}const Sr="transition",Fi="animation",mn=(e,{slots:t})=>pt(By,$w(e),t);mn.displayName="Transition";const o0={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String};mn.props=Kt({},By.props,o0);const ra=(e,t=[])=>{Fe(e)?e.forEach(n=>n(...t)):e&&e(...t)},uh=e=>e?Fe(e)?e.some(t=>t.length>1):e.length>1:!1;function $w(e){const t={};for(const A in e)A in o0||(t[A]=e[A]);if(e.css===!1)return t;const{name:n="v",type:r,duration:a,enterFromClass:i=`${n}-enter-from`,enterActiveClass:o=`${n}-enter-active`,enterToClass:l=`${n}-enter-to`,appearFromClass:u=i,appearActiveClass:s=o,appearToClass:c=l,leaveFromClass:d=`${n}-leave-from`,leaveActiveClass:v=`${n}-leave-active`,leaveToClass:S=`${n}-leave-to`}=e,E=Mw(a),m=E&&E[0],f=E&&E[1],{onBeforeEnter:g,onEnter:h,onEnterCancelled:y,onLeave:b,onLeaveCancelled:p,onBeforeAppear:C=g,onAppear:w=h,onAppearCancelled:k=y}=t,_=(A,P,D)=>{Pa(A,P?c:l),Pa(A,P?s:o),D&&D()},T=(A,P)=>{Pa(A,S),Pa(A,v),P&&P()},O=A=>(P,D)=>{const I=A?w:h,x=()=>_(P,A,D);ra(I,[P,x]),ch(()=>{Pa(P,A?u:i),Tr(P,A?c:l),uh(I)||dh(P,r,m,x)})};return Kt(t,{onBeforeEnter(A){ra(g,[A]),Tr(A,i),Tr(A,o)},onBeforeAppear(A){ra(C,[A]),Tr(A,u),Tr(A,s)},onEnter:O(!1),onAppear:O(!0),onLeave(A,P){const D=()=>T(A,P);Tr(A,d),Nw(),Tr(A,v),ch(()=>{Pa(A,d),Tr(A,S),uh(b)||dh(A,r,f,D)}),ra(b,[A,D])},onEnterCancelled(A){_(A,!1),ra(y,[A])},onAppearCancelled(A){_(A,!0),ra(k,[A])},onLeaveCancelled(A){T(A),ra(p,[A])}})}function Mw(e){if(e==null)return null;if(At(e))return[su(e.enter),su(e.leave)];{const t=su(e);return[t,t]}}function su(e){return Hs(e)}function Tr(e,t){t.split(/\s+/).forEach(n=>n&&e.classList.add(n)),(e._vtc||(e._vtc=new Set)).add(t)}function Pa(e,t){t.split(/\s+/).forEach(r=>r&&e.classList.remove(r));const{_vtc:n}=e;n&&(n.delete(t),n.size||(e._vtc=void 0))}function ch(e){requestAnimationFrame(()=>{requestAnimationFrame(e)})}let Fw=0;function dh(e,t,n,r){const a=e._endId=++Fw,i=()=>{a===e._endId&&r()};if(n)return setTimeout(i,n);const{type:o,timeout:l,propCount:u}=Bw(e,t);if(!o)return r();const s=o+"end";let c=0;const d=()=>{e.removeEventListener(s,v),i()},v=S=>{S.target===e&&++c>=u&&d()};setTimeout(()=>{c<u&&d()},l+1),e.addEventListener(s,v)}function Bw(e,t){const n=window.getComputedStyle(e),r=E=>(n[E]||"").split(", "),a=r(Sr+"Delay"),i=r(Sr+"Duration"),o=fh(a,i),l=r(Fi+"Delay"),u=r(Fi+"Duration"),s=fh(l,u);let c=null,d=0,v=0;t===Sr?o>0&&(c=Sr,d=o,v=i.length):t===Fi?s>0&&(c=Fi,d=s,v=u.length):(d=Math.max(o,s),c=d>0?o>s?Sr:Fi:null,v=c?c===Sr?i.length:u.length:0);const S=c===Sr&&/\b(transform|all)(,|$)/.test(n[Sr+"Property"]);return{type:c,timeout:d,propCount:v,hasTransform:S}}function fh(e,t){for(;e.length<t.length;)e=e.concat(e);return Math.max(...t.map((n,r)=>hh(n)+hh(e[r])))}function hh(e){return Number(e.slice(0,-1).replace(",","."))*1e3}function Nw(){return document.body.offsetHeight}const vh=e=>{const t=e.props["onUpdate:modelValue"];return Fe(t)?n=>Ls(t,n):t};function jw(e){e.target.composing=!0}function mh(e){const t=e.target;t.composing&&(t.composing=!1,Uw(t,"input"))}function Uw(e,t){const n=document.createEvent("HTMLEvents");n.initEvent(t,!0,!0),e.dispatchEvent(n)}const s0={created(e,{modifiers:{lazy:t,trim:n,number:r}},a){e._assign=vh(a);const i=r||a.props&&a.props.type==="number";Qa(e,t?"change":"input",o=>{if(o.target.composing)return;let l=e.value;n?l=l.trim():i&&(l=Hs(l)),e._assign(l)}),n&&Qa(e,"change",()=>{e.value=e.value.trim()}),t||(Qa(e,"compositionstart",jw),Qa(e,"compositionend",mh),Qa(e,"change",mh))},mounted(e,{value:t}){e.value=t==null?"":t},beforeUpdate(e,{value:t,modifiers:{lazy:n,trim:r,number:a}},i){if(e._assign=vh(i),e.composing||document.activeElement===e&&(n||r&&e.value.trim()===t||(a||e.type==="number")&&Hs(e.value)===t))return;const o=t==null?"":t;e.value!==o&&(e.value=o)}},Vw=["ctrl","shift","alt","meta"],Hw={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>Vw.some(n=>e[`${n}Key`]&&!t.includes(n))},qn=(e,t)=>(n,...r)=>{for(let a=0;a<t.length;a++){const i=Hw[t[a]];if(i&&i(n,t))return}return e(n,...r)},zw={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},ei=(e,t)=>n=>{if(!("key"in n))return;const r=Ta(n.key);if(t.some(a=>a===r||zw[a]===r))return e(n)},qe={beforeMount(e,{value:t},{transition:n}){e._vod=e.style.display==="none"?"":e.style.display,n&&t?n.beforeEnter(e):Bi(e,t)},mounted(e,{value:t},{transition:n}){n&&t&&n.enter(e)},updated(e,{value:t,oldValue:n},{transition:r}){!t!=!n&&(r?t?(r.beforeEnter(e),Bi(e,!0),r.enter(e)):r.leave(e,()=>{Bi(e,!1)}):Bi(e,t))},beforeUnmount(e,{value:t}){Bi(e,t)}};function Bi(e,t){e.style.display=t?e._vod:"none"}const Gw=Kt({patchProp:Rw},yw);let gh;function Kw(){return gh||(gh=YE(Gw))}const jo=(...e)=>{const t=Kw().createApp(...e),{mount:n}=t;return t.mount=r=>{const a=Ww(r);if(!a)return;const i=t._component;!Ve(i)&&!i.render&&!i.template&&(i.template=a.innerHTML),a.innerHTML="";const o=n(a,!1,a instanceof SVGElement);return a instanceof Element&&(a.removeAttribute("v-cloak"),a.setAttribute("data-v-app","")),o},t};function Ww(e){return Et(e)?document.querySelector(e):e}function Yw(){return l0().__VUE_DEVTOOLS_GLOBAL_HOOK__}function l0(){return typeof navigator!="undefined"&&typeof window!="undefined"?window:typeof global!="undefined"?global:{}}const qw=typeof Proxy=="function",Xw="devtools-plugin:setup",Zw="plugin:settings:set";let Ia,pc;function Jw(){var e;return Ia!==void 0||(typeof window!="undefined"&&window.performance?(Ia=!0,pc=window.performance):typeof global!="undefined"&&((e=global.perf_hooks)===null||e===void 0?void 0:e.performance)?(Ia=!0,pc=global.perf_hooks.performance):Ia=!1),Ia}function Qw(){return Jw()?pc.now():Date.now()}class eO{constructor(t,n){this.target=null,this.targetQueue=[],this.onQueue=[],this.plugin=t,this.hook=n;const r={};if(t.settings)for(const o in t.settings){const l=t.settings[o];r[o]=l.defaultValue}const a=`__vue-devtools-plugin-settings__${t.id}`;let i=Object.assign({},r);try{const o=localStorage.getItem(a),l=JSON.parse(o);Object.assign(i,l)}catch{}this.fallbacks={getSettings(){return i},setSettings(o){try{localStorage.setItem(a,JSON.stringify(o))}catch{}i=o},now(){return Qw()}},n&&n.on(Zw,(o,l)=>{o===this.plugin.id&&this.fallbacks.setSettings(l)}),this.proxiedOn=new Proxy({},{get:(o,l)=>this.target?this.target.on[l]:(...u)=>{this.onQueue.push({method:l,args:u})}}),this.proxiedTarget=new Proxy({},{get:(o,l)=>this.target?this.target[l]:l==="on"?this.proxiedOn:Object.keys(this.fallbacks).includes(l)?(...u)=>(this.targetQueue.push({method:l,args:u,resolve:()=>{}}),this.fallbacks[l](...u)):(...u)=>new Promise(s=>{this.targetQueue.push({method:l,args:u,resolve:s})})})}async setRealTarget(t){this.target=t;for(const n of this.onQueue)this.target.on[n.method](...n.args);for(const n of this.targetQueue)n.resolve(await this.target[n.method](...n.args))}}function tO(e,t){const n=e,r=l0(),a=Yw(),i=qw&&n.enableEarlyProxy;if(a&&(r.__VUE_DEVTOOLS_PLUGIN_API_AVAILABLE__||!i))a.emit(Xw,e,t);else{const o=i?new eO(n,a):null;(r.__VUE_DEVTOOLS_PLUGINS__=r.__VUE_DEVTOOLS_PLUGINS__||[]).push({pluginDescriptor:n,setupFn:t,proxy:o}),o&&t(o.proxiedTarget)}}/*!
 * vuex v4.0.2
 * (c) 2021 Evan You
 * @license MIT
 */var u0="store";function c0(e){return e===void 0&&(e=null),Qe(e!==null?e:u0)}function wi(e,t){Object.keys(e).forEach(function(n){return t(e[n],n)})}function nO(e){return e!==null&&typeof e=="object"}function rO(e){return e&&typeof e.then=="function"}function aO(e,t){return function(){return e(t)}}function d0(e,t,n){return t.indexOf(e)<0&&(n&&n.prepend?t.unshift(e):t.push(e)),function(){var r=t.indexOf(e);r>-1&&t.splice(r,1)}}function f0(e,t){e._actions=Object.create(null),e._mutations=Object.create(null),e._wrappedGetters=Object.create(null),e._modulesNamespaceMap=Object.create(null);var n=e.state;El(e,n,[],e._modules.root,!0),Pd(e,n,t)}function Pd(e,t,n){var r=e._state;e.getters={},e._makeLocalGettersCache=Object.create(null);var a=e._wrappedGetters,i={};wi(a,function(o,l){i[l]=aO(o,e),Object.defineProperty(e.getters,l,{get:function(){return i[l]()},enumerable:!0})}),e._state=Me({data:t}),e.strict&&uO(e),r&&n&&e._withCommit(function(){r.data=null})}function El(e,t,n,r,a){var i=!n.length,o=e._modules.getNamespace(n);if(r.namespaced&&(e._modulesNamespaceMap[o],e._modulesNamespaceMap[o]=r),!i&&!a){var l=Id(t,n.slice(0,-1)),u=n[n.length-1];e._withCommit(function(){l[u]=r.state})}var s=r.context=iO(e,o,n);r.forEachMutation(function(c,d){var v=o+d;oO(e,v,c,s)}),r.forEachAction(function(c,d){var v=c.root?d:o+d,S=c.handler||c;sO(e,v,S,s)}),r.forEachGetter(function(c,d){var v=o+d;lO(e,v,c,s)}),r.forEachChild(function(c,d){El(e,t,n.concat(d),c,a)})}function iO(e,t,n){var r=t==="",a={dispatch:r?e.dispatch:function(i,o,l){var u=Xs(i,o,l),s=u.payload,c=u.options,d=u.type;return(!c||!c.root)&&(d=t+d),e.dispatch(d,s)},commit:r?e.commit:function(i,o,l){var u=Xs(i,o,l),s=u.payload,c=u.options,d=u.type;(!c||!c.root)&&(d=t+d),e.commit(d,s,c)}};return Object.defineProperties(a,{getters:{get:r?function(){return e.getters}:function(){return h0(e,t)}},state:{get:function(){return Id(e.state,n)}}}),a}function h0(e,t){if(!e._makeLocalGettersCache[t]){var n={},r=t.length;Object.keys(e.getters).forEach(function(a){if(a.slice(0,r)===t){var i=a.slice(r);Object.defineProperty(n,i,{get:function(){return e.getters[a]},enumerable:!0})}}),e._makeLocalGettersCache[t]=n}return e._makeLocalGettersCache[t]}function oO(e,t,n,r){var a=e._mutations[t]||(e._mutations[t]=[]);a.push(function(o){n.call(e,r.state,o)})}function sO(e,t,n,r){var a=e._actions[t]||(e._actions[t]=[]);a.push(function(o){var l=n.call(e,{dispatch:r.dispatch,commit:r.commit,getters:r.getters,state:r.state,rootGetters:e.getters,rootState:e.state},o);return rO(l)||(l=Promise.resolve(l)),e._devtoolHook?l.catch(function(u){throw e._devtoolHook.emit("vuex:error",u),u}):l})}function lO(e,t,n,r){e._wrappedGetters[t]||(e._wrappedGetters[t]=function(i){return n(r.state,r.getters,i.state,i.getters)})}function uO(e){oe(function(){return e._state.data},function(){},{deep:!0,flush:"sync"})}function Id(e,t){return t.reduce(function(n,r){return n[r]},e)}function Xs(e,t,n){return nO(e)&&e.type&&(n=t,t=e,e=e.type),{type:e,payload:t,options:n}}var cO="vuex bindings",ph="vuex:mutations",lu="vuex:actions",La="vuex",dO=0;function fO(e,t){tO({id:"org.vuejs.vuex",app:e,label:"Vuex",homepage:"https://next.vuex.vuejs.org/",logo:"https://vuejs.org/images/icons/favicon-96x96.png",packageName:"vuex",componentStateTypes:[cO]},function(n){n.addTimelineLayer({id:ph,label:"Vuex Mutations",color:yh}),n.addTimelineLayer({id:lu,label:"Vuex Actions",color:yh}),n.addInspector({id:La,label:"Vuex",icon:"storage",treeFilterPlaceholder:"Filter stores..."}),n.on.getInspectorTree(function(r){if(r.app===e&&r.inspectorId===La)if(r.filter){var a=[];p0(a,t._modules.root,r.filter,""),r.rootNodes=a}else r.rootNodes=[g0(t._modules.root,"")]}),n.on.getInspectorState(function(r){if(r.app===e&&r.inspectorId===La){var a=r.nodeId;h0(t,a),r.state=mO(pO(t._modules,a),a==="root"?t.getters:t._makeLocalGettersCache,a)}}),n.on.editInspectorState(function(r){if(r.app===e&&r.inspectorId===La){var a=r.nodeId,i=r.path;a!=="root"&&(i=a.split("/").filter(Boolean).concat(i)),t._withCommit(function(){r.set(t._state.data,i,r.state.value)})}}),t.subscribe(function(r,a){var i={};r.payload&&(i.payload=r.payload),i.state=a,n.notifyComponentUpdate(),n.sendInspectorTree(La),n.sendInspectorState(La),n.addTimelineEvent({layerId:ph,event:{time:Date.now(),title:r.type,data:i}})}),t.subscribeAction({before:function(r,a){var i={};r.payload&&(i.payload=r.payload),r._id=dO++,r._time=Date.now(),i.state=a,n.addTimelineEvent({layerId:lu,event:{time:r._time,title:r.type,groupId:r._id,subtitle:"start",data:i}})},after:function(r,a){var i={},o=Date.now()-r._time;i.duration={_custom:{type:"duration",display:o+"ms",tooltip:"Action duration",value:o}},r.payload&&(i.payload=r.payload),i.state=a,n.addTimelineEvent({layerId:lu,event:{time:Date.now(),title:r.type,groupId:r._id,subtitle:"end",data:i}})}})})}var yh=8702998,hO=6710886,vO=16777215,v0={label:"namespaced",textColor:vO,backgroundColor:hO};function m0(e){return e&&e!=="root"?e.split("/").slice(-2,-1)[0]:"Root"}function g0(e,t){return{id:t||"root",label:m0(t),tags:e.namespaced?[v0]:[],children:Object.keys(e._children).map(function(n){return g0(e._children[n],t+n+"/")})}}function p0(e,t,n,r){r.includes(n)&&e.push({id:r||"root",label:r.endsWith("/")?r.slice(0,r.length-1):r||"Root",tags:t.namespaced?[v0]:[]}),Object.keys(t._children).forEach(function(a){p0(e,t._children[a],n,r+a+"/")})}function mO(e,t,n){t=n==="root"?t:t[n];var r=Object.keys(t),a={state:Object.keys(e.state).map(function(o){return{key:o,editable:!0,value:e.state[o]}})};if(r.length){var i=gO(t);a.getters=Object.keys(i).map(function(o){return{key:o.endsWith("/")?m0(o):o,editable:!1,value:yc(function(){return i[o]})}})}return a}function gO(e){var t={};return Object.keys(e).forEach(function(n){var r=n.split("/");if(r.length>1){var a=t,i=r.pop();r.forEach(function(o){a[o]||(a[o]={_custom:{value:{},display:o,tooltip:"Module",abstract:!0}}),a=a[o]._custom.value}),a[i]=yc(function(){return e[n]})}else t[n]=yc(function(){return e[n]})}),t}function pO(e,t){var n=t.split("/").filter(function(r){return r});return n.reduce(function(r,a,i){var o=r[a];if(!o)throw new Error('Missing module "'+a+'" for path "'+t+'".');return i===n.length-1?o:o._children},t==="root"?e:e.root._children)}function yc(e){try{return e()}catch(t){return t}}var Mn=function(t,n){this.runtime=n,this._children=Object.create(null),this._rawModule=t;var r=t.state;this.state=(typeof r=="function"?r():r)||{}},y0={namespaced:{configurable:!0}};y0.namespaced.get=function(){return!!this._rawModule.namespaced};Mn.prototype.addChild=function(t,n){this._children[t]=n};Mn.prototype.removeChild=function(t){delete this._children[t]};Mn.prototype.getChild=function(t){return this._children[t]};Mn.prototype.hasChild=function(t){return t in this._children};Mn.prototype.update=function(t){this._rawModule.namespaced=t.namespaced,t.actions&&(this._rawModule.actions=t.actions),t.mutations&&(this._rawModule.mutations=t.mutations),t.getters&&(this._rawModule.getters=t.getters)};Mn.prototype.forEachChild=function(t){wi(this._children,t)};Mn.prototype.forEachGetter=function(t){this._rawModule.getters&&wi(this._rawModule.getters,t)};Mn.prototype.forEachAction=function(t){this._rawModule.actions&&wi(this._rawModule.actions,t)};Mn.prototype.forEachMutation=function(t){this._rawModule.mutations&&wi(this._rawModule.mutations,t)};Object.defineProperties(Mn.prototype,y0);var Ea=function(t){this.register([],t,!1)};Ea.prototype.get=function(t){return t.reduce(function(n,r){return n.getChild(r)},this.root)};Ea.prototype.getNamespace=function(t){var n=this.root;return t.reduce(function(r,a){return n=n.getChild(a),r+(n.namespaced?a+"/":"")},"")};Ea.prototype.update=function(t){b0([],this.root,t)};Ea.prototype.register=function(t,n,r){var a=this;r===void 0&&(r=!0);var i=new Mn(n,r);if(t.length===0)this.root=i;else{var o=this.get(t.slice(0,-1));o.addChild(t[t.length-1],i)}n.modules&&wi(n.modules,function(l,u){a.register(t.concat(u),l,r)})};Ea.prototype.unregister=function(t){var n=this.get(t.slice(0,-1)),r=t[t.length-1],a=n.getChild(r);!a||!a.runtime||n.removeChild(r)};Ea.prototype.isRegistered=function(t){var n=this.get(t.slice(0,-1)),r=t[t.length-1];return n?n.hasChild(r):!1};function b0(e,t,n){if(t.update(n),n.modules)for(var r in n.modules){if(!t.getChild(r))return;b0(e.concat(r),t.getChild(r),n.modules[r])}}function yO(e){return new an(e)}var an=function(t){var n=this;t===void 0&&(t={});var r=t.plugins;r===void 0&&(r=[]);var a=t.strict;a===void 0&&(a=!1);var i=t.devtools;this._committing=!1,this._actions=Object.create(null),this._actionSubscribers=[],this._mutations=Object.create(null),this._wrappedGetters=Object.create(null),this._modules=new Ea(t),this._modulesNamespaceMap=Object.create(null),this._subscribers=[],this._makeLocalGettersCache=Object.create(null),this._devtools=i;var o=this,l=this,u=l.dispatch,s=l.commit;this.dispatch=function(v,S){return u.call(o,v,S)},this.commit=function(v,S,E){return s.call(o,v,S,E)},this.strict=a;var c=this._modules.root.state;El(this,c,[],this._modules.root),Pd(this,c),r.forEach(function(d){return d(n)})},Ld={state:{configurable:!0}};an.prototype.install=function(t,n){t.provide(n||u0,this),t.config.globalProperties.$store=this;var r=this._devtools!==void 0?this._devtools:!1;r&&fO(t,this)};Ld.state.get=function(){return this._state.data};Ld.state.set=function(e){};an.prototype.commit=function(t,n,r){var a=this,i=Xs(t,n,r),o=i.type,l=i.payload,u={type:o,payload:l},s=this._mutations[o];!s||(this._withCommit(function(){s.forEach(function(d){d(l)})}),this._subscribers.slice().forEach(function(c){return c(u,a.state)}))};an.prototype.dispatch=function(t,n){var r=this,a=Xs(t,n),i=a.type,o=a.payload,l={type:i,payload:o},u=this._actions[i];if(!!u){try{this._actionSubscribers.slice().filter(function(c){return c.before}).forEach(function(c){return c.before(l,r.state)})}catch{}var s=u.length>1?Promise.all(u.map(function(c){return c(o)})):u[0](o);return new Promise(function(c,d){s.then(function(v){try{r._actionSubscribers.filter(function(S){return S.after}).forEach(function(S){return S.after(l,r.state)})}catch{}c(v)},function(v){try{r._actionSubscribers.filter(function(S){return S.error}).forEach(function(S){return S.error(l,r.state,v)})}catch{}d(v)})})}};an.prototype.subscribe=function(t,n){return d0(t,this._subscribers,n)};an.prototype.subscribeAction=function(t,n){var r=typeof t=="function"?{before:t}:t;return d0(r,this._actionSubscribers,n)};an.prototype.watch=function(t,n,r){var a=this;return oe(function(){return t(a.state,a.getters)},n,Object.assign({},r))};an.prototype.replaceState=function(t){var n=this;this._withCommit(function(){n._state.data=t})};an.prototype.registerModule=function(t,n,r){r===void 0&&(r={}),typeof t=="string"&&(t=[t]),this._modules.register(t,n),El(this,this.state,t,this._modules.get(t),r.preserveState),Pd(this,this.state)};an.prototype.unregisterModule=function(t){var n=this;typeof t=="string"&&(t=[t]),this._modules.unregister(t),this._withCommit(function(){var r=Id(n.state,t.slice(0,-1));delete r[t[t.length-1]]}),f0(this)};an.prototype.hasModule=function(t){return typeof t=="string"&&(t=[t]),this._modules.isRegistered(t)};an.prototype.hotUpdate=function(t){this._modules.update(t),f0(this,!0)};an.prototype._withCommit=function(t){var n=this._committing;this._committing=!0,t(),this._committing=n};Object.defineProperties(an.prototype,Ld);const bO={id:"footer"},SO={setup(e){let t=c0(),n=q([{text:"\u9996\u9875",path:"/home",role:"all"},{text:"\u7F51\u76D8",path:"/wp",role:"all"},{text:"\u75AB\u60C5",path:"/hospital_list",role:"all"},{text:"\u529F\u80FD",path:"/func_list",role:"all"},{text:"\u6211\u7684",path:"/mine",role:"all"},{text:"\u5B57\u5178\u8868",path:"/diction_list",role:"111"},{text:"\u7559\u8A00",path:"/leaveList",role:"111"}]),r=Me(JSON.parse(localStorage.getItem("user")));return et(()=>{console.log(t.state.footer,n)}),(a,i)=>{const o=ge("router-link"),l=ge("router-view");return H(),W(Ce,null,[Ge(J("ul",bO,[(H(!0),W(Ce,null,Ne(he(n),(u,s)=>(H(),W("li",{key:s},[he(r)&&he(r).username==u.role||u.role=="all"?(H(),Oe(o,{key:0,to:u.path},{default:Ue(()=>[tt(Ae(u.text),1)]),_:2},1032,["to"])):se("",!0)]))),128))],512),[[qe,he(t).state.footer]]),R(l)],64)}}};function te(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function yt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function bh(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Sh(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?bh(Object(n),!0).forEach(function(r){yt(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):bh(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function TO(e){var t=["fillOpacity","fillRule","clipRule"];return t.includes(e)?e.replace(/([a-z0-9]|(?=[A-Z]))([A-Z])/g,"$1-$2").toLowerCase():e}function bt(e,t){var n=Object.keys(e.attrs).reduce((r,a)=>(r[TO(a)]=e.attrs[a],r),{});return pt(e.tag,Sh(Sh({},n),t),(e.children||[]).map(r=>bt(r,{})))}var CO="t",EO="zh-CN",wO={classPrefix:CO,locale:EO};function OO(){var{classPrefix:e}=wO;return{SIZE:{default:"",xs:"".concat(e,"-size-xs"),small:"".concat(e,"-size-s"),middle:"".concat(e,"-size-m"),large:"".concat(e,"-size-l"),xl:"".concat(e,"-size-xl"),block:"".concat(e,"-size-full-width")},STATUS:{loading:"".concat(e,"-is-loading"),disabled:"".concat(e,"-is-disabled"),focused:"".concat(e,"-is-focused"),success:"".concat(e,"-is-success"),error:"".concat(e,"-is-error"),warning:"".concat(e,"-is-warning"),selected:"".concat(e,"-is-selected"),active:"".concat(e,"-is-active"),checked:"".concat(e,"-is-checked"),current:"".concat(e,"-is-current"),hidden:"".concat(e,"-is-hidden"),visible:"".concat(e,"-is-visible"),expanded:"".concat(e,"-is-expanded"),indeterminate:"".concat(e,"-is-indeterminate")}}}function wt(e){var t=OO().SIZE,n=N(()=>e.value in t?t[e.value]:""),r=N(()=>e.value===void 0||e.value in t?{}:{fontSize:e.value});return{style:r,className:n}}function Th(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Ch(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Th(Object(n),!0).forEach(function(r){yt(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Th(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var kO={tag:"svg",attrs:{fill:"none",viewBox:"0 0 16 16",width:"1em",height:"1em"},children:[{tag:"path",attrs:{fill:"currentColor",d:"M7.35 8.65v3.85h1.3V8.65h3.85v-1.3H8.65V3.5h-1.3v3.85H3.5v1.3h3.85z",fillOpacity:.9}}]},S0=ee({name:"AddIcon",props:{size:{type:String},onClick:{type:Function}},setup(e,t){var{attrs:n}=t,r=N(()=>e.size),{className:a,style:i}=wt(r),o=N(()=>["t-icon","t-icon-add",a.value]),l=N(()=>Ch(Ch({},i.value),n.style)),u=N(()=>({class:o.value,style:l.value,onClick:s=>{var c;return(c=e.onClick)===null||c===void 0?void 0:c.call(e,{e:s})}}));return()=>bt(kO,u.value)}});function Eh(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function wh(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Eh(Object(n),!0).forEach(function(r){yt(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Eh(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var _O={tag:"svg",attrs:{fill:"none",viewBox:"0 0 16 16",width:"1em",height:"1em"},children:[{tag:"path",attrs:{fill:"currentColor",d:"M2 3h12V2H2v1zM3.38 10.23l4.1-4.03v8.64H8.5V6.2l4.18 4.08.71-.7-5.05-4.93a.5.5 0 00-.7 0l-4.98 4.9.72.69z",fillOpacity:.9}}]},AO=ee({name:"BacktopIcon",props:{size:{type:String},onClick:{type:Function}},setup(e,t){var{attrs:n}=t,r=N(()=>e.size),{className:a,style:i}=wt(r),o=N(()=>["t-icon","t-icon-backtop",a.value]),l=N(()=>wh(wh({},i.value),n.style)),u=N(()=>({class:o.value,style:l.value,onClick:s=>{var c;return(c=e.onClick)===null||c===void 0?void 0:c.call(e,{e:s})}}));return()=>bt(_O,u.value)}});function Oh(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function kh(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Oh(Object(n),!0).forEach(function(r){yt(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Oh(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var DO={tag:"svg",attrs:{fill:"none",viewBox:"0 0 16 16",width:"1em",height:"1em"},children:[{tag:"path",attrs:{fill:"currentColor",d:"M8 15A7 7 0 108 1a7 7 0 000 14zM4.5 8.2l.7-.7L7 9.3l3.8-3.8.7.7L7 10.7 4.5 8.2z",fillOpacity:.9}}]},Rd=ee({name:"CheckCircleFilledIcon",props:{size:{type:String},onClick:{type:Function}},setup(e,t){var{attrs:n}=t,r=N(()=>e.size),{className:a,style:i}=wt(r),o=N(()=>["t-icon","t-icon-check-circle-filled",a.value]),l=N(()=>kh(kh({},i.value),n.style)),u=N(()=>({class:o.value,style:l.value,onClick:s=>{var c;return(c=e.onClick)===null||c===void 0?void 0:c.call(e,{e:s})}}));return()=>bt(DO,u.value)}});function _h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Ah(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?_h(Object(n),!0).forEach(function(r){yt(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_h(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var PO={tag:"svg",attrs:{fill:"none",viewBox:"0 0 16 16",width:"1em",height:"1em"},children:[{tag:"path",attrs:{fill:"currentColor",d:"M4.5 8.2L7 10.7l4.5-4.5-.7-.7L7 9.3 5.2 7.5l-.7.7z",fillOpacity:.9}},{tag:"path",attrs:{fill:"currentColor",d:"M4.11 2.18a7 7 0 117.78 11.64A7 7 0 014.1 2.18zm.56 10.8a6 6 0 106.66-9.97A6 6 0 004.67 13z",fillOpacity:.9}}]},IO=ee({name:"CheckCircleIcon",props:{size:{type:String},onClick:{type:Function}},setup(e,t){var{attrs:n}=t,r=N(()=>e.size),{className:a,style:i}=wt(r),o=N(()=>["t-icon","t-icon-check-circle",a.value]),l=N(()=>Ah(Ah({},i.value),n.style)),u=N(()=>({class:o.value,style:l.value,onClick:s=>{var c;return(c=e.onClick)===null||c===void 0?void 0:c.call(e,{e:s})}}));return()=>bt(PO,u.value)}});function Dh(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Ph(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Dh(Object(n),!0).forEach(function(r){yt(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Dh(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var LO={tag:"svg",attrs:{fill:"none",viewBox:"0 0 16 16",width:"1em",height:"1em"},children:[{tag:"path",attrs:{fill:"currentColor",d:"M6.43 9.92l6.23-6.22.92.92-7.15 7.14L1.97 7.3l.92-.92 3.54 3.54z",fillOpacity:.9}}]},xd=ee({name:"CheckIcon",props:{size:{type:String},onClick:{type:Function}},setup(e,t){var{attrs:n}=t,r=N(()=>e.size),{className:a,style:i}=wt(r),o=N(()=>["t-icon","t-icon-check",a.value]),l=N(()=>Ph(Ph({},i.value),n.style)),u=N(()=>({class:o.value,style:l.value,onClick:s=>{var c;return(c=e.onClick)===null||c===void 0?void 0:c.call(e,{e:s})}}));return()=>bt(LO,u.value)}});function Ih(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Lh(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Ih(Object(n),!0).forEach(function(r){yt(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ih(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var RO={tag:"svg",attrs:{fill:"none",viewBox:"0 0 16 16",width:"1em",height:"1em"},children:[{tag:"path",attrs:{fill:"currentColor",d:"M3.54 6.46l.92-.92L8 9.08l3.54-3.54.92.92L8 10.92 3.54 6.46z",fillOpacity:.9}}]},Rh=ee({name:"ChevronDownIcon",props:{size:{type:String},onClick:{type:Function}},setup(e,t){var{attrs:n}=t,r=N(()=>e.size),{className:a,style:i}=wt(r),o=N(()=>["t-icon","t-icon-chevron-down",a.value]),l=N(()=>Lh(Lh({},i.value),n.style)),u=N(()=>({class:o.value,style:l.value,onClick:s=>{var c;return(c=e.onClick)===null||c===void 0?void 0:c.call(e,{e:s})}}));return()=>bt(RO,u.value)}});function xh(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function $h(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?xh(Object(n),!0).forEach(function(r){yt(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xh(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var xO={tag:"svg",attrs:{fill:"none",viewBox:"0 0 16 16",width:"1em",height:"1em"},children:[{tag:"path",attrs:{fill:"currentColor",d:"M9.54 3.54l.92.92L6.92 8l3.54 3.54-.92.92L5.08 8l4.46-4.46z",fillOpacity:.9}}]},T0=ee({name:"ChevronLeftIcon",props:{size:{type:String},onClick:{type:Function}},setup(e,t){var{attrs:n}=t,r=N(()=>e.size),{className:a,style:i}=wt(r),o=N(()=>["t-icon","t-icon-chevron-left",a.value]),l=N(()=>$h($h({},i.value),n.style)),u=N(()=>({class:o.value,style:l.value,onClick:s=>{var c;return(c=e.onClick)===null||c===void 0?void 0:c.call(e,{e:s})}}));return()=>bt(xO,u.value)}});function Mh(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Fh(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Mh(Object(n),!0).forEach(function(r){yt(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Mh(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var $O={tag:"svg",attrs:{fill:"none",viewBox:"0 0 16 16",width:"1em",height:"1em"},children:[{tag:"path",attrs:{fill:"currentColor",d:"M6.46 12.46l-.92-.92L9.08 8 5.54 4.46l.92-.92L10.92 8l-4.46 4.46z",fillOpacity:.9}}]},C0=ee({name:"ChevronRightIcon",props:{size:{type:String},onClick:{type:Function}},setup(e,t){var{attrs:n}=t,r=N(()=>e.size),{className:a,style:i}=wt(r),o=N(()=>["t-icon","t-icon-chevron-right",a.value]),l=N(()=>Fh(Fh({},i.value),n.style)),u=N(()=>({class:o.value,style:l.value,onClick:s=>{var c;return(c=e.onClick)===null||c===void 0?void 0:c.call(e,{e:s})}}));return()=>bt($O,u.value)}});function Bh(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Nh(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Bh(Object(n),!0).forEach(function(r){yt(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Bh(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var MO={tag:"svg",attrs:{fill:"none",viewBox:"0 0 16 16",width:"1em",height:"1em"},children:[{tag:"path",attrs:{fill:"currentColor",d:"M12.46 9.54l-.92.92L8 6.92l-3.54 3.54-.92-.92L8 5.08l4.46 4.46z",fillOpacity:.9}}]},jh=ee({name:"ChevronUpIcon",props:{size:{type:String},onClick:{type:Function}},setup(e,t){var{attrs:n}=t,r=N(()=>e.size),{className:a,style:i}=wt(r),o=N(()=>["t-icon","t-icon-chevron-up",a.value]),l=N(()=>Nh(Nh({},i.value),n.style)),u=N(()=>({class:o.value,style:l.value,onClick:s=>{var c;return(c=e.onClick)===null||c===void 0?void 0:c.call(e,{e:s})}}));return()=>bt(MO,u.value)}});function Uh(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Vh(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Uh(Object(n),!0).forEach(function(r){yt(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Uh(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var FO={tag:"svg",attrs:{fill:"none",viewBox:"0 0 16 16",width:"1em",height:"1em"},children:[{tag:"path",attrs:{fill:"currentColor",d:"M8 1a7 7 0 110 14A7 7 0 018 1zm0 1a6 6 0 100 12A6 6 0 008 2z",opacity:.9,fillOpacity:.9}}]},E0=ee({name:"CircleIcon",props:{size:{type:String},onClick:{type:Function}},setup(e,t){var{attrs:n}=t,r=N(()=>e.size),{className:a,style:i}=wt(r),o=N(()=>["t-icon","t-icon-circle",a.value]),l=N(()=>Vh(Vh({},i.value),n.style)),u=N(()=>({class:o.value,style:l.value,onClick:s=>{var c;return(c=e.onClick)===null||c===void 0?void 0:c.call(e,{e:s})}}));return()=>bt(FO,u.value)}});function Hh(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function zh(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Hh(Object(n),!0).forEach(function(r){yt(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Hh(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var BO={tag:"svg",attrs:{fill:"none",viewBox:"0 0 16 16",width:"1em",height:"1em"},children:[{tag:"path",attrs:{fill:"currentColor",d:"M15 8A7 7 0 101 8a7 7 0 0014 0zM5.67 4.95L8 7.29l2.33-2.34.7.7L8.7 8l2.34 2.35-.71.7L8 8.71l-2.33 2.34-.7-.7L7.3 8 4.96 5.65l.71-.7z",fillOpacity:.9}}]},w0=ee({name:"CloseCircleFilledIcon",props:{size:{type:String},onClick:{type:Function}},setup(e,t){var{attrs:n}=t,r=N(()=>e.size),{className:a,style:i}=wt(r),o=N(()=>["t-icon","t-icon-close-circle-filled",a.value]),l=N(()=>zh(zh({},i.value),n.style)),u=N(()=>({class:o.value,style:l.value,onClick:s=>{var c;return(c=e.onClick)===null||c===void 0?void 0:c.call(e,{e:s})}}));return()=>bt(BO,u.value)}});function Gh(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Kh(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Gh(Object(n),!0).forEach(function(r){yt(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Gh(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var NO={tag:"svg",attrs:{fill:"none",viewBox:"0 0 16 16",width:"1em",height:"1em"},children:[{tag:"path",attrs:{fill:"currentColor",d:"M8 8.92L11.08 12l.92-.92L8.92 8 12 4.92 11.08 4 8 7.08 4.92 4 4 4.92 7.08 8 4 11.08l.92.92L8 8.92z",fillOpacity:.9}}]},Oi=ee({name:"CloseIcon",props:{size:{type:String},onClick:{type:Function}},setup(e,t){var{attrs:n}=t,r=N(()=>e.size),{className:a,style:i}=wt(r),o=N(()=>["t-icon","t-icon-close",a.value]),l=N(()=>Kh(Kh({},i.value),n.style)),u=N(()=>({class:o.value,style:l.value,onClick:s=>{var c;return(c=e.onClick)===null||c===void 0?void 0:c.call(e,{e:s})}}));return()=>bt(NO,u.value)}});function Wh(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Yh(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Wh(Object(n),!0).forEach(function(r){yt(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Wh(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var jO={tag:"svg",attrs:{fill:"none",viewBox:"0 0 16 16",width:"1em",height:"1em"},children:[{tag:"path",attrs:{fill:"currentColor",d:"M3 9a1 1 0 110-2 1 1 0 010 2zM7 8a1 1 0 102 0 1 1 0 00-2 0zM12 8a1 1 0 102 0 1 1 0 00-2 0z",fillOpacity:.9}}]},UO=ee({name:"EllipsisIcon",props:{size:{type:String},onClick:{type:Function}},setup(e,t){var{attrs:n}=t,r=N(()=>e.size),{className:a,style:i}=wt(r),o=N(()=>["t-icon","t-icon-ellipsis",a.value]),l=N(()=>Yh(Yh({},i.value),n.style)),u=N(()=>({class:o.value,style:l.value,onClick:s=>{var c;return(c=e.onClick)===null||c===void 0?void 0:c.call(e,{e:s})}}));return()=>bt(jO,u.value)}});function qh(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Xh(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?qh(Object(n),!0).forEach(function(r){yt(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qh(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var VO={tag:"svg",attrs:{fill:"none",viewBox:"0 0 16 16",width:"1em",height:"1em"},children:[{tag:"path",attrs:{fill:"currentColor",d:"M15 8A7 7 0 101 8a7 7 0 0014 0zM8.5 4v5.5h-1V4h1zm-1.1 7h1.2v1.2H7.4V11z",fillOpacity:.9}}]},HO=ee({name:"ErrorCircleFilledIcon",props:{size:{type:String},onClick:{type:Function}},setup(e,t){var{attrs:n}=t,r=N(()=>e.size),{className:a,style:i}=wt(r),o=N(()=>["t-icon","t-icon-error-circle-filled",a.value]),l=N(()=>Xh(Xh({},i.value),n.style)),u=N(()=>({class:o.value,style:l.value,onClick:s=>{var c;return(c=e.onClick)===null||c===void 0?void 0:c.call(e,{e:s})}}));return()=>bt(VO,u.value)}});function Zh(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Jh(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Zh(Object(n),!0).forEach(function(r){yt(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Zh(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var zO={tag:"svg",attrs:{fill:"none",viewBox:"0 0 16 16",width:"1em",height:"1em"},children:[{tag:"path",attrs:{fill:"currentColor",d:"M8.5 4v5.5h-1V4h1zM8.6 10.5H7.4v1.2h1.2v-1.2z",fillOpacity:.9}},{tag:"path",attrs:{fill:"currentColor",d:"M15 8A7 7 0 101 8a7 7 0 0014 0zm-1 0A6 6 0 112 8a6 6 0 0112 0z",fillOpacity:.9}}]},GO=ee({name:"ErrorCircleIcon",props:{size:{type:String},onClick:{type:Function}},setup(e,t){var{attrs:n}=t,r=N(()=>e.size),{className:a,style:i}=wt(r),o=N(()=>["t-icon","t-icon-error-circle",a.value]),l=N(()=>Jh(Jh({},i.value),n.style)),u=N(()=>({class:o.value,style:l.value,onClick:s=>{var c;return(c=e.onClick)===null||c===void 0?void 0:c.call(e,{e:s})}}));return()=>bt(zO,u.value)}});function Qh(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function ev(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Qh(Object(n),!0).forEach(function(r){yt(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Qh(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var KO={tag:"svg",attrs:{fill:"none",viewBox:"0 0 16 16",width:"1em",height:"1em"},children:[{tag:"path",attrs:{fill:"currentColor",d:"M8 1.5a6.5 6.5 0 000 13v-1.63A4.87 4.87 0 1112.88 8h1.62A6.5 6.5 0 008 1.5z",fillOpacity:.9}}]},O0=ee({name:"LoadingIcon",props:{size:{type:String},onClick:{type:Function}},setup(e,t){var{attrs:n}=t,r=N(()=>e.size),{className:a,style:i}=wt(r),o=N(()=>["t-icon","t-icon-loading",a.value]),l=N(()=>ev(ev({},i.value),n.style)),u=N(()=>({class:o.value,style:l.value,onClick:s=>{var c;return(c=e.onClick)===null||c===void 0?void 0:c.call(e,{e:s})}}));return()=>bt(KO,u.value)}});function tv(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function nv(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?tv(Object(n),!0).forEach(function(r){yt(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tv(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var WO={tag:"svg",attrs:{fill:"none",viewBox:"0 0 16 16",width:"1em",height:"1em"},children:[{tag:"path",attrs:{fill:"currentColor",d:"M8 15A7 7 0 108 1a7 7 0 000 14zm3.5-6.5h-7v-1h7v1z",fillOpacity:.9,fillRule:"evenodd",clipRule:"evenodd"}}]},YO=ee({name:"MinusCircleFilledIcon",props:{size:{type:String},onClick:{type:Function}},setup(e,t){var{attrs:n}=t,r=N(()=>e.size),{className:a,style:i}=wt(r),o=N(()=>["t-icon","t-icon-minus-circle-filled",a.value]),l=N(()=>nv(nv({},i.value),n.style)),u=N(()=>({class:o.value,style:l.value,onClick:s=>{var c;return(c=e.onClick)===null||c===void 0?void 0:c.call(e,{e:s})}}));return()=>bt(WO,u.value)}});function rv(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function av(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?rv(Object(n),!0).forEach(function(r){yt(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):rv(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var qO={tag:"svg",attrs:{fill:"none",viewBox:"0 0 16 16",width:"1em",height:"1em"},children:[{tag:"path",attrs:{fill:"currentColor",d:"M8 2.71c2.9 0 5.25 2.36 5.25 5.29h.96a6.2 6.2 0 00-11.5-3.28V2.64h-.96v3.1c0 .29.22.5.5.5h3.09v-.96H3.49A5.25 5.25 0 018 2.71zM1.79 8h.96a5.25 5.25 0 009.76 2.71h-1.85v-.96h3.09c.28 0 .5.22.5.5v3.1h-.96v-2.07A6.2 6.2 0 011.8 8z",fillOpacity:.9}}]},XO=ee({name:"RefreshIcon",props:{size:{type:String},onClick:{type:Function}},setup(e,t){var{attrs:n}=t,r=N(()=>e.size),{className:a,style:i}=wt(r),o=N(()=>["t-icon","t-icon-refresh",a.value]),l=N(()=>av(av({},i.value),n.style)),u=N(()=>({class:o.value,style:l.value,onClick:s=>{var c;return(c=e.onClick)===null||c===void 0?void 0:c.call(e,{e:s})}}));return()=>bt(qO,u.value)}});function iv(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function ov(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?iv(Object(n),!0).forEach(function(r){yt(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):iv(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var ZO={tag:"svg",attrs:{fill:"none",viewBox:"0 0 16 16",width:"1em",height:"1em"},children:[{tag:"path",attrs:{fill:"currentColor",d:"M9.51 10.22a4.76 4.76 0 11.7-.7l3.54 3.52-.7.71-3.54-3.53zm.77-3.7a3.76 3.76 0 10-7.53 0 3.76 3.76 0 007.53 0z",fillOpacity:.9}}]},JO=ee({name:"SearchIcon",props:{size:{type:String},onClick:{type:Function}},setup(e,t){var{attrs:n}=t,r=N(()=>e.size),{className:a,style:i}=wt(r),o=N(()=>["t-icon","t-icon-search",a.value]),l=N(()=>ov(ov({},i.value),n.style)),u=N(()=>({class:o.value,style:l.value,onClick:s=>{var c;return(c=e.onClick)===null||c===void 0?void 0:c.call(e,{e:s})}}));return()=>bt(ZO,u.value)}});function sv(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function lv(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?sv(Object(n),!0).forEach(function(r){yt(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):sv(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var QO={tag:"svg",attrs:{fill:"none",viewBox:"0 0 16 16",width:"1em",height:"1em"},children:[{tag:"path",attrs:{fill:"currentColor",d:"M7.73 1.55a.3.3 0 01.54 0l1.94 3.92 4.32.62a.3.3 0 01.17.52l-3.13 3.05.74 4.3a.3.3 0 01-.44.32L8 12.25l-3.87 2.03a.3.3 0 01-.43-.31l.73-4.31L1.3 6.6a.3.3 0 01.17-.52l4.33-.62 1.93-3.92z",fillOpacity:.9}}]},uv=ee({name:"StarFilledIcon",props:{size:{type:String},onClick:{type:Function}},setup(e,t){var{attrs:n}=t,r=N(()=>e.size),{className:a,style:i}=wt(r),o=N(()=>["t-icon","t-icon-star-filled",a.value]),l=N(()=>lv(lv({},i.value),n.style)),u=N(()=>({class:o.value,style:l.value,onClick:s=>{var c;return(c=e.onClick)===null||c===void 0?void 0:c.call(e,{e:s})}}));return()=>bt(QO,u.value)}});function cv(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function dv(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?cv(Object(n),!0).forEach(function(r){yt(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):cv(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var ek={tag:"svg",attrs:{fill:"none",viewBox:"0 0 16 16",width:"1em",height:"1em"},children:[{tag:"path",attrs:{fill:"currentColor",d:"M9.54 6.38L8 3.26 6.46 6.38l-3.44.5L5.5 9.31l-.59 3.43L8 11.12l3.08 1.62-.59-3.43L13 6.88l-3.45-.5zm5-.29a.3.3 0 01.16.52l-3.13 3.05.74 4.3a.3.3 0 01-.44.32L8 12.25l-3.87 2.03a.3.3 0 01-.43-.31l.73-4.31L1.3 6.6a.3.3 0 01.17-.52l4.33-.62 1.93-3.92a.3.3 0 01.54 0l1.94 3.92 4.32.62z",fillOpacity:.9}}]},fv=ee({name:"StarIcon",props:{size:{type:String},onClick:{type:Function}},setup(e,t){var{attrs:n}=t,r=N(()=>e.size),{className:a,style:i}=wt(r),o=N(()=>["t-icon","t-icon-star",a.value]),l=N(()=>dv(dv({},i.value),n.style)),u=N(()=>({class:o.value,style:l.value,onClick:s=>{var c;return(c=e.onClick)===null||c===void 0?void 0:c.call(e,{e:s})}}));return()=>bt(ek,u.value)}});/**
 * tdesign v0.8.4
 * (c) 2022 TDesign Group
 * @license MIT
 */var Zs=function(){};/**
 * tdesign v0.8.4
 * (c) 2022 TDesign Group
 * @license MIT
 */function tk(e){return Array.isArray(e)}function hv(e){return Object.prototype.toString.call(e)==="[object Number]"}function vv(e){return e===null?!1:Object.prototype.toString.call(e)==="[object Object]"}function Ni(e){return Object.prototype.toString.call(e)==="[object Function]"}function k0(e,t){var n=typeof t=="number";if(!e||e.length===0)return n?{length:0,characters:e}:0;for(var r=0,a=0;a<e.length;a++){var i=0;if(e.charCodeAt(a)>127||e.charCodeAt(a)===94?i=2:i=1,n&&r+i>t)return{length:r,characters:e.slice(0,a)};r+=i}return n?{length:r,characters:e}:r}/**
 * tdesign v0.8.4
 * (c) 2022 TDesign Group
 * @license MIT
 */var Le=function(t){var n=t;return n.install=function(r,a){var i=n.name;r.component(a||i,t)},n};function _0(e){var t=Be();t&&Object.assign(t.proxy,e)}/**
 * tdesign v0.8.4
 * (c) 2022 TDesign Group
 * @license MIT
 */var _e={prefix:"t"};/**
 * tdesign v0.8.4
 * (c) 2022 TDesign Group
 * @license MIT
 */var kt=_e.prefix,nk={small:"".concat(kt,"-size-s"),medium:"".concat(kt,"-size-m"),large:"".concat(kt,"-size-l"),default:"",xs:"".concat(kt,"-size-xs"),xl:"".concat(kt,"-size-xl"),block:"".concat(kt,"-size-full-width")},rk={loading:"".concat(kt,"-is-loading"),disabled:"".concat(kt,"-is-disabled"),focused:"".concat(kt,"-is-focused"),success:"".concat(kt,"-is-success"),error:"".concat(kt,"-is-error"),warning:"".concat(kt,"-is-warning"),selected:"".concat(kt,"-is-selected"),active:"".concat(kt,"-is-active"),checked:"".concat(kt,"-is-checked"),current:"".concat(kt,"-is-current"),hidden:"".concat(kt,"-is-hidden"),visible:"".concat(kt,"-is-visible"),expanded:"".concat(kt,"-is-expanded"),indeterminate:"".concat(kt,"-is-indeterminate")},xt={SIZE:nk,STATUS:rk};function Nt(e){return Nt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Nt(e)}/**
 * tdesign v0.8.4
 * (c) 2022 TDesign Group
 * @license MIT
 */var ze=function(t,n,r){var a;if(t===null)return pt("",null);var i=Nt(r)==="object"&&"params"in r?r.params:null,o=Nt(r)==="object"&&"defaultNode"in r?r.defaultNode:r,l;if(n in t.props&&(l=t.props[n]),t.slots[n]){var u;return(u=t.slots[n])===null||u===void 0?void 0:u.call(i)}if(l===!0&&o){var s;return t.slots[n]?(s=t.slots[n])===null||s===void 0?void 0:s.call(i):o}if(typeof l=="function")return l(pt,i);var c=[void 0,i,""].includes(l);return c&&t.slots[n]?(a=t.slots[n])===null||a===void 0?void 0:a.call(i):l},Yt=function(t,n,r,a){if(t===null)return pt("",null);var i=Nt(a)==="object"&&"params"in a?a.params:null,o=Nt(a)==="object"&&"defaultNode"in a?a.defaultNode:a,l=i?{params:i}:void 0,u=ze(t,n,l),s=ze(t,r,l),c=[void 0,null,""].includes(u)?s:u;return[void 0,null,""].includes(c)?o:c};/**
 * tdesign v0.8.4
 * (c) 2022 TDesign Group
 * @license MIT
 */var st=function(t){return t.content};st.props=["content"];/**
 * tdesign v0.8.4
 * (c) 2022 TDesign Group
 * @license MIT
 */function A0(e,t){var n=e||[!0,!1],r=q();t===void 0?r=q(n[1]):_t(t)?r=t:r=q(t);var a=function(o){o!==void 0?r.value=o:r.value=r.value===n[1]?n[0]:n[1]};return{state:r,toggle:a}}function mv(e,t,n,r,a,i,o){try{var l=e[i](o),u=l.value}catch(s){n(s);return}l.done?t(u):Promise.resolve(u).then(r,a)}function $d(e){return function(){var t=this,n=arguments;return new Promise(function(r,a){var i=e.apply(t,n);function o(u){mv(i,r,a,o,l,"next",u)}function l(u){mv(i,r,a,o,l,"throw",u)}o(void 0)})}}var vo=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{};function WY(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var D0={exports:{}};(function(e){var t=function(n){var r=Object.prototype,a=r.hasOwnProperty,i,o=typeof Symbol=="function"?Symbol:{},l=o.iterator||"@@iterator",u=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function c($,M,j){return Object.defineProperty($,M,{value:j,enumerable:!0,configurable:!0,writable:!0}),$[M]}try{c({},"")}catch{c=function(M,j,F){return M[j]=F}}function d($,M,j,F){var U=M&&M.prototype instanceof h?M:h,B=Object.create(U.prototype),K=new I(F||[]);return B._invoke=O($,j,K),B}n.wrap=d;function v($,M,j){try{return{type:"normal",arg:$.call(M,j)}}catch(F){return{type:"throw",arg:F}}}var S="suspendedStart",E="suspendedYield",m="executing",f="completed",g={};function h(){}function y(){}function b(){}var p={};c(p,l,function(){return this});var C=Object.getPrototypeOf,w=C&&C(C(x([])));w&&w!==r&&a.call(w,l)&&(p=w);var k=b.prototype=h.prototype=Object.create(p);y.prototype=b,c(k,"constructor",b),c(b,"constructor",y),y.displayName=c(b,s,"GeneratorFunction");function _($){["next","throw","return"].forEach(function(M){c($,M,function(j){return this._invoke(M,j)})})}n.isGeneratorFunction=function($){var M=typeof $=="function"&&$.constructor;return M?M===y||(M.displayName||M.name)==="GeneratorFunction":!1},n.mark=function($){return Object.setPrototypeOf?Object.setPrototypeOf($,b):($.__proto__=b,c($,s,"GeneratorFunction")),$.prototype=Object.create(k),$},n.awrap=function($){return{__await:$}};function T($,M){function j(B,K,V,X){var Z=v($[B],$,K);if(Z.type==="throw")X(Z.arg);else{var ne=Z.arg,ae=ne.value;return ae&&typeof ae=="object"&&a.call(ae,"__await")?M.resolve(ae.__await).then(function(ye){j("next",ye,V,X)},function(ye){j("throw",ye,V,X)}):M.resolve(ae).then(function(ye){ne.value=ye,V(ne)},function(ye){return j("throw",ye,V,X)})}}var F;function U(B,K){function V(){return new M(function(X,Z){j(B,K,X,Z)})}return F=F?F.then(V,V):V()}this._invoke=U}_(T.prototype),c(T.prototype,u,function(){return this}),n.AsyncIterator=T,n.async=function($,M,j,F,U){U===void 0&&(U=Promise);var B=new T(d($,M,j,F),U);return n.isGeneratorFunction(M)?B:B.next().then(function(K){return K.done?K.value:B.next()})};function O($,M,j){var F=S;return function(B,K){if(F===m)throw new Error("Generator is already running");if(F===f){if(B==="throw")throw K;return L()}for(j.method=B,j.arg=K;;){var V=j.delegate;if(V){var X=A(V,j);if(X){if(X===g)continue;return X}}if(j.method==="next")j.sent=j._sent=j.arg;else if(j.method==="throw"){if(F===S)throw F=f,j.arg;j.dispatchException(j.arg)}else j.method==="return"&&j.abrupt("return",j.arg);F=m;var Z=v($,M,j);if(Z.type==="normal"){if(F=j.done?f:E,Z.arg===g)continue;return{value:Z.arg,done:j.done}}else Z.type==="throw"&&(F=f,j.method="throw",j.arg=Z.arg)}}}function A($,M){var j=$.iterator[M.method];if(j===i){if(M.delegate=null,M.method==="throw"){if($.iterator.return&&(M.method="return",M.arg=i,A($,M),M.method==="throw"))return g;M.method="throw",M.arg=new TypeError("The iterator does not provide a 'throw' method")}return g}var F=v(j,$.iterator,M.arg);if(F.type==="throw")return M.method="throw",M.arg=F.arg,M.delegate=null,g;var U=F.arg;if(!U)return M.method="throw",M.arg=new TypeError("iterator result is not an object"),M.delegate=null,g;if(U.done)M[$.resultName]=U.value,M.next=$.nextLoc,M.method!=="return"&&(M.method="next",M.arg=i);else return U;return M.delegate=null,g}_(k),c(k,s,"Generator"),c(k,l,function(){return this}),c(k,"toString",function(){return"[object Generator]"});function P($){var M={tryLoc:$[0]};1 in $&&(M.catchLoc=$[1]),2 in $&&(M.finallyLoc=$[2],M.afterLoc=$[3]),this.tryEntries.push(M)}function D($){var M=$.completion||{};M.type="normal",delete M.arg,$.completion=M}function I($){this.tryEntries=[{tryLoc:"root"}],$.forEach(P,this),this.reset(!0)}n.keys=function($){var M=[];for(var j in $)M.push(j);return M.reverse(),function F(){for(;M.length;){var U=M.pop();if(U in $)return F.value=U,F.done=!1,F}return F.done=!0,F}};function x($){if($){var M=$[l];if(M)return M.call($);if(typeof $.next=="function")return $;if(!isNaN($.length)){var j=-1,F=function U(){for(;++j<$.length;)if(a.call($,j))return U.value=$[j],U.done=!1,U;return U.value=i,U.done=!0,U};return F.next=F}}return{next:L}}n.values=x;function L(){return{value:i,done:!0}}return I.prototype={constructor:I,reset:function($){if(this.prev=0,this.next=0,this.sent=this._sent=i,this.done=!1,this.delegate=null,this.method="next",this.arg=i,this.tryEntries.forEach(D),!$)for(var M in this)M.charAt(0)==="t"&&a.call(this,M)&&!isNaN(+M.slice(1))&&(this[M]=i)},stop:function(){this.done=!0;var $=this.tryEntries[0],M=$.completion;if(M.type==="throw")throw M.arg;return this.rval},dispatchException:function($){if(this.done)throw $;var M=this;function j(X,Z){return B.type="throw",B.arg=$,M.next=X,Z&&(M.method="next",M.arg=i),!!Z}for(var F=this.tryEntries.length-1;F>=0;--F){var U=this.tryEntries[F],B=U.completion;if(U.tryLoc==="root")return j("end");if(U.tryLoc<=this.prev){var K=a.call(U,"catchLoc"),V=a.call(U,"finallyLoc");if(K&&V){if(this.prev<U.catchLoc)return j(U.catchLoc,!0);if(this.prev<U.finallyLoc)return j(U.finallyLoc)}else if(K){if(this.prev<U.catchLoc)return j(U.catchLoc,!0)}else if(V){if(this.prev<U.finallyLoc)return j(U.finallyLoc)}else throw new Error("try statement without catch or finally")}}},abrupt:function($,M){for(var j=this.tryEntries.length-1;j>=0;--j){var F=this.tryEntries[j];if(F.tryLoc<=this.prev&&a.call(F,"finallyLoc")&&this.prev<F.finallyLoc){var U=F;break}}U&&($==="break"||$==="continue")&&U.tryLoc<=M&&M<=U.finallyLoc&&(U=null);var B=U?U.completion:{};return B.type=$,B.arg=M,U?(this.method="next",this.next=U.finallyLoc,g):this.complete(B)},complete:function($,M){if($.type==="throw")throw $.arg;return $.type==="break"||$.type==="continue"?this.next=$.arg:$.type==="return"?(this.rval=this.arg=$.arg,this.method="return",this.next="end"):$.type==="normal"&&M&&(this.next=M),g},finish:function($){for(var M=this.tryEntries.length-1;M>=0;--M){var j=this.tryEntries[M];if(j.finallyLoc===$)return this.complete(j.completion,j.afterLoc),D(j),g}},catch:function($){for(var M=this.tryEntries.length-1;M>=0;--M){var j=this.tryEntries[M];if(j.tryLoc===$){var F=j.completion;if(F.type==="throw"){var U=F.arg;D(j)}return U}}throw new Error("illegal catch attempt")},delegateYield:function($,M,j){return this.delegate={iterator:x($),resultName:M,nextLoc:j},this.method==="next"&&(this.arg=i),g}},n}(e.exports);try{regeneratorRuntime=t}catch{typeof globalThis=="object"?globalThis.regeneratorRuntime=t:Function("r","regeneratorRuntime = r")(t)}})(D0);var hi=D0.exports;function wl(e){return LC()?(RC(e),!0):!1}const Uo=typeof window!="undefined",ak=e=>typeof e=="string",Br=()=>{};function ik(e,t=!0){Be()?et(e):t?e():Re(e)}function xn(e){var t;const n=he(e);return(t=n==null?void 0:n.$el)!=null?t:n}const wa=Uo?window:void 0;Uo&&window.document;Uo&&window.navigator;Uo&&window.location;function Xn(...e){let t,n,r,a;if(ak(e[0])?([n,r,a]=e,t=wa):[t,n,r,a]=e,!t)return Br;let i=Br;const o=oe(()=>xn(t),u=>{i(),u&&(u.addEventListener(n,r,a),i=()=>{u.removeEventListener(n,r,a),i=Br})},{immediate:!0,flush:"post"}),l=()=>{o(),i()};return wl(l),l}function ok(e,t,n={}){const{window:r=wa,ignore:a,capture:i=!0}=n;if(!r)return;const o=q(!0),u=[Xn(r,"click",c=>{const d=xn(e),v=c.composedPath();!d||d===c.target||v.includes(d)||!o.value||a&&a.length>0&&a.some(S=>{const E=xn(S);return E&&(c.target===E||v.includes(E))})||t(c)},{passive:!0,capture:i}),Xn(r,"pointerdown",c=>{const d=xn(e);o.value=!!d&&!c.composedPath().includes(d)},{passive:!0})];return()=>u.forEach(c=>c())}function gv(e,t=null){const n=Be();let r=()=>{};const a=cE((i,o)=>(r=o,{get(){var l,u;return i(),(u=(l=n==null?void 0:n.proxy)==null?void 0:l.$refs[e])!=null?u:t},set(){}}));return ik(r),Cd(r),a}function sk(e={}){const{window:t=wa}=e,n=q(0);return t&&(Xn(t,"blur",()=>n.value+=1,!0),Xn(t,"focus",()=>n.value+=1,!0)),N(()=>(n.value,t==null?void 0:t.document.activeElement))}const bc=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{},Sc="__vueuse_ssr_handlers__";bc[Sc]=bc[Sc]||{};bc[Sc];var pv=Object.getOwnPropertySymbols,lk=Object.prototype.hasOwnProperty,uk=Object.prototype.propertyIsEnumerable,ck=(e,t)=>{var n={};for(var r in e)lk.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&pv)for(var r of pv(e))t.indexOf(r)<0&&uk.call(e,r)&&(n[r]=e[r]);return n};function P0(e,t,n={}){const r=n,{window:a=wa}=r,i=ck(r,["window"]);let o;const l=a&&"ResizeObserver"in a,u=()=>{o&&(o.disconnect(),o=void 0)},s=oe(()=>xn(e),d=>{u(),l&&a&&d&&(o=new ResizeObserver(t),o.observe(d,i))},{immediate:!0,flush:"post"}),c=()=>{u(),s()};return wl(c),{isSupported:l,stop:c}}function Tc(e,t={}){const{reset:n=!0,windowResize:r=!0,windowScroll:a=!0}=t,i=q(0),o=q(0),l=q(0),u=q(0),s=q(0),c=q(0),d=q(0),v=q(0);function S(){const E=xn(e);if(!E){n&&(i.value=0,o.value=0,l.value=0,u.value=0,s.value=0,c.value=0,d.value=0,v.value=0);return}const m=E.getBoundingClientRect();i.value=m.height,o.value=m.bottom,l.value=m.left,u.value=m.right,s.value=m.top,c.value=m.width,d.value=m.x,v.value=m.y}return P0(e,S),oe(()=>xn(e),E=>!E&&S()),a&&Xn("scroll",S,{passive:!0}),r&&Xn("resize",S,{passive:!0}),{height:i,bottom:o,left:l,right:u,top:s,width:c,x:d,y:v,update:S}}function dk(e,t={}){const{immediate:n=!0,window:r=wa}=t,a=q(!1);let i=null;function o(){!a.value||!r||(e(),i=r.requestAnimationFrame(o))}function l(){!a.value&&r&&(a.value=!0,o())}function u(){a.value=!1,i!=null&&r&&(r.cancelAnimationFrame(i),i=null)}return n&&l(),wl(u),{isActive:a,pause:u,resume:l}}function yv(e,t={width:0,height:0},n={}){const r=q(t.width),a=q(t.height);return P0(e,([i])=>{r.value=i.contentRect.width,a.value=i.contentRect.height},n),oe(()=>xn(e),i=>{r.value=i?t.width:0,a.value=i?t.height:0}),{width:r,height:a}}function fk(e,t={}){const{initialValue:n=!1}=t,r=sk(t),a=N(()=>xn(e)),i=N({get(){return r.value===a.value},set(o){var l,u;!o&&i.value&&((l=a.value)==null||l.blur()),o&&!i.value&&((u=a.value)==null||u.focus())}});return oe(a,()=>{i.value=n},{immediate:!0,flush:"post"}),{focused:i}}function hk(e,t,n={}){const{root:r,rootMargin:a="0px",threshold:i=.1,window:o=wa}=n,l=o&&"IntersectionObserver"in o;let u=Br;const s=l?oe(()=>({el:xn(e),root:xn(r)}),({el:d,root:v})=>{if(u(),!d)return;const S=new IntersectionObserver(t,{root:v,rootMargin:a,threshold:i});S.observe(d),u=()=>{S.disconnect(),u=Br}},{immediate:!0,flush:"post"}):Br,c=()=>{u(),s()};return wl(c),{isSupported:l,stop:c}}function I0(e,t={}){const{threshold:n=50,onSwipe:r,onSwipeEnd:a,onSwipeStart:i,passive:o=!0,window:l=wa}=t,u=Me({x:0,y:0}),s=Me({x:0,y:0}),c=N(()=>u.x-s.x),d=N(()=>u.y-s.y),{max:v,abs:S}=Math,E=N(()=>v(S(c.value),S(d.value))>=n),m=q(!1),f=N(()=>E.value?S(c.value)>S(d.value)?c.value>0?"LEFT":"RIGHT":d.value>0?"UP":"DOWN":"NONE"),g=_=>[_.touches[0].clientX,_.touches[0].clientY],h=(_,T)=>{u.x=_,u.y=T},y=(_,T)=>{s.x=_,s.y=T};let b;const p=vk(l==null?void 0:l.document);o?b=p?{passive:!0}:{capture:!1}:b=p?{passive:!1,capture:!0}:{capture:!0};const C=_=>{m.value&&(a==null||a(_,f.value)),m.value=!1},w=[Xn(e,"touchstart",_=>{b.capture&&!b.passive&&_.preventDefault();const[T,O]=g(_);h(T,O),y(T,O),i==null||i(_)},b),Xn(e,"touchmove",_=>{const[T,O]=g(_);y(T,O),!m.value&&E.value&&(m.value=!0),m.value&&(r==null||r(_))},b),Xn(e,"touchend",C,b),Xn(e,"touchcancel",C,b)];return{isPassiveEventSupported:p,isSwiping:m,direction:f,coordsStart:u,coordsEnd:s,lengthX:c,lengthY:d,stop:()=>w.forEach(_=>_())}}function vk(e){if(!e)return!1;let t=!1;const n={get passive(){return t=!0,!1}};return e.addEventListener("x",Br,n),e.removeEventListener("x",Br),t}var bv,Sv;Uo&&(window==null?void 0:window.navigator)&&((bv=window==null?void 0:window.navigator)==null?void 0:bv.platform)&&/iP(ad|hone|od)/.test((Sv=window==null?void 0:window.navigator)==null?void 0:Sv.platform);/**
 * tdesign v0.8.4
 * (c) 2022 TDesign Group
 * @license MIT
 */var Tv=function(t){if(!t)return{days:0,hours:0,minutes:0,seconds:0,milliseconds:0};var n=Math.floor(t/1e3);return{days:Math.floor(n/3600/24),hours:Math.floor(n/3600%24),minutes:Math.floor(n/60%60),seconds:n%60,milliseconds:t%1e3}},ji=function(t){return t>=10?t:"0".concat(t)},Ui=function(t,n){var r,a,i,o,l;return t==null||(r=t.split)===null||r===void 0||(a=r.call(t,n))===null||a===void 0||(i=a[1])===null||i===void 0||(o=i.split)===null||o===void 0||(l=o.call(i,""))===null||l===void 0?void 0:l[0]},Cv=function(t,n){var r,a,i,o,l,u,s;n=(r=n||"DD:HH:mm:ss")===null||r===void 0||(a=r.toUpperCase)===null||a===void 0?void 0:a.call(r);var c=[];return((i=n)===null||i===void 0?void 0:i.indexOf("DD"))>-1&&(c==null||c.push({mark:Ui(n,"DD"),value:ji(t==null?void 0:t.days)})),((o=n)===null||o===void 0?void 0:o.indexOf("HH"))>-1&&(c==null||c.push({mark:Ui(n,"HH"),value:ji(t==null?void 0:t.hours)})),((l=n)===null||l===void 0?void 0:l.indexOf("MM"))>-1&&(c==null||c.push({mark:Ui(n,"MM"),value:ji(t==null?void 0:t.minutes)})),((u=n)===null||u===void 0?void 0:u.indexOf("SS"))>-1&&(c==null||c.push({mark:Ui(n,"SS"),value:ji(t==null?void 0:t.seconds)})),((s=n)===null||s===void 0?void 0:s.indexOf("SSS"))>-1&&(c==null||c.push({mark:Ui(n,"SSS"),value:ji(t==null?void 0:t.milliseconds)})),c},uu=function(){var e,t,n=window,r=n.requestAnimationFrame,a=n.mozRequestAnimationFrame,i=n.webkitRequestAnimationFrame,o=(e=[r,a,i])===null||e===void 0||(t=e.find)===null||t===void 0?void 0:t.call(e,function(l){return l});if(!o){console.error("requestAnimationFrame is not supported!");return}return function(){var l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:50;if(!(l<1)){var u=0,s=Date.now();return new Promise(function(c){(function d(){o==null||o(function(){if(++u>=l){var v=Date.now()-s,S=u/v*1e3;return c(S)}d()})})()})}}}();/**
 * tdesign v0.8.4
 * (c) 2022 TDesign Group
 * @license MIT
 */function mk(e){var t=e||{},n=t.time,r=n===void 0?0:n,a=t.autoStart;t.millisecond;var i=t.format,o=i===void 0?"HH:mm:ss":i,l=t.onFinish,u=t.onChange,s=q(),c=q(Number(r)),d=Me(Cv(Tv(r),o)),v=dk($d(hi.mark(function m(){var f,g,h,y;return hi.wrap(function(p){for(;;)switch(p.prev=p.next){case 0:if(s.value){p.next=5;break}return p.next=3,uu==null?void 0:uu();case 3:h=p.sent,s.value=h||60;case 5:c.value=parseInt("".concat(Number(c.value)-1e3/s.value),10),c.value<=0&&(S==null||S(),c.value=0),y=Tv(c.value),u==null||u(y),c.value===0&&(l==null||l()),(f=Cv(y,o))===null||f===void 0||(g=f.forEach)===null||g===void 0||g.call(f,function(C,w){return d[w].value=C==null?void 0:C.value});case 11:case"end":return p.stop()}},m)})),{immediate:a}),S=v.pause,E=v.resume;return{time:c,showTimes:d,pause:S,resume:E}}var gk=typeof vo=="object"&&vo&&vo.Object===Object&&vo,L0=gk,pk=L0,yk=typeof self=="object"&&self&&self.Object===Object&&self,bk=pk||yk||Function("return this")(),yr=bk,Sk=yr,Tk=Sk.Symbol,Ol=Tk;function Ck(e,t){for(var n=-1,r=e==null?0:e.length,a=Array(r);++n<r;)a[n]=t(e[n],n,e);return a}var Md=Ck,Ek=Array.isArray,zr=Ek,Ev=Ol,R0=Object.prototype,wk=R0.hasOwnProperty,Ok=R0.toString,Vi=Ev?Ev.toStringTag:void 0;function kk(e){var t=wk.call(e,Vi),n=e[Vi];try{e[Vi]=void 0;var r=!0}catch{}var a=Ok.call(e);return r&&(t?e[Vi]=n:delete e[Vi]),a}var _k=kk,Ak=Object.prototype,Dk=Ak.toString;function Pk(e){return Dk.call(e)}var Ik=Pk,wv=Ol,Lk=_k,Rk=Ik,xk="[object Null]",$k="[object Undefined]",Ov=wv?wv.toStringTag:void 0;function Mk(e){return e==null?e===void 0?$k:xk:Ov&&Ov in Object(e)?Lk(e):Rk(e)}var Vo=Mk;function Fk(e){return e!=null&&typeof e=="object"}var ki=Fk,Bk=Vo,Nk=ki,jk="[object Symbol]";function Uk(e){return typeof e=="symbol"||Nk(e)&&Bk(e)==jk}var kl=Uk,kv=Ol,Vk=Md,Hk=zr,zk=kl,Gk=1/0,_v=kv?kv.prototype:void 0,Av=_v?_v.toString:void 0;function x0(e){if(typeof e=="string")return e;if(Hk(e))return Vk(e,x0)+"";if(zk(e))return Av?Av.call(e):"";var t=e+"";return t=="0"&&1/e==-Gk?"-0":t}var Kk=x0,Wk=Kk;function Yk(e){return e==null?"":Wk(e)}var Ho=Yk;function qk(e,t,n){var r=-1,a=e.length;t<0&&(t=-t>a?0:a+t),n=n>a?a:n,n<0&&(n+=a),a=t>n?0:n-t>>>0,t>>>=0;for(var i=Array(a);++r<a;)i[r]=e[r+t];return i}var Xk=qk,Zk=Xk;function Jk(e,t,n){var r=e.length;return n=n===void 0?r:n,!t&&n>=r?e:Zk(e,t,n)}var Qk=Jk,e_="\\ud800-\\udfff",t_="\\u0300-\\u036f",n_="\\ufe20-\\ufe2f",r_="\\u20d0-\\u20ff",a_=t_+n_+r_,i_="\\ufe0e\\ufe0f",o_="\\u200d",s_=RegExp("["+o_+e_+a_+i_+"]");function l_(e){return s_.test(e)}var $0=l_;function u_(e){return e.split("")}var c_=u_,M0="\\ud800-\\udfff",d_="\\u0300-\\u036f",f_="\\ufe20-\\ufe2f",h_="\\u20d0-\\u20ff",v_=d_+f_+h_,m_="\\ufe0e\\ufe0f",g_="["+M0+"]",Cc="["+v_+"]",Ec="\\ud83c[\\udffb-\\udfff]",p_="(?:"+Cc+"|"+Ec+")",F0="[^"+M0+"]",B0="(?:\\ud83c[\\udde6-\\uddff]){2}",N0="[\\ud800-\\udbff][\\udc00-\\udfff]",y_="\\u200d",j0=p_+"?",U0="["+m_+"]?",b_="(?:"+y_+"(?:"+[F0,B0,N0].join("|")+")"+U0+j0+")*",S_=U0+j0+b_,T_="(?:"+[F0+Cc+"?",Cc,B0,N0,g_].join("|")+")",C_=RegExp(Ec+"(?="+Ec+")|"+T_+S_,"g");function E_(e){return e.match(C_)||[]}var w_=E_,O_=c_,k_=$0,__=w_;function A_(e){return k_(e)?__(e):O_(e)}var D_=A_,P_=Qk,I_=$0,L_=D_,R_=Ho;function x_(e){return function(t){t=R_(t);var n=I_(t)?L_(t):void 0,r=n?n[0]:t.charAt(0),a=n?P_(n,1).join(""):t.slice(1);return r[e]()+a}}var $_=x_,M_=$_,F_=M_("toUpperCase"),B_=F_,N_=Ho,j_=B_;function U_(e){return j_(N_(e).toLowerCase())}var V_=U_;function H_(e,t,n,r){var a=-1,i=e==null?0:e.length;for(r&&i&&(n=e[++a]);++a<i;)n=t(n,e[a],a,e);return n}var z_=H_;function G_(e){return function(t){return e==null?void 0:e[t]}}var K_=G_,W_=K_,Y_={\u00C0:"A",\u00C1:"A",\u00C2:"A",\u00C3:"A",\u00C4:"A",\u00C5:"A",\u00E0:"a",\u00E1:"a",\u00E2:"a",\u00E3:"a",\u00E4:"a",\u00E5:"a",\u00C7:"C",\u00E7:"c",\u00D0:"D",\u00F0:"d",\u00C8:"E",\u00C9:"E",\u00CA:"E",\u00CB:"E",\u00E8:"e",\u00E9:"e",\u00EA:"e",\u00EB:"e",\u00CC:"I",\u00CD:"I",\u00CE:"I",\u00CF:"I",\u00EC:"i",\u00ED:"i",\u00EE:"i",\u00EF:"i",\u00D1:"N",\u00F1:"n",\u00D2:"O",\u00D3:"O",\u00D4:"O",\u00D5:"O",\u00D6:"O",\u00D8:"O",\u00F2:"o",\u00F3:"o",\u00F4:"o",\u00F5:"o",\u00F6:"o",\u00F8:"o",\u00D9:"U",\u00DA:"U",\u00DB:"U",\u00DC:"U",\u00F9:"u",\u00FA:"u",\u00FB:"u",\u00FC:"u",\u00DD:"Y",\u00FD:"y",\u00FF:"y",\u00C6:"Ae",\u00E6:"ae",\u00DE:"Th",\u00FE:"th",\u00DF:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010A:"C",\u010C:"C",\u0107:"c",\u0109:"c",\u010B:"c",\u010D:"c",\u010E:"D",\u0110:"D",\u010F:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011A:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011B:"e",\u011C:"G",\u011E:"G",\u0120:"G",\u0122:"G",\u011D:"g",\u011F:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012A:"I",\u012C:"I",\u012E:"I",\u0130:"I",\u0129:"i",\u012B:"i",\u012D:"i",\u012F:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013B:"L",\u013D:"L",\u013F:"L",\u0141:"L",\u013A:"l",\u013C:"l",\u013E:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014A:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014B:"n",\u014C:"O",\u014E:"O",\u0150:"O",\u014D:"o",\u014F:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015A:"S",\u015C:"S",\u015E:"S",\u0160:"S",\u015B:"s",\u015D:"s",\u015F:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016A:"U",\u016C:"U",\u016E:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016B:"u",\u016D:"u",\u016F:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017B:"Z",\u017D:"Z",\u017A:"z",\u017C:"z",\u017E:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017F:"s"},q_=W_(Y_),X_=q_,Z_=X_,J_=Ho,Q_=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,eA="\\u0300-\\u036f",tA="\\ufe20-\\ufe2f",nA="\\u20d0-\\u20ff",rA=eA+tA+nA,aA="["+rA+"]",iA=RegExp(aA,"g");function oA(e){return e=J_(e),e&&e.replace(Q_,Z_).replace(iA,"")}var sA=oA,lA=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g;function uA(e){return e.match(lA)||[]}var cA=uA,dA=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;function fA(e){return dA.test(e)}var hA=fA,V0="\\ud800-\\udfff",vA="\\u0300-\\u036f",mA="\\ufe20-\\ufe2f",gA="\\u20d0-\\u20ff",pA=vA+mA+gA,H0="\\u2700-\\u27bf",z0="a-z\\xdf-\\xf6\\xf8-\\xff",yA="\\xac\\xb1\\xd7\\xf7",bA="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",SA="\\u2000-\\u206f",TA=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",G0="A-Z\\xc0-\\xd6\\xd8-\\xde",CA="\\ufe0e\\ufe0f",K0=yA+bA+SA+TA,W0="['\u2019]",Dv="["+K0+"]",EA="["+pA+"]",Y0="\\d+",wA="["+H0+"]",q0="["+z0+"]",X0="[^"+V0+K0+Y0+H0+z0+G0+"]",OA="\\ud83c[\\udffb-\\udfff]",kA="(?:"+EA+"|"+OA+")",_A="[^"+V0+"]",Z0="(?:\\ud83c[\\udde6-\\uddff]){2}",J0="[\\ud800-\\udbff][\\udc00-\\udfff]",ti="["+G0+"]",AA="\\u200d",Pv="(?:"+q0+"|"+X0+")",DA="(?:"+ti+"|"+X0+")",Iv="(?:"+W0+"(?:d|ll|m|re|s|t|ve))?",Lv="(?:"+W0+"(?:D|LL|M|RE|S|T|VE))?",Q0=kA+"?",eb="["+CA+"]?",PA="(?:"+AA+"(?:"+[_A,Z0,J0].join("|")+")"+eb+Q0+")*",IA="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",LA="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",RA=eb+Q0+PA,xA="(?:"+[wA,Z0,J0].join("|")+")"+RA,$A=RegExp([ti+"?"+q0+"+"+Iv+"(?="+[Dv,ti,"$"].join("|")+")",DA+"+"+Lv+"(?="+[Dv,ti+Pv,"$"].join("|")+")",ti+"?"+Pv+"+"+Iv,ti+"+"+Lv,LA,IA,Y0,xA].join("|"),"g");function MA(e){return e.match($A)||[]}var FA=MA,BA=cA,NA=hA,jA=Ho,UA=FA;function VA(e,t,n){return e=jA(e),t=n?void 0:t,t===void 0?NA(e)?UA(e):BA(e):e.match(t)||[]}var HA=VA,zA=z_,GA=sA,KA=HA,WA="['\u2019]",YA=RegExp(WA,"g");function qA(e){return function(t){return zA(KA(GA(t).replace(YA,"")),e,"")}}var XA=qA,ZA=V_,JA=XA,QA=JA(function(e,t,n){return t=t.toLowerCase(),e+(n?ZA(t):t)}),Fd=QA;/**
 * tdesign v0.8.4
 * (c) 2022 TDesign Group
 * @license MIT
 */function eD(e){var t=Fd(e);return"default".concat(t[0].toLocaleUpperCase()+t.slice(1))}function tD(e){var t=Fd(e);return"on".concat(t[0].toLocaleUpperCase()).concat(t.slice(1))}function Ut(e,t,n,r){var a="modelValue",i=eD(String(n)),o=e[a]!==void 0,l=e[n]!==void 0,u=q();l?u.value=e[n]:o?u.value=e[a]:u.value=e[i],pl(function(){o&&(u.value=e[a]),l&&(u.value=e[n])});function s(v){for(var S,E=arguments.length,m=new Array(E>1?E-1:0),f=1;f<E;f++)m[f-1]=arguments[f];var g=["update:".concat(n)];o&&g.push("update:modelValue"),g.forEach(function(y){t.apply(void 0,[y,v].concat(m))});var h=tD(r);(S=e[h])===null||S===void 0||S.call.apply(S,[e,v].concat(m))}function c(v){!l&&!o&&(u.value=v);for(var S=arguments.length,E=new Array(S>1?S-1:0),m=1;m<S;m++)E[m-1]=arguments[m];s.apply(void 0,[v].concat(E))}var d=N({get:function(){return u.value},set:function(S){c(S)}});return[d,c]}/**
 * tdesign v0.8.4
 * (c) 2022 TDesign Group
 * @license MIT
 */function St(e,t){return function(r){var a="";typeof r=="string"&&(a=Fd("on-".concat(r)));for(var i=arguments.length,o=new Array(i>1?i-1:0),l=1;l<i;l++)o[l-1]=arguments[l];typeof e[a]=="function"?e[a].apply(e,o):t.apply(void 0,[r].concat(o))}}function wc(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function nD(e){if(Array.isArray(e))return wc(e)}function rD(e){if(typeof Symbol!="undefined"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function tb(e,t){if(!!e){if(typeof e=="string")return wc(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return wc(e,t)}}function aD(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Bt(e){return nD(e)||rD(e)||tb(e)||aD()}/**
 * tdesign v0.8.4
 * (c) 2022 TDesign Group
 * @license MIT
 */function iD(e,t){var n=function i(o){var l=[];return Array.isArray(o)&&o.forEach(function(u){if(di(u)){var s;l.push(u),(s=u.component)!==null&&s!==void 0&&s.subTree&&(l.push(u.component.subTree),l.push.apply(l,Bt(i(u.component.subTree.children)))),u.children&&l.push.apply(l,Bt(i(u.children)))}}),l},r=[];if(t!==void 0)r.push.apply(r,Bt(n(t)));else{var a;r.push.apply(r,Bt(n((a=Be())===null||a===void 0?void 0:a.subTree.children)))}return r.filter(function(i){var o;return((o=i.type)===null||o===void 0?void 0:o.name)===e})}/**
 * tdesign v0.8.4
 * (c) 2022 TDesign Group
 * @license MIT
 */function oD(e,t,n,r){var a=Be(),i=a.emit,o=q();return o.value=n,typeof e.value!="undefined"?[e,r||function(){}]:typeof t.value!="undefined"?[t,function(l){for(var u=arguments.length,s=new Array(u>1?u-1:0),c=1;c<u;c++)s[c-1]=arguments[c];i==null||i.apply(void 0,["update:modelValue",l].concat(s)),r==null||r.apply(void 0,[l].concat(s))}]:[o,function(l){o.value=l;for(var u=arguments.length,s=new Array(u>1?u-1:0),c=1;c<u;c++)s[c-1]=arguments[c];r==null||r.apply(void 0,[l].concat(s))}]}/**
 * tdesign v0.8.4
 * (c) 2022 TDesign Group
 * @license MIT
 */var sD={block:Boolean,content:{type:[String,Function]},disabled:Boolean,ghost:Boolean,icon:{type:Function},loading:Boolean,shape:{type:String,default:"square",validator:function(t){return t?["square","round"].includes(t):!0}},size:{type:String,default:"medium",validator:function(t){return t?["small","medium","large"].includes(t):!0}},theme:{type:String,default:"default",validator:function(t){return t?["default","primary","danger"].includes(t):!0}},variant:{type:String,default:"base",validator:function(t){return t?["base","outline","text"].includes(t):!0}},onClick:Function};/**
 * tdesign v0.8.4
 * (c) 2022 TDesign Group
 * @license MIT
 */function Rv(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function xv(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Rv(Object(n),!0).forEach(function(r){te(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Rv(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var nb=_e.prefix,aa="".concat(nb,"-button"),rb=ee({name:aa,components:{TNode:st},props:sD,emits:["click"],setup:function(t,n){var r=St(t,n.emit),a=Be(),i=N(function(){var s;return["".concat(aa),t.size?xt.SIZE[t.size]:"","".concat(aa,"--").concat(t.variant),(s={},te(s,"".concat(aa,"--").concat(t.theme),t.theme),te(s,"".concat(aa,"--").concat(t.shape),t.shape),te(s,"".concat(aa,"--ghost"),t.ghost),te(s,"".concat(nb,"-size-full-width"),t.block),te(s,xt.STATUS.disabled,t.disabled),te(s,xt.STATUS.loading,t.loading),s)]}),o=N(function(){return Yt(a,"default","content")}),l=N(function(){return t.loading?pt(O0):ze(a,"icon")}),u=function(c){!t.loading&&!t.disabled?r("click",c):c.stopPropagation()};return xv(xv({name:aa},He(t)),{},{buttonContent:o,iconContent:l,buttonClass:i,onClick:u})}}),lD=["disabled","aria-disabled"];function uD(e,t,n,r,a,i){var o=ge("t-node");return H(),W("button",{class:z(e.buttonClass),disabled:e.disabled,role:"button","aria-disabled":e.disabled,onClick:t[0]||(t[0]=function(){return e.onClick&&e.onClick.apply(e,arguments)})},[R(o,{content:e.iconContent},null,8,["content"]),J("span",{class:z("".concat(e.name,"__text"))},[R(o,{content:e.buttonContent},null,8,["content"])],2)],10,lD)}rb.render=uD;/**
 * tdesign v0.8.4
 * (c) 2022 TDesign Group
 * @license MIT
 */var Oa=Le(rb);/**
 * tdesign v0.8.4
 * (c) 2022 TDesign Group
 * @license MIT
 */var cD=_e.prefix,cu="".concat(cD,"-button-group"),ab=ee({name:cu,props:{type:{type:String,default:"default"}},setup:function(t){var n=N(function(){return["".concat(cu),"".concat(cu,"--").concat(t.type)]});return{classes:n}}});function dD(e,t,n,r,a,i){return H(),W("div",{class:z(e.classes)},[Ye(e.$slots,"default")],2)}ab.render=dD;/**
 * tdesign v0.8.4
 * (c) 2022 TDesign Group
 * @license MIT
 */var fD=Le(ab);/**
 * tdesign v0.8.4
 * (c) 2022 TDesign Group
 * @license MIT
 */var hD={align:{type:String,default:"center",validator:function(t){return t?["left","right","center"].includes(t):!0}},content:{type:[String,Function]},dashed:Boolean,default:{type:[String,Function]},layout:{type:String,default:"horizontal",validator:function(t){return t?["horizontal","vertical"].includes(t):!0}},lineColor:{type:String,default:""}};/**
 * tdesign v0.8.4
 * (c) 2022 TDesign Group
 * @license MIT
 */function $v(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Mv(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?$v(Object(n),!0).forEach(function(r){te(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$v(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var vD=_e.prefix,Ra="".concat(vD,"-divider"),ib=ee({name:Ra,components:{TNode:st},props:hD,setup:function(t){var n=Be(),r=N(function(){return Yt(n,"default","content")}),a=N(function(){var i;return["".concat(Ra),"".concat(Ra,"--hairline"),(i={},te(i,"".concat(Ra,"--content-").concat(t.align),r.value),te(i,"".concat(Ra,"--dashed"),t.dashed),te(i,"".concat(Ra,"-vertical"),t.layout==="vertical"),i)]});return Mv(Mv({},He(t)),{},{dividerContent:r,dividerClass:a})}});function mD(e,t,n,r,a,i){var o=ge("t-node");return H(),W("div",{role:"separator",class:z(e.dividerClass),style:De("border-color:".concat(e.lineColor))},[R(o,{content:e.dividerContent},null,8,["content"])],6)}ib.render=mD;/**
 * tdesign v0.8.4
 * (c) 2022 TDesign Group
 * @license MIT
 */var gD=Le(ib);/**
 * tdesign v0.8.4
 * (c) 2022 TDesign Group
 * @license MIT
 */var pD={align:{type:String,default:"middle",validator:function(t){return t?["top","middle","bottom"].includes(t):!0}},arrow:Boolean,bordered:{type:Boolean,default:!0},description:{type:[String,Function]},hover:Boolean,image:{type:[String,Function]},leftIcon:{type:Function},note:{type:[String,Function]},required:Boolean,rightIcon:{type:Function},title:{type:[String,Function]},onClick:Function};/**
 * tdesign v0.8.4
 * (c) 2022 TDesign Group
 * @license MIT
 */function Fv(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Bv(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Fv(Object(n),!0).forEach(function(r){te(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Fv(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var yD=_e.prefix,xa="".concat(yD,"-cell"),ob=ee({name:xa,components:{TNode:st},props:pD,emits:["click"],setup:function(t,n){var r=St(t,n.emit),a=Be(),i=N(function(){return Yt(a,"default","note")}),o=N(function(){return ze(a,"title")}),l=N(function(){return ze(a,"description")}),u=N(function(){return t.arrow?pt(C0):ze(a,"rightIcon")}),s=N(function(){return ze(a,"leftIcon")}),c=N(function(){var v;return["".concat(xa),"".concat(xa,"--").concat(t.align),(v={},te(v,"".concat(xa,"--hover"),t.hover),te(v,"".concat(xa,"--bordered"),t.bordered),v)]}),d=function(S){return r("click",S)};return Bv(Bv({},He(t)),{},{name:xa,onClick:d,styleCell:c,rightIconContent:u,leftIconContent:s,noteContent:i,titleContent:o,descriptionContent:l})}});function bD(e,t,n,r,a,i){var o=ge("t-node");return H(),W("div",{class:z(e.styleCell),onClick:t[0]||(t[0]=function(){return e.onClick&&e.onClick.apply(e,arguments)})},[e.leftIconContent?(H(),W("div",{key:0,class:z("".concat(e.name,"__left-icon"))},[R(o,{content:e.leftIconContent},null,8,["content"])],2)):se("",!0),e.titleContent?(H(),W("div",{key:1,class:z("".concat(e.name,"__title"))},[R(o,{content:e.titleContent},null,8,["content"]),e.required?(H(),W("span",{key:0,class:z("".concat(e.name,"--required"))},"\xA0*",2)):se("",!0),e.descriptionContent?(H(),W("div",{key:1,class:z("".concat(e.name,"__description"))},[R(o,{content:e.descriptionContent},null,8,["content"])],2)):se("",!0)],2)):se("",!0),e.noteContent?(H(),W("div",{key:2,class:z("".concat(e.name,"__note"))},[R(o,{content:e.noteContent},null,8,["content"])],2)):se("",!0),e.rightIconContent?(H(),W("div",{key:3,class:z("".concat(e.name,"__right-icon"))},[R(o,{content:e.rightIconContent},null,8,["content"])],2)):se("",!0)],2)}ob.render=bD;/**
 * tdesign v0.8.4
 * (c) 2022 TDesign Group
 * @license MIT
 */var Bd=Le(ob);/**
 * tdesign v0.8.4
 * (c) 2022 TDesign Group
 * @license MIT
 */var SD={bordered:Boolean,title:{type:String,default:""}};/**
 * tdesign v0.8.4
 * (c) 2022 TDesign Group
 * @license MIT
 */var TD=_e.prefix,Nv="".concat(TD,"-cell-group"),sb=ee({name:Nv,props:SD,setup:function(){return{name:Nv}}});function CD(e,t,n,r,a,i){var o;return H(),W("div",{class:z(e.name)},[e.title?(H(),W("div",{key:0,class:z("".concat(e.name,"__title"))},[Ye(e.$slots,"title",{},function(){return[tt(Ae(e.title),1)]})],2)):se("",!0),J("div",{class:z((o={},te(o,"".concat(e.name,"__container"),!0),te(o,"border--top-bottom",e.bordered),o))},[Ye(e.$slots,"default")],2)],2)}sb.render=CD;/**
 * tdesign v0.8.4
 * (c) 2022 TDesign Group
 * @license MIT
 */var lb=Le(sb);function ED(e){if(Array.isArray(e))return e}function wD(e,t){var n=e==null?null:typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r=[],a=!0,i=!1,o,l;try{for(n=n.call(e);!(a=(o=n.next()).done)&&(r.push(o.value),!(t&&r.length===t));a=!0);}catch(u){i=!0,l=u}finally{try{!a&&n.return!=null&&n.return()}finally{if(i)throw l}}return r}}function OD(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ot(e,t){return ED(e)||wD(e,t)||tb(e,t)||OD()}/**
 * tdesign v0.8.4
 * (c) 2022 TDesign Group
 * @license MIT
 */var kD={align:{type:String,default:"left",validator:function(t){return t?["left","right"].includes(t):!0}},checkAll:Boolean,checked:{type:Boolean,default:void 0},modelValue:{type:Boolean,default:void 0},defaultChecked:Boolean,content:{type:[String,Function]},contentDisabled:Boolean,default:{type:[String,Function]},disabled:{type:Boolean,default:void 0},icon:{type:Array},indeterminate:Boolean,label:{type:[String,Function]},maxContentRow:{type:Number,default:5},maxLabelRow:{type:Number,default:3},name:{type:String,default:""},readonly:Boolean,value:{type:[String,Number]},onChange:Function};/**
 * tdesign v0.8.4
 * (c) 2022 TDesign Group
 * @license MIT
 */function jv(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Uv(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?jv(Object(n),!0).forEach(function(r){te(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):jv(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var _D=_e.prefix,Vv="".concat(_D,"-checkbox"),Nd=ee({name:Vv,components:{TNode:st,MinusCircleFilledIcon:YO},props:kD,emits:["update:checked","update:modelValue","change"],setup:function(t,n){var r=Vv,a=t.icon||[pt(Rd),pt(E0)],i=Ut(t,n.emit,"checked","change"),o=Ot(i,2),l=o[0],u=o[1],s=Be(),c=Qe("checkboxGroup",void 0),d=N(function(){return Yt(s,"label","default")}),v=N(function(){return t.checkAll&&c!==void 0?c.indeterminate.value:t.indeterminate}),S=N(function(){return t.checkAll?c==null?void 0:c.isCheckAll.value:c!==void 0&&t.value!==void 0?!!c.checkedMap.value[t.value]:l.value}),E=N(function(){return t.disabled!==void 0?t.disabled:!!(c!=null&&c.disabled.value)}),m=N(function(){var g;return["".concat(r),(g={},te(g,xt.STATUS.checked,S.value),te(g,xt.STATUS.disabled,E.value),te(g,xt.STATUS.indeterminate,v.value),g)]}),f=function(h,y){if(!E.value&&!(y==="content"&&t.contentDisabled)){var b=!S.value;u(b,{e:h}),h.stopPropagation(),c&&c!==null&&c!==void 0&&c.onCheckedChange&&c.onCheckedChange({checked:b,checkAll:t.checkAll,e:h,option:t})}};return Uv(Uv({},He(t)),{},{isChecked:S,checkIcons:a,labelContent:d,isDisabled:E,flagName:r,componentClass:m,indeterminate:v,handleChange:f})}}),AD=["name","value","disabled","readonly","checked","indeterminate"],DD=["name","value","disabled","readonly","checked","indeterminate"];function PD(e,t,n,r,a,i){var o,l=ge("t-node"),u=ge("minus-circle-filled-icon");return H(),W("div",{class:z(e.componentClass)},[J("div",{class:z("".concat(e.flagName,"__content-wrap"))},[e.align==="left"?(H(),W("span",{key:0,class:z("".concat(e.flagName,"__icon-left"))},[J("input",{type:"checkbox",name:e.name,class:z("".concat(e.flagName,"__original-left")),value:e.value,disabled:e.isDisabled,readonly:e.readonly,checked:e.isChecked,indeterminate:e.indeterminate,onClick:t[0]||(t[0]=function(){return e.handleChange&&e.handleChange.apply(e,arguments)})},null,10,AD),e.indeterminate?(H(),Oe(u,{key:1})):(H(),Oe(l,{key:0,content:e.checkIcons[e.isChecked?0:1]},null,8,["content"]))],2)):se("",!0),e.labelContent?(H(),W("span",{key:1,class:z((o={},te(o,"".concat(e.flagName,"__label"),!0),te(o,"".concat(e.flagName,"__label-left"),e.align==="right"),o)),onClick:t[1]||(t[1]=function(s){return e.handleChange(s,"content")})},[R(l,{content:e.labelContent},null,8,["content"])],2)):se("",!0),e.align==="right"?(H(),W("span",{key:2,class:z("".concat(e.flagName,"__icon-right"))},[J("input",{type:"checkbox",name:e.name,class:z("".concat(e.flagName,"__original-right")),value:e.value,disabled:e.isDisabled,readonly:e.readonly,checked:e.isChecked,indeterminate:e.indeterminate,onClick:t[2]||(t[2]=function(){return e.handleChange&&e.handleChange.apply(e,arguments)})},null,10,DD),e.indeterminate?(H(),Oe(u,{key:1})):(H(),Oe(l,{key:0,content:e.checkIcons[e.isChecked?0:1]},null,8,["content"]))],2)):se("",!0)],2)],2)}Nd.render=PD;/**
 * tdesign v0.8.4
 * (c) 2022 TDesign Group
 * @license MIT
 */var ub=Le(Nd);function ID(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var _l=ID,LD=Vo,RD=_l,xD="[object AsyncFunction]",$D="[object Function]",MD="[object GeneratorFunction]",FD="[object Proxy]";function BD(e){if(!RD(e))return!1;var t=LD(e);return t==$D||t==MD||t==xD||t==FD}var cb=BD,ND=yr,jD=ND["__core-js_shared__"],UD=jD,du=UD,Hv=function(){var e=/[^.]+$/.exec(du&&du.keys&&du.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function VD(e){return!!Hv&&Hv in e}var HD=VD,zD=Function.prototype,GD=zD.toString;function KD(e){if(e!=null){try{return GD.call(e)}catch{}try{return e+""}catch{}}return""}var db=KD,WD=cb,YD=HD,qD=_l,XD=db,ZD=/[\\^$.*+?()[\]{}|]/g,JD=/^\[object .+?Constructor\]$/,QD=Function.prototype,eP=Object.prototype,tP=QD.toString,nP=eP.hasOwnProperty,rP=RegExp("^"+tP.call(nP).replace(ZD,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function aP(e){if(!qD(e)||YD(e))return!1;var t=WD(e)?rP:JD;return t.test(XD(e))}var iP=aP;function oP(e,t){return e==null?void 0:e[t]}var sP=oP,lP=iP,uP=sP;function cP(e,t){var n=uP(e,t);return lP(n)?n:void 0}var ka=cP,dP=ka,fP=dP(Object,"create"),Al=fP,zv=Al;function hP(){this.__data__=zv?zv(null):{},this.size=0}var vP=hP;function mP(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var gP=mP,pP=Al,yP="__lodash_hash_undefined__",bP=Object.prototype,SP=bP.hasOwnProperty;function TP(e){var t=this.__data__;if(pP){var n=t[e];return n===yP?void 0:n}return SP.call(t,e)?t[e]:void 0}var CP=TP,EP=Al,wP=Object.prototype,OP=wP.hasOwnProperty;function kP(e){var t=this.__data__;return EP?t[e]!==void 0:OP.call(t,e)}var _P=kP,AP=Al,DP="__lodash_hash_undefined__";function PP(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=AP&&t===void 0?DP:t,this}var IP=PP,LP=vP,RP=gP,xP=CP,$P=_P,MP=IP;function _i(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}_i.prototype.clear=LP;_i.prototype.delete=RP;_i.prototype.get=xP;_i.prototype.has=$P;_i.prototype.set=MP;var FP=_i;function BP(){this.__data__=[],this.size=0}var NP=BP;function jP(e,t){return e===t||e!==e&&t!==t}var fb=jP,UP=fb;function VP(e,t){for(var n=e.length;n--;)if(UP(e[n][0],t))return n;return-1}var Dl=VP,HP=Dl,zP=Array.prototype,GP=zP.splice;function KP(e){var t=this.__data__,n=HP(t,e);if(n<0)return!1;var r=t.length-1;return n==r?t.pop():GP.call(t,n,1),--this.size,!0}var WP=KP,YP=Dl;function qP(e){var t=this.__data__,n=YP(t,e);return n<0?void 0:t[n][1]}var XP=qP,ZP=Dl;function JP(e){return ZP(this.__data__,e)>-1}var QP=JP,eI=Dl;function tI(e,t){var n=this.__data__,r=eI(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this}var nI=tI,rI=NP,aI=WP,iI=XP,oI=QP,sI=nI;function Ai(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Ai.prototype.clear=rI;Ai.prototype.delete=aI;Ai.prototype.get=iI;Ai.prototype.has=oI;Ai.prototype.set=sI;var Pl=Ai,lI=ka,uI=yr,cI=lI(uI,"Map"),jd=cI,Gv=FP,dI=Pl,fI=jd;function hI(){this.size=0,this.__data__={hash:new Gv,map:new(fI||dI),string:new Gv}}var vI=hI;function mI(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var gI=mI,pI=gI;function yI(e,t){var n=e.__data__;return pI(t)?n[typeof t=="string"?"string":"hash"]:n.map}var Il=yI,bI=Il;function SI(e){var t=bI(this,e).delete(e);return this.size-=t?1:0,t}var TI=SI,CI=Il;function EI(e){return CI(this,e).get(e)}var wI=EI,OI=Il;function kI(e){return OI(this,e).has(e)}var _I=kI,AI=Il;function DI(e,t){var n=AI(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this}var PI=DI,II=vI,LI=TI,RI=wI,xI=_I,$I=PI;function Di(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Di.prototype.clear=II;Di.prototype.delete=LI;Di.prototype.get=RI;Di.prototype.has=xI;Di.prototype.set=$I;var Ud=Di,MI="__lodash_hash_undefined__";function FI(e){return this.__data__.set(e,MI),this}var BI=FI;function NI(e){return this.__data__.has(e)}var jI=NI,UI=Ud,VI=BI,HI=jI;function Js(e){var t=-1,n=e==null?0:e.length;for(this.__data__=new UI;++t<n;)this.add(e[t])}Js.prototype.add=Js.prototype.push=VI;Js.prototype.has=HI;var hb=Js;function zI(e,t,n,r){for(var a=e.length,i=n+(r?1:-1);r?i--:++i<a;)if(t(e[i],i,e))return i;return-1}var vb=zI;function GI(e){return e!==e}var KI=GI;function WI(e,t,n){for(var r=n-1,a=e.length;++r<a;)if(e[r]===t)return r;return-1}var YI=WI,qI=vb,XI=KI,ZI=YI;function JI(e,t,n){return t===t?ZI(e,t,n):qI(e,XI,n)}var QI=JI,eL=QI;function tL(e,t){var n=e==null?0:e.length;return!!n&&eL(e,t,0)>-1}var nL=tL;function rL(e,t,n){for(var r=-1,a=e==null?0:e.length;++r<a;)if(n(t,e[r]))return!0;return!1}var aL=rL;function iL(e){return function(t){return e(t)}}var mb=iL;function oL(e,t){return e.has(t)}var gb=oL,sL=hb,lL=nL,uL=aL,cL=Md,dL=mb,Kv=gb,fL=Math.min;function hL(e,t,n){for(var r=n?uL:lL,a=e[0].length,i=e.length,o=i,l=Array(i),u=1/0,s=[];o--;){var c=e[o];o&&t&&(c=cL(c,dL(t))),u=fL(c.length,u),l[o]=!n&&(t||a>=120&&c.length>=120)?new sL(o&&c):void 0}c=e[0];var d=-1,v=l[0];e:for(;++d<a&&s.length<u;){var S=c[d],E=t?t(S):S;if(S=n||S!==0?S:0,!(v?Kv(v,E):r(s,E,n))){for(o=i;--o;){var m=l[o];if(!(m?Kv(m,E):r(e[o],E,n)))continue e}v&&v.push(E),s.push(S)}}return s}var vL=hL;function mL(e){return e}var Vd=mL;function gL(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}var pL=gL,yL=pL,Wv=Math.max;function bL(e,t,n){return t=Wv(t===void 0?e.length-1:t,0),function(){for(var r=arguments,a=-1,i=Wv(r.length-t,0),o=Array(i);++a<i;)o[a]=r[t+a];a=-1;for(var l=Array(t+1);++a<t;)l[a]=r[a];return l[t]=n(o),yL(e,this,l)}}var SL=bL;function TL(e){return function(){return e}}var CL=TL,EL=ka,wL=function(){try{var e=EL(Object,"defineProperty");return e({},"",{}),e}catch{}}(),OL=wL,kL=CL,Yv=OL,_L=Vd,AL=Yv?function(e,t){return Yv(e,"toString",{configurable:!0,enumerable:!1,value:kL(t),writable:!0})}:_L,DL=AL,PL=800,IL=16,LL=Date.now;function RL(e){var t=0,n=0;return function(){var r=LL(),a=IL-(r-n);if(n=r,a>0){if(++t>=PL)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var xL=RL,$L=DL,ML=xL,FL=ML($L),BL=FL,NL=Vd,jL=SL,UL=BL;function VL(e,t){return UL(jL(e,t,NL),e+"")}var HL=VL,zL=9007199254740991;function GL(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=zL}var Hd=GL,KL=cb,WL=Hd;function YL(e){return e!=null&&WL(e.length)&&!KL(e)}var pb=YL,qL=pb,XL=ki;function ZL(e){return XL(e)&&qL(e)}var JL=ZL,QL=JL;function eR(e){return QL(e)?e:[]}var tR=eR,nR=Md,rR=vL,aR=HL,iR=tR,oR=aR(function(e){var t=nR(e,iR);return t.length&&t[0]===e[0]?rR(t):[]}),sR=oR;/**
 * tdesign v0.8.4
 * (c) 2022 TDesign Group
 * @license MIT
 */var lR={disabled:Boolean,max:{type:Number,default:void 0},name:{type:String,default:""},options:{type:Array,default:function(){return[]}},value:{type:Array,default:void 0},modelValue:{type:Array,default:void 0},defaultValue:{type:Array,default:function(){return[]}},onChange:Function};/**
 * tdesign v0.8.4
 * (c) 2022 TDesign Group
 * @license MIT
 */function qv(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function fu(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?qv(Object(n),!0).forEach(function(r){te(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qv(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var yb=_e.prefix,uR="".concat(yb,"-checkbox-group"),bb=ee({name:uR,components:{Checkbox:Nd},props:lR,emits:["update:value","update:modelValue","change"],setup:function(t,n){var r=He(t),a=r.options,i=Ut(t,n.emit,"value","change"),o=Ot(i,2),l=o[0],u=o[1],s=q({}),c=q([]),d=N(function(){var p,C=(p=c.value)===null||p===void 0?void 0:p.map(function(k){return k.value});if(l.value instanceof Array){var w=sR(l.value,C);return w.length}return 0}),v=N(function(){return l.value instanceof Array&&l.value.length!==c.value.length-1?!1:d.value===c.value.length-1}),S=N(function(){return!v.value&&d.value<c.value.length&&d.value!==0}),E=N(function(){return l.value instanceof Array?l.value.join():""});oe(E,function(){if(l.value instanceof Array){var p={};l.value.forEach(function(C){p[C]=!0}),s.value=p}},{immediate:!0}),oe(a,function(p){if(!p)return[];c.value=p.map(function(C){var w={};return Nt(C)!=="object"?w={label:String(C),value:C}:(w=fu({},C),w.disabled=w.disabled===void 0?t.disabled:w.disabled),w})},{immediate:!0});var m=N(function(){return t.max!==void 0&&l.value.length===t.max}),f=function(C){var w=C.checked,k=C.checkAll,_=C.e;k?b(w,{e:_}):h(C)},g=function(C){var w=[];return C==null||C.forEach(function(k){var _=k.props;((_==null?void 0:_["check-all"])===""||(_==null?void 0:_["check-all"])===!0)&&(_.checkAll=!0),_&&w.push(_)}),w};et(function(){var p=n.slots.default&&n.slots.default();p!==void 0&&(c.value=g(iD("t-checkbox")))});var h=function(C){var w=C.option.value;if(l.value instanceof Array){if(w===void 0)return;var k=Bt(l.value);if(C.checked)k.push(w);else{var _=k.indexOf(w);k.splice(_,1)}u(k,{e:C.e,current:C.option.value,type:C.checked?"check":"uncheck"})}else console.warn("TDesign CheckboxGroup Warn: `value` must be an array, instead of ".concat(Nt(l.value)))},y=function(){for(var C=new Set,w=0,k=c.value.length;w<k;w++){var _=c.value[w];if(!_.checkAll&&_.value!==void 0&&(C.add(_.value),m.value))break}return Bt(C)},b=function(C,w){var k=C?y():[];u(k,{e:w.e,type:C?"check":"uncheck",current:void 0})};return dt("checkboxGroup",fu(fu({},He(t)),{},{groupCheckValue:l,indeterminate:S,isCheckAll:v,checkedMap:s,onCheckedChange:f})),{prefix:yb,optionList:c}}}),cR={key:1};function dR(e,t,n,r,a,i){var o=ge("checkbox");return H(),W("div",{class:z("".concat(e.prefix,"-checkbox-group"))},[e.options&&e.options.length?(H(),W("span",cR,[(H(!0),W(Ce,null,Ne(e.optionList,function(l,u){return H(),Oe(o,{key:u,name:l.name,label:l.label,value:l.value,"check-all":l.checkAll},null,8,["name","label","value","check-all"])}),128))])):Ye(e.$slots,"default",{key:0})],2)}bb.render=dR;/**
 * tdesign v0.8.4
 * (c) 2022 TDesign Group
 * @license MIT
 */var Sb=Le(bb);/**
 * tdesign v0.8.4
 * (c) 2022 TDesign Group
 * @license MIT
 */var fR={align:{type:String,default:"left",validator:function(t){return["left","center","right"].includes(t)}},autocomplete:Boolean,autofocus:Boolean,clearable:Boolean,disabled:Boolean,errorMessage:{type:String,default:""},label:{type:[String,Function]},maxcharacter:{type:Number},maxlength:{type:Number},name:{type:String,default:""},placeholder:{type:String,default:void 0},prefixIcon:{type:Function},readonly:Boolean,required:Boolean,size:{type:String,default:"small",validator:function(t){return["small","medium"].includes(t)}},suffix:{type:[String,Function]},suffixIcon:{type:Function},type:{type:String,default:"text",validator:function(t){return["text","number","url","tel","password","search","submit","hidden"].includes(t)}},value:{type:[String,Number]},modelValue:{type:[String,Number]},defaultValue:{type:[String,Number]},onBlur:Function,onChange:Function,onClear:Function,onFocus:Function};/**
 * tdesign v0.8.4
 * (c) 2022 TDesign Group
 * @license MIT
 */function Xv(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Zv(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Xv(Object(n),!0).forEach(function(r){te(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Xv(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var hR=_e.prefix,ia="".concat(hR,"-input"),Tb=ee({name:ia,components:{TNode:st,TCell:Bd,CloseCircleFilledIcon:w0},props:fR,emits:["update:value","update:modelValue","click-icon","focus","blur","change","clear"],setup:function(t,n){var r=St(t,n.emit),a=q(),i=He(t),o=i.autofocus,l=Be(),u=Ut(t,n.emit,"value","change"),s=Ot(u,1),c=s[0],d=N(function(){var P;return P={},te(P,"".concat(ia,"--label"),!0),te(P,xt.STATUS.disabled,t.disabled),P}),v=fk(a,{initialValue:t.autofocus}),S=v.focused,E=N(function(){return ze(l,"label")}),m=N(function(){return ze(l,"suffixIcon")}),f=N(function(){return ze(l,"prefixIcon")}),g=N(function(){return ze(l,"suffix")}),h=N(function(){return["".concat(ia,"__control"),te({},"".concat(ia,"__control--").concat(t.align),t.align!=="left")]}),y=N(function(){var P;return P={},te(P,ia,!0),te(P,"".concat(ia,"__error"),!!t.errorMessage),P}),b=function(){var D=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",I=a.value,x=String(D);!I||I.value!==x&&(I.value=x)},p=function(D){var I=D.inputType&&D.inputType==="insertCompositionText";D.isComposing||I||C(D)},C=function(D){var I=D.target.value,x=t.maxcharacter;if(x&&x>0&&!Number.isNaN(x)){var L=k0(I,x);L.length;var $=L.characters,M=$===void 0?"":$;c.value=M}else c.value=I;Re(function(){return b(c.value)})},w=function(){S.value=!0},k=function(){var D;(D=a.value)===null||D===void 0||D.blur()};_0({focus:w,blur:k});var _=function(D){c.value="",S.value=!0,r("clear",{e:D})},T=function(D){r("focus",c.value,{e:D})},O=function(D){r("blur",c.value,{e:D})},A=function(D){C(D)};return oe(o,function(P,D){P===!0&&Re(function(){S.value=!0})}),Zv(Zv({componentName:ia},He(t)),{},{styleLabel:d,styleWrapper:y,styleControl:h,suffixContent:g,suffixIconContent:m,prefixIconContent:f,labelContent:E,innerValue:c,inputRef:a,handleClear:_,handleFocus:T,handleBlur:O,handleInput:p,handleCompositionend:A})}}),vR=["value","name","type","disabled","autocomplete","placeholder","readonly","maxlength"];function mR(e,t,n,r,a,i){var o=ge("t-node"),l=ge("close-circle-filled-icon"),u=ge("t-cell");return H(),Oe(u,{required:e.required,class:z(e.styleWrapper)},aw({note:Ue(function(){return[J("div",{class:z("".concat(e.componentName,"__wrap"))},[J("input",{ref:"inputRef",value:e.innerValue,name:e.name,class:z(e.styleControl),type:e.type,disabled:e.disabled,autocomplete:e.autocomplete?"On":"Off",placeholder:e.placeholder,readonly:e.readonly,maxlength:e.maxlength||-1,onFocus:t[0]||(t[0]=function(){return e.handleFocus&&e.handleFocus.apply(e,arguments)}),onBlur:t[1]||(t[1]=function(){return e.handleBlur&&e.handleBlur.apply(e,arguments)}),onInput:t[2]||(t[2]=function(){return e.handleInput&&e.handleInput.apply(e,arguments)}),onCompositionend:t[3]||(t[3]=function(){return e.handleCompositionend&&e.handleCompositionend.apply(e,arguments)})},null,42,vR),e.clearable&&String(e.innerValue).length>0?(H(),W("div",{key:0,class:z("".concat(e.componentName,"__wrap--icon")),onClick:t[4]||(t[4]=function(){return e.handleClear&&e.handleClear.apply(e,arguments)})},[R(l)],2)):se("",!0),e.suffixContent?(H(),W("div",{key:1,class:z("".concat(e.componentName,"__wrap--suffix"))},[R(o,{content:e.suffixContent},null,8,["content"])],2)):se("",!0)],2),e.errorMessage?(H(),W("div",{key:0,class:z("".concat(e.componentName,"__error-msg"))},Ae(e.errorMessage),3)):se("",!0)]}),_:2},[e.labelContent?{name:"title",fn:Ue(function(){return[J("div",{class:z(e.styleLabel)},[R(o,{content:e.labelContent},null,8,["content"])],2)]})}:void 0,e.prefixIconContent?{name:"leftIcon",fn:Ue(function(){return[R(o,{content:e.prefixIconContent},null,8,["content"])]})}:void 0,e.suffixIconContent?{name:"rightIcon",fn:Ue(function(){return[R(o,{content:e.suffixIconContent},null,8,["content"])]})}:void 0]),1032,["required","class"])}Tb.render=mR;/**
 * tdesign v0.8.4
 * (c) 2022 TDesign Group
 * @license MIT
 */var Cb=Le(Tb);/**
 * tdesign v0.8.4
 * (c) 2022 TDesign Group
 * @license MIT
 */var gR={autofocus:Boolean,autosize:Boolean,disabled:Boolean,label:{type:[String,Function]},maxcharacter:{type:Number},maxlength:{type:Number},name:{type:String,default:""},placeholder:{type:String,default:void 0},value:{type:[String,Number],default:void 0},modelValue:{type:[String,Number],default:void 0},defaultValue:{type:[String,Number],default:void 0},onBlur:Function,onChange:Function,onFocus:Function};function pR(e,t){if(e==null)return{};var n={},r=Object.keys(e),a,i;for(i=0;i<r.length;i++)a=r[i],!(t.indexOf(a)>=0)&&(n[a]=e[a]);return n}function yR(e,t){if(e==null)return{};var n=pR(e,t),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],!(t.indexOf(r)>=0)&&(!Object.prototype.propertyIsEnumerable.call(e,r)||(n[r]=e[r]))}return n}/**
 * tdesign v0.8.4
 * (c) 2022 TDesign Group
 * @license MIT
 */function bR(){var e=navigator,t=e.userAgent,n=t.indexOf("compatible")>-1&&t.indexOf("MSIE")>-1,r=t.indexOf("Trident")>-1&&t.indexOf("rv:11.0")>-1;if(n){var a=new RegExp("MSIE (\\d+\\.\\d+);"),i=t.match(a);if(!i)return-1;var o=parseFloat(i[1]);return o<7?6:o}return r?11:Number.MAX_SAFE_INTEGER}var SR=["padding-top","padding-bottom","padding-left","padding-right","font-family","font-weight","font-size","font-variant","text-rendering","text-transform","width","text-indent","border-width","box-sizing","line-height","letter-spacing"];function TR(e){var t=window.getComputedStyle(e),n=t.getPropertyValue("box-sizing")||t.getPropertyValue("-moz-box-sizing")||t.getPropertyValue("-webkit-box-sizing"),r=parseFloat(t.getPropertyValue("padding-bottom"))+parseFloat(t.getPropertyValue("padding-top")),a=parseFloat(t.getPropertyValue("border-bottom-width"))+parseFloat(t.getPropertyValue("border-top-width")),i=SR.map(function(o){return"".concat(o,":").concat(t.getPropertyValue(o))}).join(";");return{paddingSize:r,borderSize:a,boxSizing:n,sizingStyle:i}}/**
 * tdesign v0.8.4
 * (c) 2022 TDesign Group
 * @license MIT
 */var CR=`
  min-height:0 !important;
  max-height:none !important;
  height:0 !important;
  visibility:hidden !important;
  overflow:hidden !important;
  position:absolute !important;
  z-index:-1000 !important;
  top:0 !important;
  right:0 !important
`,On;function Jv(e){var t,n,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null;On||(On=document.createElement("textarea"),document.body.appendChild(On));var i=TR(e),o=i.paddingSize,l=i.borderSize,u=i.boxSizing,s=i.sizingStyle;On.setAttribute("style","".concat(s,";").concat(CR)),On.value=e.value||e.placeholder||"";var c=On.scrollHeight,d={},v=u==="border-box",S=u==="content-box";v?c+=l:S&&(c-=o),On.value="";var E=On.scrollHeight-o;(t=On)===null||t===void 0||(n=t.parentNode)===null||n===void 0||n.removeChild(On),On=null;var m=function(h){var y=E*h;return v&&(y=y+o+l),y};if(r!==null){var f=m(r);c=Math.max(f,c),d.minHeight="".concat(f,"px")}return a!==null&&(c=Math.min(m(a),c)),d.height="".concat(c,"px"),d}/**
 * tdesign v0.8.4
 * (c) 2022 TDesign Group
 * @license MIT
 */function Qv(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function em(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Qv(Object(n),!0).forEach(function(r){te(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Qv(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var ER=_e.prefix,tm="".concat(ER,"-textarea"),Eb=ee({name:tm,props:gR,emits:["update:value","update:modelValue","click-icon","focus","blur","change","clear"],setup:function(t,n){var r=St(t,n.emit),a=q(null),i=q(),o=q(0),l=Ut(t,n.emit,"value","change"),u=Ot(l,1),s=u[0];s.value=s.value||"";var c=function(){var y=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",b=a.value,p=String(y);!b||b.value!==p&&(b.value=p)},d=function(){if(t.autosize===!0)i.value=Jv(a.value);else if(Nt(t.autosize)==="object"){var y=t.autosize,b=y.minRows,p=y.maxRows;i.value=Jv(a.value,b,p)}else n.attrs.rows&&(i.value={height:"auto",minHeight:"auto"});console.log("calc",i.value)},v=function(y){y.isComposing||y.inputType==="insertCompositionText"||S(y)},S=function(y){var b=y.target,p=b.value;if(t.maxcharacter&&t.maxcharacter>0&&!Number.isNaN(t.maxcharacter)){var C=k0(p,t.maxcharacter),w=C.length,k=w===void 0?0:w,_=C.characters,T=_===void 0?"":_;s.value=T,o.value=k}else s.value=p,o.value=String(s.value).length;Re(function(){return c(s.value)}),d()},E=function(y){S(y)},m=function(y){s.value="",r("clear",{e:y})},f=function(y){r("focus",s.value,{e:y})},g=function(y){r("blur",s.value,{e:y})};return et(function(){if(t.autofocus){var h;(h=a.value)===null||h===void 0||h.focus()}d()}),em(em({componentName:tm},He(t)),{},{innerValue:s,textareaRef:a,textareaStyle:i,textareaLength:o,handleClear:m,handleFocus:f,handleBlur:g,handleInput:v,handleCompositionend:E})}}),wR=["name","maxlength","disabled","placeholder"];function OR(e,t,n,r,a,i){return H(),W("div",{class:z(e.componentName)},[Ge(J("textarea",{ref:"textareaRef","onUpdate:modelValue":t[0]||(t[0]=function(o){return e.innerValue=o}),style:De(e.textareaStyle),name:e.name,maxlength:e.maxlength||-1,disabled:e.disabled,placeholder:e.placeholder,onFocus:t[1]||(t[1]=function(){return e.handleFocus&&e.handleFocus.apply(e,arguments)}),onBlur:t[2]||(t[2]=function(){return e.handleBlur&&e.handleBlur.apply(e,arguments)}),onInput:t[3]||(t[3]=function(){return e.handleInput&&e.handleInput.apply(e,arguments)}),onCompositionend:t[4]||(t[4]=function(){return e.handleCompositionend&&e.handleCompositionend.apply(e,arguments)})},null,44,wR),[[s0,e.innerValue]]),e.maxcharacter||e.maxlength?(H(),W("div",{key:0,class:z("".concat(e.componentName,"--count"))},Ae("".concat(e.textareaLength,"/").concat(e.maxcharacter||e.maxlength)),3)):se("",!0)],2)}Eb.render=OR;/**
 * tdesign v0.8.4
 * (c) 2022 TDesign Group
 * @license MIT
 */var kR=Le(Eb);/**
 * tdesign v0.8.4
 * (c) 2022 TDesign Group
 * @license MIT
 */var _R=_e.prefix,hu="".concat(_R,"-mask"),wb=ee({name:hu,props:{transparent:{type:Boolean,default:!1}},emits:["click"],setup:function(t,n){var r=N(function(){var a;return a={},te(a,"".concat(hu),!t.transparent),te(a,"".concat(hu,"--transparent"),t.transparent),a});return{classes:r,handleClick:function(){return n.emit("click")}}}});function AR(e,t,n,r,a,i){return H(),W("div",{class:z(e.classes),onClick:t[0]||(t[0]=function(){return e.handleClick&&e.handleClick.apply(e,arguments)}),onTouchmove:t[1]||(t[1]=qn(function(){},["prevent"]))},null,34)}wb.render=AR;/**
 * tdesign v0.8.4
 * (c) 2022 TDesign Group
 * @license MIT
 */var Ll=Le(wb);/**
 * tdesign v0.8.4
 * (c) 2022 TDesign Group
 * @license MIT
 */var DR={percentage:{type:Number,default:0},showText:{type:Boolean,default:!0},color:{type:String,default:""},bgColor:{type:String,default:""},textColor:{type:String,default:""},type:{type:String,default:"info"}};/**
 * tdesign v0.8.4
 * (c) 2022 TDesign Group
 * @license MIT
 */var PR=_e.prefix,Hi="".concat(PR,"-progress"),Ob=ee({name:Hi,props:DR,setup:function(t,n){console.log("context",n);var r=N(function(){var u;return["".concat(Hi),(u={},te(u,"".concat(Hi,"--info"),t.type==="info"),te(u,"".concat(Hi,"--error"),t.type==="error"),u)]}),a=N(function(){return t.showText}),i=N(function(){return{width:"".concat(t.percentage>0?"".concat(t.percentage,"%"):0),backgroundColor:"".concat(t.color?t.color:"")}}),o=N(function(){return{backgroundColor:"".concat(t.bgColor?t.bgColor:"")}}),l=N(function(){return{color:"".concat(t.textColor?t.textColor:"")}});return{name:Hi,rootClasses:r,showTextPercentage:a,progressStyle:i,progressBgColorStyle:o,percentageTextStyle:l}}});function IR(e,t,n,r,a,i){return H(),W("div",{class:z(e.rootClasses)},[J("div",{class:z("".concat(e.name,"__inner"))},[J("div",{class:z("".concat(e.name,"__bd")),style:De(e.progressBgColorStyle)},[J("div",{class:z("".concat(e.name,"__percent")),style:De(e.progressStyle)},null,6)],6),e.showTextPercentage?(H(),W("div",{key:0,class:z("".concat(e.name,"__ft"))},[J("span",{class:z("".concat(e.name,"__text-percentage")),style:De(e.percentageTextStyle)},Ae(e.percentage)+"%",7)],2)):se("",!0)],2)],2)}Ob.render=IR;/**
 * tdesign v0.8.4
 * (c) 2022 TDesign Group
 * @license MIT
 */var LR=Le(Ob);/**
 * tdesign v0.8.4
 * (c) 2022 TDesign Group
 * @license MIT
 */var RR={align:{type:String,default:"left",validator:function(t){return["left","right"].includes(t)}},checked:{type:Boolean,default:void 0},modelValue:{type:Boolean,default:void 0},defaultChecked:Boolean,content:{type:[String,Function]},contentDisabled:Boolean,default:{type:[String,Function]},disabled:{type:Boolean,default:void 0},icon:{type:[String,Array],default:"fill-circle"},label:{type:[String,Function]},name:{type:String,default:""},value:{type:[String,Number,Boolean],default:!1},onChange:Function};/**
 * tdesign v0.8.4
 * (c) 2022 TDesign Group
 * @license MIT
 */var xR=_e.prefix,zi="".concat(xR,"-radio"),$R={"fill-circle":[pt(Rd),pt(E0)],"stroke-line":[pt(xd),""]},zd=ee({name:zi,components:{TNode:st},props:RR,emits:["update:checked","update:modelValue","change"],setup:function(t,n){var r=q(t.name),a=Ut(t,n.emit,"checked","change"),i=Ot(a,2),o=i[0],l=i[1],u=Qe("rootGroupProps",{}),s=Qe("rootGroupValue"),c=Qe("rootGroupChange",Zs),d=N(function(){return u.disabled!==void 0?u.disabled:t.disabled}),v=N(function(){return s!==void 0&&l(s.value===t.value),o.value}),S=Be(),E=N(function(){return Yt(S,"default","label")}),m=N(function(){return ze(S,"content")}),f=N(function(){if(!!t.icon){var p="",C=v.value?0:1,w=Array.isArray(t.icon);return w?p=t.icon[C]:p=$R[t.icon][C],p}}),g=N(function(){var p;return["".concat(zi),(p={},te(p,xt.STATUS.checked,v.value),te(p,xt.STATUS.disabled,d.value),p)]}),h=N(function(){var p;return["".concat(zi,"__content-title"),(p={},te(p,xt.STATUS.disabled,d.value),te(p,"".concat(zi,"__content-right-title"),t.align==="right"),p)]}),y=function(C){t.contentDisabled||b(C)},b=function(C){d.value||(c!==Zs&&t.value!==void 0?c(t.value,C):l(!v.value,C))};return{name:zi,checked:v,radioName:r,radioContent:m,labelContent:E,iconContent:f,disabled:d,radioContentChange:y,radioOrgChange:b,radioClasses:g,titleClasses:h}}}),MR=["name","disabled","checked","value"],FR=["name","disabled","checked","value"];function BR(e,t,n,r,a,i){var o=ge("t-node");return H(),W("div",{class:z(e.radioClasses)},[J("span",{class:z(["".concat(e.name,"__content-wrap")])},[e.align==="left"?(H(),W("span",{key:0,class:z("".concat(e.name,"__icon-wrap"))},[J("input",{type:"radio",name:e.radioName,class:z("".concat(e.name,"__original-left")),disabled:e.disabled,checked:e.checked,value:e.value,onClick:t[0]||(t[0]=function(){return e.radioOrgChange&&e.radioOrgChange.apply(e,arguments)})},null,10,MR),R(o,{content:e.iconContent},null,8,["content"])],2)):se("",!0),e.labelContent||e.radioContent?(H(),W("span",{key:1,class:z(["".concat(e.name,"__label-wrap")])},[e.labelContent?(H(),W("span",{key:0,class:z(e.titleClasses),onClick:t[1]||(t[1]=function(){return e.radioOrgChange&&e.radioOrgChange.apply(e,arguments)})},[R(o,{content:e.labelContent},null,8,["content"])],2)):se("",!0),e.radioContent?(H(),W("div",{key:1,class:z("".concat(e.name,"__content-inner")),onClick:t[2]||(t[2]=function(){return e.radioContentChange&&e.radioContentChange.apply(e,arguments)})},[R(o,{content:e.radioContent},null,8,["content"])],2)):se("",!0)],2)):se("",!0),e.align==="right"?(H(),W("span",{key:2,class:z("".concat(e.name,"__icon-wrap ").concat(e.name,"__icon-right-wrap"))},[J("input",{type:"radio",name:e.radioName,class:z("".concat(e.name,"__original-right")),disabled:e.disabled,checked:e.checked,value:e.value,onClick:t[3]||(t[3]=function(){return e.radioOrgChange&&e.radioOrgChange.apply(e,arguments)})},null,10,FR),R(o,{content:e.iconContent},null,8,["content"])],2)):se("",!0)],2)],2)}zd.render=BR;/**
 * tdesign v0.8.4
 * (c) 2022 TDesign Group
 * @license MIT
 */var kb=Le(zd);/**
 * tdesign v0.8.4
 * (c) 2022 TDesign Group
 * @license MIT
 */var NR={disabled:{type:Boolean,default:void 0},name:{type:String,default:""},options:{type:Array},value:{type:[String,Number,Boolean],default:void 0},modelValue:{type:[String,Number,Boolean],default:void 0},defaultValue:{type:[String,Number,Boolean],default:!1},onChange:Function};/**
 * tdesign v0.8.4
 * (c) 2022 TDesign Group
 * @license MIT
 */function nm(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function rm(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?nm(Object(n),!0).forEach(function(r){te(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):nm(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var jR=_e.prefix,am="".concat(jR,"-radio-group"),_b=ee({name:am,components:{Radio:zd},props:NR,emits:["update:value","update:modelValue","change"],setup:function(t,n){var r=Ut(t,n.emit,"value","change"),a=Ot(r,2),i=a[0],o=a[1],l=N(function(){var s;return(s=t.options)===null||s===void 0?void 0:s.map(function(c){var d=c;return(typeof c=="string"||typeof c=="number")&&(d={value:c,label:c.toString()}),d})}),u=function(c,d){o(c,{e:d})};return dt("rootGroupProps",t),dt("rootGroupValue",i),dt("rootGroupChange",u),rm(rm({},He(t)),{},{componentName:am,groupOptions:l})}});function UR(e,t,n,r,a,i){var o=ge("radio");return H(),W("div",{class:z(e.componentName),role:"radiogroup"},[e.options?(H(!0),W(Ce,{key:0},Ne(e.groupOptions,function(l,u){return H(),Oe(o,{key:"radio-group-options-".concat(u,"-").concat(Math.random()),name:e.name,checked:e.value===l.value,disabled:"disabled"in l?l.disabled:e.disabled,value:l.value,label:l.label},null,8,["name","checked","disabled","value","label"])}),128)):se("",!0),e.options?se("",!0):Ye(e.$slots,"default",{key:1})],2)}_b.render=UR;/**
 * tdesign v0.8.4
 * (c) 2022 TDesign Group
 * @license MIT
 */var Ab=Le(_b);/**
 * tdesign v0.8.4
 * (c) 2022 TDesign Group
 * @license MIT
 */var VR={allowHalf:Boolean,clearable:Boolean,color:{type:[String,Array]},count:{type:Number,default:5},disabled:Boolean,gap:{type:Number,default:6},showText:Boolean,size:{type:String,default:""},texts:{type:Array},value:{type:Number,default:void 0},modelValue:{type:Number,default:void 0},defaultValue:{type:Number,default:void 0},variant:{type:String,default:"filled",validator:function(t){return["outline","filled"].includes(t)}},onChange:Function};/**
 * tdesign v0.8.4
 * (c) 2022 TDesign Group
 * @license MIT
 */var HR=_e.prefix,Gi="".concat(HR,"-rate"),Db=ee({name:Gi,components:{StarFilledIcon:uv,StarIcon:fv},props:VR,emits:["change"],setup:function(t,n){var r=q(null),a=Ut(t,n.emit,"value","change"),i=Ot(a,1),o=i[0],l=N(function(){return Array.isArray(t.texts)&&t.texts.length>0?t.texts[o.value-1]:o.value>0?"".concat(o.value," \u5206"):""}),u=N(function(){return Array.isArray(t.color)?t.color:[t.color,null]}),s=function(h){return{color:o.value+.5===h||o.value>=h?u.value[0]:"transparent"}},c=function(h){return{color:o.value>=h?u.value[0]:"transparent"}},d=t.variant==="filled"?uv:fv,v=function(h){var y;return y={},te(y,"".concat(Gi,"--item"),!0),te(y,"".concat(Gi,"-full"),o.value>=h),te(y,"".concat(Gi,"-half"),o.value+.5===h),y};function S(g){t.disabled||(o.value=t.clearable&&o.value===g?0:g)}var E=[];function m(){if(E=[],r.value){var g=r.value.children;Array.from(g).forEach(function(h,y){var b=h.getBoundingClientRect(),p=b.left,C=b.width;t.allowHalf?E.push({score:y+.5,left:p},{score:y+1,left:p+C/2}):E.push({score:y+1,left:p})})}}function f(g){if(!t.disabled){for(var h=g.touches[0].clientX,y=t.allowHalf?.5:1,b=E.length-1;b>=0;b--)if(h>E[b].left){y=E[b].score;break}else y=0;o.value=y}}return{name:q(Gi),classes:v,rateWrapper:r,actualVal:o,iconHalfStyle:s,iconFullStyle:c,colors:u,startComponent:d,rateText:l,onClick:S,onTouchstart:m,onTouchmove:f}}}),zR=["onClick"],GR=["onClick"],KR=["onClick"];function WR(e,t,n,r,a,i){var o=ge("star-filled-icon");return H(),W("div",{class:z("".concat(e.name))},[J("ul",{ref:"rateWrapper",class:z("".concat(e.name,"--list")),onTouchstart:t[0]||(t[0]=function(){return e.onTouchstart&&e.onTouchstart.apply(e,arguments)}),onTouchmove:t[1]||(t[1]=function(){return e.onTouchmove&&e.onTouchmove.apply(e,arguments)})},[(H(!0),W(Ce,null,Ne(e.count,function(l){return H(),W("li",{key:l,class:z(e.classes(l))},[J("span",{class:z("".concat(e.name,"--placeholder"))},[(H(),Oe(No(e.startComponent),{size:e.size,style:De({color:e.colors[1]})},null,8,["size","style"]))],2),e.allowHalf?(H(),W(Ce,{key:0},[J("span",{class:z("".concat(e.name,"--icon-left")),onClick:function(s){return e.onClick(l-.5)}},[R(o,{size:e.size,style:De(e.iconHalfStyle(l))},null,8,["size","style"])],10,zR),J("span",{class:z("".concat(e.name,"--icon-right")),onClick:function(s){return e.onClick(l)}},[R(o,{size:e.size,style:De(e.iconFullStyle(l))},null,8,["size","style"])],10,GR)],64)):(H(),W("span",{key:1,class:z("".concat(e.name,"--icon")),onClick:function(s){return e.onClick(l)}},[R(o,{size:e.size,style:De(e.iconFullStyle(l))},null,8,["size","style"])],10,KR))],2)}),128))],34),e.showText?(H(),W("span",{key:0,class:z("".concat(e.name,"--text"))},Ae(e.rateText),3)):se("",!0)],2)}Db.render=WR;/**
 * tdesign v0.8.4
 * (c) 2022 TDesign Group
 * @license MIT
 */var YR=Le(Db);/**
 * tdesign v0.8.4
 * (c) 2022 TDesign Group
 * @license MIT
 */var qR={colors:{type:Array},customValue:{type:Array},disabled:Boolean,label:{type:String,default:""},value:{type:[String,Number,Boolean],default:void 0},modelValue:{type:[String,Number,Boolean],default:void 0},defaultValue:{type:[String,Number,Boolean],default:void 0},onChange:Function};/**
 * tdesign v0.8.4
 * (c) 2022 TDesign Group
 * @license MIT
 */function im(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function om(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?im(Object(n),!0).forEach(function(r){te(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):im(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var XR=_e.prefix,vu="".concat(XR,"-switch"),Pb=ee({name:vu,props:qR,emits:["change","update:value","update:modelValue"],setup:function(t,n){var r=t.customValue||[!0,!1],a=Ut(t,n.emit,"value","change"),i=Ot(a,1),o=i[0],l=A0(r,o.value),u=l.state,s=l.toggle,c=N(function(){var S;return["".concat(vu),(S={},te(S,xt.STATUS.checked,o.value===r[0]),te(S,xt.STATUS.disabled,t.disabled),S)]}),d=N(function(){return!t.disabled&&t.colors?"background-color: ".concat(o.value===r[0]?t.colors[0]:t.colors[1]):""});function v(S){S.preventDefault(),!t.disabled&&(s(),o.value=u.value)}return om(om({name:vu,classes:c,backgroundColor:d},He(t)),{},{handleToggle:v})}});function ZR(e,t,n,r,a,i){return H(),W("span",{class:z(e.classes)},[e.label?(H(),W("span",{key:0,class:z("".concat(e.name,"__text"))},Ae(e.label),3)):se("",!0),J("span",{class:z("".concat(e.name,"__node")),style:De(e.backgroundColor),onClick:t[0]||(t[0]=function(){return e.handleToggle&&e.handleToggle.apply(e,arguments)})},null,6)],2)}Pb.render=ZR;/**
 * tdesign v0.8.4
 * (c) 2022 TDesign Group
 * @license MIT
 */var JR=Le(Pb);/**
 * tdesign v0.8.4
 * (c) 2022 TDesign Group
 * @license MIT
 */var QR={disabled:Boolean,disableInput:Boolean,inputWidth:{type:Number},max:{type:Number,default:100},min:{type:Number,default:0},step:{type:Number,default:1},theme:{type:String,default:"normal",validator:function(t){return["normal","grey"].includes(t)}},value:{type:[String,Number],default:void 0},modelValue:{type:[String,Number],default:void 0},defaultValue:{type:[String,Number],default:0},onBlur:Function,onChange:Function,onOverlimit:Function};/**
 * tdesign v0.8.4
 * (c) 2022 TDesign Group
 * @license MIT
 */function sm(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function ex(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?sm(Object(n),!0).forEach(function(r){te(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):sm(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var tx=_e.prefix,lm="".concat(tx,"-stepper"),nx=xt.STATUS.disabled,Ib=ee({name:lm,props:QR,emits:["update:value","update:modelValue","blur","change","overlimit"],setup:function(t,n){var r=Ut(t,n.emit,"value","change"),a=Ot(r,1),i=a[0],o=St(t,n.emit),l=He(t),u=l.min,s=l.max,c=l.inputWidth,d=l.theme,v=d.value==="grey",S=c?{width:"".concat(c.value,"px")}:"",E=function(p){return Math.min(Math.max(u.value,p,Number.MIN_SAFE_INTEGER),s.value,Number.MAX_SAFE_INTEGER)},m=function(){i.value+t.step>t.max||t.disabled||(i.value+=t.step)},f=function(){i.value-t.step<t.min||t.disabled||(i.value-=t.step)},g=function(p){var C=p.target.value.split(".")[0].replace(/[^-0-9]/g,"");C.trim()===""?i.value=0:(y(Number(C)),i.value=E(Number(C)))},h=function(p){g(p),o("blur",i.value)},y=function(p){p<Math.max(u.value,Number.MIN_SAFE_INTEGER)&&o("overlimit","minus"),p>Math.min(s.value,Number.MAX_SAFE_INTEGER)&&o("overlimit","plus")};return ex({name:lm,disabledClass:nx,minusValue:f,stepperValue:i,plusValue:m,changeValue:g,inputStyle:S,handleBlur:h,isPureMode:v},He(t))}}),rx=["disabled","readonly"];function ax(e,t,n,r,a,i){return H(),W("div",{class:z(["".concat(e.name),"".concat(e.disabled?e.disabledClass:""),"".concat(e.isPureMode?"".concat(e.name,"__pure"):"")])},[J("span",{class:z(["".concat(e.name,"__minus"),"".concat(e.disabled||e.stepperValue<=e.min?"t-is-disabled":"")]),onClick:t[0]||(t[0]=function(){return e.minusValue&&e.minusValue.apply(e,arguments)})},null,2),Ge(J("input",{"onUpdate:modelValue":t[1]||(t[1]=function(o){return e.stepperValue=o}),class:z("".concat(e.name,"__input")),type:"tel",style:De(e.inputStyle),pattern:"[0-9]*",disabled:e.disableInput||e.disabled,readonly:e.disableInput,onBlur:t[2]||(t[2]=function(){return e.handleBlur&&e.handleBlur.apply(e,arguments)})},null,46,rx),[[s0,e.stepperValue]]),J("span",{class:z(["".concat(e.name,"__plus"),"".concat(e.disabled||e.stepperValue>=e.max?"t-is-disabled":"")]),onClick:t[3]||(t[3]=function(){return e.plusValue&&e.plusValue.apply(e,arguments)})},null,2)],2)}Ib.render=ax;/**
 * tdesign v0.8.4
 * (c) 2022 TDesign Group
 * @license MIT
 */var ix=Le(Ib);/**
 * tdesign v0.8.4
 * (c) 2022 TDesign Group
 * @license MIT
 */var $s=_e.prefix,Qo="".concat($s,"-slider"),ox={range:{type:Boolean,default:!1},marks:Object,max:{type:Number,default:100},min:{type:Number,default:0},modelValue:{type:[Number,Array],default:0},showValue:{type:Boolean,default:!1},step:{type:Number,default:1},disabled:{type:Boolean,default:!1}},Lb=ee({name:Qo,props:ox,emits:["drag-start","drag-end","update:modelValue","change"],setup:function(t,n){var r=q(null),a=q(null),i=N(function(){var h;return["".concat(Qo,"-wrap"),(h={},te(h,"".concat($s,"-is-disabled"),t.disabled),te(h,"".concat($s,"-is-mark"),t.marks),te(h,"".concat($s,"-is-value"),t.showValue),h)]}),o=N(function(){return["".concat(Qo,"__handle")]}),l=N(function(){var h=[];return!t.range&&t.marks&&Object.keys(t.marks).forEach(function(y){h.push(parseInt(y,10))}),h.sort(function(y,b){return y-b})}),u=q(""),s=q([]),c=N({set:function(y){s.value=y},get:function(){var y;if(s!=null&&(y=s.value)!==null&&y!==void 0&&y.length)return s.value;var b=[];return t.range?b=t.modelValue:b=[t.modelValue],b}}),d=Me({startValue:0,newValue:0,startX:0,deltaX:0,offsetX:0});function v(h,y){t.disabled||(h.stopPropagation(),h.preventDefault(),d.deltaX=0,d.offsetX=0,d.startX=h.touches[0].clientX,d.startValue=f(c.value[y]),u.value="start")}function S(h,y){if(!t.disabled&&!!r.value){h.stopPropagation(),h.preventDefault(),u.value==="start"&&n.emit("drag-start");var b=h.touches[0];d.deltaX=b.clientX-d.startX,d.offsetX=Math.abs(d.deltaX),u.value="dragging";var p=r.value.getBoundingClientRect(),C=d.deltaX,w=p.width,k=C/w*(t.max-t.min);d.newValue=d.startValue+k,g(d.newValue,y)}}function E(h,y){t.disabled||(h.stopPropagation(),h.preventDefault(),u.value==="dragging"&&(g(d.newValue,y,!0),n.emit("drag-end")),u.value="")}function m(h){if(h.stopPropagation(),!t.disabled&&!!a.value){var y=a.value.getBoundingClientRect(),b=h.clientX-y.left,p=y.width,C=+t.min+b/p*(t.max-t.min),w=0;t.range&&Math.abs(C-c.value[0])>Math.abs(C-c.value[1])&&(w=1),d.startValue=c.value[w],g(C,w,!0)}}function f(h){var y=h;if(!t.range&&t.marks){var b;if(l!=null&&(b=l.value)!==null&&b!==void 0&&b.length){var p=l.value[0];l.value.forEach(function(C){Math.abs(C-h)<Math.abs(p-h)&&(p=C)}),y=p}}return Math.round(Math.max(t.min,Math.min(y,t.max))/t.step)*t.step}function g(h,y){var b=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,p=f(h);t.range?b&&p!==d.startValue?(c.value[y]=p,c.value=c.value.sort(function(C,w){return C-w}),n.emit("update:modelValue",c),n.emit("change",c)):p!==d.startValue&&(c.value[y]=p):b&&p!==d.startValue?(c.value=[p],n.emit("update:modelValue",p),n.emit("change",p)):p!==d.startValue&&(c.value=[p])}return{name:q(Qo),rootRef:r,barRef:a,value:c,classes:i,handleClass:o,onTouchStart:v,onTouchMove:S,onTouchEnd:E,onClick:m}}}),sx=["onTouchstart","onTouchmove","onTouchend"],lx=["textContent"],ux=["textContent"],cx=["onTouchstart","onTouchmove","onTouchend"],dx=["textContent"];function fx(e,t,n,r,a,i){return H(),W("div",{ref:"rootRef",class:z(e.classes)},[e.range?(H(),W("div",{key:1,class:z("".concat(e.name)),onClick:t[1]||(t[1]=function(){return e.onClick&&e.onClick.apply(e,arguments)})},[J("div",{ref:"barRef",class:z("".concat(e.name,"__bar"))},null,2),J("div",{class:z("".concat(e.name,"__track")),style:De("left:".concat(e.value[0],"%;width:").concat(e.value[1]-e.value[0],"%"))},null,6),(H(!0),W(Ce,null,Ne(e.value,function(o,l){return H(),W("div",{key:l+1,class:z(e.handleClass),style:De("left:".concat(e.value[l],"%")),onTouchstart:function(s){return e.onTouchStart(s,l)},onTouchmove:function(s){return e.onTouchMove(s,l)},onTouchend:function(s){return e.onTouchEnd(s,l)}},null,46,cx)}),128)),J("div",{class:z("".concat(e.name,"__mark"))},[(H(!0),W(Ce,null,Ne(e.value,function(o,l){return H(),W("div",{key:l,class:z("".concat(e.name,"__mark-text")),style:De("left:".concat(e.value[l],"%")),textContent:Ae(o)},null,14,dx)}),128))],2)],2)):(H(),W(Ce,{key:0},[J("div",{class:z("".concat(e.name)),onClick:t[0]||(t[0]=function(){return e.onClick&&e.onClick.apply(e,arguments)})},[J("div",{ref:"barRef",class:z("".concat(e.name,"__bar"))},null,2),J("div",{class:z("".concat(e.name,"__track")),style:De("width:".concat(e.value[0],"%"))},null,6),(H(!0),W(Ce,null,Ne(e.value,function(o,l){return H(),W("div",{key:l+1,class:z(e.handleClass),style:De("left:".concat(e.value[l],"%")),onTouchstart:function(s){return e.onTouchStart(s,l)},onTouchmove:function(s){return e.onTouchMove(s,l)},onTouchend:function(s){return e.onTouchEnd(s,l)}},null,46,sx)}),128)),e.marks?(H(),W("div",{key:0,class:z("".concat(e.name,"__mark"))},[(H(!0),W(Ce,null,Ne(e.marks,function(o,l){return H(),W("div",{key:l,class:z("".concat(e.name,"__mark-text")),style:De("left:".concat(l,"%")),textContent:Ae(o)},null,14,lx)}),128))],2)):se("",!0)],2),e.showValue?(H(!0),W(Ce,{key:0},Ne(e.value,function(o,l){return H(),W("div",{key:l,class:z("".concat(e.name,"-wrap__value")),textContent:Ae(o)},null,10,ux)}),128)):se("",!0)],64))],2)}Lb.render=fx;/**
 * tdesign v0.8.4
 * (c) 2022 TDesign Group
 * @license MIT
 */var hx=Le(Lb);/**
 * tdesign v0.8.4
 * (c) 2022 TDesign Group
 * @license MIT
 */var vx={lockScroll:{type:Boolean,default:!0},placement:{type:String,default:"top",validator:function(t){return["top","left","right","bottom","center"].includes(t)}},showOverlay:{type:Boolean,default:!0},to:String,transitionName:{type:String,default:""},visible:{type:Boolean,default:void 0},modelValue:{type:Boolean,default:void 0},defaultVisible:{type:Boolean,default:void 0},zIndex:{type:Number},onClose:Function,onClosed:Function,onOpen:Function,onOpened:Function,onVisibleChange:Function};/**
 * tdesign v0.8.4
 * (c) 2022 TDesign Group
 * @license MIT
 */var Rb=_e.prefix,Ki="".concat(Rb,"-popup"),xb=ee({name:Ki,components:{TMask:Ll},props:vx,emits:["open","close","opened","closed","visible-change","update:visible","update:modelValue"],setup:function(t,n){var r=St(t,n.emit),a=Ut(t,n.emit,"visible","visible-change"),i=Ot(a,1),o=i[0],l=N(function(){return Ki}),u=N(function(){return{zIndex:t.zIndex}}),s=N(function(){var m;return m={},te(m,"".concat(Ki,"--content"),!0),te(m,"".concat(Ki,"--content-").concat(t.placement),!0),m}),c=N(function(){var m=t.transitionName,f=t.placement;return m||(f==="center"?"fade-zoom":"slide-".concat(f))});oe(function(){return o.value},function(m){var f="".concat(Rb,"-overflow-hidden");m?(document.body.classList.add(f),r("open"),o.value=!0):document.body.classList.remove(f)});var d=function(){r("close"),o.value=!1},v=function(f){t.lockScroll&&f.preventDefault()},S=function(){return r("closed")},E=function(){return r("opened")};return{name:q(Ki),currentVisible:o,rootClasses:l,rootStyles:u,contentClasses:s,contentTransitionName:c,afterEnter:E,afterLeave:S,handleMaskClick:d,handleMove:v}}});function mx(e,t,n,r,a,i){var o=ge("t-mask");return H(),Oe(Bo,{to:e.to,disabled:!e.to},[J("div",{class:z([e.rootClasses,e.$attrs.class]),style:De(e.rootStyles),onTouchmove:t[0]||(t[0]=function(){return e.handleMove&&e.handleMove.apply(e,arguments)})},[R(mn,{name:"fade"},{default:Ue(function(){return[Ge(R(o,{transparent:!e.showOverlay,onClick:e.handleMaskClick},null,8,["transparent","onClick"]),[[qe,e.currentVisible]])]}),_:1}),R(mn,{name:e.contentTransitionName,onAfterEnter:e.afterEnter,onAfterLeave:e.afterLeave},{default:Ue(function(){return[Ge(J("div",{class:z(e.contentClasses)},[Ye(e.$slots,"default")],2),[[qe,e.currentVisible]])]}),_:3},8,["name","onAfterEnter","onAfterLeave"])],38)],8,["to","disabled"])}xb.render=mx;/**
 * tdesign v0.8.4
 * (c) 2022 TDesign Group
 * @license MIT
 */var Rl=Le(xb);/**
 * tdesign v0.8.4
 * (c) 2022 TDesign Group
 * @license MIT
 */var gx={actions:{type:[Array,Function]},buttonLayout:{type:String,default:"horizontal",validator:function(t){return t?["horizontal","vertical"].includes(t):!0}},cancelBtn:{type:[String,Object,Function],default:""},closeOnOverlayClick:{type:Boolean,default:!0},confirmBtn:{type:[String,Object,Function],default:""},content:{type:[String,Function]},destroyOnClose:Boolean,preventScrollThrough:{type:Boolean,default:!0},showInAttachedElement:Boolean,showOverlay:{type:Boolean,default:!0},title:{type:[String,Function]},visible:Boolean,width:{type:[String,Number]},zIndex:{type:Number},onCancel:Function,onClose:Function,onConfirm:Function,onOverlayClick:Function};/**
 * tdesign v0.8.4
 * (c) 2022 TDesign Group
 * @license MIT
 */function um(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function px(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?um(Object(n),!0).forEach(function(r){te(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):um(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var yx=_e.prefix,gt="".concat(yx,"-dialog"),fr=ee({name:gt,components:{TPopup:Rl,TNode:st},props:gx,emits:["update:visible","confirm","overlay-click","cancel","change","close"],setup:function(t,n){var r=Be(),a=Yt(r,"default","content"),i=q(""),o=N(function(){return"".concat(gt)}),l=N(function(){return"".concat(gt,"__box")}),u=N(function(){return["".concat(gt,"__header"),te({},"".concat(gt,"__header--has-content"),a)]}),s=N(function(){return"".concat(gt,"__title")}),c=N(function(){return"".concat(gt,"__body")}),d=N(function(){return"".concat(gt,"__text")}),v=N(function(){return"".concat(gt,"__input")}),S=N(function(){return"".concat(gt,"__footer")}),E=N(function(){return["".concat(gt,"__vertical-footer"),"".concat(gt,"__footer")]}),m=N(function(){return["".concat(gt,"__btn"),"".concat(gt,"__btn--default"),"".concat(gt,"__horizontal-btn")]}),f=N(function(){return["".concat(gt,"__btn"),"".concat(gt,"__btn--primary"),"".concat(gt,"__horizontal-btn")]}),g=N(function(){return["".concat(gt,"__btn"),"".concat(gt,"__btn--default"),"".concat(gt,"__vertical-btn")]}),h=N(function(){return["".concat(gt,"__btn"),"".concat(gt,"__btn--primary"),"".concat(gt,"__vertical-btn")]}),y=N(function(){return{zIndex:t.zIndex,width:typeof t.width=="string"?t.width:"".concat(t.width,"px")}}),b=function(){n.emit("update:visible",!1),n.emit("confirm")},p=function(){n.emit("update:visible",!1),n.emit("close","cancel"),n.emit("cancel")},C=function(){!t.closeOnOverlayClick||(n.emit("update:visible",!1),n.emit("close","overlay"),n.emit("overlay-click"))};return oe(function(){return t.visible},function(w){n.emit("change",w)}),px({innerValue:i,dClassName:o,dBoxClassName:l,dHeaderClassName:u,dTitleClassName:s,dBodyClassName:c,dTextClassName:d,dInputClassName:v,dFooterClassName:S,dFooterVerticalClassName:E,dDefaultBtnClassName:m,dConformBtnClassName:f,dVerticalDefaultBtnClassName:g,dVerticalConformBtnClassName:h,dialogContent:a,handleConfirm:b,handleCancel:p,handleOverlayClick:C,rootStyles:y},He(t))}});function bx(e,t,n,r,a,i){var o=ge("t-node"),l=ge("t-popup");return H(),Oe(l,{visible:e.visible,placement:"center","mask-transparent":!e.showOverlay,"teleport-disabled":!0,onClose:e.handleOverlayClick},{default:Ue(function(){return[J("div",{id:"root",class:z(e.dClassName),style:De(e.rootStyles)},[e.title?(H(),W("div",{key:0,class:z(e.dHeaderClassName)},[Ye(e.$slots,"header",{},function(){return[J("div",{class:z(e.dTitleClassName)},Ae(e.title),3)]})],2)):se("",!0),e.content?(H(),W("div",{key:1,class:z(e.dBodyClassName)},[J("div",{class:z(e.dTextClassName)},[R(o,{content:e.dialogContent},null,8,["content"])],2)],2)):se("",!0),e.buttonLayout!="vertical"?(H(),W("div",{key:2,class:z(e.dFooterClassName)},[e.cancelBtn?(H(),W("div",{key:0,class:z(e.dDefaultBtnClassName),onClick:t[0]||(t[0]=function(){return e.handleCancel&&e.handleCancel.apply(e,arguments)})},[Ye(e.$slots,"footer-cancel",{},function(){return[tt(Ae(e.cancelBtn),1)]})],2)):se("",!0),e.confirmBtn?(H(),W("div",{key:1,class:z(e.dConformBtnClassName),onClick:t[1]||(t[1]=function(){return e.handleConfirm&&e.handleConfirm.apply(e,arguments)})},[Ye(e.$slots,"footer-confirm",{},function(){return[tt(Ae(e.confirmBtn),1)]})],2)):se("",!0)],2)):se("",!0),e.buttonLayout=="vertical"?(H(),W("div",{key:3,class:z(e.dFooterVerticalClassName)},[e.confirmBtn?(H(),W("div",{key:0,class:z(e.dVerticalConformBtnClassName),onClick:t[2]||(t[2]=function(){return e.handleConfirm&&e.handleConfirm.apply(e,arguments)})},[Ye(e.$slots,"footer-confirm",{},function(){return[tt(Ae(e.confirmBtn),1)]})],2)):se("",!0),e.cancelBtn?(H(),W("div",{key:1,class:z(e.dVerticalDefaultBtnClassName),onClick:t[3]||(t[3]=function(){return e.handleCancel&&e.handleCancel.apply(e,arguments)})},[Ye(e.$slots,"footer-cancel",{},function(){return[tt(Ae(e.cancelBtn),1)]})],2)):se("",!0)],2)):se("",!0)],6)]}),_:3},8,["visible","mask-transparent","onClose"])}fr.render=bx;/**
 * tdesign v0.8.4
 * (c) 2022 TDesign Group
 * @license MIT
 */function cm(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function ai(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?cm(Object(n),!0).forEach(function(r){te(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):cm(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var Sx={title:"\u6E29\u99A8\u63D0\u9192",content:"",type:"",confirmBtn:"\u786E\u8BA4",cancelBtn:"\u53D6\u6D88",visible:!1,zIndex:2500,showOverlay:!0,width:"320px",closeOnOverlayClick:!1},$a;function Tx(e){var t=q(!1),n=document.createElement("div");document.body.appendChild(n);var r=ai(ai({},Sx),typeof e=="string"?{content:e}:e);return $a&&$a.clear(),$a=ee({render:function(){return pt(fr,ai(ai({},r),{},{visible:t.value,onConfirm:function(o){typeof r.onConfirm=="function"&&r.onConfirm(o),t.value=!1},onCancel:function(o){typeof r.onCancel=="function"&&r.onCancel(o),t.value=!1},onOverlayClick:function(o){typeof r.onOverlayClick=="function"&&r.onOverlayClick(o),t.value=!1},onClose:function(o){n.remove(),typeof r.onClose=="function"&&r.onClose(o)}}))}}),$a.clear=function(){n.remove()},jo($a).mount(n),Re(function(){t.value=!0}),$a}["show","alert","confirm"].forEach(function(e){fr[e]=function(t){var n={content:"",type:e};return typeof t=="string"?n.content=t:n=ai(ai({},n),t),Tx(n)}});fr.install=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";e.component(t||fr.name,fr),e.config.globalProperties.$dialog=fr,e.provide("$dialog",fr)};var Cx=fr;/**
 * tdesign v0.8.4
 * (c) 2022 TDesign Group
 * @license MIT
 */var Ex=_e.prefix,wx="".concat(Ex,"-action-sheet"),$b=ee({props:{items:{type:Array,required:!0}},emits:["selected"],setup:function(t,n){var r=function(i){n.emit("selected",i)};return{name:q(wx),handleSelected:r}}}),Ox=["disabled","onClick"];function kx(e,t,n,r,a,i){return H(),W("div",{class:z("".concat(e.name,"__menu"))},[(H(!0),W(Ce,null,Ne(e.items,function(o,l){return H(),W("button",{key:l,class:z("".concat(e.name,"__cell")),disabled:o.disabled,onClick:function(s){return e.handleSelected(l)}},[Ye(e.$slots,"cell",{item:o},function(){return[J("div",{class:z("".concat(e.name,"__cell-text")),style:De({color:o.color})},Ae(o.label),7)]})],10,Ox)}),128))],2)}$b.render=kx;/**
 * tdesign v0.8.4
 * (c) 2022 TDesign Group
 * @license MIT
 */var _x=_e.prefix,Ax="".concat(_x,"-action-sheet"),Mb=ee({props:{items:{type:Array,required:!0},count:{type:Number,default:8}},emits:["selected"],setup:function(t,n){var r=q(null),a=q(0),i=q(0),o=q(!0),l=0,u=0,s=!0,c=N(function(){return{transform:"translate3d(".concat(a.value,"px, 0, 0)"),transition:o.value?"transform 300ms":"all"}}),d=N(function(){return Math.ceil(t.items.length/t.count)}),v=N(function(){for(var y=[],b=0;b<d.value;b++){var p=t.items.slice(b*t.count,(b+1)*t.count);y.push(p)}return y}),S=function(b){n.emit("selected",b)},E=function(b){o.value=!0,r.value&&(a.value=d.value>1?b*r.value.offsetWidth*-1:0)},m=function(){return r.value?(d.value-1)*r.value.offsetWidth:0},f=function(b){s=!0,o.value=!1,l=b.touches[0].clientX,u=l-a.value},g=function(b){var p=b.touches[0].clientX,C=0,w=m();Math.abs(p-l)<15||(a.value=p-u,a.value>C&&(a.value=C,s=!1),Math.abs(a.value)>=w&&(a.value=w*-1,s=!1))},h=function(b){if(!!s){var p=b.changedTouches[0].clientX-l,C=Math.abs(p)>50?i.value+(p<0?1:-1):i.value;i.value=C,E(C)}};return{name:q(Ax),pageNum:d,actionItems:v,currentIndex:i,containerWrapper:r,wrapperStyle:c,handleSelected:S,handleTouchstart:f,handleTouchmove:g,handleTouchend:h}}}),Dx=["disabled","onClick"];function Px(e,t,n,r,a,i){return H(),W("div",{ref:"containerWrapper",class:z("".concat(e.name,"__menu-wrapper"))},[J("div",{class:z("".concat(e.name,"__menu-slider")),style:De(e.wrapperStyle),onTouchstart:t[0]||(t[0]=function(){return e.handleTouchstart&&e.handleTouchstart.apply(e,arguments)}),onTouchmove:t[1]||(t[1]=function(){return e.handleTouchmove&&e.handleTouchmove.apply(e,arguments)}),onTouchend:t[2]||(t[2]=function(){return e.handleTouchend&&e.handleTouchend.apply(e,arguments)})},[(H(!0),W(Ce,null,Ne(e.actionItems,function(o,l){return H(),W("div",{key:l,class:z("".concat(e.name,"__menu"))},[J("div",{class:z("".concat(e.name,"__menu-page"))},[(H(!0),W(Ce,null,Ne(o,function(u,s){return H(),W("button",{key:s,class:z("".concat(e.name,"__cell")),disabled:u.disabled,onClick:function(d){return e.handleSelected(s)}},[Ye(e.$slots,"cell",{item:u},function(){return[u.icon?(H(),W("div",{key:0,class:z("".concat(e.name,"__cell-icon")),style:De({backgroundImage:"url(".concat(u.icon,")")})},null,6)):se("",!0),J("div",{class:z("".concat(e.name,"__cell-text")),style:De({color:u.color})},Ae(u.label),7)]})],10,Dx)}),128))],2)],2)}),128))],38),e.pageNum>1?(H(),W("div",{key:0,class:z("".concat(e.name,"__indicator"))},[(H(!0),W(Ce,null,Ne(e.pageNum,function(o){var l;return H(),W("div",{key:o,class:z((l={},te(l,"".concat(e.name,"__indicator-item"),!0),te(l,"on",e.currentIndex===o-1),l))},null,2)}),128))],2)):se("",!0)],2)}Mb.render=Px;/**
 * tdesign v0.8.4
 * (c) 2022 TDesign Group
 * @license MIT
 */var Ix=_e.prefix,Wi="".concat(Ix,"-action-sheet"),Fb=ee({name:Wi,components:{TPopup:Rl,MenuList:$b,MenuGrid:Mb},props:{modelValue:Boolean,visible:{type:Boolean,default:!1},items:{type:Array,required:!0},type:{type:String,default:"list"},count:{type:Number,default:8},showCancel:{type:Boolean,default:!0},cancelText:{type:String,default:"\u53D6\u6D88"}},emits:["selected","update:modelValue","cancel","close"],setup:function(t,n){var r=St(t,n.emit),a=q([]),i=N(function(){return t.modelValue||t.visible}),o=N(function(){var c;return c={},te(c,"".concat(Wi,"__panel"),!0),te(c,"".concat(Wi,"__panel-list"),t.type==="list"),te(c,"".concat(Wi,"__panel-grid"),t.type==="grid"),c});oe(function(){return t.items},function(c){var d=JSON.parse(JSON.stringify(c));d=d.map(function(v){return typeof v=="string"?{label:v}:v}),a.value=d},{immediate:!0,deep:!0});var l=function(){r("cancel"),n.emit("update:modelValue",!1)},u=function(d){r("selected",t.items[d],d)},s=function(){r("close"),n.emit("update:modelValue",!1)};return{name:q(Wi),rootClasses:o,actionItems:a,currentVisible:i,handleCancel:l,handleSelected:u,handleClose:s}}});function Lx(e,t,n,r,a,i){var o=ge("menu-list"),l=ge("menu-grid"),u=ge("t-popup");return H(),Oe(u,{class:z(e.name),visible:e.currentVisible,placement:"bottom",onClose:e.handleClose},{default:Ue(function(){return[J("div",{class:z(e.rootClasses)},[e.type==="list"?(H(),Oe(o,{key:0,items:e.actionItems,onSelected:e.handleSelected},{cell:Ue(function(s){return[Ye(e.$slots,"cell",{item:s.item})]}),_:3},8,["items","onSelected"])):(H(),Oe(l,{key:1,items:e.actionItems,count:e.count,onSelected:e.handleSelected},{cell:Ue(function(s){return[Ye(e.$slots,"cell",{item:s.item})]}),_:3},8,["items","count","onSelected"])),e.showCancel?(H(),W(Ce,{key:2},[e.type==="list"?(H(),W("div",{key:0,class:z("".concat(e.name,"__separation"))},null,2)):se("",!0),J("button",{class:z("".concat(e.name,"__action")),onClick:t[0]||(t[0]=function(){return e.handleCancel&&e.handleCancel.apply(e,arguments)})},Ae(e.cancelText),3)],64)):se("",!0)],2)]}),_:3},8,["class","visible","onClose"])}Fb.render=Lx;/**
 * tdesign v0.8.4
 * (c) 2022 TDesign Group
 * @license MIT
 */var Rx=Le(Fb);/**
 * tdesign v0.8.4
 * (c) 2022 TDesign Group
 * @license MIT
 */var xx={color:{type:String,default:""},content:{type:[String,Function]},count:{type:[String,Number,Function],default:0},dot:Boolean,maxCount:{type:Number,default:99},offset:{type:Array},shape:{type:String,default:"circle",validator:function(t){return t?["circle","round","ribbon"].includes(t):!0}},showZero:Boolean,size:{type:String,default:"medium",validator:function(t){return t?["small","medium"].includes(t):!0}}};/**
 * tdesign v0.8.4
 * (c) 2022 TDesign Group
 * @license MIT
 */function dm(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function fm(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?dm(Object(n),!0).forEach(function(r){te(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):dm(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var Cr="".concat(_e.prefix,"-badge"),Bb=ee({name:Cr,components:{TNode:st},props:xx,setup:function(t){var n=Be(),r=N(function(){return Yt(n,"default","content")}),a=N(function(){return t.dot?"":ze(n,"count")}),i=N(function(){return r.value===void 0}),o=N(function(){return r.value!==void 0||t.showZero||t.dot||t.count!==0}),l=N(function(){var c;return c={},te(c,"".concat(Cr),!0),te(c,"".concat(Cr,"__ribbon--outer"),t.shape==="ribbon"),c}),u=N(function(){var c;return c={},te(c,"".concat(Cr,"__inner"),!0),te(c,"".concat(Cr,"--has-children"),!i.value),te(c,"".concat(Cr,"--").concat(t.size),t.size),te(c,"".concat(Cr,"--").concat(t.shape),t.shape&&!t.dot),te(c,"".concat(Cr,"--dot"),t.dot),c}),s=N(function(){if(!t.offset)return{};var c=Ot(t.offset,2),d=c[0],v=c[1];return d=isNaN(Number(d))?d:"".concat(d,"px"),v=isNaN(Number(v))?v:"".concat(v,"px"),{background:t.color,right:d,top:v}});return fm(fm({badgeContent:r,showBadge:o,badgeStyles:s,badgeClasses:l,badgeInnerClasses:u},He(t)),{},{countContent:a})}});function $x(e,t,n,r,a,i){var o=ge("t-node");return e.showBadge?(H(),W("div",{key:0,class:z(e.badgeClasses)},[J("div",{class:z(e.badgeInnerClasses),style:De(e.badgeStyles)},[R(o,{content:e.countContent},null,8,["content"])],6),R(o,{content:e.badgeContent},null,8,["content"])],2)):se("",!0)}Bb.render=$x;/**
 * tdesign v0.8.4
 * (c) 2022 TDesign Group
 * @license MIT
 */var xl=Le(Bb);/**
 * tdesign v0.8.4
 * (c) 2022 TDesign Group
 * @license MIT
 */var Mx=_e.prefix,es="".concat(Mx,"-fab"),Nb=ee({name:es,components:{TButton:Oa},props:{icon:{type:Function,default:function(){return S0}},text:{type:String,default:""}},emits:["click"],setup:function(t,n){var r=N(function(){var o;return o={},te(o,"".concat(es),!0),te(o,"".concat(es,"--icononly"),t.icon&&!t.text),o}),a=function(l){n.emit("click",l)},i=N(function(){var o;return typeof t.icon=="function"?t.icon():(o=n.slots)===null||o===void 0?void 0:o.icon});return{name:es,classes:r,onClick:a,computedIcon:i}}});function Fx(e,t,n,r,a,i){var o=ge("t-button");return H(),Oe(o,{class:z(e.classes),theme:"primary",shape:"round",onClick:e.onClick},{default:Ue(function(){return[(H(),Oe(No(e.computedIcon),{style:{color:"#fff"}})),e.text?(H(),W("span",{key:0,class:z("".concat(e.name,"__text"))},Ae(e.text),3)):se("",!0)]}),_:1},8,["class","onClick"])}Nb.render=Fx;/**
 * tdesign v0.8.4
 * (c) 2022 TDesign Group
 * @license MIT
 */var Bx=Le(Nb);/**
 * tdesign v0.8.4
 * (c) 2022 TDesign Group
 * @license MIT
 */function hm(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function vm(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?hm(Object(n),!0).forEach(function(r){te(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):hm(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var cr=_e.prefix,mm="".concat(cr,"-image-viewer"),jb=ee({name:mm,props:{modelValue:{type:Boolean,default:!1},images:{type:Array,default:function(){return[]}},visible:{type:Boolean,default:!1},showIndex:{type:Boolean,default:!0},initialIndex:{type:Number,default:0},backgroundColor:{type:String,default:"rgba(0, 0, 0, 0.6)"}},emits:["update:modelValue","change"],setup:function(t,n){var r=N(function(){return["".concat(mm)]}),a=Me({startTime:new Date().getTime(),startLeft:-1,startTop:-1,itemWidth:-1,itemHeight:-1,currentLeft:-1,currentTop:-1}),i,o=q(t.images),l=q(Math.min(t.initialIndex,o.value.length-1)+1),u=q(o.value.length),s=300,c=.5,d,v=function(C){d=C},S=N(function(){return t.modelValue||t.visible});oe([function(){return t.images},function(){return t.initialIndex}],function(){o.value=t.images,l.value=Math.min(t.initialIndex,o.value.length-1)+1,S.value&&Re(function(){i=d.querySelector(".".concat(cr,"-swiper-container")),E()})});function E(){var p="".concat(d.clientWidth,"px"),C=d.querySelector(".".concat(cr,"-swiper-container")),w=C.querySelectorAll(".".concat(cr,"-swiper-item"));if(w.forEach(function(A){A.style.width=p}),w.length>=1){var k=C.querySelector(".".concat(cr,"-swiper-item-first-copy")),_=C.querySelector(".".concat(cr,"-swiper-item-last-copy"));k&&C.lastElementChild===k&&C.removeChild(k),_&&C.firstElementChild===_&&C.removeChild(_);var T=C.firstElementChild;T=T.cloneNode(!0);var O=C.lastElementChild;O=O.cloneNode(!0),T.classList.add("".concat(cr,"-swiper-item-first-copy")),O.classList.add("".concat(cr,"-swiper-item-last-copy")),T.style.width=p,O.style.width=p,C.appendChild(T),C.insertBefore(O,C.firstElementChild),u.value=o.value.length+2,m(-d.clientWidth*l.value)}}function m(p){i.style.transform="translate3d(".concat(p,"px, 0px, 0px) scale(1)")}function f(p){var C=p.changedTouches[0];return C}var g=!0,h=function(C){var w=f(C);a.startTime=new Date().getTime(),a.startLeft=w.pageX,a.startTop=w.pageY,a.itemWidth=d.offsetWidth,a.itemHeight=d.offsetHeight,!(u.value<=1)&&(g=!1,i.style.transition="none")},y=function(C){if(!(u.value<=3||g)){var w=f(C);a.currentLeft=w.pageX,a.currentTop=w.pageY;var k=a.currentLeft-a.startLeft;a.currentTop-a.startTop,C.preventDefault();var _=Math.min(Math.max(-a.itemWidth+1,k),a.itemWidth-1),T=_-a.itemWidth*l.value;m(T)}},b=function(C){var w=f(C);if(a.startLeft===w.pageX){g=!0,n.emit("update:modelValue",!1);return}if(!(u.value<=3||g)){g=!0;var k=Math.min(new Date().getTime()-a.startTime,500),_=a.currentLeft-a.startLeft,T=a.itemWidth,O=k<s,A="";O&&a.currentLeft===-1||(Math.abs(_)>T*c||O?_<0?(m(-d.clientWidth*(l.value+1)),A="next"):(m(-d.clientWidth*(l.value-1)),A="prev"):m(-d.clientWidth*l.value),i.style.transition="".concat(k/1e3,"s"),setTimeout(function(){A&&(A==="next"?l.value+=1:l.value-=1),l.value===u.value-1?l.value=1:l.value===0&&(l.value=u.value-2),n.emit("change",l.value-1),m(-d.clientWidth*l.value),i.style.transition="none"},k),Object.assign(a,{startTime:new Date().getTime(),startLeft:0,startTop:0,itemWidth:0,itemHeight:0,currentLeft:0,currentTop:0}))}};return vm(vm({prefix:cr,showViewer:S,index:l,count:u,myRef:v,classes:r},He(t)),{},{onTouchstart:h,onTouchMove:y,onTouchEnd:b})}}),Nx={class:"image-viewer-container"},jx={class:"item"},Ux=["src"],Vx={key:0,class:"image-viewer-index"};function Hx(e,t,n,r,a,i){return Ge((H(),W("div",{class:z("".concat(e.prefix,"-image-viewer"))},[J("div",{class:z("".concat(e.prefix,"-image-mask")),style:De({background:e.backgroundColor})},null,6),J("div",Nx,[J("div",{ref:e.myRef,class:z(e.classes),onTouchstart:t[0]||(t[0]=function(){return e.onTouchstart&&e.onTouchstart.apply(e,arguments)}),onTouchmove:t[1]||(t[1]=function(){return e.onTouchMove&&e.onTouchMove.apply(e,arguments)}),onTouchend:t[2]||(t[2]=function(){return e.onTouchEnd&&e.onTouchEnd.apply(e,arguments)}),onTouchcancel:t[3]||(t[3]=function(){return e.onTouchEnd&&e.onTouchEnd.apply(e,arguments)})},[J("div",{class:z("".concat(e.prefix,"-swiper-box"))},[J("div",{class:z("".concat(e.prefix,"-swiper-container"))},[(H(!0),W(Ce,null,Ne(e.images,function(o,l){return H(),W("div",{key:l,class:z("".concat(e.prefix,"-swiper-item image-viewer-item-wrap"))},[J("div",jx,[J("img",{src:o},null,8,Ux)])],2)}),128))],2)],2)],34),e.showIndex?(H(),W("div",Vx,Ae(e.index)+"/"+Ae(e.count>2?e.count-2:e.count),1)):se("",!0)])],2)),[[qe,e.showViewer]])}jb.render=Hx;/**
 * tdesign v0.8.4
 * (c) 2022 TDesign Group
 * @license MIT
 */var zx=Le(jb);/**
 * tdesign v0.8.4
 * (c) 2022 TDesign Group
 * @license MIT
 */var Gx=_e.prefix,Yi="".concat(Gx,"-drawer"),Ub=ee({name:Yi,components:{TPopup:Rl},props:{modelValue:{type:Boolean,default:!1},sidebar:{type:Array,default:function(){return[]}}},emits:["update:modelValue"],setup:function(t,n){var r=St(t,n.emit),a=He(t),i=a.modelValue,o=q(!1)||i,l=N(function(){return"".concat(Yi,"__sidebar")}),u=N(function(){return"".concat(Yi,"__sidebar-item")}),s=N(function(){return"".concat(Yi,"__sidebar-item-icon")}),c=N(function(){return"".concat(Yi,"__sidebar-item-name")}),d=function(S){S&&(window.location.href=S)};return oe(o,function(){r("update:modelValue",o.value)}),oe(i,function(){o.value=i.value}),{open:o,takePath:d,dSideBarClassName:l,dSideBarItemClassName:u,dSideBarItemIconClassName:s,dSideBarItemNameClassName:c}}}),Kx=["onClick"];function Wx(e,t,n,r,a,i){var o=ge("t-popup");return H(),Oe(o,{modelValue:e.open,"onUpdate:modelValue":t[0]||(t[0]=function(l){return e.open=l}),placement:"left"},{default:Ue(function(){return[J("div",{class:z(e.dSideBarClassName)},[(H(!0),W(Ce,null,Ne(e.sidebar,function(l){return H(),W("div",{key:l.name,class:z(e.dSideBarItemClassName),onClick:function(s){return e.takePath(l.path)}},[J("div",{class:z(e.dSideBarItemNameClassName)},Ae(l.name),3)],10,Kx)}),128))],2)]}),_:1},8,["modelValue"])}Ub.render=Wx;/**
 * tdesign v0.8.4
 * (c) 2022 TDesign Group
 * @license MIT
 */var Yx=Le(Ub);/**
 * tdesign v0.8.4
 * (c) 2022 TDesign Group
 * @license MIT
 */var qx={leftArrow:{type:Boolean,default:!0},title:{type:String,default:"NavBar \u5BFC\u822A\u6761"},maxLen:{type:Number,default:6},rightShow:{type:Boolean,default:!0}};/**
 * tdesign v0.8.4
 * (c) 2022 TDesign Group
 * @license MIT
 */var Xx=_e.prefix,gm="".concat(Xx,"-navbar"),Vb=ee({name:gm,components:{TChevronLeftIcon:T0},props:qx,emits:["click-right","click-text"],setup:function(t,n){var r=N(function(){var l=t.title,u=t.maxLen;return l&&l.trim().length>u?"".concat(l.slice(0,u),"..."):l}),a=function(){history.length>1&&history.back()},i=function(u){n.emit("click-right",u)},o=function(u){n.emit("click-text",u)};return{name:gm,nTitleContent:r,handleBack:a,handleMore:i,clickText:o}}}),Zx=J("svg",{t:"1614321969302",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"2091",width:"24",height:"24"},[J("path",{d:"M512 449.749333a64 64 0 1 1 0 128 64 64 0 0 1 0-128z m-318.805333-1.109333a64 64 0 1 1 0 128 64 64 0 0 1 0-128z m638.677333 0a64 64 0 1 1 0 128 64 64 0 0 1 0-128z",fill:"#444444","p-id":"2092"})],-1),Jx=[Zx];function Qx(e,t,n,r,a,i){var o=ge("t-chevron-left-icon");return H(),W("div",{class:z(e.name)},[J("div",{class:z("".concat(e.name,"__back"))},[e.leftArrow?(H(),W("span",{key:0,class:z("".concat(e.name,"__back--arrow")),onClick:t[0]||(t[0]=function(){return e.handleBack&&e.handleBack.apply(e,arguments)})},[R(o)],2)):se("",!0),Ye(e.$slots,"left")],2),J("div",{class:z("".concat(e.name,"__text")),onClick:t[1]||(t[1]=function(){return e.clickText&&e.clickText.apply(e,arguments)})},[Ye(e.$slots,"default",{},function(){return[tt(Ae(e.nTitleContent),1)]})],2),J("div",{class:z("".concat(e.name,"__right"))},[Ye(e.$slots,"right"),e.rightShow?(H(),W("i",{key:0,class:z("".concat(e.name,"__right--more")),onClick:t[2]||(t[2]=function(){return e.handleMore&&e.handleMore.apply(e,arguments)})},Jx,2)):se("",!0)],2)],2)}Vb.render=Qx;/**
 * tdesign v0.8.4
 * (c) 2022 TDesign Group
 * @license MIT
 */var e$=Le(Vb);/**
 * tdesign v0.8.4
 * (c) 2022 TDesign Group
 * @license MIT
 */var t$={align:{type:String,default:"left",validator:function(t){return["left","center"].includes(t)}},closeBtn:{type:[String,Boolean,Function],default:void 0},content:{type:[String,Function]},duration:{type:Number,default:3e3},theme:{type:String,default:"info",validator:function(t){return["info","success","warning","error"].includes(t)}},visible:{type:Boolean,default:void 0},modelValue:{type:Boolean,default:void 0},zIndex:{type:Number},onClose:Function,onClosed:Function,onOpen:Function,onOpened:Function,onVisibleChange:Function};/**
 * tdesign v0.8.4
 * (c) 2022 TDesign Group
 * @license MIT
 */var n$=_e.prefix,qi="".concat(n$,"-message"),$r=ee({name:qi,components:{CheckCircleFilledIcon:Rd,ErrorCircleFilledIcon:HO,CloseIcon:Oi,TNode:st},props:t$,emits:["visible-change","open","opened","close","closed"],setup:function(t,n){var r=St(t,n.emit),a=q(null),i=Be(),o=N(function(){return ze(i,"closeBtn")}),l=Ut(t,n.emit,"visible","visible-change"),u=Ot(l,1),s=u[0],c=N(function(){var S;return S={},te(S,qi,!0),te(S,"".concat(qi,"--").concat(t.theme),!0),te(S,"".concat(qi,"-align--").concat(t.align),!!t.align),S}),d=N(function(){return{zIndex:t.zIndex}}),v=function(){r("close"),s.value=!1};return oe(function(){return s.value},function(S){S!==!1&&(r("open"),s.value=!0,t.duration>0&&setTimeout(v,t.duration))}),{name:q(qi),root:a,currentVisible:s,rootClasses:c,rootStyles:d,closeBtnContent:o,onClose:v,afterEnter:function(){return r("opened")},afterLeave:function(){return r("closed")}}}});function r$(e,t,n,r,a,i){var o=ge("check-circle-filled-icon"),l=ge("error-circle-filled-icon"),u=ge("close-icon"),s=ge("t-node");return H(),Oe(mn,{name:"message",onAfterLeave:e.afterLeave,onAfterEnter:e.afterEnter},{default:Ue(function(){return[e.currentVisible?(H(),W("div",{key:0,ref:"root",class:z(e.rootClasses),style:De(e.rootStyles)},[Ye(e.$slots,"default",{},function(){return[Ye(e.$slots,"icon",{},function(){return[e.theme==="success"?(H(),Oe(o,{key:0})):(H(),Oe(l,{key:1}))]}),J("span",{class:z("".concat(e.name,"--txt"))},Ae(e.content),3),e.closeBtn===!0?(H(),Oe(u,{key:0,onClick:e.onClose},null,8,["onClick"])):(H(),Oe(s,{key:1,content:e.closeBtnContent},null,8,["content"]))]})],6)):se("",!0)]}),_:3},8,["onAfterLeave","onAfterEnter"])}$r.render=r$;/**
 * tdesign v0.8.4
 * (c) 2022 TDesign Group
 * @license MIT
 */function pm(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function ii(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?pm(Object(n),!0).forEach(function(r){te(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pm(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function a$(e){var t=q(!1),n=document.createElement("div");document.body.appendChild(n);var r=ee({render:function(){return pt($r,ii(ii({},e),{},{visible:t.value,onClose:function(){t.value=!1},onClosed:function(){n.remove()}}))}});jo(r).mount(n),Re(function(){t.value=!0})}var i$={align:"left",closeBtn:"",content:"",duration:3e3,theme:"info",visible:!1,zIndex:5e3,onClose:function(){},onClosed:function(){},onOpen:function(){},onOpened:function(){},onVisibleChange:function(){}};["info","success","warning","error"].forEach(function(e){$r[e]=function(t){var n=ii(ii({},i$),{},{theme:e});typeof t=="string"?n.content=t:n=ii(ii({},n),t),a$(n)}});$r.install=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";e.component(t||$r.name,$r),e.config.globalProperties.$message=$r};var Oc=Le($r),Hb={exports:{}};(function(e,t){(function(n,r){e.exports=r()})(vo,function(){var n=1e3,r=6e4,a=36e5,i="millisecond",o="second",l="minute",u="hour",s="day",c="week",d="month",v="quarter",S="year",E="date",m="Invalid Date",f=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,g=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,h={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_")},y=function(P,D,I){var x=String(P);return!x||x.length>=D?P:""+Array(D+1-x.length).join(I)+P},b={s:y,z:function(P){var D=-P.utcOffset(),I=Math.abs(D),x=Math.floor(I/60),L=I%60;return(D<=0?"+":"-")+y(x,2,"0")+":"+y(L,2,"0")},m:function P(D,I){if(D.date()<I.date())return-P(I,D);var x=12*(I.year()-D.year())+(I.month()-D.month()),L=D.clone().add(x,d),$=I-L<0,M=D.clone().add(x+($?-1:1),d);return+(-(x+(I-L)/($?L-M:M-L))||0)},a:function(P){return P<0?Math.ceil(P)||0:Math.floor(P)},p:function(P){return{M:d,y:S,w:c,d:s,D:E,h:u,m:l,s:o,ms:i,Q:v}[P]||String(P||"").toLowerCase().replace(/s$/,"")},u:function(P){return P===void 0}},p="en",C={};C[p]=h;var w=function(P){return P instanceof O},k=function P(D,I,x){var L;if(!D)return p;if(typeof D=="string"){var $=D.toLowerCase();C[$]&&(L=$),I&&(C[$]=I,L=$);var M=D.split("-");if(!L&&M.length>1)return P(M[0])}else{var j=D.name;C[j]=D,L=j}return!x&&L&&(p=L),L||!x&&p},_=function(P,D){if(w(P))return P.clone();var I=typeof D=="object"?D:{};return I.date=P,I.args=arguments,new O(I)},T=b;T.l=k,T.i=w,T.w=function(P,D){return _(P,{locale:D.$L,utc:D.$u,x:D.$x,$offset:D.$offset})};var O=function(){function P(I){this.$L=k(I.locale,null,!0),this.parse(I)}var D=P.prototype;return D.parse=function(I){this.$d=function(x){var L=x.date,$=x.utc;if(L===null)return new Date(NaN);if(T.u(L))return new Date;if(L instanceof Date)return new Date(L);if(typeof L=="string"&&!/Z$/i.test(L)){var M=L.match(f);if(M){var j=M[2]-1||0,F=(M[7]||"0").substring(0,3);return $?new Date(Date.UTC(M[1],j,M[3]||1,M[4]||0,M[5]||0,M[6]||0,F)):new Date(M[1],j,M[3]||1,M[4]||0,M[5]||0,M[6]||0,F)}}return new Date(L)}(I),this.$x=I.x||{},this.init()},D.init=function(){var I=this.$d;this.$y=I.getFullYear(),this.$M=I.getMonth(),this.$D=I.getDate(),this.$W=I.getDay(),this.$H=I.getHours(),this.$m=I.getMinutes(),this.$s=I.getSeconds(),this.$ms=I.getMilliseconds()},D.$utils=function(){return T},D.isValid=function(){return this.$d.toString()!==m},D.isSame=function(I,x){var L=_(I);return this.startOf(x)<=L&&L<=this.endOf(x)},D.isAfter=function(I,x){return _(I)<this.startOf(x)},D.isBefore=function(I,x){return this.endOf(x)<_(I)},D.$g=function(I,x,L){return T.u(I)?this[x]:this.set(L,I)},D.unix=function(){return Math.floor(this.valueOf()/1e3)},D.valueOf=function(){return this.$d.getTime()},D.startOf=function(I,x){var L=this,$=!!T.u(x)||x,M=T.p(I),j=function(ne,ae){var ye=T.w(L.$u?Date.UTC(L.$y,ae,ne):new Date(L.$y,ae,ne),L);return $?ye:ye.endOf(s)},F=function(ne,ae){return T.w(L.toDate()[ne].apply(L.toDate("s"),($?[0,0,0,0]:[23,59,59,999]).slice(ae)),L)},U=this.$W,B=this.$M,K=this.$D,V="set"+(this.$u?"UTC":"");switch(M){case S:return $?j(1,0):j(31,11);case d:return $?j(1,B):j(0,B+1);case c:var X=this.$locale().weekStart||0,Z=(U<X?U+7:U)-X;return j($?K-Z:K+(6-Z),B);case s:case E:return F(V+"Hours",0);case u:return F(V+"Minutes",1);case l:return F(V+"Seconds",2);case o:return F(V+"Milliseconds",3);default:return this.clone()}},D.endOf=function(I){return this.startOf(I,!1)},D.$set=function(I,x){var L,$=T.p(I),M="set"+(this.$u?"UTC":""),j=(L={},L[s]=M+"Date",L[E]=M+"Date",L[d]=M+"Month",L[S]=M+"FullYear",L[u]=M+"Hours",L[l]=M+"Minutes",L[o]=M+"Seconds",L[i]=M+"Milliseconds",L)[$],F=$===s?this.$D+(x-this.$W):x;if($===d||$===S){var U=this.clone().set(E,1);U.$d[j](F),U.init(),this.$d=U.set(E,Math.min(this.$D,U.daysInMonth())).$d}else j&&this.$d[j](F);return this.init(),this},D.set=function(I,x){return this.clone().$set(I,x)},D.get=function(I){return this[T.p(I)]()},D.add=function(I,x){var L,$=this;I=Number(I);var M=T.p(x),j=function(B){var K=_($);return T.w(K.date(K.date()+Math.round(B*I)),$)};if(M===d)return this.set(d,this.$M+I);if(M===S)return this.set(S,this.$y+I);if(M===s)return j(1);if(M===c)return j(7);var F=(L={},L[l]=r,L[u]=a,L[o]=n,L)[M]||1,U=this.$d.getTime()+I*F;return T.w(U,this)},D.subtract=function(I,x){return this.add(-1*I,x)},D.format=function(I){var x=this,L=this.$locale();if(!this.isValid())return L.invalidDate||m;var $=I||"YYYY-MM-DDTHH:mm:ssZ",M=T.z(this),j=this.$H,F=this.$m,U=this.$M,B=L.weekdays,K=L.months,V=function(ae,ye,de,be){return ae&&(ae[ye]||ae(x,$))||de[ye].slice(0,be)},X=function(ae){return T.s(j%12||12,ae,"0")},Z=L.meridiem||function(ae,ye,de){var be=ae<12?"AM":"PM";return de?be.toLowerCase():be},ne={YY:String(this.$y).slice(-2),YYYY:this.$y,M:U+1,MM:T.s(U+1,2,"0"),MMM:V(L.monthsShort,U,K,3),MMMM:V(K,U),D:this.$D,DD:T.s(this.$D,2,"0"),d:String(this.$W),dd:V(L.weekdaysMin,this.$W,B,2),ddd:V(L.weekdaysShort,this.$W,B,3),dddd:B[this.$W],H:String(j),HH:T.s(j,2,"0"),h:X(1),hh:X(2),a:Z(j,F,!0),A:Z(j,F,!1),m:String(F),mm:T.s(F,2,"0"),s:String(this.$s),ss:T.s(this.$s,2,"0"),SSS:T.s(this.$ms,3,"0"),Z:M};return $.replace(g,function(ae,ye){return ye||ne[ae]||M.replace(":","")})},D.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},D.diff=function(I,x,L){var $,M=T.p(x),j=_(I),F=(j.utcOffset()-this.utcOffset())*r,U=this-j,B=T.m(this,j);return B=($={},$[S]=B/12,$[d]=B,$[v]=B/3,$[c]=(U-F)/6048e5,$[s]=(U-F)/864e5,$[u]=U/a,$[l]=U/r,$[o]=U/n,$)[M]||U,L?B:T.a(B)},D.daysInMonth=function(){return this.endOf(d).$D},D.$locale=function(){return C[this.$L]},D.locale=function(I,x){if(!I)return this.$L;var L=this.clone(),$=k(I,x,!0);return $&&(L.$L=$),L},D.clone=function(){return T.w(this.$d,this)},D.toDate=function(){return new Date(this.valueOf())},D.toJSON=function(){return this.isValid()?this.toISOString():null},D.toISOString=function(){return this.$d.toISOString()},D.toString=function(){return this.$d.toUTCString()},P}(),A=O.prototype;return _.prototype=A,[["$ms",i],["$s",o],["$m",l],["$H",u],["$W",s],["$M",d],["$y",S],["$D",E]].forEach(function(P){A[P[1]]=function(D){return this.$g(D,P[0],P[1])}}),_.extend=function(P,D){return P.$i||(P(D,O,_),P.$i=!0),_},_.locale=k,_.isDayjs=w,_.unix=function(P){return _(1e3*P)},_.en=C[p],_.Ls=C,_.p={},_})})(Hb);var Mt=Hb.exports,o$=/\s/;function s$(e){for(var t=e.length;t--&&o$.test(e.charAt(t)););return t}var l$=s$,u$=l$,c$=/^\s+/;function d$(e){return e&&e.slice(0,u$(e)+1).replace(c$,"")}var f$=d$,h$=f$,ym=_l,v$=kl,bm=0/0,m$=/^[-+]0x[0-9a-f]+$/i,g$=/^0b[01]+$/i,p$=/^0o[0-7]+$/i,y$=parseInt;function b$(e){if(typeof e=="number")return e;if(v$(e))return bm;if(ym(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=ym(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=h$(e);var n=g$.test(e);return n||p$.test(e)?y$(e.slice(2),n?2:8):m$.test(e)?bm:+e}var kc=b$;/**
 * tdesign v0.8.4
 * (c) 2022 TDesign Group
 * @license MIT
 */var S$={cancelBtn:{type:String,default:"\u53D6\u6D88"},confirmBtn:{type:String,default:""},disableDate:{type:[Object,Array,Function]},format:{type:String,default:void 0},mode:{type:[String,Array],default:["year","month","date"]},showWeek:Boolean,title:{type:String,default:""},value:{type:[String,Number],default:void 0},modelValue:{type:[String,Number],default:void 0},defaultValue:{type:[String,Number]},onCancel:Function,onChange:Function,onColumnChange:Function,onConfirm:Function};/**
 * tdesign v0.8.4
 * (c) 2022 TDesign Group
 * @license MIT
 */var T$={cancelBtn:{type:String,default:"\u53D6\u6D88"},confirmBtn:{type:String,default:"\u786E\u8BA4"},title:{type:String,default:""},modelValue:{type:Array},defaultValue:{type:Array},visible:Boolean,onCancel:Function,onChange:Function,onConfirm:Function},C$={options:{type:Array,default:function(){return[]}},value:{type:[String,Number]},formatter:{type:Function,default:function(t){return String(t)}}};/**
 * tdesign v0.8.4
 * (c) 2022 TDesign Group
 * @license MIT
 */var E$=_e.prefix,Hn="".concat(E$,"-picker"),zb=ee({name:Hn,components:{TButton:Oa},props:T$,emits:["change","cancel","confirm","update:modelValue"],setup:function(t,n){var r=N(function(){return["".concat(Hn)]}),a=N(function(){return"".concat(Hn,"-item__group")}),i=N(function(){return"".concat(Hn,"__mask")}),o=N(function(){return"".concat(Hn,"__indicator")}),l=N(function(){return"".concat(Hn,"__main")}),u=N(function(){return"".concat(Hn,"__toolbar")}),s=N(function(){return"".concat(Hn,"__title")}),c=N(function(){return"".concat(Hn,"__cancel")}),d=N(function(){return"".concat(Hn,"__confirm")}),v=N(function(){return t.confirmBtn||"\u786E\u5B9A"}),S=N(function(){return t.cancelBtn||"\u53D6\u6D88"}),E=[],m=function(){var y=n.slots.default?n.slots.default():[];return y=y.map(function(b,p){var C=b,w;Array.isArray(t.modelValue)&&(w=t.modelValue[p]),Array.isArray(t.defaultValue)&&(w=t.defaultValue[p]),!w&&C.props&&(w=C.props.modelValue||C.props.options[0]);var k=w;return Nt(w)==="object"&&(k=w.value),E[p]||(E[p]=k),C.props=We(C.props,{value:k,onChange:function(T){E[p]=T.value;var O=[].concat(E);n.emit("change",O)}}),C}),y},f=function(y){var b=E.reduce(function(p,C){return p.push(C),p},[]);n.emit("update:modelValue",b),n.emit("confirm",b)},g=function(y){return n.emit("cancel",{e:y})};return{className:r,mainClassName:l,groupClassName:a,maskClassName:i,toolbarClassName:u,cancelClassName:c,confirmClassName:d,titleClassName:s,confirmButtonText:v,cancelButtonText:S,indicatorClassName:o,handleConfirm:f,handleCancel:g,pickerItems:m,curData:E}}});function w$(e,t,n,r,a,i){var o=ge("t-button");return H(),W("div",{class:z(e.className)},[J("div",{class:z(e.toolbarClassName)},[R(o,{class:z(e.cancelClassName),variant:"text",onClick:e.handleCancel},{default:Ue(function(){return[tt(Ae(e.cancelButtonText),1)]}),_:1},8,["class","onClick"]),J("div",{class:z(e.titleClassName)},Ae(e.title),3),R(o,{class:z(e.confirmClassName),variant:"text",onClick:e.handleConfirm},{default:Ue(function(){return[tt(Ae(e.confirmButtonText),1)]}),_:1},8,["class","onClick"])],2),J("div",{class:z(e.mainClassName)},[J("div",{class:z(e.groupClassName)},[(H(),Oe(No(e.pickerItems)))],2),J("div",{class:z(e.maskClassName)},null,2),J("div",{class:z(e.indicatorClassName)},null,2)],2)],2)}zb.render=w$;function Gb(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Sm(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Kb(e,t,n){return t&&Sm(e.prototype,t),n&&Sm(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}/**
 * tdesign v0.8.4
 * (c) 2022 TDesign Group
 * @license MIT
 */var Tm=_e.prefix,O$=function(t,n,r,a){var i=t;return-r*((i=i/a-1)*i*i*i-1)+n},mu=40,Cm=200,Xi=60,k$=460,gu=150,_$=function(){function e(t){if(Gb(this,e),te(this,"holder",void 0),te(this,"options",void 0),te(this,"list",null),te(this,"elementItems",[]),te(this,"height",Cm),te(this,"curIndex",0),te(this,"itemClassName",""),te(this,"itemSelectedClassName",""),te(this,"itemHeight",mu),te(this,"lastMoveTime",0),te(this,"lastMoveStart",0),te(this,"stopInertiaMove",!1),te(this,"startY",0),te(this,"isPicking",!1),te(this,"offsetYOfStartBound",Xi),te(this,"offsetYOfEndBound",-Xi),te(this,"offsetY",0),te(this,"offsetYOfStart",0),te(this,"offsetYOfEnd",0),te(this,"onChange",void 0),!t.el)throw new Error("options el needed!");this.holder=t.el,this.options=t||{},this.onChange=t.onChange,this.init()}return Kb(e,[{key:"init",value:function(){this.initScrollParams(),this.setSelectedClassName(),this.bindEvent()}},{key:"updateItems",value:function(){this.elementItems=Bt(this.holder.querySelectorAll("li"));var n=this.elementItems.length;this.offsetYOfEnd=-this.itemHeight*(n-3),this.offsetYOfEndBound=-(this.itemHeight*(n-3)+Xi)}},{key:"initScrollParams",value:function(){var n;this.list=this.holder.querySelector("ul"),this.elementItems=Bt(this.holder.querySelectorAll("li")),this.itemHeight=((n=this.holder.querySelector("li"))===null||n===void 0?void 0:n.offsetHeight)||mu,this.height=this.holder.offsetHeight||Cm,this.curIndex=this.options.defaultIndex||0,this.itemClassName="".concat(Tm,"-picker-item__item"),this.itemSelectedClassName="".concat(Tm,"-picker-item__item--selected"),this.itemHeight=mu,this.startY=0,this.isPicking=!1,this.lastMoveTime=0,this.lastMoveStart=0,this.stopInertiaMove=!1;var r=(-this.curIndex+2)*this.itemHeight,a=this.elementItems.length;this.setOffsetY(r),this.offsetYOfStart=r,this.offsetYOfEnd=-this.itemHeight*(a-3),this.offsetYOfStartBound=this.itemHeight*2+Xi,this.offsetYOfEndBound=-(this.itemHeight*(a-3)+Xi)}},{key:"bindEvent",value:function(){var n=this;this.holder.addEventListener("touchstart",function(r){return n.touchStartHandler(r)},!1),this.holder.addEventListener("touchmove",function(r){return n.touchMoveHandler(r)},!1),this.holder.addEventListener("touchend",function(r){return n.touchEndHandler(r)},!1),this.holder.addEventListener("touchcancel",function(r){return n.touchEndHandler(r)},!1)}},{key:"touchStartHandler",value:function(n){n.preventDefault(),this.isPicking=!0,this.holder&&(this.list&&(this.list.style.transition=""),this.startY=n.changedTouches[0].pageY,this.updateInertiaParams(n,!0))}},{key:"touchMoveHandler",value:function(n){if(n.preventDefault(),!(!this.isPicking||!this.holder)){var r=n.changedTouches[0].pageY,a=r-this.startY;this.updateInertiaParams(n,!1);var i=(-this.curIndex+2)*this.itemHeight+a;this.setOffsetY(i)}}},{key:"touchEndHandler",value:function(n){if(n.preventDefault(),this.isPicking=!1,!!this.holder){var r=n.changedTouches[0],a=n.timeStamp||Date.now(),i=a-this.lastMoveTime;if(i>k$){this.stopInertiaMove=!1,this.endScroll();return}var o=(r.pageY-this.lastMoveStart)/i,l=o>0?-1:1,u=8e-4,s=-1*l*u,c=Math.abs(o/s),d=n.changedTouches[0].pageY,v=d-this.startY,S=o*c-Math.pow(c,2)*s/2+v;if(S===0){this.stopInertiaMove=!1,this.endScroll();return}this.scrollDist(a,this.offsetY,S,c)}}},{key:"updateInertiaParams",value:function(n,r){var a=n.changedTouches[0];r&&(this.lastMoveStart=a.pageY,this.lastMoveTime=n.timeStamp||Date.now()),this.stopInertiaMove=!0}},{key:"scrollDist",value:function(n,r,a,i){var o=this;this.stopInertiaMove=!1;var l=null,u=function s(c){if(!o.stopInertiaMove){l||(l=c);var d=c-l,v=O$(d,r,a,i);o.setOffsetY(v),d>i||v>o.offsetYOfStartBound||v<o.offsetYOfEndBound?o.endScroll():window.requestAnimationFrame(s)}};window.requestAnimationFrame(u)}},{key:"update",value:function(){this.updateItems();var n=this.curIndex>this.elementItems.length-1?0:this.curIndex;this.updateIndex(n)}},{key:"updateIndex",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:460;this.curIndex=n,this.setSelectedClassName();var a=(-n+2)*this.itemHeight;this.list&&(this.list.style.transform="translate(0,".concat(a,"px) translateZ(0)"),this.list.style.transitionDuration="".concat(r,"ms"),this.list.style.transitionTimingFunction="ease-out"),this.onChange(n)}},{key:"getCurIndex",value:function(){return this.curIndex}},{key:"fix3d",value:function(n){for(var r=0;r<this.elementItems.length;r++){var a=25*(-n+r);this.elementItems[r].style.transform="rotateX(".concat(a,"deg)"),this.elementItems[r].style.webkitTransform="rotateX(".concat(a,"deg)")}}},{key:"setSelectedClassName",value:function(){var n=this,r=new RegExp(this.itemClassName,"i"),a=new RegExp(this.itemSelectedClassName,"i");this.elementItems.forEach(function(i,o){var l=i,u=l.className;u===""||!u?l.className=n.itemClassName:(r.test(u)||l.classList.add(n.itemClassName),a.test(u)&&l.classList.remove(n.itemSelectedClassName)),n.curIndex===o&&l.classList.add(n.itemSelectedClassName)})}},{key:"setOffsetY",value:function(n){this.offsetY=n,this.list&&(this.list.style.transform="translate3d(0, ".concat(n,"px, 0)"))}},{key:"endScroll",value:function(){if(!this.stopInertiaMove){var n=0;this.offsetY>this.offsetYOfStartBound?(n=0,this.list&&(this.list.style.transition="".concat(gu,"ms ease-out"))):this.offsetY<this.offsetYOfEndBound?(n=this.elementItems.length-1,this.list&&(this.list.style.transition="".concat(gu,"ms ease-out"))):(this.list&&(this.list.style.transition="".concat(gu,"ms ease-out")),n=2-Math.round(this.offsetY/this.itemHeight),n<0&&(n=0),n>this.elementItems.length-1&&(n=this.elementItems.length-1));var r=(-n+2)*this.itemHeight;this.setOffsetY(r),n!==this.curIndex&&(this.curIndex=n,this.setSelectedClassName(),this.onChange(this.curIndex))}}},{key:"destroy",value:function(){delete this.holder}}]),e}();/**
 * tdesign v0.8.4
 * (c) 2022 TDesign Group
 * @license MIT
 */function Em(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function A$(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Em(Object(n),!0).forEach(function(r){te(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Em(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var D$=_e.prefix,ts="".concat(D$,"-picker-item"),Wb=ee({name:ts,props:C$,emits:["change"],setup:function(t,n){var r=null,a=document.createElement("div"),i=q(a),o=function(d){var v=0;return d!==void 0&&(v=Nt(d)==="object"?t.options.findIndex(function(S){return S.value===d}):t.options.indexOf(d)),v<0?0:v},l=N(function(){return"".concat(ts)}),u=N(function(){return["".concat(ts,"__wrapper")]}),s=N(function(){return["".concat(ts,"__item")]});return oe(function(){return t.options},function(){Re(function(){r&&r.update()})}),oe(function(){return t.value},function(c){Re(function(){r&&r.updateIndex(o(c))})},{immediate:!0}),et(function(){r=new _$({el:i.value,defaultIndex:o(t.value)||0,onChange:function(d){var v=t.options[d],S=Nt(v)==="object"?v.value:v,E={value:S,index:d};n.emit("change",E)}})}),A$({root:i,className:l,wrapperClassName:u,itemClassName:s},He(t))}});function P$(e,t,n,r,a,i){return H(),W("div",{ref:"root",class:z(e.className)},[J("ul",{class:z(e.wrapperClassName)},[(H(!0),W(Ce,null,Ne(e.options,function(o,l){return H(),W("li",{key:l,class:z(e.itemClassName)},Ae(e.formatter(Nt(o)==="object"?o.label:o)),3)}),128))],2)],2)}Wb.render=P$;/**
 * tdesign v0.8.4
 * (c) 2022 TDesign Group
 * @license MIT
 */var Yb=Le(zb),qb=Le(Wb);/**
 * tdesign v0.8.4
 * (c) 2022 TDesign Group
 * @license MIT
 */var Xb=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{},_c={exports:{}};(function(e,t){(function(n,r){e.exports=r()})(Xb,function(){return function(n,r){r.prototype.weekday=function(a){var i=this.$locale().weekStart||0,o=this.$W,l=(o<i?o+7:o)-i;return this.$utils().u(a)?l:this.subtract(l,"day").add(a,"day")}}})})(_c,_c.exports);var I$=_c.exports,Ac={exports:{}};(function(e,t){(function(n,r){e.exports=r()})(Xb,function(){var n={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},r=/(\[[^[]*\])|([-:/.()\s]+)|(A|a|YYYY|YY?|MM?M?M?|Do|DD?|hh?|HH?|mm?|ss?|S{1,3}|z|ZZ?)/g,a=/\d\d/,i=/\d\d?/,o=/\d*[^\s\d-_:/()]+/,l={},u=function(f){return(f=+f)+(f>68?1900:2e3)},s=function(f){return function(g){this[f]=+g}},c=[/[+-]\d\d:?(\d\d)?|Z/,function(m){(this.zone||(this.zone={})).offset=function(f){if(!f||f==="Z")return 0;var g=f.match(/([+-]|\d\d)/g),h=60*g[1]+(+g[2]||0);return h===0?0:g[0]==="+"?-h:h}(m)}],d=function(f){var g=l[f];return g&&(g.indexOf?g:g.s.concat(g.f))},v=function(f,g){var h,y=l.meridiem;if(y){for(var b=1;b<=24;b+=1)if(f.indexOf(y(b,0,g))>-1){h=b>12;break}}else h=f===(g?"pm":"PM");return h},S={A:[o,function(m){this.afternoon=v(m,!1)}],a:[o,function(m){this.afternoon=v(m,!0)}],S:[/\d/,function(m){this.milliseconds=100*+m}],SS:[a,function(m){this.milliseconds=10*+m}],SSS:[/\d{3}/,function(m){this.milliseconds=+m}],s:[i,s("seconds")],ss:[i,s("seconds")],m:[i,s("minutes")],mm:[i,s("minutes")],H:[i,s("hours")],h:[i,s("hours")],HH:[i,s("hours")],hh:[i,s("hours")],D:[i,s("day")],DD:[a,s("day")],Do:[o,function(m){var f=l.ordinal,g=m.match(/\d+/);if(this.day=g[0],f)for(var h=1;h<=31;h+=1)f(h).replace(/\[|\]/g,"")===m&&(this.day=h)}],M:[i,s("month")],MM:[a,s("month")],MMM:[o,function(m){var f=d("months"),g=(d("monthsShort")||f.map(function(h){return h.slice(0,3)})).indexOf(m)+1;if(g<1)throw new Error;this.month=g%12||g}],MMMM:[o,function(m){var f=d("months").indexOf(m)+1;if(f<1)throw new Error;this.month=f%12||f}],Y:[/[+-]?\d+/,s("year")],YY:[a,function(m){this.year=u(m)}],YYYY:[/\d{4}/,s("year")],Z:c,ZZ:c};function E(m){var f,g;f=m,g=l&&l.formats;for(var h=(m=f.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,function(_,T,O){var A=O&&O.toUpperCase();return T||g[O]||n[O]||g[A].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(P,D,I){return D||I.slice(1)})})).match(r),y=h.length,b=0;b<y;b+=1){var p=h[b],C=S[p],w=C&&C[0],k=C&&C[1];h[b]=k?{regex:w,parser:k}:p.replace(/^\[|\]$/g,"")}return function(_){for(var T={},O=0,A=0;O<y;O+=1){var P=h[O];if(typeof P=="string")A+=P.length;else{var D=P.regex,I=P.parser,x=_.slice(A),L=D.exec(x)[0];I.call(T,L),_=_.replace(L,"")}}return function($){var M=$.afternoon;if(M!==void 0){var j=$.hours;M?j<12&&($.hours+=12):j===12&&($.hours=0),delete $.afternoon}}(T),T}}return function(m,f,g){g.p.customParseFormat=!0,m&&m.parseTwoDigitYear&&(u=m.parseTwoDigitYear);var h=f.prototype,y=h.parse;h.parse=function(b){var p=b.date,C=b.utc,w=b.args;this.$u=C;var k=w[1];if(typeof k=="string"){var _=w[2]===!0,T=w[3]===!0,O=_||T,A=w[2];T&&(A=w[2]),l=this.$locale(),!_&&A&&(l=g.Ls[A]),this.$d=function(x,L,$){try{if(["x","X"].indexOf(L)>-1)return new Date((L==="X"?1e3:1)*x);var M=E(L)(x),j=M.year,F=M.month,U=M.day,B=M.hours,K=M.minutes,V=M.seconds,X=M.milliseconds,Z=M.zone,ne=new Date,ae=U||(j||F?1:ne.getDate()),ye=j||ne.getFullYear(),de=0;j&&!F||(de=F>0?F-1:ne.getMonth());var be=B||0,G=K||0,Y=V||0,Q=X||0;return Z?new Date(Date.UTC(ye,de,ae,be,G,Y,Q+60*Z.offset*1e3)):$?new Date(Date.UTC(ye,de,ae,be,G,Y,Q)):new Date(ye,de,ae,be,G,Y,Q)}catch{return new Date("")}}(p,k,C),this.init(),A&&A!==!0&&(this.$L=this.locale(A).$L),O&&p!=this.format(k)&&(this.$d=new Date("")),l={}}else if(k instanceof Array)for(var P=k.length,D=1;D<=P;D+=1){w[1]=k[D-1];var I=g.apply(this,w);if(I.isValid()){this.$d=I.$d,this.$L=I.$L,this.init();break}D===P&&(this.$d=new Date(""))}else y.call(this,b)}}})})(Ac,Ac.exports);var L$=Ac.exports;Mt.extend(I$);Mt.extend(L$);var R$=_e.prefix,wm="".concat(R$,"-date-time-picker"),Zb=["year","month","date"],Jb=["hour","minute","second"],Om=[].concat(Zb,Jb),Qb=ee({name:wm,components:{TPicker:Yb,TPickerItem:qb},props:S$,emits:["change","update:value","update:modelValue","cancel","confirm","columnChange"],setup:function(t,n){var r=St(t,n.emit),a=Ut(t,n.emit,"value","change"),i=Ot(a,1),o=i[0],l=N(function(){return["".concat(wm)]}),u=N(function(){var I=[].concat(Zb),x=[].concat(Jb);return[I,x].forEach(function(L){Bt(L).reverse().every(function($){return t.mode instanceof Array?t.mode.includes($)?!1:(L.pop(),!0):t.mode!==$?(L.pop(),!0):!1})}),[].concat(Bt(I),Bt(x))}),s=N(function(){var I="",x="";return u.value.includes("year")&&(I="YYYY"),u.value.includes("month")&&(I="YYYY-MM"),u.value.includes("date")&&(I="YYYY-MM-DD"),u.value.includes("hour")&&(x="HH"),u.value.includes("minute")&&(x="HH:mm"),u.value.includes("second")&&(x="HH:mm:ss"),"".concat(I," ").concat(x).trim()}),c=N(function(){var I=Mt(),x=[t.format,s.value],L=Mt(o.value,x,"es",!0),$=u.value.map(function(M){var j=L[M]();return(j===void 0||j==null||isNaN(j))&&(j=I[M]()),j});return $}),d=N(function(){var I=Mt(),x=[t.format,s.value],L=Mt(o.value,x,"es",!0),$=Object.create({});return Om.forEach(function(M){$[M]=I[M]()}),u.value.forEach(function(M){var j=L[M]();(j===void 0||j==null||isNaN(j))&&($[M]=I[M]())}),$}),v=Me({pickerValue:c.value,year:d.value.year,month:d.value.month,date:d.value.date,hour:d.value.hour,minute:d.value.minute,second:d.value.second}),S=q(d.value.year);pl(function(){S.value=v.year});var E=N(function(){if(t.title!==void 0)return t.title;var I="\u9009\u62E9";return(u.value.includes("year")||u.value.includes("month")||u.value.includes("date"))&&(I+="\u65E5\u671F"),(u.value.includes("hour")||u.value.includes("minute")||u.value.includes("second"))&&(I+="\u65F6\u95F4"),I}),m=N(function(){return t.confirmBtn||"\u786E\u5B9A"}),f=N(function(){return t.cancelBtn||"\u53D6\u6D88"}),g=function(){if(!t.disableDate)return!0;for(var x=arguments.length,L=new Array(x),$=0;$<x;$++)L[$]=arguments[$];if(L.length===0)return!1;var M=L[0],j=M===void 0?Mt().year():M,F=L[1],U=F===void 0?0:F,B=L[2],K=B===void 0?1:B,V=L[3],X=V===void 0?0:V,Z=L[4],ne=Z===void 0?0:Z,ae=L[5],ye=ae===void 0?0:ae,de=Om[L.length-1],be=Mt().year(j).month(U).date(K).hour(X).minute(ne).second(ye),G=typeof t.disableDate=="function"?!t.disableDate(k(be)):!0,Y=t.disableDate instanceof Array?t.disableDate.every(function(Se){return!be.isSame(Mt(Se),de)}):!0,Q=t.disableDate,re=!0;Q!=null&&Q.from&&Q!==null&&Q!==void 0&&Q.to?re=be.isBefore(Mt(Q==null?void 0:Q.from),de)||!be.isAfter(Mt(Q==null?void 0:Q.to),de):Q!=null&&Q.from?re=be.isBefore(Mt(Q==null?void 0:Q.from),de):Q!=null&&Q.to&&(re=be.isAfter(Mt(Q==null?void 0:Q.to),de));var ie=!0;Q!=null&&Q.before&&(ie=!be.isBefore(Mt(Q==null?void 0:Q.before),de));var le=!0;return Q!=null&&Q.after&&(le=!be.isAfter(Mt(Q==null?void 0:Q.after),de)),G&&Y&&re&&ie&&le},h=N(function(){return Array.from(new Array(200),function(I,x){return 1900+x}).filter(function(I){return g(I)})}),y=N(function(){return Array.from(new Array(12),function(I,x){return x}).filter(function(I){return g(v.year,I)})}),b=N(function(){var I=31;if(u.value.indexOf("year")>-1&&u.value.indexOf("month")>-1){var x=Mt().year(v.year).month(v.month);I=x.daysInMonth?x.daysInMonth():0}return Array.from(I?new Array(I):[],function(L,$){return $+1}).filter(function(L){return g(v.year,v.month,L)})}),p=N(function(){return Array.from(new Array(24),function(I,x){return x}).filter(function(I){return g(v.year,v.month,v.date,I)})}),C=N(function(){return Array.from(new Array(60),function(I,x){return x}).filter(function(I){return g(v.year,v.month,v.date,v.hour,I)})}),w=N(function(){return Array.from(new Array(60),function(I,x){return x}).filter(function(I){return g(v.year,v.month,v.date,v.hour,v.minute,I)})}),k=function(){var x=arguments.length>0&&arguments[0]!==void 0?arguments[0]:void 0,L=x;L===void 0&&(L=Mt().month(0).date(1).hour(0).minute(0).second(0),u.value.forEach(function(M,j){L&&(L=L[M](v.pickerValue[j]))}));var $="";return t.format?$=L.format(t.format):typeof t.value=="number"?$=L.unix():$=L.format(s.value),$},_=function(x){var L=x.e,$=k();o.value=$,r("confirm",{value:$,e:L})},T=function(x){r("cancel",{e:x})},O=function(x){JSON.stringify(v.pickerValue)!==JSON.stringify(x)&&(v.pickerValue=x.map(function(L){return kc(L)}),u.value.forEach(function(L,$){v[L]=kc(x[$])}))},A=function(x,L){n.emit("columnChange",{value:x,index:L})},P=function(x){var L=Mt().year(v.year).month(v.month).date(x).day(),$="";switch(L){case 0:$="\u65E5";break;case 1:$="\u4E00";break;case 2:$="\u4E8C";break;case 3:$="\u4E09";break;case 4:$="\u56DB";break;case 5:$="\u4E94";break;case 6:$="\u516D";break}return"(".concat($,")")},D=function(x){switch(x){case"year":return function(L){return"".concat(L,"\u5E74")};case"month":return function(L){return"".concat(L+1,"\u6708")};case"date":return function(L){return"".concat(L,"\u65E5").concat(t.showWeek?P(L):"")};case"hour":return function(L){return"".concat(L,"\u65F6")};case"minute":return function(L){return"".concat(L,"\u5206")};case"second":return function(L){return"".concat(L,"\u79D2")}}};return{className:l,confirmButtonText:m,cancelButtonText:f,onConfirm:_,onCancel:T,pickerColumns:u,yearOptions:h,monthOptions:y,dateOptions:b,hourOptions:p,minuteOptions:C,secondOptions:w,onColumnChange:A,onChange:O,defaultPickerValue:c,data:v,getWeekdayText:P,title:E,formatLabel:D}}});function x$(e,t,n,r,a,i){var o=ge("t-picker-item"),l=ge("t-picker");return H(),W("div",{class:z(e.className)},[e.pickerColumns.includes("year")||e.pickerColumns.includes("month")||e.pickerColumns.includes("date")?(H(),Oe(l,{key:0,"default-value":e.data.pickerValue,value:e.data.pickerValue,title:e.title,onChange:e.onChange,onConfirm:e.onConfirm,onCancel:e.onCancel},{default:Ue(function(){return[e.pickerColumns.includes("year")?(H(),Oe(o,{key:0,options:e.yearOptions,formatter:e.formatLabel("year"),onChange:e.onColumnChange},null,8,["options","formatter","onChange"])):se("",!0),e.pickerColumns.includes("month")?(H(),Oe(o,{key:1,options:e.monthOptions,formatter:e.formatLabel("month"),onChange:e.onColumnChange},null,8,["options","formatter","onChange"])):se("",!0),e.pickerColumns.includes("date")?(H(),Oe(o,{key:2,options:e.dateOptions,formatter:e.formatLabel("date"),onChange:e.onColumnChange},null,8,["options","formatter","onChange"])):se("",!0),e.pickerColumns.includes("hour")?(H(),Oe(o,{key:3,options:e.hourOptions,formatter:e.formatLabel("hour"),onChange:e.onColumnChange},null,8,["options","formatter","onChange"])):se("",!0),e.pickerColumns.includes("minute")?(H(),Oe(o,{key:4,options:e.minuteOptions,formatter:e.formatLabel("minute"),onChange:e.onColumnChange},null,8,["options","formatter","onChange"])):se("",!0),e.pickerColumns.includes("second")?(H(),Oe(o,{key:5,options:e.secondOptions,formatter:e.formatLabel("second"),onChange:e.onColumnChange},null,8,["options","formatter","onChange"])):se("",!0)]}),_:1},8,["default-value","value","title","onChange","onConfirm","onCancel"])):(H(),Oe(l,{key:1,"default-value":e.data.pickerValue,value:e.data.pickerValue,title:e.title,onChange:e.onChange,onConfirm:e.onConfirm,onCancel:e.onCancel},{default:Ue(function(){return[e.pickerColumns.includes("hour")?(H(),Oe(o,{key:0,options:e.hourOptions,formatter:e.formatLabel("hour"),onChange:e.onColumnChange},null,8,["options","formatter","onChange"])):se("",!0),e.pickerColumns.includes("minute")?(H(),Oe(o,{key:1,options:e.minuteOptions,formatter:e.formatLabel("minute"),onChange:e.onColumnChange},null,8,["options","formatter","onChange"])):se("",!0),e.pickerColumns.includes("second")?(H(),Oe(o,{key:2,options:e.secondOptions,formatter:e.formatLabel("second"),onChange:e.onColumnChange},null,8,["options","formatter","onChange"])):se("",!0)]}),_:1},8,["default-value","value","title","onChange","onConfirm","onCancel"]))],2)}Qb.render=x$;/**
 * tdesign v0.8.4
 * (c) 2022 TDesign Group
 * @license MIT
 */var $$=Le(Qb);/**
 * tdesign v0.8.4
 * (c) 2022 TDesign Group
 * @license MIT
 */var M$={direction:{type:String,default:"row",validator:function(t){return["row","column"].includes(t)}},duration:{type:Number,default:2e3},icon:{type:[String,Function]},message:{type:[String,Function]},placement:{type:String,default:"middle",validator:function(t){return["top","middle","bottom"].includes(t)}},preventScrollThrough:Boolean,theme:{type:String,validator:function(t){return["loading","success","fail"].includes(t)}}};/**
 * tdesign v0.8.4
 * (c) 2022 TDesign Group
 * @license MIT
 */function km(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function F$(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?km(Object(n),!0).forEach(function(r){te(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):km(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var eS=_e.prefix,ir="".concat(eS,"-toast"),tS=ee({name:ir,components:{TMask:Ll,TNode:st},props:M$,setup:function(t){var n={loading:O0,success:IO,fail:GO},r=Be(),a=N(function(){return ze(r,"message")}),i=N(function(){var u=ze(r,"icon");return u===void 0&&t.theme&&(u=pt(n[t.theme])),u}),o=N(function(){var u;return["".concat(ir),(u={},te(u,"".concat(ir,"--").concat(t.direction),t.direction),te(u,"".concat(ir,"--text"),!i.value),te(u,"".concat(ir,"--icononly"),!a.value&&i.value),te(u,"".concat(ir,"--top"),t.placement==="top"),te(u,"".concat(ir,"--middle"),t.placement==="middle"),te(u,"".concat(ir,"--bottom"),t.placement==="bottom"),u)]}),l="".concat(eS,"-overflow-hidden");return et(function(){t.preventScrollThrough&&document.body.classList.add(l)}),$n(function(){t.preventScrollThrough&&document.body.classList.remove(l)}),F$({name:q(ir),classes:o,iconContent:i,messageContent:a},He(t))}});function B$(e,t,n,r,a,i){var o=ge("t-mask"),l=ge("t-node");return H(),W("div",null,[Ge(R(o,null,null,512),[[qe,e.preventScrollThrough]]),J("div",{class:z(e.classes)},[R(l,{content:e.iconContent},null,8,["content"]),e.messageContent?(H(),W("div",{key:0,class:z("".concat(e.name,"__text"))},[R(l,{content:e.messageContent},null,8,["content"])],2)):se("",!0)],2)])}tS.render=B$;/**
 * tdesign v0.8.4
 * (c) 2022 TDesign Group
 * @license MIT
 */function _m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Qs(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?_m(Object(n),!0).forEach(function(r){te(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_m(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var Dn=null,pu;function vi(e){var t=document.createElement("div");document.body.appendChild(t);var n=Qs({duration:2e3},N$(e));return Dn&&Dn.clear(),Dn=tS,Dn.clear=function(){clearTimeout(Dn.timer),pu.unmount(),t.remove()},n.duration&&n.duration>0&&(Dn.timer=setTimeout(Dn.clear,n.duration)),pu=jo(Dn,Qs({},n)),pu.mount(t),Dn}vi.clear=function(){Dn&&Dn.clear()};["loading","success","fail"].forEach(function(e){!e||(vi[e]=function(t){var n={message:"",type:e};return typeof t=="string"?n.message=t:n=Qs(Qs({},n),t),vi(n)})});function N$(e){return typeof e=="string"?{message:e}:e}vi.install=function(e){e.config.globalProperties.$toast=vi};var j$=vi;/**
 * tdesign v0.8.4
 * (c) 2022 TDesign Group
 * @license MIT
 */function Am(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Dm(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Am(Object(n),!0).forEach(function(r){te(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Am(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var nS=_e.prefix,yu="".concat(nS,"-search"),rS=ee({name:yu,components:{TIconSearch:JO,TCloseIcon:w0,TButton:Oa,TInput:Cb},props:{autofocus:{type:Boolean,default:!1},clearable:{type:Boolean,default:!0},placeholder:{type:String,default:""},modelValue:{type:String,default:""},cancelButtonText:{type:String,default:"\u53D6\u6D88"}},emits:["change","update:modelValue","clear","cancel"],setup:function(t,n){var r=n.emit,a=N(function(){var E;return E={},te(E,"".concat(yu),!0),te(E,"".concat(nS,"-is-focused"),!o.labelActive),E}),i=q(),o=Me({labelActive:!0,inputVal:""}),l=N({get:function(){return o.labelActive},set:function(m){o.labelActive=!m}}),u=N({get:function(){return t.modelValue||o.inputVal},set:function(m){r("change",m),r("update:modelValue",m),o.inputVal=m}}),s=function(){var m;(m=i.value)===null||m===void 0||m.focus()},c=function(){var m;(m=i.value)===null||m===void 0||m.blur()},d=function(){l.value=o.labelActive,s()},v=function(m){l.value=o.labelActive,u.value="",c(),r("cancel",m)},S=function(m){u.value="",s(),r("clear",m)};return _0({focus:s,blur:c}),Dm(Dm({},He(t)),{},{name:q(yu),classes:a,onClick:d,onCancel:v,onClear:S,state:o,currentValue:u,searchInput:i})}});function U$(e,t,n,r,a,i){var o=ge("t-icon-search"),l=ge("t-input"),u=ge("t-close-icon"),s=ge("t-button");return H(),W("div",{class:z(e.classes)},[J("div",{class:z("".concat(e.name,"__form"))},[J("div",{class:z("".concat(e.name,"__box"))},[J("div",{class:z("".concat(e.name,"__icon-search"))},[R(o)],2),R(l,{ref:"searchInput",modelValue:e.currentValue,"onUpdate:modelValue":t[0]||(t[0]=function(c){return e.currentValue=c}),class:z("".concat(e.name,"__input")),type:"search",autofocus:e.autofocus,placeholder:e.placeholder},null,8,["modelValue","class","autofocus","placeholder"]),J("div",{class:z("".concat(e.name,"__icon-close"))},[e.clearable&&e.currentValue.length>0?(H(),Oe(u,{key:0,onClick:e.onClear},null,8,["onClick"])):se("",!0)],2)],2),Ge(J("label",{class:z("".concat(e.name,"__label")),onClick:t[1]||(t[1]=function(){return e.onClick&&e.onClick.apply(e,arguments)})},[J("div",{class:z("".concat(e.name,"__label-icon-search"))},[R(o)],2),J("span",{class:z("".concat(e.name,"__label-text"))},Ae(e.placeholder),3)],2),[[qe,e.state.labelActive]])],2),Ge(R(s,{variant:"text",class:z("".concat(e.name,"__cancel-button")),onClick:e.onCancel},{default:Ue(function(){return[tt(Ae(e.cancelButtonText),1)]}),_:1},8,["class","onClick"]),[[qe,!e.state.labelActive]])],2)}rS.render=U$;/**
 * tdesign v0.8.4
 * (c) 2022 TDesign Group
 * @license MIT
 */var V$=Le(rS);/**
 * tdesign v0.8.4
 * (c) 2022 TDesign Group
 * @license MIT
 */var H$={current:{type:[String,Number],default:void 0},modelValue:{type:[String,Number],default:void 0},defaultCurrent:{type:[String,Number],default:0},layout:{type:String,default:"horizontal",validator:function(t){return["horizontal","vertical"].includes(t)}},options:{type:Array},readonly:Boolean,theme:{type:String,default:"default",validator:function(t){return["default","dot"].includes(t)}},onChange:Function};/**
 * tdesign v0.8.4
 * (c) 2022 TDesign Group
 * @license MIT
 */var z$={content:{type:[String,Function],default:""},icon:{type:[Boolean,Function],default:!0},status:{type:String,default:"default",validator:function(t){return["default","process","finish","error"].includes(t)}},title:{type:[String,Function],default:""}};/**
 * tdesign v0.8.4
 * (c) 2022 TDesign Group
 * @license MIT
 */var G$=_e.prefix,zn="".concat(G$,"-step"),Gd=ee({name:zn,components:{TNode:st},props:z$,setup:function(t){var n=Be(),r=n.proxy,a=Qe("stepsProvide",void 0);a.relation(r);var i=N(function(){return a.state.children.indexOf(r)}),o=N(function(){return a.theme}),l=N(function(){return o.value==="dot"&&a.layout==="vertical"}),u=N(function(){return ze(n,"icon")}),s=N(function(){return l.value?"":t.status==="error"?pt(Oi):i.value<S.value&&m.value?pt(xd):typeof u.value=="boolean"?u.value?i.value+1:"":u.value}),c=N(function(){return ze(n,"title")}),d=N(function(){return ze(n,"content")}),v=N(function(){return ze(n,"extra")}),S=N(function(){return a.current.value||a.defaultCurrent||0}),E=N(function(){return a.status}),m=N(function(){return a.readonly}),f=N(function(){return[zn,te({},"".concat(zn,"--default"),!m.value),te({},"".concat(zn,"--").concat(y.value),y.value)]}),g=N(function(){return typeof u.value=="boolean"?["".concat(zn,"__inner")]:["".concat(zn,"__inner"),"".concat(zn,"__inner__icon")]}),h=N(function(){return["".concat(zn,"-icon__number"),te({},"".concat(zn,"-icon__dot"),l.value)]}),y=N(function(){var p=t.status;return p!=="default"?p:i.value<S.value?"finish":i.value===S.value?"process":""}),b=function(C){!m.value&&!l.value&&a.onClickItem(i.value,S.value,C)};return{dot:l,name:zn,theme:o,index:i,current:S,readonly:m,iconNode:u,stepsStatus:E,descContent:d,iconContent:s,onClickIcon:b,titleContent:c,extraContent:v,rootClassName:f,currentStatus:y,iconClassName:h,innerClassName:g}}});function K$(e,t,n,r,a,i){var o=ge("t-node");return H(),W("div",{class:z(e.rootClassName)},[J("div",{class:z(e.innerClassName),onClick:t[0]||(t[0]=function(){return e.onClickIcon&&e.onClickIcon.apply(e,arguments)})},[J("div",{class:z("".concat(e.name,"-icon"))},[J("div",{class:z(e.iconClassName)},[R(o,{content:e.iconContent},null,8,["content"])],2)],2),J("div",{class:z("".concat(e.name,"-content"))},[J("div",{class:z("".concat(e.name,"-title"))},[R(o,{content:e.titleContent},null,8,["content"])],2),J("div",{class:z("".concat(e.name,"-description"))},[R(o,{content:e.descContent},null,8,["content"])],2),J("div",{class:z("".concat(e.name,"-extra"))},[R(o,{content:e.extraContent},null,8,["content"])],2)],2)],2)],2)}Gd.render=K$;/**
 * tdesign v0.8.4
 * (c) 2022 TDesign Group
 * @license MIT
 */function Pm(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function bu(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Pm(Object(n),!0).forEach(function(r){te(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Pm(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var W$=_e.prefix,Zi="".concat(W$,"-steps"),aS=ee({name:Zi,components:{TStepItem:Gd},props:H$,emits:["update:current","update:modelValue","change"],setup:function(t,n){var r=N(function(){return[Zi,"".concat(Zi,"--").concat(t.layout),te({},"".concat(Zi,"--readonly"),t.readonly),"".concat(Zi,"--").concat(t.theme,"-anchor")]}),a=Ut(t,n.emit,"current","change"),i=Ot(a,2),o=i[0],l=i[1],u=Me({children:[]}),s=function(v){v&&u.children.push(v)},c=function(v,S,E){l(v,S,{e:E})};return dt("stepsProvide",bu(bu({},t),{},{state:u,current:o,relation:s,onClickItem:c})),bu({baseClass:r,onClickItem:c},He(t))}});function Y$(e,t,n,r,a,i){var o=ge("t-step-item");return H(),W("div",{class:z(e.baseClass)},[Ye(e.$slots,"default",{},function(){return[(H(!0),W(Ce,null,Ne(e.options,function(l,u){return H(),Oe(o,{key:u,title:l.title,content:l.content,icon:l.icon,status:l.status},null,8,["title","content","icon","status"])}),128))]})],2)}aS.render=Y$;/**
 * tdesign v0.8.4
 * (c) 2022 TDesign Group
 * @license MIT
 */var q$=Le(Gd),X$=Le(aS);/**
 * tdesign v0.8.4
 * (c) 2022 TDesign Group
 * @license MIT
 */var Z$=_e.prefix,Su=[],ns="".concat(Z$,"-indexes"),iS=ee({name:ns,props:{indexList:{type:Array,default:function(){return[]}}},setup:function(t,n){var r,a,i=!1,o=q(null),l=Me({componentName:ns,indexList:t.indexList,showCurrentSidebar:!1,currentSidebar:"",children:[]}),u=function b(){var p=o==null?void 0:o.value,C=p||{scrollTop:0},w=C.scrollTop;a&&clearTimeout(a),a=window.setTimeout(function(){var k=o==null?void 0:o.value,_=k||{scrollTop:0},T=_.scrollTop;w===T||(b(),c(w))},100)},s=function(){var p,C=d(),w=C.filter(function(k){var _=k.dataset;return _&&_.index===l.currentSidebar});(p=w[0])===null||p===void 0||p.scrollIntoView()},c=function(p){var C=d(),w="";C.forEach(function(k){var _=k.offsetTop,T=k.clientHeight,O=_-T;if(w===""&&O>0){var A;w=(A=C[0].dataset.index)!==null&&A!==void 0?A:""}else if(O<p){var P;w=(P=k.dataset.index)!==null&&P!==void 0?P:""}}),v(w)},d=function(){return Array.from(document.getElementsByClassName("".concat(ns,"__anchor"))).filter(function(p){return p instanceof HTMLElement})},v=function(p){l.currentSidebar=p,l.showCurrentSidebar=!0};pl(function(){l.showCurrentSidebar&&y()}),et(function(){if(Su=d(),Su.length>0){var b=Su[0].dataset.index;b!==void 0&&(l.currentSidebar=b)}});var S=function(p){v(p),s()},E=function(p){var C=p.touches;C[0].clientX,C[0].clientX},m=function(p){var C=p.touches,w=C[0],k=w.clientX,_=w.clientY,T=document.elementFromPoint(k,_);if(T&&T.className==="".concat(ns,"__sidebar-item")&&T instanceof HTMLElement){var O=T.dataset.index;O!==void 0&&l.currentSidebar!==O&&(v(O),s())}},f=function(p){!i||o.value&&c(o.value.scrollTop)},g=function(){i=!0},h=function(){i=!1,u()},y=function(){l.showCurrentSidebar&&l.currentSidebar&&(r&&clearTimeout(r),r=window.setTimeout(function(){l.showCurrentSidebar=!1},2e3))};return{state:l,indexesRoot:o,handleRootTouchend:h,handleRootTouchstart:g,handleSidebarItemClick:S,handleSidebarTouchmove:m,handleSidebarTouchstart:E,handleRootScroll:f}}}),J$=["data-index","onClick"];function Q$(e,t,n,r,a,i){return H(),W("div",{ref:"indexesRoot",class:z(e.state.componentName),onTouchstart:t[2]||(t[2]=function(){return e.handleRootTouchstart&&e.handleRootTouchstart.apply(e,arguments)}),onTouchend:t[3]||(t[3]=function(){return e.handleRootTouchend&&e.handleRootTouchend.apply(e,arguments)}),onScroll:t[4]||(t[4]=function(){return e.handleRootScroll&&e.handleRootScroll.apply(e,arguments)})},[e.state.indexList.length>0?(H(),W("div",{key:0,class:z("".concat(e.state.componentName,"__sidebar")),onTouchstart:t[0]||(t[0]=function(){return e.handleSidebarTouchstart&&e.handleSidebarTouchstart.apply(e,arguments)}),onTouchmove:t[1]||(t[1]=function(){return e.handleSidebarTouchmove&&e.handleSidebarTouchmove.apply(e,arguments)})},[(H(!0),W(Ce,null,Ne(e.state.indexList,function(o){return H(),W("div",{key:o,class:z(["".concat(e.state.componentName,"__sidebar-item"),e.state.currentSidebar===o?"".concat(e.state.componentName,"__sidebar-item--active"):""]),"data-index":o,onClick:qn(function(l){return e.handleSidebarItemClick(o)},["prevent"])},Ae(o),11,J$)}),128))],34)):se("",!0),e.state.showCurrentSidebar?(H(),W("div",{key:1,class:z("".concat(e.state.componentName,"__current"))},Ae(e.state.currentSidebar),3)):se("",!0),Ye(e.$slots,"default")],34)}iS.render=Q$;/**
 * tdesign v0.8.4
 * (c) 2022 TDesign Group
 * @license MIT
 */var e2=_e.prefix,t2="".concat(e2,"-indexes-cell"),oS=ee({name:t2,components:{TCell:Bd},props:{title:{type:String,default:""},key:{type:String,default:""},value:{type:String,default:""},link:{type:Boolean,default:!1}},setup:function(t,n){var r="",a=n.emit,i=Me({title:t.title,value:t.value,link:t.link,key:t.key}),o=function(){a("click",{key:t.key,value:t.value,title:t.title})};return{state:i,handleClick:o,currentSidebar:r}}});function n2(e,t,n,r,a,i){var o=ge("t-cell");return H(),Oe(o,{"data-key":e.state.key,title:e.state.title,value:e.state.value,link:e.state.link,onClick:e.handleClick},null,8,["data-key","title","value","link","onClick"])}oS.render=n2;/**
 * tdesign v0.8.4
 * (c) 2022 TDesign Group
 * @license MIT
 */var r2=_e.prefix,Im="".concat(r2,"-indexes-anchor"),sS=ee({name:Im,components:{TCellGroup:lb},props:{index:{type:String,default:""},title:{type:String,default:""}},setup:function(t){var n=Me({componentName:Im,index:t.index||"",title:t.title?t.title:t.index});return{state:n}}});function a2(e,t,n,r,a,i){var o=ge("t-cell-group");return H(),Oe(o,{class:z(e.state.componentName),"data-index":e.state.index,title:e.state.title},null,8,["class","data-index","title"])}sS.render=a2;/**
 * tdesign v0.8.4
 * (c) 2022 TDesign Group
 * @license MIT
 */var i2=Le(iS),o2=Le(oS),s2=Le(sS);/**
 * tdesign v0.8.4
 * (c) 2022 TDesign Group
 * @license MIT
 */var l2={closable:Boolean,content:{type:[String,Number,Function]},disabled:Boolean,icon:{type:Function,default:void 0},maxWidth:{type:[String,Number]},shape:{type:String,default:"square",validator:function(t){return["square","round","mark"].includes(t)}},size:{type:String,default:"medium",validator:function(t){return["small","medium","large"].includes(t)}},theme:{type:String,default:"default",validator:function(t){return["default","primary","warning","danger","success"].includes(t)}},variant:{type:String,default:"dark",validator:function(t){return["dark","light","outline","light-outline"].includes(t)}},onClick:Function,onClose:Function};/**
 * tdesign v0.8.4
 * (c) 2022 TDesign Group
 * @license MIT
 */var ni=_e.prefix,Lm="".concat(ni,"-tag"),lS=ee({name:Lm,components:{CloseIcon:Oi,TNode:st},props:l2,emits:["close","click"],setup:function(t,n){var r=St(t,n.emit),a=Be(),i=N(function(){return Yt(a,"default","content")}),o=N(function(){return ze(a,"icon")}),l=Lm,u=He(t),s=u.size,c=u.shape,d=u.theme,v=u.variant,S=u.maxWidth,E=u.disabled,m=u.closable,f={};S!=null&&S.value&&(f.maxWidth="".concat(S.value,"px"));var g=N(function(){var b;return["".concat(l),"".concat(l,"-").concat(d.value),"".concat(l,"--").concat(c.value),(b={},te(b,"".concat(l,"-").concat(v.value),v.value),te(b,"".concat(ni,"-is-error"),d.value==="danger"),te(b,"".concat(ni,"-is-success"),d.value==="success"),te(b,"".concat(ni,"-is-warning"),d.value==="warning"),te(b,"".concat(ni,"-is-closable ").concat(l,"--closable"),m.value),te(b,"".concat(ni,"-is-disabled ").concat(l,"--disabled"),E.value),te(b,"".concat(l,"--size-").concat(s.value),s.value),b)]});function h(b){t.disabled||r("close",b)}var y=function(p){t.disabled||r("click",p)};return{baseClass:l,classes:g,style:f,onClickClose:h,handleClick:y,iconContent:o,tagContent:i}}}),u2=["aria-disabled"];function c2(e,t,n,r,a,i){var o=ge("t-node"),l=ge("close-icon");return H(),W("span",{class:z(e.classes),style:De(e.style),"aria-disabled":e.disabled,role:"button",onClick:t[0]||(t[0]=function(){return e.handleClick&&e.handleClick.apply(e,arguments)})},[J("span",{class:z("".concat(e.baseClass,"__icon"))},[R(o,{content:e.iconContent},null,8,["content"])],2),J("span",{class:z("".concat(e.baseClass,"__text"))},[R(o,{content:e.tagContent},null,8,["content"])],2),e.closable&&!e.disabled?(H(),Oe(l,{key:0,class:z("".concat(e.baseClass,"__close")),onClick:e.onClickClose},null,8,["class","onClick"])):se("",!0)],14,u2)}lS.render=c2;/**
 * tdesign v0.8.4
 * (c) 2022 TDesign Group
 * @license MIT
 */var d2={checked:{type:Boolean,default:void 0},modelValue:{type:Boolean,default:void 0},defaultChecked:{type:Boolean,default:void 0},closable:Boolean,content:{type:[String,Number,Function]},disabled:Boolean,icon:{type:Function},shape:{type:String,default:"square",validator:function(t){return["square","round","mark"].includes(t)}},size:{type:String,default:"medium",validator:function(t){return["small","medium","large"].includes(t)}},onChange:Function,onClick:Function};/**
 * tdesign v0.8.4
 * (c) 2022 TDesign Group
 * @license MIT
 */var mo=_e.prefix,f2="".concat(mo,"-check-tag"),uS=ee({name:f2,components:{CloseIcon:Oi,TNode:st,TButton:Oa},props:d2,emits:["change","click","update:checked","update:modelValue"],setup:function(t,n){var r=St(t,n.emit),a="".concat(mo,"-tag"),i=He(t),o=i.size,l=i.shape,u=i.disabled,s=i.closable,c=Ut(t,n.emit,"checked","change"),d=Ot(c,1),v=d[0],S=[!0,!1],E=A0(S,v.value),m=E.state,f=E.toggle,g=Be(),h=N(function(){return Yt(g,"default","content")}),y=N(function(){return ze(g,"icon")}),b=N(function(){var w;return["".concat(a),"".concat(a,"--checkable"),"".concat(a,"--").concat(l.value),(w={},te(w,"".concat(a,"--size-").concat(o.value),o.value),te(w,"".concat(mo,"-is-closable ").concat(a,"--closable"),s.value),te(w,"".concat(mo,"-is-disabled ").concat(a,"--disabled"),u.value),te(w,"".concat(mo,"-is-checked ").concat(a,"--checked"),v.value),w)]});function p(w){t.disabled?w.stopPropagation():r("close",w)}var C=function(k){u.value||(f(),r("click",{e:k}),v.value=m.value)};return{baseClass:a,classes:b,handleClickClose:p,handleClick:C,iconContent:y,tagContent:h,innerChecked:v}}});function h2(e,t,n,r,a,i){var o=ge("t-node"),l=ge("close-icon"),u=ge("t-button");return H(),Oe(u,{class:z(e.classes),disabled:e.disabled,role:"button","aria-disabled":e.disabled,"aria-checked":e.innerChecked,onClick:e.handleClick},{default:Ue(function(){return[J("div",{class:z("".concat(e.baseClass,"__icon"))},[R(o,{content:e.iconContent},null,8,["content"])],2),J("div",{class:z("".concat(e.baseClass,"__text"))},[R(o,{content:e.tagContent},null,8,["content"])],2),e.closable&&!e.disabled?(H(),Oe(l,{key:0,class:z("".concat(e.baseClass,"__close")),onClick:e.handleClickClose},null,8,["class","onClick"])):se("",!0)]}),_:1},8,["class","disabled","aria-disabled","aria-checked","onClick"])}uS.render=h2;/**
 * tdesign v0.8.4
 * (c) 2022 TDesign Group
 * @license MIT
 */var v2=Le(lS),m2=Le(uS);/**
 * tdesign v0.8.4
 * (c) 2022 TDesign Group
 * @license MIT
 */var g2={bordered:{type:Boolean,default:!0},fixed:{type:Boolean,default:!0},value:{type:[String,Number,Array],default:void 0},modelValue:{type:[String,Number,Array],default:void 0},defaultValue:{type:[String,Number,Array],default:void 0},onChange:Function};/**
 * tdesign v0.8.4
 * (c) 2022 TDesign Group
 * @license MIT
 */var p2=_e.prefix,rs="".concat(p2,"-tab-bar"),cS=ee({name:rs,props:g2,emits:["update:value","update:modelValue","change"],setup:function(t,n){var r=Ut(t,n.emit,"value","change"),a=Ot(r,1),i=a[0],o=q(-1),l=function(c){i.value=c},u=N(function(){var s;return["".concat(rs),(s={},te(s,"".concat(rs,"--bordered"),t.bordered),te(s,"".concat(rs,"--fixed"),t.fixed),s)]});return dt("tab-bar",{defaultIndex:o,activeValue:i,updateChild:l}),{tabbarClass:u}}});function y2(e,t,n,r,a,i){return H(),W("div",{class:z(e.tabbarClass),role:"tablist"},[Ye(e.$slots,"default")],2)}cS.render=y2;/**
 * tdesign v0.8.4
 * (c) 2022 TDesign Group
 * @license MIT
 */var b2=function(t){var n,r=t,a=Be();if(typeof(a==null||(n=a.props)===null||n===void 0?void 0:n.value)!="undefined"){var i;return a==null||(i=a.props)===null||i===void 0?void 0:i.value}return r.value+=1,r.value};/**
 * tdesign v0.8.4
 * (c) 2022 TDesign Group
 * @license MIT
 */var S2={badgeProps:{type:Object},icon:{type:Function},subTabBar:{type:Array},value:{type:[String,Number]}};/**
 * tdesign v0.8.4
 * (c) 2022 TDesign Group
 * @license MIT
 */function Rm(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function xm(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Rm(Object(n),!0).forEach(function(r){te(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Rm(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var dS=_e.prefix,$m="".concat(dS,"-tab-bar-item"),fS=ee({name:$m,components:{TNode:st,TBadge:xl},props:S2,setup:function(t){var n=Qe("tab-bar"),r=n.defaultIndex,a=n.activeValue,i=n.updateChild,o=b2(r),l=!!t.subTabBar,u=q(!1),s=N(function(){return l&&Array.isArray(a.value)?a.value.includes(o):o===a.value});oe(s,function(f){f||(u.value=!1)});var c=N(function(){return Array.isArray(a.value)&&a.value[0]===o}),d=function(){l&&(u.value=!u.value,c.value||i([o])),i(o)},v=function(g){Array.isArray(a.value)&&a.value[1]===g||i([o,g]),u.value=!1},S=Be(),E=N(function(){return Yt(S,"default","content")}),m=N(function(){return ze(S,"icon")});return xm(xm({},He(t)),{},{prefix:dS,componentName:$m,isChecked:s,toggle:d,isSpread:u,selectChild:v,itemContent:E,iconContent:m})}}),T2=["aria-selected","aria-haspopup"],C2=["aria-label","onClick"];function E2(e,t,n,r,a,i){var o,l=ge("t-node"),u=ge("t-badge");return H(),W("div",{role:"tab","aria-label":"TabBar","aria-selected":e.isChecked,"aria-haspopup":e.subTabBar&&e.subTabBar.length>0,class:z([e.componentName,e.iconContent&&"".concat(e.prefix,"-no-border")])},[J("div",{class:z((o={},te(o,"".concat(e.componentName,"__content"),!0),te(o,"".concat(e.prefix,"-is-checked"),e.isChecked),te(o,"".concat(e.componentName,"--onlytext"),!e.iconContent),o)),onClick:t[0]||(t[0]=function(){return e.toggle&&e.toggle.apply(e,arguments)})},[e.iconContent?(H(),W("div",{key:0,class:z("".concat(e.componentName,"__icon"))},[e.badgeProps&&(e.badgeProps.dot||e.badgeProps.count)?(H(),Oe(u,{key:0,count:e.badgeProps.count,"max-count":e.badgeProps.maxCount||99,dot:e.badgeProps.dot,content:e.badgeProps.content,size:e.badgeProps.size,offset:e.badgeProps.offset||[0,5]},{default:Ue(function(){return[R(l,{content:e.iconContent},null,8,["content"])]}),_:1},8,["count","max-count","dot","content","size","offset"])):(H(),Oe(l,{key:1,content:e.iconContent},null,8,["content"]))],2)):se("",!0),e.itemContent?(H(),W("div",{key:1,class:z("".concat(e.componentName,"__text"))},[e.subTabBar&&e.subTabBar.length>0?(H(),W("div",{key:0,class:z("".concat(e.componentName,"__icon-menu"))},null,2)):se("",!0),R(l,{content:e.itemContent},null,8,["content"])],2)):se("",!0)],2),R(mn,{name:"spread"},{default:Ue(function(){return[e.subTabBar&&e.subTabBar.length>0&&e.isSpread?(H(),W("ul",{key:0,role:"menu",class:z("".concat(e.componentName,"__spread"))},[(H(!0),W(Ce,null,Ne(e.subTabBar,function(s,c){return H(),W("li",{key:s.value||c,role:"menuitem","aria-label":s.label,class:z("".concat(e.componentName,"__spread-item")),onClick:function(v){return e.selectChild(s.value||c)}},Ae(s.label),11,C2)}),128))],2)):se("",!0)]}),_:1})],10,T2)}fS.render=E2;/**
 * tdesign v0.8.4
 * (c) 2022 TDesign Group
 * @license MIT
 */var w2=Le(cS),O2=Le(fS);/**
 * tdesign v0.8.4
 * (c) 2022 TDesign Group
 * @license MIT
 */var Dc=function(e){return e.expanded="expanded",e.collapsed="collapsed",e}(Dc||{}),Ji=null,Mm={expandedMenuControl:null,recordMenuExpanded:function(t,n,r){var a=t;if(r==="expanded"){var i=this.expandedMenuControl;i&&i!==n&&i.collapseMenu(),this.expandedMenuControl=n,Ji===null&&(Ji=t.style.overflow,a.style.overflow="hidden")}else r==="collapsed"&&(this.expandedMenuControl===n&&(this.expandedMenuControl=null),!this.expandedMenuControl&&Ji!==null&&(a.style.overflow=Ji,Ji=null))}};/**
 * tdesign v0.8.4
 * (c) 2022 TDesign Group
 * @license MIT
 */var k2=function(){function e(){Gb(this,e),te(this,"timeout",void 0),te(this,"finallyDo",void 0),this.timeout=null,this.finallyDo=Zs}return Kb(e,[{key:"setTo",value:function(n,r,a,i){var o=this;this.timeout&&(window.clearTimeout(this.timeout),this.finallyDo()),r(),Re(function(){return window.setTimeout(a,0)}),this.finallyDo=i,this.timeout=window.setTimeout(function(){o.finallyDo(),o.finallyDo=Zs,o.timeout=0},n)}}]),e}();/**
 * tdesign v0.8.4
 * (c) 2022 TDesign Group
 * @license MIT
 */var Pc=function(t){for(var n=t;n&&n!==document.body;){var r=getComputedStyle(n),a=r.transform;if(!/matrix\([\d,\s]+\)/.test(a)){n=n.parentNode;continue}return n}return null},_2=function(t){var n=Pc(t),r=n?n.getBoundingClientRect():{top:0,left:0},a=t.getBoundingClientRect(),i=a.top,o=a.left,l=a.bottom,u=a.right,s=a.width,c=a.height;return{top:i-r.top,bottom:l-r.top,left:o-r.left,right:u-r.left,width:s,height:c}};/**
 * tdesign v0.8.4
 * (c) 2022 TDesign Group
 * @license MIT
 */var A2={activeColor:{type:String,default:""},closeOnClickOverlay:{type:Boolean,default:!0},duration:{type:[String,Number],default:200},overlay:{type:Boolean,default:!0},zIndex:{type:Number}};/**
 * tdesign v0.8.4
 * (c) 2022 TDesign Group
 * @license MIT
 */function Fm(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Bm(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Fm(Object(n),!0).forEach(function(r){te(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Fm(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var Ms=_e.prefix,oa="".concat(Ms,"-dropdown-menu"),hS=ee({name:oa,props:A2,setup:function(t,n){var r=n.slots,a=Me({activeId:null,barRect:{},childCount:0}),i=q([]),o=function(){if(r.default){var g="".concat(Ms,"-dropdown-item"),h=r.default();i.value=h.filter(function(y){var b,p=y==null||(b=y.type)===null||b===void 0?void 0:b.name;return(p==null?void 0:p.includes)&&p.includes(g)})}};Td(o);var l=N(function(){return i.value.map(function(f){var g=f.props,h=g.label,y=g.disabled;return{label:h,disabled:y!==void 0&&y!==!1}})}),u=new k2;dt("dropdownMenuProps",t),dt("dropdownMenuState",a),dt("dropdownAniControl",u);var s=N(function(){return["".concat(oa)]}),c=q(null),d=N(function(){return["".concat(oa,"__bar"),te({},"".concat(oa,"__bar ").concat(oa,"__bar--open"),a.activeId)]}),v=N(function(){return function(f,g){var h;return["".concat(oa,"__item"),(h={},te(h,"".concat(Ms,"-is-disabled"),f.disabled),te(h,"".concat(Ms,"-is-active"),g===a.activeId),h)]}}),S=function(g,h){var y=g.disabled;if(!y){if(a.activeId===h){E();return}a.activeId=h;var b=c.value,p=_2(b);a.barRect=p;var C=Pc(b)||document.body;Mm.recordMenuExpanded(C,m,Dc.expanded)}},E=function(){a.activeId=null;var g=c.value,h=Pc(g)||document.body;Mm.recordMenuExpanded(h,m,Dc.collapsed)},m={expandMenu:S,collapseMenu:E};return dt("dropdownMenuControl",m),Bm(Bm({name:q(oa),classes:s},He(t)),{},{refBar:c,state:a,styleBar:d,styleBarItem:v,menuItems:i,menuTitles:l,expandMenu:S})}}),D2=["onClick"];function P2(e,t,n,r,a,i){return H(),W("div",{class:z(e.classes)},[J("div",{ref:"refBar",class:z(e.styleBar)},[(H(!0),W(Ce,null,Ne(e.menuTitles,function(o,l){return H(),W("div",{key:l,class:z(e.styleBarItem(o,l)),onClick:function(s){return e.expandMenu(o,l)}},[J("div",{class:z("".concat(e.name,"__title"))},Ae(o.label),3)],10,D2)}),128))],2),Ye(e.$slots,"default")],2)}hS.render=P2;/**
 * tdesign v0.8.4
 * (c) 2022 TDesign Group
 * @license MIT
 */var I2={disabled:Boolean,label:{type:String,default:""},multiple:Boolean,options:{type:Array},optionsColumns:{type:[String,Number]},optionsLayout:{type:String,default:"columns",validator:function(t){return["columns","tree"].includes(t)}},value:{type:[String,Number,Array],default:void 0},modelValue:{type:[String,Number,Array],default:void 0},defaultValue:{type:[String,Number,Array],default:void 0},onChange:Function};/**
 * tdesign v0.8.4
 * (c) 2022 TDesign Group
 * @license MIT
 */function Nm(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Tu(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Nm(Object(n),!0).forEach(function(r){te(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Nm(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var Sn=_e.prefix,Ma="".concat(Sn,"-dropdown-item"),vS=ee({name:Ma,components:{TMask:Ll,TRadio:kb,TButton:Oa,TCheckbox:ub,TRadioGroup:Ab,TCheckboxGroup:Sb},props:I2,emits:["change","open","opened","close","closed","update:value","update:modelValue"],setup:function(t,n){var r=St(t,n.emit),a=Ut(t,n.emit,"value","change"),i=Ot(a,2),o=i[0],l=i[1],u=Qe("dropdownMenuProps"),s=Qe("dropdownMenuState"),c=Qe("dropdownMenuControl"),d=c.expandMenu,v=c.collapseMenu,S=Qe("dropdownAniControl"),E=N(function(){return["".concat(Ma),te({},"".concat(Sn,"-is-expanded"),f.isExpanded)]}),m=q(0);Td(function(){m.value=s.childCount,s.childCount+=1});var f=Me({showOverlay:N(function(){return u.overlay}),isShowItems:!1,isExpanded:!1,expandStyle:{},transitionStyle:N(function(){return{transition:"transform ".concat(u.duration,"ms ease"),"-webkit-transition":"transform ".concat(u.duration,"ms ease")}}),multiple:N(function(){return t.multiple}),optionsLayout:N(function(){return t.optionsLayout}),options:N(function(){return t.options})}),g=function(F){return F===p.value},h=function(F){var U;return["".concat(Ma,"__radio"),(U={},te(U,"".concat(Sn,"-is-tick"),!t.multiple),te(U,"".concat(Sn,"-is-checked"),g(F)),U)]},y=N(function(){var j,F,U=t.optionsLayout,B=+((j=t.optionsColumns)!==null&&j!==void 0?j:0),K=U==="tree",V=K?w.leafLevel+1:0;return["".concat(Ma,"__content"),(F={},te(F,"".concat(Sn,"-is-tree"),K),te(F,"".concat(Sn,"-is-single"),!K&&!t.multiple),te(F,"".concat(Sn,"-is-multi"),!K&&t.multiple),te(F,"".concat(Sn,"-is-col1"),B===1||V===1),te(F,"".concat(Sn,"-is-col2"),B===2||V===2),te(F,"".concat(Sn,"-is-col3"),B===3||V===3),F)]}),b=function(F){var U=s.barRect.bottom;f.expandStyle={zIndex:u.zIndex,top:"".concat(U,"px")};var B=u.duration;S.setTo(+(B!=null?B:200),function(){r(F?"open":"close"),F&&(f.isShowItems=F),f.isExpanded=!F},function(){f.isExpanded=F},function(){F||(f.isShowItems=F),r(F?"opened":"closed")})};oe(function(){return s.activeId===m.value},function(j){return b(j)});var p=q(),C=q([]),w=Me({leafLevel:0,selectList:[]}),k=N(function(){return function(j,F){var U;return["".concat(Ma,"__radio"),(U={},te(U,"".concat(Sn,"-is-tick"),F===w.leafLevel),te(U,"".concat(Sn,"-is-checked"),j===w.selectList[F]),U)]}}),_=function(F,U){var B=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,K=w.selectList.slice(0,F);K[F]=U,w.selectList=K,B&&O()},T=q([]),O=function(){for(var F=t.options,U=w.selectList,B=[],K=-1,V={title:"",value:"",disabled:!1,options:F},X=function(){var ye=V.options;B.push(Bt(ye)),K+=1;var de=U[K];if(de===void 0){var be=ye[0];if(be.options)_(K,be.value,!1),V=be;else return _(K,t.multiple?[]:void 0,!1),"break"}else if(Array.isArray(de))V=void 0;else{var G=ye.find(function(Y){return Y.value===de});V=G}};(Z=V)!==null&&Z!==void 0&&Z.options;){var Z,ne=X();if(ne==="break")break}w.leafLevel=Math.max(0,K),T.value=B};t.optionsLayout==="tree"&&(oe(function(){return JSON.stringify({options:t.options})},$d(hi.mark(function j(){return hi.wrap(function(U){for(;;)switch(U.prev=U.next){case 0:return U.next=2,Re();case 2:O();case 3:case"end":return U.stop()}},j)}))),O());var A=function(F){var U=t.optionsLayout;if(U==="tree")w.selectList=F!=null?F:[],O();else if(U==="columns")if(t.multiple)t.multiple&&t.optionsLayout==="columns"&&(C.value=F!=null?F:[]);else{var B,K=t.options,V=K==null?void 0:K[0],X=(B=F!=null?F:V==null?void 0:V.value)!==null&&B!==void 0?B:null;p.value=X}};A(o.value),oe(function(){return o.value},function(j){return A(j)});var P=N(function(){switch(t.optionsLayout){case"columns":return C.value.length<=0;case"tree":if(!t.multiple)return w.selectList[w.leafLevel]===void 0;if(t.multiple){var j=w.selectList[w.leafLevel];return j&&j.length<=0}}return!0}),D=function(){switch(t.optionsLayout){case"columns":C.value=[];break;case"tree":w.selectList=[];break}},I=function(){var F;switch(t.optionsLayout){case"columns":F=C.value;break;case"tree":F=w.selectList;break}F=JSON.parse(JSON.stringify(F)),l(F),v()};oe(p,function(j){if(!(t.multiple||t.optionsLayout==="tree")&&!!f.isShowItems){var F=o.value||[];F[0]!==j&&(j&&Array.isArray(j)&&l(j),v())}});var x=function(){u.closeOnClickOverlay&&v()},L=pt(xd),$=function(F){return F},M=function(F){return F};return Tu(Tu(Tu({name:q(Ma)},He(t)),He(f)),{},{classes:E,styleContent:y,isBtnDisabled:P,radioSelect:p,checkSelect:C,treeOptions:T,treeState:w,styleTreeRadio:k,isCheckedRadio:g,selectTreeNode:_,styleDropRadio:h,expandMenu:d,collapseMenu:v,resetSelect:D,confirmSelect:I,onClickOverlay:x,renderCheckIcon:[L],convertTreeRadioType:$,convertTreeCheckType:M})}});function jm(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Um(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?jm(Object(n),!0).forEach(function(r){te(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):jm(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var L2=["data-value"],R2=tt("\u91CD\u7F6E"),x2=tt("\u786E\u5B9A");function $2(e,t,n,r,a,i){var o=ge("t-mask"),l=ge("t-radio"),u=ge("t-radio-group"),s=ge("t-checkbox"),c=ge("t-checkbox-group"),d=ge("t-button");return e.isShowItems?(H(),W("div",{key:0,class:z(e.classes),style:De(Um({},e.expandStyle))},[e.isShowItems&&e.showOverlay?(H(),Oe(o,{key:0,onClick:e.onClickOverlay},null,8,["onClick"])):se("",!0),J("div",{class:z(e.styleContent),style:De(Um({},e.transitionStyle))},[J("div",{class:z("".concat(e.name,"__bd"))},[Ye(e.$slots,"default",{},function(){return[e.optionsLayout==="columns"?(H(),W(Ce,{key:0},[e.multiple?(H(),Oe(c,{key:1,modelValue:e.checkSelect,"onUpdate:modelValue":t[1]||(t[1]=function(v){return e.checkSelect=v})},{default:Ue(function(){return[(H(!0),W(Ce,null,Ne(e.options,function(v){return H(),W("div",{key:v.value,class:z("".concat(e.name,"__cell"))},[R(s,{value:v.value,label:v.title,disabled:v.disabled},null,8,["value","label","disabled"])],2)}),128))]}),_:1},8,["modelValue"])):(H(),Oe(u,{key:0,modelValue:e.radioSelect,"onUpdate:modelValue":t[0]||(t[0]=function(v){return e.radioSelect=v})},{default:Ue(function(){return[(H(!0),W(Ce,null,Ne(e.options,function(v){return H(),W("div",{key:v.value,class:z("".concat(e.name,"__cell"))},[R(l,{value:v.value,label:v.title,disabled:v.disabled,class:z(e.styleDropRadio(v.value)),checked:e.isCheckedRadio(v.value)},null,8,["value","label","disabled","class","checked"])],2)}),128))]}),_:1},8,["modelValue"]))],64)):e.optionsLayout==="tree"?(H(!0),W(Ce,{key:1},Ne(e.treeOptions,function(v,S){return H(),W("div",{key:S,class:z("".concat(e.name,"__tree-group"))},[S<e.treeState.leafLevel?(H(),Oe(u,{key:0,"model-value":e.convertTreeRadioType(e.treeState.selectList[S]),"onUpdate:modelValue":function(m){return e.selectTreeNode(S,m)}},{default:Ue(function(){return[(H(!0),W(Ce,null,Ne(e.treeOptions[S],function(E){return H(),W("div",{key:E.value,"data-value":E.value,class:z("".concat(e.name,"__cell"))},[R(l,{class:z(e.styleTreeRadio(E.value,S)),value:E.value,label:E.title,disabled:E.disabled},null,8,["class","value","label","disabled"])],10,L2)}),128))]}),_:2},1032,["model-value","onUpdate:modelValue"])):(H(),W(Ce,{key:1},[e.multiple?(H(),Oe(c,{key:1,value:e.convertTreeCheckType(e.treeState.selectList[S]),"onUpdate:value":function(m){return e.selectTreeNode(S,m)}},{default:Ue(function(){return[(H(!0),W(Ce,null,Ne(e.treeOptions[S],function(E){return H(),W("div",{key:E.value,class:z("".concat(e.name,"__cell"))},[R(s,{value:E.value,label:E.title,disabled:E.disabled},null,8,["value","label","disabled"])],2)}),128))]}),_:2},1032,["value","onUpdate:value"])):(H(),Oe(u,{key:0,value:e.convertTreeRadioType(e.treeState.selectList[S]),"onUpdate:value":function(m){return e.selectTreeNode(S,m)}},{default:Ue(function(){return[(H(!0),W(Ce,null,Ne(e.treeOptions[S],function(E){return H(),W("div",{key:E.value,class:z("".concat(e.name,"__cell"))},[R(l,{value:E.value,label:E.title,disabled:E.disabled,class:z(e.styleTreeRadio(E.value,S)),icon:E.value===e.treeState.selectList[S]?e.renderCheckIcon:void 0},null,8,["value","label","disabled","class","icon"])],2)}),128))]}),_:2},1032,["value","onUpdate:value"]))],64))],2)}),128)):se("",!0)]})],2),e.multiple||e.optionsLayout==="tree"?(H(),W("div",{key:0,class:z("".concat(e.name,"__ft"))},[R(d,{variant:"outline",disabled:e.isBtnDisabled,onClick:e.resetSelect},{default:Ue(function(){return[R2]}),_:1},8,["disabled","onClick"]),R(d,{theme:"primary",disabled:e.isBtnDisabled,onClick:e.confirmSelect},{default:Ue(function(){return[x2]}),_:1},8,["disabled","onClick"])],2)):se("",!0)],6)],6)):se("",!0)}vS.render=$2;/**
 * tdesign v0.8.4
 * (c) 2022 TDesign Group
 * @license MIT
 */var M2=Le(hS),F2=Le(vS);/**
 * tdesign v0.8.4
 * (c) 2022 TDesign Group
 * @license MIT
 */var B2={value:[Array,String,Number],accordion:{type:Boolean,default:!1},title:String,expandAll:Boolean,labelWidth:Number},N2={name:[String,Number],title:[String,Number],extra:[String,Number],content:[String,Number,Array],disabled:Boolean,labelWidth:Number,headerClickable:{type:Boolean,default:!0}};/**
 * tdesign v0.8.4
 * (c) 2022 TDesign Group
 * @license MIT
 */function mS(e,t){var n=new RegExp("^".concat(!e&&e!==0?"":e,"$")),r=Kd(t);return r.findIndex(function(a){return n.test(a)})}function gS(e){return!e&&e!==0}function Kd(e){return gS(e)?[]:Nt(e)==="object"?Array.from(e):[e]}function j2(e,t,n){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,a=!!n||!!t&&Nt(t)==="object",i=function(c){return a?c:c[0]},o=Kd(t),l=o.length,u=mS(e,o);return u>-1?(l<2&&r||o.splice(u,1),i(o)):!n&&l>0?i([e]):(o.push(e),i(o))}/**
 * tdesign v0.8.4
 * (c) 2022 TDesign Group
 * @license MIT
 */function Vm(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Hm(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Vm(Object(n),!0).forEach(function(r){te(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Vm(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var U2=_e.prefix,zm="".concat(U2,"-collapse"),pS=ee({name:zm,props:B2,emits:["update:value","change"],setup:function(t,n){var r=St(t,n.emit),a=Me({className:zm,curValue:t.value});oe(function(){return t.value},function(o){a.curValue=o});var i=function(l){var u=j2(l,a.curValue,!t.accordion);a.curValue=u,r("update:value",u),r("change",u)};return dt("collapseProps",t),dt("collapseState",a),dt("onPanelChange",i),Hm(Hm({},He(a)),He(t))}});function V2(e,t,n,r,a,i){return H(),W("div",{class:z(e.className)},[e.title?(H(),W("div",{key:0,class:z("".concat(e.className,"__title"))},Ae(e.title),3)):se("",!0),Ye(e.$slots,"default")],2)}pS.render=V2;/**
 * tdesign v0.8.4
 * (c) 2022 TDesign Group
 * @license MIT
 */function Gm(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Km(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Gm(Object(n),!0).forEach(function(r){te(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Gm(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var H2=_e.prefix,sa="".concat(H2,"-collapse-panel"),yS=ee({name:sa,components:{ChevronDownIcon:Rh,ChevronUpIcon:jh},props:N2,emits:["click"],setup:function(t,n){var r=St(t,n.emit),a=Qe("collapseProps"),i=Qe("collapseState"),o=Qe("onPanelChange"),l=N(function(){return S.value?Rh:jh}),u=N(function(){return Kd(t.content)}),s=N(function(){var b;return b={},te(b,"".concat(sa),!0),te(b,"".concat(sa,"--active"),S.value),te(b,"".concat(sa,"--disabled"),t.disabled),b}),c=N(function(){return t.labelWidth||a.labelWidth}),d=N(function(){return function(b){return["".concat(sa,"__content"),Nt(b)==="object"?"".concat(sa,"-list__item"):""]}}),v=N(function(){return gS(c.value)?{}:{width:"".concat(c.value,"px")}}),S=N(function(){return mS(t.name,i.curValue)>-1}),E=Me({baseClass:sa}),m=function(){var p=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,C=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";p==null||p.stopPropagation(),!t.disabled&&(r("click",t.name),!(/^header$/i.test(C)&&!t.headerClickable)&&o(t.name))},f=q(),g=q(),h=q(),y=function(){if(!g.value){console.log("[collapse] \u7EC4\u4EF6\u5C1A\u672A\u6302\u8F7D",g.value);return}var p=h.value.getBoundingClientRect(),C=p.height;if(!S.value){g.value.style.height="".concat(C,"px");return}var w=f.value.getBoundingClientRect(),k=w.height,_=C+k;g.value.style.height="".concat(_,"px")};return oe(S,function(){Re(function(){y()})}),et(function(){a.expandAll&&!S.value&&m(),y()}),Km(Km({},He(E)),{},{contList:u,headDOM:h,rightIcon:l,bodyDOM:f,wrapDOM:g,className:s,contentClassName:d,listLabelStyle:v,onChange:m})}});function z2(e,t,n,r,a,i){return H(),W("div",{ref:"wrapDOM",class:z(e.className)},[J("div",{ref:"headDOM",class:z("".concat(e.baseClass,"__header")),onClick:t[1]||(t[1]=function(o){return e.onChange(o,"header")})},[J("div",{class:z("".concat(e.baseClass,"__title"))},[Ye(e.$slots,"title",{},function(){return[tt(Ae(e.title),1)]})],2),J("div",{class:z("".concat(e.baseClass,"__header-right")),onClick:t[0]||(t[0]=function(){return e.onChange&&e.onChange.apply(e,arguments)})},[e.extra||e.$slots.extra?(H(),W("div",{key:0,class:z("".concat(e.baseClass,"__header-extra"))},[Ye(e.$slots,"extra",{},function(){return[tt(Ae(e.extra),1)]})],2)):se("",!0),(H(),Oe(No(e.rightIcon),{class:z("".concat(e.baseClass,"__header-icon"))},null,8,["class"]))],2)],2),J("div",{ref:"bodyDOM",class:z("".concat(e.baseClass,"__body"))},[e.$slots.default?(H(),W("div",{key:0,class:z("".concat(e.baseClass,"__body-slot"))},[Ye(e.$slots,"default")],2)):(H(!0),W(Ce,{key:1},Ne(e.contList,function(o,l){return H(),W("div",{key:l,class:z(e.contentClassName(o))},[Nt(o)==="object"?(H(),W(Ce,{key:0},[J("div",{class:z("".concat(e.baseClass,"-list__label")),style:De(e.listLabelStyle)},Ae(o.label),7),J("div",{class:z("".concat(e.baseClass,"-list__content"))},Ae(o.content),3)],64)):(H(),W(Ce,{key:1},[tt(Ae(o),1)],64))],2)}),128))],2)],2)}yS.render=z2;/**
 * tdesign v0.8.4
 * (c) 2022 TDesign Group
 * @license MIT
 */var G2=Le(pS),K2=Le(yS);/**
 * tdesign v0.8.4
 * (c) 2022 TDesign Group
 * @license MIT
 */var W2={animation:{type:Object},list:{type:Array},placement:{type:String,default:"top",validator:function(t){return t?["left","top"].includes(t):!0}},showBottomLine:{type:Boolean,default:!0},size:{type:String,default:"medium",validator:function(t){return t?["medium","large"].includes(t):!0}},stickyProps:{type:Object},value:{type:[String,Number],default:void 0},modelValue:{type:[String,Number],default:void 0},defaultValue:{type:[String,Number]},onChange:Function};/**
 * tdesign v0.8.4
 * (c) 2022 TDesign Group
 * @license MIT
 */var bS={destroyOnHide:{type:Boolean,default:!0},disabled:Boolean,label:{type:[String,Function]},panel:{type:[String,Function]},value:{type:[String,Number]}};/**
 * tdesign v0.8.4
 * (c) 2022 TDesign Group
 * @license MIT
 */var Y2=_e.prefix,SS=ee({name:"".concat(Y2,"-tab-nav"),components:{TNode:st},props:{label:bS.label},setup:function(t){var n=Be(),r=N(function(){return Yt(n,"default","label")});return{labelContent:r}}});function q2(e,t,n,r,a,i){var o=ge("t-node");return H(),W("div",null,[R(o,{content:e.labelContent},null,8,["content"])])}SS.render=q2;/**
 * tdesign v0.8.4
 * (c) 2022 TDesign Group
 * @license MIT
 */var X2={container:{type:Object},disabled:Boolean,offsetTop:{type:[String,Number],default:0},zIndex:{type:Number,default:99},onScroll:Function};/**
 * tdesign v0.8.4
 * (c) 2022 TDesign Group
 * @license MIT
 */var Wm="".concat(_e.prefix,"-sticky"),TS=ee({name:Wm,components:{TNode:st},props:X2,setup:function(t,n){var r=Wm,a=N(function(){return Yt(Be(),"default","")}),i=St(t,n.emit),o=gv("boxRef"),l=Tc(o),u=l.top,s=gv("contentRef"),c=Tc(s),d=c.top,v=c.height,S=N(function(){return"height:".concat(v.value,"px;")}),E,m=q(0),f=q(0);oe(u,function(){if(t.container){E=document.querySelector(t.container);var h=E.getBoundingClientRect(),y=h.top,b=h.height;m.value=b,f.value=y}});var g=N(function(){var h="z-index:".concat(t.zIndex,";"),y=!1;if(t.disabled)return h;var b=Number(t.offsetTop);return E&&m.value+f.value<b+v.value?h+="transform:translate3d(0, ".concat(m.value-v.value,"px, 0);"):u.value<=b&&(h+="position:fixed;top:".concat(b,"px;"),y=!0),i("scroll",{scrollTop:d.value,isFixed:y}),h});return{boxClasses:r,boxStyles:S,contentStyles:g,stickyContent:a}}});function Z2(e,t,n,r,a,i){var o=ge("t-node");return H(),W("div",{ref:"boxRef",class:z(e.boxClasses),style:De(e.boxStyles)},[J("div",{ref:"contentRef",style:De(e.contentStyles)},[R(o,{content:e.stickyContent},null,8,["content"])],4)],6)}TS.render=Z2;/**
 * tdesign v0.8.4
 * (c) 2022 TDesign Group
 * @license MIT
 */var CS=Le(TS);/**
 * tdesign v0.8.4
 * (c) 2022 TDesign Group
 * @license MIT
 */function Ym(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Cu(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Ym(Object(n),!0).forEach(function(r){te(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ym(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var go=_e.prefix,as="".concat(go,"-tabs"),ES=ee({name:as,components:{TabNavItem:SS,TSticky:CS},props:W2,emits:["onChange"],setup:function(t,n){var r=n.emit,a=n.slots,i=N(function(){return t.placement}),o=N(function(){return t.showBottomLine}),l=N(function(){return Cu({disabled:!0},t.stickyProps)}),u=xt.STATUS.active,s=xt.STATUS.disabled,c=N(function(){return["".concat(as),"".concat(go,"-is-").concat(i.value),t.size?xt.SIZE[t.size]:""]}),d=q(["".concat(as,"__nav")]),v=q(!1),S=q(t.value?t.value:t.defaultValue);oe(function(){return t.value},function(w){w&&b(w),Re(function(){y()})});var E=N(function(){if(t.list)return t.list;var w=a.default?a.default():[],k=[],_=[];return w.forEach(function(T){var O;T.type===Ce?k.push.apply(k,Bt(T.children)):k.push(T),(O=T.children)!==null&&O!==void 0&&O.label&&_.push(T.children.label()[0]||null)}),w=k.filter(function(T){return T.type.name==="".concat(go,"-tab-panel")}),w.map(function(T,O){return Cu(Cu({},T.props),{},{label:function(){return _[O]||T.props.label}})})}),m=q(null),f=q(null),g=q(null),h=q(""),y=function(){if(f.value&&g.value&&o.value){var k=f.value.querySelector(".".concat(u));if(!k)return;var _=g.value;i.value==="left"?h.value="transform: translateY(".concat(k.offsetTop,"px);").concat(t.animation?"transition-duration:".concat(t.animation.duration,"ms"):""):h.value="transform: translateX(".concat(Number(k.offsetLeft)+Number(k.offsetWidth)/2-_.offsetWidth/2,"px);").concat(t.animation?"transition-duration:".concat(t.animation.duration,"ms"):"")}};et(function(){var w,k;v.value=(((w=f.value)===null||w===void 0?void 0:w.offsetWidth)||0)>(((k=m.value)===null||k===void 0?void 0:k.offsetWidth)||0),v.value&&d.value.push("".concat(go,"-is-scrollable")),window.addEventListener("resize",y,!1),setTimeout(function(){y()},300)}),er(function(){window.removeEventListener("resize",y)});var b=function(k){r("onChange",k),S.value=k},p=function(k,_){b(_)},C=function(k,_){var T=_.value,O=_.disabled;if(O||S.value===T)return!1;p(k,T),Re(function(){y()})};return dt("currentValue",vd(S)),{name:as,prefix:go,classes:c,navClasses:d,activeClass:u,disabledClass:s,currentValue:S,tabClick:C,showBottomLine:o,itemProps:E,navScroll:m,navWrap:f,navLine:g,lineStyle:h,moveToActiveTab:y,stickyProps:l}}});function J2(e,t,n,r,a,i){var o=ge("tab-nav-item"),l=ge("t-sticky");return H(),W("div",{class:z(e.classes)},[R(l,CC(e0(e.stickyProps)),{default:Ue(function(){return[J("div",{class:z(e.navClasses)},[J("div",{ref:"navScroll",class:z("".concat(e.name,"__nav-container"))},[J("div",{ref:"navWrap",class:z("".concat(e.name,"__nav-wrap"))},[(H(!0),W(Ce,null,Ne(e.itemProps,function(u){var s;return H(),Oe(o,{key:u.value,label:u.label,class:z((s={},te(s,"".concat(e.name,"__nav-item"),!0),te(s,e.activeClass,u.value===e.currentValue),te(s,e.disabledClass,u.disabled),s)),onClick:function(d){return e.tabClick(d,u)}},null,8,["label","class","onClick"])}),128)),e.showBottomLine?(H(),W("div",{key:0,ref:"navLine",class:z("".concat(e.name,"__nav-line")),style:De(e.lineStyle)},null,6)):se("",!0)],2)],2)],2)]}),_:1},16),J("div",{class:z("".concat(e.name,"__content"))},[Ye(e.$slots,"default")],2)],2)}ES.render=J2;/**
 * tdesign v0.8.4
 * (c) 2022 TDesign Group
 * @license MIT
 */function qm(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Q2(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?qm(Object(n),!0).forEach(function(r){te(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qm(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var Xm=_e.prefix,wS=ee({name:"".concat(Xm,"-tab-panel"),components:{TNode:st},props:bS,setup:function(t){var n=Qe("currentValue",""),r=N(function(){return n.value===t.value}),a=Be(),i=N(function(){return Yt(a,"default","panel")});return Q2({prefix:Xm,isActive:r,panelContent:i},He(t))}}),eM=["value"];function tM(e,t,n,r,a,i){var o=ge("t-node");return e.destroyOnHide||e.isActive?Ge((H(),W("div",{key:0,class:z("".concat(e.prefix,"-tabs__panel")),value:e.value},[Ye(e.$slots,"default",{},function(){return[R(o,{content:e.panelContent},null,8,["content"])]})],10,eM)),[[qe,e.isActive]]):se("",!0)}wS.render=tM;/**
 * tdesign v0.8.4
 * (c) 2022 TDesign Group
 * @license MIT
 */var nM=Le(ES),rM=Le(wS);/**
 * tdesign v0.8.4
 * (c) 2022 TDesign Group
 * @license MIT
 */var aM={animation:{type:String,default:"slide",validator:function(t){return t?["slide"].includes("".concat(t)):!0}},autoplay:{type:Boolean,default:!0},current:{type:Number,default:void 0},modelValue:{type:Number,default:void 0},defaultCurrent:{type:Number,default:0},direction:{type:String,default:"horizontal",validator:function(t){return["horizontal","vertical"].includes("".concat(t))}},duration:{type:Number,default:300},height:{type:Number},interval:{type:Number,default:5e3},loop:{type:Boolean,default:!0},navigation:{type:[Object,Function]},onChange:Function};/**
 * tdesign v0.8.4
 * (c) 2022 TDesign Group
 * @license MIT
 */var iM=_e.prefix,Zm="".concat(iM,"-swiper"),Jm=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"X";t.style.transform="translate".concat(r,"(").concat(n,"px)")},OS=ee({name:Zm,components:{ChevronLeftIcon:T0,ChevronRightIcon:C0,TNode:st},props:aM,emits:["change","update:current","update:modelValue"],setup:function(t,n){var r=Ut(t,n.emit,"current","change"),a=Ot(r,2);a[0];var i=a[1],o=Be(),l=q(null),u=N(function(){return ze(o,"navigation")}),s=t.height||180,c=Me({activeIndex:0,itemLength:0,itemWidth:0,isControl:!1,btnDisabled:!1,children:[]}),d=N(function(){return new Array(c.itemLength).fill(1)}),v=N(function(){var x=c.activeIndex,L=c.itemLength;return x>L-1?L:x<0?1:x+1});N(function(){return c.children.length});var S=function(){var L;return o==null||(L=o.proxy)===null||L===void 0?void 0:L.$el.querySelector(".t-swiper__container")},E=function(){var L,$,M=S();M.querySelectorAll(".copy-item").forEach(function(K){M.removeChild(K)});var j=M.querySelectorAll(".t-swiper-item");c.itemLength=((L=M.children)===null||L===void 0?void 0:L.length)||0;var F=(($=M.querySelector(".t-swiper-item"))===null||$===void 0?void 0:$.getBoundingClientRect().width)||0;if(c.itemWidth=F,j.length<=0)return!1;var U=j[0].cloneNode(!0);U.classList.add("copy-item");var B=j[j.length-1].cloneNode(!0);B.classList.add("copy-item"),M.appendChild(U),M.insertBefore(B,j[0]),g(0),C(),typeof t.current=="number"&&(c.isControl=!0,_(t.current))};et(function(){Re(function(){console.info("swiper mounted"),E()})}),oe(function(){return c.children.length},function(){Re(function(){console.info("swiper mounted"),E()})});var m=null,f=!0,g=function(L){var $=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,M=S(),j=(t==null?void 0:t.direction)==="horizontal"?"X":"Y",F=(t==null?void 0:t.direction)==="vertical"?s:c.itemWidth;f=$,M.dataset.isTrust="".concat($),M.style.transform="translate".concat(j,"(-").concat(F*(L+1),"px)")},h=function(){var L=S();L.style.transition="transform ".concat(t==null?void 0:t.duration,"ms")},y=function(){var L=S();L.style.transition="none"},b=function(){c.btnDisabled=!1,y(),c.activeIndex>=c.itemLength&&(c.activeIndex=0,g(0)),c.activeIndex<=-1&&(c.activeIndex=c.itemLength-1,g(c.itemLength-1)),setTimeout(function(){f&&w(c.activeIndex)},0)},p=function(){!m||(clearInterval(m),m=null)},C=function(){if(typeof t.current=="number"||!(t!=null&&t.autoplay)||m!==null)return!1;m=setInterval(function(){c.activeIndex+=1,h(),g(c.activeIndex)},t==null?void 0:t.interval)},w=function(L){if(!c.isControl)return!1;var $=L;L>=c.itemLength&&($=0),L<0&&($=c.itemLength-1),i($)},k=function(){var L=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1;if(c.btnDisabled)return!1;p(),c.activeIndex-=L,h(),g(c.activeIndex),C(),c.btnDisabled=!0},_=function(){var L=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1;if(c.btnDisabled)return!1;p(),c.activeIndex+=L,h(),g(c.activeIndex),C(),c.btnDisabled=!0},T=I0(l,{passive:!1,onSwipeStart:function(L){if(c.btnDisabled)return!1;p()},onSwipe:function(L){if(c.btnDisabled)return!1;P(L)},onSwipeEnd:function(){D()}}),O=T.lengthX,A=T.lengthY,P=function(L){L.preventDefault();var $=c.activeIndex,M=c.itemWidth,j=O.value,F=A.value,U=S();if(y(),(t==null?void 0:t.direction)==="horizontal")Jm(U,-(($+1)*M+j));else{var B=t.height,K=B===void 0?180:B;Jm(U,-(($+1)*K+F),"Y")}},D=function(){var L=O.value,$=A.value;h(),(t==null?void 0:t.direction)==="horizontal"&&L<-100||(t==null?void 0:t.direction)==="vertical"&&$<-100?k(1):(t==null?void 0:t.direction)==="horizontal"&&L>100||(t==null?void 0:t.direction)==="vertical"&&$>100?_(1):g(c.activeIndex),C()},I=function(L){L.proxy&&c.children.push(L.proxy)};return dt("parent",{props:t,relation:I}),oe(function(){return t.current},function(x,L){c.isControl&&(c.activeIndex=x||0,h(),g(c.activeIndex,!1))}),{swiperContainer:l,name:Zm,computedNavigation:u,onTouchMove:P,onTouchEnd:D,handleAnimationEnd:b,state:c,paginationList:d,showPageNum:v,prev:k,next:_}}}),oM={key:0},sM={key:1};function lM(e,t,n,r,a,i){var o=ge("chevron-left-icon"),l=ge("chevron-right-icon"),u=ge("t-node");return H(),W("div",{style:De({height:"".concat(e.height,"px"),overflow:"hidden"}),class:z("".concat(e.name))},[J("div",{ref:"swiperContainer",class:z("".concat(e.name,"__container")),style:De({height:"".concat(e.height,"px"),flexDirection:e.direction==="horizontal"?"row":"column"}),onTransitionend:t[0]||(t[0]=function(){return e.handleAnimationEnd&&e.handleAnimationEnd.apply(e,arguments)})},[Ye(e.$slots,"default")],38),e.navigation?(H(),W(Ce,{key:0},[e.direction==="horizontal"&&"showSlideBtn"in e.navigation&&e.navigation.showSlideBtn?(H(),W("span",oM,[J("span",{class:z("".concat(e.name,"__btn btn-prev")),onClick:t[1]||(t[1]=function(s){return e.prev(1)})},[R(o,{size:"20px"})],2),J("span",{class:z("".concat(e.name,"__btn btn-next")),onClick:t[2]||(t[2]=function(s){return e.next(1)})},[R(l,{size:"20px"})],2)])):se("",!0),"type"in e.navigation?(H(),W("span",{key:1,class:z("".concat(e.name,"__pagination ").concat(e.name,"__pagination-").concat(e.navigation.type||""))},[["dots","dots-bar"].includes(e.navigation.type||"")?(H(!0),W(Ce,{key:0},Ne(e.state.children.length,function(s,c){var d;return H(),W("span",{key:"page"+c,class:z((d={},te(d,"".concat(e.name,"-dot"),!0),te(d,"".concat(e.name,"-dot--active"),c===e.state.activeIndex),d))},null,2)}),128)):se("",!0),e.navigation.type&&e.navigation.type==="fraction"?(H(),W("span",sM,Ae(e.showPageNum+"/"+e.state.children.length),1)):se("",!0)],2)):se("",!0)],64)):se("",!0),e.computedNavigation!==void 0?(H(),Oe(u,{key:1,content:e.computedNavigation,style:{}},null,8,["content"])):se("",!0)],6)}OS.render=lM;/**
 * tdesign v0.8.4
 * (c) 2022 TDesign Group
 * @license MIT
 */var uM=_e.prefix,Qm="".concat(uM,"-swiper-item"),kS=ee({name:Qm,setup:function(){var t=Qe("parent");return t.relation(Be()),{name:Qm}}});function cM(e,t,n,r,a,i){return H(),W("div",{class:z(e.name)},[Ye(e.$slots,"default")],2)}kS.render=cM;/**
 * tdesign v0.8.4
 * (c) 2022 TDesign Group
 * @license MIT
 */var dM=Le(OS),fM=Le(kS);/**
 * tdesign v0.8.4
 * (c) 2022 TDesign Group
 * @license MIT
 */var hM={autoStart:{type:Boolean,default:!0},content:{type:[String,Function],default:"default"},format:{type:String,default:"HH:mm:ss"},millisecond:Boolean,time:{type:Number,required:!0},size:{type:String,default:"small"},theme:{type:String,default:"default"},onChange:Function,onFinish:Function};/**
 * tdesign v0.8.4
 * (c) 2022 TDesign Group
 * @license MIT
 */var vM=["content","size","theme"];function eg(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function mM(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?eg(Object(n),!0).forEach(function(r){te(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):eg(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var gM=_e.prefix,tg="".concat(gM,"-countdown"),_S=ee({name:tg,components:{TNode:st},props:mM({},hM),setup:function(t){var n,r,a=t||{};a.content,a.size,a.theme;var i=yR(a,vM),o=mk(i),l=o.time,u=o.showTimes,s=Be(),c=(n=/.*[\u4e00-\u9fa5]+.*$/)===null||n===void 0||(r=n.test)===null||r===void 0?void 0:r.call(n,i==null?void 0:i.format),d=N(function(){return ze(s,"content")});return{name:tg,time:l,showTimes:u,hasChinese:c,contentLayout:d}}});function pM(e,t,n,r,a,i){var o=ge("t-node");return H(),W(Ce,null,[e.time?se("",!0):(H(),Oe(o,{key:0,content:e.contentLayout},null,8,["content"])),J("span",{class:z("".concat(e.name," ").concat(e.name,"--").concat(e.theme," ").concat(e.name,"--").concat(e.size," ").concat(e.hasChinese?"".concat(e.name,"--split-with-unit"):""))},[e.time?(H(!0),W(Ce,{key:0},Ne(e.showTimes,function(l){return H(),W(Ce,{key:l.mark},[J("span",{class:z("".concat(e.name,"__digit"))},Ae(l.value),3),l.mark?(H(),W("span",{key:0,class:z("".concat(e.name,"__unit"))},Ae(l.mark),3)):se("",!0)],64)}),128)):se("",!0)],2)],64)}_S.render=pM;/**
 * tdesign v0.8.4
 * (c) 2022 TDesign Group
 * @license MIT
 */var yM=Le(_S);/**
 * tdesign v0.8.4
 * (c) 2022 TDesign Group
 * @license MIT
 */var bM={alt:{type:String,default:""},badgeProps:{type:Object},hideOnLoadFailed:Boolean,icon:{type:Function},image:{type:String,default:""},shape:{type:String,default:"circle",validator:function(t){return t?["circle","round"].includes(t):!0}},size:{type:String,default:""},onError:Function};/**
 * tdesign v0.8.4
 * (c) 2022 TDesign Group
 * @license MIT
 */function ng(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function rg(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ng(Object(n),!0).forEach(function(r){te(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ng(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var SM=_e.prefix,is="".concat(SM,"-avatar"),Wd=ee({name:is,components:{TNode:st,TBadge:xl},props:bM,emits:["error"],setup:function(t,n){var r=St(t,n.emit),a=Be(),i=Qe("avatarGroup",{}),o=N(function(){return Yt(a,"default","content")}),l=N(function(){return ze(a,"icon")}),u=q(t.size||i&&i.size),s=N(function(){return["".concat(is),u.value?xt.SIZE[u.value]:"",te({},"".concat(is,"--").concat(t.shape),t.shape)]}),c=N(function(){return u.value&&!xt.SIZE[u.value]}),d=N(function(){return c.value?{height:u.value,width:u.value}:{}}),v=function(E){r("error",E)};return rg(rg({name:is},He(t)),{},{avatarContent:o,iconContent:l,avatarClass:s,customSize:d,handleImgLoadError:v})}}),TM=["src","alt"],CM={key:2};function EM(e,t,n,r,a,i){var o=ge("t-node"),l=ge("t-badge");return H(),W("div",{class:z(e.avatarClass),style:De(e.customSize)},[J("div",{class:z("".concat(e.name,"__inner"))},[e.image&&!e.hideOnLoadFailed?(H(),W("img",{key:0,src:e.image,alt:e.alt,style:De(e.customSize),onError:t[0]||(t[0]=function(){return e.handleImgLoadError&&e.handleImgLoadError.apply(e,arguments)})},null,44,TM)):e.iconContent!==void 0?(H(),W("div",{key:1,class:z("".concat(e.name,"__icon"))},[R(o,{content:e.iconContent},null,8,["content"])],2)):(H(),W("span",CM,[R(o,{content:e.avatarContent},null,8,["content"])]))],2),e.badgeProps?(H(),W("div",{key:0,class:z("".concat(e.name,"__badge"))},[R(l,{count:e.badgeProps.count,"max-count":e.badgeProps.maxCount,dot:e.badgeProps.dot,content:e.badgeProps.content,size:e.badgeProps.size,offset:e.badgeProps.offset},null,8,["count","max-count","dot","content","size","offset"])],2)):se("",!0)],6)}Wd.render=EM;/**
 * tdesign v0.8.4
 * (c) 2022 TDesign Group
 * @license MIT
 */var wM={cascading:{type:String,default:"right-up",validator:function(t){return t?["left-up","right-up"].includes(t):!0}},collapseAvatar:{type:[String,Function]},max:{type:Number},size:{type:String,default:"medium"}};/**
 * tdesign v0.8.4
 * (c) 2022 TDesign Group
 * @license MIT
 */function ag(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function OM(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ag(Object(n),!0).forEach(function(r){te(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ag(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var Ic=_e.prefix,ig="".concat(Ic,"-avatar-group"),AS=ee({name:ig,components:{Avatar:Wd,TNode:st},props:wM,setup:function(t,n){var r=n.slots;dt("avatarGroup",OM({},t));var a=Be(),i=N(function(){var d;return["".concat(ig),(d={},te(d,"".concat(Ic,"-avatar--offset-right"),t.cascading==="right-up"),te(d,"".concat(Ic,"-avatar--offset-left"),t.cascading==="left-up"),d)]}),o=q(!1),l=q(null),u=q(t.size),s=N(function(){return ze(a,"collapseAvatar")}),c=function(){var v=r.default?r.default():[],S=[];v.forEach(function(f){f.type===Ce?S.push.apply(S,Bt(f.children)):S.push(f)});var E=[],m=t.max||0;return m&&m<S.length?(E=S.slice(0,m),o.value=!0,l.value=s.value||"+".concat(S.length-m)):E=S,u.value=E[0].size||t.size,E};return{classes:i,size:u,isShowEllipsisContent:o,ellipsisContent:l,avatarItems:c}}});function kM(e,t,n,r,a,i){var o=ge("t-node"),l=ge("avatar");return H(),W("div",{class:z(e.classes)},[(H(),Oe(No(e.avatarItems))),e.isShowEllipsisContent?(H(),Oe(l,{key:0,size:e.size},{default:Ue(function(){return[R(o,{content:e.ellipsisContent},null,8,["content"])]}),_:1},8,["size"])):se("",!0)],2)}AS.render=kM;/**
 * tdesign v0.8.4
 * (c) 2022 TDesign Group
 * @license MIT
 */var _M=Le(Wd),AM=Le(AS);/**
 * tdesign v0.8.4
 * (c) 2022 TDesign Group
 * @license MIT
 */var DM={alt:{type:String,default:""},error:{type:Function},fit:{type:String,default:"fill",validator:function(t){return t?["contain","cover","fill","none","scale-down"].includes(t):!0}},lazy:Boolean,loading:{type:Function},position:{type:String,default:"center"},shape:{type:String,default:"round",validator:function(t){return t?["circle","round","square"].includes(t):!0}},src:{type:String,default:""},onError:Function,onLoad:Function};/**
 * tdesign v0.8.4
 * (c) 2022 TDesign Group
 * @license MIT
 */var PM=_e.prefix,os="".concat(PM,"-image"),DS=ee({name:os,components:{TNode:st},props:DM,setup:function(t,n){var r=St(t,n.emit),a=Be(),i=N(function(){var f,g,h,y;return(f=n.slots)!==null&&f!==void 0&&f.loading&&o.value?ze(a,"loading"):!((g=n.slots)!==null&&g!==void 0&&g.loading)&&o.value?pt(UO):(h=n.slots)!==null&&h!==void 0&&h.error&&l.value?ze(a,"error"):!((y=n.slots)!==null&&y!==void 0&&y.error)&&l.value?pt(Oi):""}),o=q(!0),l=q(!1),u=N(function(){return{objectFit:t.fit,objectPosition:t.position}}),s=N(function(){var f;return f={},te(f,"".concat(os),!0),te(f,"".concat(os,"--").concat(t.shape),!0),f}),c=q(),d=q(t.lazy?"":t.src),v=hk(c,function(f,g){var h=Ot(f,1),y=h[0].isIntersecting;y&&t.lazy&&(S(),d.value=t.src)}),S=v.stop,E=function(g){r("load",g),o.value=!1},m=function(g){d.value!==""&&(r("error",g),o.value=!1,l.value=!0)};return{imageDOM:c,statusContent:i,name:os,classes:s,imageStyles:u,loadingValue:o,realSrc:d,errorValue:l,handleImgLoadCompleted:E,handleImgLoadError:m}}}),IM=["src","alt"];function LM(e,t,n,r,a,i){var o=ge("t-node");return H(),W("div",{class:z(e.classes)},[e.loadingValue||e.errorValue?(H(),W("div",{key:0,class:z("".concat(e.name,"__status"))},[R(o,{content:e.statusContent},null,8,["content"])],2)):se("",!0),J("img",{ref:"imageDOM",class:z("".concat(e.name,"__img")),style:De(e.imageStyles),src:e.realSrc,alt:e.alt,onLoad:t[0]||(t[0]=function(){return e.handleImgLoadCompleted&&e.handleImgLoadCompleted.apply(e,arguments)}),onError:t[1]||(t[1]=function(){return e.handleImgLoadError&&e.handleImgLoadError.apply(e,arguments)})},null,46,IM)],2)}DS.render=LM;/**
 * tdesign v0.8.4
 * (c) 2022 TDesign Group
 * @license MIT
 */var RM=Le(DS);/**
 * tdesign v0.8.4
 * (c) 2022 TDesign Group
 * @license MIT
 */var xM={content:{type:[String,Function]},default:{type:[String,Function]},disabled:Boolean,expanded:{type:String,validator:function(t){return["left","right"].includes(t)}},left:{type:[Array,Function]},right:{type:[Array,Function]},onChange:Function,onClick:Function};/**
 * tdesign v0.8.4
 * (c) 2022 TDesign Group
 * @license MIT
 */function og(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function sg(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?og(Object(n),!0).forEach(function(r){te(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):og(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var $M=_e.prefix,lg="".concat($M,"-swipe-cell"),PS=ee({name:lg,components:{TNode:st,TButton:Oa},props:xM,emits:["click","change"],setup:function(t,n){var r=St(t,n.emit),a=Be(),i=N(function(){return Yt(a,"default","content")}),o=N(function(){return ze(a,"left")}),l=N(function(){return ze(a,"right")}),u=q(),s=q(),c=q(),d=I0(c,{threshold:0,onSwipeStart:function(k){f.moving=!0,f.pos=0},onSwipe:function(k){if(!t.disabled){f.moving&&f.status==="close"&&(f.moving=!1);var _=0;if(v.value<0){if(f.leftWidth===0){f.moving=!1;return}_=Math.min(Math.abs(v.value),f.leftWidth>0?f.leftWidth+m:0)}else{if(f.rightWidth===0){f.moving=!1;return}_=Math.max(-v.value,-(f.rightWidth>0?f.rightWidth+m:0))}f.status==="close"&&(f.pos=_)}},onSwipeEnd:function(k){y()}}),v=d.lengthX,S=0,E=.5,m=0,f=Me({moving:!1,leftWidth:0,rightWidth:0,pos:0,status:"close"}),g=N(function(){return["".concat(lg)]});et(function(){var w,k,_=(w=u.value)===null||w===void 0?void 0:w.clientWidth,T=(k=s.value)===null||k===void 0?void 0:k.clientWidth;f.leftWidth=_>0?_+S:0,f.rightWidth=T>0?T+S:0,h()}),oe(function(){return t.expanded},function(){return h()}),ok(c,function(w){p()});var h=function(){t.expanded&&t.expanded==="left"&&f.leftWidth&&b("toRight"),t.expanded&&t.expanded==="right"&&f.rightWidth&&b("toLeft")},y=function(){t.disabled||(v.value<0&&f.pos>f.leftWidth*E?b("toRight"):v.value>0&&-f.pos>f.rightWidth*E?b("toLeft"):p("force"))},b=function(k){f.status!=="open"&&(f.moving=!0,f.status="open",k==="toLeft"?(f.pos=-f.rightWidth,f.rightWidth&&r("change","right")):(f.pos=f.leftWidth,f.leftWidth&&r("change","left")))},p=function(k){f.status==="close"&&k!=="force"||(f.moving=!0,f.status="close",f.pos=0,r("change",void 0))},C=function(k){var _=k.action,T=k.source;if(p(),_.onClick){_.onClick();return}r("click",{action:_,source:T})};return sg(sg({},He(t)),{},{swipeContent:i,swipeLeftMenu:o,swipeRightMenu:l,initData:f,classes:g,swipeCell:c,leftRef:u,rightRef:s,handleClickBtn:C,end:y})}});function ug(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function cg(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ug(Object(n),!0).forEach(function(r){te(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ug(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var MM={ref:"swipeCell",class:"content"};function FM(e,t,n,r,a,i){var o,l=ge("t-node"),u=ge("t-button");return H(),W("div",{class:z(e.classes),onTouchend:t[2]||(t[2]=function(){return e.end&&e.end.apply(e,arguments)}),onTouchcancel:t[3]||(t[3]=function(){return e.end&&e.end.apply(e,arguments)}),onMouseup:t[4]||(t[4]=function(){return e.end&&e.end.apply(e,arguments)})},[J("div",{class:z((o={},te(o,e.classes+"__wrapper",!0),te(o,"moving",e.initData.moving),o)),style:De({transform:"translate3d(".concat(e.initData.pos,"px,0,0)")})},[J("div",{ref:"leftRef",class:z(e.classes+"__left"),style:De({width:e.initData.leftWidth?"".concat(e.initData.leftWidth,"px"):"auto"}),onTouchstartPassive:t[0]||(t[0]=qn(function(){},["stop"]))},[R(l,{content:e.swipeLeftMenu},null,8,["content"]),(H(!0),W(Ce,null,Ne(e.left,function(s,c){return H(),Oe(u,{key:c,class:z(s.className||""),style:De(s.style||"height: 100%"),onClick:function(v){return e.handleClickBtn({action:cg({},s),source:"left"})}},{default:Ue(function(){return[tt(Ae(s.text),1)]}),_:2},1032,["class","style","onClick"])}),128))],38),J("div",MM,[R(l,{content:e.swipeContent},null,8,["content"])],512),J("div",{ref:"rightRef",class:z(e.classes+"__right"),style:De({width:e.initData.rightWidth?"".concat(e.initData.rightWidth,"px"):"auto"}),onTouchstartPassive:t[1]||(t[1]=qn(function(){},["stop"]))},[R(l,{content:e.swipeRightMenu},null,8,["content"]),(H(!0),W(Ce,null,Ne(e.right,function(s,c){return H(),Oe(u,{key:c,class:z(s.className||""),style:De(s.style||"height: 100%"),onClick:function(v){return e.handleClickBtn({action:cg({},s),source:"right"})}},{default:Ue(function(){return[tt(Ae(s.text),1)]}),_:2},1032,["class","style","onClick"])}),128))],38)],6)],34)}PS.render=FM;/**
 * tdesign v0.8.4
 * (c) 2022 TDesign Group
 * @license MIT
 */var BM=Le(PS);/**
 * tdesign v0.8.4
 * (c) 2022 TDesign Group
 * @license MIT
 */var NM={animation:{type:String,validator:function(t){return t?["gradient","flashed"].includes(t):!0}},content:{type:[String,Function]},default:{type:[String,Function]},delay:{type:Number,default:0},loading:{type:Boolean,default:!0},rowCol:{type:Array,default:[1,1,1,{width:"70%"}]},theme:{type:String,default:"text",validator:function(t){return t?["text","avatar-text"].includes(t):!0}}};/**
 * tdesign v0.8.4
 * (c) 2022 TDesign Group
 * @license MIT
 */function dg(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function ss(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?dg(Object(n),!0).forEach(function(r){te(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):dg(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var jM=_e.prefix,Er="".concat(jM,"-skeleton"),fg=[1,1,1,{width:"70%"}],IS=ee({name:Er,components:{},props:NM,setup:function(t){var n=!t.loading,r=N(function(){return["".concat(Er),"".concat(Er,"--").concat(t.theme)]}),a=[];t.theme==="avatar-text"?a.push.apply(a,fg):t.rowCol?a.push.apply(a,Bt(t.rowCol)):a.push.apply(a,fg);var i="".concat(Er,"__row"),o=N(function(){return["".concat(Er,"__col"),te({},"".concat(Er,"--animation-").concat(t.animation),t.animation),"".concat(Er,"--type-text")]}),l=function(c){var d=["width","height","marginRight","marginLeft","margin","size","background","backgroundColor","borderRadius"],v={};return d.forEach(function(S){if(S in c){var E=hv(c[S])?"".concat(c[S],"px"):c[S];if(S==="size"){var m=[E,E];v.width=m[0],v.height=m[1]}else v[S]=E}}),v},u=a.map(function(s){if(hv(s))return[{type:"text",style:{}}];if(Array.isArray(s))return s.map(function(d){return ss(ss({},d),{},{style:l(d)})});var c=s;return[ss(ss({},c),{},{style:l(c)})]});return{name:Er,rootClasses:r,rowClass:i,colClass:o,parsedRowcols:u,showContent:n,defaultContent:t.default}}});function UM(e,t,n,r,a,i){return H(),W("div",{class:z(e.rootClasses)},[e.showContent?(H(),W(Ce,{key:0},[e.content?(H(),W(Ce,{key:0},[tt(Ae(e.content),1)],64)):e.defaultContent?(H(),W(Ce,{key:1},[tt(Ae(e.defaultContent),1)],64)):Ye(e.$slots,"default",{key:2})],64)):e.theme==="text"?(H(!0),W(Ce,{key:1},Ne(e.parsedRowcols,function(o,l){return H(),W("div",{key:"".concat(e.rowClass,"-").concat(l),class:z(e.rowClass)},[(H(!0),W(Ce,null,Ne(o,function(u,s){return H(),W("div",{key:"".concat(e.colClass,"-").concat(s),class:z(e.colClass),style:De(u.style)},null,6)}),128))],2)}),128)):e.theme==="avatar-text"?(H(),W(Ce,{key:2},[J("div",{class:z("".concat(e.name,"__col ").concat(e.name,"--type-circle"))},null,2),J("div",{class:z("".concat(e.name,"__paragraph"))},[(H(!0),W(Ce,null,Ne(e.parsedRowcols,function(o,l){return H(),W("div",{key:"".concat(e.rowClass,"-").concat(l),class:z(e.rowClass)},[(H(!0),W(Ce,null,Ne(o,function(u,s){return H(),W("div",{key:"".concat(e.colClass,"-").concat(s),class:z(e.colClass),style:De(u.style)},null,6)}),128))],2)}),128))],2)],64)):se("",!0)],2)}IS.render=UM;/**
 * tdesign v0.8.4
 * (c) 2022 TDesign Group
 * @license MIT
 */var VM=Le(IS);/**
 * tdesign v0.8.4
 * (c) 2022 TDesign Group
 * @license MIT
 */var HM={align:{type:String,default:"center",validator:function(t){return t?["left","center"].includes(t):!0}},border:{type:[Boolean,Object],default:!1},column:{type:Number,default:4},gutter:{type:Number}};/**
 * tdesign v0.8.4
 * (c) 2022 TDesign Group
 * @license MIT
 */var zM=_e.prefix,hg="".concat(zM,"-grid"),LS=ee({name:hg,props:HM,setup:function(t){var n=He(t),r=n.column,a=n.gutter,i=n.border,o=n.align;return dt("grid",{column:r,gutter:a,border:i,align:o}),{name:hg}}});function GM(e,t,n,r,a,i){return H(),W("div",{class:z("".concat(e.name))},[Ye(e.$slots,"default")],2)}LS.render=GM;/**
 * tdesign v0.8.4
 * (c) 2022 TDesign Group
 * @license MIT
 */var KM={badgeProps:{type:Object},description:{type:[String,Function]},image:{type:[String,Function]},layout:{type:String,default:"vertical",validator:function(t){return t?["vertical","horizontal"].includes(t):!0}},text:{type:[String,Function]}};/**
 * tdesign v0.8.4
 * (c) 2022 TDesign Group
 * @license MIT
 */function vg(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function WM(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?vg(Object(n),!0).forEach(function(r){te(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):vg(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var YM=_e.prefix,ls="".concat(YM,"-grid-item"),RS=ee({name:ls,components:{TNode:st,TBadge:xl},props:KM,setup:function(t){var n=Be(),r=t.layout==="horizontal",a=Qe("grid"),i=a.column,o=a.gutter,l=a.border,u=a.align,s=N(function(){return ze(n,"image")}),c=N(function(){return ze(n,"text")}),d=N(function(){return ze(n,"description")}),v=N(function(){return["".concat(ls),te({},"".concat(ls,"--bordered"),l.value)]}),S=N(function(){var g="".concat(100/+i.value,"%"),h={};if(l.value&&typeof l.value!="boolean"){var y=l.color,b=l.width,p=l.style;return{borderColor:y,borderWidth:b,borderStyle:p}}var C=WM({flexBasis:g,flexDirection:r?"row":"column",paddingLeft:o.value?"".concat(o,"px"):0,paddingRight:o.value?"".concat(o,"px"):0,alignItems:"center",justifyContent:"center",textAlign:["center","left"].includes(u.value)?u.value:"center"},h);return C}),E=N(function(){var g=32;return i.value>=5?g=28:i.value<=3&&(g=48),{width:"".concat(g,"px"),height:"".concat(g,"px")}}),m=N(function(){return{paddingLeft:r?"12px":0}}),f=N(function(){return{paddingTop:r?0:"8px",marginBottom:"4px"}});return{name:ls,rootStyle:S,rootClass:v,imgStyle:E,textStyle:m,titleStyle:f,imageContent:s,textContent:c,descContent:d}}}),qM=["src"],XM=["src"];function ZM(e,t,n,r,a,i){var o=ge("t-node"),l=ge("t-badge");return H(),W("div",{class:z(e.rootClass),style:De(e.rootStyle)},[J("div",{class:z("".concat(e.name,"__image-box"))},[e.badgeProps?(H(),Oe(l,{key:0,count:e.badgeProps.count,"max-count":e.badgeProps.maxCount,dot:e.badgeProps.dot,content:e.badgeProps.content,size:e.badgeProps.size,offset:e.badgeProps.offset},{default:Ue(function(){return[e.image?(H(),W(Ce,{key:0},[typeof e.image=="string"?(H(),W("img",{key:0,src:e.image,class:z("".concat(e.name,"__image")),style:De(e.imgStyle)},null,14,qM)):(H(),Oe(o,{key:1,content:e.imageContent},null,8,["content"]))],64)):se("",!0)]}),_:1},8,["count","max-count","dot","content","size","offset"])):e.image?(H(),W(Ce,{key:1},[typeof e.image=="string"?(H(),W("img",{key:0,src:e.image,class:z("".concat(e.name,"__image")),style:De(e.imgStyle)},null,14,XM)):(H(),Oe(o,{key:1,content:e.imageContent},null,8,["content"]))],64)):se("",!0)],2),J("div",{class:z("".concat(e.name,"__text")),style:De(e.textStyle)},[J("div",{class:z("".concat(e.name,"__title")),style:De(e.titleStyle)},[R(o,{content:e.textContent},null,8,["content"])],6),J("div",{class:z("".concat(e.name,"__description"))},[R(o,{content:e.descContent},null,8,["content"])],2)],6)],6)}RS.render=ZM;/**
 * tdesign v0.8.4
 * (c) 2022 TDesign Group
 * @license MIT
 */var JM=Le(LS),QM=Le(RS);/**
 * tdesign v0.8.4
 * (c) 2022 TDesign Group
 * @license MIT
 */function mg(e,t){var n=Object.keys(t);n.forEach(function(r){e.style[r]=t[r]})}/**
 * tdesign v0.8.4
 * (c) 2022 TDesign Group
 * @license MIT
 */function gg(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function us(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?gg(Object(n),!0).forEach(function(r){te(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):gg(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function eF(e){var t,n,r,a,i={};if(!!e){var o=(t=window)===null||t===void 0||(n=t.getComputedStyle)===null||n===void 0?void 0:n.call(t,e),l=o.color,u=o.fontSize,s=(r=window)===null||r===void 0||(a=r.navigator)===null||a===void 0?void 0:a.userAgent,c=/Safari/.test(s)&&!/Chrome/.test(s);if(c&&(i={transformOrigin:"-1px -1px",transform:"scale(".concat(parseInt(u,10)/14,")")}),l&&bR()>11){var d=l.match(/[\d.]+/g),v=d?"rgba(".concat(d[0],", ").concat(d[1],", ").concat(d[2],", 0)"):"";mg(e,us(us({},i),{},{background:"conic-gradient(from 90deg at 50% 50%,".concat(v," 0deg, ").concat(l," 360deg)")}))}else mg(e,us(us({},i),{},{background:""}))}}/**
 * tdesign v0.8.4
 * (c) 2022 TDesign Group
 * @license MIT
 */var xS=_e.prefix,Eu="".concat(xS,"-loading__gradient"),tF="".concat(xS,"-icon-loading"),$S=ee({name:Eu,setup:function(){var t=[Eu,tF];return{name:Eu,classes:t}},mounted:function(){var t=this;this.$nextTick(function(){t.updateColor()})},updated:function(){this.updateColor()},methods:{updateColor:function(){var t=this.$refs.circle;eF(t)}}}),nF={x:"1",y:"1",width:"12",height:"12"};function rF(e,t,n,r,a,i){return H(),W("svg",{class:z(e.classes),viewBox:"0 0 14 14",version:"1.1",width:"1em",height:"1em",xmlns:"http://www.w3.org/2000/svg"},[(H(),W("foreignObject",nF,[J("div",{ref:"circle",class:z("".concat(e.name,"-conic"))},null,2)]))],2)}$S.render=rF;/**
 * tdesign v0.8.4
 * (c) 2022 TDesign Group
 * @license MIT
 */var aF=_e.prefix,pg="".concat(aF,"-loading__spinner"),MS=ee({name:pg,setup:function(){return{name:pg}}});function iF(e,t,n,r,a,i){return H(),W("span",{class:z(e.name)},[(H(!0),W(Ce,null,Ne(new Array(12),function(o,l){return H(),W("i",{key:l,class:z(["".concat(e.name,"--line"),"".concat(e.name,"--line-").concat(l+1)])},null,2)}),128))],2)}MS.render=iF;/**
 * tdesign v0.8.4
 * (c) 2022 TDesign Group
 * @license MIT
 */var oF={default:{type:[String,Function]},content:{type:[String,Function]},delay:{type:Number,default:0},duration:{type:Number,default:800},indicator:{type:Boolean,default:!0},inheritColor:Boolean,layout:{type:String,default:"horizontal",validator:function(t){return t?["horizontal","vertical"].includes(t):!0}},loading:{type:Boolean,default:!0},pause:Boolean,progress:{type:Number},reverse:Boolean,size:{type:String,default:"40rpx"},text:{type:String},theme:{type:String,default:"circular",validator:function(t){return t?["circular","spinner","bar","error","dots"].includes(t):!0}}};/**
 * tdesign v0.8.4
 * (c) 2022 TDesign Group
 * @license MIT
 */var sF=_e.prefix,wr="".concat(sF,"-loading"),lF=function(t){return!t||t<=0?-100:t>1?0:(-1+t)*100},FS=ee({name:wr,components:{GradientIcon:$S,SpinnerIcon:MS,TNode:st},props:oF,setup:function(t){var n=Be(),r=q(!1),a=function(){r.value=!1;var v=setTimeout(function(){r.value=!0,clearTimeout(v)},t.delay)},i=N(function(){return(!t.delay||r.value)&&t.loading});oe(function(){return t.loading},function(d){d&&t.delay&&a()},{immediate:!0});var o=N(function(){return[wr,te({},"".concat(wr,"--vertical"),t.layout==="vertical"),te({},"".concat(wr,"--bar"),t.theme==="bar"),t.size?xt.SIZE[t.size]:""]}),l=N(function(){return["".concat(wr,"__text"),te({},"".concat(wr,"__text--error"),t.theme==="error"),te({},"".concat(wr,"__text--only"),!t.indicator||t.theme==="error")]}),u=N(function(){return t.theme==="error"?"\u52A0\u8F7D\u5931\u8D25":ze(n,"text")}),s=N(function(){return Yt(n,"default","content")}),c=N(function(){return{transform:"translate3d(".concat(lF(t.progress),"%, 0px, 0px)")}});return{name:wr,rootClass:o,textClass:l,textContent:u,defaultContent:s,barStyle:c,realLoading:i}}});function uF(e,t,n,r,a,i){var o=ge("gradient-icon"),l=ge("spinner-icon"),u=ge("t-node");return H(),W("div",{class:z(e.rootClass)},[e.theme==="bar"&&e.progress&&![0,1].includes(e.progress)?(H(),W("div",{key:0,class:z("".concat(e.name,"__bar")),style:De(e.barStyle)},[J("div",{class:z("".concat(e.name,"__shadow"))},null,2)],6)):e.theme!=="bar"?(H(),W(Ce,{key:1},[e.indicator&&e.realLoading?(H(),W(Ce,{key:0},[e.theme==="circular"?(H(),Oe(o,{key:0})):e.theme==="spinner"?(H(),Oe(l,{key:1})):e.theme==="dots"?(H(),W("div",{key:2,class:z("".concat(e.name,"__dots"))},null,2)):se("",!0)],64)):se("",!0),e.textContent&&e.realLoading?(H(),W("span",{key:1,class:z(e.textClass)},[R(u,{content:e.textContent},null,8,["content"])],2)):se("",!0),R(u,{content:e.defaultContent},null,8,["content"])],64)):se("",!0)],2)}FS.render=uF;/**
 * tdesign v0.8.4
 * (c) 2022 TDesign Group
 * @license MIT
 */var Yd=Le(FS);/**
 * tdesign v0.8.4
 * (c) 2022 TDesign Group
 * @license MIT
 */var cF={asyncLoading:{type:[String,Function]},footer:{type:[String,Function]},header:{type:[String,Function]},layout:{type:String,default:"horizontal",validator:function(t){return t?["horizontal","vertical"].includes(t):!0}},size:{type:String,default:"medium",validator:function(t){return t?["small","medium","large"].includes(t):!0}},split:Boolean,stripe:Boolean,onLoadMore:Function,onScroll:Function};/**
 * tdesign v0.8.4
 * (c) 2022 TDesign Group
 * @license MIT
 */var dF=_e.prefix,yg="".concat(dF,"-list"),fF={loading:"\u52A0\u8F7D\u4E2D...","loading-more":"\u70B9\u51FB\u52A0\u8F7D\u66F4\u591A"},BS=ee({name:yg,components:{TLoading:Yd,TNode:st},props:cF,emits:["load-more","scroll"],setup:function(t,n){var r=n.emit,a=q(),i=q(),o=Be(),l=N(function(){return ze(o,"header")}),u=N(function(){return ze(o,"footer")}),s=function(d){t.asyncLoading==="loading-more"&&(r("load-more",{e:d}),t.onLoadMore&&t.onLoadMore())};return{name:yg,root:a,empty:i,onLoadMore:s,headerContent:l,footerContent:u,LOADING_TEXT_MAP:fF}},methods:{handleScroll:function(t){var n=this.$el,r=n.scrollTop,a=n.scrollHeight,i=n.clientHeight;this.$emit("scroll",{$event:t,scrollTop:r,scrollBottom:a-i-r}),this.onScroll&&this.onScroll({e:t,scrollTop:r,scrollBottom:a-i-r})}}});function hF(e,t,n,r,a,i){var o=ge("t-node"),l=ge("t-loading");return H(),W("div",{ref:"root",class:z(e.name),onScroll:t[1]||(t[1]=function(){return e.handleScroll&&e.handleScroll.apply(e,arguments)})},[R(o,{content:e.headerContent},null,8,["content"]),Ye(e.$slots,"default"),J("div",{onClick:t[0]||(t[0]=qn(function(){return e.onLoadMore&&e.onLoadMore.apply(e,arguments)},["stop"]))},[typeof e.asyncLoading=="string"&&["loading","loadingMore"].includes(e.asyncLoading)?(H(),Oe(l,{key:0,loading:e.asyncLoading==="loading",content:typeof e.asyncLoading=="string"?e.LOADING_TEXT_MAP[e.asyncLoading]:"",class:z("".concat(e.name,"__loading"))},null,8,["loading","content","class"])):se("",!0)]),R(o,{content:e.footerContent},null,8,["content"])],34)}BS.render=hF;/**
 * tdesign v0.8.4
 * (c) 2022 TDesign Group
 * @license MIT
 */var vF=Le(BS);/**
 * tdesign v0.8.4
 * (c) 2022 TDesign Group
 * @license MIT
 */var mF={fixed:{type:Boolean,default:!0},icon:{type:Function,default:"backtop"},target:{type:Function},text:{type:String,default:""},theme:{type:String,default:"round",validator:function(t){return t?["round","half-round","round-dark","half-round-dark"].includes(t):!0}},onToTop:Function};/**
 * tdesign v0.8.4
 * (c) 2022 TDesign Group
 * @license MIT
 */var NS=_e.prefix,cs="".concat(NS,"-back-top"),jS=ee({name:cs,components:{TNode:st,TIconBackTop:AO},props:mF,setup:function(t,n){var r=St(t,n.emit),a=N(function(){return t.target?t.target():window.document.documentElement}),i=Tc(a),o=i.top,l=N(function(){var d;return d={},te(d,"".concat(cs),!0),te(d,"".concat(NS,"-is-fixed"),t.fixed),te(d,"".concat(cs,"--").concat(t.theme),!0),d}),u=Be(),s=N(function(){var d;return(d=n.slots)!==null&&d!==void 0&&d.icon||typeof t.icon=="function"?ze(u,"icon"):!1}),c=function(){window.document.documentElement.scrollTop+=o.value,r("toTop")};return{name:cs,classes:l,iconTNode:s,el:a,top:o,clickBackBtn:c}}});function gF(e,t,n,r,a,i){var o=ge("t-node"),l=ge("t-icon-back-top");return H(),W("div",{class:z(e.classes),onClick:t[0]||(t[0]=function(){return e.clickBackBtn&&e.clickBackBtn.apply(e,arguments)})},[e.iconTNode?(H(),Oe(o,{key:0,content:e.iconTNode},null,8,["content"])):(H(),Oe(l,{key:1})),e.text?(H(),W("span",{key:2,class:z("".concat(e.name,"__text"))},Ae(e.text),3)):se("",!0)],2)}jS.render=gF;/**
 * tdesign v0.8.4
 * (c) 2022 TDesign Group
 * @license MIT
 */var pF=Le(jS);/**
 * tdesign v0.8.4
 * (c) 2022 TDesign Group
 * @license MIT
 */var yF={loadingBarHeight:{type:[String,Number],default:50},loadingProps:{type:Object},loadingTexts:{type:Array,default:function(){return[]}},maxBarHeight:{type:[String,Number],default:80},refreshTimeout:{type:Number,default:3e3},value:{type:Boolean,default:void 0},modelValue:{type:Boolean,default:void 0},defaultValue:Boolean,onChange:Function,onRefresh:Function,onTimeout:Function};/**
 * tdesign v0.8.4
 * (c) 2022 TDesign Group
 * @license MIT
 */var bF=function(t){var n=1;return t.tagName!=="HTML"&&t.tagName!=="BODY"&&t.nodeType===n};function SF(){var e=q(0),t=q(0),n=function(i){e.value=i.touches[0].clientY,t.value=0},r=function(i){var o=i.touches[0];t.value=o.clientY-e.value};return{startY:e,deltaY:t,start:n,move:r}}var TF=function(t,n){return t>n&&(t<n*2?t=n+(t-n)/2:t=n*1.5+(t-n*2)/4),Math.round(t)},CF=function(t){for(var n=t;n&&bF(n);){if(/auto|scroll/i.test(window.getComputedStyle(n).overflowY))return n;n=n.parentNode}},wu=function(t){var n=CF(t.target);return!n||!n.scrollTop};/**
 * tdesign v0.8.4
 * (c) 2022 TDesign Group
 * @license MIT
 */function bg(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function EF(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?bg(Object(n),!0).forEach(function(r){te(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):bg(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var wF=_e.prefix,Sg="".concat(wF,"-pull-down-refresh"),OF=300,kF=["pulling","loosing","loading","success","initial"],US=ee({name:Sg,components:{TLoading:Yd},props:yF,emits:["refresh","timeout"],setup:function(t,n){var r,a=St(t,n.emit),i=N(function(){return{transitionDuration:"".concat(OF,"ms"),transform:"translate3d(0, ".concat(c.value,"px, 0)")}}),o=N(function(){return{height:typeof t.loadingBarHeight=="number"?"".concat(t.loadingBarHeight,"px"):t.loadingBarHeight}}),l=N(function(){return{height:typeof t.maxBarHeight=="number"?"".concat(t.maxBarHeight,"px"):t.maxBarHeight}}),u=N(function(){return EF({},t.loadingProps)}),s=q(!1),c=q(0),d=He(t),v=d.value,S=d.modelValue,E=oD(v,S,t.defaultValue,t.onChange),m=Ot(E,2),f=m[0],g=m[1],h=N(function(){return!f.value&&s.value?"success":!f.value||c.value===0?"initial":c.value<_.value?"pulling":s.value?"loading":"loosing"});oe(h,function(x){(x==="success"||x==="initial")&&setTimeout(function(){c.value=0,s.value=!1},300)});var y=q((r=t.loadingTexts)!==null&&r!==void 0&&r.length?t.loadingTexts:["\u4E0B\u62C9\u5237\u65B0","\u677E\u624B\u5237\u65B0","\u6B63\u5728\u5237\u65B0","\u5237\u65B0\u5B8C\u6210"]),b=N(function(){var x=kF.indexOf(h.value);return x>=0?y.value[x]:""}),p=SF(),C=q(null),w=q(null),k=yv(C),_=k.height,T=yv(w),O=T.height,A=function(L){!wu(L)||s.value||(g(!0),c.value=0,p.start(L))},P=function(L){if(!(!wu(L)||s.value)){var $=p.deltaY,M=TF($.value,_.value);M>=0&&M<O.value&&(L.preventDefault(),c.value=M),p.move(L)}},D=null,I=function(L){!wu(L)||s.value||(h.value==="loosing"?(c.value=_.value,s.value=!0,a("refresh"),D=setTimeout(function(){s.value&&(a("timeout"),g(!1))},t.refreshTimeout)):g(!1))};return $n(function(){clearTimeout(D)}),{name:Sg,status:h,trackStyle:i,loadingText:b,maxBarStyles:l,loadingBarStyles:o,loadingIconProps:u,loadingBar:C,maxBar:w,onTouchStart:A,onTouchMove:P,onTouchEnd:I}}}),_F={key:0},AF={key:1};function DF(e,t,n,r,a,i){var o=ge("t-loading");return H(),W("div",{class:z(e.name)},[J("div",{class:z("".concat(e.name,"__track")),style:De(e.trackStyle),onTouchstart:t[0]||(t[0]=qn(function(){return e.onTouchStart&&e.onTouchStart.apply(e,arguments)},["stop"])),onTouchmove:t[1]||(t[1]=qn(function(){return e.onTouchMove&&e.onTouchMove.apply(e,arguments)},["stop"])),onTouchend:t[2]||(t[2]=qn(function(){return e.onTouchEnd&&e.onTouchEnd.apply(e,arguments)},["stop"])),onTouchcancel:t[3]||(t[3]=qn(function(){return e.onTouchEnd&&e.onTouchEnd.apply(e,arguments)},["stop"]))},[J("div",{ref:"maxBar",class:z("".concat(e.name,"__max")),style:De(e.maxBarStyles)},[J("div",{ref:"loadingBar",class:z("".concat(e.name,"__loading")),style:De(e.loadingBarStyles)},[e.status==="loading"?(H(),W("div",_F,[R(o,We({text:e.loadingText,class:"".concat(e.name,"__loading-icon")},e.loadingIconProps),null,16,["text","class"])])):(H(),W("div",AF,Ae(e.loadingText),1))],6)],6),Ye(e.$slots,"default")],38)],2)}US.render=DF;/**
 * tdesign v0.8.4
 * (c) 2022 TDesign Group
 * @license MIT
 */var PF=Le(US),IF=Pl;function LF(){this.__data__=new IF,this.size=0}var RF=LF;function xF(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}var $F=xF;function MF(e){return this.__data__.get(e)}var FF=MF;function BF(e){return this.__data__.has(e)}var NF=BF,jF=Pl,UF=jd,VF=Ud,HF=200;function zF(e,t){var n=this.__data__;if(n instanceof jF){var r=n.__data__;if(!UF||r.length<HF-1)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new VF(r)}return n.set(e,t),this.size=n.size,this}var GF=zF,KF=Pl,WF=RF,YF=$F,qF=FF,XF=NF,ZF=GF;function Pi(e){var t=this.__data__=new KF(e);this.size=t.size}Pi.prototype.clear=WF;Pi.prototype.delete=YF;Pi.prototype.get=qF;Pi.prototype.has=XF;Pi.prototype.set=ZF;var VS=Pi;function JF(e,t){for(var n=-1,r=e==null?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}var QF=JF,eB=hb,tB=QF,nB=gb,rB=1,aB=2;function iB(e,t,n,r,a,i){var o=n&rB,l=e.length,u=t.length;if(l!=u&&!(o&&u>l))return!1;var s=i.get(e),c=i.get(t);if(s&&c)return s==t&&c==e;var d=-1,v=!0,S=n&aB?new eB:void 0;for(i.set(e,t),i.set(t,e);++d<l;){var E=e[d],m=t[d];if(r)var f=o?r(m,E,d,t,e,i):r(E,m,d,e,t,i);if(f!==void 0){if(f)continue;v=!1;break}if(S){if(!tB(t,function(g,h){if(!nB(S,h)&&(E===g||a(E,g,n,r,i)))return S.push(h)})){v=!1;break}}else if(!(E===m||a(E,m,n,r,i))){v=!1;break}}return i.delete(e),i.delete(t),v}var HS=iB,oB=yr,sB=oB.Uint8Array,lB=sB;function uB(e){var t=-1,n=Array(e.size);return e.forEach(function(r,a){n[++t]=[a,r]}),n}var cB=uB;function dB(e){var t=-1,n=Array(e.size);return e.forEach(function(r){n[++t]=r}),n}var fB=dB,Tg=Ol,Cg=lB,hB=fb,vB=HS,mB=cB,gB=fB,pB=1,yB=2,bB="[object Boolean]",SB="[object Date]",TB="[object Error]",CB="[object Map]",EB="[object Number]",wB="[object RegExp]",OB="[object Set]",kB="[object String]",_B="[object Symbol]",AB="[object ArrayBuffer]",DB="[object DataView]",Eg=Tg?Tg.prototype:void 0,Ou=Eg?Eg.valueOf:void 0;function PB(e,t,n,r,a,i,o){switch(n){case DB:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case AB:return!(e.byteLength!=t.byteLength||!i(new Cg(e),new Cg(t)));case bB:case SB:case EB:return hB(+e,+t);case TB:return e.name==t.name&&e.message==t.message;case wB:case kB:return e==t+"";case CB:var l=mB;case OB:var u=r&pB;if(l||(l=gB),e.size!=t.size&&!u)return!1;var s=o.get(e);if(s)return s==t;r|=yB,o.set(e,t);var c=vB(l(e),l(t),r,a,i,o);return o.delete(e),c;case _B:if(Ou)return Ou.call(e)==Ou.call(t)}return!1}var IB=PB;function LB(e,t){for(var n=-1,r=t.length,a=e.length;++n<r;)e[a+n]=t[n];return e}var RB=LB,xB=RB,$B=zr;function MB(e,t,n){var r=t(e);return $B(e)?r:xB(r,n(e))}var FB=MB;function BB(e,t){for(var n=-1,r=e==null?0:e.length,a=0,i=[];++n<r;){var o=e[n];t(o,n,e)&&(i[a++]=o)}return i}var NB=BB;function jB(){return[]}var UB=jB,VB=NB,HB=UB,zB=Object.prototype,GB=zB.propertyIsEnumerable,wg=Object.getOwnPropertySymbols,KB=wg?function(e){return e==null?[]:(e=Object(e),VB(wg(e),function(t){return GB.call(e,t)}))}:HB,WB=KB;function YB(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}var qB=YB,XB=Vo,ZB=ki,JB="[object Arguments]";function QB(e){return ZB(e)&&XB(e)==JB}var eN=QB,Og=eN,tN=ki,zS=Object.prototype,nN=zS.hasOwnProperty,rN=zS.propertyIsEnumerable,aN=Og(function(){return arguments}())?Og:function(e){return tN(e)&&nN.call(e,"callee")&&!rN.call(e,"callee")},GS=aN,el={exports:{}};function iN(){return!1}var oN=iN;(function(e,t){var n=yr,r=oN,a=t&&!t.nodeType&&t,i=a&&!0&&e&&!e.nodeType&&e,o=i&&i.exports===a,l=o?n.Buffer:void 0,u=l?l.isBuffer:void 0,s=u||r;e.exports=s})(el,el.exports);var sN=9007199254740991,lN=/^(?:0|[1-9]\d*)$/;function uN(e,t){var n=typeof e;return t=t==null?sN:t,!!t&&(n=="number"||n!="symbol"&&lN.test(e))&&e>-1&&e%1==0&&e<t}var KS=uN,cN=Vo,dN=Hd,fN=ki,hN="[object Arguments]",vN="[object Array]",mN="[object Boolean]",gN="[object Date]",pN="[object Error]",yN="[object Function]",bN="[object Map]",SN="[object Number]",TN="[object Object]",CN="[object RegExp]",EN="[object Set]",wN="[object String]",ON="[object WeakMap]",kN="[object ArrayBuffer]",_N="[object DataView]",AN="[object Float32Array]",DN="[object Float64Array]",PN="[object Int8Array]",IN="[object Int16Array]",LN="[object Int32Array]",RN="[object Uint8Array]",xN="[object Uint8ClampedArray]",$N="[object Uint16Array]",MN="[object Uint32Array]",ht={};ht[AN]=ht[DN]=ht[PN]=ht[IN]=ht[LN]=ht[RN]=ht[xN]=ht[$N]=ht[MN]=!0;ht[hN]=ht[vN]=ht[kN]=ht[mN]=ht[_N]=ht[gN]=ht[pN]=ht[yN]=ht[bN]=ht[SN]=ht[TN]=ht[CN]=ht[EN]=ht[wN]=ht[ON]=!1;function FN(e){return fN(e)&&dN(e.length)&&!!ht[cN(e)]}var BN=FN,Lc={exports:{}};(function(e,t){var n=L0,r=t&&!t.nodeType&&t,a=r&&!0&&e&&!e.nodeType&&e,i=a&&a.exports===r,o=i&&n.process,l=function(){try{var u=a&&a.require&&a.require("util").types;return u||o&&o.binding&&o.binding("util")}catch{}}();e.exports=l})(Lc,Lc.exports);var NN=BN,jN=mb,kg=Lc.exports,_g=kg&&kg.isTypedArray,UN=_g?jN(_g):NN,WS=UN,VN=qB,HN=GS,zN=zr,GN=el.exports,KN=KS,WN=WS,YN=Object.prototype,qN=YN.hasOwnProperty;function XN(e,t){var n=zN(e),r=!n&&HN(e),a=!n&&!r&&GN(e),i=!n&&!r&&!a&&WN(e),o=n||r||a||i,l=o?VN(e.length,String):[],u=l.length;for(var s in e)(t||qN.call(e,s))&&!(o&&(s=="length"||a&&(s=="offset"||s=="parent")||i&&(s=="buffer"||s=="byteLength"||s=="byteOffset")||KN(s,u)))&&l.push(s);return l}var ZN=XN,JN=Object.prototype;function QN(e){var t=e&&e.constructor,n=typeof t=="function"&&t.prototype||JN;return e===n}var ej=QN;function tj(e,t){return function(n){return e(t(n))}}var nj=tj,rj=nj,aj=rj(Object.keys,Object),ij=aj,oj=ej,sj=ij,lj=Object.prototype,uj=lj.hasOwnProperty;function cj(e){if(!oj(e))return sj(e);var t=[];for(var n in Object(e))uj.call(e,n)&&n!="constructor"&&t.push(n);return t}var dj=cj,fj=ZN,hj=dj,vj=pb;function mj(e){return vj(e)?fj(e):hj(e)}var YS=mj,gj=FB,pj=WB,yj=YS;function bj(e){return gj(e,yj,pj)}var Sj=bj,Ag=Sj,Tj=1,Cj=Object.prototype,Ej=Cj.hasOwnProperty;function wj(e,t,n,r,a,i){var o=n&Tj,l=Ag(e),u=l.length,s=Ag(t),c=s.length;if(u!=c&&!o)return!1;for(var d=u;d--;){var v=l[d];if(!(o?v in t:Ej.call(t,v)))return!1}var S=i.get(e),E=i.get(t);if(S&&E)return S==t&&E==e;var m=!0;i.set(e,t),i.set(t,e);for(var f=o;++d<u;){v=l[d];var g=e[v],h=t[v];if(r)var y=o?r(h,g,v,t,e,i):r(g,h,v,e,t,i);if(!(y===void 0?g===h||a(g,h,n,r,i):y)){m=!1;break}f||(f=v=="constructor")}if(m&&!f){var b=e.constructor,p=t.constructor;b!=p&&"constructor"in e&&"constructor"in t&&!(typeof b=="function"&&b instanceof b&&typeof p=="function"&&p instanceof p)&&(m=!1)}return i.delete(e),i.delete(t),m}var Oj=wj,kj=ka,_j=yr,Aj=kj(_j,"DataView"),Dj=Aj,Pj=ka,Ij=yr,Lj=Pj(Ij,"Promise"),Rj=Lj,xj=ka,$j=yr,Mj=xj($j,"Set"),Fj=Mj,Bj=ka,Nj=yr,jj=Bj(Nj,"WeakMap"),Uj=jj,Rc=Dj,xc=jd,$c=Rj,Mc=Fj,Fc=Uj,qS=Vo,Ii=db,Dg="[object Map]",Vj="[object Object]",Pg="[object Promise]",Ig="[object Set]",Lg="[object WeakMap]",Rg="[object DataView]",Hj=Ii(Rc),zj=Ii(xc),Gj=Ii($c),Kj=Ii(Mc),Wj=Ii(Fc),ca=qS;(Rc&&ca(new Rc(new ArrayBuffer(1)))!=Rg||xc&&ca(new xc)!=Dg||$c&&ca($c.resolve())!=Pg||Mc&&ca(new Mc)!=Ig||Fc&&ca(new Fc)!=Lg)&&(ca=function(e){var t=qS(e),n=t==Vj?e.constructor:void 0,r=n?Ii(n):"";if(r)switch(r){case Hj:return Rg;case zj:return Dg;case Gj:return Pg;case Kj:return Ig;case Wj:return Lg}return t});var Yj=ca,ku=VS,qj=HS,Xj=IB,Zj=Oj,xg=Yj,$g=zr,Mg=el.exports,Jj=WS,Qj=1,Fg="[object Arguments]",Bg="[object Array]",ds="[object Object]",e3=Object.prototype,Ng=e3.hasOwnProperty;function t3(e,t,n,r,a,i){var o=$g(e),l=$g(t),u=o?Bg:xg(e),s=l?Bg:xg(t);u=u==Fg?ds:u,s=s==Fg?ds:s;var c=u==ds,d=s==ds,v=u==s;if(v&&Mg(e)){if(!Mg(t))return!1;o=!0,c=!1}if(v&&!c)return i||(i=new ku),o||Jj(e)?qj(e,t,n,r,a,i):Xj(e,t,u,n,r,a,i);if(!(n&Qj)){var S=c&&Ng.call(e,"__wrapped__"),E=d&&Ng.call(t,"__wrapped__");if(S||E){var m=S?e.value():e,f=E?t.value():t;return i||(i=new ku),a(m,f,n,r,i)}}return v?(i||(i=new ku),Zj(e,t,n,r,a,i)):!1}var n3=t3,r3=n3,jg=ki;function XS(e,t,n,r,a){return e===t?!0:e==null||t==null||!jg(e)&&!jg(t)?e!==e&&t!==t:r3(e,t,n,r,XS,a)}var ZS=XS,a3=VS,i3=ZS,o3=1,s3=2;function l3(e,t,n,r){var a=n.length,i=a,o=!r;if(e==null)return!i;for(e=Object(e);a--;){var l=n[a];if(o&&l[2]?l[1]!==e[l[0]]:!(l[0]in e))return!1}for(;++a<i;){l=n[a];var u=l[0],s=e[u],c=l[1];if(o&&l[2]){if(s===void 0&&!(u in e))return!1}else{var d=new a3;if(r)var v=r(s,c,u,e,t,d);if(!(v===void 0?i3(c,s,o3|s3,r,d):v))return!1}}return!0}var u3=l3,c3=_l;function d3(e){return e===e&&!c3(e)}var JS=d3,f3=JS,h3=YS;function v3(e){for(var t=h3(e),n=t.length;n--;){var r=t[n],a=e[r];t[n]=[r,a,f3(a)]}return t}var m3=v3;function g3(e,t){return function(n){return n==null?!1:n[e]===t&&(t!==void 0||e in Object(n))}}var QS=g3,p3=u3,y3=m3,b3=QS;function S3(e){var t=y3(e);return t.length==1&&t[0][2]?b3(t[0][0],t[0][1]):function(n){return n===e||p3(n,e,t)}}var T3=S3,C3=zr,E3=kl,w3=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,O3=/^\w*$/;function k3(e,t){if(C3(e))return!1;var n=typeof e;return n=="number"||n=="symbol"||n=="boolean"||e==null||E3(e)?!0:O3.test(e)||!w3.test(e)||t!=null&&e in Object(t)}var qd=k3,e1=Ud,_3="Expected a function";function Xd(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(_3);var n=function(){var r=arguments,a=t?t.apply(this,r):r[0],i=n.cache;if(i.has(a))return i.get(a);var o=e.apply(this,r);return n.cache=i.set(a,o)||i,o};return n.cache=new(Xd.Cache||e1),n}Xd.Cache=e1;var A3=Xd,D3=A3,P3=500;function I3(e){var t=D3(e,function(r){return n.size===P3&&n.clear(),r}),n=t.cache;return t}var L3=I3,R3=L3,x3=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,$3=/\\(\\)?/g,M3=R3(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(x3,function(n,r,a,i){t.push(a?i.replace($3,"$1"):r||n)}),t}),F3=M3,B3=zr,N3=qd,j3=F3,U3=Ho;function V3(e,t){return B3(e)?e:N3(e,t)?[e]:j3(U3(e))}var t1=V3,H3=kl,z3=1/0;function G3(e){if(typeof e=="string"||H3(e))return e;var t=e+"";return t=="0"&&1/e==-z3?"-0":t}var $l=G3,K3=t1,W3=$l;function Y3(e,t){t=K3(t,e);for(var n=0,r=t.length;e!=null&&n<r;)e=e[W3(t[n++])];return n&&n==r?e:void 0}var n1=Y3,q3=n1;function X3(e,t,n){var r=e==null?void 0:q3(e,t);return r===void 0?n:r}var Z3=X3;function J3(e,t){return e!=null&&t in Object(e)}var Q3=J3,e4=t1,t4=GS,n4=zr,r4=KS,a4=Hd,i4=$l;function o4(e,t,n){t=e4(t,e);for(var r=-1,a=t.length,i=!1;++r<a;){var o=i4(t[r]);if(!(i=e!=null&&n(e,o)))break;e=e[o]}return i||++r!=a?i:(a=e==null?0:e.length,!!a&&a4(a)&&r4(o,a)&&(n4(e)||t4(e)))}var s4=o4,l4=Q3,u4=s4;function c4(e,t){return e!=null&&u4(e,t,l4)}var d4=c4,f4=ZS,h4=Z3,v4=d4,m4=qd,g4=JS,p4=QS,y4=$l,b4=1,S4=2;function T4(e,t){return m4(e)&&g4(t)?p4(y4(e),t):function(n){var r=h4(n,e);return r===void 0&&r===t?v4(n,e):f4(t,r,b4|S4)}}var C4=T4;function E4(e){return function(t){return t==null?void 0:t[e]}}var w4=E4,O4=n1;function k4(e){return function(t){return O4(t,e)}}var _4=k4,A4=w4,D4=_4,P4=qd,I4=$l;function L4(e){return P4(e)?A4(I4(e)):D4(e)}var R4=L4,x4=T3,$4=C4,M4=Vd,F4=zr,B4=R4;function N4(e){return typeof e=="function"?e:e==null?M4:typeof e=="object"?F4(e)?$4(e[0],e[1]):x4(e):B4(e)}var j4=N4,U4=kc,Ug=1/0,V4=17976931348623157e292;function H4(e){if(!e)return e===0?e:0;if(e=U4(e),e===Ug||e===-Ug){var t=e<0?-1:1;return t*V4}return e===e?e:0}var z4=H4,G4=z4;function K4(e){var t=G4(e),n=t%1;return t===t?n?t-n:t:0}var W4=K4,Y4=vb,q4=j4,X4=W4,Z4=Math.max;function J4(e,t,n){var r=e==null?0:e.length;if(!r)return-1;var a=n==null?0:X4(n);return a<0&&(a=Z4(r+a,0)),Y4(e,q4(t),a)}var Q4=J4;/**
 * tdesign v0.8.4
 * (c) 2022 TDesign Group
 * @license MIT
 */function eU(e){var t=e.method,n=t===void 0?"POST":t,r=e.action,a=e.withCredentials,i=a===void 0?!1:a,o=e.headers,l=o===void 0?{}:o,u=e.data,s=u===void 0?{}:u,c=e.file,d=e.files,v=e.name,S=v===void 0?"file":v,E=e.onError,m=e.onProgress,f=e.onSuccess,g=d||[],h=new XMLHttpRequest;i&&(h.withCredentials=!0);var y=new FormData,b=typeof s=="function"?s(c):s;return Object.keys(b).forEach(function(p){y.append(p,s[p])}),g.forEach(function(p){y.append(S,p&&p.raw)}),h.open(n,r,!0),Object.keys(l).forEach(function(p){h.setRequestHeader(p,l[p])}),h.onerror=function(p){return E({event:p,file:c,files:g})},h.upload&&(h.upload.onprogress=function(p){var C=0;p.total>0&&(C=Math.round(p.loaded/p.total*100)),m({event:p,percent:C,file:c,files:g})}),h.onload=function(p){var C,w=h.status<200||h.status>=300;if(w)return E({event:p,file:c,files:g,response:C});var k=h.responseText||h.response;try{C=JSON.parse(k)}catch{C=k}f({event:p,file:c,files:g,response:C})},h.send(y),h}/**
 * tdesign v0.8.4
 * (c) 2022 TDesign Group
 * @license MIT
 */var tU={accept:{type:String,default:""},action:{type:String,default:""},allowUploadDuplicateFile:Boolean,autoUpload:{type:Boolean,default:!0},beforeUpload:{type:Function},data:{type:Object},deleteBtn:{type:[String,Function]},disabled:Boolean,fileListDisplay:{type:Function},files:{type:Array},defaultFiles:{type:Array},format:{type:Function},formatResponse:{type:Function},gridConfig:{type:Object},headers:{type:Object},imageProps:{type:Object},max:{type:Number,default:0},method:{type:String,default:"POST",validator:function(t){return t?["POST","GET","PUT","OPTION","PATCH","post","get","put","option","patch"].includes(t):!0}},multiple:Boolean,requestMethod:{type:Function},sizeLimit:{type:[Number,Object]},trigger:{type:[String,Function]},useMockProgress:{type:Boolean,default:!0},withCredentials:Boolean,onCancelUpload:Function,onChange:Function,onFail:Function,onPreview:Function,onProgress:Function,onRemove:Function,onSelectChange:Function,onSuccess:Function};/**
 * tdesign v0.8.4
 * (c) 2022 TDesign Group
 * @license MIT
 */var nU={B:1024,KB:1,MB:1048576,GB:1073741824};function rU(e,t,n){var r=["B","KB","MB","GB"],a=1,i=r.indexOf(n);i===-1&&(console.warn("TDesign Upload Warn: `sizeLimit.unit` can only be one of ".concat(r.join())),i=a);var o=nU[n],l=i<a?t/o:t*o;return e<=l}/**
 * tdesign v0.8.4
 * (c) 2022 TDesign Group
 * @license MIT
 */function Vg(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Or(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Vg(Object(n),!0).forEach(function(r){te(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Vg(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var r1=_e.prefix,Hg="".concat(r1,"-upload"),a1=ee({name:Hg,components:{AddIcon:S0,TNode:st,CloseIcon:Oi,RefreshIcon:XO},props:tU,emits:["update:files","update:modelValue","change","fail","preview","progress","remove","success"],setup:function(t,n){var r=St(t,n.emit),a=Ut(t,n.emit,"files","change"),i=Ot(a,2),o=i[0],l=i[1],u=Be(),s=N(function(){return ze(u,"default")}),c=N(function(){return ze(u,"deleteBtn")}),d=q([]),v=q(!1),S=q(0),E=Hg,m=q(null),f=q([]),g=N(function(){return o.value&&tk(o.value)?o.value.filter(function(U){return U.status==="success"||U.status==="fail"}):[]}),h=q(""),y=q(null),b=N(function(){var U=He(t),B=U.gridConfig,K=4;return vv(B.value)&&(K=B.value.column),{flexBasis:"".concat(100/+K,"%")}}),p=N(function(){var U=80,B=80,K=He(t),V=K.gridConfig;if(vv(V.value)){var X=V.value;U=X.width,B=X.height}return{height:"".concat(B,"px"),width:"".concat(U,"px")}}),C=function(){var B=y.value;t.disabled||B.click()},w=function(B,K){v.value=!0,r("preview",{e:B,file:K})},k=function(B){P([B])},_=function(B){var K=B.target.files;if(!(t.disabled||!K)){var V=y.value;P(T(K)),V.value=""}},T=function(B){if(!t.format||!Ni(t.format))return B;var K=Bt(B);return K.forEach(function(V){var X;V=(X=t.format)===null||X===void 0?void 0:X.call(t,V)}),K},O=function(B){if(t.beforeUpload&&Ni(t.beforeUpload)){var K=t.beforeUpload(B);return K instanceof Promise?K:Promise.resolve(K)}return new Promise(function(V){t.sizeLimit&&V(A(B.size)),V(!0)})},A=function(B){var K;typeof t.sizeLimit=="number"?K={size:t.sizeLimit,unit:"KB"}:Nt(t.sizeLimit)==="object"?K=t.sizeLimit:K={size:0,unit:"KB"};var V=rU(B,K.size,K.unit);return V&&(h.value=K.message?K.message:"TDesign Upoad Error: uploaded picture exceeds ".concat(t.sizeLimit).concat(K.unit," restrictions")),V},P=function(B){var K=He(t),V=K.max,X=Bt(B);V.value&&(X=X.slice(0,V.value-g.value.length),X.length!==B.length&&console.warn("TDesign Upload Warn: you can only upload ".concat(V.value," files"))),X.forEach(function(Z){var ne=Or(Or({},Z),{},{lastModified:Z.lastModified,name:Z.name,size:Z.size,type:Z.type,percent:0,status:"waiting"}),ae=new FileReader;ae.readAsDataURL(Z),ae.onload=function(ye){var de;ne.url=(de=ye.target)===null||de===void 0?void 0:de.result},O(Z).then(function(ye){if(!!ye){var de=f.value.concat();de.push(ne),f.value=Bt(new Set(de)),t.autoUpload&&L(ne)}})})},D=function(B){var K=setInterval(function(){if(B.status==="success"||B.percent>=99){clearInterval(K);return}B.percent+=1,I({file:B,percent:B.percent,type:"mock"})},10)},I=function(B){var K=B.event,V=B.file,X=B.percent,Z=B.type,ne=Z===void 0?"real":Z;if(!V)throw new Error("Error file");V.percent=Math.min(X,100);var ae={percent:X,e:K,file:V,type:ne};r("progress",ae)},x=function(B,K,V){h.value="";var X=g.value.concat();X.splice(V,1),l(X,{e:B,trigger:"remove",index:V,file:K}),r("remove",{e:B,index:V,file:K}),d.value.splice(V,1)},L=function(){var U=$d(hi.mark(function B(K){var V;return hi.wrap(function(Z){for(;;)switch(Z.prev=Z.next){case 0:if(!(!t.action&&!t.requestMethod)){Z.next=3;break}return console.error("TDesign Upload Error: one of action and requestMethod must be exist."),Z.abrupt("return");case 3:h.value="",K.status="progress",t.requestMethod?$(K):(t.useMockProgress&&D(K),V=eU,m.value=V({action:t.action,data:t.data||{},method:t.method,file:K,headers:t.headers||{},withCredentials:t.withCredentials,onError:F,onProgress:I,onSuccess:j}));case 6:case"end":return Z.stop()}},B)}));return function(K){return U.apply(this,arguments)}}(),$=function(B){var K;if(!Ni(t.requestMethod)){console.warn("TDesign Upload Warn: `requestMethod` must be a function.");return}(K=t.requestMethod)===null||K===void 0||K.call(t,B).then(function(V){if(!!M(V)){if(V.status==="success")j({file:B,response:V.response});else if(V.status==="fail"){var X=V.response||{};F({event:void 0,file:B,response:Or(Or({},X),{},{error:V.error})})}}})},M=function(B){return B?B.status?["success","fail"].includes(B.status)?(B.status==="success"&&(!B.response||!B.response.url)&&console.warn("TDesign Upoad Warn: `requestMethodResponse.response.url` is required, when `status` is `success`"),!0):(console.error("TDesign Upoad Error: `requestMethodResponse.status` must be `success` or `fail`"),!1):(console.error("TDesign Upoad Error: `requestMethodResponse.status` is missing, which value is `success` or `fail`"),!1):(console.error("TDesign Upoad Error: `requestMethodResponse` is required."),!1)},j=function(B){var K,V,X=B.event,Z=B.file,ne=B.response;if(!Z)throw new Error("Error file");Z.status="success";var ae=ne;if(t.formatResponse&&Ni(t.formatResponse)&&(ae=t.formatResponse(ne,{file:Z})),(K=ae)!==null&&K!==void 0&&K.error){F({event:X,file:Z,response:ae,resFormatted:!0});return}Z.url=((V=ae)===null||V===void 0?void 0:V.url)||Z.url;var ye=Q4(f.value,function(G){return G.name===Z.name});f.value.splice(ye,1);var de=Or(Or({},Z),{},{response:ae}),be=g.value.concat(de);l(be,{e:X,response:ae,trigger:"upload-success"}),r("success",{file:Z,fileList:be,e:X,response:ae}),d.value.push(de.url)},F=function(B){var K,V=B.event,X=B.file,Z=B.response,ne=B.resFormatted;X.status="fail";var ae=Z;if(!ne&&t.formatResponse&&Ni(t.formatResponse)&&(ae=t.formatResponse(Z,{file:X})),h.value=(K=ae)===null||K===void 0?void 0:K.error,!g.value.find(function(de){return de.name===X.name})){var ye=g.value.concat(X);l(ye,{e:V,response:ae,trigger:"upload-fail"})}r("fail",{e:V,file:X})};return Or(Or({},He(t)),{},{UPLOAD_NAME:E,images:d,showViewer:v,initialIndex:S,prefix:r1,innerFiles:o,xhrReq:m,toUploadFiles:f,errorMsg:h,inputRef:y,uploadedFiles:g,deleteBtnContent:c,defaultContent:s,itemStyle:b,itemContentStyle:p,emitEvent:r,setInnerFiles:l,triggerUpload:C,handleChange:_,handlePreview:w,handleReload:k,handleBeforeUpload:O,handleSizeLimit:A,uploadFiles:P,handleMockProgress:D,handleProgress:I,handleRemove:x,upload:L,handleRequestMethodResponse:M,handleSuccess:j,handleError:F})}}),aU=["onClick"],iU=["src","onClick"],oU=["value","multiple","accept"];function sU(e,t,n,r,a,i){var o=ge("t-node"),l=ge("close-icon"),u=ge("refresh-icon"),s=ge("add-icon"),c=ge("t-image-viewer");return H(),W("div",null,[J("ul",{class:z("".concat(e.UPLOAD_NAME,"__card"))},[(H(!0),W(Ce,null,Ne(e.uploadedFiles,function(d,v){return H(),W("li",{key:v,class:z("".concat(e.UPLOAD_NAME,"__card-item")),style:De(e.itemStyle)},[J("div",{class:z("".concat(e.UPLOAD_NAME,"__card-content ").concat(e.UPLOAD_NAME,"__card-box")),style:De(e.itemContentStyle)},[J("div",{key:"delete-icon",class:z("".concat(e.UPLOAD_NAME,"__card-delete-item")),onClick:function(E){return e.handleRemove(E,d,v)}},[e.deleteBtnContent?(H(),Oe(o,{key:0,content:e.deleteBtnContent},null,8,["content"])):(H(),Oe(l,{key:1,class:"close-icon"}))],10,aU),J("img",{class:z("".concat(e.UPLOAD_NAME,"__card-image")),src:d.url,onClick:function(E){return e.handlePreview(E,d)}},null,10,iU),d.status==="fail"?(H(),W("div",{key:0,class:z("".concat(e.UPLOAD_NAME,"__card-mask"))},[J("span",{key:"refresh-icon",class:z("".concat(e.UPLOAD_NAME,"__card-mask-item"))},[R(u,{onClick:function(E){return e.handleReload(d)}},null,8,["onClick"])],2)],2)):se("",!0)],6)],6)}),128)),e.defaultContent?(H(),W("div",{key:0,onClick:t[0]||(t[0]=function(){return e.triggerUpload&&e.triggerUpload.apply(e,arguments)})},[R(o,{content:e.defaultContent},null,8,["content"])])):(H(),W("li",{key:1,class:z("".concat(e.UPLOAD_NAME,"__card-item")),onClick:t[1]||(t[1]=function(){return e.triggerUpload&&e.triggerUpload.apply(e,arguments)})},[J("div",{class:z("".concat(e.UPLOAD_NAME,"__card-container ").concat(e.UPLOAD_NAME,"__card-box"))},[R(s)],2)],2))],2),J("input",{ref:"inputRef",value:e.files,type:"file",multiple:e.multiple,hidden:"",accept:e.accept,onChange:t[2]||(t[2]=function(){return e.handleChange&&e.handleChange.apply(e,arguments)})},null,40,oU),R(c,{images:e.images,"onUpdate:images":t[3]||(t[3]=function(d){return e.images=d}),modelValue:e.showViewer,"onUpdate:modelValue":t[4]||(t[4]=function(d){return e.showViewer=d}),"initial-index":e.initialIndex},null,8,["images","modelValue","initial-index"])])}a1.render=sU;/**
 * tdesign v0.8.4
 * (c) 2022 TDesign Group
 * @license MIT
 */var lU=Le(a1);/**
 * tdesign v0.8.4
 * (c) 2022 TDesign Group
 * @license MIT
 */var zg=Object.freeze({__proto__:null,Button:Oa,ButtonGroup:fD,Divider:gD,Cell:Bd,CellGroup:lb,Checkbox:ub,CheckboxGroup:Sb,Input:Cb,Textarea:kR,Mask:Ll,Progress:LR,Radio:kb,RadioGroup:Ab,Rate:YR,Switch:JR,Stepper:ix,Slider:hx,Dialog:Cx,Popup:Rl,ActionSheet:Rx,Badge:xl,Fab:Bx,ImageViewer:zx,Drawer:Yx,Navbar:e$,Message:Oc,DateTimePicker:$$,Toast:j$,Search:V$,Steps:X$,Step:q$,Indexes:i2,IndexesCell:o2,IndexesAnchor:s2,Picker:Yb,PickerItem:qb,Tag:v2,CheckTag:m2,TabBar:w2,TabBarItem:O2,DropdownMenu:M2,DropdownItem:F2,Collapse:G2,CollapsePanel:K2,Tabs:nM,TabPanel:rM,Swiper:dM,SwiperItem:fM,Countdown:yM,Avatar:_M,AvatarGroup:AM,Image:RM,SwipeCell:BM,Skeleton:VM,Grid:JM,GridItem:QM,Sticky:CS,List:vF,Loading:Yd,BackTop:pF,PullDownRefresh:PF,Upload:lU});/**
 * tdesign v0.8.4
 * (c) 2022 TDesign Group
 * @license MIT
 */var uU=function(t,n){Object.keys(zg).forEach(function(r){t.use(zg[r],n)})},cU="0.8.4",dU={install:uU,version:cU};function tl(){}const xe=Object.assign,Gr=typeof window!="undefined";function Gg(e,t){const n=t.split(".");let r=e;return n.forEach(a=>{var i;r=(i=r[a])!=null?i:""}),r}function vt(e,t,n){return t.reduce((r,a)=>((!n||e[a]!==void 0)&&(r[a]=e[a]),r),{})}const mt=null,pe=[Number,String],ce={type:Boolean,default:!0},Rt=e=>({type:e,required:!0}),jt=()=>({type:Array,default:()=>[]}),Jn=e=>({type:Number,default:e}),Pe=e=>({type:pe,default:e}),we=e=>({type:String,default:e});var Kr=typeof window!="undefined";function en(e){return Kr?requestAnimationFrame(e):-1}function i1(e){Kr&&cancelAnimationFrame(e)}function va(e){en(()=>en(e))}var fU=e=>e===window,Kg=(e,t)=>({top:0,left:0,right:e,bottom:t,width:e,height:t}),ft=e=>{const t=he(e);if(fU(t)){const n=t.innerWidth,r=t.innerHeight;return Kg(n,r)}return t!=null&&t.getBoundingClientRect?t.getBoundingClientRect():Kg(0,0)};function hU(e=!1){const t=q(e);return[t,(r=!t.value)=>{t.value=r}]}function qt(e){const t=Qe(e,null);if(t){const n=Be(),{link:r,unlink:a,internalChildren:i}=t;r(n),$n(()=>a(n));const o=N(()=>i.indexOf(n));return{parent:t,index:o}}return{parent:null,index:q(-1)}}function vU(e){const t=[],n=r=>{Array.isArray(r)&&r.forEach(a=>{var i;di(a)&&(t.push(a),(i=a.component)!=null&&i.subTree&&(t.push(a.component.subTree),n(a.component.subTree.children)),a.children&&n(a.children))})};return n(e),t}function mU(e,t,n){const r=vU(e.subTree.children);n.sort((i,o)=>r.indexOf(i.vnode)-r.indexOf(o.vnode));const a=n.map(i=>i.proxy);t.sort((i,o)=>{const l=a.indexOf(i),u=a.indexOf(o);return l-u})}function Jt(e){const t=Me([]),n=Me([]),r=Be();return{children:t,linkChildren:i=>{dt(e,Object.assign({link:u=>{u.proxy&&(n.push(u),t.push(u.proxy),mU(r,t,n))},unlink:u=>{const s=n.indexOf(u);t.splice(s,1),n.splice(s,1)},children:t,internalChildren:n},i))}}}var Bc=1e3,Nc=60*Bc,jc=60*Nc,Wg=24*jc;function gU(e){const t=Math.floor(e/Wg),n=Math.floor(e%Wg/jc),r=Math.floor(e%jc/Nc),a=Math.floor(e%Nc/Bc),i=Math.floor(e%Bc);return{total:e,days:t,hours:n,minutes:r,seconds:a,milliseconds:i}}function pU(e,t){return Math.floor(e/1e3)===Math.floor(t/1e3)}function yU(e){let t,n,r,a;const i=q(e.time),o=N(()=>gU(i.value)),l=()=>{r=!1,i1(t)},u=()=>Math.max(n-Date.now(),0),s=m=>{var f,g;i.value=m,(f=e.onChange)==null||f.call(e,o.value),m===0&&(l(),(g=e.onFinish)==null||g.call(e))},c=()=>{t=en(()=>{r&&(s(u()),i.value>0&&c())})},d=()=>{t=en(()=>{if(r){const m=u();(!pU(m,i.value)||m===0)&&s(m),i.value>0&&d()}})},v=()=>{!Kr||(e.millisecond?c():d())},S=()=>{r||(n=Date.now()+i.value,r=!0,v())},E=(m=e.time)=>{l(),i.value=m};return er(l),Ca(()=>{a&&(r=!0,a=!1,v())}),Hr(()=>{r&&(l(),a=!0)}),{start:S,pause:l,reset:E,current:o}}function Li(e){let t;et(()=>{e(),Re(()=>{t=!0})}),Ca(()=>{t&&e()})}function Wr(e,t,n={}){if(!Kr)return;const{target:r=window,passive:a=!1,capture:i=!1}=n;let o;const l=s=>{const c=he(s);c&&!o&&(c.addEventListener(e,t,{capture:i,passive:a}),o=!0)},u=s=>{const c=he(s);c&&o&&(c.removeEventListener(e,t,i),o=!1)};$n(()=>u(r)),Hr(()=>u(r)),Li(()=>l(r)),_t(r)&&oe(r,(s,c)=>{u(c),l(s)})}function Ml(e,t,n={}){if(!Kr)return;const{eventName:r="click"}=n;Wr(r,i=>{const o=he(e);o&&!o.contains(i.target)&&t(i)},{target:document})}var fs,_u;function bU(){if(!fs&&(fs=q(0),_u=q(0),Kr)){const e=()=>{fs.value=window.innerWidth,_u.value=window.innerHeight};e(),window.addEventListener("resize",e,{passive:!0}),window.addEventListener("orientationchange",e,{passive:!0})}return{width:fs,height:_u}}var SU=/scroll|auto/i,o1=Kr?window:void 0;function TU(e){return e.tagName!=="HTML"&&e.tagName!=="BODY"&&e.nodeType===1}function s1(e,t=o1){let n=e;for(;n&&n!==t&&TU(n);){const{overflowY:r}=window.getComputedStyle(n);if(SU.test(r))return n;n=n.parentNode}return t}function Ri(e,t=o1){const n=q();return et(()=>{e.value&&(n.value=s1(e.value,t))}),n}var hs;function CU(){if(!hs&&(hs=q("visible"),Kr)){const e=()=>{hs.value=document.hidden?"hidden":"visible"};e(),window.addEventListener("visibilitychange",e)}return hs}var l1=Symbol("van-field");function Yr(e){const t=Qe(l1,null);t&&!t.customValue.value&&(t.customValue.value=e,oe(e,()=>{t.resetValidation(),t.validateWithTrigger("onChange")}))}const nt=e=>e!=null,mi=e=>typeof e=="function",En=e=>e!==null&&typeof e=="object",Zd=e=>En(e)&&mi(e.then)&&mi(e.catch),To=e=>Object.prototype.toString.call(e)==="[object Date]"&&!Number.isNaN(e.getTime());function u1(e){return e=e.replace(/[^-|\d]/g,""),/^((\+86)|(86))?(1)\d{10}$/.test(e)||/^0[0-9-]{10,13}$/.test(e)}const c1=e=>typeof e=="number"||/^\d+(\.\d+)?$/.test(e),EU=()=>Gr?/ios|iphone|ipad|ipod/.test(navigator.userAgent.toLowerCase()):!1;function jr(e){const t="scrollTop"in e?e.scrollTop:e.pageYOffset;return Math.max(t,0)}function nl(e,t){"scrollTop"in e?e.scrollTop=t:e.scrollTo(e.scrollX,t)}function zo(){return window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0}function Fl(e){nl(window,e),nl(document.body,e)}function Yg(e,t){if(e===window)return 0;const n=t?jr(t):zo();return ft(e).top+n}const wU=EU();function d1(){wU&&Fl(zo())}const Jd=e=>e.stopPropagation();function Ct(e,t){(typeof e.cancelable!="boolean"||e.cancelable)&&e.preventDefault(),t&&Jd(e)}function gi(e){const t=he(e);if(!t)return!1;const n=window.getComputedStyle(t),r=n.display==="none",a=t.offsetParent===null&&n.position!=="fixed";return r||a}const{width:Bl,height:pi}=bU();function at(e){if(nt(e))return c1(e)?`${e}px`:String(e)}function qr(e){if(nt(e)){if(Array.isArray(e))return{width:at(e[0]),height:at(e[1])};const t=at(e);return{width:t,height:t}}}function _a(e){const t={};return e!==void 0&&(t.zIndex=+e),t}let Au;function OU(){if(!Au){const e=document.documentElement,t=e.style.fontSize||window.getComputedStyle(e).fontSize;Au=parseFloat(t)}return Au}function kU(e){return e=e.replace(/rem/g,""),+e*OU()}function _U(e){return e=e.replace(/vw/g,""),+e*Bl.value/100}function AU(e){return e=e.replace(/vh/g,""),+e*pi.value/100}function Qd(e){if(typeof e=="number")return e;if(Gr){if(e.includes("rem"))return kU(e);if(e.includes("vw"))return _U(e);if(e.includes("vh"))return AU(e)}return parseFloat(e)}const DU=/-(\w)/g,f1=e=>e.replace(DU,(t,n)=>n.toUpperCase()),PU=e=>e.replace(/([A-Z])/g,"-$1").toLowerCase().replace(/^-/,"");function zt(e,t=2){let n=e+"";for(;n.length<t;)n="0"+n;return n}const Gt=(e,t,n)=>Math.min(Math.max(e,t),n);function qg(e,t,n){const r=e.indexOf(t);return r===-1?e:t==="-"&&r!==0?e.slice(0,r):e.slice(0,r+1)+e.slice(r).replace(n,"")}function Uc(e,t=!0,n=!0){t?e=qg(e,".",/\./g):e=e.split(".")[0],n?e=qg(e,"-",/-/g):e=e.replace(/-/,"");const r=t?/[^-0-9.]/g:/[^-0-9]/g;return e.replace(r,"")}function h1(e,t){return Math.round((e+t)*1e10)/1e10}const{hasOwnProperty:IU}=Object.prototype;function LU(e,t,n){const r=t[n];!nt(r)||(!IU.call(e,n)||!En(r)?e[n]=r:e[n]=v1(Object(e[n]),r))}function v1(e,t){return Object.keys(t).forEach(n=>{LU(e,t,n)}),e}var RU={name:"\u59D3\u540D",tel:"\u7535\u8BDD",save:"\u4FDD\u5B58",confirm:"\u786E\u8BA4",cancel:"\u53D6\u6D88",delete:"\u5220\u9664",loading:"\u52A0\u8F7D\u4E2D...",noCoupon:"\u6682\u65E0\u4F18\u60E0\u5238",nameEmpty:"\u8BF7\u586B\u5199\u59D3\u540D",addContact:"\u6DFB\u52A0\u8054\u7CFB\u4EBA",telInvalid:"\u8BF7\u586B\u5199\u6B63\u786E\u7684\u7535\u8BDD",vanCalendar:{end:"\u7ED3\u675F",start:"\u5F00\u59CB",title:"\u65E5\u671F\u9009\u62E9",weekdays:["\u65E5","\u4E00","\u4E8C","\u4E09","\u56DB","\u4E94","\u516D"],monthTitle:(e,t)=>`${e}\u5E74${t}\u6708`,rangePrompt:e=>`\u6700\u591A\u9009\u62E9 ${e} \u5929`},vanCascader:{select:"\u8BF7\u9009\u62E9"},vanPagination:{prev:"\u4E0A\u4E00\u9875",next:"\u4E0B\u4E00\u9875"},vanPullRefresh:{pulling:"\u4E0B\u62C9\u5373\u53EF\u5237\u65B0...",loosing:"\u91CA\u653E\u5373\u53EF\u5237\u65B0..."},vanSubmitBar:{label:"\u5408\u8BA1:"},vanCoupon:{unlimited:"\u65E0\u95E8\u69DB",discount:e=>`${e}\u6298`,condition:e=>`\u6EE1${e}\u5143\u53EF\u7528`},vanCouponCell:{title:"\u4F18\u60E0\u5238",count:e=>`${e}\u5F20\u53EF\u7528`},vanCouponList:{exchange:"\u5151\u6362",close:"\u4E0D\u4F7F\u7528",enable:"\u53EF\u7528",disabled:"\u4E0D\u53EF\u7528",placeholder:"\u8F93\u5165\u4F18\u60E0\u7801"},vanAddressEdit:{area:"\u5730\u533A",postal:"\u90AE\u653F\u7F16\u7801",areaEmpty:"\u8BF7\u9009\u62E9\u5730\u533A",addressEmpty:"\u8BF7\u586B\u5199\u8BE6\u7EC6\u5730\u5740",postalEmpty:"\u90AE\u653F\u7F16\u7801\u4E0D\u6B63\u786E",addressDetail:"\u8BE6\u7EC6\u5730\u5740",defaultAddress:"\u8BBE\u4E3A\u9ED8\u8BA4\u6536\u8D27\u5730\u5740"},vanAddressList:{add:"\u65B0\u589E\u5730\u5740"}};const Xg=q("zh-CN"),Zg=Me({"zh-CN":RU}),m1={messages(){return Zg[Xg.value]},use(e,t){Xg.value=e,this.add({[e]:t})},add(e={}){v1(Zg,e)}};var xU=m1;function $U(e){const t=f1(e)+".";return(n,...r)=>{const a=xU.messages(),i=Gg(a,t+n)||Gg(a,n);return mi(i)?i(...r):i}}function Vc(e,t){return t?typeof t=="string"?` ${e}--${t}`:Array.isArray(t)?t.reduce((n,r)=>n+Vc(e,r),""):Object.keys(t).reduce((n,r)=>n+(t[r]?Vc(e,r):""),""):""}function MU(e){return(t,n)=>(t&&typeof t!="string"&&(n=t,t=""),t=t?`${e}__${t}`:e,`${t}${Vc(t,n)}`)}function ve(e){const t=`van-${e}`;return[t,MU(t),$U(t)]}const Xr="van-hairline",g1=`${Xr}--top`,p1=`${Xr}--left`,ef=`${Xr}--bottom`,Co=`${Xr}--surround`,Nl=`${Xr}--top-bottom`,FU=`${Xr}-unset--top-bottom`,tn="van-haptics-feedback",y1=Symbol("van-form");function Zr(e,{args:t=[],done:n,canceled:r}){if(e){const a=e.apply(null,t);Zd(a)?a.then(i=>{i?n():r&&r()}).catch(tl):a?n():r&&r()}else n()}function Te(e){return e.install=t=>{const{name:n}=e;t.component(n,e),t.component(f1(`-${n}`),e)},e}const[b1,BU]=ve("action-bar"),tf=Symbol(b1),NU={safeAreaInsetBottom:ce};var jU=ee({name:b1,props:NU,setup(e,{slots:t}){const{linkChildren:n}=Jt(tf);return n(),()=>{var r;return R("div",{class:[BU(),{"van-safe-area-bottom":e.safeAreaInsetBottom}]},[(r=t.default)==null?void 0:r.call(t)])}}});const S1=Te(jU);function ot(e){const t=Be();t&&xe(t.proxy,e)}const Jr={to:[String,Object],url:String,replace:Boolean};function T1({to:e,url:t,replace:n,$router:r}){e&&r?r[n?"replace":"push"](e):t&&(n?location.replace(t):location.href=t)}function Aa(){const e=Be().proxy;return()=>T1(e)}const[UU,Jg]=ve("badge"),VU={dot:Boolean,max:pe,tag:we("div"),color:String,offset:Array,content:pe,showZero:ce,position:we("top-right")};var HU=ee({name:UU,props:VU,setup(e,{slots:t}){const n=()=>{if(t.content)return!0;const{content:o,showZero:l}=e;return nt(o)&&o!==""&&(l||o!==0)},r=()=>{const{dot:o,max:l,content:u}=e;if(!o&&n())return t.content?t.content():nt(l)&&c1(u)&&+u>l?`${l}+`:u},a=N(()=>{const o={background:e.color};if(e.offset){const[l,u]=e.offset;t.default?(o.top=at(u),typeof l=="number"?o.right=at(-l):o.right=l.startsWith("-")?l.replace("-",""):`-${l}`):(o.marginTop=at(u),o.marginLeft=at(l))}return o}),i=()=>{if(n()||e.dot)return R("div",{class:Jg([e.position,{dot:e.dot,fixed:!!t.default}]),style:a.value},[r()])};return()=>{if(t.default){const{tag:o}=e;return R(o,{class:Jg("wrapper")},{default:()=>[t.default(),i()]})}return i()}}});const Da=Te(HU),[C1,zU]=ve("config-provider"),E1=Symbol(C1),GU={tag:we("div"),themeVars:Object,iconPrefix:String};function KU(e){const t={};return Object.keys(e).forEach(n=>{t[`--van-${PU(n)}`]=e[n]}),t}var WU=ee({name:C1,props:GU,setup(e,{slots:t}){const n=N(()=>{if(e.themeVars)return KU(e.themeVars)});return dt(E1,e),()=>R(e.tag,{class:zU(),style:n.value},{default:()=>{var r;return[(r=t.default)==null?void 0:r.call(t)]}})}});const[YU,Qg]=ve("icon"),qU=e=>e==null?void 0:e.includes("/"),XU={dot:Boolean,tag:we("i"),name:String,size:pe,badge:pe,color:String,badgeProps:Object,classPrefix:String};var ZU=ee({name:YU,props:XU,setup(e,{slots:t}){const n=Qe(E1,null),r=N(()=>e.classPrefix||(n==null?void 0:n.iconPrefix)||Qg());return()=>{const{tag:a,dot:i,name:o,size:l,badge:u,color:s}=e,c=qU(o);return R(Da,We({dot:i,tag:a,class:[r.value,c?"":`${r.value}-${o}`],style:{color:s,fontSize:at(l)},content:u},e.badgeProps),{default:()=>{var d;return[(d=t.default)==null?void 0:d.call(t),c&&R("img",{class:Qg("image"),src:o},null)]}})}}});const Ke=Te(ZU),[JU,Eo]=ve("loading"),QU=Array(12).fill(null).map((e,t)=>R("i",{class:Eo("line",String(t+1))},null)),e5=R("svg",{class:Eo("circular"),viewBox:"25 25 50 50"},[R("circle",{cx:"50",cy:"50",r:"20",fill:"none"},null)]),t5={size:pe,type:we("circular"),color:String,vertical:Boolean,textSize:pe,textColor:String};var n5=ee({name:JU,props:t5,setup(e,{slots:t}){const n=N(()=>xe({color:e.color},qr(e.size))),r=()=>{var a;if(t.default)return R("span",{class:Eo("text"),style:{fontSize:at(e.textSize),color:(a=e.textColor)!=null?a:e.color}},[t.default()])};return()=>{const{type:a,vertical:i}=e;return R("div",{class:Eo([a,{vertical:i}])},[R("span",{class:Eo("spinner",a),style:n.value},[a==="spinner"?QU:e5]),r()])}}});const Fn=Te(n5),[r5,Fa]=ve("button"),a5=xe({},Jr,{tag:we("button"),text:String,icon:String,type:we("default"),size:we("normal"),color:String,block:Boolean,plain:Boolean,round:Boolean,square:Boolean,loading:Boolean,hairline:Boolean,disabled:Boolean,iconPrefix:String,nativeType:we("button"),loadingSize:pe,loadingText:String,loadingType:String,iconPosition:we("left")});var i5=ee({name:r5,props:a5,emits:["click"],setup(e,{emit:t,slots:n}){const r=Aa(),a=()=>n.loading?n.loading():R(Fn,{size:e.loadingSize,type:e.loadingType,class:Fa("loading")},null),i=()=>{if(e.loading)return a();if(n.icon)return R("div",{class:Fa("icon")},[n.icon()]);if(e.icon)return R(Ke,{name:e.icon,class:Fa("icon"),classPrefix:e.iconPrefix},null)},o=()=>{let s;if(e.loading?s=e.loadingText:s=n.default?n.default():e.text,s)return R("span",{class:Fa("text")},[s])},l=()=>{const{color:s,plain:c}=e;if(s){const d={color:c?s:"white"};return c||(d.background=s),s.includes("gradient")?d.border=0:d.borderColor=s,d}},u=s=>{e.loading?Ct(s):e.disabled||(t("click",s),r())};return()=>{const{tag:s,type:c,size:d,block:v,round:S,plain:E,square:m,loading:f,disabled:g,hairline:h,nativeType:y,iconPosition:b}=e,p=[Fa([c,d,{plain:E,block:v,round:S,square:m,loading:f,disabled:g,hairline:h}]),{[Co]:h}];return R(s,{type:y,class:p,style:l(),disabled:g,onClick:u},{default:()=>[R("div",{class:Fa("content")},[b==="left"&&i(),o(),b==="right"&&i()])]})}}});const nn=Te(i5),[o5,s5]=ve("action-bar-button"),l5=xe({},Jr,{type:String,text:String,icon:String,color:String,loading:Boolean,disabled:Boolean});var u5=ee({name:o5,props:l5,setup(e,{slots:t}){const n=Aa(),{parent:r,index:a}=qt(tf),i=N(()=>{if(r){const l=r.children[a.value-1];return!(l&&"isButton"in l)}}),o=N(()=>{if(r){const l=r.children[a.value+1];return!(l&&"isButton"in l)}});return ot({isButton:!0}),()=>{const{type:l,icon:u,text:s,color:c,loading:d,disabled:v}=e;return R(nn,{class:s5([l,{last:o.value,first:i.value}]),size:"large",type:l,icon:u,color:c,loading:d,disabled:v,onClick:n},{default:()=>[t.default?t.default():s]})}}});const Hc=Te(u5),[c5,Du]=ve("action-bar-icon"),d5=xe({},Jr,{dot:Boolean,text:String,icon:String,color:String,badge:pe,iconClass:mt,badgeProps:Object,iconPrefix:String});var f5=ee({name:c5,props:d5,setup(e,{slots:t}){const n=Aa();qt(tf);const r=()=>{const{dot:a,badge:i,icon:o,color:l,iconClass:u,badgeProps:s,iconPrefix:c}=e;return t.icon?R(Da,We({dot:a,class:Du("icon"),content:i},s),{default:t.icon}):R(Ke,{tag:"div",dot:a,name:o,badge:i,color:l,class:[Du("icon"),u],badgeProps:s,classPrefix:c},null)};return()=>R("div",{role:"button",class:Du(),tabindex:0,onClick:n},[r(),t.default?t.default():e.text])}});const h5=Te(f5),xi={show:Boolean,zIndex:pe,overlay:ce,duration:pe,teleport:[String,Object],lockScroll:ce,lazyRender:ce,beforeClose:Function,overlayStyle:Object,overlayClass:mt,transitionAppear:Boolean,closeOnClickOverlay:ce},nf=Object.keys(xi);function v5(e,t){return e>t?"horizontal":t>e?"vertical":""}function tr(){const e=q(0),t=q(0),n=q(0),r=q(0),a=q(0),i=q(0),o=q(""),l=()=>o.value==="vertical",u=()=>o.value==="horizontal",s=()=>{n.value=0,r.value=0,a.value=0,i.value=0,o.value=""};return{move:v=>{const S=v.touches[0];n.value=(S.clientX<0?0:S.clientX)-e.value,r.value=S.clientY-t.value,a.value=Math.abs(n.value),i.value=Math.abs(r.value);const E=10;(!o.value||a.value<E&&i.value<E)&&(o.value=v5(a.value,i.value))},start:v=>{s(),e.value=v.touches[0].clientX,t.value=v.touches[0].clientY},reset:s,startX:e,startY:t,deltaX:n,deltaY:r,offsetX:a,offsetY:i,direction:o,isVertical:l,isHorizontal:u}}let Qi=0;const ep="van-overflow-hidden";function m5(e,t){const n=tr(),r=u=>{n.move(u);const s=n.deltaY.value>0?"10":"01",c=s1(u.target,e.value),{scrollHeight:d,offsetHeight:v,scrollTop:S}=c;let E="11";S===0?E=v>=d?"00":"01":S+v>=d&&(E="10"),E!=="11"&&n.isVertical()&&!(parseInt(E,2)&parseInt(s,2))&&Ct(u,!0)},a=()=>{document.addEventListener("touchstart",n.start),document.addEventListener("touchmove",r,{passive:!1}),Qi||document.body.classList.add(ep),Qi++},i=()=>{Qi&&(document.removeEventListener("touchstart",n.start),document.removeEventListener("touchmove",r),Qi--,Qi||document.body.classList.remove(ep))},o=()=>t()&&a(),l=()=>t()&&i();Li(o),Hr(l),er(l),oe(t,u=>{u?a():i()})}function rf(e){const t=q(!1);return oe(e,n=>{n&&(t.value=n)},{immediate:!0}),n=>()=>t.value?n():null}const w1=Symbol();function af(e){const t=Qe(w1,null);t&&oe(t,n=>{n&&e()})}const[g5,p5]=ve("overlay"),y5={show:Boolean,zIndex:pe,duration:pe,className:mt,lockScroll:ce,lazyRender:ce,customStyle:Object};var b5=ee({name:g5,props:y5,setup(e,{slots:t}){const n=rf(()=>e.show||!e.lazyRender),r=i=>{Ct(i,!0)},a=n(()=>{var i;const o=xe(_a(e.zIndex),e.customStyle);return nt(e.duration)&&(o.animationDuration=`${e.duration}s`),Ge(R("div",{style:o,class:[p5(),e.className],onTouchmove:e.lockScroll?r:tl},[(i=t.default)==null?void 0:i.call(t)]),[[qe,e.show]])});return()=>R(mn,{name:"van-fade",appear:!0},{default:a})}});const O1=Te(b5),S5=xe({},xi,{round:Boolean,position:we("center"),closeIcon:we("cross"),closeable:Boolean,transition:String,iconPrefix:String,closeOnPopstate:Boolean,closeIconPosition:we("top-right"),safeAreaInsetTop:Boolean,safeAreaInsetBottom:Boolean}),[T5,tp]=ve("popup");let np=2e3;var C5=ee({name:T5,inheritAttrs:!1,props:S5,emits:["open","close","opened","closed","keydown","update:show","click-overlay","click-close-icon"],setup(e,{emit:t,attrs:n,slots:r}){let a,i;const o=q(),l=q(),u=rf(()=>e.show||!e.lazyRender),s=N(()=>{const p={zIndex:o.value};if(nt(e.duration)){const C=e.position==="center"?"animationDuration":"transitionDuration";p[C]=`${e.duration}s`}return p}),c=()=>{a||(e.zIndex!==void 0&&(np=+e.zIndex),a=!0,o.value=++np,t("open"))},d=()=>{a&&Zr(e.beforeClose,{done(){a=!1,t("close"),t("update:show",!1)}})},v=p=>{t("click-overlay",p),e.closeOnClickOverlay&&d()},S=()=>{if(e.overlay)return R(O1,{show:e.show,class:e.overlayClass,zIndex:o.value,duration:e.duration,customStyle:e.overlayStyle,onClick:v},{default:r["overlay-content"]})},E=p=>{t("click-close-icon",p),d()},m=()=>{if(e.closeable)return R(Ke,{role:"button",tabindex:0,name:e.closeIcon,class:[tp("close-icon",e.closeIconPosition),tn],classPrefix:e.iconPrefix,onClick:E},null)},f=()=>t("opened"),g=()=>t("closed"),h=p=>t("keydown",p),y=u(()=>{var p;const{round:C,position:w,safeAreaInsetTop:k,safeAreaInsetBottom:_}=e;return Ge(R("div",We({ref:l,style:s.value,class:[tp({round:C,[w]:w}),{"van-safe-area-top":k,"van-safe-area-bottom":_}],onKeydown:h},n),[(p=r.default)==null?void 0:p.call(r),m()]),[[qe,e.show]])}),b=()=>{const{position:p,transition:C,transitionAppear:w}=e,k=p==="center"?"van-fade":`van-popup-slide-${p}`;return R(mn,{name:C||k,appear:w,onAfterEnter:f,onAfterLeave:g},{default:y})};return oe(()=>e.show,p=>{p&&!a&&(c(),n.tabindex===0&&Re(()=>{var C;(C=l.value)==null||C.focus()})),!p&&a&&(a=!1,t("close"))}),ot({popupRef:l}),m5(l,()=>e.show&&e.lockScroll),Wr("popstate",()=>{e.closeOnPopstate&&(d(),i=!1)}),et(()=>{e.show&&c()}),Ca(()=>{i&&(t("update:show",!0),i=!1)}),Hr(()=>{e.show&&(d(),i=!0)}),dt(w1,()=>e.show),()=>e.teleport?R(Bo,{to:e.teleport},{default:()=>[S(),b()]}):R(Ce,null,[S(),b()])}});const Bn=Te(C5),[E5,kn]=ve("action-sheet"),w5=xe({},xi,{title:String,round:ce,actions:jt(),closeIcon:we("cross"),closeable:ce,cancelText:String,description:String,closeOnPopstate:ce,closeOnClickAction:Boolean,safeAreaInsetBottom:ce}),O5=[...nf,"round","closeOnPopstate","safeAreaInsetBottom"];var k5=ee({name:E5,props:w5,emits:["select","cancel","update:show"],setup(e,{slots:t,emit:n}){const r=c=>n("update:show",c),a=()=>{r(!1),n("cancel")},i=()=>{if(e.title)return R("div",{class:kn("header")},[e.title,e.closeable&&R(Ke,{name:e.closeIcon,class:[kn("close"),tn],onClick:a},null)])},o=()=>{if(t.cancel||e.cancelText)return[R("div",{class:kn("gap")},null),R("button",{type:"button",class:kn("cancel"),onClick:a},[t.cancel?t.cancel():e.cancelText])]},l=(c,d)=>c.loading?R(Fn,{class:kn("loading-icon")},null):t.action?t.action({action:c,index:d}):[R("span",{class:kn("name")},[c.name]),c.subname&&R("div",{class:kn("subname")},[c.subname])],u=(c,d)=>{const{color:v,loading:S,callback:E,disabled:m,className:f}=c,g=()=>{m||S||(E&&E(c),e.closeOnClickAction&&r(!1),Re(()=>n("select",c,d)))};return R("button",{type:"button",style:{color:v},class:[kn("item",{loading:S,disabled:m}),f],onClick:g},[l(c,d)])},s=()=>{if(e.description||t.description){const c=t.description?t.description():e.description;return R("div",{class:kn("description")},[c])}};return()=>R(Bn,We({class:kn(),position:"bottom","onUpdate:show":r},vt(e,O5)),{default:()=>{var c;return[i(),s(),R("div",{class:kn("content")},[e.actions.map(u),(c=t.default)==null?void 0:c.call(t)]),o()]}})}});const _5=Te(k5);function Lo(e){if(!nt(e))return e;if(Array.isArray(e))return e.map(t=>Lo(t));if(En(e)){const t={};return Object.keys(e).forEach(n=>{t[n]=Lo(e[n])}),t}return e}const rp=200,ap=300,A5=15,[k1,Pu]=ve("picker-column");function D5(e){const{transform:t}=window.getComputedStyle(e),n=t.slice(7,t.length-1).split(", ")[5];return Number(n)}const _1=Symbol(k1),Iu=e=>En(e)&&e.disabled;var P5=ee({name:k1,props:{textKey:Rt(String),readonly:Boolean,allowHtml:Boolean,className:mt,itemHeight:Rt(Number),defaultIndex:Jn(0),swipeDuration:Rt(pe),initialOptions:jt(),visibleItemCount:Rt(pe)},emits:["change"],setup(e,{emit:t,slots:n}){let r,a,i,o,l;const u=q(),s=Me({index:e.defaultIndex,offset:0,duration:0,options:Lo(e.initialOptions)}),c=tr(),d=()=>s.options.length,v=()=>e.itemHeight*(+e.visibleItemCount-1)/2,S=O=>{O=Gt(O,0,d());for(let A=O;A<d();A++)if(!Iu(s.options[A]))return A;for(let A=O-1;A>=0;A--)if(!Iu(s.options[A]))return A},E=(O,A)=>{O=S(O)||0;const P=-O*e.itemHeight,D=()=>{O!==s.index&&(s.index=O,A&&t("change",O))};r&&P!==s.offset?l=D:D(),s.offset=P},m=O=>{JSON.stringify(O)!==JSON.stringify(s.options)&&(s.options=Lo(O),E(e.defaultIndex))},f=O=>{r||e.readonly||(l=null,s.duration=rp,E(O,!0))},g=O=>En(O)&&e.textKey in O?O[e.textKey]:O,h=O=>Gt(Math.round(-O/e.itemHeight),0,d()-1),y=(O,A)=>{const P=Math.abs(O/A);O=s.offset+P/.003*(O<0?-1:1);const D=h(O);s.duration=+e.swipeDuration,E(D,!0)},b=()=>{r=!1,s.duration=0,l&&(l(),l=null)},p=O=>{if(!e.readonly){if(c.start(O),r){const A=D5(u.value);s.offset=Math.min(0,A-v()),a=s.offset}else a=s.offset;s.duration=0,i=Date.now(),o=a,l=null}},C=O=>{if(e.readonly)return;c.move(O),c.isVertical()&&(r=!0,Ct(O,!0)),s.offset=Gt(a+c.deltaY.value,-(d()*e.itemHeight),e.itemHeight);const A=Date.now();A-i>ap&&(i=A,o=s.offset)},w=()=>{if(e.readonly)return;const O=s.offset-o,A=Date.now()-i;if(A<ap&&Math.abs(O)>A5){y(O,A);return}const D=h(s.offset);s.duration=rp,E(D,!0),setTimeout(()=>{r=!1},0)},k=()=>{const O={height:`${e.itemHeight}px`};return s.options.map((A,P)=>{const D=g(A),I=Iu(A),x={role:"button",style:O,tabindex:I?-1:0,class:Pu("item",{disabled:I,selected:P===s.index}),onClick:()=>f(P)},L={class:"van-ellipsis",[e.allowHtml?"innerHTML":"textContent"]:D};return R("li",x,[n.option?n.option(A):R("div",L,null)])})},_=O=>{const{options:A}=s;for(let P=0;P<A.length;P++)if(g(A[P])===O)return E(P)},T=()=>s.options[s.index];return E(s.index),qt(_1),ot({state:s,setIndex:E,getValue:T,setValue:_,setOptions:m,stopMomentum:b}),oe(()=>e.initialOptions,m),oe(()=>e.defaultIndex,O=>E(O)),()=>R("div",{class:[Pu(),e.className],onTouchstart:p,onTouchmove:C,onTouchend:w,onTouchcancel:w},[R("ul",{ref:u,style:{transform:`translate3d(0, ${s.offset+v()}px, 0)`,transitionDuration:`${s.duration}ms`,transitionProperty:s.duration?"all":"none"},class:Pu("wrapper"),onTransitionend:b},[k()])])}});const[I5,or,ip]=ve("picker"),jl={title:String,loading:Boolean,readonly:Boolean,allowHtml:Boolean,itemHeight:Pe(44),showToolbar:ce,swipeDuration:Pe(1e3),visibleItemCount:Pe(6),cancelButtonText:String,confirmButtonText:String},L5=xe({},jl,{columns:jt(),valueKey:String,defaultIndex:Pe(0),toolbarPosition:we("top"),columnsFieldNames:Object});var R5=ee({name:I5,props:L5,emits:["confirm","cancel","change"],setup(e,{emit:t,slots:n}){const r=q(!1),a=q([]),{text:i,values:o,children:l}=xe({text:e.valueKey||"text",values:"values",children:"children"},e.columnsFieldNames),{children:u,linkChildren:s}=Jt(_1);s();const c=N(()=>Qd(e.itemHeight)),d=N(()=>{const F=e.columns[0];if(typeof F=="object"){if(l in F)return"cascade";if(o in F)return"object"}return"plain"}),v=()=>{var F;const U=[];let B={[l]:e.columns};for(;B&&B[l];){const K=B[l];let V=(F=B.defaultIndex)!=null?F:+e.defaultIndex;for(;K[V]&&K[V].disabled;)if(V<K.length-1)V++;else{V=0;break}U.push({[o]:B[l],className:B.className,defaultIndex:V}),B=K[V]}a.value=U},S=()=>{const{columns:F}=e;d.value==="plain"?a.value=[{[o]:F}]:d.value==="cascade"?v():a.value=F,r.value=a.value.some(U=>U[o]&&U[o].length!==0)},E=()=>u.map(F=>F.state.index),m=(F,U)=>{const B=u[F];B&&(B.setOptions(U),r.value=!0)},f=F=>{let U={[l]:e.columns};const B=E();for(let K=0;K<=F;K++)U=U[l][B[K]];for(;U&&U[l];)F++,m(F,U[l]),U=U[l][U.defaultIndex||0]},g=F=>u[F],h=F=>{const U=g(F);if(U)return U.getValue()},y=(F,U)=>{const B=g(F);B&&(B.setValue(U),d.value==="cascade"&&f(F))},b=F=>{const U=g(F);if(U)return U.state.index},p=(F,U)=>{const B=g(F);B&&(B.setIndex(U),d.value==="cascade"&&f(F))},C=F=>{const U=g(F);if(U)return U.state.options},w=()=>u.map(F=>F.getValue()),k=F=>{F.forEach((U,B)=>{y(B,U)})},_=F=>{F.forEach((U,B)=>{p(B,U)})},T=F=>{d.value==="plain"?t(F,h(0),b(0)):t(F,w(),E())},O=F=>{d.value==="cascade"&&f(F),d.value==="plain"?t("change",h(0),b(0)):t("change",w(),F)},A=()=>{u.forEach(F=>F.stopMomentum()),T("confirm")},P=()=>T("cancel"),D=()=>{if(n.title)return n.title();if(e.title)return R("div",{class:[or("title"),"van-ellipsis"]},[e.title])},I=()=>{const F=e.cancelButtonText||ip("cancel");return R("button",{type:"button",class:[or("cancel"),tn],onClick:P},[n.cancel?n.cancel():F])},x=()=>{const F=e.confirmButtonText||ip("confirm");return R("button",{type:"button",class:[or("confirm"),tn],onClick:A},[n.confirm?n.confirm():F])},L=()=>{if(e.showToolbar){const F=n.toolbar||n.default;return R("div",{class:or("toolbar")},[F?F():[I(),D(),x()]])}},$=()=>a.value.map((F,U)=>{var B;return R(P5,{textKey:i,readonly:e.readonly,allowHtml:e.allowHtml,className:F.className,itemHeight:c.value,defaultIndex:(B=F.defaultIndex)!=null?B:+e.defaultIndex,swipeDuration:e.swipeDuration,initialOptions:F[o],visibleItemCount:e.visibleItemCount,onChange:()=>O(U)},{option:n.option})}),M=F=>{if(r.value){const U={height:`${c.value}px`},B={backgroundSize:`100% ${(F-c.value)/2}px`};return[R("div",{class:or("mask"),style:B},null),R("div",{class:[FU,or("frame")],style:U},null)]}},j=()=>{const F=c.value*+e.visibleItemCount,U={height:`${F}px`};return R("div",{class:or("columns"),style:U,onTouchmove:Ct},[$(),M(F)])};return oe(()=>e.columns,S,{immediate:!0}),ot({confirm:A,getValues:w,setValues:k,getIndexes:E,setIndexes:_,getColumnIndex:b,setColumnIndex:p,getColumnValue:h,setColumnValue:y,getColumnValues:C,setColumnValues:m}),()=>{var F,U;return R("div",{class:or()},[e.toolbarPosition==="top"?L():null,e.loading?R(Fn,{class:or("loading")},null):null,(F=n["columns-top"])==null?void 0:F.call(n),j(),(U=n["columns-bottom"])==null?void 0:U.call(n),e.toolbarPosition==="bottom"?L():null])}}});const Ul=Te(R5),[x5,$5]=ve("area"),Lu="000000",M5=["title","cancel","confirm","toolbar","columns-top","columns-bottom"],F5=["title","loading","readonly","itemHeight","swipeDuration","visibleItemCount","cancelButtonText","confirmButtonText"],B5=e=>e[0]==="9",N5=xe({},jl,{value:String,columnsNum:Pe(3),columnsPlaceholder:jt(),areaList:{type:Object,default:()=>({})},isOverseaCode:{type:Function,default:B5}});var j5=ee({name:x5,props:N5,emits:["change","confirm","cancel"],setup(e,{emit:t,slots:n}){const r=q(),a=Me({code:e.value,columns:[{values:[]},{values:[]},{values:[]}]}),i=N(()=>{const{areaList:h}=e;return{province:h.province_list||{},city:h.city_list||{},county:h.county_list||{}}}),o=N(()=>{const{columnsPlaceholder:h}=e;return{province:h[0]||"",city:h[1]||"",county:h[2]||""}}),l=()=>{if(e.columnsPlaceholder.length)return Lu;const{county:h,city:y}=i.value,b=Object.keys(h);if(b[0])return b[0];const p=Object.keys(y);return p[0]?p[0]:""},u=(h,y)=>{let b=[];if(h!=="province"&&!y)return b;const p=i.value[h];if(b=Object.keys(p).map(C=>({code:C,name:p[C]})),y&&(h==="city"&&e.isOverseaCode(y)&&(y="9"),b=b.filter(C=>C.code.indexOf(y)===0)),o.value[h]&&b.length){let C="";h==="city"?C=Lu.slice(2,4):h==="county"&&(C=Lu.slice(4,6)),b.unshift({code:y+C,name:o.value[h]})}return b},s=(h,y)=>{let b=y.length;h==="province"&&(b=e.isOverseaCode(y)?1:2),h==="city"&&(b=4),y=y.slice(0,b);const p=u(h,b>2?y.slice(0,b-2):"");for(let C=0;C<p.length;C++)if(p[C].code.slice(0,b)===y)return C;return 0},c=()=>{const h=r.value;if(!h)return;let y=a.code||l();const b=u("province"),p=u("city",y.slice(0,2));h.setColumnValues(0,b),h.setColumnValues(1,p),p.length&&y.slice(2,4)==="00"&&!e.isOverseaCode(y)&&([{code:y}]=p),h.setColumnValues(2,u("county",y.slice(0,4))),h.setIndexes([s("province",y),s("city",y),s("county",y)])},d=h=>h.map((y,b)=>(y&&(y=Lo(y),(!y.code||y.name===e.columnsPlaceholder[b])&&(y.code="",y.name="")),y)),v=()=>{if(r.value){const h=r.value.getValues().filter(Boolean);return d(h)}return[]},S=()=>{const h=v(),y={code:"",country:"",province:"",city:"",county:""};if(!h.length)return y;const b=h.map(C=>C.name),p=h.filter(C=>C.code);return y.code=p.length?p[p.length-1].code:"",e.isOverseaCode(y.code)?(y.country=b[1]||"",y.province=b[2]||""):(y.province=b[0]||"",y.city=b[1]||"",y.county=b[2]||""),y},E=(h="")=>{a.code=h,c()},m=(h,y)=>{if(a.code=h[y].code,c(),r.value){const b=d(r.value.getValues());t("change",b,y)}},f=(h,y)=>{c(),t("confirm",d(h),y)},g=(...h)=>t("cancel",...h);return et(c),oe(()=>e.value,h=>{a.code=h,c()}),oe(()=>e.areaList,c,{deep:!0}),oe(()=>e.columnsNum,()=>{Re(c)}),ot({reset:E,getArea:S,getValues:v}),()=>{const h=a.columns.slice(0,+e.columnsNum);return R(Ul,We({ref:r,class:$5(),columns:h,columnsFieldNames:{text:"name"},onChange:m,onCancel:g,onConfirm:f},vt(e,F5)),vt(n,M5))}}});const A1=Te(j5),[U5,Ba]=ve("cell"),Vl={icon:String,size:String,title:pe,value:pe,label:pe,center:Boolean,isLink:Boolean,border:ce,required:Boolean,iconPrefix:String,valueClass:mt,labelClass:mt,titleClass:mt,titleStyle:null,arrowDirection:String,clickable:{type:Boolean,default:null}},V5=xe({},Vl,Jr);var H5=ee({name:U5,props:V5,setup(e,{slots:t}){const n=Aa(),r=()=>{if(t.label||nt(e.label))return R("div",{class:[Ba("label"),e.labelClass]},[t.label?t.label():e.label])},a=()=>{if(t.title||nt(e.title))return R("div",{class:[Ba("title"),e.titleClass],style:e.titleStyle},[t.title?t.title():R("span",null,[e.title]),r()])},i=()=>{const u=t.value||t.default;if(u||nt(e.value)){const c=t.title||nt(e.title);return R("div",{class:[Ba("value",{alone:!c}),e.valueClass]},[u?u():R("span",null,[e.value])])}},o=()=>{if(t.icon)return t.icon();if(e.icon)return R(Ke,{name:e.icon,class:Ba("left-icon"),classPrefix:e.iconPrefix},null)},l=()=>{if(t["right-icon"])return t["right-icon"]();if(e.isLink){const u=e.arrowDirection?`arrow-${e.arrowDirection}`:"arrow";return R(Ke,{name:u,class:Ba("right-icon")},null)}};return()=>{var u,s;const{size:c,center:d,border:v,isLink:S,required:E}=e,m=(u=e.clickable)!=null?u:S,f={center:d,required:E,clickable:m,borderless:!v};return c&&(f[c]=!!c),R("div",{class:Ba(f),role:m?"button":void 0,tabindex:m?0:void 0,onClick:n},[o(),a(),i(),l(),(s=t.extra)==null?void 0:s.call(t)])}}});const Nn=Te(H5),[z5,G5]=ve("form"),K5={colon:Boolean,disabled:Boolean,readonly:Boolean,showError:Boolean,labelWidth:pe,labelAlign:String,inputAlign:String,scrollToError:Boolean,validateFirst:Boolean,submitOnEnter:ce,validateTrigger:we("onBlur"),showErrorMessage:ce,errorMessageAlign:String};var W5=ee({name:z5,props:K5,emits:["submit","failed"],setup(e,{emit:t,slots:n}){const{children:r,linkChildren:a}=Jt(y1),i=m=>m?r.filter(f=>m.includes(f.name)):r,o=m=>new Promise((f,g)=>{const h=[];i(m).reduce((b,p)=>b.then(()=>{if(!h.length)return p.validate().then(C=>{C&&h.push(C)})}),Promise.resolve()).then(()=>{h.length?g(h):f()})}),l=m=>new Promise((f,g)=>{const h=i(m);Promise.all(h.map(y=>y.validate())).then(y=>{y=y.filter(Boolean),y.length?g(y):f()})}),u=m=>{const f=r.find(g=>g.name===m);return f?new Promise((g,h)=>{f.validate().then(y=>{y?h(y):g()})}):Promise.reject()},s=m=>typeof m=="string"?u(m):e.validateFirst?o(m):l(m),c=m=>{typeof m=="string"&&(m=[m]),i(m).forEach(g=>{g.resetValidation()})},d=(m,f)=>{r.some(g=>g.name===m?(g.$el.scrollIntoView(f),!0):!1)},v=()=>r.reduce((m,f)=>(m[f.name]=f.formValue.value,m),{}),S=()=>{const m=v();s().then(()=>t("submit",m)).catch(f=>{t("failed",{values:m,errors:f}),e.scrollToError&&f[0].name&&d(f[0].name)})},E=m=>{Ct(m),S()};return a({props:e}),ot({submit:S,validate:s,getValues:v,scrollToField:d,resetValidation:c}),()=>{var m;return R("form",{class:G5(),onSubmit:E},[(m=n.default)==null?void 0:m.call(n)])}}});const of=Te(W5);function Y5(e){return Array.isArray(e)?!e.length:e===0?!1:!e}function q5(e,t){return!(t.required&&Y5(e)||t.pattern&&!t.pattern.test(String(e)))}function X5(e,t){return new Promise(n=>{const r=t.validator(e,t);if(Zd(r)){r.then(n);return}n(r)})}function op(e,t){const{message:n}=t;return mi(n)?n(e,t):n||""}function Z5({target:e}){e.composing=!0}function sp({target:e}){e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}function J5(e,t){const n=zo();e.style.height="auto";let r=e.scrollHeight;if(En(t)){const{maxHeight:a,minHeight:i}=t;a!==void 0&&(r=Math.min(r,a)),i!==void 0&&(r=Math.max(r,i))}r&&(e.style.height=`${r}px`,Fl(n))}function Q5(e){return e==="number"?{type:"text",inputmode:"decimal"}:e==="digit"?{type:"tel",inputmode:"numeric"}:{type:e}}function Ru(e){return[...e].length}function e8(e,t){return[...e].slice(0,t).join("")}let t8=0;function Go(){const e=Be(),{name:t="unknown"}=(e==null?void 0:e.type)||{};return`${t}-${++t8}`}const[n8,yn]=ve("field"),sf={id:String,name:String,leftIcon:String,rightIcon:String,autofocus:Boolean,clearable:Boolean,maxlength:pe,formatter:Function,clearIcon:we("clear"),modelValue:Pe(""),inputAlign:String,placeholder:String,autocomplete:String,errorMessage:String,enterkeyhint:String,clearTrigger:we("focus"),formatTrigger:we("onChange"),error:{type:Boolean,default:null},disabled:{type:Boolean,default:null},readonly:{type:Boolean,default:null}},r8=xe({},Vl,sf,{rows:pe,type:we("text"),rules:Array,autosize:[Boolean,Object],labelWidth:pe,labelClass:mt,labelAlign:String,showWordLimit:Boolean,errorMessageAlign:String,colon:{type:Boolean,default:null}});var a8=ee({name:n8,props:r8,emits:["blur","focus","clear","keypress","click-input","click-left-icon","click-right-icon","update:modelValue"],setup(e,{emit:t,slots:n}){const r=Go(),a=Me({focused:!1,validateFailed:!1,validateMessage:""}),i=q(),o=q(),{parent:l}=qt(y1),u=()=>{var B;return String((B=e.modelValue)!=null?B:"")},s=B=>{if(nt(e[B]))return e[B];if(l&&nt(l.props[B]))return l.props[B]},c=N(()=>{const B=s("readonly");if(e.clearable&&!B){const K=u()!=="",V=e.clearTrigger==="always"||e.clearTrigger==="focus"&&a.focused;return K&&V}return!1}),d=N(()=>o.value&&n.input?o.value():e.modelValue),v=B=>B.reduce((K,V)=>K.then(()=>{if(a.validateFailed)return;let{value:X}=d;if(V.formatter&&(X=V.formatter(X,V)),!q5(X,V)){a.validateFailed=!0,a.validateMessage=op(X,V);return}if(V.validator)return X5(X,V).then(Z=>{Z&&typeof Z=="string"?(a.validateFailed=!0,a.validateMessage=Z):Z===!1&&(a.validateFailed=!0,a.validateMessage=op(X,V))})}),Promise.resolve()),S=()=>{a.validateFailed&&(a.validateFailed=!1,a.validateMessage="")},E=(B=e.rules)=>new Promise(K=>{S(),B?v(B).then(()=>{a.validateFailed?K({name:e.name,message:a.validateMessage}):K()}):K()}),m=B=>{if(l&&e.rules){const K=l.props.validateTrigger===B,V=e.rules.filter(X=>X.trigger?X.trigger===B:K);V.length&&E(V)}},f=B=>{const{maxlength:K}=e;if(nt(K)&&Ru(B)>K){const V=u();return V&&Ru(V)===+K?V:e8(B,+K)}return B},g=(B,K="onChange")=>{if(B=f(B),e.type==="number"||e.type==="digit"){const V=e.type==="number";B=Uc(B,V,V)}e.formatter&&K===e.formatTrigger&&(B=e.formatter(B)),i.value&&i.value.value!==B&&(i.value.value=B),B!==e.modelValue&&t("update:modelValue",B)},h=B=>{B.target.composing||g(B.target.value)},y=()=>{var B;return(B=i.value)==null?void 0:B.blur()},b=()=>{var B;return(B=i.value)==null?void 0:B.focus()},p=()=>{const B=i.value;e.type==="textarea"&&e.autosize&&B&&J5(B,e.autosize)},C=B=>{a.focused=!0,t("focus",B),Re(p),s("readonly")&&y()},w=B=>{s("readonly")||(a.focused=!1,g(u(),"onBlur"),t("blur",B),m("onBlur"),Re(p),d1())},k=B=>t("click-input",B),_=B=>t("click-left-icon",B),T=B=>t("click-right-icon",B),O=B=>{Ct(B),t("update:modelValue",""),t("clear",B)},A=N(()=>{if(typeof e.error=="boolean")return e.error;if(l&&l.props.showError&&a.validateFailed)return!0}),P=N(()=>{const B=s("labelWidth");if(B)return{width:at(B)}}),D=B=>{B.keyCode===13&&(!(l&&l.props.submitOnEnter)&&e.type!=="textarea"&&Ct(B),e.type==="search"&&y()),t("keypress",B)},I=()=>e.id||`${r}-input`,x=()=>{const B=yn("control",[s("inputAlign"),{error:A.value,custom:!!n.input,"min-height":e.type==="textarea"&&!e.autosize}]);if(n.input)return R("div",{class:B,onClick:k},[n.input()]);const K={id:I(),ref:i,name:e.name,rows:e.rows!==void 0?+e.rows:void 0,class:B,value:e.modelValue,disabled:s("disabled"),readonly:s("readonly"),autofocus:e.autofocus,placeholder:e.placeholder,autocomplete:e.autocomplete,enterkeyhint:e.enterkeyhint,"aria-labelledby":e.label?`${r}-label`:void 0,onBlur:w,onFocus:C,onInput:h,onClick:k,onChange:sp,onKeypress:D,onCompositionend:sp,onCompositionstart:Z5};return e.type==="textarea"?R("textarea",K,null):R("input",We(Q5(e.type),K),null)},L=()=>{const B=n["left-icon"];if(e.leftIcon||B)return R("div",{class:yn("left-icon"),onClick:_},[B?B():R(Ke,{name:e.leftIcon,classPrefix:e.iconPrefix},null)])},$=()=>{const B=n["right-icon"];if(e.rightIcon||B)return R("div",{class:yn("right-icon"),onClick:T},[B?B():R(Ke,{name:e.rightIcon,classPrefix:e.iconPrefix},null)])},M=()=>{if(e.showWordLimit&&e.maxlength){const B=Ru(u());return R("div",{class:yn("word-limit")},[R("span",{class:yn("word-num")},[B]),tt("/"),e.maxlength])}},j=()=>{if(l&&l.props.showErrorMessage===!1)return;const B=e.errorMessage||a.validateMessage;if(B){const K=n["error-message"],V=s("errorMessageAlign");return R("div",{class:yn("error-message",V)},[K?K({message:B}):B])}},F=()=>{const B=s("colon")?":":"";if(n.label)return[n.label(),B];if(e.label)return R("label",{id:`${r}-label`,for:I()},[e.label+B])},U=()=>[R("div",{class:yn("body")},[x(),c.value&&R(Ke,{name:e.clearIcon,class:yn("clear"),onTouchstart:O},null),$(),n.button&&R("div",{class:yn("button")},[n.button()])]),M(),j()];return ot({blur:y,focus:b,validate:E,formValue:d,resetValidation:S}),dt(l1,{customValue:o,resetValidation:S,validateWithTrigger:m}),oe(()=>e.modelValue,()=>{g(u()),S(),m("onChange"),Re(p)}),et(()=>{g(u(),e.formatTrigger),Re(p)}),()=>{const B=s("disabled"),K=s("labelAlign"),V=F(),X=L();return R(Nn,{size:e.size,icon:e.leftIcon,class:yn({error:A.value,disabled:B,[`label-${K}`]:K}),center:e.center,border:e.border,isLink:e.isLink,clickable:e.clickable,titleStyle:P.value,valueClass:yn("value"),titleClass:[yn("label",[K,{required:e.required}]),e.labelClass],arrowDirection:e.arrowDirection},{icon:X?()=>X:null,title:V?()=>V:null,value:U,extra:n.extra})}}});const Zn=Te(a8);function Hl(){const e=Me({show:!1}),t=a=>{e.show=a},n=a=>{xe(e,a,{transitionAppear:!0}),t(!0)},r=()=>t(!1);return ot({open:n,close:r,toggle:t}),{open:n,close:r,state:e,toggle:t}}function zl(e){const t=jo(e),n=document.createElement("div");return document.body.appendChild(n),{instance:t.mount(n),unmount(){t.unmount(),document.body.removeChild(n)}}}let eo=0;function i8(e){e?(eo||document.body.classList.add("van-toast--unclickable"),eo++):eo&&(eo--,eo||document.body.classList.remove("van-toast--unclickable"))}const[o8,to]=ve("toast"),s8=["show","overlay","teleport","transition","overlayClass","overlayStyle","closeOnClickOverlay"],l8={icon:String,show:Boolean,type:we("text"),overlay:Boolean,message:pe,iconSize:pe,duration:Jn(2e3),position:we("middle"),teleport:[String,Object],className:mt,iconPrefix:String,transition:we("van-fade"),loadingType:String,forbidClick:Boolean,overlayClass:mt,overlayStyle:Object,closeOnClick:Boolean,closeOnClickOverlay:Boolean};var D1=ee({name:o8,props:l8,emits:["update:show"],setup(e,{emit:t}){let n,r=!1;const a=()=>{const c=e.show&&e.forbidClick;r!==c&&(r=c,i8(r))},i=c=>t("update:show",c),o=()=>{e.closeOnClick&&i(!1)},l=()=>clearTimeout(n),u=()=>{const{icon:c,type:d,iconSize:v,iconPrefix:S,loadingType:E}=e;if(c||d==="success"||d==="fail")return R(Ke,{name:c||d,size:v,class:to("icon"),classPrefix:S},null);if(d==="loading")return R(Fn,{class:to("loading"),size:v,type:E},null)},s=()=>{const{type:c,message:d}=e;if(nt(d)&&d!=="")return c==="html"?R("div",{key:0,class:to("text"),innerHTML:String(d)},null):R("div",{class:to("text")},[d])};return oe(()=>[e.show,e.forbidClick],a),oe(()=>[e.show,e.type,e.message,e.duration],()=>{l(),e.show&&e.duration>0&&(n=setTimeout(()=>{i(!1)},e.duration))}),et(a),$n(a),()=>R(Bn,We({class:[to([e.position,{[e.type]:!e.icon}]),e.className],lockScroll:!1,onClick:o,onClosed:l,"onUpdate:show":i},vt(e,s8)),{default:()=>[u(),s()]})}});const P1={icon:"",type:"text",message:"",className:"",overlay:!1,onClose:void 0,onOpened:void 0,duration:2e3,teleport:"body",iconSize:void 0,iconPrefix:void 0,position:"middle",transition:"van-fade",forbidClick:!1,loadingType:void 0,overlayClass:"",overlayStyle:void 0,closeOnClick:!1,closeOnClickOverlay:!1};let Ln=[],Gl=!1,rl=xe({},P1);const al=new Map;function I1(e){return En(e)?e:{message:e}}function u8(){const{instance:e,unmount:t}=zl({setup(){const n=q(""),{open:r,state:a,close:i,toggle:o}=Hl(),l=()=>{Gl&&(Ln=Ln.filter(s=>s!==e),t())},u=()=>R(D1,We(a,{onClosed:l,"onUpdate:show":o}),null);return oe(n,s=>{a.message=s}),Be().render=u,{open:r,clear:i,message:n}}});return e}function c8(){if(!Ln.length||Gl){const e=u8();Ln.push(e)}return Ln[Ln.length-1]}function rn(e={}){if(!Gr)return{};const t=c8(),n=I1(e);return t.open(xe({},rl,al.get(n.type||rl.type),n)),t}const lf=e=>t=>rn(xe({type:e},I1(t)));rn.loading=lf("loading");rn.success=lf("success");rn.fail=lf("fail");rn.clear=e=>{var t;Ln.length&&(e?(Ln.forEach(n=>{n.clear()}),Ln=[]):Gl?(t=Ln.shift())==null||t.clear():Ln[0].clear())};function d8(e,t){typeof e=="string"?al.set(e,t):xe(rl,e)}rn.setDefaultOptions=d8;rn.resetDefaultOptions=e=>{typeof e=="string"?al.delete(e):(rl=xe({},P1),al.clear())};rn.allowMultiple=(e=!0)=>{Gl=e};rn.install=e=>{e.use(Te(D1)),e.config.globalProperties.$toast=rn};const[f8,xu]=ve("switch"),h8={size:pe,loading:Boolean,disabled:Boolean,modelValue:mt,activeColor:String,inactiveColor:String,activeValue:{type:mt,default:!0},inactiveValue:{type:mt,default:!1}};var v8=ee({name:f8,props:h8,emits:["change","update:modelValue"],setup(e,{emit:t}){const n=()=>e.modelValue===e.activeValue,r=()=>{if(!e.disabled&&!e.loading){const i=n()?e.inactiveValue:e.activeValue;t("update:modelValue",i),t("change",i)}},a=()=>{if(e.loading){const i=n()?e.activeColor:e.inactiveColor;return R(Fn,{class:xu("loading"),color:i},null)}};return Yr(()=>e.modelValue),()=>{const{size:i,loading:o,disabled:l,activeColor:u,inactiveColor:s}=e,c=n(),d={fontSize:at(i),backgroundColor:c?u:s};return R("div",{role:"switch",class:xu({on:c,loading:o,disabled:l}),style:d,tabindex:l?void 0:0,"aria-checked":c,onClick:r},[R("div",{class:xu("node")},[a()])])}}});const uf=Te(v8),[m8,$u]=ve("address-edit-detail"),lp=ve("address-edit")[2];var g8=ee({name:m8,props:{show:Boolean,rows:pe,value:String,rules:Array,focused:Boolean,maxlength:pe,searchResult:Array,showSearchResult:Boolean},emits:["blur","focus","input","select-search"],setup(e,{emit:t}){const n=q(),r=()=>e.focused&&e.searchResult&&e.showSearchResult,a=c=>{t("select-search",c),t("input",`${c.address||""} ${c.name||""}`.trim())},i=c=>{if(c.name){const d=c.name.replace(e.value,`<span class=${$u("keyword")}>${e.value}</span>`);return R("div",{innerHTML:d},null)}},o=()=>{if(!r())return;const{searchResult:c}=e;return c.map(d=>R(Nn,{clickable:!0,key:d.name+d.address,icon:"location-o",label:d.address,class:$u("search-item"),border:!1,onClick:()=>a(d)},{title:()=>i(d)}))},l=c=>t("blur",c),u=c=>t("focus",c),s=c=>t("input",c);return()=>{if(e.show)return R(Ce,null,[R(Zn,{autosize:!0,clearable:!0,ref:n,class:$u(),rows:e.rows,type:"textarea",rules:e.rules,label:lp("addressDetail"),border:!r(),maxlength:e.maxlength,modelValue:e.value,placeholder:lp("addressDetail"),onBlur:l,onFocus:u,"onUpdate:modelValue":s},null),o()])}}});const[p8,Na,Pt]=ve("address-edit"),L1={name:"",tel:"",city:"",county:"",country:"",province:"",areaCode:"",isDefault:!1,postalCode:"",addressDetail:""},y8=e=>/^\d{6}$/.test(e),b8={areaList:Object,isSaving:Boolean,isDeleting:Boolean,validator:Function,showArea:ce,showDetail:ce,showDelete:Boolean,showPostal:Boolean,disableArea:Boolean,searchResult:Array,telMaxlength:pe,showSetDefault:Boolean,saveButtonText:String,areaPlaceholder:String,deleteButtonText:String,showSearchResult:Boolean,detailRows:Pe(1),detailMaxlength:Pe(200),areaColumnsPlaceholder:jt(),addressInfo:{type:Object,default:()=>xe({},L1)},telValidator:{type:Function,default:u1},postalValidator:{type:Function,default:y8}};var S8=ee({name:p8,props:b8,emits:["save","focus","delete","click-area","change-area","change-detail","select-search","change-default"],setup(e,{emit:t,slots:n}){const r=q(),a=Me({}),i=q(!1),o=q(!1),l=N(()=>En(e.areaList)&&Object.keys(e.areaList).length),u=N(()=>{const{country:C,province:w,city:k,county:_,areaCode:T}=a;if(T){const O=[C,w,k,_];return w&&w===k&&O.splice(1,1),O.filter(Boolean).join("/")}return""}),s=N(()=>{var C;return((C=e.searchResult)==null?void 0:C.length)&&o.value}),c=()=>{if(r.value){const C=r.value.getArea();C.areaCode=C.code,delete C.code,xe(a,C)}},d=C=>{o.value=C==="addressDetail",t("focus",C)},v=N(()=>{const{validator:C,telValidator:w,postalValidator:k}=e,_=(T,O)=>({validator:A=>{if(C){const P=C(T,A);if(P)return P}return A?!0:O}});return{name:[_("name",Pt("nameEmpty"))],tel:[_("tel",Pt("telInvalid")),{validator:w,message:Pt("telInvalid")}],areaCode:[_("areaCode",Pt("areaEmpty"))],addressDetail:[_("addressDetail",Pt("addressEmpty"))],postalCode:[_("addressDetail",Pt("postalEmpty")),{validator:k,message:Pt("postalEmpty")}]}}),S=()=>t("save",a),E=C=>{a.addressDetail=C,t("change-detail",C)},m=C=>{C=C.filter(Boolean),C.some(w=>!w.code)?rn(Pt("areaEmpty")):(i.value=!1,c(),t("change-area",C))},f=()=>t("delete",a),g=()=>{var C;return((C=r.value)==null?void 0:C.getValues())||[]},h=C=>{a.areaCode=C||"",C&&Re(c)},y=()=>{setTimeout(()=>{o.value=!1})},b=C=>{a.addressDetail=C},p=()=>{if(e.showSetDefault){const C={"right-icon":()=>R(uf,{modelValue:a.isDefault,"onUpdate:modelValue":w=>a.isDefault=w,size:"24",onChange:w=>t("change-default",w)},null)};return Ge(R(Nn,{center:!0,title:Pt("defaultAddress"),class:Na("default")},C),[[qe,!s.value]])}};return ot({getArea:g,setAreaCode:h,setAddressDetail:b}),oe(()=>e.areaList,()=>h(a.areaCode)),oe(()=>e.addressInfo,C=>{xe(a,L1,C),h(C.areaCode)},{deep:!0,immediate:!0}),()=>{const{disableArea:C}=e;return R(of,{class:Na(),onSubmit:S},{default:()=>{var w;return[R("div",{class:Na("fields")},[R(Zn,{modelValue:a.name,"onUpdate:modelValue":k=>a.name=k,clearable:!0,label:Pt("name"),rules:v.value.name,placeholder:Pt("name"),onFocus:()=>d("name")},null),R(Zn,{modelValue:a.tel,"onUpdate:modelValue":k=>a.tel=k,clearable:!0,type:"tel",label:Pt("tel"),rules:v.value.tel,maxlength:e.telMaxlength,placeholder:Pt("tel"),onFocus:()=>d("tel")},null),Ge(R(Zn,{readonly:!0,label:Pt("area"),"is-link":!C,modelValue:u.value,rules:v.value.areaCode,placeholder:e.areaPlaceholder||Pt("area"),onFocus:()=>d("areaCode"),onClick:()=>{t("click-area"),i.value=!C}},null),[[qe,e.showArea]]),R(g8,{show:e.showDetail,rows:e.detailRows,rules:v.value.addressDetail,value:a.addressDetail,focused:o.value,maxlength:e.detailMaxlength,searchResult:e.searchResult,showSearchResult:e.showSearchResult,onBlur:y,onFocus:()=>d("addressDetail"),onInput:E,"onSelect-search":k=>t("select-search",k)},null),e.showPostal&&Ge(R(Zn,{modelValue:a.postalCode,"onUpdate:modelValue":k=>a.postalCode=k,type:"tel",rules:v.value.postalCode,label:Pt("postal"),maxlength:"6",placeholder:Pt("postal"),onFocus:()=>d("postalCode")},null),[[qe,!s.value]]),(w=n.default)==null?void 0:w.call(n)]),p(),Ge(R("div",{class:Na("buttons")},[R(nn,{block:!0,round:!0,type:"danger",text:e.saveButtonText||Pt("save"),class:Na("button"),loading:e.isSaving,nativeType:"submit"},null),e.showDelete&&R(nn,{block:!0,round:!0,class:Na("button"),loading:e.isDeleting,text:e.deleteButtonText||Pt("delete"),onClick:f},null)]),[[qe,!s.value]]),R(Bn,{show:i.value,"onUpdate:show":k=>i.value=k,round:!0,teleport:"body",position:"bottom",lazyRender:!1},{default:()=>[R(A1,{ref:r,value:a.areaCode,loading:!l.value,areaList:e.areaList,columnsPlaceholder:e.areaColumnsPlaceholder,onConfirm:m,onCancel:()=>{i.value=!1}},null)]})]}})}}});const T8=Te(S8),[R1,C8]=ve("radio-group"),E8={disabled:Boolean,iconSize:pe,direction:String,modelValue:mt,checkedColor:String},x1=Symbol(R1);var w8=ee({name:R1,props:E8,emits:["change","update:modelValue"],setup(e,{emit:t,slots:n}){const{linkChildren:r}=Jt(x1),a=i=>t("update:modelValue",i);return oe(()=>e.modelValue,i=>t("change",i)),r({props:e,updateValue:a}),Yr(()=>e.modelValue),()=>{var i;return R("div",{class:C8([e.direction]),role:"radiogroup"},[(i=n.default)==null?void 0:i.call(n)])}}});const cf=Te(w8),[O8,up]=ve("tag"),k8={size:String,mark:Boolean,show:ce,type:we("default"),color:String,plain:Boolean,round:Boolean,textColor:String,closeable:Boolean};var _8=ee({name:O8,props:k8,emits:["close"],setup(e,{slots:t,emit:n}){const r=o=>{o.stopPropagation(),n("close",o)},a=()=>e.plain?{color:e.textColor||e.color,borderColor:e.color}:{color:e.textColor,background:e.color},i=()=>{var o;const{type:l,mark:u,plain:s,round:c,size:d,closeable:v}=e,S={mark:u,plain:s,round:c};d&&(S[d]=d);const E=v&&R(Ke,{name:"cross",class:[up("close"),tn],onClick:r},null);return R("span",{style:a(),class:up([S,l])},[(o=t.default)==null?void 0:o.call(t),E])};return()=>R(mn,{name:e.closeable?"van-fade":void 0},{default:()=>[e.show?i():null]})}});const Kl=Te(_8),df={name:mt,shape:we("round"),disabled:Boolean,iconSize:pe,modelValue:mt,checkedColor:String,labelPosition:String,labelDisabled:Boolean};var $1=ee({props:xe({},df,{bem:Rt(Function),role:String,parent:Object,checked:Boolean,bindGroup:ce}),emits:["click","toggle"],setup(e,{emit:t,slots:n}){const r=q(),a=d=>{if(e.parent&&e.bindGroup)return e.parent.props[d]},i=N(()=>a("disabled")||e.disabled),o=N(()=>a("direction")),l=N(()=>{const d=e.checkedColor||a("checkedColor");if(d&&e.checked&&!i.value)return{borderColor:d,backgroundColor:d}}),u=d=>{const{target:v}=d,S=r.value,E=S===v||(S==null?void 0:S.contains(v));!i.value&&(E||!e.labelDisabled)&&t("toggle"),t("click",d)},s=()=>{const{bem:d,shape:v,checked:S}=e,E=e.iconSize||a("iconSize");return R("div",{ref:r,class:d("icon",[v,{disabled:i.value,checked:S}]),style:{fontSize:at(E)}},[n.icon?n.icon({checked:S,disabled:i.value}):R(Ke,{name:"success",style:l.value},null)])},c=()=>{if(n.default)return R("span",{class:e.bem("label",[e.labelPosition,{disabled:i.value}])},[n.default()])};return()=>{const d=e.labelPosition==="left"?[c(),s()]:[s(),c()];return R("div",{role:e.role,class:e.bem([{disabled:i.value,"label-disabled":e.labelDisabled},o.value]),tabindex:i.value?void 0:0,"aria-checked":e.checked,onClick:u},[d])}}});const[A8,D8]=ve("radio");var P8=ee({name:A8,props:df,emits:["update:modelValue"],setup(e,{emit:t,slots:n}){const{parent:r}=qt(x1),a=()=>(r?r.props.modelValue:e.modelValue)===e.name,i=()=>{r?r.updateValue(e.name):t("update:modelValue",e.name)};return()=>R($1,We({bem:D8,role:"radio",parent:r,checked:a(),onToggle:i},e),vt(n,["default","icon"]))}});const ff=Te(P8),[I8,ja]=ve("address-item");var L8=ee({name:I8,props:{address:Rt(Object),disabled:Boolean,switchable:Boolean,defaultTagText:String},emits:["edit","click","select"],setup(e,{slots:t,emit:n}){const r=()=>{e.switchable&&n("select"),n("click")},a=()=>R(Ke,{name:"edit",class:ja("edit"),onClick:l=>{l.stopPropagation(),n("edit"),n("click")}},null),i=()=>{if(t.tag)return t.tag(e.address);if(e.address.isDefault&&e.defaultTagText)return R(Kl,{type:"danger",round:!0,class:ja("tag")},{default:()=>[e.defaultTagText]})},o=()=>{const{address:l,disabled:u,switchable:s}=e,c=[R("div",{class:ja("name")},[`${l.name} ${l.tel}`,i()]),R("div",{class:ja("address")},[l.address])];return s&&!u?R(ff,{name:l.id,iconSize:18},{default:()=>[c]}):c};return()=>{var l;const{disabled:u}=e;return R("div",{class:ja({disabled:u}),onClick:r},[R(Nn,{border:!1,valueClass:ja("value")},{value:o,"right-icon":a}),(l=t.bottom)==null?void 0:l.call(t,xe({},e.address,{disabled:u}))])}}});const[R8,vs,x8]=ve("address-list"),$8={list:jt(),modelValue:pe,switchable:ce,disabledText:String,disabledList:jt(),addButtonText:String,defaultTagText:String};var M8=ee({name:R8,props:$8,emits:["add","edit","select","click-item","edit-disabled","select-disabled","update:modelValue"],setup(e,{slots:t,emit:n}){const r=(o,l,u)=>{const s=()=>n(u?"edit-disabled":"edit",o,l),c=()=>n("click-item",o,l),d=()=>{n(u?"select-disabled":"select",o,l),u||n("update:modelValue",o.id)};return R(L8,{key:o.id,address:o,disabled:u,switchable:e.switchable,defaultTagText:e.defaultTagText,onEdit:s,onClick:c,onSelect:d},{bottom:t["item-bottom"],tag:t.tag})},a=(o,l)=>{if(o)return o.map((u,s)=>r(u,s,l))},i=()=>R("div",{class:[vs("bottom"),"van-safe-area-bottom"]},[R(nn,{round:!0,block:!0,type:"danger",text:e.addButtonText||x8("add"),class:vs("add"),onClick:()=>n("add")},null)]);return()=>{var o,l;const u=a(e.list),s=a(e.disabledList,!0),c=e.disabledText&&R("div",{class:vs("disabled-text")},[e.disabledText]);return R("div",{class:vs()},[(o=t.top)==null?void 0:o.call(t),R(cf,{modelValue:e.modelValue},{default:()=>[u]}),c,s,(l=t.default)==null?void 0:l.call(t),i()])}}});const F8=Te(M8),[B8,Lt,hr]=ve("calendar"),N8=e=>hr("monthTitle",e.getFullYear(),e.getMonth()+1);function zc(e,t){const n=e.getFullYear(),r=t.getFullYear();if(n===r){const a=e.getMonth(),i=t.getMonth();return a===i?0:a>i?1:-1}return n>r?1:-1}function dn(e,t){const n=zc(e,t);if(n===0){const r=e.getDate(),a=t.getDate();return r===a?0:r>a?1:-1}return n}const il=e=>new Date(e),cp=e=>Array.isArray(e)?e.map(il):il(e);function hf(e,t){const n=il(e);return n.setDate(n.getDate()+t),n}const Gc=e=>hf(e,-1),M1=e=>hf(e,1),Kc=()=>{const e=new Date;return e.setHours(0,0,0,0),e};function j8(e){const t=e[0].getTime();return(e[1].getTime()-t)/(1e3*60*60*24)+1}function Wl(){const e=q([]),t=[];return Vy(()=>{e.value=[]}),[e,r=>(t[r]||(t[r]=a=>{e.value[r]=a}),t[r])]}const F1=xe({},jl,{filter:Function,columnsOrder:Array,formatter:{type:Function,default:(e,t)=>t}}),B1=Object.keys(jl);function N1(e,t){if(e<0)return[];const n=Array(e);let r=-1;for(;++r<e;)n[r]=t(r);return n}function U8(e){if(!e)return 0;for(;Number.isNaN(parseInt(e,10));)if(e.length>1)e=e.slice(1);else return 0;return parseInt(e,10)}const Wc=(e,t)=>32-new Date(e,t-1,32).getDate(),j1=(e,t)=>{const n=["setValues","setIndexes","setColumnIndex","setColumnValue"];return new Proxy(e,{get:(r,a)=>n.includes(a)?(...i)=>{r[a](...i),t()}:r[a]})},U1=e=>{const t=q(),n=()=>{t.value=ft(e).height};return et(()=>{Re(n),setTimeout(n,100)}),t},[V8]=ve("calendar-day");var H8=ee({name:V8,props:{item:Rt(Object),color:String,index:Number,offset:Jn(0),rowHeight:String},emits:["click"],setup(e,{emit:t,slots:n}){const r=N(()=>{var u;const{item:s,index:c,color:d,offset:v,rowHeight:S}=e,E={height:S};if(s.type==="placeholder")return E.width="100%",E;if(c===0&&(E.marginLeft=`${100*v/7}%`),d)switch(s.type){case"end":case"start":case"start-end":case"multiple-middle":case"multiple-selected":E.background=d;break;case"middle":E.color=d;break}return v+(((u=s.date)==null?void 0:u.getDate())||1)>28&&(E.marginBottom=0),E}),a=()=>{e.item.type!=="disabled"&&t("click",e.item)},i=()=>{const{topInfo:u}=e.item;if(u||n["top-info"])return R("div",{class:Lt("top-info")},[n["top-info"]?n["top-info"](e.item):u])},o=()=>{const{bottomInfo:u}=e.item;if(u||n["bottom-info"])return R("div",{class:Lt("bottom-info")},[n["bottom-info"]?n["bottom-info"](e.item):u])},l=()=>{const{item:u,color:s,rowHeight:c}=e,{type:d,text:v}=u,S=[i(),v,o()];return d==="selected"?R("div",{class:Lt("selected-day"),style:{width:c,height:c,background:s}},[S]):S};return()=>{const{type:u,className:s}=e.item;return u==="placeholder"?R("div",{class:Lt("day"),style:r.value},null):R("div",{role:"gridcell",style:r.value,class:[Lt("day",u),s],tabindex:u==="disabled"?void 0:-1,onClick:a},[l()])}}});const[z8]=ve("calendar-month"),G8={date:Rt(Date),type:String,color:String,minDate:Rt(Date),maxDate:Rt(Date),showMark:Boolean,rowHeight:pe,formatter:Function,lazyRender:Boolean,currentDate:[Date,Array],allowSameDay:Boolean,showSubtitle:Boolean,showMonthTitle:Boolean,firstDayOfWeek:Number};var K8=ee({name:z8,props:G8,emits:["click","update-height"],setup(e,{emit:t,slots:n}){const[r,a]=hU(),i=q(),o=q(),l=U1(o),u=N(()=>N8(e.date)),s=N(()=>at(e.rowHeight)),c=N(()=>{const T=e.date.getDay();return e.firstDayOfWeek?(T+7-e.firstDayOfWeek)%7:T}),d=N(()=>Wc(e.date.getFullYear(),e.date.getMonth()+1)),v=N(()=>r.value||!e.lazyRender),S=()=>u.value,E=T=>{const O=A=>e.currentDate.some(P=>dn(P,A)===0);if(O(T)){const A=Gc(T),P=M1(T),D=O(A),I=O(P);return D&&I?"multiple-middle":D?"end":I?"start":"multiple-selected"}return""},m=T=>{const[O,A]=e.currentDate;if(!O)return"";const P=dn(T,O);if(!A)return P===0?"start":"";const D=dn(T,A);return e.allowSameDay&&P===0&&D===0?"start-end":P===0?"start":D===0?"end":P>0&&D<0?"middle":""},f=T=>{const{type:O,minDate:A,maxDate:P,currentDate:D}=e;if(dn(T,A)<0||dn(T,P)>0)return"disabled";if(D===null)return"";if(Array.isArray(D)){if(O==="multiple")return E(T);if(O==="range")return m(T)}else if(O==="single")return dn(T,D)===0?"selected":"";return""},g=T=>{if(e.type==="range"){if(T==="start"||T==="end")return hr(T);if(T==="start-end")return`${hr("start")}/${hr("end")}`}},h=()=>{if(e.showMonthTitle)return R("div",{class:Lt("month-title")},[u.value])},y=()=>{if(e.showMark&&v.value)return R("div",{class:Lt("month-mark")},[e.date.getMonth()+1])},b=N(()=>{const T=Math.ceil((d.value+c.value)/7);return Array(T).fill({type:"placeholder"})}),p=N(()=>{const T=[],O=e.date.getFullYear(),A=e.date.getMonth();for(let P=1;P<=d.value;P++){const D=new Date(O,A,P),I=f(D);let x={date:D,type:I,text:P,bottomInfo:g(I)};e.formatter&&(x=e.formatter(x)),T.push(x)}return T}),C=N(()=>p.value.filter(T=>T.type==="disabled")),w=(T,O)=>{if(i.value){const A=ft(i.value),P=b.value.length,I=(Math.ceil((O.getDate()+c.value)/7)-1)*A.height/P;nl(T,A.top+I+T.scrollTop-ft(T).top)}},k=(T,O)=>R(H8,{item:T,index:O,color:e.color,offset:c.value,rowHeight:s.value,onClick:A=>t("click",A)},vt(n,["top-info","bottom-info"])),_=()=>R("div",{ref:i,role:"grid",class:Lt("days")},[y(),(v.value?p:b).value.map(k)]);return ot({getTitle:S,getHeight:()=>l.value,setVisible:a,scrollToDate:w,disabledDays:C}),()=>R("div",{class:Lt("month"),ref:o},[h(),_()])}});const[W8]=ve("calendar-header");var Y8=ee({name:W8,props:{title:String,subtitle:String,showTitle:Boolean,showSubtitle:Boolean,firstDayOfWeek:Number},emits:["click-subtitle"],setup(e,{slots:t,emit:n}){const r=()=>{if(e.showTitle){const l=e.title||hr("title"),u=t.title?t.title():l;return R("div",{class:Lt("header-title")},[u])}},a=l=>n("click-subtitle",l),i=()=>{if(e.showSubtitle){const l=t.subtitle?t.subtitle():e.subtitle;return R("div",{class:Lt("header-subtitle"),onClick:a},[l])}},o=()=>{const{firstDayOfWeek:l}=e,u=hr("weekdays"),s=[...u.slice(l,7),...u.slice(0,l)];return R("div",{class:Lt("weekdays")},[s.map(c=>R("span",{class:Lt("weekday")},[c]))])};return()=>R("div",{class:Lt("header")},[r(),i(),o()])}});const q8={show:Boolean,type:we("single"),title:String,color:String,round:ce,readonly:Boolean,poppable:ce,maxRange:Pe(null),position:we("bottom"),teleport:[String,Object],showMark:ce,showTitle:ce,formatter:Function,rowHeight:pe,confirmText:String,rangePrompt:String,lazyRender:ce,showConfirm:ce,defaultDate:[Date,Array],allowSameDay:Boolean,showSubtitle:ce,closeOnPopstate:ce,showRangePrompt:ce,confirmDisabledText:String,closeOnClickOverlay:ce,safeAreaInsetTop:Boolean,safeAreaInsetBottom:ce,minDate:{type:Date,validator:To,default:Kc},maxDate:{type:Date,validator:To,default:()=>{const e=Kc();return new Date(e.getFullYear(),e.getMonth()+6,e.getDate())}},firstDayOfWeek:{type:pe,default:0,validator:e=>e>=0&&e<=6}};var X8=ee({name:B8,props:q8,emits:["select","confirm","unselect","month-show","over-range","update:show","click-subtitle"],setup(e,{emit:t,slots:n}){const r=(D,I=e.minDate,x=e.maxDate)=>dn(D,I)===-1?I:dn(D,x)===1?x:D,a=(D=e.defaultDate)=>{const{type:I,minDate:x,maxDate:L}=e;if(D===null)return D;const $=Kc();if(I==="range"){Array.isArray(D)||(D=[]);const M=r(D[0]||$,x,Gc(L)),j=r(D[1]||$,M1(x));return[M,j]}return I==="multiple"?Array.isArray(D)?D.map(M=>r(M)):[r($)]:((!D||Array.isArray(D))&&(D=$),r(D))};let i;const o=q(),l=q(""),u=q(a()),[s,c]=Wl(),d=N(()=>e.firstDayOfWeek?+e.firstDayOfWeek%7:0),v=N(()=>{const D=[],I=new Date(e.minDate);I.setDate(1);do D.push(new Date(I)),I.setMonth(I.getMonth()+1);while(zc(I,e.maxDate)!==1);return D}),S=N(()=>{if(u.value){if(e.type==="range")return!u.value[0]||!u.value[1];if(e.type==="multiple")return!u.value.length}return!u.value}),E=()=>{const D=jr(o.value),I=D+i,x=v.value.map((F,U)=>s.value[U].getHeight()),L=x.reduce((F,U)=>F+U,0);if(I>L&&D>0)return;let $=0,M;const j=[-1,-1];for(let F=0;F<v.value.length;F++){const U=s.value[F];$<=I&&$+x[F]>=D&&(j[1]=F,M||(M=U,j[0]=F),s.value[F].showed||(s.value[F].showed=!0,t("month-show",{date:U.date,title:U.getTitle()}))),$+=x[F]}v.value.forEach((F,U)=>{const B=U>=j[0]-1&&U<=j[1]+1;s.value[U].setVisible(B)}),M&&(l.value=M.getTitle())},m=D=>{en(()=>{v.value.some((I,x)=>zc(I,D)===0?(o.value&&s.value[x].scrollToDate(o.value,D),!0):!1),E()})},f=()=>{if(!(e.poppable&&!e.show))if(u.value){const D=e.type==="single"?u.value:u.value[0];m(D)}else en(E)},g=()=>{e.poppable&&!e.show||(en(()=>{i=Math.floor(ft(o).height)}),f())},h=(D=a())=>{u.value=D,f()},y=D=>{const{maxRange:I,rangePrompt:x,showRangePrompt:L}=e;return I&&j8(D)>I?(L&&rn(x||hr("rangePrompt",I)),t("over-range"),!1):!0},b=()=>{var D;return t("confirm",(D=u.value)!=null?D:cp(u.value))},p=(D,I)=>{const x=L=>{u.value=L,t("select",cp(L))};if(I&&e.type==="range"&&!y(D)){x([D[0],hf(D[0],+e.maxRange-1)]);return}x(D),I&&!e.showConfirm&&b()},C=(D,I,x)=>{var L;return(L=D.find($=>dn(I,$.date)===-1&&dn($.date,x)===-1))==null?void 0:L.date},w=N(()=>s.value.reduce((D,I)=>{var x,L;return D.push(...(L=(x=I.disabledDays)==null?void 0:x.value)!=null?L:[]),D},[])),k=D=>{if(e.readonly||!D.date)return;const{date:I}=D,{type:x}=e;if(x==="range"){if(!u.value){p([I]);return}const[L,$]=u.value;if(L&&!$){const M=dn(I,L);if(M===1){const j=C(w.value,L,I);if(j){const F=Gc(j);dn(L,F)===-1?p([L,F]):p([I])}else p([L,I],!0)}else M===-1?p([I]):e.allowSameDay&&p([I,I],!0)}else p([I])}else if(x==="multiple"){if(!u.value){p([I]);return}const L=u.value,$=L.findIndex(M=>dn(M,I)===0);if($!==-1){const[M]=L.splice($,1);t("unselect",il(M))}else e.maxRange&&L.length>=e.maxRange?rn(e.rangePrompt||hr("rangePrompt",e.maxRange)):p([...L,I])}else p(I,!0)},_=D=>t("update:show",D),T=(D,I)=>{const x=I!==0||!e.showSubtitle;return R(K8,We({ref:c(I),date:D,currentDate:u.value,showMonthTitle:x,firstDayOfWeek:d.value},vt(e,["type","color","minDate","maxDate","showMark","formatter","rowHeight","lazyRender","showSubtitle","allowSameDay"]),{onClick:k}),vt(n,["top-info","bottom-info"]))},O=()=>{if(n.footer)return n.footer();if(e.showConfirm){const D=n["confirm-text"],I=S.value,x=I?e.confirmDisabledText:e.confirmText;return R(nn,{round:!0,block:!0,type:"danger",color:e.color,class:Lt("confirm"),disabled:I,nativeType:"button",onClick:b},{default:()=>[D?D({disabled:I}):x||hr("confirm")]})}},A=()=>R("div",{class:[Lt("footer"),{"van-safe-area-bottom":e.safeAreaInsetBottom}]},[O()]),P=()=>R("div",{class:Lt()},[R(Y8,{title:e.title,subtitle:l.value,showTitle:e.showTitle,showSubtitle:e.showSubtitle,firstDayOfWeek:d.value,"onClick-subtitle":D=>t("click-subtitle",D)},vt(n,["title","subtitle"])),R("div",{ref:o,class:Lt("body"),onScroll:E},[v.value.map(T)]),A()]);return oe(()=>e.show,g),oe(()=>[e.type,e.minDate,e.maxDate],()=>h(a(u.value))),oe(()=>e.defaultDate,(D=null)=>{u.value=D,f()}),ot({reset:h,scrollToDate:m}),Li(g),()=>e.poppable?R(Bn,{show:e.show,class:Lt("popup"),round:e.round,position:e.position,closeable:e.showTitle||e.showSubtitle,teleport:e.teleport,closeOnPopstate:e.closeOnPopstate,safeAreaInsetTop:e.safeAreaInsetTop,closeOnClickOverlay:e.closeOnClickOverlay,"onUpdate:show":_},{default:P}):P()}});const Z8=Te(X8),[J8,Ua]=ve("image"),Q8={src:String,alt:String,fit:String,position:String,round:Boolean,width:pe,height:pe,radius:pe,lazyLoad:Boolean,iconSize:pe,showError:ce,errorIcon:we("photo-fail"),iconPrefix:String,showLoading:ce,loadingIcon:we("photo")};var eV=ee({name:J8,props:Q8,emits:["load","error"],setup(e,{emit:t,slots:n}){const r=q(!1),a=q(!0),i=q(),{$Lazyload:o}=Be().proxy,l=N(()=>{const m={width:at(e.width),height:at(e.height)};return nt(e.radius)&&(m.overflow="hidden",m.borderRadius=at(e.radius)),m});oe(()=>e.src,()=>{r.value=!1,a.value=!0});const u=m=>{a.value=!1,t("load",m)},s=m=>{r.value=!0,a.value=!1,t("error",m)},c=(m,f,g)=>g?g():R(Ke,{name:m,size:e.iconSize,class:f,classPrefix:e.iconPrefix},null),d=()=>{if(a.value&&e.showLoading)return R("div",{class:Ua("loading")},[c(e.loadingIcon,Ua("loading-icon"),n.loading)]);if(r.value&&e.showError)return R("div",{class:Ua("error")},[c(e.errorIcon,Ua("error-icon"),n.error)])},v=()=>{if(r.value||!e.src)return;const m={alt:e.alt,class:Ua("img"),style:{objectFit:e.fit,objectPosition:e.position}};return e.lazyLoad?Ge(R("img",We({ref:i},m),null),[[tw("lazy"),e.src]]):R("img",We({src:e.src,onLoad:u,onError:s},m),null)},S=({el:m})=>{const f=()=>{m===i.value&&a.value&&u()};i.value?f():Re(f)},E=({el:m})=>{m===i.value&&!r.value&&s()};return o&&Gr&&(o.$on("loaded",S),o.$on("error",E),er(()=>{o.$off("loaded",S),o.$off("error",E)})),()=>{var m;return R("div",{class:Ua({round:e.round}),style:l.value},[v(),d(),(m=n.default)==null?void 0:m.call(n)])}}});const Yl=Te(eV),[tV,Xt]=ve("card"),nV={tag:String,num:pe,desc:String,thumb:String,title:String,price:pe,centered:Boolean,lazyLoad:Boolean,currency:we("\xA5"),thumbLink:String,originPrice:pe};var rV=ee({name:tV,props:nV,emits:["click-thumb"],setup(e,{slots:t,emit:n}){const r=()=>{if(t.title)return t.title();if(e.title)return R("div",{class:[Xt("title"),"van-multi-ellipsis--l2"]},[e.title])},a=()=>{if(t.tag||e.tag)return R("div",{class:Xt("tag")},[t.tag?t.tag():R(Kl,{mark:!0,type:"danger"},{default:()=>[e.tag]})])},i=()=>t.thumb?t.thumb():R(Yl,{src:e.thumb,fit:"cover",width:"100%",height:"100%",lazyLoad:e.lazyLoad},null),o=()=>{if(t.thumb||e.thumb)return R("a",{href:e.thumbLink,class:Xt("thumb"),onClick:s=>n("click-thumb",s)},[i(),a()])},l=()=>{if(t.desc)return t.desc();if(e.desc)return R("div",{class:[Xt("desc"),"van-ellipsis"]},[e.desc])},u=()=>{const s=e.price.toString().split(".");return R("div",null,[R("span",{class:Xt("price-currency")},[e.currency]),R("span",{class:Xt("price-integer")},[s[0]]),tt("."),R("span",{class:Xt("price-decimal")},[s[1]])])};return()=>{var s,c,d;const v=t.num||nt(e.num),S=t.price||nt(e.price),E=t["origin-price"]||nt(e.originPrice),m=v||S||E||t.bottom,f=S&&R("div",{class:Xt("price")},[t.price?t.price():u()]),g=E&&R("div",{class:Xt("origin-price")},[t["origin-price"]?t["origin-price"]():`${e.currency} ${e.originPrice}`]),h=v&&R("div",{class:Xt("num")},[t.num?t.num():`x${e.num}`]),y=t.footer&&R("div",{class:Xt("footer")},[t.footer()]),b=m&&R("div",{class:Xt("bottom")},[(s=t["price-top"])==null?void 0:s.call(t),f,g,h,(c=t.bottom)==null?void 0:c.call(t)]);return R("div",{class:Xt()},[R("div",{class:Xt("header")},[o(),R("div",{class:Xt("content",{centered:e.centered})},[R("div",null,[r(),l(),(d=t.tags)==null?void 0:d.call(t)]),b])]),y])}}});const aV=Te(rV);function iV(e,t,n){let r=0;const a=e.scrollLeft,i=n===0?1:Math.round(n*1e3/16);function o(){e.scrollLeft+=(t-a)/i,++r<i&&en(o)}o()}function oV(e,t,n,r){let a=jr(e);const i=a<t,o=n===0?1:Math.round(n*1e3/16),l=(t-a)/o;function u(){a+=l,(i&&a>t||!i&&a<t)&&(a=t),nl(e,a),i&&a<t||!i&&a>t?en(u):r&&en(r)}u()}function sV(e,t){if(!Gr||!window.IntersectionObserver)return;const n=new IntersectionObserver(i=>{t(i[0].intersectionRatio>0)},{root:document.body}),r=()=>{e.value&&n.observe(e.value)},a=()=>{e.value&&n.unobserve(e.value)};Hr(a),er(a),Li(r)}const[lV,uV]=ve("sticky"),cV={zIndex:pe,position:we("top"),container:Object,offsetTop:Pe(0),offsetBottom:Pe(0)};var dV=ee({name:lV,props:cV,emits:["scroll","change"],setup(e,{emit:t,slots:n}){const r=q(),a=Ri(r),i=Me({fixed:!1,width:0,height:0,transform:0}),o=N(()=>Qd(e.position==="top"?e.offsetTop:e.offsetBottom)),l=N(()=>{const{fixed:d,height:v,width:S}=i;if(d)return{width:`${S}px`,height:`${v}px`}}),u=N(()=>{if(!i.fixed)return;const d=xe(_a(e.zIndex),{width:`${i.width}px`,height:`${i.height}px`,[e.position]:`${o.value}px`});return i.transform&&(d.transform=`translate3d(0, ${i.transform}px, 0)`),d}),s=d=>t("scroll",{scrollTop:d,isFixed:i.fixed}),c=()=>{if(!r.value||gi(r))return;const{container:d,position:v}=e,S=ft(r),E=jr(window);if(i.width=S.width,i.height=S.height,v==="top")if(d){const m=ft(d),f=m.bottom-o.value-i.height;i.fixed=o.value>S.top&&m.bottom>0,i.transform=f<0?f:0}else i.fixed=o.value>S.top;else{const{clientHeight:m}=document.documentElement;if(d){const f=ft(d),g=m-f.top-o.value-i.height;i.fixed=m-o.value<S.bottom&&m>f.top,i.transform=g<0?-g:0}else i.fixed=m-o.value<S.bottom}s(E)};return oe(()=>i.fixed,d=>t("change",d)),Wr("scroll",c,{target:a}),sV(r,c),()=>{var d;return R("div",{ref:r,style:l.value},[R("div",{class:uV({fixed:i.fixed}),style:u.value},[(d=n.default)==null?void 0:d.call(n)])])}}});const V1=Te(dV),[fV,dp]=ve("tab");var hV=ee({name:fV,props:{id:String,dot:Boolean,type:String,color:String,title:String,badge:pe,shrink:Boolean,isActive:Boolean,disabled:Boolean,controls:String,scrollable:Boolean,activeColor:String,inactiveColor:String,showZeroBadge:ce},setup(e,{slots:t}){const n=N(()=>{const a={},{type:i,color:o,disabled:l,isActive:u,activeColor:s,inactiveColor:c}=e;o&&i==="card"&&(a.borderColor=o,l||(u?a.backgroundColor=o:a.color=o));const v=u?s:c;return v&&(a.color=v),a}),r=()=>{const a=R("span",{class:dp("text",{ellipsis:!e.scrollable})},[t.title?t.title():e.title]);return e.dot||nt(e.badge)&&e.badge!==""?R(Da,{dot:e.dot,content:e.badge,showZero:e.showZeroBadge},{default:()=>[a]}):a};return()=>R("div",{id:e.id,role:"tab",class:[dp([e.type,{grow:e.scrollable&&!e.shrink,shrink:e.shrink,active:e.isActive,disabled:e.disabled}])],style:n.value,tabindex:e.disabled?void 0:e.isActive?0:-1,"aria-selected":e.isActive,"aria-disabled":e.disabled||void 0,"aria-controls":e.controls},[r()])}});const[H1,ms]=ve("swipe"),vV={loop:ce,width:pe,height:pe,vertical:Boolean,autoplay:Pe(0),duration:Pe(500),touchable:ce,lazyRender:Boolean,initialSwipe:Pe(0),indicatorColor:String,showIndicators:ce,stopPropagation:ce},z1=Symbol(H1);var mV=ee({name:H1,props:vV,emits:["change"],setup(e,{emit:t,slots:n}){const r=q(),a=Me({rect:null,width:0,height:0,offset:0,active:0,swiping:!1}),i=tr(),{children:o,linkChildren:l}=Jt(z1),u=N(()=>o.length),s=N(()=>a[e.vertical?"height":"width"]),c=N(()=>e.vertical?i.deltaY.value:i.deltaX.value),d=N(()=>a.rect?(e.vertical?a.rect.height:a.rect.width)-s.value*u.value:0),v=N(()=>Math.ceil(Math.abs(d.value)/s.value)),S=N(()=>u.value*s.value),E=N(()=>(a.active+u.value)%u.value),m=N(()=>{const M=e.vertical?"vertical":"horizontal";return i.direction.value===M}),f=N(()=>{const M={transitionDuration:`${a.swiping?0:e.duration}ms`,transform:`translate${e.vertical?"Y":"X"}(${a.offset}px)`};if(s.value){const j=e.vertical?"height":"width",F=e.vertical?"width":"height";M[j]=`${S.value}px`,M[F]=e[F]?`${e[F]}px`:""}return M}),g=M=>{const{active:j}=a;return M?e.loop?Gt(j+M,-1,u.value):Gt(j+M,0,v.value):j},h=(M,j=0)=>{let F=M*s.value;e.loop||(F=Math.min(F,-d.value));let U=j-F;return e.loop||(U=Gt(U,d.value,0)),U},y=({pace:M=0,offset:j=0,emitChange:F})=>{if(u.value<=1)return;const{active:U}=a,B=g(M),K=h(B,j);if(e.loop){if(o[0]&&K!==d.value){const V=K<d.value;o[0].setOffset(V?S.value:0)}if(o[u.value-1]&&K!==0){const V=K>0;o[u.value-1].setOffset(V?-S.value:0)}}a.active=B,a.offset=K,F&&B!==U&&t("change",E.value)},b=()=>{a.swiping=!0,a.active<=-1?y({pace:u.value}):a.active>=u.value&&y({pace:-u.value})},p=()=>{b(),i.reset(),va(()=>{a.swiping=!1,y({pace:-1,emitChange:!0})})},C=()=>{b(),i.reset(),va(()=>{a.swiping=!1,y({pace:1,emitChange:!0})})};let w;const k=()=>clearTimeout(w),_=()=>{k(),e.autoplay>0&&u.value>1&&(w=setTimeout(()=>{C(),_()},+e.autoplay))},T=(M=+e.initialSwipe)=>{if(!r.value)return;const j=()=>{var F,U;if(!gi(r)){const B={width:r.value.offsetWidth,height:r.value.offsetHeight};a.rect=B,a.width=+((F=e.width)!=null?F:B.width),a.height=+((U=e.height)!=null?U:B.height)}u.value&&(M=Math.min(u.value-1,M)),a.active=M,a.swiping=!0,a.offset=h(M),o.forEach(B=>{B.setOffset(0)}),_()};gi(r)?Re().then(j):j()},O=()=>T(a.active);let A;const P=M=>{!e.touchable||(i.start(M),A=Date.now(),k(),b())},D=M=>{e.touchable&&a.swiping&&(i.move(M),m.value&&(Ct(M,e.stopPropagation),y({offset:c.value})))},I=()=>{if(!e.touchable||!a.swiping)return;const M=Date.now()-A,j=c.value/M;if((Math.abs(j)>.25||Math.abs(c.value)>s.value/2)&&m.value){const U=e.vertical?i.offsetY.value:i.offsetX.value;let B=0;e.loop?B=U>0?c.value>0?-1:1:0:B=-Math[c.value>0?"ceil":"floor"](c.value/s.value),y({pace:B,emitChange:!0})}else c.value&&y({pace:0});a.swiping=!1,_()},x=(M,j={})=>{b(),i.reset(),va(()=>{let F;e.loop&&M===u.value?F=a.active===0?0:M:F=M%u.value,j.immediate?va(()=>{a.swiping=!1}):a.swiping=!1,y({pace:F-a.active,emitChange:!0})})},L=(M,j)=>{const F=j===E.value,U=F?{backgroundColor:e.indicatorColor}:void 0;return R("i",{style:U,class:ms("indicator",{active:F})},null)},$=()=>{if(n.indicator)return n.indicator({active:E.value,total:u.value});if(e.showIndicators&&u.value>1)return R("div",{class:ms("indicators",{vertical:e.vertical})},[Array(u.value).fill("").map(L)])};return ot({prev:p,next:C,state:a,resize:O,swipeTo:x}),l({size:s,props:e,count:u,activeIndicator:E}),oe(()=>e.initialSwipe,M=>T(+M)),oe(u,()=>T(a.active)),oe(()=>e.autoplay,_),oe([Bl,pi],O),oe(CU(),M=>{M==="visible"?_():k()}),et(T),Ca(()=>T(a.active)),af(()=>T(a.active)),Hr(k),er(k),()=>{var M;return R("div",{ref:r,class:ms()},[R("div",{style:f.value,class:ms("track",{vertical:e.vertical}),onTouchstart:P,onTouchmove:D,onTouchend:I,onTouchcancel:I},[(M=n.default)==null?void 0:M.call(n)]),$()])}}});const vf=Te(mV),[gV,fp]=ve("tabs");var pV=ee({name:gV,props:{count:Rt(Number),inited:Boolean,animated:Boolean,duration:Rt(pe),swipeable:Boolean,lazyRender:Boolean,currentIndex:Rt(Number)},emits:["change"],setup(e,{emit:t,slots:n}){const r=q(),a=l=>t("change",l),i=()=>{var l;const u=(l=n.default)==null?void 0:l.call(n);return e.animated||e.swipeable?R(vf,{ref:r,loop:!1,class:fp("track"),duration:+e.duration*1e3,touchable:e.swipeable,lazyRender:e.lazyRender,showIndicators:!1,onChange:a},{default:()=>[u]}):u},o=l=>{const u=r.value;u&&u.state.active!==l&&u.swipeTo(l,{immediate:!e.inited})};return oe(()=>e.currentIndex,o),et(()=>{o(e.currentIndex)}),()=>R("div",{class:fp("content",{animated:e.animated||e.swipeable})},[i()])}});const[G1,gs]=ve("tabs"),yV={type:we("line"),color:String,border:Boolean,sticky:Boolean,shrink:Boolean,active:Pe(0),duration:Pe(.3),animated:Boolean,ellipsis:ce,swipeable:Boolean,scrollspy:Boolean,offsetTop:Pe(0),background:String,lazyRender:ce,lineWidth:pe,lineHeight:pe,beforeChange:Function,swipeThreshold:Pe(5),titleActiveColor:String,titleInactiveColor:String},K1=Symbol(G1);var bV=ee({name:G1,props:yV,emits:["click","change","scroll","disabled","rendered","click-tab","update:active"],setup(e,{emit:t,slots:n}){let r,a,i;const o=q(),l=q(),u=q(),s=Go(),c=Ri(o),[d,v]=Wl(),{children:S,linkChildren:E}=Jt(K1),m=Me({inited:!1,position:"",lineStyle:{},currentIndex:-1}),f=N(()=>S.length>e.swipeThreshold||!e.ellipsis||e.shrink),g=N(()=>({borderColor:e.color,background:e.background})),h=(U,B)=>{var K;return(K=U.name)!=null?K:B},y=N(()=>{const U=S[m.currentIndex];if(U)return h(U,m.currentIndex)}),b=N(()=>Qd(e.offsetTop)),p=N(()=>e.sticky?b.value+r:0),C=U=>{const B=l.value,K=d.value;if(!f.value||!B||!K||!K[m.currentIndex])return;const V=K[m.currentIndex].$el,X=V.offsetLeft-(B.offsetWidth-V.offsetWidth)/2;iV(B,X,U?0:+e.duration)},w=()=>{const U=m.inited;Re(()=>{const B=d.value;if(!B||!B[m.currentIndex]||e.type!=="line"||gi(o.value))return;const K=B[m.currentIndex].$el,{lineWidth:V,lineHeight:X}=e,Z=K.offsetLeft+K.offsetWidth/2,ne={width:at(V),backgroundColor:e.color,transform:`translateX(${Z}px) translateX(-50%)`};if(U&&(ne.transitionDuration=`${e.duration}s`),nt(X)){const ae=at(X);ne.height=ae,ne.borderRadius=ae}m.lineStyle=ne})},k=U=>{const B=U<m.currentIndex?-1:1;for(;U>=0&&U<S.length;){if(!S[U].disabled)return U;U+=B}},_=U=>{const B=k(U);if(!nt(B))return;const K=S[B],V=h(K,B),X=m.currentIndex!==null;m.currentIndex=B,V!==e.active&&(t("update:active",V),X&&t("change",V,K.title))},T=U=>{const B=S.find((V,X)=>h(V,X)===U),K=B?S.indexOf(B):0;_(K)},O=(U=!1)=>{if(e.scrollspy){const B=S[m.currentIndex].$el;if(B&&c.value){const K=Yg(B,c.value)-p.value;a=!0,oV(c.value,K,U?0:+e.duration,()=>{a=!1})}}},A=(U,B,K)=>{const{title:V,disabled:X}=S[B],Z=h(S[B],B);X?t("disabled",Z,V):(Zr(e.beforeChange,{args:[Z],done:()=>{_(B),O()}}),t("click",Z,V),T1(U)),t("click-tab",{name:Z,title:V,event:K,disabled:X})},P=U=>{i=U.isFixed,t("scroll",U)},D=U=>{Re(()=>{T(U),O(!0)})},I=()=>{for(let U=0;U<S.length;U++){const{top:B}=ft(S[U].$el);if(B>p.value)return U===0?0:U-1}return S.length-1},x=()=>{if(e.scrollspy&&!a){const U=I();_(U)}},L=()=>S.map((U,B)=>R(hV,We({key:U.id,id:`${s}-${B}`,ref:v(B),type:e.type,color:e.color,style:U.titleStyle,class:U.titleClass,shrink:e.shrink,isActive:B===m.currentIndex,controls:U.id,scrollable:f.value,activeColor:e.titleActiveColor,inactiveColor:e.titleInactiveColor,onClick:K=>A(U,B,K)},vt(U,["dot","badge","title","disabled","showZeroBadge"])),{title:U.$slots.title})),$=()=>{if(e.type==="line"&&S.length)return R("div",{class:gs("line"),style:m.lineStyle},null)},M=()=>{var U,B;const{type:K,border:V}=e;return R("div",{ref:u,class:[gs("wrap"),{[Nl]:K==="line"&&V}]},[R("div",{ref:l,role:"tablist",class:gs("nav",[K,{shrink:e.shrink,complete:f.value}]),style:g.value,"aria-orientation":"horizontal"},[(U=n["nav-left"])==null?void 0:U.call(n),L(),$(),(B=n["nav-right"])==null?void 0:B.call(n)])])};oe([()=>e.color,Bl],w),oe(()=>e.active,U=>{U!==y.value&&T(U)}),oe(()=>S.length,()=>{m.inited&&(T(e.active),w(),Re(()=>{C(!0)}))}),oe(()=>m.currentIndex,()=>{C(),w(),i&&!e.scrollspy&&Fl(Math.ceil(Yg(o.value)-b.value))});const j=()=>{T(e.active),Re(()=>{m.inited=!0,u.value&&(r=ft(u.value).height),C(!0)})},F=(U,B)=>t("rendered",U,B);return ot({resize:w,scrollTo:D}),Ca(w),af(w),Li(j),Wr("scroll",x,{target:c}),E({id:s,props:e,setLine:w,onRendered:F,currentName:y,scrollIntoView:C}),()=>{var U;return R("div",{ref:o,class:gs([e.type])},[e.sticky?R(V1,{container:o.value,offsetTop:b.value,onScroll:P},{default:()=>{var B;return[M(),(B=n["nav-bottom"])==null?void 0:B.call(n)]}}):[M(),(U=n["nav-bottom"])==null?void 0:U.call(n)],R(pV,{count:S.length,inited:m.inited,animated:e.animated,duration:e.duration,swipeable:e.swipeable,lazyRender:e.lazyRender,currentIndex:m.currentIndex,onChange:_},{default:()=>{var B;return[(B=n.default)==null?void 0:B.call(n)]}})])}}});const W1=Symbol(),SV=()=>Qe(W1,null),[TV,CV]=ve("swipe-item");var EV=ee({name:TV,setup(e,{slots:t}){let n;const r=Me({offset:0,inited:!1,mounted:!1}),{parent:a,index:i}=qt(z1);if(!a)return;const o=N(()=>{const s={},{vertical:c}=a.props;return a.size.value&&(s[c?"height":"width"]=`${a.size.value}px`),r.offset&&(s.transform=`translate${c?"Y":"X"}(${r.offset}px)`),s}),l=N(()=>{const{loop:s,lazyRender:c}=a.props;if(!c||n)return!0;if(!r.mounted)return!1;const d=a.activeIndicator.value,v=a.count.value-1,S=d===0&&s?v:d-1,E=d===v&&s?0:d+1;return n=i.value===d||i.value===S||i.value===E,n}),u=s=>{r.offset=s};return et(()=>{Re(()=>{r.mounted=!0})}),ot({setOffset:u}),()=>{var s;return R("div",{class:CV(),style:o.value},[l.value?(s=t.default)==null?void 0:s.call(t):null])}}});const mf=Te(EV),[wV,Mu]=ve("tab"),OV=xe({},Jr,{dot:Boolean,name:pe,badge:pe,title:String,disabled:Boolean,titleClass:mt,titleStyle:[String,Object],showZeroBadge:ce});var kV=ee({name:wV,props:OV,setup(e,{slots:t}){const n=Go(),r=q(!1),{parent:a,index:i}=qt(K1);if(!a)return;const o=()=>{var s;return(s=e.name)!=null?s:i.value},l=()=>{r.value=!0,a.props.lazyRender&&Re(()=>{a.onRendered(o(),e.title)})},u=N(()=>{const s=o()===a.currentName.value;return s&&!r.value&&l(),s});return oe(()=>e.title,()=>{a.setLine(),a.scrollIntoView()}),dt(W1,u),()=>{var s;const c=`${a.id}-${i.value}`,{animated:d,swipeable:v,scrollspy:S,lazyRender:E}=a.props;if(!t.default&&!d)return;const m=S||u.value;if(d||v)return R(mf,{id:n,role:"tabpanel",class:Mu("panel-wrapper",{inactive:!u.value}),tabindex:u.value?0:-1,"aria-hidden":!u.value,"aria-labelledby":c},{default:()=>{var h;return[R("div",{class:Mu("panel")},[(h=t.default)==null?void 0:h.call(t)])]}});const g=r.value||S||!E?(s=t.default)==null?void 0:s.call(t):null;return ot({id:n}),Ge(R("div",{id:n,role:"tabpanel",class:Mu("panel"),tabindex:m?0:-1,"aria-labelledby":c},[g]),[[qe,m]])}}});const ol=Te(kV),gf=Te(bV),[_V,sr,AV]=ve("cascader"),DV={title:String,options:jt(),closeable:ce,swipeable:ce,closeIcon:we("cross"),showHeader:ce,modelValue:pe,fieldNames:Object,placeholder:String,activeColor:String};var PV=ee({name:_V,props:DV,emits:["close","change","finish","click-tab","update:modelValue"],setup(e,{slots:t,emit:n}){const r=q([]),a=q(0),{text:i,value:o,children:l}=xe({text:"text",value:"value",children:"children"},e.fieldNames),u=(h,y)=>{for(const b of h){if(b[o]===y)return[b];if(b[l]){const p=u(b[l],y);if(p)return[b,...p]}}},s=()=>{const{options:h,modelValue:y}=e;if(y!==void 0){const b=u(h,y);if(b){let p=h;r.value=b.map(C=>{const w={options:p,selected:C},k=p.find(_=>_[o]===C[o]);return k&&(p=k[l]),w}),p&&r.value.push({options:p,selected:null}),Re(()=>{a.value=r.value.length-1});return}}r.value=[{options:h,selected:null}]},c=(h,y)=>{if(h.disabled)return;if(r.value[y].selected=h,r.value.length>y+1&&(r.value=r.value.slice(0,y+1)),h[l]){const C={options:h[l],selected:null};r.value[y+1]?r.value[y+1]=C:r.value.push(C),Re(()=>{a.value++})}const b=r.value.map(C=>C.selected).filter(Boolean);n("update:modelValue",h[o]);const p={value:h[o],tabIndex:y,selectedOptions:b};n("change",p),h[l]||n("finish",p)},d=()=>n("close"),v=({name:h,title:y})=>n("click-tab",h,y),S=()=>e.showHeader?R("div",{class:sr("header")},[R("h2",{class:sr("title")},[t.title?t.title():e.title]),e.closeable?R(Ke,{name:e.closeIcon,class:[sr("close-icon"),tn],onClick:d},null):null]):null,E=(h,y,b)=>{const{disabled:p}=h,C=!!(y&&h[o]===y[o]),w=h.color||(C?e.activeColor:void 0),k=t.option?t.option({option:h,selected:C}):R("span",null,[h[i]]);return R("li",{role:"menuitemradio",class:[sr("option",{selected:C,disabled:p}),h.className],style:{color:w},tabindex:p?void 0:C?0:-1,"aria-checked":C,"aria-disabled":p||void 0,onClick:()=>c(h,b)},[k,C?R(Ke,{name:"success",class:sr("selected-icon")},null):null])},m=(h,y,b)=>R("ul",{role:"menu",class:sr("options")},[h.map(p=>E(p,y,b))]),f=(h,y)=>{const{options:b,selected:p}=h,C=e.placeholder||AV("select"),w=p?p[i]:C;return R(ol,{title:w,titleClass:sr("tab",{unselected:!p})},{default:()=>{var k,_;return[(k=t["options-top"])==null?void 0:k.call(t,{tabIndex:y}),m(b,p,y),(_=t["options-bottom"])==null?void 0:_.call(t,{tabIndex:y})]}})},g=()=>R(gf,{active:a.value,"onUpdate:active":h=>a.value=h,shrink:!0,animated:!0,class:sr("tabs"),color:e.activeColor,swipeable:e.swipeable,"onClick-tab":v},{default:()=>[r.value.map(f)]});return s(),oe(()=>e.options,s,{deep:!0}),oe(()=>e.modelValue,h=>{h!==void 0&&r.value.map(b=>{var p;return(p=b.selected)==null?void 0:p[o]}).includes(h)||s()}),()=>R("div",{class:sr()},[S(),g()])}});const IV=Te(PV),[LV,hp]=ve("cell-group"),RV={title:String,inset:Boolean,border:ce};var xV=ee({name:LV,inheritAttrs:!1,props:RV,setup(e,{slots:t,attrs:n}){const r=()=>{var i;return R("div",We({class:[hp({inset:e.inset}),{[Nl]:e.border&&!e.inset}]},n),[(i=t.default)==null?void 0:i.call(t)])},a=()=>R("div",{class:hp("title",{inset:e.inset})},[t.title?t.title():e.title]);return()=>e.title||t.title?R(Ce,null,[a(),r()]):r()}});const $V=Te(xV),[Y1,MV]=ve("checkbox-group"),FV={max:pe,disabled:Boolean,iconSize:pe,direction:String,modelValue:jt(),checkedColor:String},q1=Symbol(Y1);var BV=ee({name:Y1,props:FV,emits:["change","update:modelValue"],setup(e,{emit:t,slots:n}){const{children:r,linkChildren:a}=Jt(q1),i=l=>t("update:modelValue",l),o=(l={})=>{typeof l=="boolean"&&(l={checked:l});const{checked:u,skipDisabled:s}=l,d=r.filter(v=>v.props.bindGroup?v.props.disabled&&s?v.checked.value:u!=null?u:!v.checked.value:!1).map(v=>v.name);i(d)};return oe(()=>e.modelValue,l=>t("change",l)),ot({toggleAll:o}),Yr(()=>e.modelValue),a({props:e,updateValue:i}),()=>{var l;return R("div",{class:MV([e.direction])},[(l=n.default)==null?void 0:l.call(n)])}}});const[NV,jV]=ve("checkbox"),UV=xe({},df,{bindGroup:ce});var VV=ee({name:NV,props:UV,emits:["change","update:modelValue"],setup(e,{emit:t,slots:n}){const{parent:r}=qt(q1),a=l=>{const{name:u}=e,{max:s,modelValue:c}=r.props,d=c.slice();if(l)!(s&&d.length>=s)&&!d.includes(u)&&(d.push(u),e.bindGroup&&r.updateValue(d));else{const v=d.indexOf(u);v!==-1&&(d.splice(v,1),e.bindGroup&&r.updateValue(d))}},i=N(()=>r&&e.bindGroup?r.props.modelValue.indexOf(e.name)!==-1:!!e.modelValue),o=(l=!i.value)=>{r&&e.bindGroup?a(l):t("update:modelValue",l)};return oe(()=>e.modelValue,l=>t("change",l)),ot({toggle:o,props:e,checked:i}),Yr(()=>e.modelValue),()=>R($1,We({bem:jV,role:"checkbox",parent:r,checked:i.value,onToggle:o},e),vt(n,["default","icon"]))}});const X1=Te(VV),HV=Te(BV),[zV,ps]=ve("circle");let GV=0;const vp=e=>Math.min(Math.max(+e,0),100);function KV(e,t){const n=e?1:0;return`M ${t/2} ${t/2} m 0, -500 a 500, 500 0 1, ${n} 0, 1000 a 500, 500 0 1, ${n} 0, -1000`}const WV={text:String,size:pe,fill:we("none"),rate:Pe(100),speed:Pe(0),color:[String,Object],clockwise:ce,layerColor:String,currentRate:Jn(0),strokeWidth:Pe(40),strokeLinecap:String,startPosition:we("top")};var YV=ee({name:zV,props:WV,emits:["update:currentRate"],setup(e,{emit:t,slots:n}){const r=`van-circle-${GV++}`,a=N(()=>+e.strokeWidth+1e3),i=N(()=>KV(e.clockwise,a.value)),o=N(()=>{const v={top:0,right:90,bottom:180,left:270}[e.startPosition];if(v)return{transform:`rotate(${v}deg)`}});oe(()=>e.rate,d=>{let v;const S=Date.now(),E=e.currentRate,m=vp(d),f=Math.abs((E-m)*1e3/+e.speed),g=()=>{const h=Date.now(),b=Math.min((h-S)/f,1)*(m-E)+E;t("update:currentRate",vp(parseFloat(b.toFixed(1)))),(m>E?b<m:b>m)&&(v=en(g))};e.speed?(v&&i1(v),v=en(g)):t("update:currentRate",m)},{immediate:!0});const l=()=>{const{strokeWidth:v,currentRate:S,strokeLinecap:E}=e,m=3140*S/100,f=En(e.color)?`url(#${r})`:e.color,g={stroke:f,strokeWidth:`${+v+1}px`,strokeLinecap:E,strokeDasharray:`${m}px ${3140}px`};return R("path",{d:i.value,style:g,class:ps("hover"),stroke:f},null)},u=()=>{const d={fill:e.fill,stroke:e.layerColor,strokeWidth:`${e.strokeWidth}px`};return R("path",{class:ps("layer"),style:d,d:i.value},null)},s=()=>{const{color:d}=e;if(!En(d))return;const v=Object.keys(d).sort((S,E)=>parseFloat(S)-parseFloat(E)).map((S,E)=>R("stop",{key:E,offset:S,"stop-color":d[S]},null));return R("defs",null,[R("linearGradient",{id:r,x1:"100%",y1:"0%",x2:"0%",y2:"0%"},[v])])},c=()=>{if(n.default)return n.default();if(e.text)return R("div",{class:ps("text")},[e.text])};return()=>R("div",{class:ps(),style:qr(e.size)},[R("svg",{viewBox:`0 0 ${a.value} ${a.value}`,style:o.value},[s(),u(),l()]),c()])}});const qV=Te(YV),[Z1,XV]=ve("row"),J1=Symbol(Z1),ZV={tag:we("div"),wrap:ce,align:String,gutter:Pe(0),justify:String};var JV=ee({name:Z1,props:ZV,setup(e,{slots:t}){const{children:n,linkChildren:r}=Jt(J1),a=N(()=>{const o=[[]];let l=0;return n.forEach((u,s)=>{l+=Number(u.span),l>24?(o.push([s]),l-=24):o[o.length-1].push(s)}),o}),i=N(()=>{const o=Number(e.gutter),l=[];return o&&a.value.forEach(u=>{const s=o*(u.length-1)/u.length;u.forEach((c,d)=>{if(d===0)l.push({right:s});else{const v=o-l[c-1].right,S=s-v;l.push({left:v,right:S})}})}),l});return r({spaces:i}),()=>{const{tag:o,wrap:l,align:u,justify:s}=e;return R(o,{class:XV({[`align-${u}`]:u,[`justify-${s}`]:s,nowrap:!l})},{default:()=>{var c;return[(c=t.default)==null?void 0:c.call(t)]}})}}});const[QV,e6]=ve("col"),t6={tag:we("div"),span:Pe(0),offset:pe};var n6=ee({name:QV,props:t6,setup(e,{slots:t}){const{parent:n,index:r}=qt(J1),a=N(()=>{if(!n)return;const{spaces:i}=n;if(i&&i.value&&i.value[r.value]){const{left:o,right:l}=i.value[r.value];return{paddingLeft:o?`${o}px`:null,paddingRight:l?`${l}px`:null}}});return()=>{const{tag:i,span:o,offset:l}=e;return R(i,{style:a.value,class:e6({[o]:o,[`offset-${l}`]:l})},{default:()=>{var u;return[(u=t.default)==null?void 0:u.call(t)]}})}}});const r6=Te(n6),[Q1,a6]=ve("collapse"),eT=Symbol(Q1),i6={border:ce,accordion:Boolean,modelValue:{type:[String,Number,Array],default:""}};var o6=ee({name:Q1,props:i6,emits:["change","update:modelValue"],setup(e,{emit:t,slots:n}){const{linkChildren:r}=Jt(eT),a=l=>{t("change",l),t("update:modelValue",l)};return r({toggle:(l,u)=>{const{accordion:s,modelValue:c}=e;a(s?l===c?"":l:u?c.concat(l):c.filter(d=>d!==l))},isExpanded:l=>{const{accordion:u,modelValue:s}=e;return u?s===l:s.includes(l)}}),()=>{var l;return R("div",{class:[a6(),{[Nl]:e.border}]},[(l=n.default)==null?void 0:l.call(n)])}}});const s6=Te(o6),[l6,ys]=ve("collapse-item"),u6=["icon","title","value","label","right-icon"],c6=xe({},Vl,{name:pe,isLink:ce,disabled:Boolean,readonly:Boolean,lazyRender:ce});var d6=ee({name:l6,props:c6,setup(e,{slots:t}){const n=q(),r=q(),{parent:a,index:i}=qt(eT);if(!a)return;const o=N(()=>{var m;return(m=e.name)!=null?m:i.value}),l=N(()=>a.isExpanded(o.value)),u=q(l.value),s=rf(()=>u.value||!e.lazyRender),c=()=>{l.value?n.value&&(n.value.style.height=""):u.value=!1};oe(l,(m,f)=>{if(f===null)return;m&&(u.value=!0),(m?Re:en)(()=>{if(!r.value||!n.value)return;const{offsetHeight:h}=r.value;if(h){const y=`${h}px`;n.value.style.height=m?"0":y,va(()=>{n.value&&(n.value.style.height=m?y:"0")})}else c()})});const d=(m=!l.value)=>{a.toggle(o.value,m)},v=()=>{!e.disabled&&!e.readonly&&d()},S=()=>{const{border:m,disabled:f,readonly:g}=e,h=vt(e,Object.keys(Vl));return g&&(h.isLink=!1),(f||g)&&(h.clickable=!1),R(Nn,We({role:"button",class:ys("title",{disabled:f,expanded:l.value,borderless:!m}),"aria-expanded":String(l.value),onClick:v},h),vt(t,u6))},E=s(()=>{var m;return Ge(R("div",{ref:n,class:ys("wrapper"),onTransitionend:c},[R("div",{ref:r,class:ys("content")},[(m=t.default)==null?void 0:m.call(t)])]),[[qe,u.value]])});return ot({toggle:d}),()=>R("div",{class:[ys({border:i.value&&e.border})]},[S(),E()])}});const f6=Te(d6),h6=Te(WU),[v6,mp,Fu]=ve("contact-card"),m6={tel:String,name:String,type:we("add"),addText:String,editable:ce};var g6=ee({name:v6,props:m6,emits:["click"],setup(e,{emit:t}){const n=a=>{e.editable&&t("click",a)},r=()=>e.type==="add"?e.addText||Fu("addContact"):[R("div",null,[`${Fu("name")}\uFF1A${e.name}`]),R("div",null,[`${Fu("tel")}\uFF1A${e.tel}`])];return()=>R(Nn,{center:!0,icon:e.type==="edit"?"contact":"add-square",class:mp([e.type]),border:!1,isLink:e.editable,valueClass:mp("value"),onClick:n},{value:r})}});const p6=Te(g6),[y6,Va,kr]=ve("contact-edit"),Yc={tel:"",name:""},b6={isEdit:Boolean,isSaving:Boolean,isDeleting:Boolean,showSetDefault:Boolean,setDefaultLabel:String,contactInfo:{type:Object,default:()=>xe({},Yc)},telValidator:{type:Function,default:u1}};var S6=ee({name:y6,props:b6,emits:["save","delete","change-default"],setup(e,{emit:t}){const n=Me(xe({},Yc,e.contactInfo)),r=()=>{e.isSaving||t("save",n)},a=()=>t("delete",n),i=()=>R("div",{class:Va("buttons")},[R(nn,{block:!0,round:!0,type:"danger",text:kr("save"),class:Va("button"),loading:e.isSaving,nativeType:"submit"},null),e.isEdit&&R(nn,{block:!0,round:!0,text:kr("delete"),class:Va("button"),loading:e.isDeleting,onClick:a},null)]),o=()=>R(uf,{modelValue:n.isDefault,"onUpdate:modelValue":u=>n.isDefault=u,size:24,onChange:u=>t("change-default",u)},null),l=()=>{if(e.showSetDefault)return R(Nn,{title:e.setDefaultLabel,class:Va("switch-cell"),border:!1},{"right-icon":o})};return oe(()=>e.contactInfo,u=>xe(n,Yc,u)),()=>R(of,{class:Va(),onSubmit:r},{default:()=>[R("div",{class:Va("fields")},[R(Zn,{modelValue:n.name,"onUpdate:modelValue":u=>n.name=u,clearable:!0,label:kr("name"),rules:[{required:!0,message:kr("nameEmpty")}],maxlength:"30",placeholder:kr("name")},null),R(Zn,{modelValue:n.tel,"onUpdate:modelValue":u=>n.tel=u,clearable:!0,type:"tel",label:kr("tel"),rules:[{validator:e.telValidator,message:kr("telInvalid")}],placeholder:kr("tel")},null)]),l(),i()]})}});const T6=Te(S6),[C6,lr,E6]=ve("contact-list"),w6={list:Array,addText:String,modelValue:mt,defaultTagText:String};var O6=ee({name:C6,props:w6,emits:["add","edit","select","update:modelValue"],setup(e,{emit:t}){const n=(r,a)=>{const i=()=>{t("update:modelValue",r.id),t("select",r,a)},o=()=>R(ff,{class:lr("radio"),name:r.id,iconSize:16},null),l=()=>R(Ke,{name:"edit",class:lr("edit"),onClick:s=>{s.stopPropagation(),t("edit",r,a)}},null),u=()=>{const s=[`${r.name}\uFF0C${r.tel}`];return r.isDefault&&e.defaultTagText&&s.push(R(Kl,{type:"danger",round:!0,class:lr("item-tag")},{default:()=>[e.defaultTagText]})),s};return R(Nn,{key:r.id,isLink:!0,center:!0,class:lr("item"),valueClass:lr("item-value"),onClick:i},{icon:l,value:u,"right-icon":o})};return()=>R("div",{class:lr()},[R(cf,{modelValue:e.modelValue,class:lr("group")},{default:()=>[e.list&&e.list.map(n)]}),R("div",{class:[lr("bottom"),"van-safe-area-bottom"]},[R(nn,{round:!0,block:!0,type:"danger",class:lr("add"),text:e.addText||E6("addContact"),onClick:()=>t("add")},null)])])}});const k6=Te(O6);function _6(e,t){const{days:n}=t;let{hours:r,minutes:a,seconds:i,milliseconds:o}=t;if(e.includes("DD")?e=e.replace("DD",zt(n)):r+=n*24,e.includes("HH")?e=e.replace("HH",zt(r)):a+=r*60,e.includes("mm")?e=e.replace("mm",zt(a)):i+=a*60,e.includes("ss")?e=e.replace("ss",zt(i)):o+=i*1e3,e.includes("S")){const l=zt(o,3);e.includes("SSS")?e=e.replace("SSS",l):e.includes("SS")?e=e.replace("SS",l.slice(0,2)):e=e.replace("S",l.charAt(0))}return e}const[A6,D6]=ve("count-down"),P6={time:Pe(0),format:we("HH:mm:ss"),autoStart:ce,millisecond:Boolean};var I6=ee({name:A6,props:P6,emits:["change","finish"],setup(e,{emit:t,slots:n}){const{start:r,pause:a,reset:i,current:o}=yU({time:+e.time,millisecond:e.millisecond,onChange:s=>t("change",s),onFinish:()=>t("finish")}),l=N(()=>_6(e.format,o.value)),u=()=>{i(+e.time),e.autoStart&&r()};return oe(()=>e.time,u,{immediate:!0}),ot({start:r,pause:a,reset:u}),()=>R("div",{role:"timer",class:D6()},[n.default?n.default(o.value):l.value])}});const L6=Te(I6);function gp(e){const t=new Date(e*1e3);return`${t.getFullYear()}.${zt(t.getMonth()+1)}.${zt(t.getDate())}`}const R6=e=>(e/10).toFixed(e%10===0?0:1),pp=e=>(e/100).toFixed(e%100===0?0:e%10===0?1:2),[x6,Gn,Bu]=ve("coupon");var $6=ee({name:x6,props:{chosen:Boolean,coupon:Rt(Object),disabled:Boolean,currency:we("\xA5")},setup(e){const t=N(()=>{const{startAt:a,endAt:i}=e.coupon;return`${gp(a)} - ${gp(i)}`}),n=N(()=>{const{coupon:a,currency:i}=e;if(a.valueDesc)return[a.valueDesc,R("span",null,[a.unitDesc||""])];if(a.denominations){const o=pp(a.denominations);return[R("span",null,[i]),` ${o}`]}return a.discount?Bu("discount",R6(a.discount)):""}),r=N(()=>{const a=pp(e.coupon.originCondition||0);return a==="0"?Bu("unlimited"):Bu("condition",a)});return()=>{const{chosen:a,coupon:i,disabled:o}=e,l=o&&i.reason||i.description;return R("div",{class:Gn({disabled:o})},[R("div",{class:Gn("content")},[R("div",{class:Gn("head")},[R("h2",{class:Gn("amount")},[n.value]),R("p",{class:Gn("condition")},[i.condition||r.value])]),R("div",{class:Gn("body")},[R("p",{class:Gn("name")},[i.name]),R("p",{class:Gn("valid")},[t.value]),!o&&R(X1,{class:Gn("corner"),modelValue:a},null)])]),l&&R("p",{class:Gn("description")},[l])])}}});const qc=Te($6),[M6,yp,Xc]=ve("coupon-cell"),F6={title:String,border:ce,editable:ce,coupons:jt(),currency:we("\xA5"),chosenCoupon:Pe(-1)};function B6({coupons:e,chosenCoupon:t,currency:n}){const r=e[+t];if(r){let a=0;return nt(r.value)?{value:a}=r:nt(r.denominations)&&(a=r.denominations),`-${n} ${(a/100).toFixed(2)}`}return e.length===0?Xc("noCoupon"):Xc("count",e.length)}var N6=ee({name:M6,props:F6,setup(e){return()=>{const t=e.coupons[+e.chosenCoupon];return R(Nn,{class:yp(),value:B6(e),title:e.title||Xc("title"),border:e.border,isLink:e.editable,valueClass:yp("value",{selected:t})},null)}}});const j6=Te(N6),bn="van-empty-network-",_r=(e,t,n)=>R("stop",{"stop-color":e,offset:`${t}%`,"stop-opacity":n},null),U6=R("svg",{viewBox:"0 0 160 160"},[R("defs",null,[R("linearGradient",{id:`${bn}1`,x1:"64%",y1:"100%",x2:"64%"},[_r("#FFF",0,.5),_r("#F2F3F5",100)]),R("linearGradient",{id:`${bn}2`,x1:"50%",x2:"50%",y2:"84%"},[_r("#EBEDF0",0),_r("#DCDEE0",100,0)]),R("linearGradient",{id:`${bn}3`,x1:"100%",x2:"100%",y2:"100%"},[_r("#EAEDF0",0),_r("#DCDEE0",100)]),R("radialGradient",{id:`${bn}4`,cx:"50%",cy:"0%",fx:"50%",fy:"0%",r:"100%",gradientTransform:"matrix(0 1 -.54 0 .5 -.5)"},[_r("#EBEDF0",0),_r("#FFF",100,0)])]),R("g",{fill:"none"},[R("g",{opacity:".8"},[R("path",{d:"M36 131V53H16v20H2v58h34z",fill:`url(#${bn}1)`},null),R("path",{d:"M123 15h22v14h9v77h-31V15z",fill:`url(#${bn}1)`},null)]),R("path",{fill:`url(#${bn}4)`,d:"M0 139h160v21H0z"},null),R("path",{d:"M80 54a7 7 0 0 1 3 13v27l-2 2h-2a2 2 0 0 1-2-2V67a7 7 0 0 1 3-13z",fill:`url(#${bn}2)`},null),R("g",{opacity:".6","stroke-linecap":"round","stroke-width":"7"},[R("path",{d:"M64 47a19 19 0 0 0-5 13c0 5 2 10 5 13",stroke:`url(#${bn}3)`},null),R("path",{d:"M53 36a34 34 0 0 0 0 48",stroke:`url(#${bn}3)`},null),R("path",{d:"M95 73a19 19 0 0 0 6-13c0-5-2-9-6-13",stroke:`url(#${bn}3)`},null),R("path",{d:"M106 84a34 34 0 0 0 0-48",stroke:`url(#${bn}3)`},null)]),R("g",{transform:"translate(31 105)"},[R("rect",{fill:"#EBEDF0",width:"98",height:"34",rx:"2"},null),R("rect",{fill:"#FFF",x:"9",y:"8",width:"80",height:"18",rx:"1.1"},null),R("rect",{fill:"#EBEDF0",x:"15",y:"12",width:"18",height:"6",rx:"1.1"},null)])])]),[V6,bs]=ve("empty"),H6=["error","search","default"],z6={image:we("default"),imageSize:[Number,String,Array],description:String};var G6=ee({name:V6,props:z6,setup(e,{slots:t}){const n=()=>{if(t.image)return t.image();let{image:i}=e;return i==="network"?U6:(H6.includes(i)&&(i=`https://img.yzcdn.cn/vant/empty-image-${i}.png`),R("img",{src:i},null))},r=()=>{const i=t.description?t.description():e.description;if(i)return R("p",{class:bs("description")},[i])},a=()=>{if(t.default)return R("div",{class:bs("bottom")},[t.default()])};return()=>R("div",{class:bs()},[R("div",{class:bs("image"),style:qr(e.imageSize)},[n()]),r(),a()])}});const tT=Te(G6),[K6,Kn,Ha]=ve("coupon-list"),W6={code:we(""),coupons:jt(),currency:we("\xA5"),showCount:ce,emptyImage:String,chosenCoupon:Jn(-1),enabledTitle:String,disabledTitle:String,disabledCoupons:jt(),showExchangeBar:ce,showCloseButton:ce,closeButtonText:String,inputPlaceholder:String,exchangeMinLength:Jn(1),exchangeButtonText:String,displayedCouponIndex:Jn(-1),exchangeButtonLoading:Boolean,exchangeButtonDisabled:Boolean};var Y6=ee({name:K6,props:W6,emits:["change","exchange","update:code"],setup(e,{emit:t,slots:n}){const[r,a]=Wl(),i=q(),o=q(),l=q(0),u=q(0),s=q(e.code),c=N(()=>!e.exchangeButtonLoading&&(e.exchangeButtonDisabled||!s.value||s.value.length<e.exchangeMinLength)),d=()=>{const y=ft(i).height,b=ft(o).height+44;u.value=(y>b?y:pi.value)-b},v=()=>{t("exchange",s.value),e.code||(s.value="")},S=h=>{Re(()=>{var y;return(y=r.value[h])==null?void 0:y.scrollIntoView()})},E=()=>R(tT,{image:e.emptyImage},{default:()=>[R("p",{class:Kn("empty-tip")},[Ha("noCoupon")])]}),m=()=>{if(e.showExchangeBar)return R("div",{ref:o,class:Kn("exchange-bar")},[R(Zn,{modelValue:s.value,"onUpdate:modelValue":h=>s.value=h,clearable:!0,border:!1,class:Kn("field"),placeholder:e.inputPlaceholder||Ha("placeholder"),maxlength:"20"},null),R(nn,{plain:!0,type:"danger",class:Kn("exchange"),text:e.exchangeButtonText||Ha("exchange"),loading:e.exchangeButtonLoading,disabled:c.value,onClick:v},null)])},f=()=>{const{coupons:h}=e,y=e.showCount?` (${h.length})`:"",b=(e.enabledTitle||Ha("enable"))+y;return R(ol,{title:b},{default:()=>{var p;return[R("div",{class:Kn("list",{"with-bottom":e.showCloseButton}),style:{height:`${u.value}px`}},[h.map((C,w)=>R(qc,{key:C.id,ref:a(w),coupon:C,chosen:w===e.chosenCoupon,currency:e.currency,onClick:()=>t("change",w)},null)),!h.length&&E(),(p=n["list-footer"])==null?void 0:p.call(n)])]}})},g=()=>{const{disabledCoupons:h}=e,y=e.showCount?` (${h.length})`:"",b=(e.disabledTitle||Ha("disabled"))+y;return R(ol,{title:b},{default:()=>{var p;return[R("div",{class:Kn("list",{"with-bottom":e.showCloseButton}),style:{height:`${u.value}px`}},[h.map(C=>R(qc,{disabled:!0,key:C.id,coupon:C,currency:e.currency},null)),!h.length&&E(),(p=n["disabled-list-footer"])==null?void 0:p.call(n)])]}})};return oe(()=>e.code,h=>{s.value=h}),oe(pi,d),oe(s,h=>t("update:code",h)),oe(()=>e.displayedCouponIndex,S),et(()=>{d(),S(e.displayedCouponIndex)}),()=>R("div",{ref:i,class:Kn()},[m(),R(gf,{active:l.value,"onUpdate:active":h=>l.value=h,class:Kn("tab")},{default:()=>[f(),g()]}),R("div",{class:Kn("bottom")},[Ge(R(nn,{round:!0,block:!0,type:"danger",class:Kn("close"),text:e.closeButtonText||Ha("close"),onClick:()=>t("change",-1)},null),[[qe,e.showCloseButton]])])])}});const q6=Te(Y6),[X6]=ve("time-picker");var pf=ee({name:X6,props:xe({},F1,{minHour:Pe(0),maxHour:Pe(23),minMinute:Pe(0),maxMinute:Pe(59),modelValue:String}),emits:["confirm","cancel","change","update:modelValue"],setup(e,{emit:t,slots:n}){const r=E=>{const{minHour:m,maxHour:f,maxMinute:g,minMinute:h}=e;E||(E=`${zt(m)}:${zt(h)}`);let[y,b]=E.split(":");return y=zt(Gt(+y,+m,+f)),b=zt(Gt(+b,+h,+g)),`${y}:${b}`},a=q(),i=q(r(e.modelValue)),o=N(()=>[{type:"hour",range:[+e.minHour,+e.maxHour]},{type:"minute",range:[+e.minMinute,+e.maxMinute]}]),l=N(()=>o.value.map(({type:E,range:m})=>{let f=N1(m[1]-m[0]+1,g=>zt(m[0]+g));return e.filter&&(f=e.filter(E,f)),{type:E,values:f}})),u=N(()=>l.value.map(E=>({values:E.values.map(m=>e.formatter(E.type,m))}))),s=()=>{const E=i.value.split(":"),m=[e.formatter("hour",E[0]),e.formatter("minute",E[1])];Re(()=>{var f;(f=a.value)==null||f.setValues(m)})},c=()=>{const[E,m]=a.value.getIndexes(),[f,g]=l.value,h=f.values[E]||f.values[0],y=g.values[m]||g.values[0];i.value=r(`${h}:${y}`),s()},d=()=>t("confirm",i.value),v=()=>t("cancel"),S=()=>{c(),Re(()=>{Re(()=>t("change",i.value))})};return et(()=>{s(),Re(c)}),oe(u,s),oe(()=>[e.filter,e.maxHour,e.minMinute,e.maxMinute],c),oe(()=>e.minHour,()=>{Re(c)}),oe(i,E=>t("update:modelValue",E)),oe(()=>e.modelValue,E=>{E=r(E),E!==i.value&&(i.value=E,s())}),ot({getPicker:()=>a.value&&j1(a.value,c)}),()=>R(Ul,We({ref:a,columns:u.value,onChange:S,onCancel:v,onConfirm:d},vt(e,B1)),n)}});const bp=new Date().getFullYear(),[Z6]=ve("date-picker");var yf=ee({name:Z6,props:xe({},F1,{type:we("datetime"),modelValue:Date,minDate:{type:Date,default:()=>new Date(bp-10,0,1),validator:To},maxDate:{type:Date,default:()=>new Date(bp+10,11,31),validator:To}}),emits:["confirm","cancel","change","update:modelValue"],setup(e,{emit:t,slots:n}){const r=m=>{if(To(m)){const f=Gt(m.getTime(),e.minDate.getTime(),e.maxDate.getTime());return new Date(f)}},a=q(),i=q(r(e.modelValue)),o=(m,f)=>{const g=e[`${m}Date`],h=g.getFullYear();let y=1,b=1,p=0,C=0;return m==="max"&&(y=12,b=Wc(f.getFullYear(),f.getMonth()+1),p=23,C=59),f.getFullYear()===h&&(y=g.getMonth()+1,f.getMonth()+1===y&&(b=g.getDate(),f.getDate()===b&&(p=g.getHours(),f.getHours()===p&&(C=g.getMinutes())))),{[`${m}Year`]:h,[`${m}Month`]:y,[`${m}Date`]:b,[`${m}Hour`]:p,[`${m}Minute`]:C}},l=N(()=>{const{maxYear:m,maxDate:f,maxMonth:g,maxHour:h,maxMinute:y}=o("max",i.value||e.minDate),{minYear:b,minDate:p,minMonth:C,minHour:w,minMinute:k}=o("min",i.value||e.minDate);let _=[{type:"year",range:[b,m]},{type:"month",range:[C,g]},{type:"day",range:[p,f]},{type:"hour",range:[w,h]},{type:"minute",range:[k,y]}];switch(e.type){case"date":_=_.slice(0,3);break;case"year-month":_=_.slice(0,2);break;case"month-day":_=_.slice(1,3);break;case"datehour":_=_.slice(0,4);break}if(e.columnsOrder){const T=e.columnsOrder.concat(_.map(O=>O.type));_.sort((O,A)=>T.indexOf(O.type)-T.indexOf(A.type))}return _}),u=N(()=>l.value.map(({type:m,range:f})=>{let g=N1(f[1]-f[0]+1,h=>zt(f[0]+h));return e.filter&&(g=e.filter(m,g)),{type:m,values:g}})),s=N(()=>u.value.map(m=>({values:m.values.map(f=>e.formatter(m.type,f))}))),c=()=>{const m=i.value||e.minDate,{formatter:f}=e,g=u.value.map(h=>{switch(h.type){case"year":return f("year",`${m.getFullYear()}`);case"month":return f("month",zt(m.getMonth()+1));case"day":return f("day",zt(m.getDate()));case"hour":return f("hour",zt(m.getHours()));case"minute":return f("minute",zt(m.getMinutes()));default:return""}});Re(()=>{var h;(h=a.value)==null||h.setValues(g)})},d=()=>{const{type:m}=e,f=a.value.getIndexes(),g=_=>{let T=0;u.value.forEach((A,P)=>{_===A.type&&(T=P)});const{values:O}=u.value[T];return U8(O[f[T]])};let h,y,b;m==="month-day"?(h=(i.value||e.minDate).getFullYear(),y=g("month"),b=g("day")):(h=g("year"),y=g("month"),b=m==="year-month"?1:g("day"));const p=Wc(h,y);b=b>p?p:b;let C=0,w=0;m==="datehour"&&(C=g("hour")),m==="datetime"&&(C=g("hour"),w=g("minute"));const k=new Date(h,y-1,b,C,w);i.value=r(k)},v=()=>{t("update:modelValue",i.value),t("confirm",i.value)},S=()=>t("cancel"),E=()=>{d(),Re(()=>{d(),Re(()=>t("change",i.value))})};return et(()=>{c(),Re(d)}),oe(s,c),oe(i,(m,f)=>t("update:modelValue",f?m:null)),oe(()=>[e.filter,e.minDate,e.maxDate],()=>{Re(d)}),oe(()=>e.modelValue,m=>{var f;m=r(m),m&&m.valueOf()!==((f=i.value)==null?void 0:f.valueOf())&&(i.value=m)}),ot({getPicker:()=>a.value&&j1(a.value,d)}),()=>R(Ul,We({ref:a,columns:s.value,onChange:E,onCancel:S,onConfirm:v},vt(e,B1)),n)}});const[J6,Q6]=ve("datetime-picker"),eH=Object.keys(pf.props),tH=Object.keys(yf.props),nH=xe({},pf.props,yf.props,{modelValue:[String,Date]});var rH=ee({name:J6,props:nH,setup(e,{attrs:t,slots:n}){const r=q();return ot({getPicker:()=>{var a;return(a=r.value)==null?void 0:a.getPicker()}}),()=>{const a=e.type==="time",i=a?pf:yf,o=vt(e,a?eH:tH);return R(i,We({ref:r,class:Q6()},o,t),n)}}});const aH=Te(rH),[iH,_n,Ss]=ve("dialog"),oH=xe({},xi,{title:String,theme:String,width:pe,message:[String,Function],callback:Function,allowHtml:Boolean,className:mt,transition:we("van-dialog-bounce"),messageAlign:String,closeOnPopstate:ce,showCancelButton:Boolean,cancelButtonText:String,cancelButtonColor:String,confirmButtonText:String,confirmButtonColor:String,showConfirmButton:ce,closeOnClickOverlay:Boolean}),sH=[...nf,"transition","closeOnPopstate"];var nT=ee({name:iH,props:oH,emits:["confirm","cancel","keydown","update:show"],setup(e,{emit:t,slots:n}){const r=q(),a=Me({confirm:!1,cancel:!1}),i=g=>t("update:show",g),o=g=>{var h;i(!1),(h=e.callback)==null||h.call(e,g)},l=g=>()=>{!e.show||(t(g),e.beforeClose?(a[g]=!0,Zr(e.beforeClose,{args:[g],done(){o(g),a[g]=!1},canceled(){a[g]=!1}})):o(g))},u=l("cancel"),s=l("confirm"),c=ei(g=>{var h,y;if(g.target!==((y=(h=r.value)==null?void 0:h.popupRef)==null?void 0:y.value))return;({Enter:e.showConfirmButton?s:tl,Escape:e.showCancelButton?u:tl})[g.key](),t("keydown",g)},["enter","esc"]),d=()=>{const g=n.title?n.title():e.title;if(g)return R("div",{class:_n("header",{isolated:!e.message&&!n.default})},[g])},v=g=>{const{message:h,allowHtml:y,messageAlign:b}=e,p=_n("message",{"has-title":g,[b]:b}),C=mi(h)?h():h;return y&&typeof C=="string"?R("div",{class:p,innerHTML:C},null):R("div",{class:p},[C])},S=()=>{if(n.default)return R("div",{class:_n("content")},[n.default()]);const{title:g,message:h,allowHtml:y}=e;if(h){const b=!!(g||n.title);return R("div",{key:y?1:0,class:_n("content",{isolated:!b})},[v(b)])}},E=()=>R("div",{class:[g1,_n("footer")]},[e.showCancelButton&&R(nn,{size:"large",text:e.cancelButtonText||Ss("cancel"),class:_n("cancel"),style:{color:e.cancelButtonColor},loading:a.cancel,onClick:u},null),e.showConfirmButton&&R(nn,{size:"large",text:e.confirmButtonText||Ss("confirm"),class:[_n("confirm"),{[p1]:e.showCancelButton}],style:{color:e.confirmButtonColor},loading:a.confirm,onClick:s},null)]),m=()=>R(S1,{class:_n("footer")},{default:()=>[e.showCancelButton&&R(Hc,{type:"warning",text:e.cancelButtonText||Ss("cancel"),class:_n("cancel"),color:e.cancelButtonColor,loading:a.cancel,onClick:u},null),e.showConfirmButton&&R(Hc,{type:"danger",text:e.confirmButtonText||Ss("confirm"),class:_n("confirm"),color:e.confirmButtonColor,loading:a.confirm,onClick:s},null)]}),f=()=>n.footer?n.footer():e.theme==="round-button"?m():E();return()=>{const{width:g,title:h,theme:y,message:b,className:p}=e;return R(Bn,We({ref:r,role:"dialog",class:[_n([y]),p],style:{width:at(g)},tabindex:0,"aria-labelledby":h||b,onKeydown:c,"onUpdate:show":i},vt(e,sH)),{default:()=>[d(),S(),f()]})}}});let Ro;function lH(){({instance:Ro}=zl({setup(){const{state:t,toggle:n}=Hl();return()=>R(nT,We(t,{"onUpdate:show":n}),null)}}))}function $t(e){return Gr?new Promise((t,n)=>{Ro||lH(),Ro.open(xe({},$t.currentOptions,e,{callback:r=>{(r==="confirm"?t:n)(r)}}))}):Promise.resolve()}$t.defaultOptions={title:"",width:"",theme:null,message:"",overlay:!0,callback:null,teleport:"body",className:"",allowHtml:!1,lockScroll:!0,transition:void 0,beforeClose:null,overlayClass:"",overlayStyle:void 0,messageAlign:"",cancelButtonText:"",cancelButtonColor:null,confirmButtonText:"",confirmButtonColor:null,showConfirmButton:!0,showCancelButton:!1,closeOnPopstate:!0,closeOnClickOverlay:!1};$t.currentOptions=xe({},$t.defaultOptions);$t.alert=$t;$t.confirm=e=>$t(xe({showCancelButton:!0},e));$t.close=()=>{Ro&&Ro.toggle(!1)};$t.setDefaultOptions=e=>{xe($t.currentOptions,e)};$t.resetDefaultOptions=()=>{$t.currentOptions=xe({},$t.defaultOptions)};$t.Component=Te(nT);$t.install=e=>{e.use($t.Component),e.config.globalProperties.$dialog=$t};const[uH,cH]=ve("divider"),dH={dashed:Boolean,hairline:ce,contentPosition:we("center")};var fH=ee({name:uH,props:dH,setup(e,{slots:t}){return()=>{var n;return R("div",{role:"separator",class:cH({dashed:e.dashed,hairline:e.hairline,[`content-${e.contentPosition}`]:!!t.default})},[(n=t.default)==null?void 0:n.call(t)])}}});const hH=Te(fH),[rT,Ts]=ve("dropdown-menu"),vH={overlay:ce,zIndex:pe,duration:Pe(.2),direction:we("down"),activeColor:String,closeOnClickOutside:ce,closeOnClickOverlay:ce},aT=Symbol(rT);var mH=ee({name:rT,props:vH,setup(e,{slots:t}){const n=Go(),r=q(),a=q(),i=q(0),{children:o,linkChildren:l}=Jt(aT),u=Ri(r),s=N(()=>o.some(f=>f.state.showWrapper)),c=N(()=>{if(s.value&&nt(e.zIndex))return{zIndex:+e.zIndex+1}}),d=()=>{e.closeOnClickOutside&&o.forEach(f=>{f.toggle(!1)})},v=()=>{if(a.value){const f=ft(a);e.direction==="down"?i.value=f.bottom:i.value=pi.value-f.top}},S=()=>{s.value&&v()},E=f=>{o.forEach((g,h)=>{h===f?(v(),g.toggle()):g.state.showPopup&&g.toggle(!1,{immediate:!0})})},m=(f,g)=>{const{showPopup:h}=f.state,{disabled:y,titleClass:b}=f;return R("div",{id:`${n}-${g}`,role:"button",tabindex:y?void 0:0,class:[Ts("item",{disabled:y}),{[tn]:!y}],onClick:()=>{y||E(g)}},[R("span",{class:[Ts("title",{down:h===(e.direction==="down"),active:h}),b],style:{color:h?e.activeColor:""}},[R("div",{class:"van-ellipsis"},[f.renderTitle()])])])};return l({id:n,props:e,offset:i}),Ml(r,d),Wr("scroll",S,{target:u}),()=>{var f;return R("div",{ref:r,class:Ts()},[R("div",{ref:a,style:c.value,class:Ts("bar",{opened:s.value})},[o.map(m)]),(f=t.default)==null?void 0:f.call(t)])}}});const[gH,Cs]=ve("dropdown-item"),pH={title:String,options:jt(),disabled:Boolean,teleport:[String,Object],lazyRender:ce,modelValue:mt,titleClass:mt};var yH=ee({name:gH,props:pH,emits:["open","opened","close","closed","change","update:modelValue"],setup(e,{emit:t,slots:n}){const r=Me({showPopup:!1,transition:!0,showWrapper:!1}),{parent:a,index:i}=qt(aT);if(!a)return;const o=f=>()=>t(f),l=o("open"),u=o("close"),s=o("opened"),c=()=>{r.showWrapper=!1,t("closed")},d=f=>{e.teleport&&f.stopPropagation()},v=(f=!r.showPopup,g={})=>{f!==r.showPopup&&(r.showPopup=f,r.transition=!g.immediate,f&&(r.showWrapper=!0))},S=()=>{if(n.title)return n.title();if(e.title)return e.title;const f=e.options.find(g=>g.value===e.modelValue);return f?f.text:""},E=f=>{const{activeColor:g}=a.props,h=f.value===e.modelValue,y=()=>{r.showPopup=!1,f.value!==e.modelValue&&(t("update:modelValue",f.value),t("change",f.value))},b=()=>{if(h)return R(Ke,{class:Cs("icon"),color:g,name:"success"},null)};return R(Nn,{role:"menuitem",key:f.value,icon:f.icon,title:f.text,class:Cs("option",{active:h}),style:{color:h?g:""},tabindex:h?0:-1,clickable:!0,onClick:y},{value:b})},m=()=>{const{offset:f}=a,{zIndex:g,overlay:h,duration:y,direction:b,closeOnClickOverlay:p}=a.props,C=_a(g);return b==="down"?C.top=`${f.value}px`:C.bottom=`${f.value}px`,Ge(R("div",{style:C,class:Cs([b]),onClick:d},[R(Bn,{show:r.showPopup,"onUpdate:show":w=>r.showPopup=w,role:"menu",class:Cs("content"),overlay:h,position:b==="down"?"top":"bottom",duration:r.transition?y:0,lazyRender:e.lazyRender,overlayStyle:{position:"absolute"},"aria-labelledby":`${a.id}-${i.value}`,closeOnClickOverlay:p,onOpen:l,onClose:u,onOpened:s,onClosed:c},{default:()=>{var w;return[e.options.map(E),(w=n.default)==null?void 0:w.call(n)]}})]),[[qe,r.showWrapper]])};return ot({state:r,toggle:v,renderTitle:S}),()=>e.teleport?R(Bo,{to:e.teleport},{default:()=>[m()]}):m()}});const bH=Te(yH),SH=Te(mH),[iT,TH]=ve("grid"),CH={square:Boolean,center:ce,border:ce,gutter:pe,reverse:Boolean,iconSize:pe,direction:String,clickable:Boolean,columnNum:Pe(4)},oT=Symbol(iT);var EH=ee({name:iT,props:CH,setup(e,{slots:t}){const{linkChildren:n}=Jt(oT);return n({props:e}),()=>{var r;return R("div",{style:{paddingLeft:at(e.gutter)},class:[TH(),{[g1]:e.border&&!e.gutter}]},[(r=t.default)==null?void 0:r.call(t)])}}});const wH=Te(EH),[OH,Es]=ve("grid-item"),kH=xe({},Jr,{dot:Boolean,text:String,icon:String,badge:pe,iconColor:String,iconPrefix:String,badgeProps:Object});var _H=ee({name:OH,props:kH,setup(e,{slots:t}){const{parent:n,index:r}=qt(oT),a=Aa();if(!n)return;const i=N(()=>{const{square:c,gutter:d,columnNum:v}=n.props,S=`${100/+v}%`,E={flexBasis:S};if(c)E.paddingTop=S;else if(d){const m=at(d);E.paddingRight=m,r.value>=v&&(E.marginTop=m)}return E}),o=N(()=>{const{square:c,gutter:d}=n.props;if(c&&d){const v=at(d);return{right:v,bottom:v,height:"auto"}}}),l=()=>{if(t.icon)return R(Da,We({dot:e.dot,content:e.badge},e.badgeProps),{default:t.icon});if(e.icon)return R(Ke,{dot:e.dot,name:e.icon,size:n.props.iconSize,badge:e.badge,class:Es("icon"),color:e.iconColor,badgeProps:e.badgeProps,classPrefix:e.iconPrefix},null)},u=()=>{if(t.text)return t.text();if(e.text)return R("span",{class:Es("text")},[e.text])},s=()=>t.default?t.default():[l(),u()];return()=>{const{center:c,border:d,square:v,gutter:S,reverse:E,direction:m,clickable:f}=n.props,g=[Es("content",[m,{center:c,square:v,reverse:E,clickable:f,surround:d&&S}]),{[Xr]:d}];return R("div",{class:[Es({square:v})],style:i.value},[R("div",{role:f?"button":void 0,class:g,style:o.value,tabindex:f?0:void 0,onClick:a},[s()])])}}});const AH=Te(_H),Sp=e=>Math.sqrt((e[0].clientX-e[1].clientX)**2+(e[0].clientY-e[1].clientY)**2),Tp=ve("image-preview")[1];var DH=ee({props:{src:String,show:Boolean,active:Number,minZoom:Rt(pe),maxZoom:Rt(pe),rootWidth:Rt(Number),rootHeight:Rt(Number)},emits:["scale","close"],setup(e,{emit:t}){const n=Me({scale:1,moveX:0,moveY:0,moving:!1,zooming:!1,imageRatio:0,displayWidth:0,displayHeight:0}),r=tr(),a=N(()=>{const{rootWidth:w,rootHeight:k}=e,_=k/w;return n.imageRatio>_}),i=N(()=>{const{scale:w,moveX:k,moveY:_,moving:T,zooming:O}=n,A={transitionDuration:O||T?"0s":".3s"};if(w!==1){const P=k/w,D=_/w;A.transform=`scale(${w}, ${w}) translate(${P}px, ${D}px)`}return A}),o=N(()=>{if(n.imageRatio){const{rootWidth:w,rootHeight:k}=e,_=a.value?k/n.imageRatio:w;return Math.max(0,(n.scale*_-w)/2)}return 0}),l=N(()=>{if(n.imageRatio){const{rootWidth:w,rootHeight:k}=e,_=a.value?k:w*n.imageRatio;return Math.max(0,(n.scale*_-k)/2)}return 0}),u=w=>{w=Gt(w,+e.minZoom,+e.maxZoom+1),w!==n.scale&&(n.scale=w,t("scale",{scale:w,index:e.active}))},s=()=>{u(1),n.moveX=0,n.moveY=0},c=()=>{const w=n.scale>1?1:2;u(w),n.moveX=0,n.moveY=0};let d,v,S,E,m,f,g;const h=w=>{const{touches:k}=w,{offsetX:_}=r;r.start(w),d=k.length,v=n.moveX,S=n.moveY,g=Date.now(),n.moving=d===1&&n.scale!==1,n.zooming=d===2&&!_.value,n.zooming&&(E=n.scale,m=Sp(w.touches))},y=w=>{const{touches:k}=w;if(r.move(w),(n.moving||n.zooming)&&Ct(w,!0),n.moving){const{deltaX:_,deltaY:T}=r,O=_.value+v,A=T.value+S;n.moveX=Gt(O,-o.value,o.value),n.moveY=Gt(A,-l.value,l.value)}if(n.zooming&&k.length===2){const _=Sp(k),T=E*_/m;u(T)}},b=()=>{if(d>1)return;const{offsetX:w,offsetY:k}=r,_=Date.now()-g,T=250,O=5;w.value<O&&k.value<O&&_<T&&(f?(clearTimeout(f),f=null,c()):f=setTimeout(()=>{t("close"),f=null},T))},p=w=>{let k=!1;(n.moving||n.zooming)&&(k=!0,n.moving&&v===n.moveX&&S===n.moveY&&(k=!1),w.touches.length||(n.zooming&&(n.moveX=Gt(n.moveX,-o.value,o.value),n.moveY=Gt(n.moveY,-l.value,l.value),n.zooming=!1),n.moving=!1,v=0,S=0,E=1,n.scale<1&&s(),n.scale>e.maxZoom&&(n.scale=+e.maxZoom))),Ct(w,k),b(),r.reset()},C=w=>{const{naturalWidth:k,naturalHeight:_}=w.target;n.imageRatio=_/k};return oe(()=>e.active,s),oe(()=>e.show,w=>{w||s()}),()=>{const w={loading:()=>R(Fn,{type:"spinner"},null)};return R(mf,{class:Tp("swipe-item"),onTouchstart:h,onTouchmove:y,onTouchend:p,onTouchcancel:p},{default:()=>[R(Yl,{src:e.src,fit:"contain",class:Tp("image",{vertical:a.value}),style:i.value,onLoad:C},w)]})}}});const[PH,za]=ve("image-preview"),IH=["show","transition","overlayStyle","closeOnPopstate"],LH={show:Boolean,loop:ce,images:jt(),minZoom:Pe(1/3),maxZoom:Pe(3),overlay:ce,closeable:Boolean,showIndex:ce,className:mt,closeIcon:we("clear"),transition:String,beforeClose:Function,overlayClass:mt,overlayStyle:Object,swipeDuration:Pe(300),startPosition:Pe(0),showIndicators:Boolean,closeOnPopstate:ce,closeIconPosition:we("top-right")};var sT=ee({name:PH,props:LH,emits:["scale","close","closed","change","update:show"],setup(e,{emit:t,slots:n}){const r=q(),a=Me({active:0,rootWidth:0,rootHeight:0}),i=()=>{if(r.value){const f=ft(r.value.$el);a.rootWidth=f.width,a.rootHeight=f.height,r.value.resize()}},o=f=>t("scale",f),l=f=>t("update:show",f),u=()=>{Zr(e.beforeClose,{args:[a.active],done:()=>l(!1)})},s=f=>{f!==a.active&&(a.active=f,t("change",f))},c=()=>{if(e.showIndex)return R("div",{class:za("index")},[n.index?n.index({index:a.active}):`${a.active+1} / ${e.images.length}`])},d=()=>{if(n.cover)return R("div",{class:za("cover")},[n.cover()])},v=()=>R(vf,{ref:r,lazyRender:!0,loop:e.loop,class:za("swipe"),duration:e.swipeDuration,initialSwipe:e.startPosition,showIndicators:e.showIndicators,indicatorColor:"white",onChange:s},{default:()=>[e.images.map(f=>R(DH,{src:f,show:e.show,active:a.active,maxZoom:e.maxZoom,minZoom:e.minZoom,rootWidth:a.rootWidth,rootHeight:a.rootHeight,onScale:o,onClose:u},null))]}),S=()=>{if(e.closeable)return R(Ke,{role:"button",name:e.closeIcon,class:[za("close-icon",e.closeIconPosition),tn],onClick:u},null)},E=()=>t("closed"),m=(f,g)=>{var h;return(h=r.value)==null?void 0:h.swipeTo(f,g)};return ot({swipeTo:m}),et(i),oe([Bl,pi],i),oe(()=>e.startPosition,f=>s(+f)),oe(()=>e.show,f=>{const{images:g,startPosition:h}=e;f?(s(+h),Re(()=>{i(),m(+h,{immediate:!0})})):t("close",{index:a.active,url:g[a.active]})}),()=>R(Bn,We({class:[za(),e.className],overlayClass:[za("overlay"),e.overlayClass],onClosed:E,"onUpdate:show":l},vt(e,IH)),{default:()=>[S(),v(),c(),d()]})}});let Fs;const RH={loop:!0,images:[],maxZoom:3,minZoom:1/3,onScale:void 0,onClose:void 0,onChange:void 0,teleport:"body",className:"",showIndex:!0,closeable:!1,closeIcon:"clear",transition:void 0,beforeClose:void 0,overlayStyle:void 0,overlayClass:void 0,startPosition:0,swipeDuration:300,showIndicators:!1,closeOnPopstate:!0,closeIconPosition:"top-right"};function xH(){({instance:Fs}=zl({setup(){const{state:e,toggle:t}=Hl(),n=()=>{e.images=[]};return()=>R(sT,We(e,{onClosed:n,"onUpdate:show":t}),null)}}))}const xo=(e,t=0)=>{if(!!Gr)return Fs||xH(),e=Array.isArray(e)?{images:e,startPosition:t}:e,Fs.open(xe({},RH,e)),Fs};xo.Component=Te(sT);xo.install=e=>{e.use(xo.Component)};function $H(){const e="A".charCodeAt(0);return Array(26).fill("").map((n,r)=>String.fromCharCode(e+r))}const[lT,Nu]=ve("index-bar"),MH={sticky:ce,zIndex:pe,teleport:[String,Object],highlightColor:String,stickyOffsetTop:Jn(0),indexList:{type:Array,default:$H}},uT=Symbol(lT);var FH=ee({name:lT,props:MH,emits:["select","change"],setup(e,{emit:t,slots:n}){const r=q(),a=q(""),i=tr(),o=Ri(r),{children:l,linkChildren:u}=Jt(uT);let s;u({props:e});const c=N(()=>{if(nt(e.zIndex))return{zIndex:+e.zIndex+1}}),d=N(()=>{if(e.highlightColor)return{color:e.highlightColor}}),v=(w,k)=>{for(let _=l.length-1;_>=0;_--){const T=_>0?k[_-1].height:0,O=e.sticky?T+e.stickyOffsetTop:0;if(w+O>=k[_].top)return _}return-1},S=w=>l.find(k=>String(k.index)===w),E=()=>{if(gi(r))return;const{sticky:w,indexList:k}=e,_=jr(o.value),T=ft(o),O=l.map(P=>P.getRect(o.value,T));let A=-1;if(s){const P=S(s);if(P){const D=P.getRect(o.value,T);A=v(D.top,O)}}else A=v(_,O);a.value=k[A],w&&l.forEach((P,D)=>{const{state:I,$el:x}=P;if(D===A||D===A-1){const L=x.getBoundingClientRect();I.left=L.left,I.width=L.width}else I.left=null,I.width=null;if(D===A)I.active=!0,I.top=Math.max(e.stickyOffsetTop,O[D].top-_)+T.top;else if(D===A-1&&s===""){const L=O[A].top-_;I.active=L>0,I.top=L+T.top-O[D].height}else I.active=!1}),s=""},m=()=>{Re(E)};Wr("scroll",E,{target:o}),et(m),oe(()=>e.indexList,m),oe(a,w=>{w&&t("change",w)});const f=()=>e.indexList.map(w=>{const k=w===a.value;return R("span",{class:Nu("index",{active:k}),style:k?d.value:void 0,"data-index":w},[w])}),g=w=>{s=String(w);const k=S(s);if(k){const _=jr(o.value),T=ft(o),{offsetHeight:O}=document.documentElement;if(_===O-T.height){E();return}k.$el.scrollIntoView(),e.sticky&&e.stickyOffsetTop&&Fl(zo()-e.stickyOffsetTop),t("select",k.index)}},h=w=>{const{index:k}=w.dataset;k&&g(k)},y=w=>{h(w.target)};let b;const p=w=>{if(i.move(w),i.isVertical()){Ct(w);const{clientX:k,clientY:_}=w.touches[0],T=document.elementFromPoint(k,_);if(T){const{index:O}=T.dataset;O&&b!==O&&(b=O,h(T))}}},C=()=>R("div",{class:Nu("sidebar"),style:c.value,onClick:y,onTouchstart:i.start,onTouchmove:p},[f()]);return ot({scrollTo:g}),()=>{var w;return R("div",{ref:r,class:Nu()},[e.teleport?R(Bo,{to:e.teleport},{default:()=>[C()]}):C(),(w=n.default)==null?void 0:w.call(n)])}}});const[BH,NH]=ve("index-anchor"),jH={index:pe};var UH=ee({name:BH,props:jH,setup(e,{slots:t}){const n=Me({top:0,left:null,rect:{top:0,height:0},width:null,active:!1}),r=q(),{parent:a}=qt(uT);if(!a)return;const i=()=>n.active&&a.props.sticky,o=N(()=>{const{zIndex:u,highlightColor:s}=a.props;if(i())return xe(_a(u),{left:n.left?`${n.left}px`:void 0,width:n.width?`${n.width}px`:void 0,transform:n.top?`translate3d(0, ${n.top}px, 0)`:void 0,color:s})});return ot({state:n,getRect:(u,s)=>{const c=ft(r);return n.rect.height=c.height,u===window||u===document.body?n.rect.top=c.top+zo():n.rect.top=c.top+jr(u)-s.top,n.rect}}),()=>{const u=i();return R("div",{ref:r,style:{height:u?`${n.rect.height}px`:void 0}},[R("div",{style:o.value,class:[NH({sticky:u}),{[ef]:u}]},[t.default?t.default():e.index])])}}});const VH=Te(UH),HH=Te(FH),[zH,Ga,GH]=ve("list"),KH={error:Boolean,offset:Pe(300),loading:Boolean,finished:Boolean,errorText:String,direction:we("down"),loadingText:String,finishedText:String,immediateCheck:ce};var WH=ee({name:zH,props:KH,emits:["load","update:error","update:loading"],setup(e,{emit:t,slots:n}){const r=q(!1),a=q(),i=q(),o=SV(),l=Ri(a),u=()=>{Re(()=>{if(r.value||e.finished||e.error||(o==null?void 0:o.value)===!1)return;const{offset:S,direction:E}=e,m=ft(l);if(!m.height||gi(a))return;let f=!1;const g=ft(i);E==="up"?f=m.top-g.top<=S:f=g.bottom-m.bottom<=S,f&&(r.value=!0,t("update:loading",!0),t("load"))})},s=()=>{if(e.finished){const S=n.finished?n.finished():e.finishedText;if(S)return R("div",{class:Ga("finished-text")},[S])}},c=()=>{t("update:error",!1),u()},d=()=>{if(e.error){const S=n.error?n.error():e.errorText;if(S)return R("div",{role:"button",class:Ga("error-text"),tabindex:0,onClick:c},[S])}},v=()=>{if(r.value&&!e.finished)return R("div",{class:Ga("loading")},[n.loading?n.loading():R(Fn,{class:Ga("loading-icon")},{default:()=>[e.loadingText||GH("loading")]})])};return oe(()=>[e.loading,e.finished,e.error],u),o&&oe(o,S=>{S&&u()}),Cd(()=>{r.value=e.loading}),et(()=>{e.immediateCheck&&u()}),ot({check:u}),Wr("scroll",u,{target:l}),()=>{var S;const E=(S=n.default)==null?void 0:S.call(n),m=R("div",{ref:i,class:Ga("placeholder")},null);return R("div",{ref:a,role:"feed",class:Ga(),"aria-busy":r.value},[e.direction==="down"?E:m,v(),s(),d(),e.direction==="up"?E:m])}}});const YH=Te(WH);function cT(e,t){const n=U1(e);return r=>R("div",{class:t("placeholder"),style:{height:n.value?`${n.value}px`:void 0}},[r()])}const[qH,ur]=ve("nav-bar"),XH={title:String,fixed:Boolean,zIndex:pe,border:ce,leftText:String,rightText:String,leftArrow:Boolean,placeholder:Boolean,safeAreaInsetTop:Boolean};var ZH=ee({name:qH,props:XH,emits:["click-left","click-right"],setup(e,{emit:t,slots:n}){const r=q(),a=cT(r,ur),i=c=>t("click-left",c),o=c=>t("click-right",c),l=()=>n.left?n.left():[e.leftArrow&&R(Ke,{class:ur("arrow"),name:"arrow-left"},null),e.leftText&&R("span",{class:ur("text")},[e.leftText])],u=()=>n.right?n.right():R("span",{class:ur("text")},[e.rightText]),s=()=>{const{title:c,fixed:d,border:v,zIndex:S}=e,E=_a(S),m=e.leftArrow||e.leftText||n.left,f=e.rightText||n.right;return R("div",{ref:r,style:E,class:[ur({fixed:d}),{[ef]:v,"van-safe-area-top":e.safeAreaInsetTop}]},[R("div",{class:ur("content")},[m&&R("div",{class:[ur("left"),tn],onClick:i},[l()]),R("div",{class:[ur("title"),"van-ellipsis"]},[n.title?n.title():c]),f&&R("div",{class:[ur("right"),tn],onClick:o},[u()])])])};return()=>e.fixed&&e.placeholder?a(s):s()}});const JH=Te(ZH),[QH,no]=ve("notice-bar"),ez={text:String,mode:String,color:String,delay:Pe(1),speed:Pe(60),leftIcon:String,wrapable:Boolean,background:String,scrollable:{type:Boolean,default:null}};var tz=ee({name:QH,props:ez,emits:["close","replay"],setup(e,{emit:t,slots:n}){let r=0,a=0,i;const o=q(),l=q(),u=Me({show:!0,offset:0,duration:0}),s=()=>{if(n["left-icon"])return n["left-icon"]();if(e.leftIcon)return R(Ke,{class:no("left-icon"),name:e.leftIcon},null)},c=()=>{if(e.mode==="closeable")return"cross";if(e.mode==="link")return"arrow"},d=f=>{e.mode==="closeable"&&(u.show=!1,t("close",f))},v=()=>{if(n["right-icon"])return n["right-icon"]();const f=c();if(f)return R(Ke,{name:f,class:no("right-icon"),onClick:d},null)},S=()=>{u.offset=r,u.duration=0,en(()=>{va(()=>{u.offset=-a,u.duration=(a+r)/+e.speed,t("replay")})})},E=()=>{const f=e.scrollable===!1&&!e.wrapable,g={transform:u.offset?`translateX(${u.offset}px)`:"",transitionDuration:`${u.duration}s`};return R("div",{ref:o,role:"marquee",class:no("wrap")},[R("div",{ref:l,style:g,class:[no("content"),{"van-ellipsis":f}],onTransitionend:S},[n.default?n.default():e.text])])},m=()=>{const{delay:f,speed:g,scrollable:h}=e,y=nt(f)?+f*1e3:0;r=0,a=0,u.offset=0,u.duration=0,clearTimeout(i),i=setTimeout(()=>{if(!o.value||!l.value||h===!1)return;const b=ft(o).width,p=ft(l).width;(h||p>b)&&va(()=>{r=b,a=p,u.offset=-a,u.duration=a/+g})},y)};return af(m),Li(m),Wr("pageshow",m),ot({reset:m}),oe(()=>[e.text,e.scrollable],m),()=>{const{color:f,wrapable:g,background:h}=e;return Ge(R("div",{role:"alert",class:no({wrapable:g}),style:{color:f,background:h}},[s(),E(),v()]),[[qe,u.show]])}}});const nz=Te(tz),[rz,az]=ve("notify"),iz=xe({},xi,{type:we("danger"),color:String,message:pe,position:we("top"),className:mt,background:String,lockScroll:Boolean});var dT=ee({name:rz,props:iz,emits:["update:show"],setup(e,{emit:t,slots:n}){const r=a=>t("update:show",a);return()=>R(Bn,{show:e.show,class:[az([e.type]),e.className],style:{color:e.color,background:e.background},overlay:!1,position:e.position,duration:.2,lockScroll:e.lockScroll,"onUpdate:show":r},{default:()=>[n.default?n.default():e.message]})}});let Cp,ui;const oz=e=>En(e)?e:{message:e};function sz(){({instance:ui}=zl({setup(){const{state:e,toggle:t}=Hl();return()=>R(dT,We(e,{"onUpdate:show":t}),null)}}))}function hn(e){if(!!Gr)return ui||sz(),e=xe({},hn.currentOptions,oz(e)),ui.open(e),clearTimeout(Cp),e.duration>0&&(Cp=window.setTimeout(hn.clear,e.duration)),ui}const fT=()=>({type:"danger",color:void 0,message:"",onClose:void 0,onClick:void 0,onOpened:void 0,duration:3e3,position:void 0,className:"",lockScroll:!1,background:void 0});hn.clear=()=>{ui&&ui.toggle(!1)};hn.currentOptions=fT();hn.setDefaultOptions=e=>{xe(hn.currentOptions,e)};hn.resetDefaultOptions=()=>{hn.currentOptions=fT()};hn.Component=Te(dT);hn.install=e=>{e.use(hn.Component),e.config.globalProperties.$notify=hn};const[lz,wo]=ve("key"),uz=R("svg",{class:wo("collapse-icon"),viewBox:"0 0 30 24"},[R("path",{d:"M26 13h-2v2h2v-2zm-8-3h2V8h-2v2zm2-4h2V4h-2v2zm2 4h4V4h-2v4h-2v2zm-7 14 3-3h-6l3 3zM6 13H4v2h2v-2zm16 0H8v2h14v-2zm-12-3h2V8h-2v2zM28 0l1 1 1 1v15l-1 2H1l-1-2V2l1-1 1-1zm0 2H2v15h26V2zM6 4v2H4V4zm10 2h2V4h-2v2zM8 9v1H4V8zm8 0v1h-2V8zm-6-5v2H8V4zm4 0v2h-2V4z",fill:"currentColor"},null)]),cz=R("svg",{class:wo("delete-icon"),viewBox:"0 0 32 22"},[R("path",{d:"M28 0a4 4 0 0 1 4 4v14a4 4 0 0 1-4 4H10.4a2 2 0 0 1-1.4-.6L1 13.1c-.6-.5-.9-1.3-.9-2 0-1 .3-1.7.9-2.2L9 .6a2 2 0 0 1 1.4-.6zm0 2H10.4l-8.2 8.3a1 1 0 0 0-.3.7c0 .3.1.5.3.7l8.2 8.4H28a2 2 0 0 0 2-2V4c0-1.1-.9-2-2-2zm-5 4a1 1 0 0 1 .7.3 1 1 0 0 1 0 1.4L20.4 11l3.3 3.3c.2.2.3.5.3.7 0 .3-.1.5-.3.7a1 1 0 0 1-.7.3 1 1 0 0 1-.7-.3L19 12.4l-3.4 3.3a1 1 0 0 1-.6.3 1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7c0-.2.1-.5.3-.7l3.3-3.3-3.3-3.3A1 1 0 0 1 14 7c0-.3.1-.5.3-.7A1 1 0 0 1 15 6a1 1 0 0 1 .6.3L19 9.6l3.3-3.3A1 1 0 0 1 23 6z",fill:"currentColor"},null)]);var ju=ee({name:lz,props:{type:String,text:pe,color:String,wider:Boolean,large:Boolean,loading:Boolean},emits:["press"],setup(e,{emit:t,slots:n}){const r=q(!1),a=tr(),i=s=>{a.start(s),r.value=!0},o=s=>{a.move(s),a.direction.value&&(r.value=!1)},l=s=>{r.value&&(n.default||Ct(s),r.value=!1,t("press",e.text,e.type))},u=()=>{if(e.loading)return R(Fn,{class:wo("loading-icon")},null);const s=n.default?n.default():e.text;switch(e.type){case"delete":return s||cz;case"extra":return s||uz;default:return s}};return()=>R("div",{class:wo("wrapper",{wider:e.wider}),onTouchstart:i,onTouchmove:o,onTouchend:l,onTouchcancel:l},[R("div",{role:"button",tabindex:0,class:wo([e.color,{large:e.large,active:r.value,delete:e.type==="delete"}])},[u()])])}});const[dz,Ar]=ve("number-keyboard"),fz={show:Boolean,title:String,theme:we("default"),zIndex:pe,teleport:[String,Object],maxlength:Pe(1/0),modelValue:we(""),transition:ce,blurOnClose:ce,showDeleteKey:ce,randomKeyOrder:Boolean,closeButtonText:String,deleteButtonText:String,closeButtonLoading:Boolean,hideOnClickOutside:ce,safeAreaInsetBottom:ce,extraKey:{type:[String,Array],default:""}};function hz(e){for(let t=e.length-1;t>0;t--){const n=Math.floor(Math.random()*(t+1)),r=e[t];e[t]=e[n],e[n]=r}return e}var vz=ee({name:dz,props:fz,emits:["show","hide","blur","input","close","delete","update:modelValue"],setup(e,{emit:t,slots:n}){const r=q(),a=()=>{const m=Array(9).fill("").map((f,g)=>({text:g+1}));return e.randomKeyOrder&&hz(m),m},i=()=>[...a(),{text:e.extraKey,type:"extra"},{text:0},{text:e.showDeleteKey?e.deleteButtonText:"",type:e.showDeleteKey?"delete":""}],o=()=>{const m=a(),{extraKey:f}=e,g=Array.isArray(f)?f:[f];return g.length===1?m.push({text:0,wider:!0},{text:g[0],type:"extra"}):g.length===2&&m.push({text:g[0],type:"extra"},{text:0},{text:g[1],type:"extra"}),m},l=N(()=>e.theme==="custom"?o():i()),u=()=>{e.show&&t("blur")},s=()=>{t("close"),e.blurOnClose&&u()},c=()=>t(e.show?"show":"hide"),d=(m,f)=>{if(m===""){f==="extra"&&u();return}const g=e.modelValue;f==="delete"?(t("delete"),t("update:modelValue",g.slice(0,g.length-1))):f==="close"?s():g.length<e.maxlength&&(t("input",m),t("update:modelValue",g+m))},v=()=>{const{title:m,theme:f,closeButtonText:g}=e,h=n["title-left"],y=g&&f==="default";if(!!(m||y||h))return R("div",{class:Ar("header")},[h&&R("span",{class:Ar("title-left")},[h()]),m&&R("h2",{class:Ar("title")},[m]),y&&R("button",{type:"button",class:[Ar("close"),tn],onClick:s},[g])])},S=()=>l.value.map(m=>{const f={};return m.type==="delete"&&(f.default=n.delete),m.type==="extra"&&(f.default=n["extra-key"]),R(ju,{key:m.text,text:m.text,type:m.type,wider:m.wider,color:m.color,onPress:d},f)}),E=()=>{if(e.theme==="custom")return R("div",{class:Ar("sidebar")},[e.showDeleteKey&&R(ju,{large:!0,text:e.deleteButtonText,type:"delete",onPress:d},{delete:n.delete}),R(ju,{large:!0,text:e.closeButtonText,type:"close",color:"blue",loading:e.closeButtonLoading,onPress:d},null)])};return oe(()=>e.show,m=>{e.transition||t(m?"show":"hide")}),e.hideOnClickOutside&&Ml(r,u,{eventName:"touchstart"}),()=>{const m=v(),f=R(mn,{name:e.transition?"van-slide-up":""},{default:()=>[Ge(R("div",{ref:r,style:_a(e.zIndex),class:Ar({unfit:!e.safeAreaInsetBottom,"with-title":!!m}),onTouchstart:Jd,onAnimationend:c,onWebkitAnimationEnd:c},[m,R("div",{class:Ar("body")},[R("div",{class:Ar("keys")},[S()]),E()])]),[[qe,e.show]])]});return e.teleport?R(Bo,{to:e.teleport},{default:()=>[f]}):f}}});const mz=Te(vz),[gz,Ka,Ep]=ve("pagination"),Uu=(e,t,n)=>({number:e,text:t,active:n}),pz={mode:we("multi"),prevText:String,nextText:String,pageCount:Pe(0),modelValue:Jn(0),totalItems:Pe(0),showPageSize:Pe(5),itemsPerPage:Pe(10),forceEllipses:Boolean};var yz=ee({name:gz,props:pz,emits:["change","update:modelValue"],setup(e,{emit:t,slots:n}){const r=N(()=>{const{pageCount:c,totalItems:d,itemsPerPage:v}=e,S=+c||Math.ceil(+d/+v);return Math.max(1,S)}),a=N(()=>{const c=[],d=r.value,v=+e.showPageSize,{modelValue:S,forceEllipses:E}=e;let m=1,f=d;const g=v<d;g&&(m=Math.max(S-Math.floor(v/2),1),f=m+v-1,f>d&&(f=d,m=f-v+1));for(let h=m;h<=f;h++){const y=Uu(h,h,h===S);c.push(y)}if(g&&v>0&&E){if(m>1){const h=Uu(m-1,"...");c.unshift(h)}if(f<d){const h=Uu(f+1,"...");c.push(h)}}return c}),i=(c,d)=>{c=Gt(c,1,r.value),e.modelValue!==c&&(t("update:modelValue",c),d&&t("change",c))};pl(()=>i(e.modelValue));const o=()=>R("li",{class:Ka("page-desc")},[n.pageDesc?n.pageDesc():`${e.modelValue}/${r.value}`]),l=()=>{const{mode:c,modelValue:d}=e,v=n["prev-text"],S=d===1;return R("li",{class:[Ka("item",{disabled:S,border:c==="simple",prev:!0}),Co]},[R("button",{type:"button",disabled:S,onClick:()=>i(d-1,!0)},[v?v():e.prevText||Ep("prev")])])},u=()=>{const{mode:c,modelValue:d}=e,v=n["next-text"],S=d===r.value;return R("li",{class:[Ka("item",{disabled:S,border:c==="simple",next:!0}),Co]},[R("button",{type:"button",disabled:S,onClick:()=>i(d+1,!0)},[v?v():e.nextText||Ep("next")])])},s=()=>a.value.map(c=>R("li",{class:[Ka("item",{active:c.active,page:!0}),Co]},[R("button",{type:"button","aria-current":c.active||void 0,onClick:()=>i(c.number,!0)},[n.page?n.page(c):c.text])]));return()=>R("nav",{role:"navigation",class:Ka()},[R("ul",{class:Ka("items")},[l(),e.mode==="simple"?o():s(),u()])])}});const bz=Te(yz),[Sz,ro]=ve("password-input"),Tz={info:String,mask:ce,value:we(""),gutter:pe,length:Pe(6),focused:Boolean,errorInfo:String};var Cz=ee({name:Sz,props:Tz,emits:["focus"],setup(e,{emit:t}){const n=a=>{a.stopPropagation(),t("focus",a)},r=()=>{const a=[],{mask:i,value:o,length:l,gutter:u,focused:s}=e;for(let c=0;c<l;c++){const d=o[c],v=c!==0&&!u,S=s&&c===o.length;let E;c!==0&&u&&(E={marginLeft:at(u)}),a.push(R("li",{class:[{[p1]:v},ro("item",{focus:S})],style:E},[i?R("i",{style:{visibility:d?"visible":"hidden"}},null):d,S&&R("div",{class:ro("cursor")},null)]))}return a};return()=>{const a=e.errorInfo||e.info;return R("div",{class:ro()},[R("ul",{class:[ro("security"),{[Co]:!e.gutter}],onTouchstart:n},[r()]),a&&R("div",{class:ro(e.errorInfo?"error-info":"info")},[a])])}}});const Ez=Te(Cz);function sl(e){var t=e.getBoundingClientRect();return{width:t.width,height:t.height,top:t.top,right:t.right,bottom:t.bottom,left:t.left,x:t.left,y:t.top}}function nr(e){if(e==null)return window;if(e.toString()!=="[object Window]"){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function hT(e){var t=nr(e),n=t.pageXOffset,r=t.pageYOffset;return{scrollLeft:n,scrollTop:r}}function vT(e){var t=nr(e).Element;return e instanceof t||e instanceof Element}function mr(e){var t=nr(e).HTMLElement;return e instanceof t||e instanceof HTMLElement}function wz(e){if(typeof ShadowRoot=="undefined")return!1;var t=nr(e).ShadowRoot;return e instanceof t||e instanceof ShadowRoot}function Oz(e){return{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}}function kz(e){return e===nr(e)||!mr(e)?hT(e):Oz(e)}function gr(e){return e?(e.nodeName||"").toLowerCase():null}function ql(e){return((vT(e)?e.ownerDocument:e.document)||window.document).documentElement}function _z(e){return sl(ql(e)).left+hT(e).scrollLeft}function Sa(e){return nr(e).getComputedStyle(e)}function bf(e){var t=Sa(e),n=t.overflow,r=t.overflowX,a=t.overflowY;return/auto|scroll|overlay|hidden/.test(n+a+r)}function Az(e,t,n){n===void 0&&(n=!1);var r=ql(t),a=sl(e),i=mr(t),o={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(i||!i&&!n)&&((gr(t)!=="body"||bf(r))&&(o=kz(t)),mr(t)?(l=sl(t),l.x+=t.clientLeft,l.y+=t.clientTop):r&&(l.x=_z(r))),{x:a.left+o.scrollLeft-l.x,y:a.top+o.scrollTop-l.y,width:a.width,height:a.height}}function Dz(e){var t=sl(e),n=e.offsetWidth,r=e.offsetHeight;return Math.abs(t.width-n)<=1&&(n=t.width),Math.abs(t.height-r)<=1&&(r=t.height),{x:e.offsetLeft,y:e.offsetTop,width:n,height:r}}function Sf(e){return gr(e)==="html"?e:e.assignedSlot||e.parentNode||(wz(e)?e.host:null)||ql(e)}function mT(e){return["html","body","#document"].indexOf(gr(e))>=0?e.ownerDocument.body:mr(e)&&bf(e)?e:mT(Sf(e))}function Bs(e,t){var n;t===void 0&&(t=[]);var r=mT(e),a=r===((n=e.ownerDocument)==null?void 0:n.body),i=nr(r),o=a?[i].concat(i.visualViewport||[],bf(r)?r:[]):r,l=t.concat(o);return a?l:l.concat(Bs(Sf(o)))}function Pz(e){return["table","td","th"].indexOf(gr(e))>=0}function wp(e){return!mr(e)||Sa(e).position==="fixed"?null:e.offsetParent}function Iz(e){var t=navigator.userAgent.toLowerCase().indexOf("firefox")!==-1,n=navigator.userAgent.indexOf("Trident")!==-1;if(n&&mr(e)){var r=Sa(e);if(r.position==="fixed")return null}for(var a=Sf(e);mr(a)&&["html","body"].indexOf(gr(a))<0;){var i=Sa(a);if(i.transform!=="none"||i.perspective!=="none"||i.contain==="paint"||["transform","perspective"].indexOf(i.willChange)!==-1||t&&i.willChange==="filter"||t&&i.filter&&i.filter!=="none")return a;a=a.parentNode}return null}function gT(e){for(var t=nr(e),n=wp(e);n&&Pz(n)&&Sa(n).position==="static";)n=wp(n);return n&&(gr(n)==="html"||gr(n)==="body"&&Sa(n).position==="static")?t:n||Iz(e)||t}var $o="top",Tf="bottom",Xl="right",yi="left",Lz="auto",Rz=[$o,Tf,Xl,yi],pT="start",yT="end",xz=[].concat(Rz,[Lz]).reduce(function(e,t){return e.concat([t,t+"-"+pT,t+"-"+yT])},[]),$z="beforeRead",Mz="read",Fz="afterRead",Bz="beforeMain",Nz="main",jz="afterMain",Uz="beforeWrite",Vz="write",Hz="afterWrite",zz=[$z,Mz,Fz,Bz,Nz,jz,Uz,Vz,Hz];function Gz(e){var t=new Map,n=new Set,r=[];e.forEach(function(i){t.set(i.name,i)});function a(i){n.add(i.name);var o=[].concat(i.requires||[],i.requiresIfExists||[]);o.forEach(function(l){if(!n.has(l)){var u=t.get(l);u&&a(u)}}),r.push(i)}return e.forEach(function(i){n.has(i.name)||a(i)}),r}function Kz(e){var t=Gz(e);return zz.reduce(function(n,r){return n.concat(t.filter(function(a){return a.phase===r}))},[])}function Wz(e){var t;return function(){return t||(t=new Promise(function(n){Promise.resolve().then(function(){t=void 0,n(e())})})),t}}function Cf(e){return e.split("-")[0]}function Yz(e){var t=e.reduce(function(n,r){var a=n[r.name];return n[r.name]=a?Object.assign({},a,r,{options:Object.assign({},a.options,r.options),data:Object.assign({},a.data,r.data)}):r,n},{});return Object.keys(t).map(function(n){return t[n]})}var ws=Math.round;function qz(e){return e.split("-")[1]}function Xz(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function Zz(e){var t=e.reference,n=e.element,r=e.placement,a=r?Cf(r):null,i=r?qz(r):null,o=t.x+t.width/2-n.width/2,l=t.y+t.height/2-n.height/2,u;switch(a){case $o:u={x:o,y:t.y-n.height};break;case Tf:u={x:o,y:t.y+t.height};break;case Xl:u={x:t.x+t.width,y:l};break;case yi:u={x:t.x-n.width,y:l};break;default:u={x:t.x,y:t.y}}var s=a?Xz(a):null;if(s!=null){var c=s==="y"?"height":"width";switch(i){case pT:u[s]=u[s]-(t[c]/2-n[c]/2);break;case yT:u[s]=u[s]+(t[c]/2-n[c]/2);break}}return u}var Op={placement:"bottom",modifiers:[],strategy:"absolute"};function kp(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return!t.some(function(r){return!(r&&typeof r.getBoundingClientRect=="function")})}function Jz(e){e===void 0&&(e={});var t=e,n=t.defaultModifiers,r=n===void 0?[]:n,a=t.defaultOptions,i=a===void 0?Op:a;return function(l,u,s){s===void 0&&(s=i);var c={placement:"bottom",orderedModifiers:[],options:Object.assign({},Op,i),modifiersData:{},elements:{reference:l,popper:u},attributes:{},styles:{}},d=[],v=!1,S={state:c,setOptions:function(g){m(),c.options=Object.assign({},i,c.options,g),c.scrollParents={reference:vT(l)?Bs(l):l.contextElement?Bs(l.contextElement):[],popper:Bs(u)};var h=Kz(Yz([].concat(r,c.options.modifiers)));return c.orderedModifiers=h.filter(function(y){return y.enabled}),E(),S.update()},forceUpdate:function(){if(!v){var g=c.elements,h=g.reference,y=g.popper;if(!!kp(h,y)){c.rects={reference:Az(h,gT(y),c.options.strategy==="fixed"),popper:Dz(y)},c.reset=!1,c.placement=c.options.placement,c.orderedModifiers.forEach(function(T){return c.modifiersData[T.name]=Object.assign({},T.data)});for(var b=0;b<c.orderedModifiers.length;b++){if(c.reset===!0){c.reset=!1,b=-1;continue}var p=c.orderedModifiers[b],C=p.fn,w=p.options,k=w===void 0?{}:w,_=p.name;typeof C=="function"&&(c=C({state:c,options:k,name:_,instance:S})||c)}}}},update:Wz(function(){return new Promise(function(f){S.forceUpdate(),f(c)})}),destroy:function(){m(),v=!0}};if(!kp(l,u))return S;S.setOptions(s).then(function(f){!v&&s.onFirstUpdate&&s.onFirstUpdate(f)});function E(){c.orderedModifiers.forEach(function(f){var g=f.name,h=f.options,y=h===void 0?{}:h,b=f.effect;if(typeof b=="function"){var p=b({state:c,name:g,instance:S,options:y}),C=function(){};d.push(p||C)}})}function m(){d.forEach(function(f){return f()}),d=[]}return S}}var Os={passive:!0};function Qz(e){var t=e.state,n=e.instance,r=e.options,a=r.scroll,i=a===void 0?!0:a,o=r.resize,l=o===void 0?!0:o,u=nr(t.elements.popper),s=[].concat(t.scrollParents.reference,t.scrollParents.popper);return i&&s.forEach(function(c){c.addEventListener("scroll",n.update,Os)}),l&&u.addEventListener("resize",n.update,Os),function(){i&&s.forEach(function(c){c.removeEventListener("scroll",n.update,Os)}),l&&u.removeEventListener("resize",n.update,Os)}}var eG={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:Qz,data:{}};function tG(e){var t=e.state,n=e.name;t.modifiersData[n]=Zz({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})}var nG={name:"popperOffsets",enabled:!0,phase:"read",fn:tG,data:{}},rG={top:"auto",right:"auto",bottom:"auto",left:"auto"};function aG(e){var t=e.x,n=e.y,r=window,a=r.devicePixelRatio||1;return{x:ws(ws(t*a)/a)||0,y:ws(ws(n*a)/a)||0}}function _p(e){var t,n=e.popper,r=e.popperRect,a=e.placement,i=e.offsets,o=e.position,l=e.gpuAcceleration,u=e.adaptive,s=e.roundOffsets,c=s===!0?aG(i):typeof s=="function"?s(i):i,d=c.x,v=d===void 0?0:d,S=c.y,E=S===void 0?0:S,m=i.hasOwnProperty("x"),f=i.hasOwnProperty("y"),g=yi,h=$o,y=window;if(u){var b=gT(n),p="clientHeight",C="clientWidth";b===nr(n)&&(b=ql(n),Sa(b).position!=="static"&&(p="scrollHeight",C="scrollWidth")),b=b,a===$o&&(h=Tf,E-=b[p]-r.height,E*=l?1:-1),a===yi&&(g=Xl,v-=b[C]-r.width,v*=l?1:-1)}var w=Object.assign({position:o},u&&rG);if(l){var k;return Object.assign({},w,(k={},k[h]=f?"0":"",k[g]=m?"0":"",k.transform=(y.devicePixelRatio||1)<2?"translate("+v+"px, "+E+"px)":"translate3d("+v+"px, "+E+"px, 0)",k))}return Object.assign({},w,(t={},t[h]=f?E+"px":"",t[g]=m?v+"px":"",t.transform="",t))}function iG(e){var t=e.state,n=e.options,r=n.gpuAcceleration,a=r===void 0?!0:r,i=n.adaptive,o=i===void 0?!0:i,l=n.roundOffsets,u=l===void 0?!0:l,s={placement:Cf(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:a};t.modifiersData.popperOffsets!=null&&(t.styles.popper=Object.assign({},t.styles.popper,_p(Object.assign({},s,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:o,roundOffsets:u})))),t.modifiersData.arrow!=null&&(t.styles.arrow=Object.assign({},t.styles.arrow,_p(Object.assign({},s,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:u})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})}var oG={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:iG,data:{}};function sG(e){var t=e.state;Object.keys(t.elements).forEach(function(n){var r=t.styles[n]||{},a=t.attributes[n]||{},i=t.elements[n];!mr(i)||!gr(i)||(Object.assign(i.style,r),Object.keys(a).forEach(function(o){var l=a[o];l===!1?i.removeAttribute(o):i.setAttribute(o,l===!0?"":l)}))})}function lG(e){var t=e.state,n={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,n.popper),t.styles=n,t.elements.arrow&&Object.assign(t.elements.arrow.style,n.arrow),function(){Object.keys(t.elements).forEach(function(r){var a=t.elements[r],i=t.attributes[r]||{},o=Object.keys(t.styles.hasOwnProperty(r)?t.styles[r]:n[r]),l=o.reduce(function(u,s){return u[s]="",u},{});!mr(a)||!gr(a)||(Object.assign(a.style,l),Object.keys(i).forEach(function(u){a.removeAttribute(u)}))})}}var uG={name:"applyStyles",enabled:!0,phase:"write",fn:sG,effect:lG,requires:["computeStyles"]},cG=[eG,nG,oG,uG],dG=Jz({defaultModifiers:cG});function fG(e,t,n){var r=Cf(e),a=[yi,$o].indexOf(r)>=0?-1:1,i=typeof n=="function"?n(Object.assign({},t,{placement:e})):n,o=i[0],l=i[1];return o=o||0,l=(l||0)*a,[yi,Xl].indexOf(r)>=0?{x:l,y:o}:{x:o,y:l}}function hG(e){var t=e.state,n=e.options,r=e.name,a=n.offset,i=a===void 0?[0,0]:a,o=xz.reduce(function(c,d){return c[d]=fG(d,t.rects,i),c},{}),l=o[t.placement],u=l.x,s=l.y;t.modifiersData.popperOffsets!=null&&(t.modifiersData.popperOffsets.x+=u,t.modifiersData.popperOffsets.y+=s),t.modifiersData[r]=o}var vG={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:hG};const[mG,la]=ve("popover"),gG=["show","overlay","duration","teleport","overlayStyle","overlayClass","closeOnClickOverlay"],pG={show:Boolean,theme:we("light"),overlay:Boolean,actions:jt(),trigger:we("click"),duration:pe,showArrow:ce,placement:we("bottom"),iconPrefix:String,overlayClass:mt,overlayStyle:Object,closeOnClickAction:ce,closeOnClickOverlay:ce,closeOnClickOutside:ce,offset:{type:Array,default:()=>[0,8]},teleport:{type:[String,Object],default:"body"}};var yG=ee({name:mG,props:pG,emits:["select","touchstart","update:show"],setup(e,{emit:t,slots:n,attrs:r}){let a;const i=q(),o=q(),l=()=>i.value&&o.value?dG(i.value,o.value.popupRef.value,{placement:e.placement,modifiers:[{name:"computeStyles",options:{adaptive:!1,gpuAcceleration:!1}},xe({},vG,{options:{offset:e.offset}})]}):null,u=()=>{Re(()=>{!e.show||(a?a.setOptions({placement:e.placement}):a=l())})},s=f=>t("update:show",f),c=()=>{e.trigger==="click"&&s(!e.show)},d=f=>{f.stopPropagation(),t("touchstart",f)},v=(f,g)=>{f.disabled||(t("select",f,g),e.closeOnClickAction&&s(!1))},S=()=>{e.closeOnClickOutside&&(!e.overlay||e.closeOnClickOverlay)&&s(!1)},E=(f,g)=>n.action?n.action({action:f,index:g}):[f.icon&&R(Ke,{name:f.icon,classPrefix:e.iconPrefix,class:la("action-icon")},null),R("div",{class:[la("action-text"),ef]},[f.text])],m=(f,g)=>{const{icon:h,color:y,disabled:b,className:p}=f;return R("div",{role:"menuitem",class:[la("action",{disabled:b,"with-icon":h}),p],style:{color:y},tabindex:b?void 0:0,"aria-disabled":b||void 0,onClick:()=>v(f,g)},[E(f,g)])};return et(u),er(()=>{a&&(a.destroy(),a=null)}),oe(()=>[e.show,e.placement],u),Ml(i,S,{eventName:"touchstart"}),()=>{var f;return R(Ce,null,[R("span",{ref:i,class:la("wrapper"),onClick:c},[(f=n.reference)==null?void 0:f.call(n)]),R(Bn,We({ref:o,class:la([e.theme]),position:"",transition:"van-popover-zoom",lockScroll:!1,onTouchstart:d,"onUpdate:show":s},r,vt(e,gG)),{default:()=>[e.showArrow&&R("div",{class:la("arrow")},null),R("div",{role:"menu",class:la("content")},[n.default?n.default():e.actions.map(m)])]})])}}});const bG=Te(yG),[SG,Vu]=ve("progress"),TG={color:String,inactive:Boolean,pivotText:String,textColor:String,showPivot:ce,pivotColor:String,trackColor:String,strokeWidth:pe,percentage:{type:pe,default:0,validator:e=>e>=0&&e<=100}};var CG=ee({name:SG,props:TG,setup(e){const t=N(()=>e.inactive?void 0:e.color),n=()=>{const{textColor:r,pivotText:a,pivotColor:i,percentage:o}=e,l=a!=null?a:`${o}%`;if(e.showPivot&&l){const u={color:r,left:`${+o}%`,transform:`translate(-${+o}%,-50%)`,background:i||t.value};return R("span",{style:u,class:Vu("pivot",{inactive:e.inactive})},[l])}};return()=>{const{trackColor:r,percentage:a,strokeWidth:i}=e,o={background:r,height:at(i)},l={width:`${a}%`,background:t.value};return R("div",{class:Vu(),style:o},[R("span",{class:Vu("portion",{inactive:e.inactive}),style:l},null),n()])}}});const EG=Te(CG),[wG,ao,OG]=ve("pull-refresh"),bT=50,kG=["pulling","loosing","success"],_G={disabled:Boolean,modelValue:Boolean,headHeight:Pe(bT),successText:String,pullingText:String,loosingText:String,loadingText:String,pullDistance:pe,successDuration:Pe(500),animationDuration:Pe(300)};var AG=ee({name:wG,props:_G,emits:["refresh","update:modelValue"],setup(e,{emit:t,slots:n}){let r;const a=q(),i=Ri(a),o=Me({status:"normal",distance:0,duration:0}),l=tr(),u=()=>{if(e.headHeight!==bT)return{height:`${e.headHeight}px`}},s=()=>o.status!=="loading"&&o.status!=="success"&&!e.disabled,c=y=>{const b=+(e.pullDistance||e.headHeight);return y>b&&(y<b*2?y=b+(y-b)/2:y=b*1.5+(y-b*2)/4),Math.round(y)},d=(y,b)=>{const p=+(e.pullDistance||e.headHeight);o.distance=y,b?o.status="loading":y===0?o.status="normal":y<p?o.status="pulling":o.status="loosing"},v=()=>{const{status:y}=o;return y==="normal"?"":e[`${y}Text`]||OG(y)},S=()=>{const{status:y,distance:b}=o;if(n[y])return n[y]({distance:b});const p=[];return kG.includes(y)&&p.push(R("div",{class:ao("text")},[v()])),y==="loading"&&p.push(R(Fn,{class:ao("loading")},{default:v})),p},E=()=>{o.status="success",setTimeout(()=>{d(0)},+e.successDuration)},m=y=>{r=jr(i.value)===0,r&&(o.duration=0,l.start(y))},f=y=>{s()&&m(y)},g=y=>{if(s()){r||m(y);const{deltaY:b}=l;l.move(y),r&&b.value>=0&&l.isVertical()&&(Ct(y),d(c(b.value)))}},h=()=>{r&&l.deltaY.value&&s()&&(o.duration=+e.animationDuration,o.status==="loosing"?(d(+e.headHeight,!0),t("update:modelValue",!0),Re(()=>t("refresh"))):d(0))};return oe(()=>e.modelValue,y=>{o.duration=+e.animationDuration,y?d(+e.headHeight,!0):n.success||e.successText?E():d(0,!1)}),()=>{var y;const b={transitionDuration:`${o.duration}ms`,transform:o.distance?`translate3d(0,${o.distance}px, 0)`:""};return R("div",{ref:a,class:ao()},[R("div",{class:ao("track"),style:b,onTouchstart:f,onTouchmove:g,onTouchend:h,onTouchcancel:h},[R("div",{class:ao("head"),style:u()},[S()]),(y=n.default)==null?void 0:y.call(n)])])}}});const DG=Te(AG),[PG,ks]=ve("rate");function IG(e,t,n,r){return e>=t?{status:"full",value:1}:e+.5>=t&&n&&!r?{status:"half",value:.5}:e+1>=t&&n&&r?{status:"half",value:Math.round((e-t+1)*1e10)/1e10}:{status:"void",value:0}}const LG={size:pe,icon:we("star"),color:String,count:Pe(5),gutter:pe,readonly:Boolean,disabled:Boolean,voidIcon:we("star-o"),allowHalf:Boolean,voidColor:String,touchable:ce,iconPrefix:String,modelValue:Jn(0),disabledColor:String};var RG=ee({name:PG,props:LG,emits:["change","update:modelValue"],setup(e,{emit:t}){const n=tr(),[r,a]=Wl(),i=q(),o=()=>e.readonly||e.disabled||!e.touchable,l=N(()=>Array(+e.count).fill("").map((h,y)=>IG(e.modelValue,y+1,e.allowHalf,e.readonly)));let u,s,c=Number.MAX_SAFE_INTEGER,d=Number.MIN_SAFE_INTEGER;const v=()=>{s=ft(i);const h=r.value.map(ft);u=[],h.forEach((y,b)=>{c=Math.min(y.top,c),d=Math.max(y.top,d),e.allowHalf?u.push({score:b+.5,left:y.left,top:y.top,height:y.height},{score:b+1,left:y.left+y.width/2,top:y.top,height:y.height}):u.push({score:b+1,left:y.left,top:y.top,height:y.height})})},S=(h,y)=>{for(let b=u.length-1;b>0;b--)if(y>=s.top&&y<=s.bottom){if(h>u[b].left&&y>=u[b].top&&y<=u[b].top+u[b].height)return u[b].score}else{const p=y<s.top?c:d;if(h>u[b].left&&u[b].top===p)return u[b].score}return e.allowHalf?.5:1},E=h=>{!e.disabled&&!e.readonly&&h!==e.modelValue&&(t("update:modelValue",h),t("change",h))},m=h=>{o()||(n.start(h),v())},f=h=>{if(!o()&&(n.move(h),n.isHorizontal())){const{clientX:y,clientY:b}=h.touches[0];Ct(h),E(S(y,b))}},g=(h,y)=>{const{icon:b,size:p,color:C,count:w,gutter:k,voidIcon:_,disabled:T,voidColor:O,allowHalf:A,iconPrefix:P,disabledColor:D}=e,I=y+1,x=h.status==="full",L=h.status==="void",$=A&&h.value>0&&h.value<1;let M;k&&I!==+w&&(M={paddingRight:at(k)});const j=F=>{v(),E(A?S(F.clientX,F.clientY):I)};return R("div",{key:y,ref:a(y),role:"radio",style:M,class:ks("item"),tabindex:T?void 0:0,"aria-setsize":w,"aria-posinset":I,"aria-checked":!L,onClick:j},[R(Ke,{size:p,name:x?b:_,class:ks("icon",{disabled:T,full:x}),color:T?D:x?C:O,classPrefix:P},null),$&&R(Ke,{size:p,style:{width:h.value+"em"},name:L?_:b,class:ks("icon",["half",{disabled:T,full:!L}]),color:T?D:L?O:C,classPrefix:P},null)])};return Yr(()=>e.modelValue),()=>R("div",{ref:i,role:"radiogroup",class:ks({readonly:e.readonly,disabled:e.disabled}),tabindex:e.disabled?void 0:0,"aria-disabled":e.disabled,"aria-readonly":e.readonly,onTouchstart:m,onTouchmove:f},[l.value.map(g)])}});const xG=Te(RG),$G=Te(JV),[MG,io,FG]=ve("search"),BG=xe({},sf,{label:String,shape:we("square"),leftIcon:we("search"),clearable:ce,actionText:String,background:String,showAction:Boolean});var NG=ee({name:MG,props:BG,emits:["blur","focus","clear","search","cancel","click-input","click-left-icon","click-right-icon","update:modelValue"],setup(e,{emit:t,slots:n,attrs:r}){const a=Go(),i=q(),o=()=>{n.action||(t("update:modelValue",""),t("cancel"))},l=p=>{p.keyCode===13&&(Ct(p),t("search",e.modelValue))},u=()=>e.id||`${a}-input`,s=()=>{if(n.label||e.label)return R("label",{class:io("label"),for:u()},[n.label?n.label():e.label])},c=()=>{if(e.showAction){const p=e.actionText||FG("cancel");return R("div",{class:io("action"),role:"button",tabindex:0,onClick:o},[n.action?n.action():p])}},d=()=>{var p;return(p=i.value)==null?void 0:p.blur()},v=()=>{var p;return(p=i.value)==null?void 0:p.focus()},S=p=>t("blur",p),E=p=>t("focus",p),m=p=>t("clear",p),f=p=>t("click-input",p),g=p=>t("click-left-icon",p),h=p=>t("click-right-icon",p),y=Object.keys(sf),b=()=>{const p=xe({},r,vt(e,y),{id:u()}),C=w=>t("update:modelValue",w);return R(Zn,We({ref:i,type:"search",class:io("field"),border:!1,onBlur:S,onFocus:E,onClear:m,onKeypress:l,"onClick-input":f,"onClick-left-icon":g,"onClick-right-icon":h,"onUpdate:modelValue":C},p),vt(n,["left-icon","right-icon"]))};return ot({focus:v,blur:d}),()=>{var p;return R("div",{class:io({"show-action":e.showAction}),style:{background:e.background}},[(p=n.left)==null?void 0:p.call(n),R("div",{class:io("content",e.shape)},[s(),b()]),c()])}}});const jG=Te(NG),UG=[...nf,"round","closeOnPopstate","safeAreaInsetBottom"],Ap={qq:"qq",link:"link-o",weibo:"weibo",qrcode:"qr",poster:"photo-o",wechat:"wechat","weapp-qrcode":"miniprogram-o","wechat-moments":"wechat-moments"},[VG,An,HG]=ve("share-sheet"),zG=xe({},xi,{title:String,round:ce,options:jt(),cancelText:String,description:String,closeOnPopstate:ce,safeAreaInsetBottom:ce});var GG=ee({name:VG,props:zG,emits:["cancel","select","update:show"],setup(e,{emit:t,slots:n}){const r=v=>t("update:show",v),a=()=>{r(!1),t("cancel")},i=(v,S)=>t("select",v,S),o=()=>{const v=n.title?n.title():e.title,S=n.description?n.description():e.description;if(v||S)return R("div",{class:An("header")},[v&&R("h2",{class:An("title")},[v]),S&&R("span",{class:An("description")},[S])])},l=v=>Ap[v]?R("div",{class:An("icon",[v])},[R(Ke,{name:Ap[v]||v},null)]):R("img",{src:v,class:An("image-icon")},null),u=(v,S)=>{const{name:E,icon:m,className:f,description:g}=v;return R("div",{role:"button",tabindex:0,class:[An("option"),f,tn],onClick:()=>i(v,S)},[l(m),E&&R("span",{class:An("name")},[E]),g&&R("span",{class:An("option-description")},[g])])},s=(v,S)=>R("div",{class:An("options",{border:S})},[v.map(u)]),c=()=>{const{options:v}=e;return Array.isArray(v[0])?v.map((S,E)=>s(S,E!==0)):s(v)},d=()=>{var v;const S=(v=e.cancelText)!=null?v:HG("cancel");if(n.cancel||S)return R("button",{type:"button",class:An("cancel"),onClick:a},[n.cancel?n.cancel():S])};return()=>R(Bn,We({class:An(),position:"bottom","onUpdate:show":r},vt(e,UG)),{default:()=>[o(),c(),d()]})}});const KG=Te(GG),[ST,WG]=ve("sidebar"),TT=Symbol(ST),YG={modelValue:Pe(0)};var qG=ee({name:ST,props:YG,emits:["change","update:modelValue"],setup(e,{emit:t,slots:n}){const{linkChildren:r}=Jt(TT),a=()=>+e.modelValue;return r({getActive:a,setActive:o=>{o!==a()&&(t("update:modelValue",o),t("change",o))}}),()=>{var o;return R("div",{role:"tablist",class:WG()},[(o=n.default)==null?void 0:o.call(n)])}}});const CT=Te(qG),[XG,Dp]=ve("sidebar-item"),ZG=xe({},Jr,{dot:Boolean,title:String,badge:pe,disabled:Boolean,badgeProps:Object});var JG=ee({name:XG,props:ZG,emits:["click"],setup(e,{emit:t,slots:n}){const r=Aa(),{parent:a,index:i}=qt(TT);if(!a)return;const o=()=>{e.disabled||(t("click",i.value),a.setActive(i.value),r())};return()=>{const{dot:l,badge:u,title:s,disabled:c}=e,d=i.value===a.getActive();return R("div",{role:"tab",class:Dp({select:d,disabled:c}),tabindex:c?void 0:0,"aria-selected":d,onClick:o},[R(Da,We({dot:l,class:Dp("text"),content:u},e.badgeProps),{default:()=>[n.title?n.title():s]})])}}});const ET=Te(JG),[QG,oo]=ve("skeleton"),wT="100%",e9="60%",t9={row:Pe(0),title:Boolean,round:Boolean,avatar:Boolean,loading:ce,animate:ce,avatarSize:pe,titleWidth:pe,avatarShape:we("round"),rowWidth:{type:[Number,String,Array],default:wT}};var n9=ee({name:QG,inheritAttrs:!1,props:t9,setup(e,{slots:t,attrs:n}){const r=()=>{if(e.avatar)return R("div",{class:oo("avatar",e.avatarShape),style:qr(e.avatarSize)},null)},a=()=>{if(e.title)return R("h3",{class:oo("title"),style:{width:at(e.titleWidth)}},null)},i=l=>{const{rowWidth:u}=e;return u===wT&&l===+e.row-1?e9:Array.isArray(u)?u[l]:u},o=()=>Array(+e.row).fill("").map((l,u)=>R("div",{class:oo("row"),style:{width:at(i(u))}},null));return()=>{var l;return e.loading?R("div",We({class:oo({animate:e.animate,round:e.round})},n),[r(),R("div",{class:oo("content")},[a(),o()])]):(l=t.default)==null?void 0:l.call(t)}}});const r9=Te(n9),[a9,so]=ve("slider"),i9={min:Pe(0),max:Pe(100),step:Pe(1),range:Boolean,reverse:Boolean,disabled:Boolean,readonly:Boolean,vertical:Boolean,barHeight:pe,buttonSize:pe,activeColor:String,inactiveColor:String,modelValue:{type:[Number,Array],default:0}};var o9=ee({name:a9,props:i9,emits:["change","drag-end","drag-start","update:modelValue"],setup(e,{emit:t,slots:n}){let r,a,i;const o=q(),l=q(),u=tr(),s=N(()=>Number(e.max)-Number(e.min)),c=N(()=>{const T=e.vertical?"width":"height";return{background:e.inactiveColor,[T]:at(e.barHeight)}}),d=T=>e.range&&Array.isArray(T),v=()=>{const{modelValue:T,min:O}=e;return d(T)?`${(T[1]-T[0])*100/s.value}%`:`${(T-Number(O))*100/s.value}%`},S=()=>{const{modelValue:T,min:O}=e;return d(T)?`${(T[0]-Number(O))*100/s.value}%`:"0%"},E=N(()=>{const O={[e.vertical?"height":"width"]:v(),background:e.activeColor};l.value&&(O.transition="none");const A=()=>e.vertical?e.reverse?"bottom":"top":e.reverse?"right":"left";return O[A()]=S(),O}),m=T=>{const O=+e.min,A=+e.max,P=+e.step;T=Gt(T,O,A);const D=Math.round((T-O)/P)*P;return h1(O,D)},f=(T,O)=>JSON.stringify(T)===JSON.stringify(O),g=T=>{var O,A;const P=(O=T[0])!=null?O:Number(e.min),D=(A=T[1])!=null?A:Number(e.max);return P>D?[D,P]:[P,D]},h=(T,O)=>{d(T)?T=g(T).map(m):T=m(T),f(T,e.modelValue)||t("update:modelValue",T),O&&!f(T,i)&&t("change",T)},y=T=>{if(T.stopPropagation(),e.disabled||e.readonly)return;const{min:O,reverse:A,vertical:P,modelValue:D}=e,I=ft(o),x=()=>P?A?I.bottom-T.clientY:T.clientY-I.top:A?I.right-T.clientX:T.clientX-I.left,L=P?I.height:I.width,$=Number(O)+x()/L*s.value;if(d(D)){const[M,j]=D,F=(M+j)/2;$<=F?h([$,j],!0):h([M,$],!0)}else h($,!0)},b=T=>{e.disabled||e.readonly||(u.start(T),a=e.modelValue,d(a)?i=a.map(m):i=m(a),l.value="start")},p=T=>{if(e.disabled||e.readonly)return;l.value==="start"&&t("drag-start",T),Ct(T,!0),u.move(T),l.value="dragging";const O=ft(o),A=e.vertical?u.deltaY.value:u.deltaX.value,P=e.vertical?O.height:O.width;let D=A/P*s.value;if(e.reverse&&(D=-D),d(i)){const I=e.reverse?1-r:r;a[I]=i[I]+D}else a=i+D;h(a)},C=T=>{e.disabled||e.readonly||(l.value==="dragging"&&(h(a,!0),t("drag-end",T)),l.value="")},w=T=>typeof T=="number"?so("button-wrapper",["left","right"][T]):so("button-wrapper",e.reverse?"left":"right"),k=(T,O)=>{if(typeof O=="number"){const A=n[O===0?"left-button":"right-button"];if(A)return A({value:T})}return n.button?n.button({value:T}):R("div",{class:so("button"),style:qr(e.buttonSize)},null)},_=T=>{const O=typeof T=="number"?e.modelValue[T]:e.modelValue;return R("div",{role:"slider",class:w(T),tabindex:e.disabled?void 0:0,"aria-valuemin":e.min,"aria-valuenow":O,"aria-valuemax":e.max,"aria-disabled":e.disabled||void 0,"aria-readonly":e.readonly||void 0,"aria-orientation":e.vertical?"vertical":"horizontal",onTouchstart:A=>{typeof T=="number"&&(r=T),b(A)},onTouchmove:p,onTouchend:C,onTouchcancel:C,onClick:Jd},[k(O,T)])};return h(e.modelValue),Yr(()=>e.modelValue),()=>R("div",{ref:o,style:c.value,class:so({vertical:e.vertical,disabled:e.disabled}),onClick:y},[R("div",{class:so("bar"),style:E.value},[e.range?[_(0),_(1)]:_()])])}});const s9=Te(o9),[OT,Pp]=ve("steps"),l9={active:Pe(0),direction:we("horizontal"),activeIcon:we("checked"),iconPrefix:String,finishIcon:String,activeColor:String,inactiveIcon:String,inactiveColor:String},kT=Symbol(OT);var u9=ee({name:OT,props:l9,emits:["click-step"],setup(e,{emit:t,slots:n}){const{linkChildren:r}=Jt(kT);return r({props:e,onClickStep:i=>t("click-step",i)}),()=>{var i;return R("div",{class:Pp([e.direction])},[R("div",{class:Pp("items")},[(i=n.default)==null?void 0:i.call(n)])])}}});const[c9,Dr]=ve("step");var d9=ee({name:c9,setup(e,{slots:t}){const{parent:n,index:r}=qt(kT);if(!n)return;const a=n.props,i=()=>{const d=+a.active;return r.value<d?"finish":r.value===d?"process":"waiting"},o=()=>i()==="process",l=N(()=>({background:i()==="finish"?a.activeColor:a.inactiveColor})),u=N(()=>{if(o())return{color:a.activeColor};if(i()==="waiting")return{color:a.inactiveColor}}),s=()=>n.onClickStep(r.value),c=()=>{const{iconPrefix:d,finishIcon:v,activeIcon:S,activeColor:E,inactiveIcon:m}=a;return o()?t["active-icon"]?t["active-icon"]():R(Ke,{class:Dr("icon","active"),name:S,color:E,classPrefix:d},null):i()==="finish"&&(v||t["finish-icon"])?t["finish-icon"]?t["finish-icon"]():R(Ke,{class:Dr("icon","finish"),name:v,color:E,classPrefix:d},null):t["inactive-icon"]?t["inactive-icon"]():m?R(Ke,{class:Dr("icon"),name:m,classPrefix:d},null):R("i",{class:Dr("circle"),style:l.value},null)};return()=>{var d;const v=i();return R("div",{class:[Xr,Dr([a.direction,{[v]:v}])]},[R("div",{class:Dr("title",{active:o()}),style:u.value,onClick:s},[(d=t.default)==null?void 0:d.call(t)]),R("div",{class:Dr("circle-container"),onClick:s},[c()]),R("div",{class:Dr("line"),style:l.value},null)])}}});const f9=Te(d9),[h9,_s]=ve("stepper"),v9=200,m9=600,As=(e,t)=>String(e)===String(t),g9={min:Pe(1),max:Pe(1/0),name:Pe(""),step:Pe(1),theme:String,integer:Boolean,disabled:Boolean,showPlus:ce,showMinus:ce,showInput:ce,longPress:ce,allowEmpty:Boolean,modelValue:pe,inputWidth:pe,buttonSize:pe,placeholder:String,disablePlus:Boolean,disableMinus:Boolean,disableInput:Boolean,beforeChange:Function,defaultValue:Pe(1),decimalLength:pe};var p9=ee({name:h9,props:g9,emits:["plus","blur","minus","focus","change","overlimit","update:modelValue"],setup(e,{emit:t}){const n=k=>{const{min:_,max:T,allowEmpty:O,decimalLength:A}=e;return O&&k===""||(k=Uc(String(k),!e.integer),k=k===""?0:+k,k=Number.isNaN(k)?+_:k,k=Math.max(Math.min(+T,k),+_),nt(A)&&(k=k.toFixed(+A))),k},r=()=>{var k;const _=(k=e.modelValue)!=null?k:e.defaultValue,T=n(_);return As(T,e.modelValue)||t("update:modelValue",T),T};let a;const i=q(),o=q(r()),l=N(()=>e.disabled||e.disableMinus||o.value<=+e.min),u=N(()=>e.disabled||e.disablePlus||o.value>=+e.max),s=N(()=>({width:at(e.inputWidth),height:at(e.buttonSize)})),c=N(()=>qr(e.buttonSize)),d=()=>{const k=n(o.value);As(k,o.value)||(o.value=k)},v=k=>{e.beforeChange?Zr(e.beforeChange,{args:[k],done(){o.value=k}}):o.value=k},S=()=>{if(a==="plus"&&u.value||a==="minus"&&l.value){t("overlimit",a);return}const k=a==="minus"?-e.step:+e.step,_=n(h1(+o.value,k));v(_),t(a)},E=k=>{const _=k.target,{value:T}=_,{decimalLength:O}=e;let A=Uc(String(T),!e.integer);if(nt(O)&&A.includes(".")){const D=A.split(".");A=`${D[0]}.${D[1].slice(0,+O)}`}e.beforeChange?_.value=String(o.value):As(T,A)||(_.value=A);const P=A===String(+A);v(P?+A:A)},m=k=>{var _;e.disableInput?(_=i.value)==null||_.blur():t("focus",k)},f=k=>{const _=k.target,T=n(_.value);_.value=String(T),o.value=T,Re(()=>{t("blur",k),d1()})};let g,h;const y=()=>{h=setTimeout(()=>{S(),y()},v9)},b=()=>{e.longPress&&(g=!1,clearTimeout(h),h=setTimeout(()=>{g=!0,S(),y()},m9))},p=k=>{e.longPress&&(clearTimeout(h),g&&Ct(k))},C=k=>{e.disableInput&&Ct(k)},w=k=>({onClick:_=>{Ct(_),a=k,S()},onTouchstart:()=>{a=k,b()},onTouchend:p,onTouchcancel:p});return oe(()=>[e.max,e.min,e.integer,e.decimalLength],d),oe(()=>e.modelValue,k=>{As(k,o.value)||(o.value=n(k))}),oe(o,k=>{t("update:modelValue",k),t("change",k,{name:e.name})}),Yr(()=>e.modelValue),()=>R("div",{role:"group",class:_s([e.theme])},[Ge(R("button",We({type:"button",style:c.value,class:[_s("minus",{disabled:l.value}),{[tn]:!l.value}],"aria-disabled":l.value||void 0},w("minus")),null),[[qe,e.showMinus]]),Ge(R("input",{ref:i,type:e.integer?"tel":"text",role:"spinbutton",class:_s("input"),value:o.value,style:s.value,disabled:e.disabled,readonly:e.disableInput,inputmode:e.integer?"numeric":"decimal",placeholder:e.placeholder,"aria-valuemax":e.max,"aria-valuemin":e.min,"aria-valuenow":o.value,onBlur:f,onInput:E,onFocus:m,onMousedown:C},null),[[qe,e.showInput]]),Ge(R("button",We({type:"button",style:c.value,class:[_s("plus",{disabled:u.value}),{[tn]:!u.value}],"aria-disabled":u.value||void 0},w("plus")),null),[[qe,e.showPlus]])])}});const y9=Te(p9),b9=Te(u9),[S9,Wn,T9]=ve("submit-bar"),C9={tip:String,label:String,price:Number,tipIcon:String,loading:Boolean,currency:we("\xA5"),disabled:Boolean,textAlign:String,buttonText:String,buttonType:we("danger"),buttonColor:String,suffixLabel:String,decimalLength:Pe(2),safeAreaInsetBottom:ce};var E9=ee({name:S9,props:C9,emits:["submit"],setup(e,{emit:t,slots:n}){const r=()=>{const{price:l,label:u,currency:s,textAlign:c,suffixLabel:d,decimalLength:v}=e;if(typeof l=="number"){const S=(l/100).toFixed(+v).split("."),E=v?`.${S[1]}`:"";return R("div",{class:Wn("text"),style:{textAlign:c}},[R("span",null,[u||T9("label")]),R("span",{class:Wn("price")},[s,R("span",{class:Wn("price-integer")},[S[0]]),E]),d&&R("span",{class:Wn("suffix-label")},[d])])}},a=()=>{var l;const{tip:u,tipIcon:s}=e;if(n.tip||u)return R("div",{class:Wn("tip")},[s&&R(Ke,{class:Wn("tip-icon"),name:s},null),u&&R("span",{class:Wn("tip-text")},[u]),(l=n.tip)==null?void 0:l.call(n)])},i=()=>t("submit"),o=()=>n.button?n.button():R(nn,{round:!0,type:e.buttonType,text:e.buttonText,class:Wn("button",e.buttonType),color:e.buttonColor,loading:e.loading,disabled:e.disabled,onClick:i},null);return()=>{var l,u;return R("div",{class:[Wn(),{"van-safe-area-bottom":e.safeAreaInsetBottom}]},[(l=n.top)==null?void 0:l.call(n),a(),R("div",{class:Wn("bar")},[(u=n.default)==null?void 0:u.call(n),r(),o()])])}}});const w9=Te(E9),[O9,Hu]=ve("swipe-cell"),k9={name:Pe(""),disabled:Boolean,leftWidth:pe,rightWidth:pe,beforeClose:Function,stopPropagation:Boolean};var _9=ee({name:O9,props:k9,emits:["open","close","click"],setup(e,{emit:t,slots:n}){let r,a,i;const o=q(),l=q(),u=q(),s=Me({offset:0,dragging:!1}),c=tr(),d=w=>w.value?ft(w).width:0,v=N(()=>nt(e.leftWidth)?+e.leftWidth:d(l)),S=N(()=>nt(e.rightWidth)?+e.rightWidth:d(u)),E=w=>{s.offset=w==="left"?v.value:-S.value,r||(r=!0,t("open",{name:e.name,position:w}))},m=w=>{s.offset=0,r&&(r=!1,t("close",{name:e.name,position:w}))},f=w=>{const k=Math.abs(s.offset),_=.15,T=r?1-_:_,O=w==="left"?v.value:S.value;O&&k>O*T?E(w):m(w)},g=w=>{e.disabled||(i=s.offset,c.start(w))},h=w=>{if(e.disabled)return;const{deltaX:k}=c;c.move(w),c.isHorizontal()&&(a=!0,s.dragging=!0,(!r||k.value*i<0)&&Ct(w,e.stopPropagation),s.offset=Gt(k.value+i,-S.value,v.value))},y=()=>{s.dragging&&(s.dragging=!1,f(s.offset>0?"left":"right"),setTimeout(()=>{a=!1},0))},b=(w="outside")=>{t("click",w),r&&!a&&Zr(e.beforeClose,{args:[{name:e.name,position:w}],done:()=>m(w)})},p=(w,k)=>_=>{k&&_.stopPropagation(),b(w)},C=(w,k)=>{const _=n[w];if(_)return R("div",{ref:k,class:Hu(w),onClick:p(w,!0)},[_()])};return ot({open:E,close:m}),Ml(o,()=>b("outside"),{eventName:"touchstart"}),()=>{var w;const k={transform:`translate3d(${s.offset}px, 0, 0)`,transitionDuration:s.dragging?"0s":".6s"};return R("div",{ref:o,class:Hu(),onClick:p("cell",a),onTouchstart:g,onTouchmove:h,onTouchend:y,onTouchcancel:y},[R("div",{class:Hu("wrapper"),style:k},[C("left",l),(w=n.default)==null?void 0:w.call(n),C("right",u)])])}}});const A9=Te(_9),[_T,Ip]=ve("tabbar"),D9={route:Boolean,fixed:ce,border:ce,zIndex:pe,placeholder:Boolean,activeColor:String,beforeChange:Function,inactiveColor:String,modelValue:Pe(0),safeAreaInsetBottom:{type:Boolean,default:null}},AT=Symbol(_T);var P9=ee({name:_T,props:D9,emits:["change","update:modelValue"],setup(e,{emit:t,slots:n}){const r=q(),{linkChildren:a}=Jt(AT),i=cT(r,Ip),o=()=>{var s;return(s=e.safeAreaInsetBottom)!=null?s:e.fixed},l=()=>{var s;const{fixed:c,zIndex:d,border:v}=e;return R("div",{ref:r,role:"tablist",style:_a(d),class:[Ip({fixed:c}),{[Nl]:v,"van-safe-area-bottom":o()}]},[(s=n.default)==null?void 0:s.call(n)])};return a({props:e,setActive:(s,c)=>{Zr(e.beforeChange,{args:[s],done(){t("update:modelValue",s),t("change",s),c()}})}}),()=>e.fixed&&e.placeholder?i(l):l()}});const I9=Te(P9),[L9,zu]=ve("tabbar-item"),R9=xe({},Jr,{dot:Boolean,icon:String,name:pe,badge:pe,badgeProps:Object,iconPrefix:String});var x9=ee({name:L9,props:R9,emits:["click"],setup(e,{emit:t,slots:n}){const r=Aa(),a=Be().proxy,{parent:i,index:o}=qt(AT);if(!i)return;const l=N(()=>{var c;const{route:d,modelValue:v}=i.props;if(d&&"$route"in a){const{$route:S}=a,{to:E}=e,m=En(E)?E:{path:E};return!!S.matched.find(f=>{const g="path"in m&&m.path===f.path,h="name"in m&&m.name===f.name;return g||h})}return((c=e.name)!=null?c:o.value)===v}),u=c=>{var d;l.value||i.setActive((d=e.name)!=null?d:o.value,r),t("click",c)},s=()=>{if(n.icon)return n.icon({active:l.value});if(e.icon)return R(Ke,{name:e.icon,classPrefix:e.iconPrefix},null)};return()=>{var c;const{dot:d,badge:v}=e,{activeColor:S,inactiveColor:E}=i.props,m=l.value?S:E;return R("div",{role:"tab",class:zu({active:l.value}),style:{color:m},tabindex:0,"aria-selected":l.value,onClick:u},[R(Da,We({dot:d,class:zu("icon"),content:v},e.badgeProps),{default:s}),R("div",{class:zu("text")},[(c=n.default)==null?void 0:c.call(n,{active:l.value})])])}}});const $9=Te(x9),[M9,Wa]=ve("tree-select"),F9={max:Pe(1/0),items:jt(),height:Pe(300),selectedIcon:we("success"),mainActiveIndex:Pe(0),activeId:{type:[Number,String,Array],default:0}};var B9=ee({name:M9,props:F9,emits:["click-nav","click-item","update:activeId","update:mainActiveIndex"],setup(e,{emit:t,slots:n}){const r=s=>Array.isArray(e.activeId)?e.activeId.includes(s):e.activeId===s,a=s=>{const c=()=>{if(s.disabled)return;let d;if(Array.isArray(e.activeId)){d=e.activeId.slice();const v=d.indexOf(s.id);v!==-1?d.splice(v,1):d.length<e.max&&d.push(s.id)}else d=s.id;t("update:activeId",d),t("click-item",s)};return R("div",{key:s.id,class:["van-ellipsis",Wa("item",{active:r(s.id),disabled:s.disabled})],onClick:c},[s.text,r(s.id)&&R(Ke,{name:e.selectedIcon,class:Wa("selected")},null)])},i=s=>{t("update:mainActiveIndex",s)},o=s=>t("click-nav",s),l=()=>{const s=e.items.map(c=>R(ET,{dot:c.dot,title:c.text,badge:c.badge,class:[Wa("nav-item"),c.className],disabled:c.disabled,onClick:o},null));return R(CT,{class:Wa("nav"),modelValue:e.mainActiveIndex,onChange:i},{default:()=>[s]})},u=()=>{if(n.content)return n.content();const s=e.items[+e.mainActiveIndex]||{};if(s.children)return s.children.map(a)};return()=>R("div",{class:Wa(),style:{height:at(e.height)}},[l(),R("div",{class:Wa("content")},[u()])])}});const N9=Te(B9),[j9,It,U9]=ve("uploader"),DT=e=>Array.isArray(e)?e:[e];function Lp(e,t){return new Promise(n=>{if(t==="file"){n();return}const r=new FileReader;r.onload=a=>{n(a.target.result)},t==="dataUrl"?r.readAsDataURL(e):t==="text"&&r.readAsText(e)})}function PT(e,t){return DT(e).some(n=>n.file?mi(t)?t(n.file):n.file.size>t:!1)}function V9(e,t){const n=[],r=[];return e.forEach(a=>{PT(a,t)?r.push(a):n.push(a)}),{valid:n,invalid:r}}const H9=/\.(jpeg|jpg|gif|png|svg|webp|jfif|bmp|dpg)/i,z9=e=>H9.test(e);function IT(e){return e.isImage?!0:e.file&&e.file.type?e.file.type.indexOf("image")===0:e.url?z9(e.url):typeof e.content=="string"?e.content.indexOf("data:image")===0:!1}var G9=ee({props:{name:pe,item:Rt(Object),index:Number,imageFit:String,lazyLoad:Boolean,deletable:Boolean,previewSize:[Number,String,Array],beforeDelete:Function},emits:["delete","preview"],setup(e,{emit:t,slots:n}){const r=()=>{const{status:s,message:c}=e.item;if(s==="uploading"||s==="failed"){const d=s==="failed"?R(Ke,{name:"close",class:It("mask-icon")},null):R(Fn,{class:It("loading")},null),v=nt(c)&&c!=="";return R("div",{class:It("mask")},[d,v&&R("div",{class:It("mask-message")},[c])])}},a=s=>{const{name:c,item:d,index:v,beforeDelete:S}=e;s.stopPropagation(),Zr(S,{args:[d,{name:c,index:v}],done:()=>t("delete")})},i=()=>t("preview"),o=()=>{if(e.deletable&&e.item.status!=="uploading")return R("div",{role:"button",class:It("preview-delete"),tabindex:0,"aria-label":U9("delete"),onClick:a},[R(Ke,{name:"cross",class:It("preview-delete-icon")},null)])},l=()=>{if(n["preview-cover"]){const{index:s,item:c}=e;return R("div",{class:It("preview-cover")},[n["preview-cover"](xe({index:s},c))])}},u=()=>{const{item:s,lazyLoad:c,imageFit:d,previewSize:v}=e;return IT(s)?R(Yl,{fit:d,src:s.content||s.url,class:It("preview-image"),width:Array.isArray(v)?v[0]:v,height:Array.isArray(v)?v[1]:v,lazyLoad:c,onClick:i},{default:l}):R("div",{class:It("file"),style:qr(e.previewSize)},[R(Ke,{class:It("file-icon"),name:"description"},null),R("div",{class:[It("file-name"),"van-ellipsis"]},[s.file?s.file.name:s.url]),l()])};return()=>R("div",{class:It("preview")},[u(),r(),o()])}});const K9={name:Pe(""),accept:we("image/*"),capture:String,multiple:Boolean,disabled:Boolean,readonly:Boolean,lazyLoad:Boolean,maxCount:Pe(1/0),imageFit:we("cover"),resultType:we("dataUrl"),uploadIcon:we("photograph"),uploadText:String,deletable:ce,afterRead:Function,showUpload:ce,modelValue:jt(),beforeRead:Function,beforeDelete:Function,previewSize:[Number,String,Array],previewImage:ce,previewOptions:Object,previewFullImage:ce,maxSize:{type:[Number,String,Function],default:1/0}};var W9=ee({name:j9,props:K9,emits:["delete","oversize","click-upload","close-preview","click-preview","update:modelValue"],setup(e,{emit:t,slots:n}){const r=q(),a=[],i=(b=e.modelValue.length)=>({name:e.name,index:b}),o=()=>{r.value&&(r.value.value="")},l=b=>{if(o(),PT(b,e.maxSize))if(Array.isArray(b)){const p=V9(b,e.maxSize);if(b=p.valid,t("oversize",p.invalid,i()),!b.length)return}else{t("oversize",b,i());return}b=Me(b),t("update:modelValue",[...e.modelValue,...DT(b)]),e.afterRead&&e.afterRead(b,i())},u=b=>{const{maxCount:p,modelValue:C,resultType:w}=e;if(Array.isArray(b)){const k=+p-C.length;b.length>k&&(b=b.slice(0,k)),Promise.all(b.map(_=>Lp(_,w))).then(_=>{const T=b.map((O,A)=>{const P={file:O,status:"",message:""};return _[A]&&(P.content=_[A]),P});l(T)})}else Lp(b,w).then(k=>{const _={file:b,status:"",message:""};k&&(_.content=k),l(_)})},s=b=>{const{files:p}=b.target;if(e.disabled||!p||!p.length)return;const C=p.length===1?p[0]:[].slice.call(p);if(e.beforeRead){const w=e.beforeRead(C,i());if(!w){o();return}if(Zd(w)){w.then(k=>{u(k||C)}).catch(o);return}}u(C)};let c;const d=()=>t("close-preview"),v=b=>{if(e.previewFullImage){const p=e.modelValue.filter(IT),C=p.map(w=>(w.file&&!w.url&&(w.url=URL.createObjectURL(w.file),a.push(w.url)),w.url)).filter(Boolean);c=xo(xe({images:C,startPosition:p.indexOf(b),onClose:d},e.previewOptions))}},S=()=>{c&&c.close()},E=(b,p)=>{const C=e.modelValue.slice(0);C.splice(p,1),t("update:modelValue",C),t("delete",b,i(p))},m=(b,p)=>{const C=["imageFit","deletable","previewSize","beforeDelete"],w=xe(vt(e,C),vt(b,C,!0));return R(G9,We({item:b,index:p,onClick:()=>t("click-preview",b,i(p)),onDelete:()=>E(b,p),onPreview:()=>v(b)},vt(e,["name","lazyLoad"]),w),{"preview-cover":n["preview-cover"]})},f=()=>{if(e.previewImage)return e.modelValue.map(m)},g=b=>t("click-upload",b),h=()=>{if(e.modelValue.length>=e.maxCount||!e.showUpload)return;const b=e.readonly?null:R("input",{ref:r,type:"file",class:It("input"),accept:e.accept,capture:e.capture,multiple:e.multiple,disabled:e.disabled,onChange:s},null);return n.default?R("div",{class:It("input-wrapper"),onClick:g},[n.default(),b]):R("div",{class:It("upload",{readonly:e.readonly}),style:qr(e.previewSize),onClick:g},[R(Ke,{name:e.uploadIcon,class:It("upload-icon")},null),e.uploadText&&R("span",{class:It("upload-text")},[e.uploadText]),b])},y=()=>{r.value&&!e.disabled&&r.value.click()};return er(()=>{a.forEach(b=>URL.revokeObjectURL(b))}),ot({chooseFile:y,closeImagePreview:S}),Yr(()=>e.modelValue),()=>R("div",{class:It()},[R("div",{class:It("wrapper",{disabled:e.disabled})},[f(),h()])])}});const Y9=Te(W9),q9="3.4.8";function X9(e){[S1,Hc,h5,_5,T8,F8,A1,Da,nn,Z8,aV,IV,Nn,$V,X1,HV,qV,r6,s6,f6,h6,p6,T6,k6,L6,qc,j6,q6,aH,$t,hH,bH,SH,tT,Zn,of,wH,AH,Ke,Yl,xo,VH,HH,YH,Fn,m1,JH,nz,hn,mz,O1,bz,Ez,Ul,bG,Bn,EG,DG,ff,cf,xG,$G,jG,KG,CT,ET,r9,s9,f9,y9,b9,V1,w9,vf,A9,mf,uf,ol,I9,$9,gf,Kl,rn,N9,Y9].forEach(n=>{n.install?e.use(n):n.name&&e.component(n.name,n)})}var Z9={install:X9,version:q9};const J9="modulepreload",Rp={},Q9="./",lt=function(t,n){return!n||n.length===0?t():Promise.all(n.map(r=>{if(r=`${Q9}${r}`,r in Rp)return;Rp[r]=!0;const a=r.endsWith(".css"),i=a?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${r}"]${i}`))return;const o=document.createElement("link");if(o.rel=a?"stylesheet":J9,a||(o.as="script",o.crossOrigin=""),o.href=r,document.head.appendChild(o),a)return new Promise((l,u)=>{o.addEventListener("load",l),o.addEventListener("error",()=>u(new Error(`Unable to preload CSS for ${r}`)))})})).then(()=>t())};/*!
  * vue-router v4.0.14
  * (c) 2022 Eduardo San Martin Morote
  * @license MIT
  */const LT=typeof Symbol=="function"&&typeof Symbol.toStringTag=="symbol",$i=e=>LT?Symbol(e):"_vr_"+e,RT=$i("rvlm"),xp=$i("rvd"),Zl=$i("r"),Ef=$i("rl"),Zc=$i("rvl"),ri=typeof window!="undefined";function eK(e){return e.__esModule||LT&&e[Symbol.toStringTag]==="Module"}const ut=Object.assign;function Gu(e,t){const n={};for(const r in t){const a=t[r];n[r]=Array.isArray(a)?a.map(e):e(a)}return n}const Oo=()=>{},tK=/\/$/,nK=e=>e.replace(tK,"");function Ku(e,t,n="/"){let r,a={},i="",o="";const l=t.indexOf("?"),u=t.indexOf("#",l>-1?l:0);return l>-1&&(r=t.slice(0,l),i=t.slice(l+1,u>-1?u:t.length),a=e(i)),u>-1&&(r=r||t.slice(0,u),o=t.slice(u,t.length)),r=oK(r!=null?r:t,n),{fullPath:r+(i&&"?")+i+o,path:r,query:a,hash:o}}function rK(e,t){const n=t.query?e(t.query):"";return t.path+(n&&"?")+n+(t.hash||"")}function $p(e,t){return!t||!e.toLowerCase().startsWith(t.toLowerCase())?e:e.slice(t.length)||"/"}function aK(e,t,n){const r=t.matched.length-1,a=n.matched.length-1;return r>-1&&r===a&&bi(t.matched[r],n.matched[a])&&xT(t.params,n.params)&&e(t.query)===e(n.query)&&t.hash===n.hash}function bi(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function xT(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(!iK(e[n],t[n]))return!1;return!0}function iK(e,t){return Array.isArray(e)?Mp(e,t):Array.isArray(t)?Mp(t,e):e===t}function Mp(e,t){return Array.isArray(t)?e.length===t.length&&e.every((n,r)=>n===t[r]):e.length===1&&e[0]===t}function oK(e,t){if(e.startsWith("/"))return e;if(!e)return t;const n=t.split("/"),r=e.split("/");let a=n.length-1,i,o;for(i=0;i<r.length;i++)if(o=r[i],!(a===1||o==="."))if(o==="..")a--;else break;return n.slice(0,a).join("/")+"/"+r.slice(i-(i===r.length?1:0)).join("/")}var Mo;(function(e){e.pop="pop",e.push="push"})(Mo||(Mo={}));var ko;(function(e){e.back="back",e.forward="forward",e.unknown=""})(ko||(ko={}));function sK(e){if(!e)if(ri){const t=document.querySelector("base");e=t&&t.getAttribute("href")||"/",e=e.replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return e[0]!=="/"&&e[0]!=="#"&&(e="/"+e),nK(e)}const lK=/^[^#]+#/;function uK(e,t){return e.replace(lK,"#")+t}function cK(e,t){const n=document.documentElement.getBoundingClientRect(),r=e.getBoundingClientRect();return{behavior:t.behavior,left:r.left-n.left-(t.left||0),top:r.top-n.top-(t.top||0)}}const Jl=()=>({left:window.pageXOffset,top:window.pageYOffset});function dK(e){let t;if("el"in e){const n=e.el,r=typeof n=="string"&&n.startsWith("#"),a=typeof n=="string"?r?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!a)return;t=cK(a,e)}else t=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(t.left!=null?t.left:window.pageXOffset,t.top!=null?t.top:window.pageYOffset)}function Fp(e,t){return(history.state?history.state.position-t:-1)+e}const Jc=new Map;function fK(e,t){Jc.set(e,t)}function hK(e){const t=Jc.get(e);return Jc.delete(e),t}let vK=()=>location.protocol+"//"+location.host;function $T(e,t){const{pathname:n,search:r,hash:a}=t,i=e.indexOf("#");if(i>-1){let l=a.includes(e.slice(i))?e.slice(i).length:1,u=a.slice(l);return u[0]!=="/"&&(u="/"+u),$p(u,"")}return $p(n,e)+r+a}function mK(e,t,n,r){let a=[],i=[],o=null;const l=({state:v})=>{const S=$T(e,location),E=n.value,m=t.value;let f=0;if(v){if(n.value=S,t.value=v,o&&o===E){o=null;return}f=m?v.position-m.position:0}else r(S);a.forEach(g=>{g(n.value,E,{delta:f,type:Mo.pop,direction:f?f>0?ko.forward:ko.back:ko.unknown})})};function u(){o=n.value}function s(v){a.push(v);const S=()=>{const E=a.indexOf(v);E>-1&&a.splice(E,1)};return i.push(S),S}function c(){const{history:v}=window;!v.state||v.replaceState(ut({},v.state,{scroll:Jl()}),"")}function d(){for(const v of i)v();i=[],window.removeEventListener("popstate",l),window.removeEventListener("beforeunload",c)}return window.addEventListener("popstate",l),window.addEventListener("beforeunload",c),{pauseListeners:u,listen:s,destroy:d}}function Bp(e,t,n,r=!1,a=!1){return{back:e,current:t,forward:n,replaced:r,position:window.history.length,scroll:a?Jl():null}}function gK(e){const{history:t,location:n}=window,r={value:$T(e,n)},a={value:t.state};a.value||i(r.value,{back:null,current:r.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0);function i(u,s,c){const d=e.indexOf("#"),v=d>-1?(n.host&&document.querySelector("base")?e:e.slice(d))+u:vK()+e+u;try{t[c?"replaceState":"pushState"](s,"",v),a.value=s}catch(S){console.error(S),n[c?"replace":"assign"](v)}}function o(u,s){const c=ut({},t.state,Bp(a.value.back,u,a.value.forward,!0),s,{position:a.value.position});i(u,c,!0),r.value=u}function l(u,s){const c=ut({},a.value,t.state,{forward:u,scroll:Jl()});i(c.current,c,!0);const d=ut({},Bp(r.value,u,null),{position:c.position+1},s);i(u,d,!1),r.value=u}return{location:r,state:a,push:l,replace:o}}function pK(e){e=sK(e);const t=gK(e),n=mK(e,t.state,t.location,t.replace);function r(i,o=!0){o||n.pauseListeners(),history.go(i)}const a=ut({location:"",base:e,go:r,createHref:uK.bind(null,e)},t,n);return Object.defineProperty(a,"location",{enumerable:!0,get:()=>t.location.value}),Object.defineProperty(a,"state",{enumerable:!0,get:()=>t.state.value}),a}function yK(e){return e=location.host?e||location.pathname+location.search:"",e.includes("#")||(e+="#"),pK(e)}function bK(e){return typeof e=="string"||e&&typeof e=="object"}function MT(e){return typeof e=="string"||typeof e=="symbol"}const Pr={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},FT=$i("nf");var Np;(function(e){e[e.aborted=4]="aborted",e[e.cancelled=8]="cancelled",e[e.duplicated=16]="duplicated"})(Np||(Np={}));function Si(e,t){return ut(new Error,{type:e,[FT]:!0},t)}function Ir(e,t){return e instanceof Error&&FT in e&&(t==null||!!(e.type&t))}const jp="[^/]+?",SK={sensitive:!1,strict:!1,start:!0,end:!0},TK=/[.+*?^${}()[\]/\\]/g;function CK(e,t){const n=ut({},SK,t),r=[];let a=n.start?"^":"";const i=[];for(const s of e){const c=s.length?[]:[90];n.strict&&!s.length&&(a+="/");for(let d=0;d<s.length;d++){const v=s[d];let S=40+(n.sensitive?.25:0);if(v.type===0)d||(a+="/"),a+=v.value.replace(TK,"\\$&"),S+=40;else if(v.type===1){const{value:E,repeatable:m,optional:f,regexp:g}=v;i.push({name:E,repeatable:m,optional:f});const h=g||jp;if(h!==jp){S+=10;try{new RegExp(`(${h})`)}catch(b){throw new Error(`Invalid custom RegExp for param "${E}" (${h}): `+b.message)}}let y=m?`((?:${h})(?:/(?:${h}))*)`:`(${h})`;d||(y=f&&s.length<2?`(?:/${y})`:"/"+y),f&&(y+="?"),a+=y,S+=20,f&&(S+=-8),m&&(S+=-20),h===".*"&&(S+=-50)}c.push(S)}r.push(c)}if(n.strict&&n.end){const s=r.length-1;r[s][r[s].length-1]+=.7000000000000001}n.strict||(a+="/?"),n.end?a+="$":n.strict&&(a+="(?:/|$)");const o=new RegExp(a,n.sensitive?"":"i");function l(s){const c=s.match(o),d={};if(!c)return null;for(let v=1;v<c.length;v++){const S=c[v]||"",E=i[v-1];d[E.name]=S&&E.repeatable?S.split("/"):S}return d}function u(s){let c="",d=!1;for(const v of e){(!d||!c.endsWith("/"))&&(c+="/"),d=!1;for(const S of v)if(S.type===0)c+=S.value;else if(S.type===1){const{value:E,repeatable:m,optional:f}=S,g=E in s?s[E]:"";if(Array.isArray(g)&&!m)throw new Error(`Provided param "${E}" is an array but it is not repeatable (* or + modifiers)`);const h=Array.isArray(g)?g.join("/"):g;if(!h)if(f)v.length<2&&(c.endsWith("/")?c=c.slice(0,-1):d=!0);else throw new Error(`Missing required param "${E}"`);c+=h}}return c}return{re:o,score:r,keys:i,parse:l,stringify:u}}function EK(e,t){let n=0;for(;n<e.length&&n<t.length;){const r=t[n]-e[n];if(r)return r;n++}return e.length<t.length?e.length===1&&e[0]===40+40?-1:1:e.length>t.length?t.length===1&&t[0]===40+40?1:-1:0}function wK(e,t){let n=0;const r=e.score,a=t.score;for(;n<r.length&&n<a.length;){const i=EK(r[n],a[n]);if(i)return i;n++}return a.length-r.length}const OK={type:0,value:""},kK=/[a-zA-Z0-9_]/;function _K(e){if(!e)return[[]];if(e==="/")return[[OK]];if(!e.startsWith("/"))throw new Error(`Invalid path "${e}"`);function t(S){throw new Error(`ERR (${n})/"${s}": ${S}`)}let n=0,r=n;const a=[];let i;function o(){i&&a.push(i),i=[]}let l=0,u,s="",c="";function d(){!s||(n===0?i.push({type:0,value:s}):n===1||n===2||n===3?(i.length>1&&(u==="*"||u==="+")&&t(`A repeatable param (${s}) must be alone in its segment. eg: '/:ids+.`),i.push({type:1,value:s,regexp:c,repeatable:u==="*"||u==="+",optional:u==="*"||u==="?"})):t("Invalid state to consume buffer"),s="")}function v(){s+=u}for(;l<e.length;){if(u=e[l++],u==="\\"&&n!==2){r=n,n=4;continue}switch(n){case 0:u==="/"?(s&&d(),o()):u===":"?(d(),n=1):v();break;case 4:v(),n=r;break;case 1:u==="("?n=2:kK.test(u)?v():(d(),n=0,u!=="*"&&u!=="?"&&u!=="+"&&l--);break;case 2:u===")"?c[c.length-1]=="\\"?c=c.slice(0,-1)+u:n=3:c+=u;break;case 3:d(),n=0,u!=="*"&&u!=="?"&&u!=="+"&&l--,c="";break;default:t("Unknown state");break}}return n===2&&t(`Unfinished custom RegExp for param "${s}"`),d(),o(),a}function AK(e,t,n){const r=CK(_K(e.path),n),a=ut(r,{record:e,parent:t,children:[],alias:[]});return t&&!a.record.aliasOf==!t.record.aliasOf&&t.children.push(a),a}function DK(e,t){const n=[],r=new Map;t=Vp({strict:!1,end:!0,sensitive:!1},t);function a(c){return r.get(c)}function i(c,d,v){const S=!v,E=IK(c);E.aliasOf=v&&v.record;const m=Vp(t,c),f=[E];if("alias"in c){const y=typeof c.alias=="string"?[c.alias]:c.alias;for(const b of y)f.push(ut({},E,{components:v?v.record.components:E.components,path:b,aliasOf:v?v.record:E}))}let g,h;for(const y of f){const{path:b}=y;if(d&&b[0]!=="/"){const p=d.record.path,C=p[p.length-1]==="/"?"":"/";y.path=d.record.path+(b&&C+b)}if(g=AK(y,d,m),v?v.alias.push(g):(h=h||g,h!==g&&h.alias.push(g),S&&c.name&&!Up(g)&&o(c.name)),"children"in E){const p=E.children;for(let C=0;C<p.length;C++)i(p[C],g,v&&v.children[C])}v=v||g,u(g)}return h?()=>{o(h)}:Oo}function o(c){if(MT(c)){const d=r.get(c);d&&(r.delete(c),n.splice(n.indexOf(d),1),d.children.forEach(o),d.alias.forEach(o))}else{const d=n.indexOf(c);d>-1&&(n.splice(d,1),c.record.name&&r.delete(c.record.name),c.children.forEach(o),c.alias.forEach(o))}}function l(){return n}function u(c){let d=0;for(;d<n.length&&wK(c,n[d])>=0&&(c.record.path!==n[d].record.path||!BT(c,n[d]));)d++;n.splice(d,0,c),c.record.name&&!Up(c)&&r.set(c.record.name,c)}function s(c,d){let v,S={},E,m;if("name"in c&&c.name){if(v=r.get(c.name),!v)throw Si(1,{location:c});m=v.record.name,S=ut(PK(d.params,v.keys.filter(h=>!h.optional).map(h=>h.name)),c.params),E=v.stringify(S)}else if("path"in c)E=c.path,v=n.find(h=>h.re.test(E)),v&&(S=v.parse(E),m=v.record.name);else{if(v=d.name?r.get(d.name):n.find(h=>h.re.test(d.path)),!v)throw Si(1,{location:c,currentLocation:d});m=v.record.name,S=ut({},d.params,c.params),E=v.stringify(S)}const f=[];let g=v;for(;g;)f.unshift(g.record),g=g.parent;return{name:m,path:E,params:S,matched:f,meta:RK(f)}}return e.forEach(c=>i(c)),{addRoute:i,resolve:s,removeRoute:o,getRoutes:l,getRecordMatcher:a}}function PK(e,t){const n={};for(const r of t)r in e&&(n[r]=e[r]);return n}function IK(e){return{path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:void 0,beforeEnter:e.beforeEnter,props:LK(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||{}:{default:e.component}}}function LK(e){const t={},n=e.props||!1;if("component"in e)t.default=n;else for(const r in e.components)t[r]=typeof n=="boolean"?n:n[r];return t}function Up(e){for(;e;){if(e.record.aliasOf)return!0;e=e.parent}return!1}function RK(e){return e.reduce((t,n)=>ut(t,n.meta),{})}function Vp(e,t){const n={};for(const r in e)n[r]=r in t?t[r]:e[r];return n}function BT(e,t){return t.children.some(n=>n===e||BT(e,n))}const NT=/#/g,xK=/&/g,$K=/\//g,MK=/=/g,FK=/\?/g,jT=/\+/g,BK=/%5B/g,NK=/%5D/g,UT=/%5E/g,jK=/%60/g,VT=/%7B/g,UK=/%7C/g,HT=/%7D/g,VK=/%20/g;function wf(e){return encodeURI(""+e).replace(UK,"|").replace(BK,"[").replace(NK,"]")}function HK(e){return wf(e).replace(VT,"{").replace(HT,"}").replace(UT,"^")}function Qc(e){return wf(e).replace(jT,"%2B").replace(VK,"+").replace(NT,"%23").replace(xK,"%26").replace(jK,"`").replace(VT,"{").replace(HT,"}").replace(UT,"^")}function zK(e){return Qc(e).replace(MK,"%3D")}function GK(e){return wf(e).replace(NT,"%23").replace(FK,"%3F")}function KK(e){return e==null?"":GK(e).replace($K,"%2F")}function ll(e){try{return decodeURIComponent(""+e)}catch{}return""+e}function WK(e){const t={};if(e===""||e==="?")return t;const r=(e[0]==="?"?e.slice(1):e).split("&");for(let a=0;a<r.length;++a){const i=r[a].replace(jT," "),o=i.indexOf("="),l=ll(o<0?i:i.slice(0,o)),u=o<0?null:ll(i.slice(o+1));if(l in t){let s=t[l];Array.isArray(s)||(s=t[l]=[s]),s.push(u)}else t[l]=u}return t}function Hp(e){let t="";for(let n in e){const r=e[n];if(n=zK(n),r==null){r!==void 0&&(t+=(t.length?"&":"")+n);continue}(Array.isArray(r)?r.map(i=>i&&Qc(i)):[r&&Qc(r)]).forEach(i=>{i!==void 0&&(t+=(t.length?"&":"")+n,i!=null&&(t+="="+i))})}return t}function YK(e){const t={};for(const n in e){const r=e[n];r!==void 0&&(t[n]=Array.isArray(r)?r.map(a=>a==null?null:""+a):r==null?r:""+r)}return t}function lo(){let e=[];function t(r){return e.push(r),()=>{const a=e.indexOf(r);a>-1&&e.splice(a,1)}}function n(){e=[]}return{add:t,list:()=>e,reset:n}}function qK(e,t,n){const r=()=>{e[t].delete(n)};$n(r),Hr(r),Ca(()=>{e[t].add(n)}),e[t].add(n)}function YY(e){const t=Qe(RT,{}).value;!t||qK(t,"leaveGuards",e)}function xr(e,t,n,r,a){const i=r&&(r.enterCallbacks[a]=r.enterCallbacks[a]||[]);return()=>new Promise((o,l)=>{const u=d=>{d===!1?l(Si(4,{from:n,to:t})):d instanceof Error?l(d):bK(d)?l(Si(2,{from:t,to:d})):(i&&r.enterCallbacks[a]===i&&typeof d=="function"&&i.push(d),o())},s=e.call(r&&r.instances[a],t,n,u);let c=Promise.resolve(s);e.length<3&&(c=c.then(u)),c.catch(d=>l(d))})}function Wu(e,t,n,r){const a=[];for(const i of e)for(const o in i.components){let l=i.components[o];if(!(t!=="beforeRouteEnter"&&!i.instances[o]))if(XK(l)){const s=(l.__vccOpts||l)[t];s&&a.push(xr(s,n,r,i,o))}else{let u=l();a.push(()=>u.then(s=>{if(!s)return Promise.reject(new Error(`Couldn't resolve component "${o}" at "${i.path}"`));const c=eK(s)?s.default:s;i.components[o]=c;const v=(c.__vccOpts||c)[t];return v&&xr(v,n,r,i,o)()}))}}return a}function XK(e){return typeof e=="object"||"displayName"in e||"props"in e||"__vccOpts"in e}function zp(e){const t=Qe(Zl),n=Qe(Ef),r=N(()=>t.resolve(he(e.to))),a=N(()=>{const{matched:u}=r.value,{length:s}=u,c=u[s-1],d=n.matched;if(!c||!d.length)return-1;const v=d.findIndex(bi.bind(null,c));if(v>-1)return v;const S=Gp(u[s-2]);return s>1&&Gp(c)===S&&d[d.length-1].path!==S?d.findIndex(bi.bind(null,u[s-2])):v}),i=N(()=>a.value>-1&&e7(n.params,r.value.params)),o=N(()=>a.value>-1&&a.value===n.matched.length-1&&xT(n.params,r.value.params));function l(u={}){return QK(u)?t[he(e.replace)?"replace":"push"](he(e.to)).catch(Oo):Promise.resolve()}return{route:r,href:N(()=>r.value.href),isActive:i,isExactActive:o,navigate:l}}const ZK=ee({name:"RouterLink",props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:zp,setup(e,{slots:t}){const n=Me(zp(e)),{options:r}=Qe(Zl),a=N(()=>({[Kp(e.activeClass,r.linkActiveClass,"router-link-active")]:n.isActive,[Kp(e.exactActiveClass,r.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const i=t.default&&t.default(n);return e.custom?i:pt("a",{"aria-current":n.isExactActive?e.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:a.value},i)}}}),JK=ZK;function QK(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)&&!e.defaultPrevented&&!(e.button!==void 0&&e.button!==0)){if(e.currentTarget&&e.currentTarget.getAttribute){const t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return e.preventDefault&&e.preventDefault(),!0}}function e7(e,t){for(const n in t){const r=t[n],a=e[n];if(typeof r=="string"){if(r!==a)return!1}else if(!Array.isArray(a)||a.length!==r.length||r.some((i,o)=>i!==a[o]))return!1}return!0}function Gp(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}const Kp=(e,t,n)=>e!=null?e:t!=null?t:n,t7=ee({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},setup(e,{attrs:t,slots:n}){const r=Qe(Zc),a=N(()=>e.route||r.value),i=Qe(xp,0),o=N(()=>a.value.matched[i]);dt(xp,i+1),dt(RT,o),dt(Zc,a);const l=q();return oe(()=>[l.value,o.value,e.name],([u,s,c],[d,v,S])=>{s&&(s.instances[c]=u,v&&v!==s&&u&&u===d&&(s.leaveGuards.size||(s.leaveGuards=v.leaveGuards),s.updateGuards.size||(s.updateGuards=v.updateGuards))),u&&s&&(!v||!bi(s,v)||!d)&&(s.enterCallbacks[c]||[]).forEach(E=>E(u))},{flush:"post"}),()=>{const u=a.value,s=o.value,c=s&&s.components[e.name],d=e.name;if(!c)return Wp(n.default,{Component:c,route:u});const v=s.props[e.name],S=v?v===!0?u.params:typeof v=="function"?v(u):v:null,m=pt(c,ut({},S,t,{onVnodeUnmounted:f=>{f.component.isUnmounted&&(s.instances[d]=null)},ref:l}));return Wp(n.default,{Component:m,route:u})||m}}});function Wp(e,t){if(!e)return null;const n=e(t);return n.length===1?n[0]:n}const n7=t7;function r7(e){const t=DK(e.routes,e),n=e.parseQuery||WK,r=e.stringifyQuery||Hp,a=e.history,i=lo(),o=lo(),l=lo(),u=oE(Pr);let s=Pr;ri&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const c=Gu.bind(null,V=>""+V),d=Gu.bind(null,KK),v=Gu.bind(null,ll);function S(V,X){let Z,ne;return MT(V)?(Z=t.getRecordMatcher(V),ne=X):ne=V,t.addRoute(ne,Z)}function E(V){const X=t.getRecordMatcher(V);X&&t.removeRoute(X)}function m(){return t.getRoutes().map(V=>V.record)}function f(V){return!!t.getRecordMatcher(V)}function g(V,X){if(X=ut({},X||u.value),typeof V=="string"){const be=Ku(n,V,X.path),G=t.resolve({path:be.path},X),Y=a.createHref(be.fullPath);return ut(be,G,{params:v(G.params),hash:ll(be.hash),redirectedFrom:void 0,href:Y})}let Z;if("path"in V)Z=ut({},V,{path:Ku(n,V.path,X.path).path});else{const be=ut({},V.params);for(const G in be)be[G]==null&&delete be[G];Z=ut({},V,{params:d(V.params)}),X.params=d(X.params)}const ne=t.resolve(Z,X),ae=V.hash||"";ne.params=c(v(ne.params));const ye=rK(r,ut({},V,{hash:HK(ae),path:ne.path})),de=a.createHref(ye);return ut({fullPath:ye,hash:ae,query:r===Hp?YK(V.query):V.query||{}},ne,{redirectedFrom:void 0,href:de})}function h(V){return typeof V=="string"?Ku(n,V,u.value.path):ut({},V)}function y(V,X){if(s!==V)return Si(8,{from:X,to:V})}function b(V){return w(V)}function p(V){return b(ut(h(V),{replace:!0}))}function C(V){const X=V.matched[V.matched.length-1];if(X&&X.redirect){const{redirect:Z}=X;let ne=typeof Z=="function"?Z(V):Z;return typeof ne=="string"&&(ne=ne.includes("?")||ne.includes("#")?ne=h(ne):{path:ne},ne.params={}),ut({query:V.query,hash:V.hash,params:V.params},ne)}}function w(V,X){const Z=s=g(V),ne=u.value,ae=V.state,ye=V.force,de=V.replace===!0,be=C(Z);if(be)return w(ut(h(be),{state:ae,force:ye,replace:de}),X||Z);const G=Z;G.redirectedFrom=X;let Y;return!ye&&aK(r,ne,Z)&&(Y=Si(16,{to:G,from:ne}),j(ne,ne,!0,!1)),(Y?Promise.resolve(Y):_(G,ne)).catch(Q=>Ir(Q)?Ir(Q,2)?Q:M(Q):L(Q,G,ne)).then(Q=>{if(Q){if(Ir(Q,2))return w(ut(h(Q.to),{state:ae,force:ye,replace:de}),X||G)}else Q=O(G,ne,!0,de,ae);return T(G,ne,Q),Q})}function k(V,X){const Z=y(V,X);return Z?Promise.reject(Z):Promise.resolve()}function _(V,X){let Z;const[ne,ae,ye]=a7(V,X);Z=Wu(ne.reverse(),"beforeRouteLeave",V,X);for(const be of ne)be.leaveGuards.forEach(G=>{Z.push(xr(G,V,X))});const de=k.bind(null,V,X);return Z.push(de),Ya(Z).then(()=>{Z=[];for(const be of i.list())Z.push(xr(be,V,X));return Z.push(de),Ya(Z)}).then(()=>{Z=Wu(ae,"beforeRouteUpdate",V,X);for(const be of ae)be.updateGuards.forEach(G=>{Z.push(xr(G,V,X))});return Z.push(de),Ya(Z)}).then(()=>{Z=[];for(const be of V.matched)if(be.beforeEnter&&!X.matched.includes(be))if(Array.isArray(be.beforeEnter))for(const G of be.beforeEnter)Z.push(xr(G,V,X));else Z.push(xr(be.beforeEnter,V,X));return Z.push(de),Ya(Z)}).then(()=>(V.matched.forEach(be=>be.enterCallbacks={}),Z=Wu(ye,"beforeRouteEnter",V,X),Z.push(de),Ya(Z))).then(()=>{Z=[];for(const be of o.list())Z.push(xr(be,V,X));return Z.push(de),Ya(Z)}).catch(be=>Ir(be,8)?be:Promise.reject(be))}function T(V,X,Z){for(const ne of l.list())ne(V,X,Z)}function O(V,X,Z,ne,ae){const ye=y(V,X);if(ye)return ye;const de=X===Pr,be=ri?history.state:{};Z&&(ne||de?a.replace(V.fullPath,ut({scroll:de&&be&&be.scroll},ae)):a.push(V.fullPath,ae)),u.value=V,j(V,X,Z,de),M()}let A;function P(){A=a.listen((V,X,Z)=>{const ne=g(V),ae=C(ne);if(ae){w(ut(ae,{replace:!0}),ne).catch(Oo);return}s=ne;const ye=u.value;ri&&fK(Fp(ye.fullPath,Z.delta),Jl()),_(ne,ye).catch(de=>Ir(de,12)?de:Ir(de,2)?(w(de.to,ne).then(be=>{Ir(be,20)&&!Z.delta&&Z.type===Mo.pop&&a.go(-1,!1)}).catch(Oo),Promise.reject()):(Z.delta&&a.go(-Z.delta,!1),L(de,ne,ye))).then(de=>{de=de||O(ne,ye,!1),de&&(Z.delta?a.go(-Z.delta,!1):Z.type===Mo.pop&&Ir(de,20)&&a.go(-1,!1)),T(ne,ye,de)}).catch(Oo)})}let D=lo(),I=lo(),x;function L(V,X,Z){M(V);const ne=I.list();return ne.length?ne.forEach(ae=>ae(V,X,Z)):console.error(V),Promise.reject(V)}function $(){return x&&u.value!==Pr?Promise.resolve():new Promise((V,X)=>{D.add([V,X])})}function M(V){return x||(x=!V,P(),D.list().forEach(([X,Z])=>V?Z(V):X()),D.reset()),V}function j(V,X,Z,ne){const{scrollBehavior:ae}=e;if(!ri||!ae)return Promise.resolve();const ye=!Z&&hK(Fp(V.fullPath,0))||(ne||!Z)&&history.state&&history.state.scroll||null;return Re().then(()=>ae(V,X,ye)).then(de=>de&&dK(de)).catch(de=>L(de,V,X))}const F=V=>a.go(V);let U;const B=new Set;return{currentRoute:u,addRoute:S,removeRoute:E,hasRoute:f,getRoutes:m,resolve:g,options:e,push:b,replace:p,go:F,back:()=>F(-1),forward:()=>F(1),beforeEach:i.add,beforeResolve:o.add,afterEach:l.add,onError:I.add,isReady:$,install(V){const X=this;V.component("RouterLink",JK),V.component("RouterView",n7),V.config.globalProperties.$router=X,Object.defineProperty(V.config.globalProperties,"$route",{enumerable:!0,get:()=>he(u)}),ri&&!U&&u.value===Pr&&(U=!0,b(a.location).catch(ae=>{}));const Z={};for(const ae in Pr)Z[ae]=N(()=>u.value[ae]);V.provide(Zl,X),V.provide(Ef,Me(Z)),V.provide(Zc,u);const ne=V.unmount;B.add(V),V.unmount=function(){B.delete(V),B.size<1&&(s=Pr,A&&A(),u.value=Pr,U=!1,x=!1),ne()}}}}function Ya(e){return e.reduce((t,n)=>t.then(()=>n()),Promise.resolve())}function a7(e,t){const n=[],r=[],a=[],i=Math.max(t.matched.length,e.matched.length);for(let o=0;o<i;o++){const l=t.matched[o];l&&(e.matched.find(s=>bi(s,l))?r.push(l):n.push(l));const u=e.matched[o];u&&(t.matched.find(s=>bi(s,u))||a.push(u))}return[n,r,a]}function i7(){return Qe(Zl)}function qY(){return Qe(Ef)}const o7="http://101.35.30.21:4399/html/chick/index.html",XY="http://101.35.30.21:4399/html/tmm/index.html",ZY="http://101.35.30.21:4399/upload/",JY="http://101.35.30.21:4399";var Of={exports:{}},zT=function(t,n){return function(){for(var a=new Array(arguments.length),i=0;i<a.length;i++)a[i]=arguments[i];return t.apply(n,a)}},s7=zT,Qr=Object.prototype.toString;function kf(e){return Array.isArray(e)}function ed(e){return typeof e=="undefined"}function l7(e){return e!==null&&!ed(e)&&e.constructor!==null&&!ed(e.constructor)&&typeof e.constructor.isBuffer=="function"&&e.constructor.isBuffer(e)}function GT(e){return Qr.call(e)==="[object ArrayBuffer]"}function u7(e){return Qr.call(e)==="[object FormData]"}function c7(e){var t;return typeof ArrayBuffer!="undefined"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&GT(e.buffer),t}function d7(e){return typeof e=="string"}function f7(e){return typeof e=="number"}function KT(e){return e!==null&&typeof e=="object"}function Ns(e){if(Qr.call(e)!=="[object Object]")return!1;var t=Object.getPrototypeOf(e);return t===null||t===Object.prototype}function h7(e){return Qr.call(e)==="[object Date]"}function v7(e){return Qr.call(e)==="[object File]"}function m7(e){return Qr.call(e)==="[object Blob]"}function WT(e){return Qr.call(e)==="[object Function]"}function g7(e){return KT(e)&&WT(e.pipe)}function p7(e){return Qr.call(e)==="[object URLSearchParams]"}function y7(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}function b7(){return typeof navigator!="undefined"&&(navigator.product==="ReactNative"||navigator.product==="NativeScript"||navigator.product==="NS")?!1:typeof window!="undefined"&&typeof document!="undefined"}function _f(e,t){if(!(e===null||typeof e=="undefined"))if(typeof e!="object"&&(e=[e]),kf(e))for(var n=0,r=e.length;n<r;n++)t.call(null,e[n],n,e);else for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.call(null,e[a],a,e)}function td(){var e={};function t(a,i){Ns(e[i])&&Ns(a)?e[i]=td(e[i],a):Ns(a)?e[i]=td({},a):kf(a)?e[i]=a.slice():e[i]=a}for(var n=0,r=arguments.length;n<r;n++)_f(arguments[n],t);return e}function S7(e,t,n){return _f(t,function(a,i){n&&typeof a=="function"?e[i]=s7(a,n):e[i]=a}),e}function T7(e){return e.charCodeAt(0)===65279&&(e=e.slice(1)),e}var on={isArray:kf,isArrayBuffer:GT,isBuffer:l7,isFormData:u7,isArrayBufferView:c7,isString:d7,isNumber:f7,isObject:KT,isPlainObject:Ns,isUndefined:ed,isDate:h7,isFile:v7,isBlob:m7,isFunction:WT,isStream:g7,isURLSearchParams:p7,isStandardBrowserEnv:b7,forEach:_f,merge:td,extend:S7,trim:y7,stripBOM:T7},qa=on;function Yp(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}var YT=function(t,n,r){if(!n)return t;var a;if(r)a=r(n);else if(qa.isURLSearchParams(n))a=n.toString();else{var i=[];qa.forEach(n,function(u,s){u===null||typeof u=="undefined"||(qa.isArray(u)?s=s+"[]":u=[u],qa.forEach(u,function(d){qa.isDate(d)?d=d.toISOString():qa.isObject(d)&&(d=JSON.stringify(d)),i.push(Yp(s)+"="+Yp(d))}))}),a=i.join("&")}if(a){var o=t.indexOf("#");o!==-1&&(t=t.slice(0,o)),t+=(t.indexOf("?")===-1?"?":"&")+a}return t},C7=on;function Ql(){this.handlers=[]}Ql.prototype.use=function(t,n,r){return this.handlers.push({fulfilled:t,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1};Ql.prototype.eject=function(t){this.handlers[t]&&(this.handlers[t]=null)};Ql.prototype.forEach=function(t){C7.forEach(this.handlers,function(r){r!==null&&t(r)})};var E7=Ql,w7=on,O7=function(t,n){w7.forEach(t,function(a,i){i!==n&&i.toUpperCase()===n.toUpperCase()&&(t[n]=a,delete t[i])})},qT=function(t,n,r,a,i){return t.config=n,r&&(t.code=r),t.request=a,t.response=i,t.isAxiosError=!0,t.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}},t},XT={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},k7=qT,ZT=function(t,n,r,a,i){var o=new Error(t);return k7(o,n,r,a,i)},_7=ZT,A7=function(t,n,r){var a=r.config.validateStatus;!r.status||!a||a(r.status)?t(r):n(_7("Request failed with status code "+r.status,r.config,null,r.request,r))},Ds=on,D7=Ds.isStandardBrowserEnv()?function(){return{write:function(n,r,a,i,o,l){var u=[];u.push(n+"="+encodeURIComponent(r)),Ds.isNumber(a)&&u.push("expires="+new Date(a).toGMTString()),Ds.isString(i)&&u.push("path="+i),Ds.isString(o)&&u.push("domain="+o),l===!0&&u.push("secure"),document.cookie=u.join("; ")},read:function(n){var r=document.cookie.match(new RegExp("(^|;\\s*)("+n+")=([^;]*)"));return r?decodeURIComponent(r[3]):null},remove:function(n){this.write(n,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}(),P7=function(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)},I7=function(t,n){return n?t.replace(/\/+$/,"")+"/"+n.replace(/^\/+/,""):t},L7=P7,R7=I7,x7=function(t,n){return t&&!L7(n)?R7(t,n):n},Yu=on,$7=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"],M7=function(t){var n={},r,a,i;return t&&Yu.forEach(t.split(`
`),function(l){if(i=l.indexOf(":"),r=Yu.trim(l.substr(0,i)).toLowerCase(),a=Yu.trim(l.substr(i+1)),r){if(n[r]&&$7.indexOf(r)>=0)return;r==="set-cookie"?n[r]=(n[r]?n[r]:[]).concat([a]):n[r]=n[r]?n[r]+", "+a:a}}),n},qp=on,F7=qp.isStandardBrowserEnv()?function(){var t=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a"),r;function a(i){var o=i;return t&&(n.setAttribute("href",o),o=n.href),n.setAttribute("href",o),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:n.pathname.charAt(0)==="/"?n.pathname:"/"+n.pathname}}return r=a(window.location.href),function(o){var l=qp.isString(o)?a(o):o;return l.protocol===r.protocol&&l.host===r.host}}():function(){return function(){return!0}}();function Af(e){this.message=e}Af.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")};Af.prototype.__CANCEL__=!0;var eu=Af,Ps=on,B7=A7,N7=D7,j7=YT,U7=x7,V7=M7,H7=F7,qu=ZT,z7=XT,G7=eu,Xp=function(t){return new Promise(function(r,a){var i=t.data,o=t.headers,l=t.responseType,u;function s(){t.cancelToken&&t.cancelToken.unsubscribe(u),t.signal&&t.signal.removeEventListener("abort",u)}Ps.isFormData(i)&&delete o["Content-Type"];var c=new XMLHttpRequest;if(t.auth){var d=t.auth.username||"",v=t.auth.password?unescape(encodeURIComponent(t.auth.password)):"";o.Authorization="Basic "+btoa(d+":"+v)}var S=U7(t.baseURL,t.url);c.open(t.method.toUpperCase(),j7(S,t.params,t.paramsSerializer),!0),c.timeout=t.timeout;function E(){if(!!c){var f="getAllResponseHeaders"in c?V7(c.getAllResponseHeaders()):null,g=!l||l==="text"||l==="json"?c.responseText:c.response,h={data:g,status:c.status,statusText:c.statusText,headers:f,config:t,request:c};B7(function(b){r(b),s()},function(b){a(b),s()},h),c=null}}if("onloadend"in c?c.onloadend=E:c.onreadystatechange=function(){!c||c.readyState!==4||c.status===0&&!(c.responseURL&&c.responseURL.indexOf("file:")===0)||setTimeout(E)},c.onabort=function(){!c||(a(qu("Request aborted",t,"ECONNABORTED",c)),c=null)},c.onerror=function(){a(qu("Network Error",t,null,c)),c=null},c.ontimeout=function(){var g=t.timeout?"timeout of "+t.timeout+"ms exceeded":"timeout exceeded",h=t.transitional||z7;t.timeoutErrorMessage&&(g=t.timeoutErrorMessage),a(qu(g,t,h.clarifyTimeoutError?"ETIMEDOUT":"ECONNABORTED",c)),c=null},Ps.isStandardBrowserEnv()){var m=(t.withCredentials||H7(S))&&t.xsrfCookieName?N7.read(t.xsrfCookieName):void 0;m&&(o[t.xsrfHeaderName]=m)}"setRequestHeader"in c&&Ps.forEach(o,function(g,h){typeof i=="undefined"&&h.toLowerCase()==="content-type"?delete o[h]:c.setRequestHeader(h,g)}),Ps.isUndefined(t.withCredentials)||(c.withCredentials=!!t.withCredentials),l&&l!=="json"&&(c.responseType=t.responseType),typeof t.onDownloadProgress=="function"&&c.addEventListener("progress",t.onDownloadProgress),typeof t.onUploadProgress=="function"&&c.upload&&c.upload.addEventListener("progress",t.onUploadProgress),(t.cancelToken||t.signal)&&(u=function(f){!c||(a(!f||f&&f.type?new G7("canceled"):f),c.abort(),c=null)},t.cancelToken&&t.cancelToken.subscribe(u),t.signal&&(t.signal.aborted?u():t.signal.addEventListener("abort",u))),i||(i=null),c.send(i)})},Ht=on,Zp=O7,K7=qT,W7=XT,Y7={"Content-Type":"application/x-www-form-urlencoded"};function Jp(e,t){!Ht.isUndefined(e)&&Ht.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}function q7(){var e;return(typeof XMLHttpRequest!="undefined"||typeof process!="undefined"&&Object.prototype.toString.call(process)==="[object process]")&&(e=Xp),e}function X7(e,t,n){if(Ht.isString(e))try{return(t||JSON.parse)(e),Ht.trim(e)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(e)}var tu={transitional:W7,adapter:q7(),transformRequest:[function(t,n){return Zp(n,"Accept"),Zp(n,"Content-Type"),Ht.isFormData(t)||Ht.isArrayBuffer(t)||Ht.isBuffer(t)||Ht.isStream(t)||Ht.isFile(t)||Ht.isBlob(t)?t:Ht.isArrayBufferView(t)?t.buffer:Ht.isURLSearchParams(t)?(Jp(n,"application/x-www-form-urlencoded;charset=utf-8"),t.toString()):Ht.isObject(t)||n&&n["Content-Type"]==="application/json"?(Jp(n,"application/json"),X7(t)):t}],transformResponse:[function(t){var n=this.transitional||tu.transitional,r=n&&n.silentJSONParsing,a=n&&n.forcedJSONParsing,i=!r&&this.responseType==="json";if(i||a&&Ht.isString(t)&&t.length)try{return JSON.parse(t)}catch(o){if(i)throw o.name==="SyntaxError"?K7(o,this,"E_JSON_PARSE"):o}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};Ht.forEach(["delete","get","head"],function(t){tu.headers[t]={}});Ht.forEach(["post","put","patch"],function(t){tu.headers[t]=Ht.merge(Y7)});var Df=tu,Z7=on,J7=Df,Q7=function(t,n,r){var a=this||J7;return Z7.forEach(r,function(o){t=o.call(a,t,n)}),t},JT=function(t){return!!(t&&t.__CANCEL__)},Qp=on,Xu=Q7,eW=JT,tW=Df,nW=eu;function Zu(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new nW("canceled")}var rW=function(t){Zu(t),t.headers=t.headers||{},t.data=Xu.call(t,t.data,t.headers,t.transformRequest),t.headers=Qp.merge(t.headers.common||{},t.headers[t.method]||{},t.headers),Qp.forEach(["delete","get","head","post","put","patch","common"],function(a){delete t.headers[a]});var n=t.adapter||tW.adapter;return n(t).then(function(a){return Zu(t),a.data=Xu.call(t,a.data,a.headers,t.transformResponse),a},function(a){return eW(a)||(Zu(t),a&&a.response&&(a.response.data=Xu.call(t,a.response.data,a.response.headers,t.transformResponse))),Promise.reject(a)})},ln=on,QT=function(t,n){n=n||{};var r={};function a(c,d){return ln.isPlainObject(c)&&ln.isPlainObject(d)?ln.merge(c,d):ln.isPlainObject(d)?ln.merge({},d):ln.isArray(d)?d.slice():d}function i(c){if(ln.isUndefined(n[c])){if(!ln.isUndefined(t[c]))return a(void 0,t[c])}else return a(t[c],n[c])}function o(c){if(!ln.isUndefined(n[c]))return a(void 0,n[c])}function l(c){if(ln.isUndefined(n[c])){if(!ln.isUndefined(t[c]))return a(void 0,t[c])}else return a(void 0,n[c])}function u(c){if(c in n)return a(t[c],n[c]);if(c in t)return a(void 0,t[c])}var s={url:o,method:o,data:o,baseURL:l,transformRequest:l,transformResponse:l,paramsSerializer:l,timeout:l,timeoutMessage:l,withCredentials:l,adapter:l,responseType:l,xsrfCookieName:l,xsrfHeaderName:l,onUploadProgress:l,onDownloadProgress:l,decompress:l,maxContentLength:l,maxBodyLength:l,transport:l,httpAgent:l,httpsAgent:l,cancelToken:l,socketPath:l,responseEncoding:l,validateStatus:u};return ln.forEach(Object.keys(t).concat(Object.keys(n)),function(d){var v=s[d]||i,S=v(d);ln.isUndefined(S)&&v!==u||(r[d]=S)}),r},eC={version:"0.26.1"},aW=eC.version,Pf={};["object","boolean","number","function","string","symbol"].forEach(function(e,t){Pf[e]=function(r){return typeof r===e||"a"+(t<1?"n ":" ")+e}});var ey={};Pf.transitional=function(t,n,r){function a(i,o){return"[Axios v"+aW+"] Transitional option '"+i+"'"+o+(r?". "+r:"")}return function(i,o,l){if(t===!1)throw new Error(a(o," has been removed"+(n?" in "+n:"")));return n&&!ey[o]&&(ey[o]=!0,console.warn(a(o," has been deprecated since v"+n+" and will be removed in the near future"))),t?t(i,o,l):!0}};function iW(e,t,n){if(typeof e!="object")throw new TypeError("options must be an object");for(var r=Object.keys(e),a=r.length;a-- >0;){var i=r[a],o=t[i];if(o){var l=e[i],u=l===void 0||o(l,i,e);if(u!==!0)throw new TypeError("option "+i+" must be "+u);continue}if(n!==!0)throw Error("Unknown option "+i)}}var oW={assertOptions:iW,validators:Pf},tC=on,sW=YT,ty=E7,ny=rW,nu=QT,nC=oW,Xa=nC.validators;function Ko(e){this.defaults=e,this.interceptors={request:new ty,response:new ty}}Ko.prototype.request=function(t,n){typeof t=="string"?(n=n||{},n.url=t):n=t||{},n=nu(this.defaults,n),n.method?n.method=n.method.toLowerCase():this.defaults.method?n.method=this.defaults.method.toLowerCase():n.method="get";var r=n.transitional;r!==void 0&&nC.assertOptions(r,{silentJSONParsing:Xa.transitional(Xa.boolean),forcedJSONParsing:Xa.transitional(Xa.boolean),clarifyTimeoutError:Xa.transitional(Xa.boolean)},!1);var a=[],i=!0;this.interceptors.request.forEach(function(S){typeof S.runWhen=="function"&&S.runWhen(n)===!1||(i=i&&S.synchronous,a.unshift(S.fulfilled,S.rejected))});var o=[];this.interceptors.response.forEach(function(S){o.push(S.fulfilled,S.rejected)});var l;if(!i){var u=[ny,void 0];for(Array.prototype.unshift.apply(u,a),u=u.concat(o),l=Promise.resolve(n);u.length;)l=l.then(u.shift(),u.shift());return l}for(var s=n;a.length;){var c=a.shift(),d=a.shift();try{s=c(s)}catch(v){d(v);break}}try{l=ny(s)}catch(v){return Promise.reject(v)}for(;o.length;)l=l.then(o.shift(),o.shift());return l};Ko.prototype.getUri=function(t){return t=nu(this.defaults,t),sW(t.url,t.params,t.paramsSerializer).replace(/^\?/,"")};tC.forEach(["delete","get","head","options"],function(t){Ko.prototype[t]=function(n,r){return this.request(nu(r||{},{method:t,url:n,data:(r||{}).data}))}});tC.forEach(["post","put","patch"],function(t){Ko.prototype[t]=function(n,r,a){return this.request(nu(a||{},{method:t,url:n,data:r}))}});var lW=Ko,uW=eu;function Ti(e){if(typeof e!="function")throw new TypeError("executor must be a function.");var t;this.promise=new Promise(function(a){t=a});var n=this;this.promise.then(function(r){if(!!n._listeners){var a,i=n._listeners.length;for(a=0;a<i;a++)n._listeners[a](r);n._listeners=null}}),this.promise.then=function(r){var a,i=new Promise(function(o){n.subscribe(o),a=o}).then(r);return i.cancel=function(){n.unsubscribe(a)},i},e(function(a){n.reason||(n.reason=new uW(a),t(n.reason))})}Ti.prototype.throwIfRequested=function(){if(this.reason)throw this.reason};Ti.prototype.subscribe=function(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]};Ti.prototype.unsubscribe=function(t){if(!!this._listeners){var n=this._listeners.indexOf(t);n!==-1&&this._listeners.splice(n,1)}};Ti.source=function(){var t,n=new Ti(function(a){t=a});return{token:n,cancel:t}};var cW=Ti,dW=function(t){return function(r){return t.apply(null,r)}},fW=on,hW=function(t){return fW.isObject(t)&&t.isAxiosError===!0},ry=on,vW=zT,js=lW,mW=QT,gW=Df;function rC(e){var t=new js(e),n=vW(js.prototype.request,t);return ry.extend(n,js.prototype,t),ry.extend(n,t),n.create=function(a){return rC(mW(e,a))},n}var rr=rC(gW);rr.Axios=js;rr.Cancel=eu;rr.CancelToken=cW;rr.isCancel=JT;rr.VERSION=eC.version;rr.all=function(t){return Promise.all(t)};rr.spread=dW;rr.isAxiosError=hW;Of.exports=rr;Of.exports.default=rr;var pW=Of.exports,uo="./assets/icon.d0eadf8f.png";var yW=(e,t)=>{const n=e.__vccOpts||e;for(const[r,a]of t)n[r]=a;return n};const bW=ee({setup(){c0();const e=i7();let t=Me({navList:[{text:"\u77E5\u8BC6\u6E05\u5355",imgUrl:uo,path:"/study"},{text:"\u5546\u57CE",imgUrl:uo,path:"/shop"},{text:"\u52A8\u6001",imgUrl:uo,path:"/movecase"},{text:"\u6C64\u59C6\u732B",imgUrl:uo,path:"/tmm"},{text:"\u5C0F\u9E21",imgUrl:uo,path:"/chick"}],active:0,zoneid:null,n:null,u:null,sideActive:0,options:{width:"100%",height:"3.5rem",color:"#409eff",title:"",src:"https://v95-a.douyinvod.com/f390f9b43b1cc4a0503fd44b8416e8e3/62760d44/video/tos/cn/tos-cn-ve-15c001-alinc2/69843b81aae04aba93e017b1a85b03bd/?a=1128&amp;ch=0&amp;cr=0&amp;dr=0&amp;cd=0%7C0%7C0%7C0&amp;cv=1&amp;br=2880&amp;bt=2880&amp;cs=0&amp;ds=3&amp;ft=6klTKjjM95MxrKqoZmCTeK_ScoAw0XqVAtaVJERBwjfvPD&amp;mime_type=video_mp4&amp;qs=0&amp;rc=N2ZpOjMzPDtpNTtoN2lnaUBpM244ODo6Zjc4PDMzNGkzM0A0YC8yLmE1Xy8xYi9hNTEyYSNoLmhwcjRnZG1gLS1kLS9zcw%3D%3D&amp;l=2022050713095901021207507626069DF1",muted:!1,webFullScreen:!1,speedRate:["0.75","1.0","1.25","1.5","2.0"],autoPlay:!1,loop:!1,mirror:!1,ligthOff:!1,volume:.3,control:!0,controlBtns:["audioTrack","quality","speedRate","volume","setting","pip","pageFullScreen","fullScreen"]},videoFlag:!0,dyurl:"",videoObj:{music:"",nickname:"",play:"",title:""}});et(()=>{});let n=()=>{window.location.href=t.options.src},r=async()=>{if(!t.dyurl){Oc.error("\u8BF7\u586B\u5199\u6296\u97F3\u5730\u5740");return}let o=await pW({url:"/new/douyin/api.php?url="+t.dyurl,method:"GET"});t.videoFlag=!0,t.videoObj=o.data,console.log(o,"\u6296\u97F3\u53BB\u6C34\u5370")},a=()=>{let{zoneid:o,n:l,u}=t;if(!o||!l||!u){Oc.error("\u8BF7\u6B63\u786E\u586B\u5199\uFF01\uFF01\uFF01");return}location.href=`
      https://pay.qq.com/h5/index.shtml?m=buy&c=game&dialog=0&midasApiVersion=5&transactionid=CC8E5656-EEC9-4ADD-865E-D4D81C258D691558348901265&dh=1&pf=mds_storeopen_qb-_mds_default_v1_0_0.navgame_v1.0-android&appid=1450002258&zoneid=${1010+Number(o)}&n=${l}&as=1&aid=''&wxAppid2=wx1d5858390bbb31e6&u=${u}
      `},i=o=>{o=="/chick"?location.href=o7:e.push({path:o})};return xf(Rf({},He(t)),{goPage:i,goPayFor:a,getDyUrl:r,seeDyVideo:n})}}),aC=e=>(Ur("data-v-5a2c0bfe"),e=e(),Vr(),e),SW={class:"navBox"},TW=aC(()=>J("p",{style:{"line-height":"0.6rem","font-size":"0.28rem","font-weight":"bold",color:"red",padding:"0",pading:"0","text-indent":"0.3rem"}}," \u738B\u8005\u8363\u8000 \u5B89\u5353QQ\u533A \u70B9\u5238\u5145\u503C",-1)),CW=aC(()=>J("p",{style:{"line-height":"0.3rem","font-size":"0.28rem",color:"#ccc",padding:"0",pading:"0","text-indent":"0.3rem"}}," \u6700\u4F4E\u514510\u70B9\u5238",-1)),EW=tt("\u5145\u503C");function wW(e,t,n,r,a,i){const o=ge("t-input"),l=ge("t-button"),u=ge("van-tab"),s=ge("van-tabs"),c=ge("van-divider"),d=ge("t-grid-item"),v=ge("t-grid");return H(),W(Ce,null,[R(s,{active:e.active,"onUpdate:active":t[3]||(t[3]=S=>e.active=S)},{default:Ue(()=>[R(u,{title:"\u738B\u8005\u70B9\u5238\u5145\u503C"},{default:Ue(()=>[J("div",SW,[TW,CW,J("div",null,[R(o,{type:"number",placeholder:"\u8BF7\u8F93\u5165\u533A\u57DF\u53F7",modelValue:e.zoneid,"onUpdate:modelValue":t[0]||(t[0]=S=>e.zoneid=S),label:"\u5927\u533A"},null,8,["modelValue"]),R(o,{type:"number",placeholder:"\u8BF7\u8F93\u5165\u70B9\u5238\u6570",modelValue:e.n,"onUpdate:modelValue":t[1]||(t[1]=S=>e.n=S),label:"\u70B9\u5238\u6570"},null,8,["modelValue"]),R(o,{type:"number",placeholder:"\u8BF7\u8F93\u5165QQ\u53F7",modelValue:e.u,"onUpdate:modelValue":t[2]||(t[2]=S=>e.u=S),label:"QQ\u53F7"},null,8,["modelValue"]),R(l,{onClick:e.goPayFor,size:"large",theme:"primary"},{default:Ue(()=>[EW]),_:1},8,["onClick"])])])]),_:1})]),_:1},8,["active"]),R(c),R(v,{column:5},{default:Ue(()=>[(H(!0),W(Ce,null,Ne(e.navList,(S,E)=>(H(),Oe(d,{onClick:m=>e.goPage(S.path),key:E,text:S.text,image:S.imgUrl},null,8,["onClick","text","image"]))),128))]),_:1})],64)}var OW=yW(bW,[["render",wW],["__scopeId","data-v-5a2c0bfe"]]);const kW=[{path:"/",redirect:"/home"},{path:"/home",component:OW},{path:"/pay",name:"pay",component:()=>lt(()=>import("./pay.f5daaef8.js"),["assets/pay.f5daaef8.js","assets/pay.88decf90.css"])},{path:"/login",name:"\u767B\u5F55",component:()=>lt(()=>import("./login.4880a59e.js"),["assets/login.4880a59e.js","assets/index.4246fdf3.js"])},{path:"/regist",name:"\u6CE8\u518C",component:()=>lt(()=>import("./regist.4ab6722a.js"),["assets/regist.4ab6722a.js","assets/index.4246fdf3.js"])},{path:"/mine",name:"\u6211\u7684",component:()=>lt(()=>import("./mine.128feafb.js"),[])},{path:"/wp",name:"\u7F51\u76D8",component:()=>lt(()=>import("./wp.cc4cb0e1.js"),["assets/wp.cc4cb0e1.js","assets/wp.2543b280.css","assets/dot.2344e79c.js","assets/index.4246fdf3.js"])},{path:"/wpdir/:dir",name:"wpdir",component:()=>lt(()=>import("./wpdir.009ac44f.js"),["assets/wpdir.009ac44f.js","assets/wpdir.e580b05d.css","assets/dot.2344e79c.js","assets/index.4246fdf3.js"])},{path:"/tmm",component:()=>lt(()=>import("./tmm.4149a8fe.js"),["assets/tmm.4149a8fe.js","assets/tmm.8bcbbef9.css"])},{path:"/movecase",name:"\u52A8\u6001",component:()=>lt(()=>import("./list.ec103900.js"),["assets/list.ec103900.js","assets/list.b20cef2b.css","assets/index.4246fdf3.js"])},{path:"/addcase",name:"\u6DFB\u52A0\u52A8\u6001",component:()=>lt(()=>import("./add.08ce918f.js"),["assets/add.08ce918f.js","assets/add.6c940720.css","assets/index.4246fdf3.js"])},{path:"/shop",component:()=>lt(()=>import("./shop.2f4ea189.js"),["assets/shop.2f4ea189.js","assets/shop.5d7c74bb.css","assets/index.4246fdf3.js"])},{path:"/editgood",component:()=>lt(()=>import("./editGood.adca01ac.js"),["assets/editGood.adca01ac.js","assets/editGood.fe0f106a.css","assets/index.4246fdf3.js","assets/wangEditor.f2397b48.js"])},{path:"/shopdetail",name:"\u7F16\u8F91\u5546\u54C1",component:()=>lt(()=>import("./shopDetail.6ecf44be.js"),["assets/shopDetail.6ecf44be.js","assets/shopDetail.8de737b1.css","assets/index.4246fdf3.js"])},{path:"/leaveword",name:"\u7559\u8A00",component:()=>lt(()=>import("./leaveword.4b841dac.js"),["assets/leaveword.4b841dac.js","assets/leaveword.8d49a176.css","assets/index.4246fdf3.js"])},{path:"/leaveList",name:"\u7559\u8A00",component:()=>lt(()=>import("./leaveList.92274685.js"),["assets/leaveList.92274685.js","assets/leaveList.2babfb40.css","assets/index.4246fdf3.js"])},{path:"/nearMan",name:"\u9644\u8FD1\u7684\u4EBA",component:()=>lt(()=>import("./nearMan.687611c1.js"),["assets/nearMan.687611c1.js","assets/nearMan.e5d330fd.css","assets/index.4246fdf3.js"])},{path:"/diction_list",component:()=>lt(()=>import("./list.1b1e5bc2.js"),["assets/list.1b1e5bc2.js","assets/list.968f4b97.css","assets/index.4246fdf3.js"])},{path:"/getOnlinePath",name:"\u83B7\u53D6\u5728\u7EBF\u94FE\u63A5",component:()=>lt(()=>import("./getOnlinePath.609b967e.js"),["assets/getOnlinePath.609b967e.js","assets/getOnlinePath.1b1c1419.css","assets/index.4246fdf3.js"])},{path:"/study",component:()=>lt(()=>import("./Study.3aaedaef.js"),["assets/Study.3aaedaef.js","assets/Study.82e206ab.css","assets/index.4246fdf3.js"])},{path:"/studyAdd",component:()=>lt(()=>import("./add.29bab763.js"),["assets/add.29bab763.js","assets/add.a89ce5a5.css","assets/wangEditor.f2397b48.js","assets/index.4246fdf3.js"])},{path:"/studydetail",name:"studydetail",component:()=>lt(()=>import("./detail.dbb0baed.js"),["assets/detail.dbb0baed.js","assets/detail.ae35afe6.css","assets/index.4246fdf3.js"])},{path:"/phone_login",name:"\u624B\u673A\u53F7\u767B\u5F55",component:()=>lt(()=>import("./phone_login.d1817c6b.js"),[])},{path:"/phone_regist",name:"\u624B\u673A\u53F7\u6CE8\u518C",component:()=>lt(()=>import("./phone_regist.6783df89.js"),[])},{path:"/hospital_list",name:"\u75AB\u60C5",component:()=>lt(()=>import("./list.be36707f.js"),["assets/list.be36707f.js","assets/list.0699fd3b.css","assets/index.4246fdf3.js"])},{path:"/share",name:"\u5206\u4EAB",component:()=>lt(()=>import("./share.1419aed4.js"),["assets/share.1419aed4.js","assets/share.a048bde0.css","assets/index.4246fdf3.js"])},{path:"/tanslate",name:"\u529F\u80FD",component:()=>lt(()=>import("./tanslate.1cf87b27.js"),["assets/tanslate.1cf87b27.js","assets/tanslate.3ba56ac7.css","assets/index.4246fdf3.js"])},{path:"/func_list",name:"\u7FFB\u8BD1",component:()=>lt(()=>import("./home.4971eb2d.js"),[])},{path:"/:pathMatch(.*)*",name:"NotFound",component:()=>lt(()=>import("./notFound.575a874e.js"),[])}],_W=r7({history:yK(),routes:kW});var AW=yO({state:{footer:!0,theme:{}},getters:{getTheme(e){return e.theme}},mutations:{changeTheme(e,t){switch(t){case"default":e.theme={};break;case"new":e.theme={rateIconFullColor:"#07c160",sliderBarHeight:"4px",sliderButtonWidth:"20px",sliderButtonHeight:"20px",sliderActiveBackgroundColor:"#07c160",buttonPrimaryBorderColor:"#07c160",buttonPrimaryBackgroundColor:"#07c160"};break}},changeFooter(e,t){e.footer=t}},actions:{},modules:{}}),DW=Object.defineProperty,PW=Object.defineProperties,IW=Object.getOwnPropertyDescriptors,ay=Object.getOwnPropertySymbols,LW=Object.prototype.hasOwnProperty,RW=Object.prototype.propertyIsEnumerable,iy=(e,t,n)=>t in e?DW(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,nd=(e,t)=>{for(var n in t||(t={}))LW.call(t,n)&&iy(e,n,t[n]);if(ay)for(var n of ay(t))RW.call(t,n)&&iy(e,n,t[n]);return e},rd=(e,t)=>PW(e,IW(t));function oy(e,t,n,r){var a,i=!1,o=0;function l(){a&&clearTimeout(a)}function u(){for(var s=arguments.length,c=new Array(s),d=0;d<s;d++)c[d]=arguments[d];var v=this,S=Date.now()-o;function E(){o=Date.now(),n.apply(v,c)}function m(){a=void 0}i||(r&&!a&&E(),l(),r===void 0&&S>e?E():t!==!0&&(a=setTimeout(r?m:E,r===void 0?e-S:e)))}return typeof t!="boolean"&&(r=n,n=t,t=void 0),u.cancel=function(){l(),i=!0},u}function sy(e,t,n){return n===void 0?oy(e,t,!1):oy(e,n,t!==!1)}function xW(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var iC={exports:{}};typeof window!="undefined"&&(iC.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var a=t[r]={i:r,l:!1,exports:{}};return e[r].call(a.exports,a,a.exports,n),a.l=!0,a.exports}return n.m=e,n.c=t,n.d=function(r,a,i){n.o(r,a)||Object.defineProperty(r,a,{enumerable:!0,get:i})},n.r=function(r){typeof Symbol!="undefined"&&Symbol.toStringTag&&Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(r,"__esModule",{value:!0})},n.t=function(r,a){if(1&a&&(r=n(r)),8&a||4&a&&typeof r=="object"&&r&&r.__esModule)return r;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:r}),2&a&&typeof r!="string")for(var o in r)n.d(i,o,function(l){return r[l]}.bind(null,o));return i},n.n=function(r){var a=r&&r.__esModule?function(){return r.default}:function(){return r};return n.d(a,"a",a),a},n.o=function(r,a){return Object.prototype.hasOwnProperty.call(r,a)},n.p="/dist/",n(n.s="./src/hls.ts")}({"./node_modules/eventemitter3/index.js":function(e,t,n){var r=Object.prototype.hasOwnProperty,a="~";function i(){}function o(c,d,v){this.fn=c,this.context=d,this.once=v||!1}function l(c,d,v,S,E){if(typeof v!="function")throw new TypeError("The listener must be a function");var m=new o(v,S||c,E),f=a?a+d:d;return c._events[f]?c._events[f].fn?c._events[f]=[c._events[f],m]:c._events[f].push(m):(c._events[f]=m,c._eventsCount++),c}function u(c,d){--c._eventsCount==0?c._events=new i:delete c._events[d]}function s(){this._events=new i,this._eventsCount=0}Object.create&&(i.prototype=Object.create(null),new i().__proto__||(a=!1)),s.prototype.eventNames=function(){var c,d,v=[];if(this._eventsCount===0)return v;for(d in c=this._events)r.call(c,d)&&v.push(a?d.slice(1):d);return Object.getOwnPropertySymbols?v.concat(Object.getOwnPropertySymbols(c)):v},s.prototype.listeners=function(c){var d=a?a+c:c,v=this._events[d];if(!v)return[];if(v.fn)return[v.fn];for(var S=0,E=v.length,m=new Array(E);S<E;S++)m[S]=v[S].fn;return m},s.prototype.listenerCount=function(c){var d=a?a+c:c,v=this._events[d];return v?v.fn?1:v.length:0},s.prototype.emit=function(c,d,v,S,E,m){var f=a?a+c:c;if(!this._events[f])return!1;var g,h,y=this._events[f],b=arguments.length;if(y.fn){switch(y.once&&this.removeListener(c,y.fn,void 0,!0),b){case 1:return y.fn.call(y.context),!0;case 2:return y.fn.call(y.context,d),!0;case 3:return y.fn.call(y.context,d,v),!0;case 4:return y.fn.call(y.context,d,v,S),!0;case 5:return y.fn.call(y.context,d,v,S,E),!0;case 6:return y.fn.call(y.context,d,v,S,E,m),!0}for(h=1,g=new Array(b-1);h<b;h++)g[h-1]=arguments[h];y.fn.apply(y.context,g)}else{var p,C=y.length;for(h=0;h<C;h++)switch(y[h].once&&this.removeListener(c,y[h].fn,void 0,!0),b){case 1:y[h].fn.call(y[h].context);break;case 2:y[h].fn.call(y[h].context,d);break;case 3:y[h].fn.call(y[h].context,d,v);break;case 4:y[h].fn.call(y[h].context,d,v,S);break;default:if(!g)for(p=1,g=new Array(b-1);p<b;p++)g[p-1]=arguments[p];y[h].fn.apply(y[h].context,g)}}return!0},s.prototype.on=function(c,d,v){return l(this,c,d,v,!1)},s.prototype.once=function(c,d,v){return l(this,c,d,v,!0)},s.prototype.removeListener=function(c,d,v,S){var E=a?a+c:c;if(!this._events[E])return this;if(!d)return u(this,E),this;var m=this._events[E];if(m.fn)m.fn!==d||S&&!m.once||v&&m.context!==v||u(this,E);else{for(var f=0,g=[],h=m.length;f<h;f++)(m[f].fn!==d||S&&!m[f].once||v&&m[f].context!==v)&&g.push(m[f]);g.length?this._events[E]=g.length===1?g[0]:g:u(this,E)}return this},s.prototype.removeAllListeners=function(c){var d;return c?(d=a?a+c:c,this._events[d]&&u(this,d)):(this._events=new i,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=a,s.EventEmitter=s,e.exports=s},"./node_modules/url-toolkit/src/url-toolkit.js":function(e,t,n){var r,a,i,o,l;r=/^((?:[a-zA-Z0-9+\-.]+:)?)(\/\/[^\/?#]*)?((?:[^\/?#]*\/)*[^;?#]*)?(;[^?#]*)?(\?[^#]*)?(#[^]*)?$/,a=/^([^\/?#]*)([^]*)$/,i=/(?:\/|^)\.(?=\/)/g,o=/(?:\/|^)\.\.\/(?!\.\.\/)[^\/]*(?=\/)/g,l={buildAbsoluteURL:function(u,s,c){if(c=c||{},u=u.trim(),!(s=s.trim())){if(!c.alwaysNormalize)return u;var d=l.parseURL(u);if(!d)throw new Error("Error trying to parse base URL.");return d.path=l.normalizePath(d.path),l.buildURLFromParts(d)}var v=l.parseURL(s);if(!v)throw new Error("Error trying to parse relative URL.");if(v.scheme)return c.alwaysNormalize?(v.path=l.normalizePath(v.path),l.buildURLFromParts(v)):s;var S=l.parseURL(u);if(!S)throw new Error("Error trying to parse base URL.");if(!S.netLoc&&S.path&&S.path[0]!=="/"){var E=a.exec(S.path);S.netLoc=E[1],S.path=E[2]}S.netLoc&&!S.path&&(S.path="/");var m={scheme:S.scheme,netLoc:v.netLoc,path:null,params:v.params,query:v.query,fragment:v.fragment};if(!v.netLoc&&(m.netLoc=S.netLoc,v.path[0]!=="/"))if(v.path){var f=S.path,g=f.substring(0,f.lastIndexOf("/")+1)+v.path;m.path=l.normalizePath(g)}else m.path=S.path,v.params||(m.params=S.params,v.query||(m.query=S.query));return m.path===null&&(m.path=c.alwaysNormalize?l.normalizePath(v.path):v.path),l.buildURLFromParts(m)},parseURL:function(u){var s=r.exec(u);return s?{scheme:s[1]||"",netLoc:s[2]||"",path:s[3]||"",params:s[4]||"",query:s[5]||"",fragment:s[6]||""}:null},normalizePath:function(u){for(u=u.split("").reverse().join("").replace(i,"");u.length!==(u=u.replace(o,"")).length;);return u.split("").reverse().join("")},buildURLFromParts:function(u){return u.scheme+u.netLoc+u.path+u.params+u.query+u.fragment}},e.exports=l},"./node_modules/webworkify-webpack/index.js":function(e,t,n){function r(s){var c={};function d(S){if(c[S])return c[S].exports;var E=c[S]={i:S,l:!1,exports:{}};return s[S].call(E.exports,E,E.exports,d),E.l=!0,E.exports}d.m=s,d.c=c,d.i=function(S){return S},d.d=function(S,E,m){d.o(S,E)||Object.defineProperty(S,E,{configurable:!1,enumerable:!0,get:m})},d.r=function(S){Object.defineProperty(S,"__esModule",{value:!0})},d.n=function(S){var E=S&&S.__esModule?function(){return S.default}:function(){return S};return d.d(E,"a",E),E},d.o=function(S,E){return Object.prototype.hasOwnProperty.call(S,E)},d.p="/",d.oe=function(S){throw console.error(S),S};var v=d(d.s=ENTRY_MODULE);return v.default||v}var a="[\\.|\\-|\\+|\\w|/|@]+",i="\\(\\s*(/\\*.*?\\*/)?\\s*.*?([\\.|\\-|\\+|\\w|/|@]+).*?\\)";function o(s){return(s+"").replace(/[.?*+^$[\]\\(){}|-]/g,"\\$&")}function l(s,c,d){var v={};v[d]=[];var S=c.toString(),E=S.match(/^function\s?\w*\(\w+,\s*\w+,\s*(\w+)\)/);if(!E)return v;for(var m,f=E[1],g=new RegExp("(\\\\n|\\W)"+o(f)+i,"g");m=g.exec(S);)m[3]!=="dll-reference"&&v[d].push(m[3]);for(g=new RegExp("\\("+o(f)+'\\("(dll-reference\\s('+a+'))"\\)\\)'+i,"g");m=g.exec(S);)s[m[2]]||(v[d].push(m[1]),s[m[2]]=n(m[1]).m),v[m[2]]=v[m[2]]||[],v[m[2]].push(m[4]);for(var h,y=Object.keys(v),b=0;b<y.length;b++)for(var p=0;p<v[y[b]].length;p++)h=v[y[b]][p],isNaN(1*h)||(v[y[b]][p]=1*v[y[b]][p]);return v}function u(s){return Object.keys(s).reduce(function(c,d){return c||s[d].length>0},!1)}e.exports=function(s,c){c=c||{};var d={main:n.m},v=c.all?{main:Object.keys(d.main)}:function(g,h){for(var y={main:[h]},b={main:[]},p={main:{}};u(y);)for(var C=Object.keys(y),w=0;w<C.length;w++){var k=C[w],_=y[k].pop();if(p[k]=p[k]||{},!p[k][_]&&g[k][_]){p[k][_]=!0,b[k]=b[k]||[],b[k].push(_);for(var T=l(g,g[k][_],k),O=Object.keys(T),A=0;A<O.length;A++)y[O[A]]=y[O[A]]||[],y[O[A]]=y[O[A]].concat(T[O[A]])}}return b}(d,s),S="";Object.keys(v).filter(function(g){return g!=="main"}).forEach(function(g){for(var h=0;v[g][h];)h++;v[g].push(h),d[g][h]="(function(module, exports, __webpack_require__) { module.exports = __webpack_require__; })",S=S+"var "+g+" = ("+r.toString().replace("ENTRY_MODULE",JSON.stringify(h))+")({"+v[g].map(function(y){return JSON.stringify(y)+": "+d[g][y].toString()}).join(",")+`});
`}),S=S+"new (("+r.toString().replace("ENTRY_MODULE",JSON.stringify(s))+")({"+v.main.map(function(g){return JSON.stringify(g)+": "+d.main[g].toString()}).join(",")+"}))(self);";var E=new window.Blob([S],{type:"text/javascript"});if(c.bare)return E;var m=(window.URL||window.webkitURL||window.mozURL||window.msURL).createObjectURL(E),f=new window.Worker(m);return f.objectURL=m,f}},"./src/config.ts":function(e,t,n){n.r(t),n.d(t,"hlsDefaultConfig",function(){return C}),n.d(t,"mergeConfig",function(){return w}),n.d(t,"enableStreamingMode",function(){return k});var r=n("./src/controller/abr-controller.ts"),a=n("./src/controller/audio-stream-controller.ts"),i=n("./src/controller/audio-track-controller.ts"),o=n("./src/controller/subtitle-stream-controller.ts"),l=n("./src/controller/subtitle-track-controller.ts"),u=n("./src/controller/buffer-controller.ts"),s=n("./src/controller/timeline-controller.ts"),c=n("./src/controller/cap-level-controller.ts"),d=n("./src/controller/fps-controller.ts"),v=n("./src/controller/eme-controller.ts"),S=n("./src/utils/xhr-loader.ts"),E=n("./src/utils/fetch-loader.ts"),m=n("./src/utils/cues.ts"),f=n("./src/utils/mediakeys-helper.ts"),g=n("./src/utils/logger.ts");function h(){return(h=Object.assign||function(_){for(var T=1;T<arguments.length;T++){var O=arguments[T];for(var A in O)Object.prototype.hasOwnProperty.call(O,A)&&(_[A]=O[A])}return _}).apply(this,arguments)}function y(_,T){var O=Object.keys(_);if(Object.getOwnPropertySymbols){var A=Object.getOwnPropertySymbols(_);T&&(A=A.filter(function(P){return Object.getOwnPropertyDescriptor(_,P).enumerable})),O.push.apply(O,A)}return O}function b(_){for(var T=1;T<arguments.length;T++){var O=arguments[T]!=null?arguments[T]:{};T%2?y(Object(O),!0).forEach(function(A){p(_,A,O[A])}):Object.getOwnPropertyDescriptors?Object.defineProperties(_,Object.getOwnPropertyDescriptors(O)):y(Object(O)).forEach(function(A){Object.defineProperty(_,A,Object.getOwnPropertyDescriptor(O,A))})}return _}function p(_,T,O){return T in _?Object.defineProperty(_,T,{value:O,enumerable:!0,configurable:!0,writable:!0}):_[T]=O,_}var C=b(b({autoStartLoad:!0,startPosition:-1,defaultAudioCodec:void 0,debug:!1,capLevelOnFPSDrop:!1,capLevelToPlayerSize:!1,initialLiveManifestSize:1,maxBufferLength:30,backBufferLength:1/0,maxBufferSize:6e7,maxBufferHole:.1,highBufferWatchdogPeriod:2,nudgeOffset:.1,nudgeMaxRetry:3,maxFragLookUpTolerance:.25,liveSyncDurationCount:3,liveMaxLatencyDurationCount:1/0,liveSyncDuration:void 0,liveMaxLatencyDuration:void 0,maxLiveSyncPlaybackRate:1,liveDurationInfinity:!1,liveBackBufferLength:null,maxMaxBufferLength:600,enableWorker:!0,enableSoftwareAES:!0,manifestLoadingTimeOut:1e4,manifestLoadingMaxRetry:1,manifestLoadingRetryDelay:1e3,manifestLoadingMaxRetryTimeout:64e3,startLevel:void 0,levelLoadingTimeOut:1e4,levelLoadingMaxRetry:4,levelLoadingRetryDelay:1e3,levelLoadingMaxRetryTimeout:64e3,fragLoadingTimeOut:2e4,fragLoadingMaxRetry:6,fragLoadingRetryDelay:1e3,fragLoadingMaxRetryTimeout:64e3,startFragPrefetch:!1,fpsDroppedMonitoringPeriod:5e3,fpsDroppedMonitoringThreshold:.2,appendErrorMaxRetry:3,loader:S.default,fLoader:void 0,pLoader:void 0,xhrSetup:void 0,licenseXhrSetup:void 0,licenseResponseCallback:void 0,abrController:r.default,bufferController:u.default,capLevelController:c.default,fpsController:d.default,stretchShortVideoTrack:!1,maxAudioFramesDrift:1,forceKeyFrameOnDiscontinuity:!0,abrEwmaFastLive:3,abrEwmaSlowLive:9,abrEwmaFastVoD:3,abrEwmaSlowVoD:9,abrEwmaDefaultEstimate:5e5,abrBandWidthFactor:.95,abrBandWidthUpFactor:.7,abrMaxWithRealBitrate:!1,maxStarvationDelay:4,maxLoadingDelay:4,minAutoBitrate:0,emeEnabled:!1,widevineLicenseUrl:void 0,drmSystemOptions:{},requestMediaKeySystemAccessFunc:f.requestMediaKeySystemAccess,testBandwidth:!0,progressive:!1,lowLatencyMode:!0},{cueHandler:m.default,enableCEA708Captions:!0,enableWebVTT:!0,enableIMSC1:!0,captionsTextTrack1Label:"English",captionsTextTrack1LanguageCode:"en",captionsTextTrack2Label:"Spanish",captionsTextTrack2LanguageCode:"es",captionsTextTrack3Label:"Unknown CC",captionsTextTrack3LanguageCode:"",captionsTextTrack4Label:"Unknown CC",captionsTextTrack4LanguageCode:"",renderTextTracksNatively:!0}),{},{subtitleStreamController:o.SubtitleStreamController,subtitleTrackController:l.default,timelineController:s.TimelineController,audioStreamController:a.default,audioTrackController:i.default,emeController:v.default});function w(_,T){if((T.liveSyncDurationCount||T.liveMaxLatencyDurationCount)&&(T.liveSyncDuration||T.liveMaxLatencyDuration))throw new Error("Illegal hls.js config: don't mix up liveSyncDurationCount/liveMaxLatencyDurationCount and liveSyncDuration/liveMaxLatencyDuration");if(T.liveMaxLatencyDurationCount!==void 0&&(T.liveSyncDurationCount===void 0||T.liveMaxLatencyDurationCount<=T.liveSyncDurationCount))throw new Error('Illegal hls.js config: "liveMaxLatencyDurationCount" must be greater than "liveSyncDurationCount"');if(T.liveMaxLatencyDuration!==void 0&&(T.liveSyncDuration===void 0||T.liveMaxLatencyDuration<=T.liveSyncDuration))throw new Error('Illegal hls.js config: "liveMaxLatencyDuration" must be greater than "liveSyncDuration"');return h({},_,T)}function k(_){var T=_.loader;T!==E.default&&T!==S.default?(g.logger.log("[config]: Custom loader detected, cannot enable progressive streaming"),_.progressive=!1):Object(E.fetchSupported)()&&(_.loader=E.default,_.progressive=!0,_.enableSoftwareAES=!0,g.logger.log("[config]: Progressive streaming enabled, using FetchLoader"))}},"./src/controller/abr-controller.ts":function(e,t,n){n.r(t);var r=n("./src/polyfills/number.ts"),a=n("./src/utils/ewma-bandwidth-estimator.ts"),i=n("./src/events.ts"),o=n("./src/utils/buffer-helper.ts"),l=n("./src/errors.ts"),u=n("./src/types/loader.ts"),s=n("./src/utils/logger.ts");function c(v,S){for(var E=0;E<S.length;E++){var m=S[E];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(v,m.key,m)}}var d=function(){function v(f){this.hls=void 0,this.lastLoadedFragLevel=0,this._nextAutoLevel=-1,this.timer=void 0,this.onCheck=this._abandonRulesCheck.bind(this),this.fragCurrent=null,this.partCurrent=null,this.bitrateTestDelay=0,this.bwEstimator=void 0,this.hls=f;var g=f.config;this.bwEstimator=new a.default(g.abrEwmaSlowVoD,g.abrEwmaFastVoD,g.abrEwmaDefaultEstimate),this.registerListeners()}var S,E,m=v.prototype;return m.registerListeners=function(){var f=this.hls;f.on(i.Events.FRAG_LOADING,this.onFragLoading,this),f.on(i.Events.FRAG_LOADED,this.onFragLoaded,this),f.on(i.Events.FRAG_BUFFERED,this.onFragBuffered,this),f.on(i.Events.LEVEL_LOADED,this.onLevelLoaded,this),f.on(i.Events.ERROR,this.onError,this)},m.unregisterListeners=function(){var f=this.hls;f.off(i.Events.FRAG_LOADING,this.onFragLoading,this),f.off(i.Events.FRAG_LOADED,this.onFragLoaded,this),f.off(i.Events.FRAG_BUFFERED,this.onFragBuffered,this),f.off(i.Events.LEVEL_LOADED,this.onLevelLoaded,this),f.off(i.Events.ERROR,this.onError,this)},m.destroy=function(){this.unregisterListeners(),this.clearTimer(),this.hls=this.onCheck=null,this.fragCurrent=this.partCurrent=null},m.onFragLoading=function(f,g){var h,y=g.frag;y.type===u.PlaylistLevelType.MAIN&&(this.timer||(this.fragCurrent=y,this.partCurrent=(h=g.part)!=null?h:null,this.timer=self.setInterval(this.onCheck,100)))},m.onLevelLoaded=function(f,g){var h=this.hls.config;g.details.live?this.bwEstimator.update(h.abrEwmaSlowLive,h.abrEwmaFastLive):this.bwEstimator.update(h.abrEwmaSlowVoD,h.abrEwmaFastVoD)},m._abandonRulesCheck=function(){var f=this.fragCurrent,g=this.partCurrent,h=this.hls,y=h.autoLevelEnabled,b=h.config,p=h.media;if(f&&p){var C=g?g.stats:f.stats,w=g?g.duration:f.duration;if(C.aborted)return s.logger.warn("frag loader destroy or aborted, disarm abandonRules"),this.clearTimer(),void(this._nextAutoLevel=-1);if(y&&!p.paused&&p.playbackRate&&p.readyState){var k=performance.now()-C.loading.start,_=Math.abs(p.playbackRate);if(!(k<=500*w/_)){var T=h.levels,O=h.minAutoLevel,A=T[f.level],P=C.total||Math.max(C.loaded,Math.round(w*A.maxBitrate/8)),D=Math.max(1,C.bwEstimate?C.bwEstimate/8:1e3*C.loaded/k),I=(P-C.loaded)/D,x=p.currentTime,L=(o.BufferHelper.bufferInfo(p,x,b.maxBufferHole).end-x)/_;if(!(L>=2*w/_||I<=L)){var $,M=Number.POSITIVE_INFINITY;for($=f.level-1;$>O&&!((M=w*T[$].maxBitrate/(6.4*D))<L);$--);if(!(M>=I)){var j=this.bwEstimator.getEstimate();s.logger.warn("Fragment "+f.sn+(g?" part "+g.index:"")+" of level "+f.level+" is loading too slowly and will cause an underbuffer; aborting and switching to level "+$+`
      Current BW estimate: `+(Object(r.isFiniteNumber)(j)?(j/1024).toFixed(3):"Unknown")+` Kb/s
      Estimated load time for current fragment: `+I.toFixed(3)+` s
      Estimated load time for the next fragment: `+M.toFixed(3)+` s
      Time to underbuffer: `+L.toFixed(3)+" s"),h.nextLoadLevel=$,this.bwEstimator.sample(k,C.loaded),this.clearTimer(),f.loader&&(this.fragCurrent=this.partCurrent=null,f.loader.abort()),h.trigger(i.Events.FRAG_LOAD_EMERGENCY_ABORTED,{frag:f,part:g,stats:C})}}}}}},m.onFragLoaded=function(f,g){var h=g.frag,y=g.part;if(h.type===u.PlaylistLevelType.MAIN&&Object(r.isFiniteNumber)(h.sn)){var b=y?y.stats:h.stats,p=y?y.duration:h.duration;if(this.clearTimer(),this.lastLoadedFragLevel=h.level,this._nextAutoLevel=-1,this.hls.config.abrMaxWithRealBitrate){var C=this.hls.levels[h.level],w=(C.loaded?C.loaded.bytes:0)+b.loaded,k=(C.loaded?C.loaded.duration:0)+p;C.loaded={bytes:w,duration:k},C.realBitrate=Math.round(8*w/k)}if(h.bitrateTest){var _={stats:b,frag:h,part:y,id:h.type};this.onFragBuffered(i.Events.FRAG_BUFFERED,_),h.bitrateTest=!1}}},m.onFragBuffered=function(f,g){var h=g.frag,y=g.part,b=y?y.stats:h.stats;if(!b.aborted&&h.type===u.PlaylistLevelType.MAIN&&h.sn!=="initSegment"){var p=b.parsing.end-b.loading.start;this.bwEstimator.sample(p,b.loaded),b.bwEstimate=this.bwEstimator.getEstimate(),h.bitrateTest?this.bitrateTestDelay=p/1e3:this.bitrateTestDelay=0}},m.onError=function(f,g){switch(g.details){case l.ErrorDetails.FRAG_LOAD_ERROR:case l.ErrorDetails.FRAG_LOAD_TIMEOUT:this.clearTimer()}},m.clearTimer=function(){self.clearInterval(this.timer),this.timer=void 0},m.getNextABRAutoLevel=function(){var f=this.fragCurrent,g=this.partCurrent,h=this.hls,y=h.maxAutoLevel,b=h.config,p=h.minAutoLevel,C=h.media,w=g?g.duration:f?f.duration:0,k=C?C.currentTime:0,_=C&&C.playbackRate!==0?Math.abs(C.playbackRate):1,T=this.bwEstimator?this.bwEstimator.getEstimate():b.abrEwmaDefaultEstimate,O=(o.BufferHelper.bufferInfo(C,k,b.maxBufferHole).end-k)/_,A=this.findBestLevel(T,p,y,O,b.abrBandWidthFactor,b.abrBandWidthUpFactor);if(A>=0)return A;s.logger.trace((O?"rebuffering expected":"buffer is empty")+", finding optimal quality level");var P=w?Math.min(w,b.maxStarvationDelay):b.maxStarvationDelay,D=b.abrBandWidthFactor,I=b.abrBandWidthUpFactor;if(!O){var x=this.bitrateTestDelay;x&&(P=(w?Math.min(w,b.maxLoadingDelay):b.maxLoadingDelay)-x,s.logger.trace("bitrate test took "+Math.round(1e3*x)+"ms, set first fragment max fetchDuration to "+Math.round(1e3*P)+" ms"),D=I=1)}return A=this.findBestLevel(T,p,y,O+P,D,I),Math.max(A,0)},m.findBestLevel=function(f,g,h,y,b,p){for(var C,w=this.fragCurrent,k=this.partCurrent,_=this.lastLoadedFragLevel,T=this.hls.levels,O=T[_],A=!(O==null||(C=O.details)===null||C===void 0||!C.live),P=O==null?void 0:O.codecSet,D=k?k.duration:w?w.duration:0,I=h;I>=g;I--){var x=T[I];if(x&&(!P||x.codecSet===P)){var L=x.details,$=(k?L==null?void 0:L.partTarget:L==null?void 0:L.averagetargetduration)||D,M=void 0;M=I<=_?b*f:p*f;var j=T[I].maxBitrate,F=j*$/M;if(s.logger.trace("level/adjustedbw/bitrate/avgDuration/maxFetchDuration/fetchDuration: "+I+"/"+Math.round(M)+"/"+j+"/"+$+"/"+y+"/"+F),M>j&&(!F||A&&!this.bitrateTestDelay||F<y))return I}}return-1},S=v,(E=[{key:"nextAutoLevel",get:function(){var f=this._nextAutoLevel,g=this.bwEstimator;if(!(f===-1||g&&g.canEstimate()))return f;var h=this.getNextABRAutoLevel();return f!==-1&&(h=Math.min(f,h)),h},set:function(f){this._nextAutoLevel=f}}])&&c(S.prototype,E),v}();t.default=d},"./src/controller/audio-stream-controller.ts":function(e,t,n){n.r(t);var r=n("./src/polyfills/number.ts"),a=n("./src/controller/base-stream-controller.ts"),i=n("./src/events.ts"),o=n("./src/utils/buffer-helper.ts"),l=n("./src/controller/fragment-tracker.ts"),u=n("./src/types/level.ts"),s=n("./src/types/loader.ts"),c=n("./src/loader/fragment.ts"),d=n("./src/demux/chunk-cache.ts"),v=n("./src/demux/transmuxer-interface.ts"),S=n("./src/types/transmuxer.ts"),E=n("./src/controller/fragment-finders.ts"),m=n("./src/utils/discontinuities.ts"),f=n("./src/errors.ts"),g=n("./src/utils/logger.ts");function h(){return(h=Object.assign||function(p){for(var C=1;C<arguments.length;C++){var w=arguments[C];for(var k in w)Object.prototype.hasOwnProperty.call(w,k)&&(p[k]=w[k])}return p}).apply(this,arguments)}function y(p,C){return(y=Object.setPrototypeOf||function(w,k){return w.__proto__=k,w})(p,C)}var b=function(p){var C,w;function k(T,O){var A;return(A=p.call(this,T,O,"[audio-stream-controller]")||this).videoBuffer=null,A.videoTrackCC=-1,A.waitingVideoCC=-1,A.audioSwitch=!1,A.trackId=-1,A.waitingData=null,A.mainDetails=null,A.bufferFlushed=!1,A._registerListeners(),A}w=p,(C=k).prototype=Object.create(w.prototype),C.prototype.constructor=C,y(C,w);var _=k.prototype;return _.onHandlerDestroying=function(){this._unregisterListeners(),this.mainDetails=null},_._registerListeners=function(){var T=this.hls;T.on(i.Events.MEDIA_ATTACHED,this.onMediaAttached,this),T.on(i.Events.MEDIA_DETACHING,this.onMediaDetaching,this),T.on(i.Events.MANIFEST_LOADING,this.onManifestLoading,this),T.on(i.Events.LEVEL_LOADED,this.onLevelLoaded,this),T.on(i.Events.AUDIO_TRACKS_UPDATED,this.onAudioTracksUpdated,this),T.on(i.Events.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),T.on(i.Events.AUDIO_TRACK_LOADED,this.onAudioTrackLoaded,this),T.on(i.Events.ERROR,this.onError,this),T.on(i.Events.BUFFER_RESET,this.onBufferReset,this),T.on(i.Events.BUFFER_CREATED,this.onBufferCreated,this),T.on(i.Events.BUFFER_FLUSHED,this.onBufferFlushed,this),T.on(i.Events.INIT_PTS_FOUND,this.onInitPtsFound,this),T.on(i.Events.FRAG_BUFFERED,this.onFragBuffered,this)},_._unregisterListeners=function(){var T=this.hls;T.off(i.Events.MEDIA_ATTACHED,this.onMediaAttached,this),T.off(i.Events.MEDIA_DETACHING,this.onMediaDetaching,this),T.off(i.Events.MANIFEST_LOADING,this.onManifestLoading,this),T.off(i.Events.LEVEL_LOADED,this.onLevelLoaded,this),T.off(i.Events.AUDIO_TRACKS_UPDATED,this.onAudioTracksUpdated,this),T.off(i.Events.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),T.off(i.Events.AUDIO_TRACK_LOADED,this.onAudioTrackLoaded,this),T.off(i.Events.ERROR,this.onError,this),T.off(i.Events.BUFFER_RESET,this.onBufferReset,this),T.off(i.Events.BUFFER_CREATED,this.onBufferCreated,this),T.off(i.Events.BUFFER_FLUSHED,this.onBufferFlushed,this),T.off(i.Events.INIT_PTS_FOUND,this.onInitPtsFound,this),T.off(i.Events.FRAG_BUFFERED,this.onFragBuffered,this)},_.onInitPtsFound=function(T,O){var A=O.frag,P=O.id,D=O.initPTS;if(P==="main"){var I=A.cc;this.initPTS[A.cc]=D,this.log("InitPTS for cc: "+I+" found from main: "+D),this.videoTrackCC=I,this.state===a.State.WAITING_INIT_PTS&&this.tick()}},_.startLoad=function(T){if(!this.levels)return this.startPosition=T,void(this.state=a.State.STOPPED);var O=this.lastCurrentTime;this.stopLoad(),this.setInterval(100),this.fragLoadError=0,O>0&&T===-1?(this.log("Override startPosition with lastCurrentTime @"+O.toFixed(3)),this.state=a.State.IDLE):(this.loadedmetadata=!1,this.state=a.State.WAITING_TRACK),this.nextLoadPosition=this.startPosition=this.lastCurrentTime=T,this.tick()},_.doTick=function(){switch(this.state){case a.State.IDLE:this.doTickIdle();break;case a.State.WAITING_TRACK:var T,O=this.levels,A=this.trackId,P=O==null||(T=O[A])===null||T===void 0?void 0:T.details;if(P){if(this.waitForCdnTuneIn(P))break;this.state=a.State.WAITING_INIT_PTS}break;case a.State.FRAG_LOADING_WAITING_RETRY:var D,I=performance.now(),x=this.retryDate;(!x||I>=x||(D=this.media)!==null&&D!==void 0&&D.seeking)&&(this.log("RetryDate reached, switch back to IDLE state"),this.state=a.State.IDLE);break;case a.State.WAITING_INIT_PTS:var L=this.waitingData;if(L){var $=L.frag,M=L.part,j=L.cache,F=L.complete;if(this.initPTS[$.cc]!==void 0){this.waitingData=null,this.waitingVideoCC=-1,this.state=a.State.FRAG_LOADING;var U={frag:$,part:M,payload:j.flush(),networkDetails:null};this._handleFragmentLoadProgress(U),F&&p.prototype._handleFragmentLoadComplete.call(this,U)}else if(this.videoTrackCC!==this.waitingVideoCC)g.logger.log("Waiting fragment cc ("+$.cc+") cancelled because video is at cc "+this.videoTrackCC),this.clearWaitingFragment();else{var B=this.getLoadPosition(),K=o.BufferHelper.bufferInfo(this.mediaBuffer,B,this.config.maxBufferHole);Object(E.fragmentWithinToleranceTest)(K.end,this.config.maxFragLookUpTolerance,$)<0&&(g.logger.log("Waiting fragment cc ("+$.cc+") @ "+$.start+" cancelled because another fragment at "+K.end+" is needed"),this.clearWaitingFragment())}}else this.state=a.State.IDLE}this.onTickEnd()},_.clearWaitingFragment=function(){var T=this.waitingData;T&&(this.fragmentTracker.removeFragment(T.frag),this.waitingData=null,this.waitingVideoCC=-1,this.state=a.State.IDLE)},_.onTickEnd=function(){var T=this.media;if(T&&T.readyState){var O=(this.mediaBuffer?this.mediaBuffer:T).buffered;!this.loadedmetadata&&O.length&&(this.loadedmetadata=!0),this.lastCurrentTime=T.currentTime}},_.doTickIdle=function(){var T,O,A=this.hls,P=this.levels,D=this.media,I=this.trackId,x=A.config;if(P&&P[I]&&(D||!this.startFragRequested&&x.startFragPrefetch)){var L=P[I].details;if(!L||L.live&&this.levelLastLoaded!==I||this.waitForCdnTuneIn(L))this.state=a.State.WAITING_TRACK;else{this.bufferFlushed&&(this.bufferFlushed=!1,this.afterBufferFlushed(this.mediaBuffer?this.mediaBuffer:this.media,c.ElementaryStreamTypes.AUDIO,s.PlaylistLevelType.AUDIO));var $=this.getFwdBufferInfo(this.mediaBuffer?this.mediaBuffer:this.media,s.PlaylistLevelType.AUDIO);if($!==null){var M=$.len,j=this.getMaxBufferLength(),F=this.audioSwitch;if(!(M>=j)||F){if(!F&&this._streamEnded($,L))return A.trigger(i.Events.BUFFER_EOS,{type:"audio"}),void(this.state=a.State.ENDED);var U=L.fragments[0].start,B=$.end;if(F){var K=this.getLoadPosition();B=K,L.PTSKnown&&K<U&&($.end>U||$.nextStart)&&(this.log("Alt audio track ahead of main track, seek to start of alt audio track"),D.currentTime=U+.05)}var V=this.getNextFragment(B,L);V?((T=V.decryptdata)===null||T===void 0?void 0:T.keyFormat)!=="identity"||(O=V.decryptdata)!==null&&O!==void 0&&O.key?this.loadFragment(V,L,B):this.loadKey(V,L):this.bufferFlushed=!0}}}}},_.getMaxBufferLength=function(){var T=p.prototype.getMaxBufferLength.call(this),O=this.getFwdBufferInfo(this.videoBuffer?this.videoBuffer:this.media,s.PlaylistLevelType.MAIN);return O===null?T:Math.max(T,O.len)},_.onMediaDetaching=function(){this.videoBuffer=null,p.prototype.onMediaDetaching.call(this)},_.onAudioTracksUpdated=function(T,O){var A=O.audioTracks;this.resetTransmuxer(),this.levels=A.map(function(P){return new u.Level(P)})},_.onAudioTrackSwitching=function(T,O){var A=!!O.url;this.trackId=O.id;var P=this.fragCurrent;P!=null&&P.loader&&P.loader.abort(),this.fragCurrent=null,this.clearWaitingFragment(),A?this.setInterval(100):this.resetTransmuxer(),A?(this.audioSwitch=!0,this.state=a.State.IDLE):this.state=a.State.STOPPED,this.tick()},_.onManifestLoading=function(){this.mainDetails=null,this.fragmentTracker.removeAllFragments(),this.startPosition=this.lastCurrentTime=0,this.bufferFlushed=!1},_.onLevelLoaded=function(T,O){this.mainDetails=O.details},_.onAudioTrackLoaded=function(T,O){var A,P=this.levels,D=O.details,I=O.id;if(P){this.log("Track "+I+" loaded ["+D.startSN+","+D.endSN+"],duration:"+D.totalduration);var x=P[I],L=0;if(D.live||(A=x.details)!==null&&A!==void 0&&A.live){var $=this.mainDetails;if(D.fragments[0]||(D.deltaUpdateFailed=!0),D.deltaUpdateFailed||!$)return;!x.details&&D.hasProgramDateTime&&$.hasProgramDateTime?(Object(m.alignPDT)(D,$),L=D.fragments[0].start):L=this.alignPlaylists(D,x.details)}x.details=D,this.levelLastLoaded=I,this.startFragRequested||!this.mainDetails&&D.live||this.setStartPosition(x.details,L),this.state!==a.State.WAITING_TRACK||this.waitForCdnTuneIn(D)||(this.state=a.State.IDLE),this.tick()}else this.warn("Audio tracks were reset while loading level "+I)},_._handleFragmentLoadProgress=function(T){var O,A=T.frag,P=T.part,D=T.payload,I=this.config,x=this.trackId,L=this.levels;if(L){var $=L[x];console.assert($,"Audio track is defined on fragment load progress");var M=$.details;console.assert(M,"Audio track details are defined on fragment load progress");var j=I.defaultAudioCodec||$.audioCodec||"mp4a.40.2",F=this.transmuxer;F||(F=this.transmuxer=new v.default(this.hls,s.PlaylistLevelType.AUDIO,this._handleTransmuxComplete.bind(this),this._handleTransmuxerFlush.bind(this)));var U=this.initPTS[A.cc],B=(O=A.initSegment)===null||O===void 0?void 0:O.data;if(U!==void 0){var K=P?P.index:-1,V=K!==-1,X=new S.ChunkMetadata(A.level,A.sn,A.stats.chunkCount,D.byteLength,K,V);F.push(D,B,j,"",A,P,M.totalduration,!1,X,U)}else g.logger.log("Unknown video PTS for cc "+A.cc+", waiting for video PTS before demuxing audio frag "+A.sn+" of ["+M.startSN+" ,"+M.endSN+"],track "+x),(this.waitingData=this.waitingData||{frag:A,part:P,cache:new d.default,complete:!1}).cache.push(new Uint8Array(D)),this.waitingVideoCC=this.videoTrackCC,this.state=a.State.WAITING_INIT_PTS}else this.warn("Audio tracks were reset while fragment load was in progress. Fragment "+A.sn+" of level "+A.level+" will not be buffered")},_._handleFragmentLoadComplete=function(T){this.waitingData?this.waitingData.complete=!0:p.prototype._handleFragmentLoadComplete.call(this,T)},_.onBufferReset=function(){this.mediaBuffer=this.videoBuffer=null,this.loadedmetadata=!1},_.onBufferCreated=function(T,O){var A=O.tracks.audio;A&&(this.mediaBuffer=A.buffer),O.tracks.video&&(this.videoBuffer=O.tracks.video.buffer)},_.onFragBuffered=function(T,O){var A=O.frag,P=O.part;A.type===s.PlaylistLevelType.AUDIO&&(this.fragContextChanged(A)?this.warn("Fragment "+A.sn+(P?" p: "+P.index:"")+" of level "+A.level+" finished buffering, but was aborted. state: "+this.state+", audioSwitch: "+this.audioSwitch):(A.sn!=="initSegment"&&(this.fragPrevious=A,this.audioSwitch&&(this.audioSwitch=!1,this.hls.trigger(i.Events.AUDIO_TRACK_SWITCHED,{id:this.trackId}))),this.fragBufferedComplete(A,P)))},_.onError=function(T,O){switch(O.details){case f.ErrorDetails.FRAG_LOAD_ERROR:case f.ErrorDetails.FRAG_LOAD_TIMEOUT:case f.ErrorDetails.KEY_LOAD_ERROR:case f.ErrorDetails.KEY_LOAD_TIMEOUT:this.onFragmentOrKeyLoadError(s.PlaylistLevelType.AUDIO,O);break;case f.ErrorDetails.AUDIO_TRACK_LOAD_ERROR:case f.ErrorDetails.AUDIO_TRACK_LOAD_TIMEOUT:this.state!==a.State.ERROR&&this.state!==a.State.STOPPED&&(this.state=O.fatal?a.State.ERROR:a.State.IDLE,this.warn(O.details+" while loading frag, switching to "+this.state+" state"));break;case f.ErrorDetails.BUFFER_FULL_ERROR:if(O.parent==="audio"&&(this.state===a.State.PARSING||this.state===a.State.PARSED)){var A=!0,P=this.getFwdBufferInfo(this.mediaBuffer,s.PlaylistLevelType.AUDIO);P&&P.len>.5&&(A=!this.reduceMaxBufferLength(P.len)),A&&(this.warn("Buffer full error also media.currentTime is not buffered, flush audio buffer"),this.fragCurrent=null,p.prototype.flushMainBuffer.call(this,0,Number.POSITIVE_INFINITY,"audio")),this.resetLoadingState()}}},_.onBufferFlushed=function(T,O){O.type===c.ElementaryStreamTypes.AUDIO&&(this.bufferFlushed=!0)},_._handleTransmuxComplete=function(T){var O,A="audio",P=this.hls,D=T.remuxResult,I=T.chunkMeta,x=this.getCurrentContext(I);if(!x)return this.warn("The loading context changed while buffering fragment "+I.sn+" of level "+I.level+". This chunk will not be buffered."),void this.resetLiveStartWhenNotLoaded(I.level);var L=x.frag,$=x.part,M=D.audio,j=D.text,F=D.id3,U=D.initSegment;if(!this.fragContextChanged(L)){if(this.state=a.State.PARSING,this.audioSwitch&&M&&this.completeAudioSwitch(),U!=null&&U.tracks&&(this._bufferInitSegment(U.tracks,L,I),P.trigger(i.Events.FRAG_PARSING_INIT_SEGMENT,{frag:L,id:A,tracks:U.tracks})),M){var B=M.startPTS,K=M.endPTS,V=M.startDTS,X=M.endDTS;$&&($.elementaryStreams[c.ElementaryStreamTypes.AUDIO]={startPTS:B,endPTS:K,startDTS:V,endDTS:X}),L.setElementaryStreamInfo(c.ElementaryStreamTypes.AUDIO,B,K,V,X),this.bufferFragmentData(M,L,$,I)}if(F!=null&&(O=F.samples)!==null&&O!==void 0&&O.length){var Z=h({frag:L,id:A},F);P.trigger(i.Events.FRAG_PARSING_METADATA,Z)}if(j){var ne=h({frag:L,id:A},j);P.trigger(i.Events.FRAG_PARSING_USERDATA,ne)}}},_._bufferInitSegment=function(T,O,A){if(this.state===a.State.PARSING){T.video&&delete T.video;var P=T.audio;if(P){P.levelCodec=P.codec,P.id="audio",this.log("Init audio buffer, container:"+P.container+", codecs[parsed]=["+P.codec+"]"),this.hls.trigger(i.Events.BUFFER_CODECS,T);var D=P.initSegment;if(D!=null&&D.byteLength){var I={type:"audio",frag:O,part:null,chunkMeta:A,parent:O.type,data:D};this.hls.trigger(i.Events.BUFFER_APPENDING,I)}this.tick()}}},_.loadFragment=function(T,O,A){var P=this.fragmentTracker.getState(T);this.fragCurrent=T,(this.audioSwitch||P===l.FragmentState.NOT_LOADED||P===l.FragmentState.PARTIAL)&&(T.sn==="initSegment"?this._loadInitSegment(T):O.live&&!Object(r.isFiniteNumber)(this.initPTS[T.cc])?(this.log("Waiting for video PTS in continuity counter "+T.cc+" of live stream before loading audio fragment "+T.sn+" of level "+this.trackId),this.state=a.State.WAITING_INIT_PTS):(this.startFragRequested=!0,p.prototype.loadFragment.call(this,T,O,A)))},_.completeAudioSwitch=function(){var T=this.hls,O=this.media,A=this.trackId;O&&(this.log("Switching audio track : flushing all audio"),p.prototype.flushMainBuffer.call(this,0,Number.POSITIVE_INFINITY,"audio")),this.audioSwitch=!1,T.trigger(i.Events.AUDIO_TRACK_SWITCHED,{id:A})},k}(a.default);t.default=b},"./src/controller/audio-track-controller.ts":function(e,t,n){n.r(t);var r=n("./src/events.ts"),a=n("./src/errors.ts"),i=n("./src/controller/base-playlist-controller.ts"),o=n("./src/types/loader.ts");function l(c,d){for(var v=0;v<d.length;v++){var S=d[v];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(c,S.key,S)}}function u(c,d){return(u=Object.setPrototypeOf||function(v,S){return v.__proto__=S,v})(c,d)}var s=function(c){var d,v;function S(g){var h;return(h=c.call(this,g,"[audio-track-controller]")||this).tracks=[],h.groupId=null,h.tracksInGroup=[],h.trackId=-1,h.trackName="",h.selectDefaultTrack=!0,h.registerListeners(),h}v=c,(d=S).prototype=Object.create(v.prototype),d.prototype.constructor=d,u(d,v);var E,m,f=S.prototype;return f.registerListeners=function(){var g=this.hls;g.on(r.Events.MANIFEST_LOADING,this.onManifestLoading,this),g.on(r.Events.MANIFEST_PARSED,this.onManifestParsed,this),g.on(r.Events.LEVEL_LOADING,this.onLevelLoading,this),g.on(r.Events.LEVEL_SWITCHING,this.onLevelSwitching,this),g.on(r.Events.AUDIO_TRACK_LOADED,this.onAudioTrackLoaded,this),g.on(r.Events.ERROR,this.onError,this)},f.unregisterListeners=function(){var g=this.hls;g.off(r.Events.MANIFEST_LOADING,this.onManifestLoading,this),g.off(r.Events.MANIFEST_PARSED,this.onManifestParsed,this),g.off(r.Events.LEVEL_LOADING,this.onLevelLoading,this),g.off(r.Events.LEVEL_SWITCHING,this.onLevelSwitching,this),g.off(r.Events.AUDIO_TRACK_LOADED,this.onAudioTrackLoaded,this),g.off(r.Events.ERROR,this.onError,this)},f.destroy=function(){this.unregisterListeners(),this.tracks.length=0,this.tracksInGroup.length=0,c.prototype.destroy.call(this)},f.onManifestLoading=function(){this.tracks=[],this.groupId=null,this.tracksInGroup=[],this.trackId=-1,this.trackName="",this.selectDefaultTrack=!0},f.onManifestParsed=function(g,h){this.tracks=h.audioTracks||[]},f.onAudioTrackLoaded=function(g,h){var y=h.id,b=h.details,p=this.tracksInGroup[y];if(p){var C=p.details;p.details=h.details,this.log("audioTrack "+y+" loaded ["+b.startSN+"-"+b.endSN+"]"),y===this.trackId&&(this.retryCount=0,this.playlistLoaded(y,h,C))}else this.warn("Invalid audio track id "+y)},f.onLevelLoading=function(g,h){this.switchLevel(h.level)},f.onLevelSwitching=function(g,h){this.switchLevel(h.level)},f.switchLevel=function(g){var h=this.hls.levels[g];if(h!=null&&h.audioGroupIds){var y=h.audioGroupIds[h.urlId];if(this.groupId!==y){this.groupId=y;var b=this.tracks.filter(function(C){return!y||C.groupId===y});this.selectDefaultTrack&&!b.some(function(C){return C.default})&&(this.selectDefaultTrack=!1),this.tracksInGroup=b;var p={audioTracks:b};this.log("Updating audio tracks, "+b.length+' track(s) found in "'+y+'" group-id'),this.hls.trigger(r.Events.AUDIO_TRACKS_UPDATED,p),this.selectInitialTrack()}}},f.onError=function(g,h){c.prototype.onError.call(this,g,h),!h.fatal&&h.context&&h.context.type===o.PlaylistContextType.AUDIO_TRACK&&h.context.id===this.trackId&&h.context.groupId===this.groupId&&this.retryLoadingOrFail(h)},f.setAudioTrack=function(g){var h=this.tracksInGroup;if(g<0||g>=h.length)this.warn("Invalid id passed to audio-track controller");else{this.clearTimer();var y=h[this.trackId];this.log("Now switching to audio-track index "+g);var b=h[g],p=b.id,C=b.groupId,w=C===void 0?"":C,k=b.name,_=b.type,T=b.url;if(this.trackId=g,this.trackName=k,this.selectDefaultTrack=!1,this.hls.trigger(r.Events.AUDIO_TRACK_SWITCHING,{id:p,groupId:w,name:k,type:_,url:T}),!b.details||b.details.live){var O=this.switchParams(b.url,y==null?void 0:y.details);this.loadPlaylist(O)}}},f.selectInitialTrack=function(){var g=this.tracksInGroup;console.assert(g.length,"Initial audio track should be selected when tracks are known");var h=this.trackName,y=this.findTrackId(h)||this.findTrackId();y!==-1?this.setAudioTrack(y):(this.warn("No track found for running audio group-ID: "+this.groupId),this.hls.trigger(r.Events.ERROR,{type:a.ErrorTypes.MEDIA_ERROR,details:a.ErrorDetails.AUDIO_TRACK_LOAD_ERROR,fatal:!0}))},f.findTrackId=function(g){for(var h=this.tracksInGroup,y=0;y<h.length;y++){var b=h[y];if((!this.selectDefaultTrack||b.default)&&(!g||g===b.name))return b.id}return-1},f.loadPlaylist=function(g){var h=this.tracksInGroup[this.trackId];if(this.shouldLoadTrack(h)){var y=h.id,b=h.groupId,p=h.url;if(g)try{p=g.addDirectives(p)}catch(C){this.warn("Could not construct new URL with HLS Delivery Directives: "+C)}this.log("loading audio-track playlist for id: "+y),this.clearTimer(),this.hls.trigger(r.Events.AUDIO_TRACK_LOADING,{url:p,id:y,groupId:b,deliveryDirectives:g||null})}},E=S,(m=[{key:"audioTracks",get:function(){return this.tracksInGroup}},{key:"audioTrack",get:function(){return this.trackId},set:function(g){this.selectDefaultTrack=!1,this.setAudioTrack(g)}}])&&l(E.prototype,m),S}(i.default);t.default=s},"./src/controller/base-playlist-controller.ts":function(e,t,n){n.r(t),n.d(t,"default",function(){return u});var r=n("./src/polyfills/number.ts"),a=n("./src/types/level.ts"),i=n("./src/controller/level-helper.ts"),o=n("./src/utils/logger.ts"),l=n("./src/errors.ts"),u=function(){function s(d,v){this.hls=void 0,this.timer=-1,this.canLoad=!1,this.retryCount=0,this.log=void 0,this.warn=void 0,this.log=o.logger.log.bind(o.logger,v+":"),this.warn=o.logger.warn.bind(o.logger,v+":"),this.hls=d}var c=s.prototype;return c.destroy=function(){this.clearTimer(),this.hls=this.log=this.warn=null},c.onError=function(d,v){v.fatal&&v.type===l.ErrorTypes.NETWORK_ERROR&&this.clearTimer()},c.clearTimer=function(){clearTimeout(this.timer),this.timer=-1},c.startLoad=function(){this.canLoad=!0,this.retryCount=0,this.loadPlaylist()},c.stopLoad=function(){this.canLoad=!1,this.clearTimer()},c.switchParams=function(d,v){var S=v==null?void 0:v.renditionReports;if(S)for(var E=0;E<S.length;E++){var m=S[E],f=""+m.URI;if(f===d.substr(-f.length)){var g=parseInt(m["LAST-MSN"]),h=parseInt(m["LAST-PART"]);if(v&&this.hls.config.lowLatencyMode){var y=Math.min(v.age-v.partTarget,v.targetduration);h!==void 0&&y>v.partTarget&&(h+=1)}if(Object(r.isFiniteNumber)(g))return new a.HlsUrlParameters(g,Object(r.isFiniteNumber)(h)?h:void 0,a.HlsSkip.No)}}},c.loadPlaylist=function(d){},c.shouldLoadTrack=function(d){return this.canLoad&&d&&!!d.url&&(!d.details||d.details.live)},c.playlistLoaded=function(d,v,S){var E=this,m=v.details,f=v.stats,g=f.loading.end?Math.max(0,self.performance.now()-f.loading.end):0;if(m.advancedDateTime=Date.now()-g,m.live||S!=null&&S.live){if(m.reloaded(S),S&&this.log("live playlist "+d+" "+(m.advanced?"REFRESHED "+m.lastPartSn+"-"+m.lastPartIndex:"MISSED")),S&&m.fragments.length>0&&Object(i.mergeDetails)(S,m),!this.canLoad||!m.live)return;var h,y=void 0,b=void 0;if(m.canBlockReload&&m.endSN&&m.advanced){var p=this.hls.config.lowLatencyMode,C=m.lastPartSn,w=m.endSN,k=m.lastPartIndex,_=C===w;k!==-1?(y=_?w+1:C,b=_?p?0:k:k+1):y=w+1;var T=m.age,O=T+m.ageHeader,A=Math.min(O-m.partTarget,1.5*m.targetduration);if(A>0){if(S&&A>S.tuneInGoal)this.warn("CDN Tune-in goal increased from: "+S.tuneInGoal+" to: "+A+" with playlist age: "+m.age),A=0;else{var P=Math.floor(A/m.targetduration);y+=P,b!==void 0&&(b+=Math.round(A%m.targetduration/m.partTarget)),this.log("CDN Tune-in age: "+m.ageHeader+"s last advanced "+T.toFixed(2)+"s goal: "+A+" skip sn "+P+" to part "+b)}m.tuneInGoal=A}if(h=this.getDeliveryDirectives(m,v.deliveryDirectives,y,b),p||!_)return void this.loadPlaylist(h)}else h=this.getDeliveryDirectives(m,v.deliveryDirectives,y,b);var D=Object(i.computeReloadInterval)(m,f);y!==void 0&&m.canBlockReload&&(D-=m.partTarget||1),this.log("reload live playlist "+d+" in "+Math.round(D)+" ms"),this.timer=self.setTimeout(function(){return E.loadPlaylist(h)},D)}else this.clearTimer()},c.getDeliveryDirectives=function(d,v,S,E){var m=Object(a.getSkipValue)(d,S);return v!=null&&v.skip&&d.deltaUpdateFailed&&(S=v.msn,E=v.part,m=a.HlsSkip.No),new a.HlsUrlParameters(S,E,m)},c.retryLoadingOrFail=function(d){var v,S=this,E=this.hls.config,m=this.retryCount<E.levelLoadingMaxRetry;if(m)if(this.retryCount++,d.details.indexOf("LoadTimeOut")>-1&&(v=d.context)!==null&&v!==void 0&&v.deliveryDirectives)this.warn("retry playlist loading #"+this.retryCount+' after "'+d.details+'"'),this.loadPlaylist();else{var f=Math.min(Math.pow(2,this.retryCount)*E.levelLoadingRetryDelay,E.levelLoadingMaxRetryTimeout);this.timer=self.setTimeout(function(){return S.loadPlaylist()},f),this.warn("retry playlist loading #"+this.retryCount+" in "+f+' ms after "'+d.details+'"')}else this.warn('cannot recover from error "'+d.details+'"'),this.clearTimer(),d.fatal=!0;return m},s}()},"./src/controller/base-stream-controller.ts":function(e,t,n){n.r(t),n.d(t,"State",function(){return p}),n.d(t,"default",function(){return C});var r=n("./src/polyfills/number.ts"),a=n("./src/task-loop.ts"),i=n("./src/controller/fragment-tracker.ts"),o=n("./src/utils/buffer-helper.ts"),l=n("./src/utils/logger.ts"),u=n("./src/events.ts"),s=n("./src/errors.ts"),c=n("./src/types/transmuxer.ts"),d=n("./src/utils/mp4-tools.ts"),v=n("./src/utils/discontinuities.ts"),S=n("./src/controller/fragment-finders.ts"),E=n("./src/controller/level-helper.ts"),m=n("./src/loader/fragment-loader.ts"),f=n("./src/crypt/decrypter.ts"),g=n("./src/utils/time-ranges.ts"),h=n("./src/types/loader.ts");function y(w,k){for(var _=0;_<k.length;_++){var T=k[_];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(w,T.key,T)}}function b(w,k){return(b=Object.setPrototypeOf||function(_,T){return _.__proto__=T,_})(w,k)}var p={STOPPED:"STOPPED",IDLE:"IDLE",KEY_LOADING:"KEY_LOADING",FRAG_LOADING:"FRAG_LOADING",FRAG_LOADING_WAITING_RETRY:"FRAG_LOADING_WAITING_RETRY",WAITING_TRACK:"WAITING_TRACK",PARSING:"PARSING",PARSED:"PARSED",BACKTRACKING:"BACKTRACKING",ENDED:"ENDED",ERROR:"ERROR",WAITING_INIT_PTS:"WAITING_INIT_PTS",WAITING_LEVEL:"WAITING_LEVEL"},C=function(w){var k,_;function T(D,I,x){var L;return(L=w.call(this)||this).hls=void 0,L.fragPrevious=null,L.fragCurrent=null,L.fragmentTracker=void 0,L.transmuxer=null,L._state=p.STOPPED,L.media=void 0,L.mediaBuffer=void 0,L.config=void 0,L.bitrateTest=!1,L.lastCurrentTime=0,L.nextLoadPosition=0,L.startPosition=0,L.loadedmetadata=!1,L.fragLoadError=0,L.retryDate=0,L.levels=null,L.fragmentLoader=void 0,L.levelLastLoaded=null,L.startFragRequested=!1,L.decrypter=void 0,L.initPTS=[],L.onvseeking=null,L.onvended=null,L.logPrefix="",L.log=void 0,L.warn=void 0,L.logPrefix=x,L.log=l.logger.log.bind(l.logger,x+":"),L.warn=l.logger.warn.bind(l.logger,x+":"),L.hls=D,L.fragmentLoader=new m.default(D.config),L.fragmentTracker=I,L.config=D.config,L.decrypter=new f.default(D,D.config),D.on(u.Events.KEY_LOADED,L.onKeyLoaded,function($){if($===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return $}(L)),L}_=w,(k=T).prototype=Object.create(_.prototype),k.prototype.constructor=k,b(k,_);var O,A,P=T.prototype;return P.doTick=function(){this.onTickEnd()},P.onTickEnd=function(){},P.startLoad=function(D){},P.stopLoad=function(){this.fragmentLoader.abort();var D=this.fragCurrent;D&&this.fragmentTracker.removeFragment(D),this.resetTransmuxer(),this.fragCurrent=null,this.fragPrevious=null,this.clearInterval(),this.clearNextTick(),this.state=p.STOPPED},P._streamEnded=function(D,I){var x=this.fragCurrent,L=this.fragmentTracker;if(!I.live&&x&&x.sn===I.endSN&&!D.nextStart){var $=L.getState(x);return $===i.FragmentState.PARTIAL||$===i.FragmentState.OK}return!1},P.onMediaAttached=function(D,I){var x=this.media=this.mediaBuffer=I.media;this.onvseeking=this.onMediaSeeking.bind(this),this.onvended=this.onMediaEnded.bind(this),x.addEventListener("seeking",this.onvseeking),x.addEventListener("ended",this.onvended);var L=this.config;this.levels&&L.autoStartLoad&&this.state===p.STOPPED&&this.startLoad(L.startPosition)},P.onMediaDetaching=function(){var D=this.media;D!=null&&D.ended&&(this.log("MSE detaching and video ended, reset startPosition"),this.startPosition=this.lastCurrentTime=0),D&&(D.removeEventListener("seeking",this.onvseeking),D.removeEventListener("ended",this.onvended),this.onvseeking=this.onvended=null),this.media=this.mediaBuffer=null,this.loadedmetadata=!1,this.fragmentTracker.removeAllFragments(),this.stopLoad()},P.onMediaSeeking=function(){var D=this.config,I=this.fragCurrent,x=this.media,L=this.mediaBuffer,$=this.state,M=x?x.currentTime:0,j=o.BufferHelper.bufferInfo(L||x,M,D.maxBufferHole);if(this.log("media seeking to "+(Object(r.isFiniteNumber)(M)?M.toFixed(3):M)+", state: "+$),$===p.ENDED)this.resetLoadingState();else if(I&&!j.len){var F=D.maxFragLookUpTolerance,U=I.start-F,B=M>I.start+I.duration+F;(M<U||B)&&(B&&I.loader&&(this.log("seeking outside of buffer while fragment load in progress, cancel fragment load"),I.loader.abort()),this.resetLoadingState())}x&&(this.lastCurrentTime=M),this.loadedmetadata||j.len||(this.nextLoadPosition=this.startPosition=M),this.tickImmediate()},P.onMediaEnded=function(){this.startPosition=this.lastCurrentTime=0},P.onKeyLoaded=function(D,I){if(this.state===p.KEY_LOADING&&I.frag===this.fragCurrent&&this.levels){this.state=p.IDLE;var x=this.levels[I.frag.level].details;x&&this.loadFragment(I.frag,x,I.frag.start)}},P.onHandlerDestroying=function(){this.stopLoad(),w.prototype.onHandlerDestroying.call(this)},P.onHandlerDestroyed=function(){this.state=p.STOPPED,this.hls.off(u.Events.KEY_LOADED,this.onKeyLoaded,this),this.fragmentLoader&&this.fragmentLoader.destroy(),this.decrypter&&this.decrypter.destroy(),this.hls=this.log=this.warn=this.decrypter=this.fragmentLoader=this.fragmentTracker=null,w.prototype.onHandlerDestroyed.call(this)},P.loadKey=function(D,I){this.log("Loading key for "+D.sn+" of ["+I.startSN+"-"+I.endSN+"], "+(this.logPrefix==="[stream-controller]"?"level":"track")+" "+D.level),this.state=p.KEY_LOADING,this.fragCurrent=D,this.hls.trigger(u.Events.KEY_LOADING,{frag:D})},P.loadFragment=function(D,I,x){this._loadFragForPlayback(D,I,x)},P._loadFragForPlayback=function(D,I,x){var L=this;this._doFragLoad(D,I,x,function($){if(L.fragContextChanged(D))return L.warn("Fragment "+D.sn+($.part?" p: "+$.part.index:"")+" of level "+D.level+" was dropped during download."),void L.fragmentTracker.removeFragment(D);D.stats.chunkCount++,L._handleFragmentLoadProgress($)}).then(function($){if($){L.fragLoadError=0;var M=L.state;if(!L.fragContextChanged(D))return"payload"in $&&(L.log("Loaded fragment "+D.sn+" of level "+D.level),L.hls.trigger(u.Events.FRAG_LOADED,$),L.state===p.BACKTRACKING)?(L.fragmentTracker.backtrack(D,$),void L.resetFragmentLoading(D)):void L._handleFragmentLoadComplete($);(M===p.FRAG_LOADING||M===p.BACKTRACKING||!L.fragCurrent&&M===p.PARSING)&&(L.fragmentTracker.removeFragment(D),L.state=p.IDLE)}}).catch(function($){L.warn($),L.resetFragmentLoading(D)})},P.flushMainBuffer=function(D,I,x){if(x===void 0&&(x=null),D-I){var L={startOffset:D,endOffset:I,type:x};this.fragLoadError=0,this.hls.trigger(u.Events.BUFFER_FLUSHING,L)}},P._loadInitSegment=function(D){var I=this;this._doFragLoad(D).then(function(x){if(!x||I.fragContextChanged(D)||!I.levels)throw new Error("init load aborted");return x}).then(function(x){var L=I.hls,$=x.payload,M=D.decryptdata;if($&&$.byteLength>0&&M&&M.key&&M.iv&&M.method==="AES-128"){var j=self.performance.now();return I.decrypter.webCryptoDecrypt(new Uint8Array($),M.key.buffer,M.iv.buffer).then(function(F){var U=self.performance.now();return L.trigger(u.Events.FRAG_DECRYPTED,{frag:D,payload:F,stats:{tstart:j,tdecrypt:U}}),x.payload=F,x})}return x}).then(function(x){var L=I.fragCurrent,$=I.hls,M=I.levels;if(!M)throw new Error("init load aborted, missing levels");var j=M[D.level].details;console.assert(j,"Level details are defined when init segment is loaded");var F=D.stats;I.state=p.IDLE,I.fragLoadError=0,D.data=new Uint8Array(x.payload),F.parsing.start=F.buffering.start=self.performance.now(),F.parsing.end=F.buffering.end=self.performance.now(),x.frag===L&&$.trigger(u.Events.FRAG_BUFFERED,{stats:F,frag:L,part:null,id:D.type}),I.tick()}).catch(function(x){I.warn(x),I.resetFragmentLoading(D)})},P.fragContextChanged=function(D){var I=this.fragCurrent;return!D||!I||D.level!==I.level||D.sn!==I.sn||D.urlId!==I.urlId},P.fragBufferedComplete=function(D,I){var x=this.mediaBuffer?this.mediaBuffer:this.media;this.log("Buffered "+D.type+" sn: "+D.sn+(I?" part: "+I.index:"")+" of "+(this.logPrefix==="[stream-controller]"?"level":"track")+" "+D.level+" "+g.default.toString(o.BufferHelper.getBuffered(x))),this.state=p.IDLE,this.tick()},P._handleFragmentLoadComplete=function(D){var I=this.transmuxer;if(I){var x=D.frag,L=D.part,$=D.partsLoaded,M=!$||$.length===0||$.some(function(F){return!F}),j=new c.ChunkMetadata(x.level,x.sn,x.stats.chunkCount+1,0,L?L.index:-1,!M);I.flush(j)}},P._handleFragmentLoadProgress=function(D){},P._doFragLoad=function(D,I,x,L){var $=this;if(x===void 0&&(x=null),!this.levels)throw new Error("frag load aborted, missing levels");if(x=Math.max(D.start,x||0),this.config.lowLatencyMode&&I){var M=I.partList;if(M&&L){x>D.end&&I.fragmentHint&&(D=I.fragmentHint);var j=this.getNextPart(M,D,x);if(j>-1){var F=M[j];return this.log("Loading part sn: "+D.sn+" p: "+F.index+" cc: "+D.cc+" of playlist ["+I.startSN+"-"+I.endSN+"] parts [0-"+j+"-"+(M.length-1)+"] "+(this.logPrefix==="[stream-controller]"?"level":"track")+": "+D.level+", target: "+parseFloat(x.toFixed(3))),this.nextLoadPosition=F.start+F.duration,this.state=p.FRAG_LOADING,this.hls.trigger(u.Events.FRAG_LOADING,{frag:D,part:M[j],targetBufferTime:x}),this.doFragPartsLoad(D,M,j,L).catch(function(U){return $.handleFragLoadError(U)})}if(!D.url||this.loadedEndOfParts(M,x))return Promise.resolve(null)}}return this.log("Loading fragment "+D.sn+" cc: "+D.cc+" "+(I?"of ["+I.startSN+"-"+I.endSN+"] ":"")+(this.logPrefix==="[stream-controller]"?"level":"track")+": "+D.level+", target: "+parseFloat(x.toFixed(3))),Object(r.isFiniteNumber)(D.sn)&&!this.bitrateTest&&(this.nextLoadPosition=D.start+D.duration),this.state=p.FRAG_LOADING,this.hls.trigger(u.Events.FRAG_LOADING,{frag:D,targetBufferTime:x}),this.fragmentLoader.load(D,L).catch(function(U){return $.handleFragLoadError(U)})},P.doFragPartsLoad=function(D,I,x,L){var $=this;return new Promise(function(M,j){var F=[];(function U(B){var K=I[B];$.fragmentLoader.loadPart(D,K,L).then(function(V){F[K.index]=V;var X=V.part;$.hls.trigger(u.Events.FRAG_LOADED,V);var Z=I[B+1];if(!Z||Z.fragment!==D)return M({frag:D,part:X,partsLoaded:F});U(B+1)}).catch(j)})(x)})},P.handleFragLoadError=function(D){var I=D.data;return I&&I.details===s.ErrorDetails.INTERNAL_ABORTED?this.handleFragLoadAborted(I.frag,I.part):this.hls.trigger(u.Events.ERROR,I),null},P._handleTransmuxerFlush=function(D){var I=this.getCurrentContext(D);if(I&&this.state===p.PARSING){var x=I.frag,L=I.part,$=I.level,M=self.performance.now();x.stats.parsing.end=M,L&&(L.stats.parsing.end=M),this.updateLevelTiming(x,L,$,D.partial)}else this.fragCurrent||(this.state=p.IDLE)},P.getCurrentContext=function(D){var I=this.levels,x=D.level,L=D.sn,$=D.part;if(!I||!I[x])return this.warn("Levels object was unset while buffering fragment "+L+" of level "+x+". The current chunk will not be buffered."),null;var M=I[x],j=$>-1?Object(E.getPartWith)(M,L,$):null,F=j?j.fragment:Object(E.getFragmentWithSN)(M,L,this.fragCurrent);return F?{frag:F,part:j,level:M}:null},P.bufferFragmentData=function(D,I,x,L){if(D&&this.state===p.PARSING){var $=D.data1,M=D.data2,j=$;if($&&M&&(j=Object(d.appendUint8Array)($,M)),j&&j.length){var F={type:D.type,frag:I,part:x,chunkMeta:L,parent:I.type,data:j};this.hls.trigger(u.Events.BUFFER_APPENDING,F),D.dropped&&D.independent&&!x&&this.flushBufferGap(I)}}},P.flushBufferGap=function(D){var I=this.media;if(I)if(o.BufferHelper.isBuffered(I,I.currentTime)){var x=I.currentTime,L=o.BufferHelper.bufferInfo(I,x,0),$=D.duration,M=Math.min(2*this.config.maxFragLookUpTolerance,.25*$),j=Math.max(Math.min(D.start-M,L.end-M),x+M);D.start-j>M&&this.flushMainBuffer(j,D.start)}else this.flushMainBuffer(0,D.start)},P.getFwdBufferInfo=function(D,I){var x=this.config,L=this.getLoadPosition();if(!Object(r.isFiniteNumber)(L))return null;var $=o.BufferHelper.bufferInfo(D,L,x.maxBufferHole);if($.len===0&&$.nextStart!==void 0){var M=this.fragmentTracker.getBufferedFrag(L,I);if(M&&$.nextStart<M.end)return o.BufferHelper.bufferInfo(D,L,Math.max($.nextStart,x.maxBufferHole))}return $},P.getMaxBufferLength=function(D){var I,x=this.config;return I=D?Math.max(8*x.maxBufferSize/D,x.maxBufferLength):x.maxBufferLength,Math.min(I,x.maxMaxBufferLength)},P.reduceMaxBufferLength=function(D){var I=this.config,x=D||I.maxBufferLength;return I.maxMaxBufferLength>=x&&(I.maxMaxBufferLength/=2,this.warn("Reduce max buffer length to "+I.maxMaxBufferLength+"s"),!0)},P.getNextFragment=function(D,I){var x,L,$=I.fragments,M=$.length;if(!M)return null;var j,F=this.config,U=$[0].start;if(I.live){var B=F.initialLiveManifestSize;if(M<B)return this.warn("Not enough fragments to start playback (have: "+M+", need: "+B+")"),null;I.PTSKnown||this.startFragRequested||this.startPosition!==-1||(j=this.getInitialLiveFragment(I,$),this.startPosition=j?this.hls.liveSyncPosition||j.start:D)}else D<=U&&(j=$[0]);if(!j){var K=F.lowLatencyMode?I.partEnd:I.fragmentEnd;j=this.getFragmentAtPosition(D,K,I)}return(x=j)===null||x===void 0||!x.initSegment||(L=j)!==null&&L!==void 0&&L.initSegment.data||this.bitrateTest||(j=j.initSegment),j},P.getNextPart=function(D,I,x){for(var L=-1,$=!1,M=!0,j=0,F=D.length;j<F;j++){var U=D[j];if(M=M&&!U.independent,L>-1&&x<U.start)break;var B=U.loaded;!B&&($||U.independent||M)&&U.fragment===I&&(L=j),$=B}return L},P.loadedEndOfParts=function(D,I){var x=D[D.length-1];return x&&I>x.start&&x.loaded},P.getInitialLiveFragment=function(D,I){var x=this.fragPrevious,L=null;if(x){if(D.hasProgramDateTime&&(this.log("Live playlist, switching playlist, load frag with same PDT: "+x.programDateTime),L=Object(S.findFragmentByPDT)(I,x.endProgramDateTime,this.config.maxFragLookUpTolerance)),!L){var $=x.sn+1;if($>=D.startSN&&$<=D.endSN){var M=I[$-D.startSN];x.cc===M.cc&&(L=M,this.log("Live playlist, switching playlist, load frag with next SN: "+L.sn))}L||(L=Object(S.findFragWithCC)(I,x.cc))&&this.log("Live playlist, switching playlist, load frag with same CC: "+L.sn)}}else{var j=this.hls.liveSyncPosition;j!==null&&(L=this.getFragmentAtPosition(j,this.bitrateTest?D.fragmentEnd:D.edge,D))}return L},P.getFragmentAtPosition=function(D,I,x){var L,$=this.config,M=this.fragPrevious,j=x.fragments,F=x.endSN,U=x.fragmentHint,B=$.maxFragLookUpTolerance,K=!!($.lowLatencyMode&&x.partList&&U);if(K&&U&&!this.bitrateTest&&(j=j.concat(U),F=U.sn),D<I){var V=D>I-B?0:B;L=Object(S.findFragmentByPTS)(M,j,D,V)}else L=j[j.length-1];if(L){var X=L.sn-x.startSN,Z=M&&L.level===M.level,ne=j[X+1];if(this.fragmentTracker.getState(L)===i.FragmentState.BACKTRACKED){L=null;for(var ae=X;j[ae]&&this.fragmentTracker.getState(j[ae])===i.FragmentState.BACKTRACKED;)L=M?j[ae--]:j[--ae];L||(L=ne)}else M&&L.sn===M.sn&&!K&&Z&&(L.sn<F&&this.fragmentTracker.getState(ne)!==i.FragmentState.OK?(this.log("SN "+L.sn+" just loaded, load next one: "+ne.sn),L=ne):L=null)}return L},P.synchronizeToLiveEdge=function(D){var I=this.config,x=this.media;if(x){var L=this.hls.liveSyncPosition,$=x.currentTime,M=D.fragments[0].start,j=D.edge,F=$>=M-I.maxFragLookUpTolerance&&$<=j;if(L!==null&&x.duration>L&&($<L||!F)){var U=I.liveMaxLatencyDuration!==void 0?I.liveMaxLatencyDuration:I.liveMaxLatencyDurationCount*D.targetduration;(!F&&x.readyState<4||$<j-U)&&(this.loadedmetadata||(this.nextLoadPosition=L),x.readyState&&(this.warn("Playback: "+$.toFixed(3)+" is located too far from the end of live sliding playlist: "+j+", reset currentTime to : "+L.toFixed(3)),x.currentTime=L))}}},P.alignPlaylists=function(D,I){var x=this.levels,L=this.levelLastLoaded,$=this.fragPrevious,M=L!==null?x[L]:null,j=D.fragments.length;if(!j)return this.warn("No fragments in live playlist"),0;var F=D.fragments[0].start,U=!I,B=D.alignedSliding&&Object(r.isFiniteNumber)(F);if(U||!B&&!F){Object(v.alignStream)($,M,D);var K=D.fragments[0].start;return this.log("Live playlist sliding: "+K.toFixed(2)+" start-sn: "+(I?I.startSN:"na")+"->"+D.startSN+" prev-sn: "+($?$.sn:"na")+" fragments: "+j),K}return F},P.waitForCdnTuneIn=function(D){return D.live&&D.canBlockReload&&D.tuneInGoal>Math.max(D.partHoldBack,3*D.partTarget)},P.setStartPosition=function(D,I){var x=this.startPosition;if(x<I&&(x=-1),x===-1||this.lastCurrentTime===-1){var L=D.startTimeOffset;Object(r.isFiniteNumber)(L)?(x=I+L,L<0&&(x+=D.totalduration),x=Math.min(Math.max(I,x),I+D.totalduration),this.log("Start time offset "+L+" found in playlist, adjust startPosition to "+x),this.startPosition=x):D.live?x=this.hls.liveSyncPosition||I:this.startPosition=x=0,this.lastCurrentTime=x}this.nextLoadPosition=x},P.getLoadPosition=function(){var D=this.media,I=0;return this.loadedmetadata&&D?I=D.currentTime:this.nextLoadPosition&&(I=this.nextLoadPosition),I},P.handleFragLoadAborted=function(D,I){this.transmuxer&&D.sn!=="initSegment"&&D.stats.aborted&&(this.warn("Fragment "+D.sn+(I?" part"+I.index:"")+" of level "+D.level+" was aborted"),this.resetFragmentLoading(D))},P.resetFragmentLoading=function(D){this.fragCurrent&&this.fragContextChanged(D)||(this.state=p.IDLE)},P.onFragmentOrKeyLoadError=function(D,I){if(!I.fatal){var x=I.frag;if(x&&x.type===D){var L=this.fragCurrent;console.assert(L&&x.sn===L.sn&&x.level===L.level&&x.urlId===L.urlId,"Frag load error must match current frag to retry");var $=this.config;if(this.fragLoadError+1<=$.fragLoadingMaxRetry){if(this.resetLiveStartWhenNotLoaded(x.level))return;var M=Math.min(Math.pow(2,this.fragLoadError)*$.fragLoadingRetryDelay,$.fragLoadingMaxRetryTimeout);this.warn("Fragment "+x.sn+" of "+D+" "+x.level+" failed to load, retrying in "+M+"ms"),this.retryDate=self.performance.now()+M,this.fragLoadError++,this.state=p.FRAG_LOADING_WAITING_RETRY}else I.levelRetry?(D===h.PlaylistLevelType.AUDIO&&(this.fragCurrent=null),this.fragLoadError=0,this.state=p.IDLE):(l.logger.error(I.details+" reaches max retry, redispatch as fatal ..."),I.fatal=!0,this.hls.stopLoad(),this.state=p.ERROR)}}},P.afterBufferFlushed=function(D,I,x){if(D){var L=o.BufferHelper.getBuffered(D);this.fragmentTracker.detectEvictedFragments(I,L,x),this.state===p.ENDED&&this.resetLoadingState()}},P.resetLoadingState=function(){this.fragCurrent=null,this.fragPrevious=null,this.state=p.IDLE},P.resetLiveStartWhenNotLoaded=function(D){if(!this.loadedmetadata){this.startFragRequested=!1;var I=this.levels?this.levels[D].details:null;if(I!=null&&I.live)return this.startPosition=-1,this.setStartPosition(I,0),this.resetLoadingState(),!0;this.nextLoadPosition=this.startPosition}return!1},P.updateLevelTiming=function(D,I,x,L){var $=this,M=x.details;console.assert(!!M,"level.details must be defined"),Object.keys(D.elementaryStreams).reduce(function(j,F){var U=D.elementaryStreams[F];if(U){var B=U.endPTS-U.startPTS;if(B<=0)return $.warn("Could not parse fragment "+D.sn+" "+F+" duration reliably ("+B+") resetting transmuxer to fallback to playlist timing"),$.resetTransmuxer(),j||!1;var K=L?0:Object(E.updateFragPTSDTS)(M,D,U.startPTS,U.endPTS,U.startDTS,U.endDTS);return $.hls.trigger(u.Events.LEVEL_PTS_UPDATED,{details:M,level:x,drift:K,type:F,frag:D,start:U.startPTS,end:U.endPTS}),!0}return j},!1)?(this.state=p.PARSED,this.hls.trigger(u.Events.FRAG_PARSED,{frag:D,part:I})):this.resetLoadingState()},P.resetTransmuxer=function(){this.transmuxer&&(this.transmuxer.destroy(),this.transmuxer=null)},O=T,(A=[{key:"state",get:function(){return this._state},set:function(D){var I=this._state;I!==D&&(this._state=D,this.log(I+"->"+D))}}])&&y(O.prototype,A),T}(a.default)},"./src/controller/buffer-controller.ts":function(e,t,n){n.r(t),n.d(t,"default",function(){return S});var r=n("./src/polyfills/number.ts"),a=n("./src/events.ts"),i=n("./src/utils/logger.ts"),o=n("./src/errors.ts"),l=n("./src/utils/buffer-helper.ts"),u=n("./src/utils/mediasource-helper.ts"),s=n("./src/loader/fragment.ts"),c=n("./src/controller/buffer-operation-queue.ts"),d=Object(u.getMediaSource)(),v=/([ha]vc.)(?:\.[^.,]+)+/,S=function(){function E(f){var g=this;this.details=null,this._objectUrl=null,this.operationQueue=void 0,this.listeners=void 0,this.hls=void 0,this.bufferCodecEventsExpected=0,this._bufferCodecEventsTotal=0,this.media=null,this.mediaSource=null,this.appendError=0,this.tracks={},this.pendingTracks={},this.sourceBuffer=void 0,this._onMediaSourceOpen=function(){var h=g.hls,y=g.media,b=g.mediaSource;i.logger.log("[buffer-controller]: Media source opened"),y&&(g.updateMediaElementDuration(),h.trigger(a.Events.MEDIA_ATTACHED,{media:y})),b&&b.removeEventListener("sourceopen",g._onMediaSourceOpen),g.checkPendingTracks()},this._onMediaSourceClose=function(){i.logger.log("[buffer-controller]: Media source closed")},this._onMediaSourceEnded=function(){i.logger.log("[buffer-controller]: Media source ended")},this.hls=f,this._initSourceBuffer(),this.registerListeners()}var m=E.prototype;return m.hasSourceTypes=function(){return this.getSourceBufferTypes().length>0||Object.keys(this.pendingTracks).length>0},m.destroy=function(){this.unregisterListeners(),this.details=null},m.registerListeners=function(){var f=this.hls;f.on(a.Events.MEDIA_ATTACHING,this.onMediaAttaching,this),f.on(a.Events.MEDIA_DETACHING,this.onMediaDetaching,this),f.on(a.Events.MANIFEST_PARSED,this.onManifestParsed,this),f.on(a.Events.BUFFER_RESET,this.onBufferReset,this),f.on(a.Events.BUFFER_APPENDING,this.onBufferAppending,this),f.on(a.Events.BUFFER_CODECS,this.onBufferCodecs,this),f.on(a.Events.BUFFER_EOS,this.onBufferEos,this),f.on(a.Events.BUFFER_FLUSHING,this.onBufferFlushing,this),f.on(a.Events.LEVEL_UPDATED,this.onLevelUpdated,this),f.on(a.Events.FRAG_PARSED,this.onFragParsed,this),f.on(a.Events.FRAG_CHANGED,this.onFragChanged,this)},m.unregisterListeners=function(){var f=this.hls;f.off(a.Events.MEDIA_ATTACHING,this.onMediaAttaching,this),f.off(a.Events.MEDIA_DETACHING,this.onMediaDetaching,this),f.off(a.Events.MANIFEST_PARSED,this.onManifestParsed,this),f.off(a.Events.BUFFER_RESET,this.onBufferReset,this),f.off(a.Events.BUFFER_APPENDING,this.onBufferAppending,this),f.off(a.Events.BUFFER_CODECS,this.onBufferCodecs,this),f.off(a.Events.BUFFER_EOS,this.onBufferEos,this),f.off(a.Events.BUFFER_FLUSHING,this.onBufferFlushing,this),f.off(a.Events.LEVEL_UPDATED,this.onLevelUpdated,this),f.off(a.Events.FRAG_PARSED,this.onFragParsed,this),f.off(a.Events.FRAG_CHANGED,this.onFragChanged,this)},m._initSourceBuffer=function(){this.sourceBuffer={},this.operationQueue=new c.default(this.sourceBuffer),this.listeners={audio:[],video:[],audiovideo:[]}},m.onManifestParsed=function(f,g){var h=2;(g.audio&&!g.video||!g.altAudio)&&(h=1),this.bufferCodecEventsExpected=this._bufferCodecEventsTotal=h,this.details=null,i.logger.log(this.bufferCodecEventsExpected+" bufferCodec event(s) expected")},m.onMediaAttaching=function(f,g){var h=this.media=g.media;if(h&&d){var y=this.mediaSource=new d;y.addEventListener("sourceopen",this._onMediaSourceOpen),y.addEventListener("sourceended",this._onMediaSourceEnded),y.addEventListener("sourceclose",this._onMediaSourceClose),h.src=self.URL.createObjectURL(y),this._objectUrl=h.src}},m.onMediaDetaching=function(){var f=this.media,g=this.mediaSource,h=this._objectUrl;if(g){if(i.logger.log("[buffer-controller]: media source detaching"),g.readyState==="open")try{g.endOfStream()}catch(y){i.logger.warn("[buffer-controller]: onMediaDetaching: "+y.message+" while calling endOfStream")}this.onBufferReset(),g.removeEventListener("sourceopen",this._onMediaSourceOpen),g.removeEventListener("sourceended",this._onMediaSourceEnded),g.removeEventListener("sourceclose",this._onMediaSourceClose),f&&(h&&self.URL.revokeObjectURL(h),f.src===h?(f.removeAttribute("src"),f.load()):i.logger.warn("[buffer-controller]: media.src was changed by a third party - skip cleanup")),this.mediaSource=null,this.media=null,this._objectUrl=null,this.bufferCodecEventsExpected=this._bufferCodecEventsTotal,this.pendingTracks={},this.tracks={}}this.hls.trigger(a.Events.MEDIA_DETACHED,void 0)},m.onBufferReset=function(){var f=this;this.getSourceBufferTypes().forEach(function(g){var h=f.sourceBuffer[g];try{h&&(f.removeBufferListeners(g),f.mediaSource&&f.mediaSource.removeSourceBuffer(h),f.sourceBuffer[g]=void 0)}catch(y){i.logger.warn("[buffer-controller]: Failed to reset the "+g+" buffer",y)}}),this._initSourceBuffer()},m.onBufferCodecs=function(f,g){var h=this,y=this.getSourceBufferTypes().length;Object.keys(g).forEach(function(b){if(y){var p=h.tracks[b];if(p&&typeof p.buffer.changeType=="function"){var C=g[b],w=C.codec,k=C.levelCodec,_=C.container;if((p.levelCodec||p.codec).replace(v,"$1")!==(k||w).replace(v,"$1")){var T=_+";codecs="+(k||w);h.appendChangeType(b,T)}}}else h.pendingTracks[b]=g[b]}),y||(this.bufferCodecEventsExpected=Math.max(this.bufferCodecEventsExpected-1,0),this.mediaSource&&this.mediaSource.readyState==="open"&&this.checkPendingTracks())},m.appendChangeType=function(f,g){var h=this,y=this.operationQueue,b={execute:function(){var p=h.sourceBuffer[f];p&&(i.logger.log("[buffer-controller]: changing "+f+" sourceBuffer type to "+g),p.changeType(g)),y.shiftAndExecuteNext(f)},onStart:function(){},onComplete:function(){},onError:function(p){i.logger.warn("[buffer-controller]: Failed to change "+f+" SourceBuffer type",p)}};y.append(b,f)},m.onBufferAppending=function(f,g){var h=this,y=this.hls,b=this.operationQueue,p=this.tracks,C=g.data,w=g.type,k=g.frag,_=g.part,T=g.chunkMeta,O=T.buffering[w],A=self.performance.now();O.start=A;var P=k.stats.buffering,D=_?_.stats.buffering:null;P.start===0&&(P.start=A),D&&D.start===0&&(D.start=A);var I=p.audio,x=w==="audio"&&T.id===1&&(I==null?void 0:I.container)==="audio/mpeg",L={execute:function(){if(O.executeStart=self.performance.now(),x){var $=h.sourceBuffer[w];if($){var M=k.start-$.timestampOffset;Math.abs(M)>=.1&&(i.logger.log("[buffer-controller]: Updating audio SourceBuffer timestampOffset to "+k.start+" (delta: "+M+") sn: "+k.sn+")"),$.timestampOffset=k.start)}}h.appendExecutor(C,w)},onStart:function(){},onComplete:function(){var $=self.performance.now();O.executeEnd=O.end=$,P.first===0&&(P.first=$),D&&D.first===0&&(D.first=$);var M=h.sourceBuffer,j={};for(var F in M)j[F]=l.BufferHelper.getBuffered(M[F]);h.appendError=0,h.hls.trigger(a.Events.BUFFER_APPENDED,{type:w,frag:k,part:_,chunkMeta:T,parent:k.type,timeRanges:j})},onError:function($){i.logger.error("[buffer-controller]: Error encountered while trying to append to the "+w+" SourceBuffer",$);var M={type:o.ErrorTypes.MEDIA_ERROR,parent:k.type,details:o.ErrorDetails.BUFFER_APPEND_ERROR,err:$,fatal:!1};$.code===DOMException.QUOTA_EXCEEDED_ERR?M.details=o.ErrorDetails.BUFFER_FULL_ERROR:(h.appendError++,M.details=o.ErrorDetails.BUFFER_APPEND_ERROR,h.appendError>y.config.appendErrorMaxRetry&&(i.logger.error("[buffer-controller]: Failed "+y.config.appendErrorMaxRetry+" times to append segment in sourceBuffer"),M.fatal=!0)),y.trigger(a.Events.ERROR,M)}};b.append(L,w)},m.onBufferFlushing=function(f,g){var h=this,y=this.operationQueue,b=function(p){return{execute:h.removeExecutor.bind(h,p,g.startOffset,g.endOffset),onStart:function(){},onComplete:function(){h.hls.trigger(a.Events.BUFFER_FLUSHED,{type:p})},onError:function(C){i.logger.warn("[buffer-controller]: Failed to remove from "+p+" SourceBuffer",C)}}};g.type?y.append(b(g.type),g.type):this.getSourceBufferTypes().forEach(function(p){y.append(b(p),p)})},m.onFragParsed=function(f,g){var h=this,y=g.frag,b=g.part,p=[],C=b?b.elementaryStreams:y.elementaryStreams;C[s.ElementaryStreamTypes.AUDIOVIDEO]?p.push("audiovideo"):(C[s.ElementaryStreamTypes.AUDIO]&&p.push("audio"),C[s.ElementaryStreamTypes.VIDEO]&&p.push("video")),p.length===0&&i.logger.warn("Fragments must have at least one ElementaryStreamType set. type: "+y.type+" level: "+y.level+" sn: "+y.sn),this.blockBuffers(function(){var w=self.performance.now();y.stats.buffering.end=w,b&&(b.stats.buffering.end=w);var k=b?b.stats:y.stats;h.hls.trigger(a.Events.FRAG_BUFFERED,{frag:y,part:b,stats:k,id:y.type})},p)},m.onFragChanged=function(f,g){this.flushBackBuffer()},m.onBufferEos=function(f,g){var h=this;this.getSourceBufferTypes().reduce(function(y,b){var p=h.sourceBuffer[b];return g.type&&g.type!==b||p&&!p.ended&&(p.ended=!0,i.logger.log("[buffer-controller]: "+b+" sourceBuffer now EOS")),y&&!(p&&!p.ended)},!0)&&this.blockBuffers(function(){var y=h.mediaSource;y&&y.readyState==="open"&&y.endOfStream()})},m.onLevelUpdated=function(f,g){var h=g.details;h.fragments.length&&(this.details=h,this.getSourceBufferTypes().length?this.blockBuffers(this.updateMediaElementDuration.bind(this)):this.updateMediaElementDuration())},m.flushBackBuffer=function(){var f=this.hls,g=this.details,h=this.media,y=this.sourceBuffer;if(h&&g!==null){var b=this.getSourceBufferTypes();if(b.length){var p=g.live&&f.config.liveBackBufferLength!==null?f.config.liveBackBufferLength:f.config.backBufferLength;if(Object(r.isFiniteNumber)(p)&&!(p<0)){var C=h.currentTime,w=g.levelTargetDuration,k=Math.max(p,w),_=Math.floor(C/w)*w-k;b.forEach(function(T){var O=y[T];if(O){var A=l.BufferHelper.getBuffered(O);A.length>0&&_>A.start(0)&&(f.trigger(a.Events.BACK_BUFFER_REACHED,{bufferEnd:_}),g.live&&f.trigger(a.Events.LIVE_BACK_BUFFER_REACHED,{bufferEnd:_}),f.trigger(a.Events.BUFFER_FLUSHING,{startOffset:0,endOffset:_,type:T}))}})}}}},m.updateMediaElementDuration=function(){if(this.details&&this.media&&this.mediaSource&&this.mediaSource.readyState==="open"){var f=this.details,g=this.hls,h=this.media,y=this.mediaSource,b=f.fragments[0].start+f.totalduration,p=h.duration,C=Object(r.isFiniteNumber)(y.duration)?y.duration:0;f.live&&g.config.liveDurationInfinity?(i.logger.log("[buffer-controller]: Media Source duration is set to Infinity"),y.duration=1/0,this.updateSeekableRange(f)):(b>C&&b>p||!Object(r.isFiniteNumber)(p))&&(i.logger.log("[buffer-controller]: Updating Media Source duration to "+b.toFixed(3)),y.duration=b)}},m.updateSeekableRange=function(f){var g=this.mediaSource,h=f.fragments;if(h.length&&f.live&&g!=null&&g.setLiveSeekableRange){var y=Math.max(0,h[0].start),b=Math.max(y,y+f.totalduration);g.setLiveSeekableRange(y,b)}},m.checkPendingTracks=function(){var f=this.bufferCodecEventsExpected,g=this.operationQueue,h=this.pendingTracks,y=Object.keys(h).length;if(y&&!f||y===2){this.createSourceBuffers(h),this.pendingTracks={};var b=this.getSourceBufferTypes();if(b.length===0)return void this.hls.trigger(a.Events.ERROR,{type:o.ErrorTypes.MEDIA_ERROR,details:o.ErrorDetails.BUFFER_INCOMPATIBLE_CODECS_ERROR,fatal:!0,reason:"could not create source buffer for media codec(s)"});b.forEach(function(p){g.executeNext(p)})}},m.createSourceBuffers=function(f){var g=this.sourceBuffer,h=this.mediaSource;if(!h)throw Error("createSourceBuffers called when mediaSource was null");var y=0;for(var b in f)if(!g[b]){var p=f[b];if(!p)throw Error("source buffer exists for track "+b+", however track does not");var C=p.levelCodec||p.codec,w=p.container+";codecs="+C;i.logger.log("[buffer-controller]: creating sourceBuffer("+w+")");try{var k=g[b]=h.addSourceBuffer(w),_=b;this.addBufferListener(_,"updatestart",this._onSBUpdateStart),this.addBufferListener(_,"updateend",this._onSBUpdateEnd),this.addBufferListener(_,"error",this._onSBUpdateError),this.tracks[b]={buffer:k,codec:C,container:p.container,levelCodec:p.levelCodec,id:p.id},y++}catch(T){i.logger.error("[buffer-controller]: error while trying to add sourceBuffer: "+T.message),this.hls.trigger(a.Events.ERROR,{type:o.ErrorTypes.MEDIA_ERROR,details:o.ErrorDetails.BUFFER_ADD_CODEC_ERROR,fatal:!1,error:T,mimeType:w})}}y&&this.hls.trigger(a.Events.BUFFER_CREATED,{tracks:this.tracks})},m._onSBUpdateStart=function(f){this.operationQueue.current(f).onStart()},m._onSBUpdateEnd=function(f){var g=this.operationQueue;g.current(f).onComplete(),g.shiftAndExecuteNext(f)},m._onSBUpdateError=function(f,g){i.logger.error("[buffer-controller]: "+f+" SourceBuffer error",g),this.hls.trigger(a.Events.ERROR,{type:o.ErrorTypes.MEDIA_ERROR,details:o.ErrorDetails.BUFFER_APPENDING_ERROR,fatal:!1});var h=this.operationQueue.current(f);h&&h.onError(g)},m.removeExecutor=function(f,g,h){var y=this.media,b=this.mediaSource,p=this.operationQueue,C=this.sourceBuffer[f];if(!y||!b||!C)return i.logger.warn("[buffer-controller]: Attempting to remove from the "+f+" SourceBuffer, but it does not exist"),void p.shiftAndExecuteNext(f);var w=Object(r.isFiniteNumber)(y.duration)?y.duration:1/0,k=Object(r.isFiniteNumber)(b.duration)?b.duration:1/0,_=Math.max(0,g),T=Math.min(h,w,k);T>_?(i.logger.log("[buffer-controller]: Removing ["+_+","+T+"] from the "+f+" SourceBuffer"),console.assert(!C.updating,f+" sourceBuffer must not be updating"),C.remove(_,T)):p.shiftAndExecuteNext(f)},m.appendExecutor=function(f,g){var h=this.operationQueue,y=this.sourceBuffer[g];if(!y)return i.logger.warn("[buffer-controller]: Attempting to append to the "+g+" SourceBuffer, but it does not exist"),void h.shiftAndExecuteNext(g);y.ended=!1,console.assert(!y.updating,g+" sourceBuffer must not be updating"),y.appendBuffer(f)},m.blockBuffers=function(f,g){var h=this;if(g===void 0&&(g=this.getSourceBufferTypes()),!g.length)return i.logger.log("[buffer-controller]: Blocking operation requested, but no SourceBuffers exist"),void Promise.resolve(f);var y=this.operationQueue,b=g.map(function(p){return y.appendBlocker(p)});Promise.all(b).then(function(){f(),g.forEach(function(p){var C=h.sourceBuffer[p];C&&C.updating||y.shiftAndExecuteNext(p)})})},m.getSourceBufferTypes=function(){return Object.keys(this.sourceBuffer)},m.addBufferListener=function(f,g,h){var y=this.sourceBuffer[f];if(y){var b=h.bind(this,f);this.listeners[f].push({event:g,listener:b}),y.addEventListener(g,b)}},m.removeBufferListeners=function(f){var g=this.sourceBuffer[f];g&&this.listeners[f].forEach(function(h){g.removeEventListener(h.event,h.listener)})},E}()},"./src/controller/buffer-operation-queue.ts":function(e,t,n){n.r(t),n.d(t,"default",function(){return a});var r=n("./src/utils/logger.ts"),a=function(){function i(l){this.buffers=void 0,this.queues={video:[],audio:[],audiovideo:[]},this.buffers=l}var o=i.prototype;return o.append=function(l,u){var s=this.queues[u];s.push(l),s.length===1&&this.buffers[u]&&this.executeNext(u)},o.insertAbort=function(l,u){this.queues[u].unshift(l),this.executeNext(u)},o.appendBlocker=function(l){var u,s=new Promise(function(d){u=d}),c={execute:u,onStart:function(){},onComplete:function(){},onError:function(){}};return this.append(c,l),s},o.executeNext=function(l){var u=this.buffers,s=this.queues,c=u[l],d=s[l];if(d.length){var v=d[0];try{v.execute()}catch(S){r.logger.warn("[buffer-operation-queue]: Unhandled exception executing the current operation"),v.onError(S),c&&c.updating||(d.shift(),this.executeNext(l))}}},o.shiftAndExecuteNext=function(l){this.queues[l].shift(),this.executeNext(l)},o.current=function(l){return this.queues[l][0]},i}()},"./src/controller/cap-level-controller.ts":function(e,t,n){n.r(t);var r=n("./src/events.ts");function a(o,l){for(var u=0;u<l.length;u++){var s=l[u];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(o,s.key,s)}}var i=function(){function o(d){this.autoLevelCapping=void 0,this.firstLevel=void 0,this.media=void 0,this.restrictedLevels=void 0,this.timer=void 0,this.hls=void 0,this.streamController=void 0,this.clientRect=void 0,this.hls=d,this.autoLevelCapping=Number.POSITIVE_INFINITY,this.firstLevel=-1,this.media=null,this.restrictedLevels=[],this.timer=void 0,this.clientRect=null,this.registerListeners()}var l,u,s,c=o.prototype;return c.setStreamController=function(d){this.streamController=d},c.destroy=function(){this.unregisterListener(),this.hls.config.capLevelToPlayerSize&&this.stopCapping(),this.media=null,this.clientRect=null,this.hls=this.streamController=null},c.registerListeners=function(){var d=this.hls;d.on(r.Events.FPS_DROP_LEVEL_CAPPING,this.onFpsDropLevelCapping,this),d.on(r.Events.MEDIA_ATTACHING,this.onMediaAttaching,this),d.on(r.Events.MANIFEST_PARSED,this.onManifestParsed,this),d.on(r.Events.BUFFER_CODECS,this.onBufferCodecs,this),d.on(r.Events.MEDIA_DETACHING,this.onMediaDetaching,this)},c.unregisterListener=function(){var d=this.hls;d.off(r.Events.FPS_DROP_LEVEL_CAPPING,this.onFpsDropLevelCapping,this),d.off(r.Events.MEDIA_ATTACHING,this.onMediaAttaching,this),d.off(r.Events.MANIFEST_PARSED,this.onManifestParsed,this),d.off(r.Events.BUFFER_CODECS,this.onBufferCodecs,this),d.off(r.Events.MEDIA_DETACHING,this.onMediaDetaching,this)},c.onFpsDropLevelCapping=function(d,v){o.isLevelAllowed(v.droppedLevel,this.restrictedLevels)&&this.restrictedLevels.push(v.droppedLevel)},c.onMediaAttaching=function(d,v){this.media=v.media instanceof HTMLVideoElement?v.media:null},c.onManifestParsed=function(d,v){var S=this.hls;this.restrictedLevels=[],this.firstLevel=v.firstLevel,S.config.capLevelToPlayerSize&&v.video&&this.startCapping()},c.onBufferCodecs=function(d,v){this.hls.config.capLevelToPlayerSize&&v.video&&this.startCapping()},c.onMediaDetaching=function(){this.stopCapping()},c.detectPlayerSize=function(){if(this.media&&this.mediaHeight>0&&this.mediaWidth>0){var d=this.hls.levels;if(d.length){var v=this.hls;v.autoLevelCapping=this.getMaxLevel(d.length-1),v.autoLevelCapping>this.autoLevelCapping&&this.streamController&&this.streamController.nextLevelSwitch(),this.autoLevelCapping=v.autoLevelCapping}}},c.getMaxLevel=function(d){var v=this,S=this.hls.levels;if(!S.length)return-1;var E=S.filter(function(m,f){return o.isLevelAllowed(f,v.restrictedLevels)&&f<=d});return this.clientRect=null,o.getMaxLevelByMediaSize(E,this.mediaWidth,this.mediaHeight)},c.startCapping=function(){this.timer||(this.autoLevelCapping=Number.POSITIVE_INFINITY,this.hls.firstLevel=this.getMaxLevel(this.firstLevel),self.clearInterval(this.timer),this.timer=self.setInterval(this.detectPlayerSize.bind(this),1e3),this.detectPlayerSize())},c.stopCapping=function(){this.restrictedLevels=[],this.firstLevel=-1,this.autoLevelCapping=Number.POSITIVE_INFINITY,this.timer&&(self.clearInterval(this.timer),this.timer=void 0)},c.getDimensions=function(){if(this.clientRect)return this.clientRect;var d=this.media,v={width:0,height:0};if(d){var S=d.getBoundingClientRect();v.width=S.width,v.height=S.height,v.width||v.height||(v.width=S.right-S.left||d.width||0,v.height=S.bottom-S.top||d.height||0)}return this.clientRect=v,v},o.isLevelAllowed=function(d,v){return v===void 0&&(v=[]),v.indexOf(d)===-1},o.getMaxLevelByMediaSize=function(d,v,S){if(!d||!d.length)return-1;for(var E,m,f=d.length-1,g=0;g<d.length;g+=1){var h=d[g];if((h.width>=v||h.height>=S)&&(E=h,!(m=d[g+1])||E.width!==m.width||E.height!==m.height)){f=g;break}}return f},l=o,s=[{key:"contentScaleFactor",get:function(){var d=1;try{d=self.devicePixelRatio}catch{}return d}}],(u=[{key:"mediaWidth",get:function(){return this.getDimensions().width*o.contentScaleFactor}},{key:"mediaHeight",get:function(){return this.getDimensions().height*o.contentScaleFactor}}])&&a(l.prototype,u),s&&a(l,s),o}();t.default=i},"./src/controller/eme-controller.ts":function(e,t,n){n.r(t);var r=n("./src/events.ts"),a=n("./src/errors.ts"),i=n("./src/utils/logger.ts"),o=n("./src/utils/mediakeys-helper.ts");function l(s,c){for(var d=0;d<c.length;d++){var v=c[d];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(s,v.key,v)}}var u=function(){function s(S){this.hls=void 0,this._widevineLicenseUrl=void 0,this._licenseXhrSetup=void 0,this._licenseResponseCallback=void 0,this._emeEnabled=void 0,this._requestMediaKeySystemAccess=void 0,this._drmSystemOptions=void 0,this._config=void 0,this._mediaKeysList=[],this._media=null,this._hasSetMediaKeys=!1,this._requestLicenseFailureCount=0,this.mediaKeysPromise=null,this._onMediaEncrypted=this.onMediaEncrypted.bind(this),this.hls=S,this._config=S.config,this._widevineLicenseUrl=this._config.widevineLicenseUrl,this._licenseXhrSetup=this._config.licenseXhrSetup,this._licenseResponseCallback=this._config.licenseResponseCallback,this._emeEnabled=this._config.emeEnabled,this._requestMediaKeySystemAccess=this._config.requestMediaKeySystemAccessFunc,this._drmSystemOptions=this._config.drmSystemOptions,this._registerListeners()}var c,d,v=s.prototype;return v.destroy=function(){this._unregisterListeners(),this.hls=this._onMediaEncrypted=null,this._requestMediaKeySystemAccess=null},v._registerListeners=function(){this.hls.on(r.Events.MEDIA_ATTACHED,this.onMediaAttached,this),this.hls.on(r.Events.MEDIA_DETACHED,this.onMediaDetached,this),this.hls.on(r.Events.MANIFEST_PARSED,this.onManifestParsed,this)},v._unregisterListeners=function(){this.hls.off(r.Events.MEDIA_ATTACHED,this.onMediaAttached,this),this.hls.off(r.Events.MEDIA_DETACHED,this.onMediaDetached,this),this.hls.off(r.Events.MANIFEST_PARSED,this.onManifestParsed,this)},v.getLicenseServerUrl=function(S){switch(S){case o.KeySystems.WIDEVINE:if(!this._widevineLicenseUrl)break;return this._widevineLicenseUrl}throw new Error('no license server URL configured for key-system "'+S+'"')},v._attemptKeySystemAccess=function(S,E,m){var f=this,g=function(y,b,p,C){switch(y){case o.KeySystems.WIDEVINE:return function(w,k,_){var T={audioCapabilities:[],videoCapabilities:[]};return w.forEach(function(O){T.audioCapabilities.push({contentType:'audio/mp4; codecs="'+O+'"',robustness:_.audioRobustness||""})}),k.forEach(function(O){T.videoCapabilities.push({contentType:'video/mp4; codecs="'+O+'"',robustness:_.videoRobustness||""})}),[T]}(b,p,C);default:throw new Error("Unknown key-system: "+y)}}(S,E,m,this._drmSystemOptions);i.logger.log("Requesting encrypted media key-system access");var h=this.requestMediaKeySystemAccess(S,g);this.mediaKeysPromise=h.then(function(y){return f._onMediaKeySystemAccessObtained(S,y)}),h.catch(function(y){i.logger.error('Failed to obtain key-system "'+S+'" access:',y)})},v._onMediaKeySystemAccessObtained=function(S,E){var m=this;i.logger.log('Access for key-system "'+S+'" obtained');var f={mediaKeysSessionInitialized:!1,mediaKeySystemAccess:E,mediaKeySystemDomain:S};this._mediaKeysList.push(f);var g=Promise.resolve().then(function(){return E.createMediaKeys()}).then(function(h){return f.mediaKeys=h,i.logger.log('Media-keys created for key-system "'+S+'"'),m._onMediaKeysCreated(),h});return g.catch(function(h){i.logger.error("Failed to create media-keys:",h)}),g},v._onMediaKeysCreated=function(){var S=this;this._mediaKeysList.forEach(function(E){E.mediaKeysSession||(E.mediaKeysSession=E.mediaKeys.createSession(),S._onNewMediaKeySession(E.mediaKeysSession))})},v._onNewMediaKeySession=function(S){var E=this;i.logger.log("New key-system session "+S.sessionId),S.addEventListener("message",function(m){E._onKeySessionMessage(S,m.message)},!1)},v._onKeySessionMessage=function(S,E){i.logger.log("Got EME message event, creating license request"),this._requestLicense(E,function(m){i.logger.log("Received license data (length: "+(m&&m.byteLength)+"), updating key-session"),S.update(m)})},v.onMediaEncrypted=function(S){var E=this;if(i.logger.log('Media is encrypted using "'+S.initDataType+'" init data type'),!this.mediaKeysPromise)return i.logger.error("Fatal: Media is encrypted but no CDM access or no keys have been requested"),void this.hls.trigger(r.Events.ERROR,{type:a.ErrorTypes.KEY_SYSTEM_ERROR,details:a.ErrorDetails.KEY_SYSTEM_NO_KEYS,fatal:!0});var m=function(f){E._media&&(E._attemptSetMediaKeys(f),E._generateRequestWithPreferredKeySession(S.initDataType,S.initData))};this.mediaKeysPromise.then(m).catch(m)},v._attemptSetMediaKeys=function(S){if(!this._media)throw new Error("Attempted to set mediaKeys without first attaching a media element");if(!this._hasSetMediaKeys){var E=this._mediaKeysList[0];if(!E||!E.mediaKeys)return i.logger.error("Fatal: Media is encrypted but no CDM access or no keys have been obtained yet"),void this.hls.trigger(r.Events.ERROR,{type:a.ErrorTypes.KEY_SYSTEM_ERROR,details:a.ErrorDetails.KEY_SYSTEM_NO_KEYS,fatal:!0});i.logger.log("Setting keys for encrypted media"),this._media.setMediaKeys(E.mediaKeys),this._hasSetMediaKeys=!0}},v._generateRequestWithPreferredKeySession=function(S,E){var m=this,f=this._mediaKeysList[0];if(!f)return i.logger.error("Fatal: Media is encrypted but not any key-system access has been obtained yet"),void this.hls.trigger(r.Events.ERROR,{type:a.ErrorTypes.KEY_SYSTEM_ERROR,details:a.ErrorDetails.KEY_SYSTEM_NO_ACCESS,fatal:!0});if(f.mediaKeysSessionInitialized)i.logger.warn("Key-Session already initialized but requested again");else{var g=f.mediaKeysSession;if(!g)return i.logger.error("Fatal: Media is encrypted but no key-session existing"),void this.hls.trigger(r.Events.ERROR,{type:a.ErrorTypes.KEY_SYSTEM_ERROR,details:a.ErrorDetails.KEY_SYSTEM_NO_SESSION,fatal:!0});if(!E)return i.logger.warn("Fatal: initData required for generating a key session is null"),void this.hls.trigger(r.Events.ERROR,{type:a.ErrorTypes.KEY_SYSTEM_ERROR,details:a.ErrorDetails.KEY_SYSTEM_NO_INIT_DATA,fatal:!0});i.logger.log('Generating key-session request for "'+S+'" init data type'),f.mediaKeysSessionInitialized=!0,g.generateRequest(S,E).then(function(){i.logger.debug("Key-session generation succeeded")}).catch(function(h){i.logger.error("Error generating key-session request:",h),m.hls.trigger(r.Events.ERROR,{type:a.ErrorTypes.KEY_SYSTEM_ERROR,details:a.ErrorDetails.KEY_SYSTEM_NO_SESSION,fatal:!1})})}},v._createLicenseXhr=function(S,E,m){var f=new XMLHttpRequest;f.responseType="arraybuffer",f.onreadystatechange=this._onLicenseRequestReadyStageChange.bind(this,f,S,E,m);var g=this._licenseXhrSetup;if(g)try{g.call(this.hls,f,S),g=void 0}catch(h){i.logger.error(h)}try{f.readyState||f.open("POST",S,!0),g&&g.call(this.hls,f,S)}catch(h){throw new Error("issue setting up KeySystem license XHR "+h)}return f},v._onLicenseRequestReadyStageChange=function(S,E,m,f){switch(S.readyState){case 4:if(S.status===200){this._requestLicenseFailureCount=0,i.logger.log("License request succeeded");var g=S.response,h=this._licenseResponseCallback;if(h)try{g=h.call(this.hls,S,E)}catch(b){i.logger.error(b)}f(g)}else{if(i.logger.error("License Request XHR failed ("+E+"). Status: "+S.status+" ("+S.statusText+")"),this._requestLicenseFailureCount++,this._requestLicenseFailureCount>3)return void this.hls.trigger(r.Events.ERROR,{type:a.ErrorTypes.KEY_SYSTEM_ERROR,details:a.ErrorDetails.KEY_SYSTEM_LICENSE_REQUEST_FAILED,fatal:!0});var y=3-this._requestLicenseFailureCount+1;i.logger.warn("Retrying license request, "+y+" attempts left"),this._requestLicense(m,f)}}},v._generateLicenseRequestChallenge=function(S,E){switch(S.mediaKeySystemDomain){case o.KeySystems.WIDEVINE:return E}throw new Error("unsupported key-system: "+S.mediaKeySystemDomain)},v._requestLicense=function(S,E){i.logger.log("Requesting content license for key-system");var m=this._mediaKeysList[0];if(!m)return i.logger.error("Fatal error: Media is encrypted but no key-system access has been obtained yet"),void this.hls.trigger(r.Events.ERROR,{type:a.ErrorTypes.KEY_SYSTEM_ERROR,details:a.ErrorDetails.KEY_SYSTEM_NO_ACCESS,fatal:!0});try{var f=this.getLicenseServerUrl(m.mediaKeySystemDomain),g=this._createLicenseXhr(f,S,E);i.logger.log("Sending license request to URL: "+f);var h=this._generateLicenseRequestChallenge(m,S);g.send(h)}catch(y){i.logger.error("Failure requesting DRM license: "+y),this.hls.trigger(r.Events.ERROR,{type:a.ErrorTypes.KEY_SYSTEM_ERROR,details:a.ErrorDetails.KEY_SYSTEM_LICENSE_REQUEST_FAILED,fatal:!0})}},v.onMediaAttached=function(S,E){if(this._emeEnabled){var m=E.media;this._media=m,m.addEventListener("encrypted",this._onMediaEncrypted)}},v.onMediaDetached=function(){var S=this._media,E=this._mediaKeysList;S&&(S.removeEventListener("encrypted",this._onMediaEncrypted),this._media=null,this._mediaKeysList=[],Promise.all(E.map(function(m){if(m.mediaKeysSession)return m.mediaKeysSession.close().catch(function(){})})).then(function(){return S.setMediaKeys(null)}).catch(function(){}))},v.onManifestParsed=function(S,E){if(this._emeEnabled){var m=E.levels.map(function(g){return g.audioCodec}).filter(function(g){return!!g}),f=E.levels.map(function(g){return g.videoCodec}).filter(function(g){return!!g});this._attemptKeySystemAccess(o.KeySystems.WIDEVINE,m,f)}},c=s,(d=[{key:"requestMediaKeySystemAccess",get:function(){if(!this._requestMediaKeySystemAccess)throw new Error("No requestMediaKeySystemAccess function configured");return this._requestMediaKeySystemAccess}}])&&l(c.prototype,d),s}();t.default=u},"./src/controller/fps-controller.ts":function(e,t,n){n.r(t);var r=n("./src/events.ts"),a=n("./src/utils/logger.ts"),i=function(){function o(u){this.hls=void 0,this.isVideoPlaybackQualityAvailable=!1,this.timer=void 0,this.media=null,this.lastTime=void 0,this.lastDroppedFrames=0,this.lastDecodedFrames=0,this.streamController=void 0,this.hls=u,this.registerListeners()}var l=o.prototype;return l.setStreamController=function(u){this.streamController=u},l.registerListeners=function(){this.hls.on(r.Events.MEDIA_ATTACHING,this.onMediaAttaching,this)},l.unregisterListeners=function(){this.hls.off(r.Events.MEDIA_ATTACHING,this.onMediaAttaching)},l.destroy=function(){this.timer&&clearInterval(this.timer),this.unregisterListeners(),this.isVideoPlaybackQualityAvailable=!1,this.media=null},l.onMediaAttaching=function(u,s){var c=this.hls.config;if(c.capLevelOnFPSDrop){var d=s.media instanceof self.HTMLVideoElement?s.media:null;this.media=d,d&&typeof d.getVideoPlaybackQuality=="function"&&(this.isVideoPlaybackQualityAvailable=!0),self.clearInterval(this.timer),this.timer=self.setInterval(this.checkFPSInterval.bind(this),c.fpsDroppedMonitoringPeriod)}},l.checkFPS=function(u,s,c){var d=performance.now();if(s){if(this.lastTime){var v=d-this.lastTime,S=c-this.lastDroppedFrames,E=s-this.lastDecodedFrames,m=1e3*S/v,f=this.hls;if(f.trigger(r.Events.FPS_DROP,{currentDropped:S,currentDecoded:E,totalDroppedFrames:c}),m>0&&S>f.config.fpsDroppedMonitoringThreshold*E){var g=f.currentLevel;a.logger.warn("drop FPS ratio greater than max allowed value for currentLevel: "+g),g>0&&(f.autoLevelCapping===-1||f.autoLevelCapping>=g)&&(g-=1,f.trigger(r.Events.FPS_DROP_LEVEL_CAPPING,{level:g,droppedLevel:f.currentLevel}),f.autoLevelCapping=g,this.streamController.nextLevelSwitch())}}this.lastTime=d,this.lastDroppedFrames=c,this.lastDecodedFrames=s}},l.checkFPSInterval=function(){var u=this.media;if(u)if(this.isVideoPlaybackQualityAvailable){var s=u.getVideoPlaybackQuality();this.checkFPS(u,s.totalVideoFrames,s.droppedVideoFrames)}else this.checkFPS(u,u.webkitDecodedFrameCount,u.webkitDroppedFrameCount)},o}();t.default=i},"./src/controller/fragment-finders.ts":function(e,t,n){n.r(t),n.d(t,"findFragmentByPDT",function(){return i}),n.d(t,"findFragmentByPTS",function(){return o}),n.d(t,"fragmentWithinToleranceTest",function(){return l}),n.d(t,"pdtWithinToleranceTest",function(){return u}),n.d(t,"findFragWithCC",function(){return s});var r=n("./src/polyfills/number.ts"),a=n("./src/utils/binary-search.ts");function i(c,d,v){if(d===null||!Array.isArray(c)||!c.length||!Object(r.isFiniteNumber)(d)||d<(c[0].programDateTime||0)||d>=(c[c.length-1].endProgramDateTime||0))return null;v=v||0;for(var S=0;S<c.length;++S){var E=c[S];if(u(d,v,E))return E}return null}function o(c,d,v,S){v===void 0&&(v=0),S===void 0&&(S=0);var E=null;if(c?E=d[c.sn-d[0].sn+1]||null:v===0&&d[0].start===0&&(E=d[0]),E&&l(v,S,E)===0)return E;var m=a.default.search(d,l.bind(null,v,S));return m||E}function l(c,d,v){c===void 0&&(c=0),d===void 0&&(d=0);var S=Math.min(d,v.duration+(v.deltaPTS?v.deltaPTS:0));return v.start+v.duration-S<=c?1:v.start-S>c&&v.start?-1:0}function u(c,d,v){var S=1e3*Math.min(d,v.duration+(v.deltaPTS?v.deltaPTS:0));return(v.endProgramDateTime||0)-S>c}function s(c,d){return a.default.search(c,function(v){return v.cc<d?1:v.cc>d?-1:0})}},"./src/controller/fragment-tracker.ts":function(e,t,n){n.r(t),n.d(t,"FragmentState",function(){return r}),n.d(t,"FragmentTracker",function(){return l});var r,a,i=n("./src/events.ts"),o=n("./src/types/loader.ts");(a=r||(r={})).NOT_LOADED="NOT_LOADED",a.BACKTRACKED="BACKTRACKED",a.APPENDING="APPENDING",a.PARTIAL="PARTIAL",a.OK="OK";var l=function(){function c(v){this.activeFragment=null,this.activeParts=null,this.fragments=Object.create(null),this.timeRanges=Object.create(null),this.bufferPadding=.2,this.hls=void 0,this.hls=v,this._registerListeners()}var d=c.prototype;return d._registerListeners=function(){var v=this.hls;v.on(i.Events.BUFFER_APPENDED,this.onBufferAppended,this),v.on(i.Events.FRAG_BUFFERED,this.onFragBuffered,this),v.on(i.Events.FRAG_LOADED,this.onFragLoaded,this)},d._unregisterListeners=function(){var v=this.hls;v.off(i.Events.BUFFER_APPENDED,this.onBufferAppended,this),v.off(i.Events.FRAG_BUFFERED,this.onFragBuffered,this),v.off(i.Events.FRAG_LOADED,this.onFragLoaded,this)},d.destroy=function(){this._unregisterListeners(),this.fragments=this.timeRanges=null},d.getAppendedFrag=function(v,S){if(S===o.PlaylistLevelType.MAIN){var E=this.activeFragment,m=this.activeParts;if(!E)return null;if(m)for(var f=m.length;f--;){var g=m[f],h=g?g.end:E.appendedPTS;if(g.start<=v&&h!==void 0&&v<=h)return f>9&&(this.activeParts=m.slice(f-9)),g}else if(E.start<=v&&E.appendedPTS!==void 0&&v<=E.appendedPTS)return E}return this.getBufferedFrag(v,S)},d.getBufferedFrag=function(v,S){for(var E=this.fragments,m=Object.keys(E),f=m.length;f--;){var g=E[m[f]];if((g==null?void 0:g.body.type)===S&&g.buffered){var h=g.body;if(h.start<=v&&v<=h.end)return h}}return null},d.detectEvictedFragments=function(v,S,E){var m=this;Object.keys(this.fragments).forEach(function(f){var g=m.fragments[f];if(g)if(g.buffered){var h=g.range[v];h&&h.time.some(function(y){var b=!m.isTimeBuffered(y.startPTS,y.endPTS,S);return b&&m.removeFragment(g.body),b})}else g.body.type===E&&m.removeFragment(g.body)})},d.detectPartialFragments=function(v){var S=this,E=this.timeRanges,m=v.frag,f=v.part;if(E&&m.sn!=="initSegment"){var g=s(m),h=this.fragments[g];h&&(Object.keys(E).forEach(function(y){var b=m.elementaryStreams[y];if(b){var p=E[y],C=f!==null||b.partial===!0;h.range[y]=S.getBufferedTimes(m,f,C,p)}}),h.backtrack=h.loaded=null,Object.keys(h.range).length?h.buffered=!0:this.removeFragment(h.body))}},d.fragBuffered=function(v){var S=s(v),E=this.fragments[S];E&&(E.backtrack=E.loaded=null,E.buffered=!0)},d.getBufferedTimes=function(v,S,E,m){for(var f={time:[],partial:E},g=S?S.start:v.start,h=S?S.end:v.end,y=v.minEndPTS||h,b=v.maxStartPTS||g,p=0;p<m.length;p++){var C=m.start(p)-this.bufferPadding,w=m.end(p)+this.bufferPadding;if(b>=C&&y<=w){f.time.push({startPTS:Math.max(g,m.start(p)),endPTS:Math.min(h,m.end(p))});break}if(g<w&&h>C)f.partial=!0,f.time.push({startPTS:Math.max(g,m.start(p)),endPTS:Math.min(h,m.end(p))});else if(h<=C)break}return f},d.getPartialFragment=function(v){var S,E,m,f=null,g=0,h=this.bufferPadding,y=this.fragments;return Object.keys(y).forEach(function(b){var p=y[b];p&&u(p)&&(E=p.body.start-h,m=p.body.end+h,v>=E&&v<=m&&(S=Math.min(v-E,m-v),g<=S&&(f=p.body,g=S)))}),f},d.getState=function(v){var S=s(v),E=this.fragments[S];return E?E.buffered?u(E)?r.PARTIAL:r.OK:E.backtrack?r.BACKTRACKED:r.APPENDING:r.NOT_LOADED},d.backtrack=function(v,S){var E=s(v),m=this.fragments[E];if(!m||m.backtrack)return null;var f=m.backtrack=S||m.loaded;return m.loaded=null,f},d.getBacktrackData=function(v){var S=s(v),E=this.fragments[S];if(E){var m,f=E.backtrack;if(f!=null&&(m=f.payload)!==null&&m!==void 0&&m.byteLength)return f;this.removeFragment(v)}return null},d.isTimeBuffered=function(v,S,E){for(var m,f,g=0;g<E.length;g++){if(m=E.start(g)-this.bufferPadding,f=E.end(g)+this.bufferPadding,v>=m&&S<=f)return!0;if(S<=m)return!1}return!1},d.onFragLoaded=function(v,S){var E=S.frag,m=S.part;if(E.sn!=="initSegment"&&!E.bitrateTest&&!m){var f=s(E);this.fragments[f]={body:E,loaded:S,backtrack:null,buffered:!1,range:Object.create(null)}}},d.onBufferAppended=function(v,S){var E=this,m=S.frag,f=S.part,g=S.timeRanges;if(m.type===o.PlaylistLevelType.MAIN)if(this.activeFragment=m,f){var h=this.activeParts;h||(this.activeParts=h=[]),h.push(f)}else this.activeParts=null;this.timeRanges=g,Object.keys(g).forEach(function(y){var b=g[y];if(E.detectEvictedFragments(y,b),!f)for(var p=0;p<b.length;p++)m.appendedPTS=Math.max(b.end(p),m.appendedPTS||0)})},d.onFragBuffered=function(v,S){this.detectPartialFragments(S)},d.hasFragment=function(v){var S=s(v);return!!this.fragments[S]},d.removeFragmentsInRange=function(v,S,E){var m=this;Object.keys(this.fragments).forEach(function(f){var g=m.fragments[f];if(g&&g.buffered){var h=g.body;h.type===E&&h.start<S&&h.end>v&&m.removeFragment(h)}})},d.removeFragment=function(v){var S=s(v);v.stats.loaded=0,v.clearElementaryStreamInfo(),delete this.fragments[S]},d.removeAllFragments=function(){this.fragments=Object.create(null),this.activeFragment=null,this.activeParts=null},c}();function u(c){var d,v;return c.buffered&&(((d=c.range.video)===null||d===void 0?void 0:d.partial)||((v=c.range.audio)===null||v===void 0?void 0:v.partial))}function s(c){return c.type+"_"+c.level+"_"+c.urlId+"_"+c.sn}},"./src/controller/gap-controller.ts":function(e,t,n){n.r(t),n.d(t,"STALL_MINIMUM_DURATION_MS",function(){return l}),n.d(t,"MAX_START_GAP_JUMP",function(){return u}),n.d(t,"SKIP_BUFFER_HOLE_STEP_SECONDS",function(){return s}),n.d(t,"SKIP_BUFFER_RANGE_START",function(){return c}),n.d(t,"default",function(){return d});var r=n("./src/utils/buffer-helper.ts"),a=n("./src/errors.ts"),i=n("./src/events.ts"),o=n("./src/utils/logger.ts"),l=250,u=2,s=.1,c=.05,d=function(){function v(E,m,f,g){this.config=void 0,this.media=void 0,this.fragmentTracker=void 0,this.hls=void 0,this.nudgeRetry=0,this.stallReported=!1,this.stalled=null,this.moved=!1,this.seeking=!1,this.config=E,this.media=m,this.fragmentTracker=f,this.hls=g}var S=v.prototype;return S.destroy=function(){this.hls=this.fragmentTracker=this.media=null},S.poll=function(E){var m=this.config,f=this.media,g=this.stalled,h=f.currentTime,y=f.seeking,b=this.seeking&&!y,p=!this.seeking&&y;if(this.seeking=y,h===E){if((p||b)&&(this.stalled=null),!f.paused&&!f.ended&&f.playbackRate!==0&&r.BufferHelper.getBuffered(f).length){var C=r.BufferHelper.bufferInfo(f,h,0),w=C.len>0,k=C.nextStart||0;if(w||k){if(y){var _=C.len>u,T=!k||k-h>u&&!this.fragmentTracker.getPartialFragment(h);if(_||T)return;this.moved=!1}if(!this.moved&&this.stalled!==null){var O,A=Math.max(k,C.start||0)-h,P=this.hls.levels?this.hls.levels[this.hls.currentLevel]:null,D=!(P==null||(O=P.details)===null||O===void 0)&&O.live?2*P.details.targetduration:u;if(A>0&&A<=D)return void this._trySkipBufferHole(null)}var I=self.performance.now();if(g!==null){var x=I-g;!y&&x>=l&&this._reportStall(C.len);var L=r.BufferHelper.bufferInfo(f,h,m.maxBufferHole);this._tryFixBufferStall(L,x)}else this.stalled=I}}}else if(this.moved=!0,g!==null){if(this.stallReported){var $=self.performance.now()-g;o.logger.warn("playback not stuck anymore @"+h+", after "+Math.round($)+"ms"),this.stallReported=!1}this.stalled=null,this.nudgeRetry=0}},S._tryFixBufferStall=function(E,m){var f=this.config,g=this.fragmentTracker,h=this.media.currentTime,y=g.getPartialFragment(h);y&&this._trySkipBufferHole(y)||E.len>f.maxBufferHole&&m>1e3*f.highBufferWatchdogPeriod&&(o.logger.warn("Trying to nudge playhead over buffer-hole"),this.stalled=null,this._tryNudgeBuffer())},S._reportStall=function(E){var m=this.hls,f=this.media;this.stallReported||(this.stallReported=!0,o.logger.warn("Playback stalling at @"+f.currentTime+" due to low buffer (buffer="+E+")"),m.trigger(i.Events.ERROR,{type:a.ErrorTypes.MEDIA_ERROR,details:a.ErrorDetails.BUFFER_STALLED_ERROR,fatal:!1,buffer:E}))},S._trySkipBufferHole=function(E){for(var m=this.config,f=this.hls,g=this.media,h=g.currentTime,y=0,b=r.BufferHelper.getBuffered(g),p=0;p<b.length;p++){var C=b.start(p);if(h+m.maxBufferHole>=y&&h<C){var w=Math.max(C+c,g.currentTime+s);return o.logger.warn("skipping hole, adjusting currentTime from "+h+" to "+w),this.moved=!0,this.stalled=null,g.currentTime=w,E&&f.trigger(i.Events.ERROR,{type:a.ErrorTypes.MEDIA_ERROR,details:a.ErrorDetails.BUFFER_SEEK_OVER_HOLE,fatal:!1,reason:"fragment loaded with buffer holes, seeking from "+h+" to "+w,frag:E}),w}y=b.end(p)}return 0},S._tryNudgeBuffer=function(){var E=this.config,m=this.hls,f=this.media,g=f.currentTime,h=(this.nudgeRetry||0)+1;if(this.nudgeRetry=h,h<E.nudgeMaxRetry){var y=g+h*E.nudgeOffset;o.logger.warn("Nudging 'currentTime' from "+g+" to "+y),f.currentTime=y,m.trigger(i.Events.ERROR,{type:a.ErrorTypes.MEDIA_ERROR,details:a.ErrorDetails.BUFFER_NUDGE_ON_STALL,fatal:!1})}else o.logger.error("Playhead still not moving while enough data buffered @"+g+" after "+E.nudgeMaxRetry+" nudges"),m.trigger(i.Events.ERROR,{type:a.ErrorTypes.MEDIA_ERROR,details:a.ErrorDetails.BUFFER_STALLED_ERROR,fatal:!0})},v}()},"./src/controller/id3-track-controller.ts":function(e,t,n){n.r(t);var r=n("./src/events.ts"),a=n("./src/utils/texttrack-utils.ts"),i=n("./src/demux/id3.ts"),o=function(){function l(s){this.hls=void 0,this.id3Track=null,this.media=null,this.hls=s,this._registerListeners()}var u=l.prototype;return u.destroy=function(){this._unregisterListeners()},u._registerListeners=function(){var s=this.hls;s.on(r.Events.MEDIA_ATTACHED,this.onMediaAttached,this),s.on(r.Events.MEDIA_DETACHING,this.onMediaDetaching,this),s.on(r.Events.FRAG_PARSING_METADATA,this.onFragParsingMetadata,this),s.on(r.Events.BUFFER_FLUSHING,this.onBufferFlushing,this)},u._unregisterListeners=function(){var s=this.hls;s.off(r.Events.MEDIA_ATTACHED,this.onMediaAttached,this),s.off(r.Events.MEDIA_DETACHING,this.onMediaDetaching,this),s.off(r.Events.FRAG_PARSING_METADATA,this.onFragParsingMetadata,this),s.off(r.Events.BUFFER_FLUSHING,this.onBufferFlushing,this)},u.onMediaAttached=function(s,c){this.media=c.media},u.onMediaDetaching=function(){this.id3Track&&(Object(a.clearCurrentCues)(this.id3Track),this.id3Track=null,this.media=null)},u.getID3Track=function(s){if(this.media){for(var c=0;c<s.length;c++){var d=s[c];if(d.kind==="metadata"&&d.label==="id3")return Object(a.sendAddTrackEvent)(d,this.media),d}return this.media.addTextTrack("metadata","id3")}},u.onFragParsingMetadata=function(s,c){if(this.media){var d=c.frag,v=c.samples;this.id3Track||(this.id3Track=this.getID3Track(this.media.textTracks),this.id3Track.mode="hidden");for(var S=self.WebKitDataCue||self.VTTCue||self.TextTrackCue,E=0;E<v.length;E++){var m=i.getID3Frames(v[E].data);if(m){var f=v[E].pts,g=E<v.length-1?v[E+1].pts:d.end;g-f<=0&&(g=f+.25);for(var h=0;h<m.length;h++){var y=m[h];if(!i.isTimeStampFrame(y)){var b=new S(f,g,"");b.value=y,this.id3Track.addCue(b)}}}}}},u.onBufferFlushing=function(s,c){var d=c.startOffset,v=c.endOffset,S=c.type;if(!S||S==="audio"){var E=this.id3Track;E&&Object(a.removeCuesInRange)(E,d,v)}},l}();t.default=o},"./src/controller/latency-controller.ts":function(e,t,n){n.r(t),n.d(t,"default",function(){return l});var r=n("./src/errors.ts"),a=n("./src/events.ts"),i=n("./src/utils/logger.ts");function o(u,s){for(var c=0;c<s.length;c++){var d=s[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(u,d.key,d)}}var l=function(){function u(v){var S=this;this.hls=void 0,this.config=void 0,this.media=null,this.levelDetails=null,this.currentTime=0,this.stallCount=0,this._latency=null,this.timeupdateHandler=function(){return S.timeupdate()},this.hls=v,this.config=v.config,this.registerListeners()}var s,c,d=u.prototype;return d.destroy=function(){this.unregisterListeners(),this.onMediaDetaching(),this.levelDetails=null,this.hls=this.timeupdateHandler=null},d.registerListeners=function(){this.hls.on(a.Events.MEDIA_ATTACHED,this.onMediaAttached,this),this.hls.on(a.Events.MEDIA_DETACHING,this.onMediaDetaching,this),this.hls.on(a.Events.MANIFEST_LOADING,this.onManifestLoading,this),this.hls.on(a.Events.LEVEL_UPDATED,this.onLevelUpdated,this),this.hls.on(a.Events.ERROR,this.onError,this)},d.unregisterListeners=function(){this.hls.off(a.Events.MEDIA_ATTACHED,this.onMediaAttached),this.hls.off(a.Events.MEDIA_DETACHING,this.onMediaDetaching),this.hls.off(a.Events.MANIFEST_LOADING,this.onManifestLoading),this.hls.off(a.Events.LEVEL_UPDATED,this.onLevelUpdated),this.hls.off(a.Events.ERROR,this.onError)},d.onMediaAttached=function(v,S){this.media=S.media,this.media.addEventListener("timeupdate",this.timeupdateHandler)},d.onMediaDetaching=function(){this.media&&(this.media.removeEventListener("timeupdate",this.timeupdateHandler),this.media=null)},d.onManifestLoading=function(){this.levelDetails=null,this._latency=null,this.stallCount=0},d.onLevelUpdated=function(v,S){var E=S.details;this.levelDetails=E,E.advanced&&this.timeupdate(),!E.live&&this.media&&this.media.removeEventListener("timeupdate",this.timeupdateHandler)},d.onError=function(v,S){S.details===r.ErrorDetails.BUFFER_STALLED_ERROR&&(this.stallCount++,i.logger.warn("[playback-rate-controller]: Stall detected, adjusting target latency"))},d.timeupdate=function(){var v=this.media,S=this.levelDetails;if(v&&S){this.currentTime=v.currentTime;var E=this.computeLatency();if(E!==null){this._latency=E;var m=this.config,f=m.lowLatencyMode,g=m.maxLiveSyncPlaybackRate;if(f&&g!==1){var h=this.targetLatency;if(h!==null){var y=E-h,b=y<Math.min(this.maxLatency,h+S.targetduration);if(S.live&&b&&y>.05&&this.forwardBufferLength>1){var p=Math.min(2,Math.max(1,g)),C=Math.round(2/(1+Math.exp(-.75*y-this.edgeStalled))*20)/20;v.playbackRate=Math.min(p,Math.max(1,C))}else v.playbackRate!==1&&v.playbackRate!==0&&(v.playbackRate=1)}}}}},d.estimateLiveEdge=function(){var v=this.levelDetails;return v===null?null:v.edge+v.age},d.computeLatency=function(){var v=this.estimateLiveEdge();return v===null?null:v-this.currentTime},s=u,(c=[{key:"latency",get:function(){return this._latency||0}},{key:"maxLatency",get:function(){var v=this.config,S=this.levelDetails;return v.liveMaxLatencyDuration!==void 0?v.liveMaxLatencyDuration:S?v.liveMaxLatencyDurationCount*S.targetduration:0}},{key:"targetLatency",get:function(){var v=this.levelDetails;if(v===null)return null;var S=v.holdBack,E=v.partHoldBack,m=v.targetduration,f=this.config,g=f.liveSyncDuration,h=f.liveSyncDurationCount,y=f.lowLatencyMode,b=this.hls.userConfig,p=y&&E||S;(b.liveSyncDuration||b.liveSyncDurationCount||p===0)&&(p=g!==void 0?g:h*m);var C=m;return p+Math.min(1*this.stallCount,C)}},{key:"liveSyncPosition",get:function(){var v=this.estimateLiveEdge(),S=this.targetLatency,E=this.levelDetails;if(v===null||S===null||E===null)return null;var m=E.edge,f=v-S-this.edgeStalled,g=m-E.totalduration,h=m-(this.config.lowLatencyMode&&E.partTarget||E.targetduration);return Math.min(Math.max(g,f),h)}},{key:"drift",get:function(){var v=this.levelDetails;return v===null?1:v.drift}},{key:"edgeStalled",get:function(){var v=this.levelDetails;if(v===null)return 0;var S=3*(this.config.lowLatencyMode&&v.partTarget||v.targetduration);return Math.max(v.age-S,0)}},{key:"forwardBufferLength",get:function(){var v=this.media,S=this.levelDetails;if(!v||!S)return 0;var E=v.buffered.length;return E?v.buffered.end(E-1):S.edge-this.currentTime}}])&&o(s.prototype,c),u}()},"./src/controller/level-controller.ts":function(e,t,n){n.r(t),n.d(t,"default",function(){return E});var r=n("./src/types/level.ts"),a=n("./src/events.ts"),i=n("./src/errors.ts"),o=n("./src/utils/codecs.ts"),l=n("./src/controller/level-helper.ts"),u=n("./src/controller/base-playlist-controller.ts"),s=n("./src/types/loader.ts");function c(){return(c=Object.assign||function(m){for(var f=1;f<arguments.length;f++){var g=arguments[f];for(var h in g)Object.prototype.hasOwnProperty.call(g,h)&&(m[h]=g[h])}return m}).apply(this,arguments)}function d(m,f){for(var g=0;g<f.length;g++){var h=f[g];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(m,h.key,h)}}function v(m,f){return(v=Object.setPrototypeOf||function(g,h){return g.__proto__=h,g})(m,f)}var S=/chrome|firefox/.test(navigator.userAgent.toLowerCase()),E=function(m){var f,g;function h(C){var w;return(w=m.call(this,C,"[level-controller]")||this)._levels=[],w._firstLevel=-1,w._startLevel=void 0,w.currentLevelIndex=-1,w.manualLevelIndex=-1,w.onParsedComplete=void 0,w._registerListeners(),w}g=m,(f=h).prototype=Object.create(g.prototype),f.prototype.constructor=f,v(f,g);var y,b,p=h.prototype;return p._registerListeners=function(){var C=this.hls;C.on(a.Events.MANIFEST_LOADED,this.onManifestLoaded,this),C.on(a.Events.LEVEL_LOADED,this.onLevelLoaded,this),C.on(a.Events.AUDIO_TRACK_SWITCHED,this.onAudioTrackSwitched,this),C.on(a.Events.FRAG_LOADED,this.onFragLoaded,this),C.on(a.Events.ERROR,this.onError,this)},p._unregisterListeners=function(){var C=this.hls;C.off(a.Events.MANIFEST_LOADED,this.onManifestLoaded,this),C.off(a.Events.LEVEL_LOADED,this.onLevelLoaded,this),C.off(a.Events.AUDIO_TRACK_SWITCHED,this.onAudioTrackSwitched,this),C.off(a.Events.FRAG_LOADED,this.onFragLoaded,this),C.off(a.Events.ERROR,this.onError,this)},p.destroy=function(){this._unregisterListeners(),this.manualLevelIndex=-1,this._levels.length=0,m.prototype.destroy.call(this)},p.startLoad=function(){this._levels.forEach(function(C){C.loadError=0}),m.prototype.startLoad.call(this)},p.onManifestLoaded=function(C,w){var k,_,T=[],O=[],A=[],P={},D=!1,I=!1,x=!1;if(w.levels.forEach(function(j){var F=j.attrs;D=D||!(!j.width||!j.height),I=I||!!j.videoCodec,x=x||!!j.audioCodec,S&&j.audioCodec&&j.audioCodec.indexOf("mp4a.40.34")!==-1&&(j.audioCodec=void 0);var U=j.bitrate+"-"+j.attrs.RESOLUTION+"-"+j.attrs.CODECS;(_=P[U])?_.url.push(j.url):(_=new r.Level(j),P[U]=_,T.push(_)),F&&(F.AUDIO&&Object(l.addGroupId)(_,"audio",F.AUDIO),F.SUBTITLES&&Object(l.addGroupId)(_,"text",F.SUBTITLES))}),(D||I)&&x&&(T=T.filter(function(j){var F=j.videoCodec,U=j.width,B=j.height;return!!F||!(!U||!B)})),T=T.filter(function(j){var F=j.audioCodec,U=j.videoCodec;return(!F||Object(o.isCodecSupportedInMp4)(F,"audio"))&&(!U||Object(o.isCodecSupportedInMp4)(U,"video"))}),w.audioTracks&&(O=w.audioTracks.filter(function(j){return!j.audioCodec||Object(o.isCodecSupportedInMp4)(j.audioCodec,"audio")}),Object(l.assignTrackIdsByGroup)(O)),w.subtitles&&(A=w.subtitles,Object(l.assignTrackIdsByGroup)(A)),T.length>0){k=T[0].bitrate,T.sort(function(j,F){return j.bitrate-F.bitrate}),this._levels=T;for(var L=0;L<T.length;L++)if(T[L].bitrate===k){this._firstLevel=L,this.log("manifest loaded, "+T.length+" level(s) found, first bitrate: "+k);break}var $=x&&!I,M={levels:T,audioTracks:O,subtitleTracks:A,firstLevel:this._firstLevel,stats:w.stats,audio:x,video:I,altAudio:!$&&O.some(function(j){return!!j.url})};this.hls.trigger(a.Events.MANIFEST_PARSED,M),(this.hls.config.autoStartLoad||this.hls.forceStartLoad)&&this.hls.startLoad(this.hls.config.startPosition)}else this.hls.trigger(a.Events.ERROR,{type:i.ErrorTypes.MEDIA_ERROR,details:i.ErrorDetails.MANIFEST_INCOMPATIBLE_CODECS_ERROR,fatal:!0,url:w.url,reason:"no level with compatible codecs found in manifest"})},p.onError=function(C,w){if(m.prototype.onError.call(this,C,w),!w.fatal){var k=w.context,_=this._levels[this.currentLevelIndex];if(k&&(k.type===s.PlaylistContextType.AUDIO_TRACK&&_.audioGroupIds&&k.groupId===_.audioGroupIds[_.urlId]||k.type===s.PlaylistContextType.SUBTITLE_TRACK&&_.textGroupIds&&k.groupId===_.textGroupIds[_.urlId]))this.redundantFailover(this.currentLevelIndex);else{var T,O=!1,A=!0;switch(w.details){case i.ErrorDetails.FRAG_LOAD_ERROR:case i.ErrorDetails.FRAG_LOAD_TIMEOUT:case i.ErrorDetails.KEY_LOAD_ERROR:case i.ErrorDetails.KEY_LOAD_TIMEOUT:if(w.frag){var P=this._levels[w.frag.level];P?(P.fragmentError++,P.fragmentError>this.hls.config.fragLoadingMaxRetry&&(T=w.frag.level)):T=w.frag.level}break;case i.ErrorDetails.LEVEL_LOAD_ERROR:case i.ErrorDetails.LEVEL_LOAD_TIMEOUT:k&&(k.deliveryDirectives&&(A=!1),T=k.level),O=!0;break;case i.ErrorDetails.REMUX_ALLOC_ERROR:T=w.level,O=!0}T!==void 0&&this.recoverLevel(w,T,O,A)}}},p.recoverLevel=function(C,w,k,_){var T=C.details,O=this._levels[w];if(O.loadError++,k){if(!this.retryLoadingOrFail(C))return void(this.currentLevelIndex=-1);C.levelRetry=!0}if(_){var A=O.url.length;if(A>1&&O.loadError<A)C.levelRetry=!0,this.redundantFailover(w);else if(this.manualLevelIndex===-1){var P=w===0?this._levels.length-1:w-1;this.currentLevelIndex!==P&&this._levels[P].loadError===0&&(this.warn(T+": switch to "+P),C.levelRetry=!0,this.hls.nextAutoLevel=P)}}},p.redundantFailover=function(C){var w=this._levels[C],k=w.url.length;if(k>1){var _=(w.urlId+1)%k;this.warn("Switching to redundant URL-id "+_),this._levels.forEach(function(T){T.urlId=_}),this.level=C}},p.onFragLoaded=function(C,w){var k=w.frag;if(k!==void 0&&k.type===s.PlaylistLevelType.MAIN){var _=this._levels[k.level];_!==void 0&&(_.fragmentError=0,_.loadError=0)}},p.onLevelLoaded=function(C,w){var k,_,T=w.level,O=w.details,A=this._levels[T];if(!A)return this.warn("Invalid level index "+T),void((_=w.deliveryDirectives)!==null&&_!==void 0&&_.skip&&(O.deltaUpdateFailed=!0));T===this.currentLevelIndex?(A.fragmentError===0&&(A.loadError=0,this.retryCount=0),this.playlistLoaded(T,w,A.details)):(k=w.deliveryDirectives)!==null&&k!==void 0&&k.skip&&(O.deltaUpdateFailed=!0)},p.onAudioTrackSwitched=function(C,w){var k=this.hls.levels[this.currentLevelIndex];if(k&&k.audioGroupIds){for(var _=-1,T=this.hls.audioTracks[w.id].groupId,O=0;O<k.audioGroupIds.length;O++)if(k.audioGroupIds[O]===T){_=O;break}_!==k.urlId&&(k.urlId=_,this.startLoad())}},p.loadPlaylist=function(C){var w=this.currentLevelIndex,k=this._levels[w];if(this.canLoad&&k&&k.url.length>0){var _=k.urlId,T=k.url[_];if(C)try{T=C.addDirectives(T)}catch(O){this.warn("Could not construct new URL with HLS Delivery Directives: "+O)}this.log("Attempt loading level index "+w+(C?" at sn "+C.msn+" part "+C.part:"")+" with URL-id "+_+" "+T),this.clearTimer(),this.hls.trigger(a.Events.LEVEL_LOADING,{url:T,level:w,id:_,deliveryDirectives:C||null})}},p.removeLevel=function(C,w){var k=function(T,O){return O!==w},_=this._levels.filter(function(T,O){return O!==C||T.url.length>1&&w!==void 0&&(T.url=T.url.filter(k),T.audioGroupIds&&(T.audioGroupIds=T.audioGroupIds.filter(k)),T.textGroupIds&&(T.textGroupIds=T.textGroupIds.filter(k)),T.urlId=0,!0)}).map(function(T,O){var A=T.details;return A!=null&&A.fragments&&A.fragments.forEach(function(P){P.level=O}),T});this._levels=_,this.hls.trigger(a.Events.LEVELS_UPDATED,{levels:_})},y=h,(b=[{key:"levels",get:function(){return this._levels.length===0?null:this._levels}},{key:"level",get:function(){return this.currentLevelIndex},set:function(C){var w,k=this._levels;if(k.length!==0&&(this.currentLevelIndex!==C||(w=k[C])===null||w===void 0||!w.details)){if(C<0||C>=k.length){var _=C<0;if(this.hls.trigger(a.Events.ERROR,{type:i.ErrorTypes.OTHER_ERROR,details:i.ErrorDetails.LEVEL_SWITCH_ERROR,level:C,fatal:_,reason:"invalid level idx"}),_)return;C=Math.min(C,k.length-1)}this.clearTimer();var T=this.currentLevelIndex,O=k[T],A=k[C];this.log("switching to level "+C+" from "+T),this.currentLevelIndex=C;var P=c({},A,{level:C,maxBitrate:A.maxBitrate,uri:A.uri,urlId:A.urlId});delete P._urlId,this.hls.trigger(a.Events.LEVEL_SWITCHING,P);var D=A.details;if(!D||D.live){var I=this.switchParams(A.uri,O==null?void 0:O.details);this.loadPlaylist(I)}}}},{key:"manualLevel",get:function(){return this.manualLevelIndex},set:function(C){this.manualLevelIndex=C,this._startLevel===void 0&&(this._startLevel=C),C!==-1&&(this.level=C)}},{key:"firstLevel",get:function(){return this._firstLevel},set:function(C){this._firstLevel=C}},{key:"startLevel",get:function(){if(this._startLevel===void 0){var C=this.hls.config.startLevel;return C!==void 0?C:this._firstLevel}return this._startLevel},set:function(C){this._startLevel=C}},{key:"nextLoadLevel",get:function(){return this.manualLevelIndex!==-1?this.manualLevelIndex:this.hls.nextAutoLevel},set:function(C){this.level=C,this.manualLevelIndex===-1&&(this.hls.nextAutoLevel=C)}}])&&d(y.prototype,b),h}(u.default)},"./src/controller/level-helper.ts":function(e,t,n){n.r(t),n.d(t,"addGroupId",function(){return i}),n.d(t,"assignTrackIdsByGroup",function(){return o}),n.d(t,"updatePTS",function(){return l}),n.d(t,"updateFragPTSDTS",function(){return s}),n.d(t,"mergeDetails",function(){return c}),n.d(t,"mapPartIntersection",function(){return d}),n.d(t,"mapFragmentIntersection",function(){return v}),n.d(t,"adjustSliding",function(){return S}),n.d(t,"addSliding",function(){return E}),n.d(t,"computeReloadInterval",function(){return m}),n.d(t,"getFragmentWithSN",function(){return f}),n.d(t,"getPartWith",function(){return g});var r=n("./src/polyfills/number.ts"),a=n("./src/utils/logger.ts");function i(h,y,b){switch(y){case"audio":h.audioGroupIds||(h.audioGroupIds=[]),h.audioGroupIds.push(b);break;case"text":h.textGroupIds||(h.textGroupIds=[]),h.textGroupIds.push(b)}}function o(h){var y={};h.forEach(function(b){var p=b.groupId||"";b.id=y[p]=y[p]||0,y[p]++})}function l(h,y,b){u(h[y],h[b])}function u(h,y){var b=y.startPTS;if(Object(r.isFiniteNumber)(b)){var p,C=0;y.sn>h.sn?(C=b-h.start,p=h):(C=h.start-b,p=y),p.duration!==C&&(p.duration=C)}else y.sn>h.sn?h.cc===y.cc&&h.minEndPTS?y.start=h.start+(h.minEndPTS-h.start):y.start=h.start+h.duration:y.start=Math.max(h.start-y.duration,0)}function s(h,y,b,p,C,w){p-b<=0&&(a.logger.warn("Fragment should have a positive duration",y),p=b+y.duration,w=C+y.duration);var k=b,_=p,T=y.startPTS,O=y.endPTS;if(Object(r.isFiniteNumber)(T)){var A=Math.abs(T-b);Object(r.isFiniteNumber)(y.deltaPTS)?y.deltaPTS=Math.max(A,y.deltaPTS):y.deltaPTS=A,k=Math.max(b,T),b=Math.min(b,T),C=Math.min(C,y.startDTS),_=Math.min(p,O),p=Math.max(p,O),w=Math.max(w,y.endDTS)}y.duration=p-b;var P=b-y.start;y.appendedPTS=p,y.start=y.startPTS=b,y.maxStartPTS=k,y.startDTS=C,y.endPTS=p,y.minEndPTS=_,y.endDTS=w;var D,I=y.sn;if(!h||I<h.startSN||I>h.endSN)return 0;var x=I-h.startSN,L=h.fragments;for(L[x]=y,D=x;D>0;D--)u(L[D],L[D-1]);for(D=x;D<L.length-1;D++)u(L[D],L[D+1]);return h.fragmentHint&&u(L[L.length-1],h.fragmentHint),h.PTSKnown=h.alignedSliding=!0,P}function c(h,y){for(var b=null,p=h.fragments,C=p.length-1;C>=0;C--){var w=p[C].initSegment;if(w){b=w;break}}h.fragmentHint&&delete h.fragmentHint.endPTS;var k,_=0;if(v(h,y,function(I,x){var L;I.relurl&&(_=I.cc-x.cc),Object(r.isFiniteNumber)(I.startPTS)&&Object(r.isFiniteNumber)(I.endPTS)&&(x.start=x.startPTS=I.startPTS,x.startDTS=I.startDTS,x.appendedPTS=I.appendedPTS,x.maxStartPTS=I.maxStartPTS,x.endPTS=I.endPTS,x.endDTS=I.endDTS,x.minEndPTS=I.minEndPTS,x.duration=I.endPTS-I.startPTS,x.duration&&(k=x),y.PTSKnown=y.alignedSliding=!0),x.elementaryStreams=I.elementaryStreams,x.loader=I.loader,x.stats=I.stats,x.urlId=I.urlId,I.initSegment?(x.initSegment=I.initSegment,b=I.initSegment):x.initSegment&&x.initSegment.relurl!=((L=b)===null||L===void 0?void 0:L.relurl)||(x.initSegment=b)}),y.skippedSegments&&(y.deltaUpdateFailed=y.fragments.some(function(I){return!I}),y.deltaUpdateFailed)){a.logger.warn("[level-helper] Previous playlist missing segments skipped in delta playlist");for(var T=y.skippedSegments;T--;)y.fragments.shift();y.startSN=y.fragments[0].sn,y.startCC=y.fragments[0].cc}var O=y.fragments;if(_){a.logger.warn("discontinuity sliding from playlist, take drift into account");for(var A=0;A<O.length;A++)O[A].cc+=_}y.skippedSegments&&(y.startCC=y.fragments[0].cc),d(h.partList,y.partList,function(I,x){x.elementaryStreams=I.elementaryStreams,x.stats=I.stats}),k?s(y,k,k.startPTS,k.endPTS,k.startDTS,k.endDTS):S(h,y),O.length&&(y.totalduration=y.edge-O[0].start),y.driftStartTime=h.driftStartTime,y.driftStart=h.driftStart;var P=y.advancedDateTime;if(y.advanced&&P){var D=y.edge;y.driftStart||(y.driftStartTime=P,y.driftStart=D),y.driftEndTime=P,y.driftEnd=D}else y.driftEndTime=h.driftEndTime,y.driftEnd=h.driftEnd,y.advancedDateTime=h.advancedDateTime}function d(h,y,b){if(h&&y)for(var p=0,C=0,w=h.length;C<=w;C++){var k=h[C],_=y[C+p];k&&_&&k.index===_.index&&k.fragment.sn===_.fragment.sn?b(k,_):p--}}function v(h,y,b){for(var p=y.skippedSegments,C=Math.max(h.startSN,y.startSN)-y.startSN,w=(h.fragmentHint?1:0)+(p?y.endSN:Math.min(h.endSN,y.endSN))-y.startSN,k=y.startSN-h.startSN,_=y.fragmentHint?y.fragments.concat(y.fragmentHint):y.fragments,T=h.fragmentHint?h.fragments.concat(h.fragmentHint):h.fragments,O=C;O<=w;O++){var A=T[k+O],P=_[O];p&&!P&&O<p&&(P=y.fragments[O]=A),A&&P&&b(A,P)}}function S(h,y){var b=y.startSN+y.skippedSegments-h.startSN,p=h.fragments;b<0||b>=p.length||E(y,p[b].start)}function E(h,y){if(y){for(var b=h.fragments,p=h.skippedSegments;p<b.length;p++)b[p].start+=y;h.fragmentHint&&(h.fragmentHint.start+=y)}}function m(h,y){var b,p=1e3*h.levelTargetDuration,C=p/2,w=h.age,k=w>0&&w<3*p,_=y.loading.end-y.loading.start,T=h.availabilityDelay;if(h.updated===!1)if(k){var O=333*h.misses;b=Math.max(Math.min(C,2*_),O),h.availabilityDelay=(h.availabilityDelay||0)+b}else b=C;else k?(T=Math.min(T||p/2,w),h.availabilityDelay=T,b=T+p-w):b=p-_;return Math.round(b)}function f(h,y,b){if(!h||!h.details)return null;var p=h.details,C=p.fragments[y-p.startSN];return C||((C=p.fragmentHint)&&C.sn===y?C:y<p.startSN&&b&&b.sn===y?b:null)}function g(h,y,b){if(!h||!h.details)return null;var p=h.details.partList;if(p)for(var C=p.length;C--;){var w=p[C];if(w.index===b&&w.fragment.sn===y)return w}return null}},"./src/controller/stream-controller.ts":function(e,t,n){n.r(t),n.d(t,"default",function(){return h});var r=n("./src/polyfills/number.ts"),a=n("./src/controller/base-stream-controller.ts"),i=n("./src/is-supported.ts"),o=n("./src/events.ts"),l=n("./src/utils/buffer-helper.ts"),u=n("./src/controller/fragment-tracker.ts"),s=n("./src/types/loader.ts"),c=n("./src/loader/fragment.ts"),d=n("./src/demux/transmuxer-interface.ts"),v=n("./src/types/transmuxer.ts"),S=n("./src/controller/gap-controller.ts"),E=n("./src/errors.ts"),m=n("./src/utils/logger.ts");function f(y,b){for(var p=0;p<b.length;p++){var C=b[p];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(y,C.key,C)}}function g(y,b){return(g=Object.setPrototypeOf||function(p,C){return p.__proto__=C,p})(y,b)}var h=function(y){var b,p;function C(T,O){var A;return(A=y.call(this,T,O,"[stream-controller]")||this).audioCodecSwap=!1,A.gapController=null,A.level=-1,A._forceStartLoad=!1,A.altAudio=!1,A.audioOnly=!1,A.fragPlaying=null,A.onvplaying=null,A.onvseeked=null,A.fragLastKbps=0,A.stalled=!1,A.couldBacktrack=!1,A.audioCodecSwitch=!1,A.videoBuffer=null,A._registerListeners(),A}p=y,(b=C).prototype=Object.create(p.prototype),b.prototype.constructor=b,g(b,p);var w,k,_=C.prototype;return _._registerListeners=function(){var T=this.hls;T.on(o.Events.MEDIA_ATTACHED,this.onMediaAttached,this),T.on(o.Events.MEDIA_DETACHING,this.onMediaDetaching,this),T.on(o.Events.MANIFEST_LOADING,this.onManifestLoading,this),T.on(o.Events.MANIFEST_PARSED,this.onManifestParsed,this),T.on(o.Events.LEVEL_LOADING,this.onLevelLoading,this),T.on(o.Events.LEVEL_LOADED,this.onLevelLoaded,this),T.on(o.Events.FRAG_LOAD_EMERGENCY_ABORTED,this.onFragLoadEmergencyAborted,this),T.on(o.Events.ERROR,this.onError,this),T.on(o.Events.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),T.on(o.Events.AUDIO_TRACK_SWITCHED,this.onAudioTrackSwitched,this),T.on(o.Events.BUFFER_CREATED,this.onBufferCreated,this),T.on(o.Events.BUFFER_FLUSHED,this.onBufferFlushed,this),T.on(o.Events.LEVELS_UPDATED,this.onLevelsUpdated,this),T.on(o.Events.FRAG_BUFFERED,this.onFragBuffered,this)},_._unregisterListeners=function(){var T=this.hls;T.off(o.Events.MEDIA_ATTACHED,this.onMediaAttached,this),T.off(o.Events.MEDIA_DETACHING,this.onMediaDetaching,this),T.off(o.Events.MANIFEST_LOADING,this.onManifestLoading,this),T.off(o.Events.MANIFEST_PARSED,this.onManifestParsed,this),T.off(o.Events.LEVEL_LOADED,this.onLevelLoaded,this),T.off(o.Events.FRAG_LOAD_EMERGENCY_ABORTED,this.onFragLoadEmergencyAborted,this),T.off(o.Events.ERROR,this.onError,this),T.off(o.Events.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),T.off(o.Events.AUDIO_TRACK_SWITCHED,this.onAudioTrackSwitched,this),T.off(o.Events.BUFFER_CREATED,this.onBufferCreated,this),T.off(o.Events.BUFFER_FLUSHED,this.onBufferFlushed,this),T.off(o.Events.LEVELS_UPDATED,this.onLevelsUpdated,this),T.off(o.Events.FRAG_BUFFERED,this.onFragBuffered,this)},_.onHandlerDestroying=function(){this._unregisterListeners(),this.onMediaDetaching()},_.startLoad=function(T){if(this.levels){var O=this.lastCurrentTime,A=this.hls;if(this.stopLoad(),this.setInterval(100),this.level=-1,this.fragLoadError=0,!this.startFragRequested){var P=A.startLevel;P===-1&&(A.config.testBandwidth?(P=0,this.bitrateTest=!0):P=A.nextAutoLevel),this.level=A.nextLoadLevel=P,this.loadedmetadata=!1}O>0&&T===-1&&(this.log("Override startPosition with lastCurrentTime @"+O.toFixed(3)),T=O),this.state=a.State.IDLE,this.nextLoadPosition=this.startPosition=this.lastCurrentTime=T,this.tick()}else this._forceStartLoad=!0,this.state=a.State.STOPPED},_.stopLoad=function(){this._forceStartLoad=!1,y.prototype.stopLoad.call(this)},_.doTick=function(){switch(this.state){case a.State.IDLE:this.doTickIdle();break;case a.State.WAITING_LEVEL:var T,O=this.levels,A=this.level,P=O==null||(T=O[A])===null||T===void 0?void 0:T.details;if(P&&(!P.live||this.levelLastLoaded===this.level)){if(this.waitForCdnTuneIn(P))break;this.state=a.State.IDLE;break}break;case a.State.FRAG_LOADING_WAITING_RETRY:var D,I=self.performance.now(),x=this.retryDate;(!x||I>=x||(D=this.media)!==null&&D!==void 0&&D.seeking)&&(this.log("retryDate reached, switch back to IDLE state"),this.state=a.State.IDLE)}this.onTickEnd()},_.onTickEnd=function(){y.prototype.onTickEnd.call(this),this.checkBuffer(),this.checkFragmentChanged()},_.doTickIdle=function(){var T,O,A=this.hls,P=this.levelLastLoaded,D=this.levels,I=this.media,x=A.config,L=A.nextLoadLevel;if(P!==null&&(I||!this.startFragRequested&&x.startFragPrefetch)&&(!this.altAudio||!this.audioOnly)&&D&&D[L]){var $=D[L];this.level=A.nextLoadLevel=L;var M=$.details;if(!M||this.state===a.State.WAITING_LEVEL||M.live&&this.levelLastLoaded!==L)this.state=a.State.WAITING_LEVEL;else{var j=this.getFwdBufferInfo(this.mediaBuffer?this.mediaBuffer:I,s.PlaylistLevelType.MAIN);if(j!==null&&!(j.len>=this.getMaxBufferLength($.maxBitrate))){if(this._streamEnded(j,M)){var F={};return this.altAudio&&(F.type="video"),this.hls.trigger(o.Events.BUFFER_EOS,F),void(this.state=a.State.ENDED)}var U=j.end,B=this.getNextFragment(U,M);if(this.couldBacktrack&&!this.fragPrevious&&B&&B.sn!=="initSegment"){var K=B.sn-M.startSN;K>1&&(B=M.fragments[K-1],this.fragmentTracker.removeFragment(B))}if(B&&this.fragmentTracker.getState(B)===u.FragmentState.OK&&this.nextLoadPosition>U){var V=this.audioOnly&&!this.altAudio?c.ElementaryStreamTypes.AUDIO:c.ElementaryStreamTypes.VIDEO;this.afterBufferFlushed(I,V,s.PlaylistLevelType.MAIN),B=this.getNextFragment(this.nextLoadPosition,M)}B&&(!B.initSegment||B.initSegment.data||this.bitrateTest||(B=B.initSegment),((T=B.decryptdata)===null||T===void 0?void 0:T.keyFormat)!=="identity"||(O=B.decryptdata)!==null&&O!==void 0&&O.key?this.loadFragment(B,M,U):this.loadKey(B,M))}}}},_.loadFragment=function(T,O,A){var P,D=this.fragmentTracker.getState(T);if(this.fragCurrent=T,D===u.FragmentState.BACKTRACKED){var I=this.fragmentTracker.getBacktrackData(T);if(I)return this._handleFragmentLoadProgress(I),void this._handleFragmentLoadComplete(I);D=u.FragmentState.NOT_LOADED}D===u.FragmentState.NOT_LOADED||D===u.FragmentState.PARTIAL?T.sn==="initSegment"?this._loadInitSegment(T):this.bitrateTest?(T.bitrateTest=!0,this.log("Fragment "+T.sn+" of level "+T.level+" is being downloaded to test bitrate and will not be buffered"),this._loadBitrateTestFrag(T)):(this.startFragRequested=!0,y.prototype.loadFragment.call(this,T,O,A)):D===u.FragmentState.APPENDING?this.reduceMaxBufferLength(T.duration)&&this.fragmentTracker.removeFragment(T):((P=this.media)===null||P===void 0?void 0:P.buffered.length)===0&&this.fragmentTracker.removeAllFragments()},_.getAppendedFrag=function(T){var O=this.fragmentTracker.getAppendedFrag(T,s.PlaylistLevelType.MAIN);return O&&"fragment"in O?O.fragment:O},_.getBufferedFrag=function(T){return this.fragmentTracker.getBufferedFrag(T,s.PlaylistLevelType.MAIN)},_.followingBufferedFrag=function(T){return T?this.getBufferedFrag(T.end+.5):null},_.immediateLevelSwitch=function(){this.abortCurrentFrag(),this.flushMainBuffer(0,Number.POSITIVE_INFINITY)},_.nextLevelSwitch=function(){var T=this.levels,O=this.media;if(O!=null&&O.readyState){var A,P=this.getAppendedFrag(O.currentTime);if(P&&P.start>1&&this.flushMainBuffer(0,P.start-1),!O.paused&&T){var D=T[this.hls.nextLoadLevel],I=this.fragLastKbps;A=I&&this.fragCurrent?this.fragCurrent.duration*D.maxBitrate/(1e3*I)+1:0}else A=0;var x=this.getBufferedFrag(O.currentTime+A);if(x){var L=this.followingBufferedFrag(x);if(L){this.abortCurrentFrag();var $=L.maxStartPTS?L.maxStartPTS:L.start,M=L.duration,j=Math.max(x.end,$+Math.min(Math.max(M-this.config.maxFragLookUpTolerance,.5*M),.75*M));this.flushMainBuffer(j,Number.POSITIVE_INFINITY)}}}},_.abortCurrentFrag=function(){var T=this.fragCurrent;this.fragCurrent=null,T!=null&&T.loader&&T.loader.abort(),this.state===a.State.KEY_LOADING&&(this.state=a.State.IDLE),this.nextLoadPosition=this.getLoadPosition()},_.flushMainBuffer=function(T,O){y.prototype.flushMainBuffer.call(this,T,O,this.altAudio?"video":null)},_.onMediaAttached=function(T,O){y.prototype.onMediaAttached.call(this,T,O);var A=O.media;this.onvplaying=this.onMediaPlaying.bind(this),this.onvseeked=this.onMediaSeeked.bind(this),A.addEventListener("playing",this.onvplaying),A.addEventListener("seeked",this.onvseeked),this.gapController=new S.default(this.config,A,this.fragmentTracker,this.hls)},_.onMediaDetaching=function(){var T=this.media;T&&(T.removeEventListener("playing",this.onvplaying),T.removeEventListener("seeked",this.onvseeked),this.onvplaying=this.onvseeked=null,this.videoBuffer=null),this.fragPlaying=null,this.gapController&&(this.gapController.destroy(),this.gapController=null),y.prototype.onMediaDetaching.call(this)},_.onMediaPlaying=function(){this.tick()},_.onMediaSeeked=function(){var T=this.media,O=T?T.currentTime:null;Object(r.isFiniteNumber)(O)&&this.log("Media seeked to "+O.toFixed(3)),this.tick()},_.onManifestLoading=function(){this.log("Trigger BUFFER_RESET"),this.hls.trigger(o.Events.BUFFER_RESET,void 0),this.fragmentTracker.removeAllFragments(),this.couldBacktrack=this.stalled=!1,this.startPosition=this.lastCurrentTime=0,this.fragPlaying=null},_.onManifestParsed=function(T,O){var A,P=!1,D=!1;O.levels.forEach(function(I){(A=I.audioCodec)&&(A.indexOf("mp4a.40.2")!==-1&&(P=!0),A.indexOf("mp4a.40.5")!==-1&&(D=!0))}),this.audioCodecSwitch=P&&D&&!Object(i.changeTypeSupported)(),this.audioCodecSwitch&&this.log("Both AAC/HE-AAC audio found in levels; declaring level codec as HE-AAC"),this.levels=O.levels,this.startFragRequested=!1},_.onLevelLoading=function(T,O){var A=this.levels;if(A&&this.state===a.State.IDLE){var P=A[O.level];(!P.details||P.details.live&&this.levelLastLoaded!==O.level||this.waitForCdnTuneIn(P.details))&&(this.state=a.State.WAITING_LEVEL)}},_.onLevelLoaded=function(T,O){var A,P=this.levels,D=O.level,I=O.details,x=I.totalduration;if(P){this.log("Level "+D+" loaded ["+I.startSN+","+I.endSN+"], cc ["+I.startCC+", "+I.endCC+"] duration:"+x);var L=this.fragCurrent;!L||this.state!==a.State.FRAG_LOADING&&this.state!==a.State.FRAG_LOADING_WAITING_RETRY||L.level!==O.level&&L.loader&&(this.state=a.State.IDLE,L.loader.abort());var $=P[D],M=0;if(I.live||(A=$.details)!==null&&A!==void 0&&A.live){if(I.fragments[0]||(I.deltaUpdateFailed=!0),I.deltaUpdateFailed)return;M=this.alignPlaylists(I,$.details)}if($.details=I,this.levelLastLoaded=D,this.hls.trigger(o.Events.LEVEL_UPDATED,{details:I,level:D}),this.state===a.State.WAITING_LEVEL){if(this.waitForCdnTuneIn(I))return;this.state=a.State.IDLE}this.startFragRequested?I.live&&this.synchronizeToLiveEdge(I):this.setStartPosition(I,M),this.tick()}else this.warn("Levels were reset while loading level "+D)},_._handleFragmentLoadProgress=function(T){var O,A=T.frag,P=T.part,D=T.payload,I=this.levels;if(I){var x=I[A.level],L=x.details;if(L){var $=x.videoCodec,M=L.PTSKnown||!L.live,j=(O=A.initSegment)===null||O===void 0?void 0:O.data,F=this._getAudioCodec(x),U=this.transmuxer=this.transmuxer||new d.default(this.hls,s.PlaylistLevelType.MAIN,this._handleTransmuxComplete.bind(this),this._handleTransmuxerFlush.bind(this)),B=P?P.index:-1,K=B!==-1,V=new v.ChunkMetadata(A.level,A.sn,A.stats.chunkCount,D.byteLength,B,K),X=this.initPTS[A.cc];U.push(D,j,F,$,A,P,L.totalduration,M,V,X)}else this.warn("Dropping fragment "+A.sn+" of level "+A.level+" after level details were reset")}else this.warn("Levels were reset while fragment load was in progress. Fragment "+A.sn+" of level "+A.level+" will not be buffered")},_.onAudioTrackSwitching=function(T,O){var A=this.altAudio,P=!!O.url,D=O.id;if(!P){if(this.mediaBuffer!==this.media){this.log("Switching on main audio, use media.buffered to schedule main fragment loading"),this.mediaBuffer=this.media;var I=this.fragCurrent;I!=null&&I.loader&&(this.log("Switching to main audio track, cancel main fragment load"),I.loader.abort()),this.resetTransmuxer(),this.resetLoadingState()}else this.audioOnly&&this.resetTransmuxer();var x=this.hls;A&&x.trigger(o.Events.BUFFER_FLUSHING,{startOffset:0,endOffset:Number.POSITIVE_INFINITY,type:"audio"}),x.trigger(o.Events.AUDIO_TRACK_SWITCHED,{id:D})}},_.onAudioTrackSwitched=function(T,O){var A=O.id,P=!!this.hls.audioTracks[A].url;if(P){var D=this.videoBuffer;D&&this.mediaBuffer!==D&&(this.log("Switching on alternate audio, use video.buffered to schedule main fragment loading"),this.mediaBuffer=D)}this.altAudio=P,this.tick()},_.onBufferCreated=function(T,O){var A,P,D=O.tracks,I=!1;for(var x in D){var L=D[x];if(L.id==="main"){if(P=x,A=L,x==="video"){var $=D[x];$&&(this.videoBuffer=$.buffer)}}else I=!0}I&&A?(this.log("Alternate track found, use "+P+".buffered to schedule main fragment loading"),this.mediaBuffer=A.buffer):this.mediaBuffer=this.media},_.onFragBuffered=function(T,O){var A=O.frag,P=O.part;if(!A||A.type===s.PlaylistLevelType.MAIN){if(this.fragContextChanged(A))return this.warn("Fragment "+A.sn+(P?" p: "+P.index:"")+" of level "+A.level+" finished buffering, but was aborted. state: "+this.state),void(this.state===a.State.PARSED&&(this.state=a.State.IDLE));var D=P?P.stats:A.stats;this.fragLastKbps=Math.round(8*D.total/(D.buffering.end-D.loading.first)),A.sn!=="initSegment"&&(this.fragPrevious=A),this.fragBufferedComplete(A,P)}},_.onError=function(T,O){switch(O.details){case E.ErrorDetails.FRAG_LOAD_ERROR:case E.ErrorDetails.FRAG_LOAD_TIMEOUT:case E.ErrorDetails.KEY_LOAD_ERROR:case E.ErrorDetails.KEY_LOAD_TIMEOUT:this.onFragmentOrKeyLoadError(s.PlaylistLevelType.MAIN,O);break;case E.ErrorDetails.LEVEL_LOAD_ERROR:case E.ErrorDetails.LEVEL_LOAD_TIMEOUT:this.state!==a.State.ERROR&&(O.fatal?(this.warn(""+O.details),this.state=a.State.ERROR):O.levelRetry||this.state!==a.State.WAITING_LEVEL||(this.state=a.State.IDLE));break;case E.ErrorDetails.BUFFER_FULL_ERROR:if(O.parent==="main"&&(this.state===a.State.PARSING||this.state===a.State.PARSED)){var A=!0,P=this.getFwdBufferInfo(this.media,s.PlaylistLevelType.MAIN);P&&P.len>.5&&(A=!this.reduceMaxBufferLength(P.len)),A&&(this.warn("buffer full error also media.currentTime is not buffered, flush main"),this.immediateLevelSwitch()),this.resetLoadingState()}}},_.checkBuffer=function(){var T=this.media,O=this.gapController;if(T&&O&&T.readyState){var A=l.BufferHelper.getBuffered(T);!this.loadedmetadata&&A.length?(this.loadedmetadata=!0,this.seekToStartPos()):O.poll(this.lastCurrentTime),this.lastCurrentTime=T.currentTime}},_.onFragLoadEmergencyAborted=function(){this.state=a.State.IDLE,this.loadedmetadata||(this.startFragRequested=!1,this.nextLoadPosition=this.startPosition),this.tickImmediate()},_.onBufferFlushed=function(T,O){var A=O.type;if(A!==c.ElementaryStreamTypes.AUDIO||this.audioOnly&&!this.altAudio){var P=(A===c.ElementaryStreamTypes.VIDEO?this.videoBuffer:this.mediaBuffer)||this.media;this.afterBufferFlushed(P,A,s.PlaylistLevelType.MAIN)}},_.onLevelsUpdated=function(T,O){this.levels=O.levels},_.swapAudioCodec=function(){this.audioCodecSwap=!this.audioCodecSwap},_.seekToStartPos=function(){var T=this.media,O=T.currentTime,A=this.startPosition;if(A>=0&&O<A){if(T.seeking)return void m.logger.log("could not seek to "+A+", already seeking at "+O);var P=l.BufferHelper.getBuffered(T),D=(P.length?P.start(0):0)-A;D>0&&D<this.config.maxBufferHole&&(m.logger.log("adjusting start position by "+D+" to match buffer start"),A+=D,this.startPosition=A),this.log("seek to target start position "+A+" from current time "+O),T.currentTime=A}},_._getAudioCodec=function(T){var O=this.config.defaultAudioCodec||T.audioCodec;return this.audioCodecSwap&&O&&(this.log("Swapping audio codec"),O=O.indexOf("mp4a.40.5")!==-1?"mp4a.40.2":"mp4a.40.5"),O},_._loadBitrateTestFrag=function(T){var O=this;this._doFragLoad(T).then(function(A){var P=O.hls;if(A&&!P.nextLoadLevel&&!O.fragContextChanged(T)){O.fragLoadError=0,O.state=a.State.IDLE,O.startFragRequested=!1,O.bitrateTest=!1;var D=T.stats;D.parsing.start=D.parsing.end=D.buffering.start=D.buffering.end=self.performance.now(),P.trigger(o.Events.FRAG_LOADED,A)}})},_._handleTransmuxComplete=function(T){var O,A="main",P=this.hls,D=T.remuxResult,I=T.chunkMeta,x=this.getCurrentContext(I);if(!x)return this.warn("The loading context changed while buffering fragment "+I.sn+" of level "+I.level+". This chunk will not be buffered."),void this.resetLiveStartWhenNotLoaded(I.level);var L=x.frag,$=x.part,M=x.level,j=D.video,F=D.text,U=D.id3,B=D.initSegment,K=this.altAudio?void 0:D.audio;if(!this.fragContextChanged(L)){if(this.state=a.State.PARSING,B){B.tracks&&(this._bufferInitSegment(M,B.tracks,L,I),P.trigger(o.Events.FRAG_PARSING_INIT_SEGMENT,{frag:L,id:A,tracks:B.tracks}));var V=B.initPTS,X=B.timescale;Object(r.isFiniteNumber)(V)&&(this.initPTS[L.cc]=V,P.trigger(o.Events.INIT_PTS_FOUND,{frag:L,id:A,initPTS:V,timescale:X}))}if(j&&D.independent!==!1){if(M.details){var Z=j.startPTS,ne=j.endPTS,ae=j.startDTS,ye=j.endDTS;if($)$.elementaryStreams[j.type]={startPTS:Z,endPTS:ne,startDTS:ae,endDTS:ye};else if(j.firstKeyFrame&&j.independent&&(this.couldBacktrack=!0),j.dropped&&j.independent){if(this.getLoadPosition()+this.config.maxBufferHole<Z)return void this.backtrack(L);L.setElementaryStreamInfo(j.type,L.start,ne,L.start,ye,!0)}L.setElementaryStreamInfo(j.type,Z,ne,ae,ye),this.bufferFragmentData(j,L,$,I)}}else if(D.independent===!1)return void this.backtrack(L);if(K){var de=K.startPTS,be=K.endPTS,G=K.startDTS,Y=K.endDTS;$&&($.elementaryStreams[c.ElementaryStreamTypes.AUDIO]={startPTS:de,endPTS:be,startDTS:G,endDTS:Y}),L.setElementaryStreamInfo(c.ElementaryStreamTypes.AUDIO,de,be,G,Y),this.bufferFragmentData(K,L,$,I)}if(U!=null&&(O=U.samples)!==null&&O!==void 0&&O.length){var Q={frag:L,id:A,samples:U.samples};P.trigger(o.Events.FRAG_PARSING_METADATA,Q)}if(F){var re={frag:L,id:A,samples:F.samples};P.trigger(o.Events.FRAG_PARSING_USERDATA,re)}}},_._bufferInitSegment=function(T,O,A,P){var D=this;if(this.state===a.State.PARSING){this.audioOnly=!!O.audio&&!O.video,this.altAudio&&!this.audioOnly&&delete O.audio;var I=O.audio,x=O.video,L=O.audiovideo;if(I){var $=T.audioCodec,M=navigator.userAgent.toLowerCase();this.audioCodecSwitch&&($&&($=$.indexOf("mp4a.40.5")!==-1?"mp4a.40.2":"mp4a.40.5"),I.metadata.channelCount!==1&&M.indexOf("firefox")===-1&&($="mp4a.40.5")),M.indexOf("android")!==-1&&I.container!=="audio/mpeg"&&($="mp4a.40.2",this.log("Android: force audio codec to "+$)),T.audioCodec&&T.audioCodec!==$&&this.log('Swapping manifest audio codec "'+T.audioCodec+'" for "'+$+'"'),I.levelCodec=$,I.id="main",this.log("Init audio buffer, container:"+I.container+", codecs[selected/level/parsed]=["+($||"")+"/"+(T.audioCodec||"")+"/"+I.codec+"]")}x&&(x.levelCodec=T.videoCodec,x.id="main",this.log("Init video buffer, container:"+x.container+", codecs[level/parsed]=["+(T.videoCodec||"")+"/"+x.codec+"]")),L&&this.log("Init audiovideo buffer, container:"+L.container+", codecs[level/parsed]=["+(T.attrs.CODECS||"")+"/"+L.codec+"]"),this.hls.trigger(o.Events.BUFFER_CODECS,O),Object.keys(O).forEach(function(j){var F=O[j].initSegment;F!=null&&F.byteLength&&D.hls.trigger(o.Events.BUFFER_APPENDING,{type:j,data:F,frag:A,part:null,chunkMeta:P,parent:A.type})}),this.tick()}},_.backtrack=function(T){this.couldBacktrack=!0,this.resetTransmuxer(),this.flushBufferGap(T);var O=this.fragmentTracker.backtrack(T);this.fragPrevious=null,this.nextLoadPosition=T.start,O?this.resetFragmentLoading(T):this.state=a.State.BACKTRACKING},_.checkFragmentChanged=function(){var T=this.media,O=null;if(T&&T.readyState>1&&T.seeking===!1){var A=T.currentTime;if(l.BufferHelper.isBuffered(T,A)?O=this.getAppendedFrag(A):l.BufferHelper.isBuffered(T,A+.1)&&(O=this.getAppendedFrag(A+.1)),O){var P=this.fragPlaying,D=O.level;P&&O.sn===P.sn&&P.level===D&&O.urlId===P.urlId||(this.hls.trigger(o.Events.FRAG_CHANGED,{frag:O}),P&&P.level===D||this.hls.trigger(o.Events.LEVEL_SWITCHED,{level:D}),this.fragPlaying=O)}}},w=C,(k=[{key:"nextLevel",get:function(){var T=this.nextBufferedFrag;return T?T.level:-1}},{key:"currentLevel",get:function(){var T=this.media;if(T){var O=this.getAppendedFrag(T.currentTime);if(O)return O.level}return-1}},{key:"nextBufferedFrag",get:function(){var T=this.media;if(T){var O=this.getAppendedFrag(T.currentTime);return this.followingBufferedFrag(O)}return null}},{key:"forceStartLoad",get:function(){return this._forceStartLoad}}])&&f(w.prototype,k),C}(a.default)},"./src/controller/subtitle-stream-controller.ts":function(e,t,n){n.r(t),n.d(t,"SubtitleStreamController",function(){return m});var r=n("./src/events.ts"),a=n("./src/utils/logger.ts"),i=n("./src/utils/buffer-helper.ts"),o=n("./src/controller/fragment-finders.ts"),l=n("./src/utils/discontinuities.ts"),u=n("./src/controller/level-helper.ts"),s=n("./src/controller/fragment-tracker.ts"),c=n("./src/controller/base-stream-controller.ts"),d=n("./src/types/loader.ts"),v=n("./src/types/level.ts");function S(f,g){for(var h=0;h<g.length;h++){var y=g[h];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(f,y.key,y)}}function E(f,g){return(E=Object.setPrototypeOf||function(h,y){return h.__proto__=y,h})(f,g)}var m=function(f){var g,h;function y(w,k){var _;return(_=f.call(this,w,k,"[subtitle-stream-controller]")||this).levels=[],_.currentTrackId=-1,_.tracksBuffered=[],_.mainDetails=null,_._registerListeners(),_}h=f,(g=y).prototype=Object.create(h.prototype),g.prototype.constructor=g,E(g,h);var b,p,C=y.prototype;return C.onHandlerDestroying=function(){this._unregisterListeners(),this.mainDetails=null},C._registerListeners=function(){var w=this.hls;w.on(r.Events.MEDIA_ATTACHED,this.onMediaAttached,this),w.on(r.Events.MEDIA_DETACHING,this.onMediaDetaching,this),w.on(r.Events.MANIFEST_LOADING,this.onManifestLoading,this),w.on(r.Events.LEVEL_LOADED,this.onLevelLoaded,this),w.on(r.Events.ERROR,this.onError,this),w.on(r.Events.SUBTITLE_TRACKS_UPDATED,this.onSubtitleTracksUpdated,this),w.on(r.Events.SUBTITLE_TRACK_SWITCH,this.onSubtitleTrackSwitch,this),w.on(r.Events.SUBTITLE_TRACK_LOADED,this.onSubtitleTrackLoaded,this),w.on(r.Events.SUBTITLE_FRAG_PROCESSED,this.onSubtitleFragProcessed,this),w.on(r.Events.BUFFER_FLUSHING,this.onBufferFlushing,this)},C._unregisterListeners=function(){var w=this.hls;w.off(r.Events.MEDIA_ATTACHED,this.onMediaAttached,this),w.off(r.Events.MEDIA_DETACHING,this.onMediaDetaching,this),w.off(r.Events.MANIFEST_LOADING,this.onManifestLoading,this),w.off(r.Events.LEVEL_LOADED,this.onLevelLoaded,this),w.off(r.Events.ERROR,this.onError,this),w.off(r.Events.SUBTITLE_TRACKS_UPDATED,this.onSubtitleTracksUpdated,this),w.off(r.Events.SUBTITLE_TRACK_SWITCH,this.onSubtitleTrackSwitch,this),w.off(r.Events.SUBTITLE_TRACK_LOADED,this.onSubtitleTrackLoaded,this),w.off(r.Events.SUBTITLE_FRAG_PROCESSED,this.onSubtitleFragProcessed,this),w.off(r.Events.BUFFER_FLUSHING,this.onBufferFlushing,this)},C.startLoad=function(){this.stopLoad(),this.state=c.State.IDLE,this.setInterval(500),this.tick()},C.onManifestLoading=function(){this.mainDetails=null,this.fragmentTracker.removeAllFragments()},C.onLevelLoaded=function(w,k){this.mainDetails=k.details},C.onSubtitleFragProcessed=function(w,k){var _=k.frag,T=k.success;if(this.fragPrevious=_,this.state=c.State.IDLE,T){var O=this.tracksBuffered[this.currentTrackId];if(O){for(var A,P=_.start,D=0;D<O.length;D++)if(P>=O[D].start&&P<=O[D].end){A=O[D];break}var I=_.start+_.duration;A?A.end=I:(A={start:P,end:I},O.push(A)),this.fragmentTracker.fragBuffered(_)}}},C.onBufferFlushing=function(w,k){var _=k.startOffset,T=k.endOffset;if(_===0&&T!==Number.POSITIVE_INFINITY){var O=this.currentTrackId,A=this.levels;if(!A.length||!A[O]||!A[O].details)return;var P=T-A[O].details.targetduration;if(P<=0)return;k.endOffsetSubtitles=Math.max(0,P),this.tracksBuffered.forEach(function(D){for(var I=0;I<D.length;)if(D[I].end<=P)D.shift();else{if(!(D[I].start<P))break;D[I].start=P,I++}}),this.fragmentTracker.removeFragmentsInRange(_,P,d.PlaylistLevelType.SUBTITLE)}},C.onError=function(w,k){var _,T=k.frag;T&&T.type===d.PlaylistLevelType.SUBTITLE&&((_=this.fragCurrent)!==null&&_!==void 0&&_.loader&&this.fragCurrent.loader.abort(),this.state=c.State.IDLE)},C.onSubtitleTracksUpdated=function(w,k){var _=this,T=k.subtitleTracks;this.tracksBuffered=[],this.levels=T.map(function(O){return new v.Level(O)}),this.fragmentTracker.removeAllFragments(),this.fragPrevious=null,this.levels.forEach(function(O){_.tracksBuffered[O.id]=[]}),this.mediaBuffer=null},C.onSubtitleTrackSwitch=function(w,k){if(this.currentTrackId=k.id,this.levels.length&&this.currentTrackId!==-1){var _=this.levels[this.currentTrackId];_!=null&&_.details?(this.mediaBuffer=this.mediaBufferTimeRanges,this.setInterval(500)):this.mediaBuffer=null}else this.clearInterval()},C.onSubtitleTrackLoaded=function(w,k){var _,T=k.details,O=k.id,A=this.currentTrackId,P=this.levels;if(P.length){var D=P[A];if(!(O>=P.length||O!==A)&&D){if(this.mediaBuffer=this.mediaBufferTimeRanges,T.live||(_=D.details)!==null&&_!==void 0&&_.live){var I=this.mainDetails;if(T.deltaUpdateFailed||!I)return;var x=I.fragments[0];D.details?this.alignPlaylists(T,D.details)===0&&x&&Object(u.addSliding)(T,x.start):T.hasProgramDateTime&&I.hasProgramDateTime?Object(l.alignPDT)(T,I):x&&Object(u.addSliding)(T,x.start)}D.details=T,this.levelLastLoaded=O,this.tick(),T.live&&!this.fragCurrent&&this.media&&this.state===c.State.IDLE&&(Object(o.findFragmentByPTS)(null,T.fragments,this.media.currentTime,0)||(this.warn("Subtitle playlist not aligned with playback"),D.details=void 0))}}},C._handleFragmentLoadComplete=function(w){var k=w.frag,_=w.payload,T=k.decryptdata,O=this.hls;if(!this.fragContextChanged(k)&&_&&_.byteLength>0&&T&&T.key&&T.iv&&T.method==="AES-128"){var A=performance.now();this.decrypter.webCryptoDecrypt(new Uint8Array(_),T.key.buffer,T.iv.buffer).then(function(P){var D=performance.now();O.trigger(r.Events.FRAG_DECRYPTED,{frag:k,payload:P,stats:{tstart:A,tdecrypt:D}})})}},C.doTick=function(){if(this.media){if(this.state===c.State.IDLE){var w,k=this.currentTrackId,_=this.levels;if(!_.length||!_[k]||!_[k].details)return;var T=_[k].details,O=T.targetduration,A=this.config,P=this.media,D=i.BufferHelper.bufferedInfo(this.mediaBufferTimeRanges,P.currentTime-O,A.maxBufferHole),I=D.end;if(D.len>this.getMaxBufferLength()+O)return;console.assert(T,"Subtitle track details are defined on idle subtitle stream controller tick");var x,L=T.fragments,$=L.length,M=T.edge,j=this.fragPrevious;if(I<M){var F=A.maxFragLookUpTolerance;j&&T.hasProgramDateTime&&(x=Object(o.findFragmentByPDT)(L,j.endProgramDateTime,F)),x||!(x=Object(o.findFragmentByPTS)(j,L,I,F))&&j&&j.start<L[0].start&&(x=L[0])}else x=L[$-1];(w=x)!==null&&w!==void 0&&w.encrypted?(a.logger.log("Loading key for "+x.sn),this.state=c.State.KEY_LOADING,this.hls.trigger(r.Events.KEY_LOADING,{frag:x})):x&&this.fragmentTracker.getState(x)===s.FragmentState.NOT_LOADED&&this.loadFragment(x,T,I)}}else this.state=c.State.IDLE},C.loadFragment=function(w,k,_){this.fragCurrent=w,f.prototype.loadFragment.call(this,w,k,_)},b=y,(p=[{key:"mediaBufferTimeRanges",get:function(){return this.tracksBuffered[this.currentTrackId]||[]}}])&&S(b.prototype,p),y}(c.default)},"./src/controller/subtitle-track-controller.ts":function(e,t,n){n.r(t);var r=n("./src/events.ts"),a=n("./src/utils/texttrack-utils.ts"),i=n("./src/controller/base-playlist-controller.ts"),o=n("./src/types/loader.ts");function l(d,v){for(var S=0;S<v.length;S++){var E=v[S];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(d,E.key,E)}}function u(d,v){return(u=Object.setPrototypeOf||function(S,E){return S.__proto__=E,S})(d,v)}var s=function(d){var v,S;function E(h){var y;return(y=d.call(this,h,"[subtitle-track-controller]")||this).media=null,y.tracks=[],y.groupId=null,y.tracksInGroup=[],y.trackId=-1,y.selectDefaultTrack=!0,y.queuedDefaultTrack=-1,y.trackChangeListener=function(){return y.onTextTracksChanged()},y.asyncPollTrackChange=function(){return y.pollTrackChange(0)},y.useTextTrackPolling=!1,y.subtitlePollingInterval=-1,y.subtitleDisplay=!0,y.registerListeners(),y}S=d,(v=E).prototype=Object.create(S.prototype),v.prototype.constructor=v,u(v,S);var m,f,g=E.prototype;return g.destroy=function(){this.unregisterListeners(),this.tracks.length=0,this.tracksInGroup.length=0,this.trackChangeListener=this.asyncPollTrackChange=null,d.prototype.destroy.call(this)},g.registerListeners=function(){var h=this.hls;h.on(r.Events.MEDIA_ATTACHED,this.onMediaAttached,this),h.on(r.Events.MEDIA_DETACHING,this.onMediaDetaching,this),h.on(r.Events.MANIFEST_LOADING,this.onManifestLoading,this),h.on(r.Events.MANIFEST_PARSED,this.onManifestParsed,this),h.on(r.Events.LEVEL_LOADING,this.onLevelLoading,this),h.on(r.Events.LEVEL_SWITCHING,this.onLevelSwitching,this),h.on(r.Events.SUBTITLE_TRACK_LOADED,this.onSubtitleTrackLoaded,this),h.on(r.Events.ERROR,this.onError,this)},g.unregisterListeners=function(){var h=this.hls;h.off(r.Events.MEDIA_ATTACHED,this.onMediaAttached,this),h.off(r.Events.MEDIA_DETACHING,this.onMediaDetaching,this),h.off(r.Events.MANIFEST_LOADING,this.onManifestLoading,this),h.off(r.Events.MANIFEST_PARSED,this.onManifestParsed,this),h.off(r.Events.LEVEL_LOADING,this.onLevelLoading,this),h.off(r.Events.LEVEL_SWITCHING,this.onLevelSwitching,this),h.off(r.Events.SUBTITLE_TRACK_LOADED,this.onSubtitleTrackLoaded,this),h.off(r.Events.ERROR,this.onError,this)},g.onMediaAttached=function(h,y){this.media=y.media,this.media&&(this.queuedDefaultTrack>-1&&(this.subtitleTrack=this.queuedDefaultTrack,this.queuedDefaultTrack=-1),this.useTextTrackPolling=!(this.media.textTracks&&"onchange"in this.media.textTracks),this.useTextTrackPolling?this.pollTrackChange(500):this.media.textTracks.addEventListener("change",this.asyncPollTrackChange))},g.pollTrackChange=function(h){self.clearInterval(this.subtitlePollingInterval),this.subtitlePollingInterval=self.setInterval(this.trackChangeListener,h)},g.onMediaDetaching=function(){this.media&&(self.clearInterval(this.subtitlePollingInterval),this.useTextTrackPolling||this.media.textTracks.removeEventListener("change",this.asyncPollTrackChange),this.trackId>-1&&(this.queuedDefaultTrack=this.trackId),c(this.media.textTracks).forEach(function(h){Object(a.clearCurrentCues)(h)}),this.subtitleTrack=-1,this.media=null)},g.onManifestLoading=function(){this.tracks=[],this.groupId=null,this.tracksInGroup=[],this.trackId=-1,this.selectDefaultTrack=!0},g.onManifestParsed=function(h,y){this.tracks=y.subtitleTracks},g.onSubtitleTrackLoaded=function(h,y){var b=y.id,p=y.details,C=this.trackId,w=this.tracksInGroup[C];if(w){var k=w.details;w.details=y.details,this.log("subtitle track "+b+" loaded ["+p.startSN+"-"+p.endSN+"]"),b===this.trackId&&(this.retryCount=0,this.playlistLoaded(b,y,k))}else this.warn("Invalid subtitle track id "+b)},g.onLevelLoading=function(h,y){this.switchLevel(y.level)},g.onLevelSwitching=function(h,y){this.switchLevel(y.level)},g.switchLevel=function(h){var y=this.hls.levels[h];if(y!=null&&y.textGroupIds){var b=y.textGroupIds[y.urlId];if(this.groupId!==b){var p=this.tracksInGroup?this.tracksInGroup[this.trackId]:void 0,C=this.tracks.filter(function(_){return!b||_.groupId===b});this.tracksInGroup=C;var w=this.findTrackId(p==null?void 0:p.name)||this.findTrackId();this.groupId=b;var k={subtitleTracks:C};this.log("Updating subtitle tracks, "+C.length+' track(s) found in "'+b+'" group-id'),this.hls.trigger(r.Events.SUBTITLE_TRACKS_UPDATED,k),w!==-1&&this.setSubtitleTrack(w,p)}}},g.findTrackId=function(h){for(var y=this.tracksInGroup,b=0;b<y.length;b++){var p=y[b];if((!this.selectDefaultTrack||p.default)&&(!h||h===p.name))return p.id}return-1},g.onError=function(h,y){d.prototype.onError.call(this,h,y),!y.fatal&&y.context&&y.context.type===o.PlaylistContextType.SUBTITLE_TRACK&&y.context.id===this.trackId&&y.context.groupId===this.groupId&&this.retryLoadingOrFail(y)},g.loadPlaylist=function(h){var y=this.tracksInGroup[this.trackId];if(this.shouldLoadTrack(y)){var b=y.id,p=y.groupId,C=y.url;if(h)try{C=h.addDirectives(C)}catch(w){this.warn("Could not construct new URL with HLS Delivery Directives: "+w)}this.log("Loading subtitle playlist for id "+b),this.hls.trigger(r.Events.SUBTITLE_TRACK_LOADING,{url:C,id:b,groupId:p,deliveryDirectives:h||null})}},g.toggleTrackModes=function(h){var y=this,b=this.media,p=this.subtitleDisplay,C=this.trackId;if(b){var w=c(b.textTracks),k=w.filter(function(O){return O.groupId===y.groupId});if(h===-1)[].slice.call(w).forEach(function(O){O.mode="disabled"});else{var _=k[C];_&&(_.mode="disabled")}var T=k[h];T&&(T.mode=p?"showing":"hidden")}},g.setSubtitleTrack=function(h,y){var b,p=this.tracksInGroup;if(this.media){if(this.trackId!==h&&this.toggleTrackModes(h),!(this.trackId===h&&(h===-1||(b=p[h])!==null&&b!==void 0&&b.details)||h<-1||h>=p.length)){this.clearTimer();var C=p[h];if(this.log("Switching to subtitle track "+h),this.trackId=h,C){var w=C.id,k=C.groupId,_=k===void 0?"":k,T=C.name,O=C.type,A=C.url;this.hls.trigger(r.Events.SUBTITLE_TRACK_SWITCH,{id:w,groupId:_,name:T,type:O,url:A});var P=this.switchParams(C.url,y==null?void 0:y.details);this.loadPlaylist(P)}else this.hls.trigger(r.Events.SUBTITLE_TRACK_SWITCH,{id:h})}}else this.queuedDefaultTrack=h},g.onTextTracksChanged=function(){if(this.useTextTrackPolling||self.clearInterval(this.subtitlePollingInterval),this.media&&this.hls.config.renderTextTracksNatively){for(var h=-1,y=c(this.media.textTracks),b=0;b<y.length;b++)if(y[b].mode==="hidden")h=b;else if(y[b].mode==="showing"){h=b;break}this.subtitleTrack!==h&&(this.subtitleTrack=h)}},m=E,(f=[{key:"subtitleTracks",get:function(){return this.tracksInGroup}},{key:"subtitleTrack",get:function(){return this.trackId},set:function(h){this.selectDefaultTrack=!1;var y=this.tracksInGroup?this.tracksInGroup[this.trackId]:void 0;this.setSubtitleTrack(h,y)}}])&&l(m.prototype,f),E}(i.default);function c(d){for(var v=[],S=0;S<d.length;S++){var E=d[S];E.kind==="subtitles"&&E.label&&v.push(d[S])}return v}t.default=s},"./src/controller/timeline-controller.ts":function(e,t,n){n.r(t),n.d(t,"TimelineController",function(){return v});var r=n("./src/polyfills/number.ts"),a=n("./src/events.ts"),i=n("./src/utils/cea-608-parser.ts"),o=n("./src/utils/output-filter.ts"),l=n("./src/utils/webvtt-parser.ts"),u=n("./src/utils/texttrack-utils.ts"),s=n("./src/utils/imsc1-ttml-parser.ts"),c=n("./src/types/loader.ts"),d=n("./src/utils/logger.ts"),v=function(){function E(f){if(this.hls=void 0,this.media=null,this.config=void 0,this.enabled=!0,this.Cues=void 0,this.textTracks=[],this.tracks=[],this.initPTS=[],this.timescale=[],this.unparsedVttFrags=[],this.captionsTracks={},this.nonNativeCaptionsTracks={},this.cea608Parser1=void 0,this.cea608Parser2=void 0,this.lastSn=-1,this.prevCC=-1,this.vttCCs={ccOffset:0,presentationOffset:0,0:{start:0,prevCC:-1,new:!1}},this.captionsProperties=void 0,this.hls=f,this.config=f.config,this.Cues=f.config.cueHandler,this.captionsProperties={textTrack1:{label:this.config.captionsTextTrack1Label,languageCode:this.config.captionsTextTrack1LanguageCode},textTrack2:{label:this.config.captionsTextTrack2Label,languageCode:this.config.captionsTextTrack2LanguageCode},textTrack3:{label:this.config.captionsTextTrack3Label,languageCode:this.config.captionsTextTrack3LanguageCode},textTrack4:{label:this.config.captionsTextTrack4Label,languageCode:this.config.captionsTextTrack4LanguageCode}},this.config.enableCEA708Captions){var g=new o.default(this,"textTrack1"),h=new o.default(this,"textTrack2"),y=new o.default(this,"textTrack3"),b=new o.default(this,"textTrack4");this.cea608Parser1=new i.default(1,g,h),this.cea608Parser2=new i.default(3,y,b)}f.on(a.Events.MEDIA_ATTACHING,this.onMediaAttaching,this),f.on(a.Events.MEDIA_DETACHING,this.onMediaDetaching,this),f.on(a.Events.MANIFEST_LOADING,this.onManifestLoading,this),f.on(a.Events.MANIFEST_LOADED,this.onManifestLoaded,this),f.on(a.Events.SUBTITLE_TRACKS_UPDATED,this.onSubtitleTracksUpdated,this),f.on(a.Events.FRAG_LOADING,this.onFragLoading,this),f.on(a.Events.FRAG_LOADED,this.onFragLoaded,this),f.on(a.Events.FRAG_PARSING_USERDATA,this.onFragParsingUserdata,this),f.on(a.Events.FRAG_DECRYPTED,this.onFragDecrypted,this),f.on(a.Events.INIT_PTS_FOUND,this.onInitPtsFound,this),f.on(a.Events.SUBTITLE_TRACKS_CLEARED,this.onSubtitleTracksCleared,this),f.on(a.Events.BUFFER_FLUSHING,this.onBufferFlushing,this)}var m=E.prototype;return m.destroy=function(){var f=this.hls;f.off(a.Events.MEDIA_ATTACHING,this.onMediaAttaching,this),f.off(a.Events.MEDIA_DETACHING,this.onMediaDetaching,this),f.off(a.Events.MANIFEST_LOADING,this.onManifestLoading,this),f.off(a.Events.MANIFEST_LOADED,this.onManifestLoaded,this),f.off(a.Events.SUBTITLE_TRACKS_UPDATED,this.onSubtitleTracksUpdated,this),f.off(a.Events.FRAG_LOADING,this.onFragLoading,this),f.off(a.Events.FRAG_LOADED,this.onFragLoaded,this),f.off(a.Events.FRAG_PARSING_USERDATA,this.onFragParsingUserdata,this),f.off(a.Events.FRAG_DECRYPTED,this.onFragDecrypted,this),f.off(a.Events.INIT_PTS_FOUND,this.onInitPtsFound,this),f.off(a.Events.SUBTITLE_TRACKS_CLEARED,this.onSubtitleTracksCleared,this),f.off(a.Events.BUFFER_FLUSHING,this.onBufferFlushing,this),this.hls=this.config=this.cea608Parser1=this.cea608Parser2=null},m.addCues=function(f,g,h,y,b){for(var p,C,w,k,_=!1,T=b.length;T--;){var O=b[T],A=(p=O[0],C=O[1],w=g,k=h,Math.min(C,k)-Math.max(p,w));if(A>=0&&(O[0]=Math.min(O[0],g),O[1]=Math.max(O[1],h),_=!0,A/(h-g)>.5))return}if(_||b.push([g,h]),this.config.renderTextTracksNatively){var P=this.captionsTracks[f];this.Cues.newCue(P,g,h,y)}else{var D=this.Cues.newCue(null,g,h,y);this.hls.trigger(a.Events.CUES_PARSED,{type:"captions",cues:D,track:f})}},m.onInitPtsFound=function(f,g){var h=this,y=g.frag,b=g.id,p=g.initPTS,C=g.timescale,w=this.unparsedVttFrags;b==="main"&&(this.initPTS[y.cc]=p,this.timescale[y.cc]=C),w.length&&(this.unparsedVttFrags=[],w.forEach(function(k){h.onFragLoaded(a.Events.FRAG_LOADED,k)}))},m.getExistingTrack=function(f){var g=this.media;if(g)for(var h=0;h<g.textTracks.length;h++){var y=g.textTracks[h];if(y[f])return y}return null},m.createCaptionsTrack=function(f){this.config.renderTextTracksNatively?this.createNativeTrack(f):this.createNonNativeTrack(f)},m.createNativeTrack=function(f){if(!this.captionsTracks[f]){var g=this.captionsProperties,h=this.captionsTracks,y=this.media,b=g[f],p=b.label,C=b.languageCode,w=this.getExistingTrack(f);if(w)h[f]=w,Object(u.clearCurrentCues)(h[f]),Object(u.sendAddTrackEvent)(h[f],y);else{var k=this.createTextTrack("captions",p,C);k&&(k[f]=!0,h[f]=k)}}},m.createNonNativeTrack=function(f){if(!this.nonNativeCaptionsTracks[f]){var g=this.captionsProperties[f];if(g){var h={_id:f,label:g.label,kind:"captions",default:!!g.media&&!!g.media.default,closedCaptions:g.media};this.nonNativeCaptionsTracks[f]=h,this.hls.trigger(a.Events.NON_NATIVE_TEXT_TRACKS_FOUND,{tracks:[h]})}}},m.createTextTrack=function(f,g,h){var y=this.media;if(y)return y.addTextTrack(f,g,h)},m.onMediaAttaching=function(f,g){this.media=g.media,this._cleanTracks()},m.onMediaDetaching=function(){var f=this.captionsTracks;Object.keys(f).forEach(function(g){Object(u.clearCurrentCues)(f[g]),delete f[g]}),this.nonNativeCaptionsTracks={}},m.onManifestLoading=function(){this.lastSn=-1,this.prevCC=-1,this.vttCCs={ccOffset:0,presentationOffset:0,0:{start:0,prevCC:-1,new:!1}},this._cleanTracks(),this.tracks=[],this.captionsTracks={},this.nonNativeCaptionsTracks={},this.textTracks=[],this.unparsedVttFrags=this.unparsedVttFrags||[],this.initPTS=[],this.timescale=[],this.cea608Parser1&&this.cea608Parser2&&(this.cea608Parser1.reset(),this.cea608Parser2.reset())},m._cleanTracks=function(){var f=this.media;if(f){var g=f.textTracks;if(g)for(var h=0;h<g.length;h++)Object(u.clearCurrentCues)(g[h])}},m.onSubtitleTracksUpdated=function(f,g){var h=this;this.textTracks=[];var y=g.subtitleTracks||[],b=y.some(function(k){return k.textCodec===s.IMSC1_CODEC});if(this.config.enableWebVTT||b&&this.config.enableIMSC1){var p=this.tracks&&y&&this.tracks.length===y.length;if(this.tracks=y||[],this.config.renderTextTracksNatively){var C=this.media?this.media.textTracks:[];this.tracks.forEach(function(k,_){var T;if(_<C.length){for(var O=null,A=0;A<C.length;A++)if(S(C[A],k)){O=C[A];break}O&&(T=O)}T?Object(u.clearCurrentCues)(T):(T=h.createTextTrack("subtitles",k.name,k.lang))&&(T.mode="disabled"),T&&(T.groupId=k.groupId,h.textTracks.push(T))})}else if(!p&&this.tracks&&this.tracks.length){var w=this.tracks.map(function(k){return{label:k.name,kind:k.type.toLowerCase(),default:k.default,subtitleTrack:k}});this.hls.trigger(a.Events.NON_NATIVE_TEXT_TRACKS_FOUND,{tracks:w})}}},m.onManifestLoaded=function(f,g){var h=this;this.config.enableCEA708Captions&&g.captions&&g.captions.forEach(function(y){var b=/(?:CC|SERVICE)([1-4])/.exec(y.instreamId);if(b){var p="textTrack"+b[1],C=h.captionsProperties[p];C&&(C.label=y.name,y.lang&&(C.languageCode=y.lang),C.media=y)}})},m.onFragLoading=function(f,g){var h=this.cea608Parser1,y=this.cea608Parser2,b=this.lastSn;if(this.enabled&&h&&y&&g.frag.type===c.PlaylistLevelType.MAIN){var p=g.frag.sn;p!==b+1&&(h.reset(),y.reset()),this.lastSn=p}},m.onFragLoaded=function(f,g){var h=g.frag,y=g.payload,b=this.initPTS,p=this.unparsedVttFrags;if(h.type===c.PlaylistLevelType.SUBTITLE)if(y.byteLength){if(!Object(r.isFiniteNumber)(b[h.cc]))return p.push(g),void(b.length&&this.hls.trigger(a.Events.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:h,error:new Error("Missing initial subtitle PTS")}));var C=h.decryptdata;if(C==null||C.key==null||C.method!=="AES-128"){var w=this.tracks[h.level],k=this.vttCCs;k[h.cc]||(k[h.cc]={start:h.start,prevCC:this.prevCC,new:!0},this.prevCC=h.cc),w&&w.textCodec===s.IMSC1_CODEC?this._parseIMSC1(h,y):this._parseVTTs(h,y,k)}}else this.hls.trigger(a.Events.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:h,error:new Error("Empty subtitle payload")})},m._parseIMSC1=function(f,g){var h=this,y=this.hls;Object(s.parseIMSC1)(g,this.initPTS[f.cc],this.timescale[f.cc],function(b){h._appendCues(b,f.level),y.trigger(a.Events.SUBTITLE_FRAG_PROCESSED,{success:!0,frag:f})},function(b){d.logger.log("Failed to parse IMSC1: "+b),y.trigger(a.Events.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:f,error:b})})},m._parseVTTs=function(f,g,h){var y=this,b=this.hls;Object(l.parseWebVTT)(g,this.initPTS[f.cc],this.timescale[f.cc],h,f.cc,f.start,function(p){y._appendCues(p,f.level),b.trigger(a.Events.SUBTITLE_FRAG_PROCESSED,{success:!0,frag:f})},function(p){y._fallbackToIMSC1(f,g),d.logger.log("Failed to parse VTT cue: "+p),b.trigger(a.Events.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:f,error:p})})},m._fallbackToIMSC1=function(f,g){var h=this,y=this.tracks[f.level];y.textCodec||Object(s.parseIMSC1)(g,this.initPTS[f.cc],this.timescale[f.cc],function(){y.textCodec=s.IMSC1_CODEC,h._parseIMSC1(f,g)},function(){y.textCodec="wvtt"})},m._appendCues=function(f,g){var h=this.hls;if(this.config.renderTextTracksNatively){var y=this.textTracks[g];if(y.mode==="disabled")return;f.forEach(function(p){return Object(u.addCueToTrack)(y,p)})}else{var b=this.tracks[g].default?"default":"subtitles"+g;h.trigger(a.Events.CUES_PARSED,{type:"subtitles",cues:f,track:b})}},m.onFragDecrypted=function(f,g){var h=g.frag;if(h.type===c.PlaylistLevelType.SUBTITLE){if(!Object(r.isFiniteNumber)(this.initPTS[h.cc]))return void this.unparsedVttFrags.push(g);this.onFragLoaded(a.Events.FRAG_LOADED,g)}},m.onSubtitleTracksCleared=function(){this.tracks=[],this.captionsTracks={}},m.onFragParsingUserdata=function(f,g){var h=this.cea608Parser1,y=this.cea608Parser2;if(this.enabled&&h&&y)for(var b=0;b<g.samples.length;b++){var p=g.samples[b].bytes;if(p){var C=this.extractCea608Data(p);h.addData(g.samples[b].pts,C[0]),y.addData(g.samples[b].pts,C[1])}}},m.onBufferFlushing=function(f,g){var h=g.startOffset,y=g.endOffset,b=g.endOffsetSubtitles,p=g.type,C=this.media;if(C&&!(C.currentTime<y)){if(!p||p==="video"){var w=this.captionsTracks;Object.keys(w).forEach(function(_){return Object(u.removeCuesInRange)(w[_],h,y)})}if(this.config.renderTextTracksNatively&&h===0&&b!==void 0){var k=this.textTracks;Object.keys(k).forEach(function(_){return Object(u.removeCuesInRange)(k[_],h,b)})}}},m.extractCea608Data=function(f){for(var g=31&f[0],h=2,y=[[],[]],b=0;b<g;b++){var p=f[h++],C=127&f[h++],w=127&f[h++],k=3&p;C===0&&w===0||(4&p)!=0&&(k!==0&&k!==1||(y[k].push(C),y[k].push(w)))}return y},E}();function S(E,m){return E&&E.label===m.name&&!(E.textTrack1||E.textTrack2)}},"./src/crypt/aes-crypto.ts":function(e,t,n){n.r(t),n.d(t,"default",function(){return r});var r=function(){function a(i,o){this.subtle=void 0,this.aesIV=void 0,this.subtle=i,this.aesIV=o}return a.prototype.decrypt=function(i,o){return this.subtle.decrypt({name:"AES-CBC",iv:this.aesIV},o,i)},a}()},"./src/crypt/aes-decryptor.ts":function(e,t,n){n.r(t),n.d(t,"removePadding",function(){return a}),n.d(t,"default",function(){return i});var r=n("./src/utils/typed-array.ts");function a(o){var l=o.byteLength,u=l&&new DataView(o.buffer).getUint8(l-1);return u?Object(r.sliceUint8)(o,0,l-u):o}var i=function(){function o(){this.rcon=[0,1,2,4,8,16,32,64,128,27,54],this.subMix=[new Uint32Array(256),new Uint32Array(256),new Uint32Array(256),new Uint32Array(256)],this.invSubMix=[new Uint32Array(256),new Uint32Array(256),new Uint32Array(256),new Uint32Array(256)],this.sBox=new Uint32Array(256),this.invSBox=new Uint32Array(256),this.key=new Uint32Array(0),this.ksRows=0,this.keySize=0,this.keySchedule=void 0,this.invKeySchedule=void 0,this.initTable()}var l=o.prototype;return l.uint8ArrayToUint32Array_=function(u){for(var s=new DataView(u),c=new Uint32Array(4),d=0;d<4;d++)c[d]=s.getUint32(4*d);return c},l.initTable=function(){var u=this.sBox,s=this.invSBox,c=this.subMix,d=c[0],v=c[1],S=c[2],E=c[3],m=this.invSubMix,f=m[0],g=m[1],h=m[2],y=m[3],b=new Uint32Array(256),p=0,C=0,w=0;for(w=0;w<256;w++)b[w]=w<128?w<<1:w<<1^283;for(w=0;w<256;w++){var k=C^C<<1^C<<2^C<<3^C<<4;k=k>>>8^255&k^99,u[p]=k,s[k]=p;var _=b[p],T=b[_],O=b[T],A=257*b[k]^16843008*k;d[p]=A<<24|A>>>8,v[p]=A<<16|A>>>16,S[p]=A<<8|A>>>24,E[p]=A,A=16843009*O^65537*T^257*_^16843008*p,f[k]=A<<24|A>>>8,g[k]=A<<16|A>>>16,h[k]=A<<8|A>>>24,y[k]=A,p?(p=_^b[b[b[O^_]]],C^=b[b[C]]):p=C=1}},l.expandKey=function(u){for(var s=this.uint8ArrayToUint32Array_(u),c=!0,d=0;d<s.length&&c;)c=s[d]===this.key[d],d++;if(!c){this.key=s;var v=this.keySize=s.length;if(v!==4&&v!==6&&v!==8)throw new Error("Invalid aes key size="+v);var S,E,m,f,g=this.ksRows=4*(v+6+1),h=this.keySchedule=new Uint32Array(g),y=this.invKeySchedule=new Uint32Array(g),b=this.sBox,p=this.rcon,C=this.invSubMix,w=C[0],k=C[1],_=C[2],T=C[3];for(S=0;S<g;S++)S<v?m=h[S]=s[S]:(f=m,S%v==0?(f=b[(f=f<<8|f>>>24)>>>24]<<24|b[f>>>16&255]<<16|b[f>>>8&255]<<8|b[255&f],f^=p[S/v|0]<<24):v>6&&S%v==4&&(f=b[f>>>24]<<24|b[f>>>16&255]<<16|b[f>>>8&255]<<8|b[255&f]),h[S]=m=(h[S-v]^f)>>>0);for(E=0;E<g;E++)S=g-E,f=3&E?h[S]:h[S-4],y[E]=E<4||S<=4?f:w[b[f>>>24]]^k[b[f>>>16&255]]^_[b[f>>>8&255]]^T[b[255&f]],y[E]=y[E]>>>0}},l.networkToHostOrderSwap=function(u){return u<<24|(65280&u)<<8|(16711680&u)>>8|u>>>24},l.decrypt=function(u,s,c){for(var d,v,S,E,m,f,g,h,y,b,p,C,w,k,_=this.keySize+6,T=this.invKeySchedule,O=this.invSBox,A=this.invSubMix,P=A[0],D=A[1],I=A[2],x=A[3],L=this.uint8ArrayToUint32Array_(c),$=L[0],M=L[1],j=L[2],F=L[3],U=new Int32Array(u),B=new Int32Array(U.length),K=this.networkToHostOrderSwap;s<U.length;){for(y=K(U[s]),b=K(U[s+1]),p=K(U[s+2]),C=K(U[s+3]),m=y^T[0],f=C^T[1],g=p^T[2],h=b^T[3],w=4,k=1;k<_;k++)d=P[m>>>24]^D[f>>16&255]^I[g>>8&255]^x[255&h]^T[w],v=P[f>>>24]^D[g>>16&255]^I[h>>8&255]^x[255&m]^T[w+1],S=P[g>>>24]^D[h>>16&255]^I[m>>8&255]^x[255&f]^T[w+2],E=P[h>>>24]^D[m>>16&255]^I[f>>8&255]^x[255&g]^T[w+3],m=d,f=v,g=S,h=E,w+=4;d=O[m>>>24]<<24^O[f>>16&255]<<16^O[g>>8&255]<<8^O[255&h]^T[w],v=O[f>>>24]<<24^O[g>>16&255]<<16^O[h>>8&255]<<8^O[255&m]^T[w+1],S=O[g>>>24]<<24^O[h>>16&255]<<16^O[m>>8&255]<<8^O[255&f]^T[w+2],E=O[h>>>24]<<24^O[m>>16&255]<<16^O[f>>8&255]<<8^O[255&g]^T[w+3],B[s]=K(d^$),B[s+1]=K(E^M),B[s+2]=K(S^j),B[s+3]=K(v^F),$=y,M=b,j=p,F=C,s+=4}return B.buffer},o}()},"./src/crypt/decrypter.ts":function(e,t,n){n.r(t),n.d(t,"default",function(){return s});var r=n("./src/crypt/aes-crypto.ts"),a=n("./src/crypt/fast-aes-key.ts"),i=n("./src/crypt/aes-decryptor.ts"),o=n("./src/utils/logger.ts"),l=n("./src/utils/mp4-tools.ts"),u=n("./src/utils/typed-array.ts"),s=function(){function c(v,S,E){var m=(E===void 0?{}:E).removePKCS7Padding,f=m===void 0||m;if(this.logEnabled=!0,this.observer=void 0,this.config=void 0,this.removePKCS7Padding=void 0,this.subtle=null,this.softwareDecrypter=null,this.key=null,this.fastAesKey=null,this.remainderData=null,this.currentIV=null,this.currentResult=null,this.observer=v,this.config=S,this.removePKCS7Padding=f,f)try{var g=self.crypto;g&&(this.subtle=g.subtle||g.webkitSubtle)}catch{}this.subtle===null&&(this.config.enableSoftwareAES=!0)}var d=c.prototype;return d.destroy=function(){this.observer=null},d.isSync=function(){return this.config.enableSoftwareAES},d.flush=function(){var v=this.currentResult;if(v){var S=new Uint8Array(v);return this.reset(),this.removePKCS7Padding?Object(i.removePadding)(S):S}this.reset()},d.reset=function(){this.currentResult=null,this.currentIV=null,this.remainderData=null,this.softwareDecrypter&&(this.softwareDecrypter=null)},d.decrypt=function(v,S,E,m){if(this.config.enableSoftwareAES){this.softwareDecrypt(new Uint8Array(v),S,E);var f=this.flush();f&&m(f.buffer)}else this.webCryptoDecrypt(new Uint8Array(v),S,E).then(m)},d.softwareDecrypt=function(v,S,E){var m=this.currentIV,f=this.currentResult,g=this.remainderData;this.logOnce("JS AES decrypt"),g&&(v=Object(l.appendUint8Array)(g,v),this.remainderData=null);var h=this.getValidChunk(v);if(!h.length)return null;m&&(E=m);var y=this.softwareDecrypter;y||(y=this.softwareDecrypter=new i.default),y.expandKey(S);var b=f;return this.currentResult=y.decrypt(h.buffer,0,E),this.currentIV=Object(u.sliceUint8)(h,-16).buffer,b||null},d.webCryptoDecrypt=function(v,S,E){var m=this,f=this.subtle;return this.key===S&&this.fastAesKey||(this.key=S,this.fastAesKey=new a.default(f,S)),this.fastAesKey.expandKey().then(function(g){return f?new r.default(f,E).decrypt(v.buffer,g):Promise.reject(new Error("web crypto not initialized"))}).catch(function(g){return m.onWebCryptoError(g,v,S,E)})},d.onWebCryptoError=function(v,S,E,m){return o.logger.warn("[decrypter.ts]: WebCrypto Error, disable WebCrypto API:",v),this.config.enableSoftwareAES=!0,this.logEnabled=!0,this.softwareDecrypt(S,E,m)},d.getValidChunk=function(v){var S=v,E=v.length-v.length%16;return E!==v.length&&(S=Object(u.sliceUint8)(v,0,E),this.remainderData=Object(u.sliceUint8)(v,E)),S},d.logOnce=function(v){this.logEnabled&&(o.logger.log("[decrypter.ts]: "+v),this.logEnabled=!1)},c}()},"./src/crypt/fast-aes-key.ts":function(e,t,n){n.r(t),n.d(t,"default",function(){return r});var r=function(){function a(i,o){this.subtle=void 0,this.key=void 0,this.subtle=i,this.key=o}return a.prototype.expandKey=function(){return this.subtle.importKey("raw",this.key,{name:"AES-CBC"},!1,["encrypt","decrypt"])},a}()},"./src/demux/aacdemuxer.ts":function(e,t,n){n.r(t);var r=n("./src/demux/base-audio-demuxer.ts"),a=n("./src/demux/adts.ts"),i=n("./src/utils/logger.ts"),o=n("./src/demux/id3.ts");function l(s,c){return(l=Object.setPrototypeOf||function(d,v){return d.__proto__=v,d})(s,c)}var u=function(s){var c,d;function v(E,m){var f;return(f=s.call(this)||this).observer=void 0,f.config=void 0,f.observer=E,f.config=m,f}d=s,(c=v).prototype=Object.create(d.prototype),c.prototype.constructor=c,l(c,d);var S=v.prototype;return S.resetInitSegment=function(E,m,f){s.prototype.resetInitSegment.call(this,E,m,f),this._audioTrack={container:"audio/adts",type:"audio",id:0,pid:-1,sequenceNumber:0,isAAC:!0,samples:[],manifestCodec:E,duration:f,inputTimeScale:9e4,dropped:0}},v.probe=function(E){if(!E)return!1;for(var m=(o.getID3Data(E,0)||[]).length,f=E.length;m<f;m++)if(a.probe(E,m))return i.logger.log("ADTS sync word found !"),!0;return!1},S.canParse=function(E,m){return a.canParse(E,m)},S.appendFrame=function(E,m,f){a.initTrackConfig(E,this.observer,m,f,E.manifestCodec);var g=a.appendFrame(E,m,f,this.initPTS,this.frameIndex);if(g&&g.missing===0)return g},v}(r.default);u.minProbeByteLength=9,t.default=u},"./src/demux/adts.ts":function(e,t,n){n.r(t),n.d(t,"getAudioConfig",function(){return o}),n.d(t,"isHeaderPattern",function(){return l}),n.d(t,"getHeaderLength",function(){return u}),n.d(t,"getFullFrameLength",function(){return s}),n.d(t,"canGetFrameLength",function(){return c}),n.d(t,"isHeader",function(){return d}),n.d(t,"canParse",function(){return v}),n.d(t,"probe",function(){return S}),n.d(t,"initTrackConfig",function(){return E}),n.d(t,"getFrameDuration",function(){return m}),n.d(t,"parseFrameHeader",function(){return f}),n.d(t,"appendFrame",function(){return g});var r=n("./src/utils/logger.ts"),a=n("./src/errors.ts"),i=n("./src/events.ts");function o(h,y,b,p){var C,w,k,_,T=navigator.userAgent.toLowerCase(),O=p,A=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350];C=1+((192&y[b+2])>>>6);var P=(60&y[b+2])>>>2;if(!(P>A.length-1))return k=(1&y[b+2])<<2,k|=(192&y[b+3])>>>6,r.logger.log("manifest codec:"+p+", ADTS type:"+C+", samplingIndex:"+P),/firefox/i.test(T)?P>=6?(C=5,_=new Array(4),w=P-3):(C=2,_=new Array(2),w=P):T.indexOf("android")!==-1?(C=2,_=new Array(2),w=P):(C=5,_=new Array(4),p&&(p.indexOf("mp4a.40.29")!==-1||p.indexOf("mp4a.40.5")!==-1)||!p&&P>=6?w=P-3:((p&&p.indexOf("mp4a.40.2")!==-1&&(P>=6&&k===1||/vivaldi/i.test(T))||!p&&k===1)&&(C=2,_=new Array(2)),w=P)),_[0]=C<<3,_[0]|=(14&P)>>1,_[1]|=(1&P)<<7,_[1]|=k<<3,C===5&&(_[1]|=(14&w)>>1,_[2]=(1&w)<<7,_[2]|=8,_[3]=0),{config:_,samplerate:A[P],channelCount:k,codec:"mp4a.40."+C,manifestCodec:O};h.trigger(i.Events.ERROR,{type:a.ErrorTypes.MEDIA_ERROR,details:a.ErrorDetails.FRAG_PARSING_ERROR,fatal:!0,reason:"invalid ADTS sampling index:"+P})}function l(h,y){return h[y]===255&&(246&h[y+1])==240}function u(h,y){return 1&h[y+1]?7:9}function s(h,y){return(3&h[y+3])<<11|h[y+4]<<3|(224&h[y+5])>>>5}function c(h,y){return y+5<h.length}function d(h,y){return y+1<h.length&&l(h,y)}function v(h,y){return c(h,y)&&l(h,y)&&s(h,y)<=h.length-y}function S(h,y){if(d(h,y)){var b=u(h,y);if(y+b>=h.length)return!1;var p=s(h,y);if(p<=b)return!1;var C=y+p;return C===h.length||d(h,C)}return!1}function E(h,y,b,p,C){if(!h.samplerate){var w=o(y,b,p,C);if(!w)return;h.config=w.config,h.samplerate=w.samplerate,h.channelCount=w.channelCount,h.codec=w.codec,h.manifestCodec=w.manifestCodec,r.logger.log("parsed codec:"+h.codec+", rate:"+w.samplerate+", channels:"+w.channelCount)}}function m(h){return 9216e4/h}function f(h,y,b,p,C){var w=u(h,y),k=s(h,y);if((k-=w)>0)return{headerLength:w,frameLength:k,stamp:b+p*C}}function g(h,y,b,p,C){var w=f(y,b,p,C,m(h.samplerate));if(w){var k,_=w.frameLength,T=w.headerLength,O=w.stamp,A=T+_,P=Math.max(0,b+A-y.length);P?(k=new Uint8Array(A-T)).set(y.subarray(b+T,y.length),0):k=y.subarray(b+T,b+A);var D={unit:k,pts:O};return P||h.samples.push(D),{sample:D,length:A,missing:P}}}},"./src/demux/base-audio-demuxer.ts":function(e,t,n){n.r(t),n.d(t,"initPTSFn",function(){return s});var r=n("./src/polyfills/number.ts"),a=n("./src/demux/id3.ts"),i=n("./src/demux/dummy-demuxed-track.ts"),o=n("./src/utils/mp4-tools.ts"),l=n("./src/utils/typed-array.ts"),u=function(){function c(){this._audioTrack=void 0,this._id3Track=void 0,this.frameIndex=0,this.cachedData=null,this.initPTS=null}var d=c.prototype;return d.resetInitSegment=function(v,S,E){this._id3Track={type:"id3",id:0,pid:-1,inputTimeScale:9e4,sequenceNumber:0,samples:[],dropped:0}},d.resetTimeStamp=function(){},d.resetContiguity=function(){},d.canParse=function(v,S){return!1},d.appendFrame=function(v,S,E){},d.demux=function(v,S){this.cachedData&&(v=Object(o.appendUint8Array)(this.cachedData,v),this.cachedData=null);var E,m,f=a.getID3Data(v,0),g=f?f.length:0,h=this._audioTrack,y=this._id3Track,b=f?a.getTimeStamp(f):void 0,p=v.length;for(this.frameIndex!==0&&this.initPTS!==null||(this.initPTS=s(b,S)),f&&f.length>0&&y.samples.push({pts:this.initPTS,dts:this.initPTS,data:f}),m=this.initPTS;g<p;){if(this.canParse(v,g)){var C=this.appendFrame(h,v,g);C?(this.frameIndex++,m=C.sample.pts,E=g+=C.length):g=p}else a.canParse(v,g)?(f=a.getID3Data(v,g),y.samples.push({pts:m,dts:m,data:f}),E=g+=f.length):g++;if(g===p&&E!==p){var w=Object(l.sliceUint8)(v,E);this.cachedData?this.cachedData=Object(o.appendUint8Array)(this.cachedData,w):this.cachedData=w}}return{audioTrack:h,avcTrack:Object(i.dummyTrack)(),id3Track:y,textTrack:Object(i.dummyTrack)()}},d.demuxSampleAes=function(v,S,E){return Promise.reject(new Error("["+this+"] This demuxer does not support Sample-AES decryption"))},d.flush=function(v){var S=this.cachedData;return S&&(this.cachedData=null,this.demux(S,0)),this.frameIndex=0,{audioTrack:this._audioTrack,avcTrack:Object(i.dummyTrack)(),id3Track:this._id3Track,textTrack:Object(i.dummyTrack)()}},d.destroy=function(){},c}(),s=function(c,d){return Object(r.isFiniteNumber)(c)?90*c:9e4*d};t.default=u},"./src/demux/chunk-cache.ts":function(e,t,n){n.r(t),n.d(t,"default",function(){return r});var r=function(){function a(){this.chunks=[],this.dataLength=0}var i=a.prototype;return i.push=function(o){this.chunks.push(o),this.dataLength+=o.length},i.flush=function(){var o,l=this.chunks,u=this.dataLength;return l.length?(o=l.length===1?l[0]:function(s,c){for(var d=new Uint8Array(c),v=0,S=0;S<s.length;S++){var E=s[S];d.set(E,v),v+=E.length}return d}(l,u),this.reset(),o):new Uint8Array(0)},i.reset=function(){this.chunks.length=0,this.dataLength=0},a}()},"./src/demux/dummy-demuxed-track.ts":function(e,t,n){function r(){return{type:"",id:-1,pid:-1,inputTimeScale:9e4,sequenceNumber:-1,samples:[],dropped:0}}n.r(t),n.d(t,"dummyTrack",function(){return r})},"./src/demux/exp-golomb.ts":function(e,t,n){n.r(t);var r=n("./src/utils/logger.ts"),a=function(){function i(l){this.data=void 0,this.bytesAvailable=void 0,this.word=void 0,this.bitsAvailable=void 0,this.data=l,this.bytesAvailable=l.byteLength,this.word=0,this.bitsAvailable=0}var o=i.prototype;return o.loadWord=function(){var l=this.data,u=this.bytesAvailable,s=l.byteLength-u,c=new Uint8Array(4),d=Math.min(4,u);if(d===0)throw new Error("no bytes available");c.set(l.subarray(s,s+d)),this.word=new DataView(c.buffer).getUint32(0),this.bitsAvailable=8*d,this.bytesAvailable-=d},o.skipBits=function(l){var u;this.bitsAvailable>l?(this.word<<=l,this.bitsAvailable-=l):(l-=this.bitsAvailable,l-=(u=l>>3)>>3,this.bytesAvailable-=u,this.loadWord(),this.word<<=l,this.bitsAvailable-=l)},o.readBits=function(l){var u=Math.min(this.bitsAvailable,l),s=this.word>>>32-u;return l>32&&r.logger.error("Cannot read more than 32 bits at a time"),this.bitsAvailable-=u,this.bitsAvailable>0?this.word<<=u:this.bytesAvailable>0&&this.loadWord(),(u=l-u)>0&&this.bitsAvailable?s<<u|this.readBits(u):s},o.skipLZ=function(){var l;for(l=0;l<this.bitsAvailable;++l)if((this.word&2147483648>>>l)!=0)return this.word<<=l,this.bitsAvailable-=l,l;return this.loadWord(),l+this.skipLZ()},o.skipUEG=function(){this.skipBits(1+this.skipLZ())},o.skipEG=function(){this.skipBits(1+this.skipLZ())},o.readUEG=function(){var l=this.skipLZ();return this.readBits(l+1)-1},o.readEG=function(){var l=this.readUEG();return 1&l?1+l>>>1:-1*(l>>>1)},o.readBoolean=function(){return this.readBits(1)===1},o.readUByte=function(){return this.readBits(8)},o.readUShort=function(){return this.readBits(16)},o.readUInt=function(){return this.readBits(32)},o.skipScalingList=function(l){for(var u=8,s=8,c=0;c<l;c++)s!==0&&(s=(u+this.readEG()+256)%256),u=s===0?u:s},o.readSPS=function(){var l,u,s,c=0,d=0,v=0,S=0,E=this.readUByte.bind(this),m=this.readBits.bind(this),f=this.readUEG.bind(this),g=this.readBoolean.bind(this),h=this.skipBits.bind(this),y=this.skipEG.bind(this),b=this.skipUEG.bind(this),p=this.skipScalingList.bind(this);E();var C=E();if(m(5),h(3),E(),b(),C===100||C===110||C===122||C===244||C===44||C===83||C===86||C===118||C===128){var w=f();if(w===3&&h(1),b(),b(),h(1),g())for(u=w!==3?8:12,s=0;s<u;s++)g()&&p(s<6?16:64)}b();var k=f();if(k===0)f();else if(k===1)for(h(1),y(),y(),l=f(),s=0;s<l;s++)y();b(),h(1);var _=f(),T=f(),O=m(1);O===0&&h(1),h(1),g()&&(c=f(),d=f(),v=f(),S=f());var A=[1,1];if(g()&&g())switch(E()){case 1:A=[1,1];break;case 2:A=[12,11];break;case 3:A=[10,11];break;case 4:A=[16,11];break;case 5:A=[40,33];break;case 6:A=[24,11];break;case 7:A=[20,11];break;case 8:A=[32,11];break;case 9:A=[80,33];break;case 10:A=[18,11];break;case 11:A=[15,11];break;case 12:A=[64,33];break;case 13:A=[160,99];break;case 14:A=[4,3];break;case 15:A=[3,2];break;case 16:A=[2,1];break;case 255:A=[E()<<8|E(),E()<<8|E()]}return{width:Math.ceil(16*(_+1)-2*c-2*d),height:(2-O)*(T+1)*16-(O?2:4)*(v+S),pixelRatio:A}},o.readSliceType=function(){return this.readUByte(),this.readUEG(),this.readUEG()},i}();t.default=a},"./src/demux/id3.ts":function(e,t,n){n.r(t),n.d(t,"isHeader",function(){return a}),n.d(t,"isFooter",function(){return i}),n.d(t,"getID3Data",function(){return o}),n.d(t,"canParse",function(){return u}),n.d(t,"getTimeStamp",function(){return s}),n.d(t,"isTimeStampFrame",function(){return c}),n.d(t,"getID3Frames",function(){return v}),n.d(t,"decodeFrame",function(){return S}),n.d(t,"utf8ArrayToStr",function(){return h}),n.d(t,"testables",function(){return y});var r,a=function(b,p){return p+10<=b.length&&b[p]===73&&b[p+1]===68&&b[p+2]===51&&b[p+3]<255&&b[p+4]<255&&b[p+6]<128&&b[p+7]<128&&b[p+8]<128&&b[p+9]<128},i=function(b,p){return p+10<=b.length&&b[p]===51&&b[p+1]===68&&b[p+2]===73&&b[p+3]<255&&b[p+4]<255&&b[p+6]<128&&b[p+7]<128&&b[p+8]<128&&b[p+9]<128},o=function(b,p){for(var C=p,w=0;a(b,p);)w+=10,w+=l(b,p+6),i(b,p+10)&&(w+=10),p+=w;if(w>0)return b.subarray(C,C+w)},l=function(b,p){var C=0;return C=(127&b[p])<<21,C|=(127&b[p+1])<<14,C|=(127&b[p+2])<<7,C|=127&b[p+3]},u=function(b,p){return a(b,p)&&l(b,p+6)+10<=b.length-p},s=function(b){for(var p=v(b),C=0;C<p.length;C++){var w=p[C];if(c(w))return g(w)}},c=function(b){return b&&b.key==="PRIV"&&b.info==="com.apple.streaming.transportStreamTimestamp"},d=function(b){var p=String.fromCharCode(b[0],b[1],b[2],b[3]),C=l(b,4);return{type:p,size:C,data:b.subarray(10,10+C)}},v=function(b){for(var p=0,C=[];a(b,p);){for(var w=l(b,p+6),k=(p+=10)+w;p+8<k;){var _=d(b.subarray(p)),T=S(_);T&&C.push(T),p+=_.size+10}i(b,p)&&(p+=10)}return C},S=function(b){return b.type==="PRIV"?E(b):b.type[0]==="W"?f(b):m(b)},E=function(b){if(!(b.size<2)){var p=h(b.data,!0),C=new Uint8Array(b.data.subarray(p.length+1));return{key:b.type,info:p,data:C.buffer}}},m=function(b){if(!(b.size<2)){if(b.type==="TXXX"){var p=1,C=h(b.data.subarray(p),!0);p+=C.length+1;var w=h(b.data.subarray(p));return{key:b.type,info:C,data:w}}var k=h(b.data.subarray(1));return{key:b.type,data:k}}},f=function(b){if(b.type==="WXXX"){if(b.size<2)return;var p=1,C=h(b.data.subarray(p),!0);p+=C.length+1;var w=h(b.data.subarray(p));return{key:b.type,info:C,data:w}}var k=h(b.data);return{key:b.type,data:k}},g=function(b){if(b.data.byteLength===8){var p=new Uint8Array(b.data),C=1&p[3],w=(p[4]<<23)+(p[5]<<15)+(p[6]<<7)+p[7];return w/=45,C&&(w+=4772185884e-2),Math.round(w)}},h=function(b,p){p===void 0&&(p=!1);var C=(r||self.TextDecoder===void 0||(r=new self.TextDecoder("utf-8")),r);if(C){var w=C.decode(b);if(p){var k=w.indexOf("\0");return k!==-1?w.substring(0,k):w}return w.replace(/\0/g,"")}for(var _,T,O,A=b.length,P="",D=0;D<A;){if((_=b[D++])===0&&p)return P;if(_!==0&&_!==3)switch(_>>4){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:P+=String.fromCharCode(_);break;case 12:case 13:T=b[D++],P+=String.fromCharCode((31&_)<<6|63&T);break;case 14:T=b[D++],O=b[D++],P+=String.fromCharCode((15&_)<<12|(63&T)<<6|(63&O)<<0)}}return P},y={decodeTextFrame:m}},"./src/demux/mp3demuxer.ts":function(e,t,n){n.r(t);var r=n("./src/demux/base-audio-demuxer.ts"),a=n("./src/demux/id3.ts"),i=n("./src/utils/logger.ts"),o=n("./src/demux/mpegaudio.ts");function l(s,c){return(l=Object.setPrototypeOf||function(d,v){return d.__proto__=v,d})(s,c)}var u=function(s){var c,d;function v(){return s.apply(this,arguments)||this}d=s,(c=v).prototype=Object.create(d.prototype),c.prototype.constructor=c,l(c,d);var S=v.prototype;return S.resetInitSegment=function(E,m,f){s.prototype.resetInitSegment.call(this,E,m,f),this._audioTrack={container:"audio/mpeg",type:"audio",id:0,pid:-1,sequenceNumber:0,isAAC:!1,samples:[],manifestCodec:E,duration:f,inputTimeScale:9e4,dropped:0}},v.probe=function(E){if(!E)return!1;for(var m=(a.getID3Data(E,0)||[]).length,f=E.length;m<f;m++)if(o.probe(E,m))return i.logger.log("MPEG Audio sync word found !"),!0;return!1},S.canParse=function(E,m){return o.canParse(E,m)},S.appendFrame=function(E,m,f){if(this.initPTS!==null)return o.appendFrame(E,m,f,this.initPTS,this.frameIndex)},v}(r.default);u.minProbeByteLength=4,t.default=u},"./src/demux/mp4demuxer.ts":function(e,t,n){n.r(t);var r=n("./src/utils/mp4-tools.ts"),a=n("./src/demux/dummy-demuxed-track.ts"),i=function(){function o(u,s){this.remainderData=null,this.config=void 0,this.config=s}var l=o.prototype;return l.resetTimeStamp=function(){},l.resetInitSegment=function(){},l.resetContiguity=function(){},o.probe=function(u){return Object(r.findBox)({data:u,start:0,end:Math.min(u.length,16384)},["moof"]).length>0},l.demux=function(u){var s=u,c=Object(a.dummyTrack)();if(this.config.progressive){this.remainderData&&(s=Object(r.appendUint8Array)(this.remainderData,u));var d=Object(r.segmentValidRange)(s);this.remainderData=d.remainder,c.samples=d.valid||new Uint8Array}else c.samples=s;return{audioTrack:Object(a.dummyTrack)(),avcTrack:c,id3Track:Object(a.dummyTrack)(),textTrack:Object(a.dummyTrack)()}},l.flush=function(){var u=Object(a.dummyTrack)();return u.samples=this.remainderData||new Uint8Array,this.remainderData=null,{audioTrack:Object(a.dummyTrack)(),avcTrack:u,id3Track:Object(a.dummyTrack)(),textTrack:Object(a.dummyTrack)()}},l.demuxSampleAes=function(u,s,c){return Promise.reject(new Error("The MP4 demuxer does not support SAMPLE-AES decryption"))},l.destroy=function(){},o}();i.minProbeByteLength=1024,t.default=i},"./src/demux/mpegaudio.ts":function(e,t,n){n.r(t),n.d(t,"appendFrame",function(){return u}),n.d(t,"parseHeader",function(){return s}),n.d(t,"isHeaderPattern",function(){return c}),n.d(t,"isHeader",function(){return d}),n.d(t,"canParse",function(){return v}),n.d(t,"probe",function(){return S});var r=null,a=[32,64,96,128,160,192,224,256,288,320,352,384,416,448,32,48,56,64,80,96,112,128,160,192,224,256,320,384,32,40,48,56,64,80,96,112,128,160,192,224,256,320,32,48,56,64,80,96,112,128,144,160,176,192,224,256,8,16,24,32,40,48,56,64,80,96,112,128,144,160],i=[44100,48e3,32e3,22050,24e3,16e3,11025,12e3,8e3],o=[[0,72,144,12],[0,0,0,0],[0,72,144,12],[0,144,144,12]],l=[0,1,1,4];function u(E,m,f,g,h){if(!(f+24>m.length)){var y=s(m,f);if(y&&f+y.frameLength<=m.length){var b=g+h*(9e4*y.samplesPerFrame/y.sampleRate),p={unit:m.subarray(f,f+y.frameLength),pts:b,dts:b};return E.config=[],E.channelCount=y.channelCount,E.samplerate=y.sampleRate,E.samples.push(p),{sample:p,length:y.frameLength,missing:0}}}}function s(E,m){var f=E[m+1]>>3&3,g=E[m+1]>>1&3,h=E[m+2]>>4&15,y=E[m+2]>>2&3;if(f!==1&&h!==0&&h!==15&&y!==3){var b=E[m+2]>>1&1,p=E[m+3]>>6,C=1e3*a[14*(f===3?3-g:g===3?3:4)+h-1],w=i[3*(f===3?0:f===2?1:2)+y],k=p===3?1:2,_=o[f][g],T=l[g],O=8*_*T,A=Math.floor(_*C/w+b)*T;if(r===null){var P=(navigator.userAgent||"").match(/Chrome\/(\d+)/i);r=P?parseInt(P[1]):0}return!!r&&r<=87&&g===2&&C>=224e3&&p===0&&(E[m+3]=128|E[m+3]),{sampleRate:w,channelCount:k,frameLength:A,samplesPerFrame:O}}}function c(E,m){return E[m]===255&&(224&E[m+1])==224&&(6&E[m+1])!=0}function d(E,m){return m+1<E.length&&c(E,m)}function v(E,m){return c(E,m)&&4<=E.length-m}function S(E,m){if(m+1<E.length&&c(E,m)){var f=s(E,m),g=4;f!=null&&f.frameLength&&(g=f.frameLength);var h=m+g;return h===E.length||d(E,h)}return!1}},"./src/demux/sample-aes.ts":function(e,t,n){n.r(t);var r=n("./src/crypt/decrypter.ts"),a=n("./src/demux/tsdemuxer.ts"),i=function(){function o(u,s,c){this.keyData=void 0,this.decrypter=void 0,this.keyData=c,this.decrypter=new r.default(u,s,{removePKCS7Padding:!1})}var l=o.prototype;return l.decryptBuffer=function(u,s){this.decrypter.decrypt(u,this.keyData.key.buffer,this.keyData.iv.buffer,s)},l.decryptAacSample=function(u,s,c,d){var v=u[s].unit,S=v.subarray(16,v.length-v.length%16),E=S.buffer.slice(S.byteOffset,S.byteOffset+S.length),m=this;this.decryptBuffer(E,function(f){var g=new Uint8Array(f);v.set(g,16),d||m.decryptAacSamples(u,s+1,c)})},l.decryptAacSamples=function(u,s,c){for(;;s++){if(s>=u.length)return void c();if(!(u[s].unit.length<32)){var d=this.decrypter.isSync();if(this.decryptAacSample(u,s,c,d),!d)return}}},l.getAvcEncryptedData=function(u){for(var s=16*Math.floor((u.length-48)/160)+16,c=new Int8Array(s),d=0,v=32;v<=u.length-16;v+=160,d+=16)c.set(u.subarray(v,v+16),d);return c},l.getAvcDecryptedUnit=function(u,s){for(var c=new Uint8Array(s),d=0,v=32;v<=u.length-16;v+=160,d+=16)u.set(c.subarray(d,d+16),v);return u},l.decryptAvcSample=function(u,s,c,d,v,S){var E=Object(a.discardEPB)(v.data),m=this.getAvcEncryptedData(E),f=this;this.decryptBuffer(m.buffer,function(g){v.data=f.getAvcDecryptedUnit(E,g),S||f.decryptAvcSamples(u,s,c+1,d)})},l.decryptAvcSamples=function(u,s,c,d){if(u instanceof Uint8Array)throw new Error("Cannot decrypt samples of type Uint8Array");for(;;s++,c=0){if(s>=u.length)return void d();for(var v=u[s].units;!(c>=v.length);c++){var S=v[c];if(!(S.data.length<=48||S.type!==1&&S.type!==5)){var E=this.decrypter.isSync();if(this.decryptAvcSample(u,s,c,d,S,E),!E)return}}}},o}();t.default=i},"./src/demux/transmuxer-interface.ts":function(e,t,n){n.r(t),n.d(t,"default",function(){return d});var r=n("./node_modules/webworkify-webpack/index.js"),a=n("./src/events.ts"),i=n("./src/demux/transmuxer.ts"),o=n("./src/utils/logger.ts"),l=n("./src/errors.ts"),u=n("./src/utils/mediasource-helper.ts"),s=n("./node_modules/eventemitter3/index.js"),c=Object(u.getMediaSource)()||{isTypeSupported:function(){return!1}},d=function(){function v(E,m,f,g){var h=this;this.hls=void 0,this.id=void 0,this.observer=void 0,this.frag=null,this.part=null,this.worker=void 0,this.onwmsg=void 0,this.transmuxer=null,this.onTransmuxComplete=void 0,this.onFlush=void 0,this.hls=E,this.id=m,this.onTransmuxComplete=f,this.onFlush=g;var y=E.config,b=function(k,_){(_=_||{}).frag=h.frag,_.id=h.id,E.trigger(k,_)};this.observer=new s.EventEmitter,this.observer.on(a.Events.FRAG_DECRYPTED,b),this.observer.on(a.Events.ERROR,b);var p={mp4:c.isTypeSupported("video/mp4"),mpeg:c.isTypeSupported("audio/mpeg"),mp3:c.isTypeSupported('audio/mp4; codecs="mp3"')},C=navigator.vendor;if(y.enableWorker&&typeof Worker!="undefined"){var w;o.logger.log("demuxing in webworker");try{w=this.worker=r("./src/demux/transmuxer-worker.ts"),this.onwmsg=this.onWorkerMessage.bind(this),w.addEventListener("message",this.onwmsg),w.onerror=function(k){E.trigger(a.Events.ERROR,{type:l.ErrorTypes.OTHER_ERROR,details:l.ErrorDetails.INTERNAL_EXCEPTION,fatal:!0,event:"demuxerWorker",error:new Error(k.message+"  ("+k.filename+":"+k.lineno+")")})},w.postMessage({cmd:"init",typeSupported:p,vendor:C,id:m,config:JSON.stringify(y)})}catch(k){o.logger.warn("Error in worker:",k),o.logger.error("Error while initializing DemuxerWorker, fallback to inline"),w&&self.URL.revokeObjectURL(w.objectURL),this.transmuxer=new i.default(this.observer,p,y,C,m),this.worker=null}}else this.transmuxer=new i.default(this.observer,p,y,C,m)}var S=v.prototype;return S.destroy=function(){var E=this.worker;if(E)E.removeEventListener("message",this.onwmsg),E.terminate(),this.worker=null;else{var m=this.transmuxer;m&&(m.destroy(),this.transmuxer=null)}var f=this.observer;f&&f.removeAllListeners(),this.observer=null},S.push=function(E,m,f,g,h,y,b,p,C,w){var k=this;C.transmuxing.start=self.performance.now();var _=this.transmuxer,T=this.worker,O=y?y.start:h.start,A=h.decryptdata,P=this.frag,D=!(P&&h.cc===P.cc),I=!(P&&C.level===P.level),x=P?C.sn-P.sn:-1,L=this.part?C.part-this.part.index:1,$=!I&&(x===1||x===0&&L===1),M=self.performance.now();(I||x||h.stats.parsing.start===0)&&(h.stats.parsing.start=M),!y||!L&&$||(y.stats.parsing.start=M);var j=new i.TransmuxState(D,$,p,I,O);if(!$||D){o.logger.log("[transmuxer-interface, "+h.type+"]: Starting new transmux session for sn: "+C.sn+" p: "+C.part+" level: "+C.level+" id: "+C.id+`
        discontinuity: `+D+`
        trackSwitch: `+I+`
        contiguous: `+$+`
        accurateTimeOffset: `+p+`
        timeOffset: `+O);var F=new i.TransmuxConfig(f,g,m,b,w);this.configureTransmuxer(F)}if(this.frag=h,this.part=y,T)T.postMessage({cmd:"demux",data:E,decryptdata:A,chunkMeta:C,state:j},E instanceof ArrayBuffer?[E]:[]);else if(_){var U=_.push(E,A,C,j);Object(i.isPromise)(U)?U.then(function(B){k.handleTransmuxComplete(B)}):this.handleTransmuxComplete(U)}},S.flush=function(E){var m=this;E.transmuxing.start=self.performance.now();var f=this.transmuxer,g=this.worker;if(g)g.postMessage({cmd:"flush",chunkMeta:E});else if(f){var h=f.flush(E);Object(i.isPromise)(h)?h.then(function(y){m.handleFlushResult(y,E)}):this.handleFlushResult(h,E)}},S.handleFlushResult=function(E,m){var f=this;E.forEach(function(g){f.handleTransmuxComplete(g)}),this.onFlush(m)},S.onWorkerMessage=function(E){var m=E.data,f=this.hls;switch(m.event){case"init":self.URL.revokeObjectURL(this.worker.objectURL);break;case"transmuxComplete":this.handleTransmuxComplete(m.data);break;case"flush":this.onFlush(m.data);break;default:m.data=m.data||{},m.data.frag=this.frag,m.data.id=this.id,f.trigger(m.event,m.data)}},S.configureTransmuxer=function(E){var m=this.worker,f=this.transmuxer;m?m.postMessage({cmd:"configure",config:E}):f&&f.configure(E)},S.handleTransmuxComplete=function(E){E.chunkMeta.transmuxing.end=self.performance.now(),this.onTransmuxComplete(E)},v}()},"./src/demux/transmuxer-worker.ts":function(e,t,n){n.r(t),n.d(t,"default",function(){return l});var r=n("./src/demux/transmuxer.ts"),a=n("./src/events.ts"),i=n("./src/utils/logger.ts"),o=n("./node_modules/eventemitter3/index.js");function l(d){var v=new o.EventEmitter,S=function(E,m){d.postMessage({event:E,data:m})};v.on(a.Events.FRAG_DECRYPTED,S),v.on(a.Events.ERROR,S),d.addEventListener("message",function(E){var m=E.data;switch(m.cmd){case"init":var f=JSON.parse(m.config);d.transmuxer=new r.default(v,m.typeSupported,f,m.vendor,m.id),Object(i.enableLogs)(f.debug),S("init",null);break;case"configure":d.transmuxer.configure(m.config);break;case"demux":var g=d.transmuxer.push(m.data,m.decryptdata,m.chunkMeta,m.state);Object(r.isPromise)(g)?g.then(function(b){u(d,b)}):u(d,g);break;case"flush":var h=m.chunkMeta,y=d.transmuxer.flush(h);Object(r.isPromise)(y)?y.then(function(b){c(d,b,h)}):c(d,y,h)}})}function u(d,v){if((S=v.remuxResult).audio||S.video||S.text||S.id3||S.initSegment){var S,E=[],m=v.remuxResult,f=m.audio,g=m.video;f&&s(E,f),g&&s(E,g),d.postMessage({event:"transmuxComplete",data:v},E)}}function s(d,v){v.data1&&d.push(v.data1.buffer),v.data2&&d.push(v.data2.buffer)}function c(d,v,S){v.forEach(function(E){u(d,E)}),d.postMessage({event:"flush",data:S})}},"./src/demux/transmuxer.ts":function(e,t,n){n.r(t),n.d(t,"default",function(){return h}),n.d(t,"isPromise",function(){return b}),n.d(t,"TransmuxConfig",function(){return p}),n.d(t,"TransmuxState",function(){return C});var r,a=n("./src/events.ts"),i=n("./src/errors.ts"),o=n("./src/crypt/decrypter.ts"),l=n("./src/demux/aacdemuxer.ts"),u=n("./src/demux/mp4demuxer.ts"),s=n("./src/demux/tsdemuxer.ts"),c=n("./src/demux/mp3demuxer.ts"),d=n("./src/remux/mp4-remuxer.ts"),v=n("./src/remux/passthrough-remuxer.ts"),S=n("./src/demux/chunk-cache.ts"),E=n("./src/utils/mp4-tools.ts"),m=n("./src/utils/logger.ts");try{r=self.performance.now.bind(self.performance)}catch{m.logger.debug("Unable to use Performance API on this environment"),r=self.Date.now}var f=[{demux:s.default,remux:d.default},{demux:u.default,remux:v.default},{demux:l.default,remux:d.default},{demux:c.default,remux:d.default}],g=1024;f.forEach(function(w){var k=w.demux;g=Math.max(g,k.minProbeByteLength)});var h=function(){function w(_,T,O,A,P){this.observer=void 0,this.typeSupported=void 0,this.config=void 0,this.vendor=void 0,this.id=void 0,this.demuxer=void 0,this.remuxer=void 0,this.decrypter=void 0,this.probe=void 0,this.decryptionPromise=null,this.transmuxConfig=void 0,this.currentTransmuxState=void 0,this.cache=new S.default,this.observer=_,this.typeSupported=T,this.config=O,this.vendor=A,this.id=P}var k=w.prototype;return k.configure=function(_){this.transmuxConfig=_,this.decrypter&&this.decrypter.reset()},k.push=function(_,T,O,A){var P=this,D=O.transmuxing;D.executeStart=r();var I=new Uint8Array(_),x=this.cache,L=this.config,$=this.currentTransmuxState,M=this.transmuxConfig;A&&(this.currentTransmuxState=A);var j=function(ie,le){var Se=null;return ie.byteLength>0&&le!=null&&le.key!=null&&le.iv!==null&&le.method!=null&&(Se=le),Se}(I,T);if(j&&j.method==="AES-128"){var F=this.getDecrypter();if(!L.enableSoftwareAES)return this.decryptionPromise=F.webCryptoDecrypt(I,j.key.buffer,j.iv.buffer).then(function(ie){var le=P.push(ie,null,O);return P.decryptionPromise=null,le}),this.decryptionPromise;var U=F.softwareDecrypt(I,j.key.buffer,j.iv.buffer);if(!U)return D.executeEnd=r(),y(O);I=new Uint8Array(U)}var B=A||$,K=B.contiguous,V=B.discontinuity,X=B.trackSwitch,Z=B.accurateTimeOffset,ne=B.timeOffset,ae=M.audioCodec,ye=M.videoCodec,de=M.defaultInitPts,be=M.duration,G=M.initSegmentData;if((V||X)&&this.resetInitSegment(G,ae,ye,be),V&&this.resetInitialTimestamp(de),K||this.resetContiguity(),this.needsProbing(I,V,X)){if(x.dataLength){var Y=x.flush();I=Object(E.appendUint8Array)(Y,I)}this.configureTransmuxer(I,M)}var Q=this.transmux(I,j,ne,Z,O),re=this.currentTransmuxState;return re.contiguous=!0,re.discontinuity=!1,re.trackSwitch=!1,D.executeEnd=r(),Q},k.flush=function(_){var T=this,O=_.transmuxing;O.executeStart=r();var A=this.decrypter,P=this.cache,D=this.currentTransmuxState,I=this.decryptionPromise;if(I)return I.then(function(){return T.flush(_)});var x=[],L=D.timeOffset;if(A){var $=A.flush();$&&x.push(this.push($,null,_))}var M=P.dataLength;P.reset();var j=this.demuxer,F=this.remuxer;if(!j||!F)return M>=g&&this.observer.emit(a.Events.ERROR,a.Events.ERROR,{type:i.ErrorTypes.MEDIA_ERROR,details:i.ErrorDetails.FRAG_PARSING_ERROR,fatal:!0,reason:"no demux matching with content found"}),O.executeEnd=r(),[y(_)];var U=j.flush(L);return b(U)?U.then(function(B){return T.flushRemux(x,B,_),x}):(this.flushRemux(x,U,_),x)},k.flushRemux=function(_,T,O){var A=T.audioTrack,P=T.avcTrack,D=T.id3Track,I=T.textTrack,x=this.currentTransmuxState,L=x.accurateTimeOffset,$=x.timeOffset;m.logger.log("[transmuxer.ts]: Flushed fragment "+O.sn+(O.part>-1?" p: "+O.part:"")+" of level "+O.level);var M=this.remuxer.remux(A,P,D,I,$,L,!0,this.id);_.push({remuxResult:M,chunkMeta:O}),O.transmuxing.executeEnd=r()},k.resetInitialTimestamp=function(_){var T=this.demuxer,O=this.remuxer;T&&O&&(T.resetTimeStamp(_),O.resetTimeStamp(_))},k.resetContiguity=function(){var _=this.demuxer,T=this.remuxer;_&&T&&(_.resetContiguity(),T.resetNextTimestamp())},k.resetInitSegment=function(_,T,O,A){var P=this.demuxer,D=this.remuxer;P&&D&&(P.resetInitSegment(T,O,A),D.resetInitSegment(_,T,O))},k.destroy=function(){this.demuxer&&(this.demuxer.destroy(),this.demuxer=void 0),this.remuxer&&(this.remuxer.destroy(),this.remuxer=void 0)},k.transmux=function(_,T,O,A,P){return T&&T.method==="SAMPLE-AES"?this.transmuxSampleAes(_,T,O,A,P):this.transmuxUnencrypted(_,O,A,P)},k.transmuxUnencrypted=function(_,T,O,A){var P=this.demuxer.demux(_,T,!1,!this.config.progressive),D=P.audioTrack,I=P.avcTrack,x=P.id3Track,L=P.textTrack;return{remuxResult:this.remuxer.remux(D,I,x,L,T,O,!1,this.id),chunkMeta:A}},k.transmuxSampleAes=function(_,T,O,A,P){var D=this;return this.demuxer.demuxSampleAes(_,T,O).then(function(I){return{remuxResult:D.remuxer.remux(I.audioTrack,I.avcTrack,I.id3Track,I.textTrack,O,A,!1,D.id),chunkMeta:P}})},k.configureTransmuxer=function(_,T){for(var O,A=this.config,P=this.observer,D=this.typeSupported,I=this.vendor,x=T.audioCodec,L=T.defaultInitPts,$=T.duration,M=T.initSegmentData,j=T.videoCodec,F=0,U=f.length;F<U;F++)if(f[F].demux.probe(_)){O=f[F];break}O||(m.logger.warn("Failed to find demuxer by probing frag, treating as mp4 passthrough"),O={demux:u.default,remux:v.default});var B=this.demuxer,K=this.remuxer,V=O.remux,X=O.demux;K&&K instanceof V||(this.remuxer=new V(P,A,D,I)),B&&B instanceof X||(this.demuxer=new X(P,A,D),this.probe=X.probe),this.resetInitSegment(M,x,j,$),this.resetInitialTimestamp(L)},k.needsProbing=function(_,T,O){return!this.demuxer||!this.remuxer||T||O},k.getDecrypter=function(){var _=this.decrypter;return _||(_=this.decrypter=new o.default(this.observer,this.config)),_},w}(),y=function(w){return{remuxResult:{},chunkMeta:w}};function b(w){return"then"in w&&w.then instanceof Function}var p=function(w,k,_,T,O){this.audioCodec=void 0,this.videoCodec=void 0,this.initSegmentData=void 0,this.duration=void 0,this.defaultInitPts=void 0,this.audioCodec=w,this.videoCodec=k,this.initSegmentData=_,this.duration=T,this.defaultInitPts=O},C=function(w,k,_,T,O){this.discontinuity=void 0,this.contiguous=void 0,this.accurateTimeOffset=void 0,this.trackSwitch=void 0,this.timeOffset=void 0,this.discontinuity=w,this.contiguous=k,this.accurateTimeOffset=_,this.trackSwitch=T,this.timeOffset=O}},"./src/demux/tsdemuxer.ts":function(e,t,n){n.r(t),n.d(t,"discardEPB",function(){return b});var r=n("./src/demux/adts.ts"),a=n("./src/demux/mpegaudio.ts"),i=n("./src/demux/exp-golomb.ts"),o=n("./src/demux/id3.ts"),l=n("./src/demux/sample-aes.ts"),u=n("./src/events.ts"),s=n("./src/utils/mp4-tools.ts"),c=n("./src/utils/logger.ts"),d=n("./src/errors.ts"),v={video:1,audio:2,id3:3,text:4},S=function(){function p(w,k,_){this.observer=void 0,this.config=void 0,this.typeSupported=void 0,this.sampleAes=null,this.pmtParsed=!1,this.audioCodec=void 0,this.videoCodec=void 0,this._duration=0,this.aacLastPTS=null,this._initPTS=null,this._initDTS=null,this._pmtId=-1,this._avcTrack=void 0,this._audioTrack=void 0,this._id3Track=void 0,this._txtTrack=void 0,this.aacOverFlow=null,this.avcSample=null,this.remainderData=null,this.observer=w,this.config=k,this.typeSupported=_}p.probe=function(w){var k=p.syncOffset(w);return!(k<0||(k&&c.logger.warn("MPEG2-TS detected but first sync word found @ offset "+k+", junk ahead ?"),0))},p.syncOffset=function(w){for(var k=Math.min(1e3,w.length-564),_=0;_<k;){if(w[_]===71&&w[_+188]===71&&w[_+376]===71)return _;_++}return-1},p.createTrack=function(w,k){return{container:w==="video"||w==="audio"?"video/mp2t":void 0,type:w,id:v[w],pid:-1,inputTimeScale:9e4,sequenceNumber:0,samples:[],dropped:0,duration:w==="audio"?k:void 0}};var C=p.prototype;return C.resetInitSegment=function(w,k,_){this.pmtParsed=!1,this._pmtId=-1,this._avcTrack=p.createTrack("video",_),this._audioTrack=p.createTrack("audio",_),this._id3Track=p.createTrack("id3",_),this._txtTrack=p.createTrack("text",_),this._audioTrack.isAAC=!0,this.aacOverFlow=null,this.aacLastPTS=null,this.avcSample=null,this.audioCodec=w,this.videoCodec=k,this._duration=_},C.resetTimeStamp=function(){},C.resetContiguity=function(){var w=this._audioTrack,k=this._avcTrack,_=this._id3Track;w&&(w.pesData=null),k&&(k.pesData=null),_&&(_.pesData=null),this.aacOverFlow=null,this.aacLastPTS=null},C.demux=function(w,k,_,T){var O;_===void 0&&(_=!1),T===void 0&&(T=!1),_||(this.sampleAes=null);var A=this._avcTrack,P=this._audioTrack,D=this._id3Track,I=A.pid,x=A.pesData,L=P.pid,$=D.pid,M=P.pesData,j=D.pesData,F=!1,U=this.pmtParsed,B=this._pmtId,K=w.length;if(this.remainderData&&(K=(w=Object(s.appendUint8Array)(this.remainderData,w)).length,this.remainderData=null),K<188&&!T)return this.remainderData=w,{audioTrack:P,avcTrack:A,id3Track:D,textTrack:this._txtTrack};var V=Math.max(0,p.syncOffset(w));(K-=(K+V)%188)<w.byteLength&&!T&&(this.remainderData=new Uint8Array(w.buffer,K,w.buffer.byteLength-K));for(var X=V;X<K;X+=188)if(w[X]===71){var Z=!!(64&w[X+1]),ne=((31&w[X+1])<<8)+w[X+2],ae=void 0;if((48&w[X+3])>>4>1){if((ae=X+5+w[X+4])===X+188)continue}else ae=X+4;switch(ne){case I:Z&&(x&&(O=g(x))&&this.parseAVCPES(O,!1),x={data:[],size:0}),x&&(x.data.push(w.subarray(ae,X+188)),x.size+=X+188-ae);break;case L:Z&&(M&&(O=g(M))&&(P.isAAC?this.parseAACPES(O):this.parseMPEGPES(O)),M={data:[],size:0}),M&&(M.data.push(w.subarray(ae,X+188)),M.size+=X+188-ae);break;case $:Z&&(j&&(O=g(j))&&this.parseID3PES(O),j={data:[],size:0}),j&&(j.data.push(w.subarray(ae,X+188)),j.size+=X+188-ae);break;case 0:Z&&(ae+=w[ae]+1),B=this._pmtId=m(w,ae);break;case B:Z&&(ae+=w[ae]+1);var ye=f(w,ae,this.typeSupported.mpeg===!0||this.typeSupported.mp3===!0,_);(I=ye.avc)>0&&(A.pid=I),(L=ye.audio)>0&&(P.pid=L,P.isAAC=ye.isAAC),($=ye.id3)>0&&(D.pid=$),F&&!U&&(c.logger.log("reparse from beginning"),F=!1,X=V-188),U=this.pmtParsed=!0;break;case 17:case 8191:break;default:F=!0}}else this.observer.emit(u.Events.ERROR,u.Events.ERROR,{type:d.ErrorTypes.MEDIA_ERROR,details:d.ErrorDetails.FRAG_PARSING_ERROR,fatal:!1,reason:"TS packet did not start with 0x47"});A.pesData=x,P.pesData=M,D.pesData=j;var de={audioTrack:P,avcTrack:A,id3Track:D,textTrack:this._txtTrack};return T&&this.extractRemainingSamples(de),de},C.flush=function(){var w,k=this.remainderData;return this.remainderData=null,w=k?this.demux(k,-1,!1,!0):{audioTrack:this._audioTrack,avcTrack:this._avcTrack,textTrack:this._txtTrack,id3Track:this._id3Track},this.extractRemainingSamples(w),this.sampleAes?this.decrypt(w,this.sampleAes):w},C.extractRemainingSamples=function(w){var k,_=w.audioTrack,T=w.avcTrack,O=w.id3Track,A=T.pesData,P=_.pesData,D=O.pesData;A&&(k=g(A))?(this.parseAVCPES(k,!0),T.pesData=null):T.pesData=A,P&&(k=g(P))?(_.isAAC?this.parseAACPES(k):this.parseMPEGPES(k),_.pesData=null):(P!=null&&P.size&&c.logger.log("last AAC PES packet truncated,might overlap between fragments"),_.pesData=P),D&&(k=g(D))?(this.parseID3PES(k),O.pesData=null):O.pesData=D},C.demuxSampleAes=function(w,k,_){var T=this.demux(w,_,!0,!this.config.progressive),O=this.sampleAes=new l.default(this.observer,this.config,k);return this.decrypt(T,O)},C.decrypt=function(w,k){return new Promise(function(_){var T=w.audioTrack,O=w.avcTrack;T.samples&&T.isAAC?k.decryptAacSamples(T.samples,0,function(){O.samples?k.decryptAvcSamples(O.samples,0,0,function(){_(w)}):_(w)}):O.samples&&k.decryptAvcSamples(O.samples,0,0,function(){_(w)})})},C.destroy=function(){this._initPTS=this._initDTS=null,this._duration=0},C.parseAVCPES=function(w,k){var _,T=this,O=this._avcTrack,A=this.parseAVCNALu(w.data),P=this.avcSample,D=!1;w.data=null,P&&A.length&&!O.audFound&&(h(P,O),P=this.avcSample=E(!1,w.pts,w.dts,"")),A.forEach(function(I){switch(I.type){case 1:_=!0,P||(P=T.avcSample=E(!0,w.pts,w.dts,"")),P.frame=!0;var x=I.data;if(D&&x.length>4){var L=new i.default(x).readSliceType();L!==2&&L!==4&&L!==7&&L!==9||(P.key=!0)}break;case 5:_=!0,P||(P=T.avcSample=E(!0,w.pts,w.dts,"")),P.key=!0,P.frame=!0;break;case 6:_=!0;var $=new i.default(b(I.data));$.readUByte();for(var M=0,j=0,F=!1,U=0;!F&&$.bytesAvailable>1;){M=0;do M+=U=$.readUByte();while(U===255);j=0;do j+=U=$.readUByte();while(U===255);if(M===4&&$.bytesAvailable!==0){if(F=!0,$.readUByte()===181&&$.readUShort()===49&&$.readUInt()===1195456820&&$.readUByte()===3){for(var B=$.readUByte(),K=31&B,V=[B,$.readUByte()],X=0;X<K;X++)V.push($.readUByte()),V.push($.readUByte()),V.push($.readUByte());y(T._txtTrack.samples,{type:3,pts:w.pts,bytes:V})}}else if(M===5&&$.bytesAvailable!==0){if(F=!0,j>16){for(var Z=[],ne=0;ne<16;ne++)Z.push($.readUByte().toString(16)),ne!==3&&ne!==5&&ne!==7&&ne!==9||Z.push("-");for(var ae=j-16,ye=new Uint8Array(ae),de=0;de<ae;de++)ye[de]=$.readUByte();y(T._txtTrack.samples,{pts:w.pts,payloadType:M,uuid:Z.join(""),userData:Object(o.utf8ArrayToStr)(ye),userDataBytes:ye})}}else if(j<$.bytesAvailable)for(var be=0;be<j;be++)$.readUByte()}break;case 7:if(_=!0,D=!0,!O.sps){var G=new i.default(I.data).readSPS();O.width=G.width,O.height=G.height,O.pixelRatio=G.pixelRatio,O.sps=[I.data],O.duration=T._duration;for(var Y=I.data.subarray(1,4),Q="avc1.",re=0;re<3;re++){var ie=Y[re].toString(16);ie.length<2&&(ie="0"+ie),Q+=ie}O.codec=Q}break;case 8:_=!0,O.pps||(O.pps=[I.data]);break;case 9:_=!1,O.audFound=!0,P&&h(P,O),P=T.avcSample=E(!1,w.pts,w.dts,"");break;case 12:_=!1;break;default:_=!1,P&&(P.debug+="unknown NAL "+I.type+" ")}P&&_&&P.units.push(I)}),k&&P&&(h(P,O),this.avcSample=null)},C.getLastNalUnit=function(){var w,k,_=this.avcSample;if(!_||_.units.length===0){var T=this._avcTrack.samples;_=T[T.length-1]}if((w=_)!==null&&w!==void 0&&w.units){var O=_.units;k=O[O.length-1]}return k},C.parseAVCNALu=function(w){var k,_,T=w.byteLength,O=this._avcTrack,A=O.naluState||0,P=A,D=[],I=0,x=-1,L=0;for(A===-1&&(x=0,L=31&w[0],A=0,I=1);I<T;)if(k=w[I++],A)if(A!==1)if(k)if(k===1){if(x>=0){var $={data:w.subarray(x,I-A-1),type:L};D.push($)}else{var M=this.getLastNalUnit();if(M&&(P&&I<=4-P&&M.state&&(M.data=M.data.subarray(0,M.data.byteLength-P)),(_=I-A-1)>0)){var j=new Uint8Array(M.data.byteLength+_);j.set(M.data,0),j.set(w.subarray(0,_),M.data.byteLength),M.data=j}}I<T?(x=I,L=31&w[I],A=0):A=-1}else A=0;else A=3;else A=k?0:2;else A=k?0:1;if(x>=0&&A>=0){var F={data:w.subarray(x,T),type:L,state:A};D.push(F)}if(D.length===0){var U=this.getLastNalUnit();if(U){var B=new Uint8Array(U.data.byteLength+w.byteLength);B.set(U.data,0),B.set(w,U.data.byteLength),U.data=B}}return O.naluState=A,D},C.parseAACPES=function(w){var k,_,T,O,A,P=0,D=this._audioTrack,I=this.aacOverFlow,x=w.data;if(I){this.aacOverFlow=null;var L=I.sample.unit.byteLength,$=Math.min(I.missing,L),M=L-$;I.sample.unit.set(x.subarray(0,$),M),D.samples.push(I.sample),P=I.missing}for(k=P,_=x.length;k<_-1&&!r.isHeader(x,k);k++);if(k===P||(k<_-1?(T="AAC PES did not start with ADTS header,offset:"+k,O=!1):(T="no ADTS header found in AAC PES",O=!0),c.logger.warn("parsing error:"+T),this.observer.emit(u.Events.ERROR,u.Events.ERROR,{type:d.ErrorTypes.MEDIA_ERROR,details:d.ErrorDetails.FRAG_PARSING_ERROR,fatal:O,reason:T}),!O)){if(r.initTrackConfig(D,this.observer,x,k,this.audioCodec),w.pts!==void 0)A=w.pts;else{if(!I)return void c.logger.warn("[tsdemuxer]: AAC PES unknown PTS");var j=r.getFrameDuration(D.samplerate);A=I.sample.pts+j}for(var F=0;k<_;){if(r.isHeader(x,k)){if(k+5<_){var U=r.appendFrame(D,x,k,A,F);if(U){if(!U.missing){k+=U.length,F++;continue}this.aacOverFlow=U}}break}k++}}},C.parseMPEGPES=function(w){var k=w.data,_=k.length,T=0,O=0,A=w.pts;if(A!==void 0)for(;O<_;)if(a.isHeader(k,O)){var P=a.appendFrame(this._audioTrack,k,O,A,T);if(!P)break;O+=P.length,T++}else O++;else c.logger.warn("[tsdemuxer]: MPEG PES unknown PTS")},C.parseID3PES=function(w){w.pts!==void 0?this._id3Track.samples.push(w):c.logger.warn("[tsdemuxer]: ID3 PES unknown PTS")},p}();function E(p,C,w,k){return{key:p,frame:!1,pts:C,dts:w,units:[],debug:k,length:0}}function m(p,C){return(31&p[C+10])<<8|p[C+11]}function f(p,C,w,k){var _={audio:-1,avc:-1,id3:-1,isAAC:!0},T=C+3+((15&p[C+1])<<8|p[C+2])-4;for(C+=12+((15&p[C+10])<<8|p[C+11]);C<T;){var O=(31&p[C+1])<<8|p[C+2];switch(p[C]){case 207:if(!k){c.logger.log("ADTS AAC with AES-128-CBC frame encryption found in unencrypted stream");break}case 15:_.audio===-1&&(_.audio=O);break;case 21:_.id3===-1&&(_.id3=O);break;case 219:if(!k){c.logger.log("H.264 with AES-128-CBC slice encryption found in unencrypted stream");break}case 27:_.avc===-1&&(_.avc=O);break;case 3:case 4:w?_.audio===-1&&(_.audio=O,_.isAAC=!1):c.logger.log("MPEG audio found, not supported in this browser");break;case 36:c.logger.warn("Unsupported HEVC stream type found")}C+=5+((15&p[C+3])<<8|p[C+4])}return _}function g(p){var C,w,k,_,T,O=0,A=p.data;if(!p||p.size===0)return null;for(;A[0].length<19&&A.length>1;){var P=new Uint8Array(A[0].length+A[1].length);P.set(A[0]),P.set(A[1],A[0].length),A[0]=P,A.splice(1,1)}if(((C=A[0])[0]<<16)+(C[1]<<8)+C[2]===1){if((w=(C[4]<<8)+C[5])&&w>p.size-6)return null;var D=C[7];192&D&&(_=536870912*(14&C[9])+4194304*(255&C[10])+16384*(254&C[11])+128*(255&C[12])+(254&C[13])/2,64&D?_-(T=536870912*(14&C[14])+4194304*(255&C[15])+16384*(254&C[16])+128*(255&C[17])+(254&C[18])/2)>54e5&&(c.logger.warn(Math.round((_-T)/9e4)+"s delta between PTS and DTS, align them"),_=T):T=_);var I=(k=C[8])+9;if(p.size<=I)return null;p.size-=I;for(var x=new Uint8Array(p.size),L=0,$=A.length;L<$;L++){var M=(C=A[L]).byteLength;if(I){if(I>M){I-=M;continue}C=C.subarray(I),M-=I,I=0}x.set(C,O),O+=M}return w&&(w-=k+3),{data:x,pts:_,dts:T,len:w}}return null}function h(p,C){if(p.units.length&&p.frame){if(p.pts===void 0){var w=C.samples,k=w.length;if(!k)return void C.dropped++;var _=w[k-1];p.pts=_.pts,p.dts=_.dts}C.samples.push(p)}p.debug.length&&c.logger.log(p.pts+"/"+p.dts+":"+p.debug)}function y(p,C){var w=p.length;if(w>0){if(C.pts>=p[w-1].pts)p.push(C);else for(var k=w-1;k>=0;k--)if(C.pts<p[k].pts){p.splice(k,0,C);break}}else p.push(C)}function b(p){for(var C=p.byteLength,w=[],k=1;k<C-2;)p[k]===0&&p[k+1]===0&&p[k+2]===3?(w.push(k+2),k+=2):k++;if(w.length===0)return p;var _=C-w.length,T=new Uint8Array(_),O=0;for(k=0;k<_;O++,k++)O===w[0]&&(O++,w.shift()),T[k]=p[O];return T}S.minProbeByteLength=188,t.default=S},"./src/errors.ts":function(e,t,n){var r,a,i,o;n.r(t),n.d(t,"ErrorTypes",function(){return r}),n.d(t,"ErrorDetails",function(){return i}),(a=r||(r={})).NETWORK_ERROR="networkError",a.MEDIA_ERROR="mediaError",a.KEY_SYSTEM_ERROR="keySystemError",a.MUX_ERROR="muxError",a.OTHER_ERROR="otherError",(o=i||(i={})).KEY_SYSTEM_NO_KEYS="keySystemNoKeys",o.KEY_SYSTEM_NO_ACCESS="keySystemNoAccess",o.KEY_SYSTEM_NO_SESSION="keySystemNoSession",o.KEY_SYSTEM_LICENSE_REQUEST_FAILED="keySystemLicenseRequestFailed",o.KEY_SYSTEM_NO_INIT_DATA="keySystemNoInitData",o.MANIFEST_LOAD_ERROR="manifestLoadError",o.MANIFEST_LOAD_TIMEOUT="manifestLoadTimeOut",o.MANIFEST_PARSING_ERROR="manifestParsingError",o.MANIFEST_INCOMPATIBLE_CODECS_ERROR="manifestIncompatibleCodecsError",o.LEVEL_EMPTY_ERROR="levelEmptyError",o.LEVEL_LOAD_ERROR="levelLoadError",o.LEVEL_LOAD_TIMEOUT="levelLoadTimeOut",o.LEVEL_SWITCH_ERROR="levelSwitchError",o.AUDIO_TRACK_LOAD_ERROR="audioTrackLoadError",o.AUDIO_TRACK_LOAD_TIMEOUT="audioTrackLoadTimeOut",o.SUBTITLE_LOAD_ERROR="subtitleTrackLoadError",o.SUBTITLE_TRACK_LOAD_TIMEOUT="subtitleTrackLoadTimeOut",o.FRAG_LOAD_ERROR="fragLoadError",o.FRAG_LOAD_TIMEOUT="fragLoadTimeOut",o.FRAG_DECRYPT_ERROR="fragDecryptError",o.FRAG_PARSING_ERROR="fragParsingError",o.REMUX_ALLOC_ERROR="remuxAllocError",o.KEY_LOAD_ERROR="keyLoadError",o.KEY_LOAD_TIMEOUT="keyLoadTimeOut",o.BUFFER_ADD_CODEC_ERROR="bufferAddCodecError",o.BUFFER_INCOMPATIBLE_CODECS_ERROR="bufferIncompatibleCodecsError",o.BUFFER_APPEND_ERROR="bufferAppendError",o.BUFFER_APPENDING_ERROR="bufferAppendingError",o.BUFFER_STALLED_ERROR="bufferStalledError",o.BUFFER_FULL_ERROR="bufferFullError",o.BUFFER_SEEK_OVER_HOLE="bufferSeekOverHole",o.BUFFER_NUDGE_ON_STALL="bufferNudgeOnStall",o.INTERNAL_EXCEPTION="internalException",o.INTERNAL_ABORTED="aborted",o.UNKNOWN="unknown"},"./src/events.ts":function(e,t,n){var r,a;n.r(t),n.d(t,"Events",function(){return r}),(a=r||(r={})).MEDIA_ATTACHING="hlsMediaAttaching",a.MEDIA_ATTACHED="hlsMediaAttached",a.MEDIA_DETACHING="hlsMediaDetaching",a.MEDIA_DETACHED="hlsMediaDetached",a.BUFFER_RESET="hlsBufferReset",a.BUFFER_CODECS="hlsBufferCodecs",a.BUFFER_CREATED="hlsBufferCreated",a.BUFFER_APPENDING="hlsBufferAppending",a.BUFFER_APPENDED="hlsBufferAppended",a.BUFFER_EOS="hlsBufferEos",a.BUFFER_FLUSHING="hlsBufferFlushing",a.BUFFER_FLUSHED="hlsBufferFlushed",a.MANIFEST_LOADING="hlsManifestLoading",a.MANIFEST_LOADED="hlsManifestLoaded",a.MANIFEST_PARSED="hlsManifestParsed",a.LEVEL_SWITCHING="hlsLevelSwitching",a.LEVEL_SWITCHED="hlsLevelSwitched",a.LEVEL_LOADING="hlsLevelLoading",a.LEVEL_LOADED="hlsLevelLoaded",a.LEVEL_UPDATED="hlsLevelUpdated",a.LEVEL_PTS_UPDATED="hlsLevelPtsUpdated",a.LEVELS_UPDATED="hlsLevelsUpdated",a.AUDIO_TRACKS_UPDATED="hlsAudioTracksUpdated",a.AUDIO_TRACK_SWITCHING="hlsAudioTrackSwitching",a.AUDIO_TRACK_SWITCHED="hlsAudioTrackSwitched",a.AUDIO_TRACK_LOADING="hlsAudioTrackLoading",a.AUDIO_TRACK_LOADED="hlsAudioTrackLoaded",a.SUBTITLE_TRACKS_UPDATED="hlsSubtitleTracksUpdated",a.SUBTITLE_TRACKS_CLEARED="hlsSubtitleTracksCleared",a.SUBTITLE_TRACK_SWITCH="hlsSubtitleTrackSwitch",a.SUBTITLE_TRACK_LOADING="hlsSubtitleTrackLoading",a.SUBTITLE_TRACK_LOADED="hlsSubtitleTrackLoaded",a.SUBTITLE_FRAG_PROCESSED="hlsSubtitleFragProcessed",a.CUES_PARSED="hlsCuesParsed",a.NON_NATIVE_TEXT_TRACKS_FOUND="hlsNonNativeTextTracksFound",a.INIT_PTS_FOUND="hlsInitPtsFound",a.FRAG_LOADING="hlsFragLoading",a.FRAG_LOAD_EMERGENCY_ABORTED="hlsFragLoadEmergencyAborted",a.FRAG_LOADED="hlsFragLoaded",a.FRAG_DECRYPTED="hlsFragDecrypted",a.FRAG_PARSING_INIT_SEGMENT="hlsFragParsingInitSegment",a.FRAG_PARSING_USERDATA="hlsFragParsingUserdata",a.FRAG_PARSING_METADATA="hlsFragParsingMetadata",a.FRAG_PARSED="hlsFragParsed",a.FRAG_BUFFERED="hlsFragBuffered",a.FRAG_CHANGED="hlsFragChanged",a.FPS_DROP="hlsFpsDrop",a.FPS_DROP_LEVEL_CAPPING="hlsFpsDropLevelCapping",a.ERROR="hlsError",a.DESTROYING="hlsDestroying",a.KEY_LOADING="hlsKeyLoading",a.KEY_LOADED="hlsKeyLoaded",a.LIVE_BACK_BUFFER_REACHED="hlsLiveBackBufferReached",a.BACK_BUFFER_REACHED="hlsBackBufferReached"},"./src/hls.ts":function(e,t,n){n.r(t),n.d(t,"default",function(){return h});var r=n("./node_modules/url-toolkit/src/url-toolkit.js"),a=n("./src/loader/playlist-loader.ts"),i=n("./src/loader/key-loader.ts"),o=n("./src/controller/id3-track-controller.ts"),l=n("./src/controller/latency-controller.ts"),u=n("./src/controller/level-controller.ts"),s=n("./src/controller/fragment-tracker.ts"),c=n("./src/controller/stream-controller.ts"),d=n("./src/is-supported.ts"),v=n("./src/utils/logger.ts"),S=n("./src/config.ts"),E=n("./node_modules/eventemitter3/index.js"),m=n("./src/events.ts"),f=n("./src/errors.ts");function g(y,b){for(var p=0;p<b.length;p++){var C=b[p];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(y,C.key,C)}}var h=function(){function y(k){k===void 0&&(k={}),this.config=void 0,this.userConfig=void 0,this.coreComponents=void 0,this.networkControllers=void 0,this._emitter=new E.EventEmitter,this._autoLevelCapping=void 0,this.abrController=void 0,this.bufferController=void 0,this.capLevelController=void 0,this.latencyController=void 0,this.levelController=void 0,this.streamController=void 0,this.audioTrackController=void 0,this.subtitleTrackController=void 0,this.emeController=void 0,this._media=null,this.url=null;var _=this.config=Object(S.mergeConfig)(y.DefaultConfig,k);this.userConfig=k,Object(v.enableLogs)(_.debug),this._autoLevelCapping=-1,_.progressive&&Object(S.enableStreamingMode)(_);var T=_.abrController,O=_.bufferController,A=_.capLevelController,P=_.fpsController,D=this.abrController=new T(this),I=this.bufferController=new O(this),x=this.capLevelController=new A(this),L=new P(this),$=new a.default(this),M=new i.default(this),j=new o.default(this),F=this.levelController=new u.default(this),U=new s.FragmentTracker(this),B=this.streamController=new c.default(this,U);x.setStreamController(B),L.setStreamController(B);var K=[F,B];this.networkControllers=K;var V=[$,M,D,I,x,L,j,U];this.audioTrackController=this.createController(_.audioTrackController,null,K),this.createController(_.audioStreamController,U,K),this.subtitleTrackController=this.createController(_.subtitleTrackController,null,K),this.createController(_.subtitleStreamController,U,K),this.createController(_.timelineController,null,V),this.emeController=this.createController(_.emeController,null,V),this.latencyController=this.createController(l.default,null,V),this.coreComponents=V}y.isSupported=function(){return Object(d.isSupported)()};var b,p,C,w=y.prototype;return w.createController=function(k,_,T){if(k){var O=_?new k(this,_):new k(this);return T&&T.push(O),O}return null},w.on=function(k,_,T){T===void 0&&(T=this),this._emitter.on(k,_,T)},w.once=function(k,_,T){T===void 0&&(T=this),this._emitter.once(k,_,T)},w.removeAllListeners=function(k){this._emitter.removeAllListeners(k)},w.off=function(k,_,T,O){T===void 0&&(T=this),this._emitter.off(k,_,T,O)},w.listeners=function(k){return this._emitter.listeners(k)},w.emit=function(k,_,T){return this._emitter.emit(k,_,T)},w.trigger=function(k,_){if(this.config.debug)return this.emit(k,k,_);try{return this.emit(k,k,_)}catch(T){v.logger.error("An internal error happened while handling event "+k+'. Error message: "'+T.message+'". Here is a stacktrace:',T),this.trigger(m.Events.ERROR,{type:f.ErrorTypes.OTHER_ERROR,details:f.ErrorDetails.INTERNAL_EXCEPTION,fatal:!1,event:k,error:T})}return!1},w.listenerCount=function(k){return this._emitter.listenerCount(k)},w.destroy=function(){v.logger.log("destroy"),this.trigger(m.Events.DESTROYING,void 0),this.detachMedia(),this.removeAllListeners(),this._autoLevelCapping=-1,this.url=null,this.networkControllers.forEach(function(k){return k.destroy()}),this.networkControllers.length=0,this.coreComponents.forEach(function(k){return k.destroy()}),this.coreComponents.length=0},w.attachMedia=function(k){v.logger.log("attachMedia"),this._media=k,this.trigger(m.Events.MEDIA_ATTACHING,{media:k})},w.detachMedia=function(){v.logger.log("detachMedia"),this.trigger(m.Events.MEDIA_DETACHING,void 0),this._media=null},w.loadSource=function(k){this.stopLoad();var _=this.media,T=this.url,O=this.url=r.buildAbsoluteURL(self.location.href,k,{alwaysNormalize:!0});v.logger.log("loadSource:"+O),_&&T&&T!==O&&this.bufferController.hasSourceTypes()&&(this.detachMedia(),this.attachMedia(_)),this.trigger(m.Events.MANIFEST_LOADING,{url:k})},w.startLoad=function(k){k===void 0&&(k=-1),v.logger.log("startLoad("+k+")"),this.networkControllers.forEach(function(_){_.startLoad(k)})},w.stopLoad=function(){v.logger.log("stopLoad"),this.networkControllers.forEach(function(k){k.stopLoad()})},w.swapAudioCodec=function(){v.logger.log("swapAudioCodec"),this.streamController.swapAudioCodec()},w.recoverMediaError=function(){v.logger.log("recoverMediaError");var k=this._media;this.detachMedia(),k&&this.attachMedia(k)},w.removeLevel=function(k,_){_===void 0&&(_=0),this.levelController.removeLevel(k,_)},b=y,C=[{key:"version",get:function(){return"1.0.10"}},{key:"Events",get:function(){return m.Events}},{key:"ErrorTypes",get:function(){return f.ErrorTypes}},{key:"ErrorDetails",get:function(){return f.ErrorDetails}},{key:"DefaultConfig",get:function(){return y.defaultConfig?y.defaultConfig:S.hlsDefaultConfig},set:function(k){y.defaultConfig=k}}],(p=[{key:"levels",get:function(){var k=this.levelController.levels;return k||[]}},{key:"currentLevel",get:function(){return this.streamController.currentLevel},set:function(k){v.logger.log("set currentLevel:"+k),this.loadLevel=k,this.abrController.clearTimer(),this.streamController.immediateLevelSwitch()}},{key:"nextLevel",get:function(){return this.streamController.nextLevel},set:function(k){v.logger.log("set nextLevel:"+k),this.levelController.manualLevel=k,this.streamController.nextLevelSwitch()}},{key:"loadLevel",get:function(){return this.levelController.level},set:function(k){v.logger.log("set loadLevel:"+k),this.levelController.manualLevel=k}},{key:"nextLoadLevel",get:function(){return this.levelController.nextLoadLevel},set:function(k){this.levelController.nextLoadLevel=k}},{key:"firstLevel",get:function(){return Math.max(this.levelController.firstLevel,this.minAutoLevel)},set:function(k){v.logger.log("set firstLevel:"+k),this.levelController.firstLevel=k}},{key:"startLevel",get:function(){return this.levelController.startLevel},set:function(k){v.logger.log("set startLevel:"+k),k!==-1&&(k=Math.max(k,this.minAutoLevel)),this.levelController.startLevel=k}},{key:"capLevelToPlayerSize",get:function(){return this.config.capLevelToPlayerSize},set:function(k){var _=!!k;_!==this.config.capLevelToPlayerSize&&(_?this.capLevelController.startCapping():(this.capLevelController.stopCapping(),this.autoLevelCapping=-1,this.streamController.nextLevelSwitch()),this.config.capLevelToPlayerSize=_)}},{key:"autoLevelCapping",get:function(){return this._autoLevelCapping},set:function(k){this._autoLevelCapping!==k&&(v.logger.log("set autoLevelCapping:"+k),this._autoLevelCapping=k)}},{key:"bandwidthEstimate",get:function(){var k=this.abrController.bwEstimator;return k?k.getEstimate():NaN}},{key:"autoLevelEnabled",get:function(){return this.levelController.manualLevel===-1}},{key:"manualLevel",get:function(){return this.levelController.manualLevel}},{key:"minAutoLevel",get:function(){var k=this.levels,_=this.config.minAutoBitrate;if(!k)return 0;for(var T=k.length,O=0;O<T;O++)if(k[O].maxBitrate>_)return O;return 0}},{key:"maxAutoLevel",get:function(){var k=this.levels,_=this.autoLevelCapping;return _===-1&&k&&k.length?k.length-1:_}},{key:"nextAutoLevel",get:function(){return Math.min(Math.max(this.abrController.nextAutoLevel,this.minAutoLevel),this.maxAutoLevel)},set:function(k){this.abrController.nextAutoLevel=Math.max(this.minAutoLevel,k)}},{key:"audioTracks",get:function(){var k=this.audioTrackController;return k?k.audioTracks:[]}},{key:"audioTrack",get:function(){var k=this.audioTrackController;return k?k.audioTrack:-1},set:function(k){var _=this.audioTrackController;_&&(_.audioTrack=k)}},{key:"subtitleTracks",get:function(){var k=this.subtitleTrackController;return k?k.subtitleTracks:[]}},{key:"subtitleTrack",get:function(){var k=this.subtitleTrackController;return k?k.subtitleTrack:-1},set:function(k){var _=this.subtitleTrackController;_&&(_.subtitleTrack=k)}},{key:"media",get:function(){return this._media}},{key:"subtitleDisplay",get:function(){var k=this.subtitleTrackController;return!!k&&k.subtitleDisplay},set:function(k){var _=this.subtitleTrackController;_&&(_.subtitleDisplay=k)}},{key:"lowLatencyMode",get:function(){return this.config.lowLatencyMode},set:function(k){this.config.lowLatencyMode=k}},{key:"liveSyncPosition",get:function(){return this.latencyController.liveSyncPosition}},{key:"latency",get:function(){return this.latencyController.latency}},{key:"maxLatency",get:function(){return this.latencyController.maxLatency}},{key:"targetLatency",get:function(){return this.latencyController.targetLatency}},{key:"drift",get:function(){return this.latencyController.drift}},{key:"forceStartLoad",get:function(){return this.streamController.forceStartLoad}}])&&g(b.prototype,p),C&&g(b,C),y}();h.defaultConfig=void 0},"./src/is-supported.ts":function(e,t,n){n.r(t),n.d(t,"isSupported",function(){return i}),n.d(t,"changeTypeSupported",function(){return o});var r=n("./src/utils/mediasource-helper.ts");function a(){return self.SourceBuffer||self.WebKitSourceBuffer}function i(){var l=Object(r.getMediaSource)();if(!l)return!1;var u=a(),s=l&&typeof l.isTypeSupported=="function"&&l.isTypeSupported('video/mp4; codecs="avc1.42E01E,mp4a.40.2"'),c=!u||u.prototype&&typeof u.prototype.appendBuffer=="function"&&typeof u.prototype.remove=="function";return!!s&&!!c}function o(){var l,u=a();return typeof(u==null||(l=u.prototype)===null||l===void 0?void 0:l.changeType)=="function"}},"./src/loader/fragment-loader.ts":function(e,t,n){n.r(t),n.d(t,"default",function(){return d}),n.d(t,"LoadError",function(){return S});var r=n("./src/polyfills/number.ts"),a=n("./src/errors.ts");function i(E){var m=typeof Map=="function"?new Map:void 0;return(i=function(f){if(f===null||(g=f,Function.toString.call(g).indexOf("[native code]")===-1))return f;var g;if(typeof f!="function")throw new TypeError("Super expression must either be null or a function");if(m!==void 0){if(m.has(f))return m.get(f);m.set(f,h)}function h(){return o(f,arguments,s(this).constructor)}return h.prototype=Object.create(f.prototype,{constructor:{value:h,enumerable:!1,writable:!0,configurable:!0}}),u(h,f)})(E)}function o(E,m,f){return(o=l()?Reflect.construct:function(g,h,y){var b=[null];b.push.apply(b,h);var p=new(Function.bind.apply(g,b));return y&&u(p,y.prototype),p}).apply(null,arguments)}function l(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function u(E,m){return(u=Object.setPrototypeOf||function(f,g){return f.__proto__=g,f})(E,m)}function s(E){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(m){return m.__proto__||Object.getPrototypeOf(m)})(E)}var c=Math.pow(2,17),d=function(){function E(f){this.config=void 0,this.loader=null,this.partLoadTimeout=-1,this.config=f}var m=E.prototype;return m.destroy=function(){this.loader&&(this.loader.destroy(),this.loader=null)},m.abort=function(){this.loader&&this.loader.abort()},m.load=function(f,g){var h=this,y=f.url;if(!y)return Promise.reject(new S({type:a.ErrorTypes.NETWORK_ERROR,details:a.ErrorDetails.FRAG_LOAD_ERROR,fatal:!1,frag:f,networkDetails:null},"Fragment does not have a "+(y?"part list":"url")));this.abort();var b=this.config,p=b.fLoader,C=b.loader;return new Promise(function(w,k){h.loader&&h.loader.destroy();var _=h.loader=f.loader=p?new p(b):new C(b),T=v(f),O={timeout:b.fragLoadingTimeOut,maxRetry:0,retryDelay:0,maxRetryDelay:b.fragLoadingMaxRetryTimeout,highWaterMark:c};f.stats=_.stats,_.load(T,O,{onSuccess:function(A,P,D,I){h.resetLoader(f,_),w({frag:f,part:null,payload:A.data,networkDetails:I})},onError:function(A,P,D){h.resetLoader(f,_),k(new S({type:a.ErrorTypes.NETWORK_ERROR,details:a.ErrorDetails.FRAG_LOAD_ERROR,fatal:!1,frag:f,response:A,networkDetails:D}))},onAbort:function(A,P,D){h.resetLoader(f,_),k(new S({type:a.ErrorTypes.NETWORK_ERROR,details:a.ErrorDetails.INTERNAL_ABORTED,fatal:!1,frag:f,networkDetails:D}))},onTimeout:function(A,P,D){h.resetLoader(f,_),k(new S({type:a.ErrorTypes.NETWORK_ERROR,details:a.ErrorDetails.FRAG_LOAD_TIMEOUT,fatal:!1,frag:f,networkDetails:D}))},onProgress:function(A,P,D,I){g&&g({frag:f,part:null,payload:D,networkDetails:I})}})})},m.loadPart=function(f,g,h){var y=this;this.abort();var b=this.config,p=b.fLoader,C=b.loader;return new Promise(function(w,k){y.loader&&y.loader.destroy();var _=y.loader=f.loader=p?new p(b):new C(b),T=v(f,g),O={timeout:b.fragLoadingTimeOut,maxRetry:0,retryDelay:0,maxRetryDelay:b.fragLoadingMaxRetryTimeout,highWaterMark:c};g.stats=_.stats,_.load(T,O,{onSuccess:function(A,P,D,I){y.resetLoader(f,_),y.updateStatsFromPart(f,g);var x={frag:f,part:g,payload:A.data,networkDetails:I};h(x),w(x)},onError:function(A,P,D){y.resetLoader(f,_),k(new S({type:a.ErrorTypes.NETWORK_ERROR,details:a.ErrorDetails.FRAG_LOAD_ERROR,fatal:!1,frag:f,part:g,response:A,networkDetails:D}))},onAbort:function(A,P,D){f.stats.aborted=g.stats.aborted,y.resetLoader(f,_),k(new S({type:a.ErrorTypes.NETWORK_ERROR,details:a.ErrorDetails.INTERNAL_ABORTED,fatal:!1,frag:f,part:g,networkDetails:D}))},onTimeout:function(A,P,D){y.resetLoader(f,_),k(new S({type:a.ErrorTypes.NETWORK_ERROR,details:a.ErrorDetails.FRAG_LOAD_TIMEOUT,fatal:!1,frag:f,part:g,networkDetails:D}))}})})},m.updateStatsFromPart=function(f,g){var h=f.stats,y=g.stats,b=y.total;if(h.loaded+=y.loaded,b){var p=Math.round(f.duration/g.duration),C=Math.min(Math.round(h.loaded/b),p),w=(p-C)*Math.round(h.loaded/C);h.total=h.loaded+w}else h.total=Math.max(h.loaded,h.total);var k=h.loading,_=y.loading;k.start?k.first+=_.first-_.start:(k.start=_.start,k.first=_.first),k.end=_.end},m.resetLoader=function(f,g){f.loader=null,this.loader===g&&(self.clearTimeout(this.partLoadTimeout),this.loader=null),g.destroy()},E}();function v(E,m){m===void 0&&(m=null);var f=m||E,g={frag:E,part:m,responseType:"arraybuffer",url:f.url,rangeStart:0,rangeEnd:0},h=f.byteRangeStartOffset,y=f.byteRangeEndOffset;return Object(r.isFiniteNumber)(h)&&Object(r.isFiniteNumber)(y)&&(g.rangeStart=h,g.rangeEnd=y),g}var S=function(E){var m,f;function g(h){for(var y,b=arguments.length,p=new Array(b>1?b-1:0),C=1;C<b;C++)p[C-1]=arguments[C];return(y=E.call.apply(E,[this].concat(p))||this).data=void 0,y.data=h,y}return f=E,(m=g).prototype=Object.create(f.prototype),m.prototype.constructor=m,u(m,f),g}(i(Error))},"./src/loader/fragment.ts":function(e,t,n){n.r(t),n.d(t,"ElementaryStreamTypes",function(){return r}),n.d(t,"BaseSegment",function(){return E}),n.d(t,"Fragment",function(){return m}),n.d(t,"Part",function(){return f});var r,a,i=n("./src/polyfills/number.ts"),o=n("./node_modules/url-toolkit/src/url-toolkit.js"),l=n("./src/utils/logger.ts"),u=n("./src/loader/level-key.ts"),s=n("./src/loader/load-stats.ts");function c(g,h){g.prototype=Object.create(h.prototype),g.prototype.constructor=g,d(g,h)}function d(g,h){return(d=Object.setPrototypeOf||function(y,b){return y.__proto__=b,y})(g,h)}function v(g,h){for(var y=0;y<h.length;y++){var b=h[y];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(g,b.key,b)}}function S(g,h,y){return h&&v(g.prototype,h),y&&v(g,y),g}(a=r||(r={})).AUDIO="audio",a.VIDEO="video",a.AUDIOVIDEO="audiovideo";var E=function(){function g(h){var y;this._byteRange=null,this._url=null,this.baseurl=void 0,this.relurl=void 0,this.elementaryStreams=((y={})[r.AUDIO]=null,y[r.VIDEO]=null,y[r.AUDIOVIDEO]=null,y),this.baseurl=h}return g.prototype.setByteRange=function(h,y){var b=h.split("@",2),p=[];b.length===1?p[0]=y?y.byteRangeEndOffset:0:p[0]=parseInt(b[1]),p[1]=parseInt(b[0])+p[0],this._byteRange=p},S(g,[{key:"byteRange",get:function(){return this._byteRange?this._byteRange:[]}},{key:"byteRangeStartOffset",get:function(){return this.byteRange[0]}},{key:"byteRangeEndOffset",get:function(){return this.byteRange[1]}},{key:"url",get:function(){return!this._url&&this.baseurl&&this.relurl&&(this._url=Object(o.buildAbsoluteURL)(this.baseurl,this.relurl,{alwaysNormalize:!0})),this._url||""},set:function(h){this._url=h}}]),g}(),m=function(g){function h(b,p){var C;return(C=g.call(this,p)||this)._decryptdata=null,C.rawProgramDateTime=null,C.programDateTime=null,C.tagList=[],C.duration=0,C.sn=0,C.levelkey=void 0,C.type=void 0,C.loader=null,C.level=-1,C.cc=0,C.startPTS=void 0,C.endPTS=void 0,C.appendedPTS=void 0,C.startDTS=void 0,C.endDTS=void 0,C.start=0,C.deltaPTS=void 0,C.maxStartPTS=void 0,C.minEndPTS=void 0,C.stats=new s.LoadStats,C.urlId=0,C.data=void 0,C.bitrateTest=!1,C.title=null,C.initSegment=null,C.type=b,C}c(h,g);var y=h.prototype;return y.createInitializationVector=function(b){for(var p=new Uint8Array(16),C=12;C<16;C++)p[C]=b>>8*(15-C)&255;return p},y.setDecryptDataFromLevelKey=function(b,p){var C=b;return(b==null?void 0:b.method)==="AES-128"&&b.uri&&!b.iv&&((C=u.LevelKey.fromURI(b.uri)).method=b.method,C.iv=this.createInitializationVector(p),C.keyFormat="identity"),C},y.setElementaryStreamInfo=function(b,p,C,w,k,_){_===void 0&&(_=!1);var T=this.elementaryStreams,O=T[b];O?(O.startPTS=Math.min(O.startPTS,p),O.endPTS=Math.max(O.endPTS,C),O.startDTS=Math.min(O.startDTS,w),O.endDTS=Math.max(O.endDTS,k)):T[b]={startPTS:p,endPTS:C,startDTS:w,endDTS:k,partial:_}},y.clearElementaryStreamInfo=function(){var b=this.elementaryStreams;b[r.AUDIO]=null,b[r.VIDEO]=null,b[r.AUDIOVIDEO]=null},S(h,[{key:"decryptdata",get:function(){if(!this.levelkey&&!this._decryptdata)return null;if(!this._decryptdata&&this.levelkey){var b=this.sn;typeof b!="number"&&(this.levelkey&&this.levelkey.method==="AES-128"&&!this.levelkey.iv&&l.logger.warn('missing IV for initialization segment with method="'+this.levelkey.method+'" - compliance issue'),b=0),this._decryptdata=this.setDecryptDataFromLevelKey(this.levelkey,b)}return this._decryptdata}},{key:"end",get:function(){return this.start+this.duration}},{key:"endProgramDateTime",get:function(){if(this.programDateTime===null||!Object(i.isFiniteNumber)(this.programDateTime))return null;var b=Object(i.isFiniteNumber)(this.duration)?this.duration:0;return this.programDateTime+1e3*b}},{key:"encrypted",get:function(){var b;return!((b=this.decryptdata)===null||b===void 0||!b.keyFormat||!this.decryptdata.uri)}}]),h}(E),f=function(g){function h(y,b,p,C,w){var k;(k=g.call(this,p)||this).fragOffset=0,k.duration=0,k.gap=!1,k.independent=!1,k.relurl=void 0,k.fragment=void 0,k.index=void 0,k.stats=new s.LoadStats,k.duration=y.decimalFloatingPoint("DURATION"),k.gap=y.bool("GAP"),k.independent=y.bool("INDEPENDENT"),k.relurl=y.enumeratedString("URI"),k.fragment=b,k.index=C;var _=y.enumeratedString("BYTERANGE");return _&&k.setByteRange(_,w),w&&(k.fragOffset=w.fragOffset+w.duration),k}return c(h,g),S(h,[{key:"start",get:function(){return this.fragment.start+this.fragOffset}},{key:"end",get:function(){return this.start+this.duration}},{key:"loaded",get:function(){var y=this.elementaryStreams;return!!(y.audio||y.video||y.audiovideo)}}]),h}(E)},"./src/loader/key-loader.ts":function(e,t,n){n.r(t),n.d(t,"default",function(){return o});var r=n("./src/events.ts"),a=n("./src/errors.ts"),i=n("./src/utils/logger.ts"),o=function(){function l(s){this.hls=void 0,this.loaders={},this.decryptkey=null,this.decrypturl=null,this.hls=s,this._registerListeners()}var u=l.prototype;return u._registerListeners=function(){this.hls.on(r.Events.KEY_LOADING,this.onKeyLoading,this)},u._unregisterListeners=function(){this.hls.off(r.Events.KEY_LOADING,this.onKeyLoading)},u.destroy=function(){for(var s in this._unregisterListeners(),this.loaders){var c=this.loaders[s];c&&c.destroy()}this.loaders={}},u.onKeyLoading=function(s,c){var d=c.frag,v=d.type,S=this.loaders[v];if(d.decryptdata){var E=d.decryptdata.uri;if(E!==this.decrypturl||this.decryptkey===null){var m=this.hls.config;if(S&&(i.logger.warn("abort previous key loader for type:"+v),S.abort()),!E)return void i.logger.warn("key uri is falsy");var f=m.loader,g=d.loader=this.loaders[v]=new f(m);this.decrypturl=E,this.decryptkey=null;var h={url:E,frag:d,responseType:"arraybuffer"},y={timeout:m.fragLoadingTimeOut,maxRetry:0,retryDelay:m.fragLoadingRetryDelay,maxRetryDelay:m.fragLoadingMaxRetryTimeout,highWaterMark:0},b={onSuccess:this.loadsuccess.bind(this),onError:this.loaderror.bind(this),onTimeout:this.loadtimeout.bind(this)};g.load(h,y,b)}else this.decryptkey&&(d.decryptdata.key=this.decryptkey,this.hls.trigger(r.Events.KEY_LOADED,{frag:d}))}else i.logger.warn("Missing decryption data on fragment in onKeyLoading")},u.loadsuccess=function(s,c,d){var v=d.frag;v.decryptdata?(this.decryptkey=v.decryptdata.key=new Uint8Array(s.data),v.loader=null,delete this.loaders[v.type],this.hls.trigger(r.Events.KEY_LOADED,{frag:v})):i.logger.error("after key load, decryptdata unset")},u.loaderror=function(s,c){var d=c.frag,v=d.loader;v&&v.abort(),delete this.loaders[d.type],this.hls.trigger(r.Events.ERROR,{type:a.ErrorTypes.NETWORK_ERROR,details:a.ErrorDetails.KEY_LOAD_ERROR,fatal:!1,frag:d,response:s})},u.loadtimeout=function(s,c){var d=c.frag,v=d.loader;v&&v.abort(),delete this.loaders[d.type],this.hls.trigger(r.Events.ERROR,{type:a.ErrorTypes.NETWORK_ERROR,details:a.ErrorDetails.KEY_LOAD_TIMEOUT,fatal:!1,frag:d})},l}()},"./src/loader/level-details.ts":function(e,t,n){n.r(t),n.d(t,"LevelDetails",function(){return i});var r=n("./src/polyfills/number.ts");function a(o,l){for(var u=0;u<l.length;u++){var s=l[u];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(o,s.key,s)}}var i=function(){function o(s){this.PTSKnown=!1,this.alignedSliding=!1,this.averagetargetduration=void 0,this.endCC=0,this.endSN=0,this.fragments=void 0,this.fragmentHint=void 0,this.partList=null,this.live=!0,this.ageHeader=0,this.advancedDateTime=void 0,this.updated=!0,this.advanced=!0,this.availabilityDelay=void 0,this.misses=0,this.needSidxRanges=!1,this.startCC=0,this.startSN=0,this.startTimeOffset=null,this.targetduration=0,this.totalduration=0,this.type=null,this.url=void 0,this.m3u8="",this.version=null,this.canBlockReload=!1,this.canSkipUntil=0,this.canSkipDateRanges=!1,this.skippedSegments=0,this.recentlyRemovedDateranges=void 0,this.partHoldBack=0,this.holdBack=0,this.partTarget=0,this.preloadHint=void 0,this.renditionReports=void 0,this.tuneInGoal=0,this.deltaUpdateFailed=void 0,this.driftStartTime=0,this.driftEndTime=0,this.driftStart=0,this.driftEnd=0,this.fragments=[],this.url=s}var l,u;return o.prototype.reloaded=function(s){if(!s)return this.advanced=!0,void(this.updated=!0);var c=this.lastPartSn-s.lastPartSn,d=this.lastPartIndex-s.lastPartIndex;this.updated=this.endSN!==s.endSN||!!d||!!c,this.advanced=this.endSN>s.endSN||c>0||c===0&&d>0,this.updated||this.advanced?this.misses=Math.floor(.6*s.misses):this.misses=s.misses+1,this.availabilityDelay=s.availabilityDelay},l=o,(u=[{key:"hasProgramDateTime",get:function(){return!!this.fragments.length&&Object(r.isFiniteNumber)(this.fragments[this.fragments.length-1].programDateTime)}},{key:"levelTargetDuration",get:function(){return this.averagetargetduration||this.targetduration||10}},{key:"drift",get:function(){var s=this.driftEndTime-this.driftStartTime;return s>0?1e3*(this.driftEnd-this.driftStart)/s:1}},{key:"edge",get:function(){return this.partEnd||this.fragmentEnd}},{key:"partEnd",get:function(){var s;return(s=this.partList)!==null&&s!==void 0&&s.length?this.partList[this.partList.length-1].end:this.fragmentEnd}},{key:"fragmentEnd",get:function(){var s;return(s=this.fragments)!==null&&s!==void 0&&s.length?this.fragments[this.fragments.length-1].end:0}},{key:"age",get:function(){return this.advancedDateTime?Math.max(Date.now()-this.advancedDateTime,0)/1e3:0}},{key:"lastPartIndex",get:function(){var s;return(s=this.partList)!==null&&s!==void 0&&s.length?this.partList[this.partList.length-1].index:-1}},{key:"lastPartSn",get:function(){var s;return(s=this.partList)!==null&&s!==void 0&&s.length?this.partList[this.partList.length-1].fragment.sn:this.endSN}}])&&a(l.prototype,u),o}()},"./src/loader/level-key.ts":function(e,t,n){n.r(t),n.d(t,"LevelKey",function(){return i});var r=n("./node_modules/url-toolkit/src/url-toolkit.js");function a(o,l){for(var u=0;u<l.length;u++){var s=l[u];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(o,s.key,s)}}var i=function(){function o(s,c){this._uri=null,this.method=null,this.keyFormat=null,this.keyFormatVersions=null,this.keyID=null,this.key=null,this.iv=null,this._uri=c?Object(r.buildAbsoluteURL)(s,c,{alwaysNormalize:!0}):s}var l,u;return o.fromURL=function(s,c){return new o(s,c)},o.fromURI=function(s){return new o(s)},l=o,(u=[{key:"uri",get:function(){return this._uri}}])&&a(l.prototype,u),o}()},"./src/loader/load-stats.ts":function(e,t,n){n.r(t),n.d(t,"LoadStats",function(){return r});var r=function(){this.aborted=!1,this.loaded=0,this.retry=0,this.total=0,this.chunkCount=0,this.bwEstimate=0,this.loading={start:0,first:0,end:0},this.parsing={start:0,end:0},this.buffering={start:0,first:0,end:0}}},"./src/loader/m3u8-parser.ts":function(e,t,n){n.r(t),n.d(t,"default",function(){return f});var r=n("./src/polyfills/number.ts"),a=n("./node_modules/url-toolkit/src/url-toolkit.js"),i=n("./src/loader/fragment.ts"),o=n("./src/loader/level-details.ts"),l=n("./src/loader/level-key.ts"),u=n("./src/utils/attr-list.ts"),s=n("./src/utils/logger.ts"),c=n("./src/utils/codecs.ts"),d=/#EXT-X-STREAM-INF:([^\r\n]*)(?:[\r\n](?:#[^\r\n]*)?)*([^\r\n]+)|#EXT-X-SESSION-DATA:([^\r\n]*)[\r\n]+/g,v=/#EXT-X-MEDIA:(.*)/g,S=new RegExp([/#EXTINF:\s*(\d*(?:\.\d+)?)(?:,(.*)\s+)?/.source,/(?!#) *(\S[\S ]*)/.source,/#EXT-X-BYTERANGE:*(.+)/.source,/#EXT-X-PROGRAM-DATE-TIME:(.+)/.source,/#.*/.source].join("|"),"g"),E=new RegExp([/#(EXTM3U)/.source,/#EXT-X-(PLAYLIST-TYPE):(.+)/.source,/#EXT-X-(MEDIA-SEQUENCE): *(\d+)/.source,/#EXT-X-(SKIP):(.+)/.source,/#EXT-X-(TARGETDURATION): *(\d+)/.source,/#EXT-X-(KEY):(.+)/.source,/#EXT-X-(START):(.+)/.source,/#EXT-X-(ENDLIST)/.source,/#EXT-X-(DISCONTINUITY-SEQ)UENCE: *(\d+)/.source,/#EXT-X-(DIS)CONTINUITY/.source,/#EXT-X-(VERSION):(\d+)/.source,/#EXT-X-(MAP):(.+)/.source,/#EXT-X-(SERVER-CONTROL):(.+)/.source,/#EXT-X-(PART-INF):(.+)/.source,/#EXT-X-(GAP)/.source,/#EXT-X-(BITRATE):\s*(\d+)/.source,/#EXT-X-(PART):(.+)/.source,/#EXT-X-(PRELOAD-HINT):(.+)/.source,/#EXT-X-(RENDITION-REPORT):(.+)/.source,/(#)([^:]*):(.*)/.source,/(#)(.*)(?:.*)\r?\n?/.source].join("|")),m=/\.(mp4|m4s|m4v|m4a)$/i,f=function(){function b(){}return b.findGroup=function(p,C){for(var w=0;w<p.length;w++){var k=p[w];if(k.id===C)return k}},b.convertAVC1ToAVCOTI=function(p){var C=p.split(".");if(C.length>2){var w=C.shift()+".";return w+=parseInt(C.shift()).toString(16),w+=("000"+parseInt(C.shift()).toString(16)).substr(-4)}return p},b.resolve=function(p,C){return a.buildAbsoluteURL(C,p,{alwaysNormalize:!0})},b.parseMasterPlaylist=function(p,C){var w,k=[],_={},T=!1;for(d.lastIndex=0;(w=d.exec(p))!=null;)if(w[1]){var O=new u.AttrList(w[1]),A={attrs:O,bitrate:O.decimalInteger("AVERAGE-BANDWIDTH")||O.decimalInteger("BANDWIDTH"),name:O.NAME,url:b.resolve(w[2],C)},P=O.decimalResolution("RESOLUTION");P&&(A.width=P.width,A.height=P.height),g((O.CODECS||"").split(/[ ,]+/).filter(function(I){return I}),A),A.videoCodec&&A.videoCodec.indexOf("avc1")!==-1&&(A.videoCodec=b.convertAVC1ToAVCOTI(A.videoCodec)),k.push(A)}else if(w[3]){var D=new u.AttrList(w[3]);D["DATA-ID"]&&(T=!0,_[D["DATA-ID"]]=D)}return{levels:k,sessionData:T?_:null}},b.parseMasterPlaylistMedia=function(p,C,w,k){var _;k===void 0&&(k=[]);var T=[],O=0;for(v.lastIndex=0;(_=v.exec(p))!==null;){var A=new u.AttrList(_[1]);if(A.TYPE===w){var P={attrs:A,bitrate:0,id:O++,groupId:A["GROUP-ID"],instreamId:A["INSTREAM-ID"],name:A.NAME||A.LANGUAGE||"",type:w,default:A.bool("DEFAULT"),autoselect:A.bool("AUTOSELECT"),forced:A.bool("FORCED"),lang:A.LANGUAGE,url:A.URI?b.resolve(A.URI,C):""};if(k.length){var D=b.findGroup(k,P.groupId)||k[0];h(P,D,"audioCodec"),h(P,D,"textCodec")}T.push(P)}}return T},b.parseLevelPlaylist=function(p,C,w,k,_){var T,O,A,P=new o.LevelDetails(C),D=P.fragments,I=null,x=0,L=0,$=0,M=0,j=null,F=new i.Fragment(k,C),U=-1,B=!1;for(S.lastIndex=0,P.m3u8=p;(T=S.exec(p))!==null;){B&&(B=!1,(F=new i.Fragment(k,C)).start=$,F.sn=x,F.cc=M,F.level=w,I&&(F.initSegment=I,F.rawProgramDateTime=I.rawProgramDateTime));var K=T[1];if(K){F.duration=parseFloat(K);var V=(" "+T[2]).slice(1);F.title=V||null,F.tagList.push(V?["INF",K,V]:["INF",K])}else if(T[3])Object(r.isFiniteNumber)(F.duration)&&(F.start=$,A&&(F.levelkey=A),F.sn=x,F.level=w,F.cc=M,F.urlId=_,D.push(F),F.relurl=(" "+T[3]).slice(1),y(F,j),j=F,$+=F.duration,x++,L=0,B=!0);else if(T[4]){var X=(" "+T[4]).slice(1);j?F.setByteRange(X,j):F.setByteRange(X)}else if(T[5])F.rawProgramDateTime=(" "+T[5]).slice(1),F.tagList.push(["PROGRAM-DATE-TIME",F.rawProgramDateTime]),U===-1&&(U=D.length);else{if(!(T=T[0].match(E))){s.logger.warn("No matches on slow regex match for level playlist!");continue}for(O=1;O<T.length&&T[O]===void 0;O++);var Z=(" "+T[O]).slice(1),ne=(" "+T[O+1]).slice(1),ae=T[O+2]?(" "+T[O+2]).slice(1):"";switch(Z){case"PLAYLIST-TYPE":P.type=ne.toUpperCase();break;case"MEDIA-SEQUENCE":x=P.startSN=parseInt(ne);break;case"SKIP":var ye=new u.AttrList(ne),de=ye.decimalInteger("SKIPPED-SEGMENTS");if(Object(r.isFiniteNumber)(de)){P.skippedSegments=de;for(var be=de;be--;)D.unshift(null);x+=de}var G=ye.enumeratedString("RECENTLY-REMOVED-DATERANGES");G&&(P.recentlyRemovedDateranges=G.split("	"));break;case"TARGETDURATION":P.targetduration=parseFloat(ne);break;case"VERSION":P.version=parseInt(ne);break;case"EXTM3U":break;case"ENDLIST":P.live=!1;break;case"#":(ne||ae)&&F.tagList.push(ae?[ne,ae]:[ne]);break;case"DIS":M++;case"GAP":F.tagList.push([Z]);break;case"BITRATE":F.tagList.push([Z,ne]);break;case"DISCONTINUITY-SEQ":M=parseInt(ne);break;case"KEY":var Y,Q=new u.AttrList(ne),re=Q.enumeratedString("METHOD"),ie=Q.URI,le=Q.hexadecimalInteger("IV"),Se=Q.enumeratedString("KEYFORMATVERSIONS"),fe=Q.enumeratedString("KEYID"),me=(Y=Q.enumeratedString("KEYFORMAT"))!=null?Y:"identity";if(["com.apple.streamingkeydelivery","com.microsoft.playready","urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed","com.widevine"].indexOf(me)>-1){s.logger.warn("Keyformat "+me+" is not supported from the manifest");continue}if(me!=="identity")continue;re&&(A=l.LevelKey.fromURL(C,ie),ie&&["AES-128","SAMPLE-AES","SAMPLE-AES-CENC"].indexOf(re)>=0&&(A.method=re,A.keyFormat=me,fe&&(A.keyID=fe),Se&&(A.keyFormatVersions=Se),A.iv=le));break;case"START":var ue=new u.AttrList(ne).decimalFloatingPoint("TIME-OFFSET");Object(r.isFiniteNumber)(ue)&&(P.startTimeOffset=ue);break;case"MAP":var ke=new u.AttrList(ne);F.relurl=ke.URI,ke.BYTERANGE&&F.setByteRange(ke.BYTERANGE),F.level=w,F.sn="initSegment",A&&(F.levelkey=A),F.initSegment=null,I=F,B=!0;break;case"SERVER-CONTROL":var Ee=new u.AttrList(ne);P.canBlockReload=Ee.bool("CAN-BLOCK-RELOAD"),P.canSkipUntil=Ee.optionalFloat("CAN-SKIP-UNTIL",0),P.canSkipDateRanges=P.canSkipUntil>0&&Ee.bool("CAN-SKIP-DATERANGES"),P.partHoldBack=Ee.optionalFloat("PART-HOLD-BACK",0),P.holdBack=Ee.optionalFloat("HOLD-BACK",0);break;case"PART-INF":var Ie=new u.AttrList(ne);P.partTarget=Ie.decimalFloatingPoint("PART-TARGET");break;case"PART":var $e=P.partList;$e||($e=P.partList=[]);var je=L>0?$e[$e.length-1]:void 0,rt=L++,Xe=new i.Part(new u.AttrList(ne),F,C,rt,je);$e.push(Xe),F.duration+=Xe.duration;break;case"PRELOAD-HINT":var Ze=new u.AttrList(ne);P.preloadHint=Ze;break;case"RENDITION-REPORT":var Vt=new u.AttrList(ne);P.renditionReports=P.renditionReports||[],P.renditionReports.push(Vt);break;default:s.logger.warn("line parsed but not handled: "+T)}}}j&&!j.relurl?(D.pop(),$-=j.duration,P.partList&&(P.fragmentHint=j)):P.partList&&(y(F,j),F.cc=M,P.fragmentHint=F);var sn=D.length,gn=D[0],wn=D[sn-1];if(($+=P.skippedSegments*P.targetduration)>0&&sn&&wn){P.averagetargetduration=$/sn;var ar=wn.sn;P.endSN=ar!=="initSegment"?ar:0,gn&&(P.startCC=gn.cc,gn.initSegment||P.fragments.every(function(Tt){return Tt.relurl&&(Dt=Tt.relurl,m.test((jn=(Un=a.parseURL(Dt))===null||Un===void 0?void 0:Un.path)!=null?jn:""));var Dt,jn,Un})&&(s.logger.warn("MP4 fragments found but no init segment (probably no MAP, incomplete M3U8), trying to fetch SIDX"),(F=new i.Fragment(k,C)).relurl=wn.relurl,F.level=w,F.sn="initSegment",gn.initSegment=F,P.needSidxRanges=!0))}else P.endSN=0,P.startCC=0;return P.fragmentHint&&($+=P.fragmentHint.duration),P.totalduration=$,P.endCC=M,U>0&&function(Tt,Dt){for(var jn=Tt[Dt],Un=Dt;Un--;){var ea=Tt[Un];if(!ea)return;ea.programDateTime=jn.programDateTime-1e3*ea.duration,jn=ea}}(D,U),P},b}();function g(b,p){["video","audio","text"].forEach(function(C){var w=b.filter(function(_){return Object(c.isCodecType)(_,C)});if(w.length){var k=w.filter(function(_){return _.lastIndexOf("avc1",0)===0||_.lastIndexOf("mp4a",0)===0});p[C+"Codec"]=k.length>0?k[0]:w[0],b=b.filter(function(_){return w.indexOf(_)===-1})}}),p.unknownCodecs=b}function h(b,p,C){var w=p[C];w&&(b[C]=w)}function y(b,p){b.rawProgramDateTime?b.programDateTime=Date.parse(b.rawProgramDateTime):p!=null&&p.programDateTime&&(b.programDateTime=p.endProgramDateTime),Object(r.isFiniteNumber)(b.programDateTime)||(b.programDateTime=null,b.rawProgramDateTime=null)}},"./src/loader/playlist-loader.ts":function(e,t,n){n.r(t);var r=n("./src/polyfills/number.ts"),a=n("./src/events.ts"),i=n("./src/errors.ts"),o=n("./src/utils/logger.ts"),l=n("./src/utils/mp4-tools.ts"),u=n("./src/loader/m3u8-parser.ts"),s=n("./src/types/loader.ts"),c=n("./src/utils/attr-list.ts");function d(S,E){var m=S.url;return m!==void 0&&m.indexOf("data:")!==0||(m=E.url),m}var v=function(){function S(m){this.hls=void 0,this.loaders=Object.create(null),this.hls=m,this.registerListeners()}var E=S.prototype;return E.registerListeners=function(){var m=this.hls;m.on(a.Events.MANIFEST_LOADING,this.onManifestLoading,this),m.on(a.Events.LEVEL_LOADING,this.onLevelLoading,this),m.on(a.Events.AUDIO_TRACK_LOADING,this.onAudioTrackLoading,this),m.on(a.Events.SUBTITLE_TRACK_LOADING,this.onSubtitleTrackLoading,this)},E.unregisterListeners=function(){var m=this.hls;m.off(a.Events.MANIFEST_LOADING,this.onManifestLoading,this),m.off(a.Events.LEVEL_LOADING,this.onLevelLoading,this),m.off(a.Events.AUDIO_TRACK_LOADING,this.onAudioTrackLoading,this),m.off(a.Events.SUBTITLE_TRACK_LOADING,this.onSubtitleTrackLoading,this)},E.createInternalLoader=function(m){var f=this.hls.config,g=f.pLoader,h=f.loader,y=new(g||h)(f);return m.loader=y,this.loaders[m.type]=y,y},E.getInternalLoader=function(m){return this.loaders[m.type]},E.resetInternalLoader=function(m){this.loaders[m]&&delete this.loaders[m]},E.destroyInternalLoaders=function(){for(var m in this.loaders){var f=this.loaders[m];f&&f.destroy(),this.resetInternalLoader(m)}},E.destroy=function(){this.unregisterListeners(),this.destroyInternalLoaders()},E.onManifestLoading=function(m,f){var g=f.url;this.load({id:null,groupId:null,level:0,responseType:"text",type:s.PlaylistContextType.MANIFEST,url:g,deliveryDirectives:null})},E.onLevelLoading=function(m,f){var g=f.id,h=f.level,y=f.url,b=f.deliveryDirectives;this.load({id:g,groupId:null,level:h,responseType:"text",type:s.PlaylistContextType.LEVEL,url:y,deliveryDirectives:b})},E.onAudioTrackLoading=function(m,f){var g=f.id,h=f.groupId,y=f.url,b=f.deliveryDirectives;this.load({id:g,groupId:h,level:null,responseType:"text",type:s.PlaylistContextType.AUDIO_TRACK,url:y,deliveryDirectives:b})},E.onSubtitleTrackLoading=function(m,f){var g=f.id,h=f.groupId,y=f.url,b=f.deliveryDirectives;this.load({id:g,groupId:h,level:null,responseType:"text",type:s.PlaylistContextType.SUBTITLE_TRACK,url:y,deliveryDirectives:b})},E.load=function(m){var f,g,h,y,b,p,C=this.hls.config,w=this.getInternalLoader(m);if(w){var k=w.context;if(k&&k.url===m.url)return void o.logger.trace("[playlist-loader]: playlist request ongoing");o.logger.log("[playlist-loader]: aborting previous loader for type: "+m.type),w.abort()}switch(m.type){case s.PlaylistContextType.MANIFEST:g=C.manifestLoadingMaxRetry,h=C.manifestLoadingTimeOut,y=C.manifestLoadingRetryDelay,b=C.manifestLoadingMaxRetryTimeout;break;case s.PlaylistContextType.LEVEL:case s.PlaylistContextType.AUDIO_TRACK:case s.PlaylistContextType.SUBTITLE_TRACK:g=0,h=C.levelLoadingTimeOut;break;default:g=C.levelLoadingMaxRetry,h=C.levelLoadingTimeOut,y=C.levelLoadingRetryDelay,b=C.levelLoadingMaxRetryTimeout}if(w=this.createInternalLoader(m),(f=m.deliveryDirectives)!==null&&f!==void 0&&f.part&&(m.type===s.PlaylistContextType.LEVEL&&m.level!==null?p=this.hls.levels[m.level].details:m.type===s.PlaylistContextType.AUDIO_TRACK&&m.id!==null?p=this.hls.audioTracks[m.id].details:m.type===s.PlaylistContextType.SUBTITLE_TRACK&&m.id!==null&&(p=this.hls.subtitleTracks[m.id].details),p)){var _=p.partTarget,T=p.targetduration;_&&T&&(h=Math.min(1e3*Math.max(3*_,.8*T),h))}var O={timeout:h,maxRetry:g,retryDelay:y,maxRetryDelay:b,highWaterMark:0},A={onSuccess:this.loadsuccess.bind(this),onError:this.loaderror.bind(this),onTimeout:this.loadtimeout.bind(this)};w.load(m,O,A)},E.loadsuccess=function(m,f,g,h){if(h===void 0&&(h=null),g.isSidxRequest)return this.handleSidxRequest(m,g),void this.handlePlaylistLoaded(m,f,g,h);this.resetInternalLoader(g.type);var y=m.data;y.indexOf("#EXTM3U")===0?(f.parsing.start=performance.now(),y.indexOf("#EXTINF:")>0||y.indexOf("#EXT-X-TARGETDURATION:")>0?this.handleTrackOrLevelPlaylist(m,f,g,h):this.handleMasterPlaylist(m,f,g,h)):this.handleManifestParsingError(m,g,"no EXTM3U delimiter",h)},E.loaderror=function(m,f,g){g===void 0&&(g=null),this.handleNetworkError(f,g,!1,m)},E.loadtimeout=function(m,f,g){g===void 0&&(g=null),this.handleNetworkError(f,g,!0)},E.handleMasterPlaylist=function(m,f,g,h){var y=this.hls,b=m.data,p=d(m,g),C=u.default.parseMasterPlaylist(b,p),w=C.levels,k=C.sessionData;if(w.length){var _=w.map(function(D){return{id:D.attrs.AUDIO,audioCodec:D.audioCodec}}),T=w.map(function(D){return{id:D.attrs.SUBTITLES,textCodec:D.textCodec}}),O=u.default.parseMasterPlaylistMedia(b,p,"AUDIO",_),A=u.default.parseMasterPlaylistMedia(b,p,"SUBTITLES",T),P=u.default.parseMasterPlaylistMedia(b,p,"CLOSED-CAPTIONS");O.length&&(O.some(function(D){return!D.url})||!w[0].audioCodec||w[0].attrs.AUDIO||(o.logger.log("[playlist-loader]: audio codec signaled in quality level, but no embedded audio track signaled, create one"),O.unshift({type:"main",name:"main",default:!1,autoselect:!1,forced:!1,id:-1,attrs:new c.AttrList({}),bitrate:0,url:""}))),y.trigger(a.Events.MANIFEST_LOADED,{levels:w,audioTracks:O,subtitles:A,captions:P,url:p,stats:f,networkDetails:h,sessionData:k})}else this.handleManifestParsingError(m,g,"no level found in manifest",h)},E.handleTrackOrLevelPlaylist=function(m,f,g,h){var y=this.hls,b=g.id,p=g.level,C=g.type,w=d(m,g),k=Object(r.isFiniteNumber)(b)?b:0,_=Object(r.isFiniteNumber)(p)?p:k,T=function(I){switch(I.type){case s.PlaylistContextType.AUDIO_TRACK:return s.PlaylistLevelType.AUDIO;case s.PlaylistContextType.SUBTITLE_TRACK:return s.PlaylistLevelType.SUBTITLE;default:return s.PlaylistLevelType.MAIN}}(g),O=u.default.parseLevelPlaylist(m.data,w,_,T,k);if(O.fragments.length){if(C===s.PlaylistContextType.MANIFEST){var A={attrs:new c.AttrList({}),bitrate:0,details:O,name:"",url:w};y.trigger(a.Events.MANIFEST_LOADED,{levels:[A],audioTracks:[],url:w,stats:f,networkDetails:h,sessionData:null})}if(f.parsing.end=performance.now(),O.needSidxRanges){var P,D=(P=O.fragments[0].initSegment)===null||P===void 0?void 0:P.url;this.load({url:D,isSidxRequest:!0,type:C,level:p,levelDetails:O,id:b,groupId:null,rangeStart:0,rangeEnd:2048,responseType:"arraybuffer",deliveryDirectives:null})}else g.levelDetails=O,this.handlePlaylistLoaded(m,f,g,h)}else y.trigger(a.Events.ERROR,{type:i.ErrorTypes.NETWORK_ERROR,details:i.ErrorDetails.LEVEL_EMPTY_ERROR,fatal:!1,url:w,reason:"no fragments found in level",level:typeof g.level=="number"?g.level:void 0})},E.handleSidxRequest=function(m,f){var g=Object(l.parseSegmentIndex)(new Uint8Array(m.data));if(g){var h=g.references,y=f.levelDetails;h.forEach(function(b,p){var C=b.info,w=y.fragments[p];w.byteRange.length===0&&w.setByteRange(String(1+C.end-C.start)+"@"+String(C.start)),w.initSegment&&w.initSegment.setByteRange(String(g.moovEndOffset)+"@0")})}},E.handleManifestParsingError=function(m,f,g,h){this.hls.trigger(a.Events.ERROR,{type:i.ErrorTypes.NETWORK_ERROR,details:i.ErrorDetails.MANIFEST_PARSING_ERROR,fatal:f.type===s.PlaylistContextType.MANIFEST,url:m.url,reason:g,response:m,context:f,networkDetails:h})},E.handleNetworkError=function(m,f,g,h){g===void 0&&(g=!1),o.logger.warn("[playlist-loader]: A network "+(g?"timeout":"error")+" occurred while loading "+m.type+" level: "+m.level+" id: "+m.id+' group-id: "'+m.groupId+'"');var y=i.ErrorDetails.UNKNOWN,b=!1,p=this.getInternalLoader(m);switch(m.type){case s.PlaylistContextType.MANIFEST:y=g?i.ErrorDetails.MANIFEST_LOAD_TIMEOUT:i.ErrorDetails.MANIFEST_LOAD_ERROR,b=!0;break;case s.PlaylistContextType.LEVEL:y=g?i.ErrorDetails.LEVEL_LOAD_TIMEOUT:i.ErrorDetails.LEVEL_LOAD_ERROR,b=!1;break;case s.PlaylistContextType.AUDIO_TRACK:y=g?i.ErrorDetails.AUDIO_TRACK_LOAD_TIMEOUT:i.ErrorDetails.AUDIO_TRACK_LOAD_ERROR,b=!1;break;case s.PlaylistContextType.SUBTITLE_TRACK:y=g?i.ErrorDetails.SUBTITLE_TRACK_LOAD_TIMEOUT:i.ErrorDetails.SUBTITLE_LOAD_ERROR,b=!1}p&&this.resetInternalLoader(m.type);var C={type:i.ErrorTypes.NETWORK_ERROR,details:y,fatal:b,url:m.url,loader:p,context:m,networkDetails:f};h&&(C.response=h),this.hls.trigger(a.Events.ERROR,C)},E.handlePlaylistLoaded=function(m,f,g,h){var y=g.type,b=g.level,p=g.id,C=g.groupId,w=g.loader,k=g.levelDetails,_=g.deliveryDirectives;if(k!=null&&k.targetduration){if(w)switch(k.live&&(w.getCacheAge&&(k.ageHeader=w.getCacheAge()||0),w.getCacheAge&&!isNaN(k.ageHeader)||(k.ageHeader=0)),y){case s.PlaylistContextType.MANIFEST:case s.PlaylistContextType.LEVEL:this.hls.trigger(a.Events.LEVEL_LOADED,{details:k,level:b||0,id:p||0,stats:f,networkDetails:h,deliveryDirectives:_});break;case s.PlaylistContextType.AUDIO_TRACK:this.hls.trigger(a.Events.AUDIO_TRACK_LOADED,{details:k,id:p||0,groupId:C||"",stats:f,networkDetails:h,deliveryDirectives:_});break;case s.PlaylistContextType.SUBTITLE_TRACK:this.hls.trigger(a.Events.SUBTITLE_TRACK_LOADED,{details:k,id:p||0,groupId:C||"",stats:f,networkDetails:h,deliveryDirectives:_})}}else this.handleManifestParsingError(m,g,"invalid target duration",h)},S}();t.default=v},"./src/polyfills/number.ts":function(e,t,n){n.r(t),n.d(t,"isFiniteNumber",function(){return r}),n.d(t,"MAX_SAFE_INTEGER",function(){return a});var r=Number.isFinite||function(i){return typeof i=="number"&&isFinite(i)},a=Number.MAX_SAFE_INTEGER||9007199254740991},"./src/remux/aac-helper.ts":function(e,t,n){n.r(t);var r=function(){function a(){}return a.getSilentFrame=function(i,o){switch(i){case"mp4a.40.2":if(o===1)return new Uint8Array([0,200,0,128,35,128]);if(o===2)return new Uint8Array([33,0,73,144,2,25,0,35,128]);if(o===3)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,142]);if(o===4)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,128,44,128,8,2,56]);if(o===5)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,56]);if(o===6)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,0,178,0,32,8,224]);break;default:if(o===1)return new Uint8Array([1,64,34,128,163,78,230,128,186,8,0,0,0,28,6,241,193,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);if(o===2)return new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);if(o===3)return new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94])}},a}();t.default=r},"./src/remux/mp4-generator.ts":function(e,t,n){n.r(t);var r=Math.pow(2,32)-1,a=function(){function i(){}return i.init=function(){var o;for(o in i.types={avc1:[],avcC:[],btrt:[],dinf:[],dref:[],esds:[],ftyp:[],hdlr:[],mdat:[],mdhd:[],mdia:[],mfhd:[],minf:[],moof:[],moov:[],mp4a:[],".mp3":[],mvex:[],mvhd:[],pasp:[],sdtp:[],stbl:[],stco:[],stsc:[],stsd:[],stsz:[],stts:[],tfdt:[],tfhd:[],traf:[],trak:[],trun:[],trex:[],tkhd:[],vmhd:[],smhd:[]},i.types)i.types.hasOwnProperty(o)&&(i.types[o]=[o.charCodeAt(0),o.charCodeAt(1),o.charCodeAt(2),o.charCodeAt(3)]);var l=new Uint8Array([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0]),u=new Uint8Array([0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0]);i.HDLR_TYPES={video:l,audio:u};var s=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1]),c=new Uint8Array([0,0,0,0,0,0,0,0]);i.STTS=i.STSC=i.STCO=c,i.STSZ=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0]),i.VMHD=new Uint8Array([0,0,0,1,0,0,0,0,0,0,0,0]),i.SMHD=new Uint8Array([0,0,0,0,0,0,0,0]),i.STSD=new Uint8Array([0,0,0,0,0,0,0,1]);var d=new Uint8Array([105,115,111,109]),v=new Uint8Array([97,118,99,49]),S=new Uint8Array([0,0,0,1]);i.FTYP=i.box(i.types.ftyp,d,S,d,v),i.DINF=i.box(i.types.dinf,i.box(i.types.dref,s))},i.box=function(o){for(var l=8,u=arguments.length,s=new Array(u>1?u-1:0),c=1;c<u;c++)s[c-1]=arguments[c];for(var d=s.length,v=d;d--;)l+=s[d].byteLength;var S=new Uint8Array(l);for(S[0]=l>>24&255,S[1]=l>>16&255,S[2]=l>>8&255,S[3]=255&l,S.set(o,4),d=0,l=8;d<v;d++)S.set(s[d],l),l+=s[d].byteLength;return S},i.hdlr=function(o){return i.box(i.types.hdlr,i.HDLR_TYPES[o])},i.mdat=function(o){return i.box(i.types.mdat,o)},i.mdhd=function(o,l){l*=o;var u=Math.floor(l/(r+1)),s=Math.floor(l%(r+1));return i.box(i.types.mdhd,new Uint8Array([1,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,o>>24&255,o>>16&255,o>>8&255,255&o,u>>24,u>>16&255,u>>8&255,255&u,s>>24,s>>16&255,s>>8&255,255&s,85,196,0,0]))},i.mdia=function(o){return i.box(i.types.mdia,i.mdhd(o.timescale,o.duration),i.hdlr(o.type),i.minf(o))},i.mfhd=function(o){return i.box(i.types.mfhd,new Uint8Array([0,0,0,0,o>>24,o>>16&255,o>>8&255,255&o]))},i.minf=function(o){return o.type==="audio"?i.box(i.types.minf,i.box(i.types.smhd,i.SMHD),i.DINF,i.stbl(o)):i.box(i.types.minf,i.box(i.types.vmhd,i.VMHD),i.DINF,i.stbl(o))},i.moof=function(o,l,u){return i.box(i.types.moof,i.mfhd(o),i.traf(u,l))},i.moov=function(o){for(var l=o.length,u=[];l--;)u[l]=i.trak(o[l]);return i.box.apply(null,[i.types.moov,i.mvhd(o[0].timescale,o[0].duration)].concat(u).concat(i.mvex(o)))},i.mvex=function(o){for(var l=o.length,u=[];l--;)u[l]=i.trex(o[l]);return i.box.apply(null,[i.types.mvex].concat(u))},i.mvhd=function(o,l){l*=o;var u=Math.floor(l/(r+1)),s=Math.floor(l%(r+1)),c=new Uint8Array([1,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,o>>24&255,o>>16&255,o>>8&255,255&o,u>>24,u>>16&255,u>>8&255,255&u,s>>24,s>>16&255,s>>8&255,255&s,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255]);return i.box(i.types.mvhd,c)},i.sdtp=function(o){var l,u,s=o.samples||[],c=new Uint8Array(4+s.length);for(l=0;l<s.length;l++)u=s[l].flags,c[l+4]=u.dependsOn<<4|u.isDependedOn<<2|u.hasRedundancy;return i.box(i.types.sdtp,c)},i.stbl=function(o){return i.box(i.types.stbl,i.stsd(o),i.box(i.types.stts,i.STTS),i.box(i.types.stsc,i.STSC),i.box(i.types.stsz,i.STSZ),i.box(i.types.stco,i.STCO))},i.avc1=function(o){var l,u,s,c=[],d=[];for(l=0;l<o.sps.length;l++)s=(u=o.sps[l]).byteLength,c.push(s>>>8&255),c.push(255&s),c=c.concat(Array.prototype.slice.call(u));for(l=0;l<o.pps.length;l++)s=(u=o.pps[l]).byteLength,d.push(s>>>8&255),d.push(255&s),d=d.concat(Array.prototype.slice.call(u));var v=i.box(i.types.avcC,new Uint8Array([1,c[3],c[4],c[5],255,224|o.sps.length].concat(c).concat([o.pps.length]).concat(d))),S=o.width,E=o.height,m=o.pixelRatio[0],f=o.pixelRatio[1];return i.box(i.types.avc1,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,S>>8&255,255&S,E>>8&255,255&E,0,72,0,0,0,72,0,0,0,0,0,0,0,1,18,100,97,105,108,121,109,111,116,105,111,110,47,104,108,115,46,106,115,0,0,0,0,0,0,0,0,0,0,0,0,0,0,24,17,17]),v,i.box(i.types.btrt,new Uint8Array([0,28,156,128,0,45,198,192,0,45,198,192])),i.box(i.types.pasp,new Uint8Array([m>>24,m>>16&255,m>>8&255,255&m,f>>24,f>>16&255,f>>8&255,255&f])))},i.esds=function(o){var l=o.config.length;return new Uint8Array([0,0,0,0,3,23+l,0,1,0,4,15+l,64,21,0,0,0,0,0,0,0,0,0,0,0,5].concat([l]).concat(o.config).concat([6,1,2]))},i.mp4a=function(o){var l=o.samplerate;return i.box(i.types.mp4a,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,o.channelCount,0,16,0,0,0,0,l>>8&255,255&l,0,0]),i.box(i.types.esds,i.esds(o)))},i.mp3=function(o){var l=o.samplerate;return i.box(i.types[".mp3"],new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,o.channelCount,0,16,0,0,0,0,l>>8&255,255&l,0,0]))},i.stsd=function(o){return o.type==="audio"?o.isAAC||o.codec!=="mp3"?i.box(i.types.stsd,i.STSD,i.mp4a(o)):i.box(i.types.stsd,i.STSD,i.mp3(o)):i.box(i.types.stsd,i.STSD,i.avc1(o))},i.tkhd=function(o){var l=o.id,u=o.duration*o.timescale,s=o.width,c=o.height,d=Math.floor(u/(r+1)),v=Math.floor(u%(r+1));return i.box(i.types.tkhd,new Uint8Array([1,0,0,7,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,l>>24&255,l>>16&255,l>>8&255,255&l,0,0,0,0,d>>24,d>>16&255,d>>8&255,255&d,v>>24,v>>16&255,v>>8&255,255&v,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,s>>8&255,255&s,0,0,c>>8&255,255&c,0,0]))},i.traf=function(o,l){var u=i.sdtp(o),s=o.id,c=Math.floor(l/(r+1)),d=Math.floor(l%(r+1));return i.box(i.types.traf,i.box(i.types.tfhd,new Uint8Array([0,0,0,0,s>>24,s>>16&255,s>>8&255,255&s])),i.box(i.types.tfdt,new Uint8Array([1,0,0,0,c>>24,c>>16&255,c>>8&255,255&c,d>>24,d>>16&255,d>>8&255,255&d])),i.trun(o,u.length+16+20+8+16+8+8),u)},i.trak=function(o){return o.duration=o.duration||4294967295,i.box(i.types.trak,i.tkhd(o),i.mdia(o))},i.trex=function(o){var l=o.id;return i.box(i.types.trex,new Uint8Array([0,0,0,0,l>>24,l>>16&255,l>>8&255,255&l,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,1]))},i.trun=function(o,l){var u,s,c,d,v,S,E=o.samples||[],m=E.length,f=12+16*m,g=new Uint8Array(f);for(l+=8+f,g.set([0,0,15,1,m>>>24&255,m>>>16&255,m>>>8&255,255&m,l>>>24&255,l>>>16&255,l>>>8&255,255&l],0),u=0;u<m;u++)c=(s=E[u]).duration,d=s.size,v=s.flags,S=s.cts,g.set([c>>>24&255,c>>>16&255,c>>>8&255,255&c,d>>>24&255,d>>>16&255,d>>>8&255,255&d,v.isLeading<<2|v.dependsOn,v.isDependedOn<<6|v.hasRedundancy<<4|v.paddingValue<<1|v.isNonSync,61440&v.degradPrio,15&v.degradPrio,S>>>24&255,S>>>16&255,S>>>8&255,255&S],12+16*u);return i.box(i.types.trun,g)},i.initSegment=function(o){i.types||i.init();var l=i.moov(o),u=new Uint8Array(i.FTYP.byteLength+l.byteLength);return u.set(i.FTYP),u.set(l,i.FTYP.byteLength),u},i}();a.types=void 0,a.HDLR_TYPES=void 0,a.STTS=void 0,a.STSC=void 0,a.STCO=void 0,a.STSZ=void 0,a.VMHD=void 0,a.SMHD=void 0,a.STSD=void 0,a.FTYP=void 0,a.DINF=void 0,t.default=a},"./src/remux/mp4-remuxer.ts":function(e,t,n){n.r(t),n.d(t,"default",function(){return m}),n.d(t,"normalizePts",function(){return f});var r=n("./src/polyfills/number.ts"),a=n("./src/remux/aac-helper.ts"),i=n("./src/remux/mp4-generator.ts"),o=n("./src/events.ts"),l=n("./src/errors.ts"),u=n("./src/utils/logger.ts"),s=n("./src/types/loader.ts"),c=n("./src/utils/timescale-conversion.ts");function d(){return(d=Object.assign||function(y){for(var b=1;b<arguments.length;b++){var p=arguments[b];for(var C in p)Object.prototype.hasOwnProperty.call(p,C)&&(y[C]=p[C])}return y}).apply(this,arguments)}var v=null,S=null,E=!1,m=function(){function y(p,C,w,k){if(this.observer=void 0,this.config=void 0,this.typeSupported=void 0,this.ISGenerated=!1,this._initPTS=void 0,this._initDTS=void 0,this.nextAvcDts=null,this.nextAudioPts=null,this.isAudioContiguous=!1,this.isVideoContiguous=!1,this.observer=p,this.config=C,this.typeSupported=w,this.ISGenerated=!1,v===null){var _=(navigator.userAgent||"").match(/Chrome\/(\d+)/i);v=_?parseInt(_[1]):0}if(S===null){var T=navigator.userAgent.match(/Safari\/(\d+)/i);S=T?parseInt(T[1]):0}E=!!v&&v<75||!!S&&S<600}var b=y.prototype;return b.destroy=function(){},b.resetTimeStamp=function(p){u.logger.log("[mp4-remuxer]: initPTS & initDTS reset"),this._initPTS=this._initDTS=p},b.resetNextTimestamp=function(){u.logger.log("[mp4-remuxer]: reset next timestamp"),this.isVideoContiguous=!1,this.isAudioContiguous=!1},b.resetInitSegment=function(){u.logger.log("[mp4-remuxer]: ISGenerated flag reset"),this.ISGenerated=!1},b.getVideoStartPts=function(p){var C=!1,w=p.reduce(function(k,_){var T=_.pts-k;return T<-4294967296?(C=!0,f(k,_.pts)):T>0?k:_.pts},p[0].pts);return C&&u.logger.debug("PTS rollover detected"),w},b.remux=function(p,C,w,k,_,T,O,A){var P,D,I,x,L,$,M=_,j=_,F=p.pid>-1,U=C.pid>-1,B=C.samples.length,K=p.samples.length>0,V=B>1;if((!F||K)&&(!U||V)||this.ISGenerated||O){this.ISGenerated||(I=this.generateIS(p,C,_));var X=this.isVideoContiguous,Z=-1;if(V&&(Z=function(be){for(var G=0;G<be.length;G++)if(be[G].key)return G;return-1}(C.samples),!X&&this.config.forceKeyFrameOnDiscontinuity))if($=!0,Z>0){u.logger.warn("[mp4-remuxer]: Dropped "+Z+" out of "+B+" video samples due to a missing keyframe");var ne=this.getVideoStartPts(C.samples);C.samples=C.samples.slice(Z),C.dropped+=Z,j+=(C.samples[0].pts-ne)/(C.timescale||9e4)}else Z===-1&&(u.logger.warn("[mp4-remuxer]: No keyframe found out of "+B+" video samples"),$=!1);if(this.ISGenerated){if(K&&V){var ae=this.getVideoStartPts(C.samples),ye=(f(p.samples[0].pts,ae)-ae)/C.inputTimeScale;M+=Math.max(0,ye),j+=Math.max(0,-ye)}if(K){if(p.samplerate||(u.logger.warn("[mp4-remuxer]: regenerate InitSegment as audio detected"),I=this.generateIS(p,C,_)),D=this.remuxAudio(p,M,this.isAudioContiguous,T,U||V||A===s.PlaylistLevelType.AUDIO?j:void 0),V){var de=D?D.endPTS-D.startPTS:0;C.inputTimeScale||(u.logger.warn("[mp4-remuxer]: regenerate InitSegment as video detected"),I=this.generateIS(p,C,_)),P=this.remuxVideo(C,j,X,de)}}else V&&(P=this.remuxVideo(C,j,X,0));P&&(P.firstKeyFrame=Z,P.independent=Z!==-1)}}return this.ISGenerated&&(w.samples.length&&(L=this.remuxID3(w,_)),k.samples.length&&(x=this.remuxText(k,_))),{audio:D,video:P,initSegment:I,independent:$,text:x,id3:L}},b.generateIS=function(p,C,w){var k,_,T,O=p.samples,A=C.samples,P=this.typeSupported,D={},I=!Object(r.isFiniteNumber)(this._initPTS),x="audio/mp4";if(I&&(k=_=1/0),p.config&&O.length&&(p.timescale=p.samplerate,p.isAAC||(P.mpeg?(x="audio/mpeg",p.codec=""):P.mp3&&(p.codec="mp3")),D.audio={id:"audio",container:x,codec:p.codec,initSegment:!p.isAAC&&P.mpeg?new Uint8Array(0):i.default.initSegment([p]),metadata:{channelCount:p.channelCount}},I&&(T=p.inputTimeScale,k=_=O[0].pts-Math.round(T*w))),C.sps&&C.pps&&A.length&&(C.timescale=C.inputTimeScale,D.video={id:"main",container:"video/mp4",codec:C.codec,initSegment:i.default.initSegment([C]),metadata:{width:C.width,height:C.height}},I)){T=C.inputTimeScale;var L=this.getVideoStartPts(A),$=Math.round(T*w);_=Math.min(_,f(A[0].dts,L)-$),k=Math.min(k,L-$)}if(Object.keys(D).length)return this.ISGenerated=!0,I&&(this._initPTS=k,this._initDTS=_),{tracks:D,initPTS:k,timescale:T}},b.remuxVideo=function(p,C,w,k){var _,T,O,A=p.inputTimeScale,P=p.samples,D=[],I=P.length,x=this._initPTS,L=this.nextAvcDts,$=8,M=Number.POSITIVE_INFINITY,j=Number.NEGATIVE_INFINITY,F=0,U=!1;w&&L!==null||(L=C*A-(P[0].pts-f(P[0].dts,P[0].pts)));for(var B=0;B<I;B++){var K=P[B];K.pts=f(K.pts-x,L),K.dts=f(K.dts-x,L),K.dts>K.pts&&(F=Math.max(Math.min(F,K.pts-K.dts),-18e3)),K.dts<P[B>0?B-1:B].dts&&(U=!0)}U&&P.sort(function(Un,ea){var uC=Un.dts-ea.dts,cC=Un.pts-ea.pts;return uC||cC}),T=P[0].dts,O=P[P.length-1].dts;var V=Math.round((O-T)/(I-1));if(F<0){if(F<-2*V){u.logger.warn("PTS < DTS detected in video samples, offsetting DTS from PTS by "+Object(c.toMsFromMpegTsClock)(-V,!0)+" ms");for(var X=F,Z=0;Z<I;Z++)P[Z].dts=X=Math.max(X,P[Z].pts-V),P[Z].pts=Math.max(X,P[Z].pts)}else{u.logger.warn("PTS < DTS detected in video samples, shifting DTS by "+Object(c.toMsFromMpegTsClock)(F,!0)+" ms to overcome this issue");for(var ne=0;ne<I;ne++)P[ne].dts=P[ne].dts+F}T=P[0].dts}if(w){var ae=T-L,ye=ae>V;if(ye||ae<-1){ye?u.logger.warn("AVC: "+Object(c.toMsFromMpegTsClock)(ae,!0)+" ms ("+ae+"dts) hole between fragments detected, filling it"):u.logger.warn("AVC: "+Object(c.toMsFromMpegTsClock)(-ae,!0)+" ms ("+ae+"dts) overlapping between fragments detected"),T=L;var de=P[0].pts-ae;P[0].dts=T,P[0].pts=de,u.logger.log("Video: First PTS/DTS adjusted: "+Object(c.toMsFromMpegTsClock)(de,!0)+"/"+Object(c.toMsFromMpegTsClock)(T,!0)+", delta: "+Object(c.toMsFromMpegTsClock)(ae,!0)+" ms")}}E&&(T=Math.max(0,T));for(var be=0,G=0,Y=0;Y<I;Y++){for(var Q=P[Y],re=Q.units,ie=re.length,le=0,Se=0;Se<ie;Se++)le+=re[Se].data.length;G+=le,be+=ie,Q.length=le,Q.dts=Math.max(Q.dts,T),Q.pts=Math.max(Q.pts,Q.dts,0),M=Math.min(Q.pts,M),j=Math.max(Q.pts,j)}O=P[I-1].dts;var fe,me=G+4*be+8;try{fe=new Uint8Array(me)}catch{return void this.observer.emit(o.Events.ERROR,o.Events.ERROR,{type:l.ErrorTypes.MUX_ERROR,details:l.ErrorDetails.REMUX_ALLOC_ERROR,fatal:!1,bytes:me,reason:"fail allocating video mdat "+me})}var ue=new DataView(fe.buffer);ue.setUint32(0,me),fe.set(i.default.types.mdat,4);for(var ke=0;ke<I;ke++){for(var Ee=P[ke],Ie=Ee.units,$e=0,je=0,rt=Ie.length;je<rt;je++){var Xe=Ie[je],Ze=Xe.data,Vt=Xe.data.byteLength;ue.setUint32($,Vt),$+=4,fe.set(Ze,$),$+=Vt,$e+=4+Vt}if(ke<I-1)_=P[ke+1].dts-Ee.dts;else{var sn=this.config,gn=Ee.dts-P[ke>0?ke-1:ke].dts;if(sn.stretchShortVideoTrack&&this.nextAudioPts!==null){var wn=Math.floor(sn.maxBufferHole*A),ar=(k?M+k*A:this.nextAudioPts)-Ee.pts;ar>wn?((_=ar-gn)<0&&(_=gn),u.logger.log("[mp4-remuxer]: It is approximately "+ar/90+" ms to the next segment; using duration "+_/90+" ms for the last video frame.")):_=gn}else _=gn}var Tt=Math.round(Ee.pts-Ee.dts);D.push(new g(Ee.key,_,$e,Tt))}if(D.length&&v&&v<70){var Dt=D[0].flags;Dt.dependsOn=2,Dt.isNonSync=0}console.assert(_!==void 0,"mp4SampleDuration must be computed"),this.nextAvcDts=L=O+_,this.isVideoContiguous=!0;var jn={data1:i.default.moof(p.sequenceNumber++,T,d({},p,{samples:D})),data2:fe,startPTS:M/A,endPTS:(j+_)/A,startDTS:T/A,endDTS:L/A,type:"video",hasAudio:!1,hasVideo:!0,nb:D.length,dropped:p.dropped};return p.samples=[],p.dropped=0,console.assert(fe.length,"MDAT length must not be zero"),jn},b.remuxAudio=function(p,C,w,k,_){var T=p.inputTimeScale,O=T/(p.samplerate?p.samplerate:T),A=p.isAAC?1024:1152,P=A*O,D=this._initPTS,I=!p.isAAC&&this.typeSupported.mpeg,x=[],L=p.samples,$=I?0:8,M=this.nextAudioPts||-1,j=C*T;if(this.isAudioContiguous=w=w||L.length&&M>0&&(k&&Math.abs(j-M)<9e3||Math.abs(f(L[0].pts-D,j)-M)<20*P),L.forEach(function(Ze){Ze.pts=f(Ze.pts-D,j)}),!w||M<0){if(!(L=L.filter(function(Ze){return Ze.pts>=0})).length)return;M=_===0?0:k?Math.max(0,j):L[0].pts}if(p.isAAC)for(var F=_!==void 0,U=this.config.maxAudioFramesDrift,B=0,K=M;B<L.length;B++){var V=L[B],X=V.pts,Z=X-K,ne=Math.abs(1e3*Z/T);if(Z<=-U*P&&F)B===0&&(u.logger.warn("Audio frame @ "+(X/T).toFixed(3)+"s overlaps nextAudioPts by "+Math.round(1e3*Z/T)+" ms."),this.nextAudioPts=M=K=X);else if(Z>=U*P&&ne<1e4&&F){var ae=Math.round(Z/P);(K=X-ae*P)<0&&(ae--,K+=P),B===0&&(this.nextAudioPts=M=K),u.logger.warn("[mp4-remuxer]: Injecting "+ae+" audio frame @ "+(K/T).toFixed(3)+"s due to "+Math.round(1e3*Z/T)+" ms gap.");for(var ye=0;ye<ae;ye++){var de=Math.max(K,0),be=a.default.getSilentFrame(p.manifestCodec||p.codec,p.channelCount);be||(u.logger.log("[mp4-remuxer]: Unable to get silent frame for given audio codec; duplicating last frame instead."),be=V.unit.subarray()),L.splice(B,0,{unit:be,pts:de}),K+=P,B++}}V.pts=K,K+=P}for(var G,Y=null,Q=null,re=0,ie=L.length;ie--;)re+=L[ie].unit.byteLength;for(var le=0,Se=L.length;le<Se;le++){var fe=L[le],me=fe.unit,ue=fe.pts;if(Q!==null)x[le-1].duration=Math.round((ue-Q)/O);else{if(w&&p.isAAC&&(ue=M),Y=ue,!(re>0))return;re+=$;try{G=new Uint8Array(re)}catch{return void this.observer.emit(o.Events.ERROR,o.Events.ERROR,{type:l.ErrorTypes.MUX_ERROR,details:l.ErrorDetails.REMUX_ALLOC_ERROR,fatal:!1,bytes:re,reason:"fail allocating audio mdat "+re})}I||(new DataView(G.buffer).setUint32(0,re),G.set(i.default.types.mdat,4))}G.set(me,$);var ke=me.byteLength;$+=ke,x.push(new g(!0,A,ke,0)),Q=ue}var Ee=x.length;if(Ee){var Ie=x[x.length-1];this.nextAudioPts=M=Q+O*Ie.duration;var $e=I?new Uint8Array(0):i.default.moof(p.sequenceNumber++,Y/O,d({},p,{samples:x}));p.samples=[];var je=Y/T,rt=M/T,Xe={data1:$e,data2:G,startPTS:je,endPTS:rt,startDTS:je,endDTS:rt,type:"audio",hasAudio:!0,hasVideo:!1,nb:Ee};return this.isAudioContiguous=!0,console.assert(G.length,"MDAT length must not be zero"),Xe}},b.remuxEmptyAudio=function(p,C,w,k){var _=p.inputTimeScale,T=_/(p.samplerate?p.samplerate:_),O=this.nextAudioPts,A=(O!==null?O:k.startDTS*_)+this._initDTS,P=k.endDTS*_+this._initDTS,D=1024*T,I=Math.ceil((P-A)/D),x=a.default.getSilentFrame(p.manifestCodec||p.codec,p.channelCount);if(u.logger.warn("[mp4-remuxer]: remux empty Audio"),x){for(var L=[],$=0;$<I;$++){var M=A+$*D;L.push({unit:x,pts:M,dts:M})}return p.samples=L,this.remuxAudio(p,C,w,!1)}u.logger.trace("[mp4-remuxer]: Unable to remuxEmptyAudio since we were unable to get a silent frame for given audio codec")},b.remuxID3=function(p,C){var w=p.samples.length;if(w){for(var k=p.inputTimeScale,_=this._initPTS,T=this._initDTS,O=0;O<w;O++){var A=p.samples[O];A.pts=f(A.pts-_,C*k)/k,A.dts=f(A.dts-T,C*k)/k}var P=p.samples;return p.samples=[],{samples:P}}},b.remuxText=function(p,C){var w=p.samples.length;if(w){for(var k=p.inputTimeScale,_=this._initPTS,T=0;T<w;T++){var O=p.samples[T];O.pts=f(O.pts-_,C*k)/k}p.samples.sort(function(P,D){return P.pts-D.pts});var A=p.samples;return p.samples=[],{samples:A}}},y}();function f(y,b){var p;if(b===null)return y;for(p=b<y?-8589934592:8589934592;Math.abs(y-b)>4294967296;)y+=p;return y}var g=function(y,b,p,C){this.size=void 0,this.duration=void 0,this.cts=void 0,this.flags=void 0,this.duration=b,this.size=p,this.cts=C,this.flags=new h(y)},h=function(y){this.isLeading=0,this.isDependedOn=0,this.hasRedundancy=0,this.degradPrio=0,this.dependsOn=1,this.isNonSync=1,this.dependsOn=y?2:1,this.isNonSync=y?0:1}},"./src/remux/passthrough-remuxer.ts":function(e,t,n){n.r(t);var r=n("./src/polyfills/number.ts"),a=n("./src/utils/mp4-tools.ts"),i=n("./src/loader/fragment.ts"),o=n("./src/utils/logger.ts"),l=function(){function c(){this.emitInitSegment=!1,this.audioCodec=void 0,this.videoCodec=void 0,this.initData=void 0,this.initPTS=void 0,this.initTracks=void 0,this.lastEndDTS=null}var d=c.prototype;return d.destroy=function(){},d.resetTimeStamp=function(v){this.initPTS=v,this.lastEndDTS=null},d.resetNextTimestamp=function(){this.lastEndDTS=null},d.resetInitSegment=function(v,S,E){this.audioCodec=S,this.videoCodec=E,this.generateInitSegment(v),this.emitInitSegment=!0},d.generateInitSegment=function(v){var S=this.audioCodec,E=this.videoCodec;if(!v||!v.byteLength)return this.initTracks=void 0,void(this.initData=void 0);var m=this.initData=Object(a.parseInitSegment)(v);S||(S=s(m.audio,i.ElementaryStreamTypes.AUDIO)),E||(E=s(m.video,i.ElementaryStreamTypes.VIDEO));var f={};m.audio&&m.video?f.audiovideo={container:"video/mp4",codec:S+","+E,initSegment:v,id:"main"}:m.audio?f.audio={container:"audio/mp4",codec:S,initSegment:v,id:"audio"}:m.video?f.video={container:"video/mp4",codec:E,initSegment:v,id:"main"}:o.logger.warn("[passthrough-remuxer.ts]: initSegment does not contain moov or trak boxes."),this.initTracks=f},d.remux=function(v,S,E,m,f){var g=this.initPTS,h=this.lastEndDTS,y={audio:void 0,video:void 0,text:m,id3:E,initSegment:void 0};Object(r.isFiniteNumber)(h)||(h=this.lastEndDTS=f||0);var b=S.samples;if(!b||!b.length)return y;var p={initPTS:void 0,timescale:1},C=this.initData;if(C&&C.length||(this.generateInitSegment(b),C=this.initData),!C||!C.length)return o.logger.warn("[passthrough-remuxer.ts]: Failed to generate initSegment."),y;this.emitInitSegment&&(p.tracks=this.initTracks,this.emitInitSegment=!1),Object(r.isFiniteNumber)(g)||(this.initPTS=p.initPTS=g=u(C,b,h));var w=Object(a.getDuration)(b,C),k=h,_=w+k;Object(a.offsetStartDTS)(C,b,g),w>0?this.lastEndDTS=_:(o.logger.warn("Duration parsed from mp4 should be greater than zero"),this.resetNextTimestamp());var T=!!C.audio,O=!!C.video,A="";T&&(A+="audio"),O&&(A+="video");var P={data1:b,startPTS:k,startDTS:k,endPTS:_,endDTS:_,type:A,hasAudio:T,hasVideo:O,nb:1,dropped:0};return y.audio=P.type==="audio"?P:void 0,y.video=P.type!=="audio"?P:void 0,y.text=m,y.id3=E,y.initSegment=p,y},c}(),u=function(c,d,v){return Object(a.getStartDTS)(c,d)-v};function s(c,d){var v=c==null?void 0:c.codec;return v&&v.length>4?v:v==="hvc1"?"hvc1.1.c.L120.90":v==="av01"?"av01.0.04M.08":v==="avc1"||d===i.ElementaryStreamTypes.VIDEO?"avc1.42e01e":"mp4a.40.5"}t.default=l},"./src/task-loop.ts":function(e,t,n){n.r(t),n.d(t,"default",function(){return r});var r=function(){function a(){this._boundTick=void 0,this._tickTimer=null,this._tickInterval=null,this._tickCallCount=0,this._boundTick=this.tick.bind(this)}var i=a.prototype;return i.destroy=function(){this.onHandlerDestroying(),this.onHandlerDestroyed()},i.onHandlerDestroying=function(){this.clearNextTick(),this.clearInterval()},i.onHandlerDestroyed=function(){},i.hasInterval=function(){return!!this._tickInterval},i.hasNextTick=function(){return!!this._tickTimer},i.setInterval=function(o){return!this._tickInterval&&(this._tickInterval=self.setInterval(this._boundTick,o),!0)},i.clearInterval=function(){return!!this._tickInterval&&(self.clearInterval(this._tickInterval),this._tickInterval=null,!0)},i.clearNextTick=function(){return!!this._tickTimer&&(self.clearTimeout(this._tickTimer),this._tickTimer=null,!0)},i.tick=function(){this._tickCallCount++,this._tickCallCount===1&&(this.doTick(),this._tickCallCount>1&&this.tickImmediate(),this._tickCallCount=0)},i.tickImmediate=function(){this.clearNextTick(),this._tickTimer=self.setTimeout(this._boundTick,0)},i.doTick=function(){},a}()},"./src/types/level.ts":function(e,t,n){function r(s,c){for(var d=0;d<c.length;d++){var v=c[d];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(s,v.key,v)}}var a,i;function o(s,c){var d=s.canSkipUntil,v=s.canSkipDateRanges,S=s.endSN;return d&&(c!==void 0?c-S:0)<d?v?a.v2:a.Yes:a.No}n.r(t),n.d(t,"HlsSkip",function(){return a}),n.d(t,"getSkipValue",function(){return o}),n.d(t,"HlsUrlParameters",function(){return l}),n.d(t,"Level",function(){return u}),(i=a||(a={})).No="",i.Yes="YES",i.v2="v2";var l=function(){function s(c,d,v){this.msn=void 0,this.part=void 0,this.skip=void 0,this.msn=c,this.part=d,this.skip=v}return s.prototype.addDirectives=function(c){var d=new self.URL(c);return this.msn!==void 0&&d.searchParams.set("_HLS_msn",this.msn.toString()),this.part!==void 0&&d.searchParams.set("_HLS_part",this.part.toString()),this.skip&&d.searchParams.set("_HLS_skip",this.skip),d.toString()},s}(),u=function(){function s(v){this.attrs=void 0,this.audioCodec=void 0,this.bitrate=void 0,this.codecSet=void 0,this.height=void 0,this.id=void 0,this.name=void 0,this.videoCodec=void 0,this.width=void 0,this.unknownCodecs=void 0,this.audioGroupIds=void 0,this.details=void 0,this.fragmentError=0,this.loadError=0,this.loaded=void 0,this.realBitrate=0,this.textGroupIds=void 0,this.url=void 0,this._urlId=0,this.url=[v.url],this.attrs=v.attrs,this.bitrate=v.bitrate,v.details&&(this.details=v.details),this.id=v.id||0,this.name=v.name,this.width=v.width||0,this.height=v.height||0,this.audioCodec=v.audioCodec,this.videoCodec=v.videoCodec,this.unknownCodecs=v.unknownCodecs,this.codecSet=[v.videoCodec,v.audioCodec].filter(function(S){return S}).join(",").replace(/\.[^.,]+/g,"")}var c,d;return c=s,(d=[{key:"maxBitrate",get:function(){return Math.max(this.realBitrate,this.bitrate)}},{key:"uri",get:function(){return this.url[this._urlId]||""}},{key:"urlId",get:function(){return this._urlId},set:function(v){var S=v%this.url.length;this._urlId!==S&&(this.details=void 0,this._urlId=S)}}])&&r(c.prototype,d),s}()},"./src/types/loader.ts":function(e,t,n){var r,a,i,o;n.r(t),n.d(t,"PlaylistContextType",function(){return r}),n.d(t,"PlaylistLevelType",function(){return i}),(a=r||(r={})).MANIFEST="manifest",a.LEVEL="level",a.AUDIO_TRACK="audioTrack",a.SUBTITLE_TRACK="subtitleTrack",(o=i||(i={})).MAIN="main",o.AUDIO="audio",o.SUBTITLE="subtitle"},"./src/types/transmuxer.ts":function(e,t,n){n.r(t),n.d(t,"ChunkMetadata",function(){return r});var r=function(a,i,o,l,u,s){l===void 0&&(l=0),u===void 0&&(u=-1),s===void 0&&(s=!1),this.level=void 0,this.sn=void 0,this.part=void 0,this.id=void 0,this.size=void 0,this.partial=void 0,this.transmuxing={start:0,executeStart:0,executeEnd:0,end:0},this.buffering={audio:{start:0,executeStart:0,executeEnd:0,end:0},video:{start:0,executeStart:0,executeEnd:0,end:0},audiovideo:{start:0,executeStart:0,executeEnd:0,end:0}},this.level=a,this.sn=i,this.id=o,this.size=l,this.part=u,this.partial=s}},"./src/utils/attr-list.ts":function(e,t,n){n.r(t),n.d(t,"AttrList",function(){return i});var r=/^(\d+)x(\d+)$/,a=/\s*(.+?)\s*=((?:\".*?\")|.*?)(?:,|$)/g,i=function(){function o(u){for(var s in typeof u=="string"&&(u=o.parseAttrList(u)),u)u.hasOwnProperty(s)&&(this[s]=u[s])}var l=o.prototype;return l.decimalInteger=function(u){var s=parseInt(this[u],10);return s>Number.MAX_SAFE_INTEGER?1/0:s},l.hexadecimalInteger=function(u){if(this[u]){var s=(this[u]||"0x").slice(2);s=(1&s.length?"0":"")+s;for(var c=new Uint8Array(s.length/2),d=0;d<s.length/2;d++)c[d]=parseInt(s.slice(2*d,2*d+2),16);return c}return null},l.hexadecimalIntegerAsNumber=function(u){var s=parseInt(this[u],16);return s>Number.MAX_SAFE_INTEGER?1/0:s},l.decimalFloatingPoint=function(u){return parseFloat(this[u])},l.optionalFloat=function(u,s){var c=this[u];return c?parseFloat(c):s},l.enumeratedString=function(u){return this[u]},l.bool=function(u){return this[u]==="YES"},l.decimalResolution=function(u){var s=r.exec(this[u]);if(s!==null)return{width:parseInt(s[1],10),height:parseInt(s[2],10)}},o.parseAttrList=function(u){var s,c={};for(a.lastIndex=0;(s=a.exec(u))!==null;){var d=s[2];d.indexOf('"')===0&&d.lastIndexOf('"')===d.length-1&&(d=d.slice(1,-1)),c[s[1]]=d}return c},o}()},"./src/utils/binary-search.ts":function(e,t,n){n.r(t),t.default={search:function(r,a){for(var i=0,o=r.length-1,l=null,u=null;i<=o;){var s=a(u=r[l=(i+o)/2|0]);if(s>0)i=l+1;else{if(!(s<0))return u;o=l-1}}return null}}},"./src/utils/buffer-helper.ts":function(e,t,n){n.r(t),n.d(t,"BufferHelper",function(){return i});var r=n("./src/utils/logger.ts"),a={length:0,start:function(){return 0},end:function(){return 0}},i=function(){function o(){}return o.isBuffered=function(l,u){try{if(l){for(var s=o.getBuffered(l),c=0;c<s.length;c++)if(u>=s.start(c)&&u<=s.end(c))return!0}}catch{}return!1},o.bufferInfo=function(l,u,s){try{if(l){var c,d=o.getBuffered(l),v=[];for(c=0;c<d.length;c++)v.push({start:d.start(c),end:d.end(c)});return this.bufferedInfo(v,u,s)}}catch{}return{len:0,start:u,end:u,nextStart:void 0}},o.bufferedInfo=function(l,u,s){u=Math.max(0,u),l.sort(function(p,C){var w=p.start-C.start;return w||C.end-p.end});var c=[];if(s)for(var d=0;d<l.length;d++){var v=c.length;if(v){var S=c[v-1].end;l[d].start-S<s?l[d].end>S&&(c[v-1].end=l[d].end):c.push(l[d])}else c.push(l[d])}else c=l;for(var E,m=0,f=u,g=u,h=0;h<c.length;h++){var y=c[h].start,b=c[h].end;if(u+s>=y&&u<b)f=y,m=(g=b)-u;else if(u+s<y){E=y;break}}return{len:m,start:f||0,end:g||0,nextStart:E}},o.getBuffered=function(l){try{return l.buffered}catch(u){return r.logger.log("failed to get media.buffered",u),a}},o}()},"./src/utils/cea-608-parser.ts":function(e,t,n){n.r(t),n.d(t,"Row",function(){return y}),n.d(t,"CaptionScreen",function(){return b});var r,a,i=n("./src/utils/logger.ts"),o={42:225,92:233,94:237,95:243,96:250,123:231,124:247,125:209,126:241,127:9608,128:174,129:176,130:189,131:191,132:8482,133:162,134:163,135:9834,136:224,137:32,138:232,139:226,140:234,141:238,142:244,143:251,144:193,145:201,146:211,147:218,148:220,149:252,150:8216,151:161,152:42,153:8217,154:9473,155:169,156:8480,157:8226,158:8220,159:8221,160:192,161:194,162:199,163:200,164:202,165:203,166:235,167:206,168:207,169:239,170:212,171:217,172:249,173:219,174:171,175:187,176:195,177:227,178:205,179:204,180:236,181:210,182:242,183:213,184:245,185:123,186:125,187:92,188:94,189:95,190:124,191:8764,192:196,193:228,194:214,195:246,196:223,197:165,198:164,199:9475,200:197,201:229,202:216,203:248,204:9487,205:9491,206:9495,207:9499},l=function(_){var T=_;return o.hasOwnProperty(_)&&(T=o[_]),String.fromCharCode(T)},u=15,s=100,c={17:1,18:3,21:5,22:7,23:9,16:11,19:12,20:14},d={17:2,18:4,21:6,22:8,23:10,19:13,20:15},v={25:1,26:3,29:5,30:7,31:9,24:11,27:12,28:14},S={25:2,26:4,29:6,30:8,31:10,27:13,28:15},E=["white","green","blue","cyan","red","yellow","magenta","black","transparent"];(a=r||(r={}))[a.ERROR=0]="ERROR",a[a.TEXT=1]="TEXT",a[a.WARNING=2]="WARNING",a[a.INFO=2]="INFO",a[a.DEBUG=3]="DEBUG",a[a.DATA=3]="DATA";var m=function(){function _(){this.time=null,this.verboseLevel=r.ERROR}return _.prototype.log=function(T,O){this.verboseLevel>=T&&i.logger.log(this.time+" ["+T+"] "+O)},_}(),f=function(_){for(var T=[],O=0;O<_.length;O++)T.push(_[O].toString(16));return T},g=function(){function _(O,A,P,D,I){this.foreground=void 0,this.underline=void 0,this.italics=void 0,this.background=void 0,this.flash=void 0,this.foreground=O||"white",this.underline=A||!1,this.italics=P||!1,this.background=D||"black",this.flash=I||!1}var T=_.prototype;return T.reset=function(){this.foreground="white",this.underline=!1,this.italics=!1,this.background="black",this.flash=!1},T.setStyles=function(O){for(var A=["foreground","underline","italics","background","flash"],P=0;P<A.length;P++){var D=A[P];O.hasOwnProperty(D)&&(this[D]=O[D])}},T.isDefault=function(){return this.foreground==="white"&&!this.underline&&!this.italics&&this.background==="black"&&!this.flash},T.equals=function(O){return this.foreground===O.foreground&&this.underline===O.underline&&this.italics===O.italics&&this.background===O.background&&this.flash===O.flash},T.copy=function(O){this.foreground=O.foreground,this.underline=O.underline,this.italics=O.italics,this.background=O.background,this.flash=O.flash},T.toString=function(){return"color="+this.foreground+", underline="+this.underline+", italics="+this.italics+", background="+this.background+", flash="+this.flash},_}(),h=function(){function _(O,A,P,D,I,x){this.uchar=void 0,this.penState=void 0,this.uchar=O||" ",this.penState=new g(A,P,D,I,x)}var T=_.prototype;return T.reset=function(){this.uchar=" ",this.penState.reset()},T.setChar=function(O,A){this.uchar=O,this.penState.copy(A)},T.setPenState=function(O){this.penState.copy(O)},T.equals=function(O){return this.uchar===O.uchar&&this.penState.equals(O.penState)},T.copy=function(O){this.uchar=O.uchar,this.penState.copy(O.penState)},T.isEmpty=function(){return this.uchar===" "&&this.penState.isDefault()},_}(),y=function(){function _(O){this.chars=void 0,this.pos=void 0,this.currPenState=void 0,this.cueStartTime=void 0,this.logger=void 0,this.chars=[];for(var A=0;A<s;A++)this.chars.push(new h);this.logger=O,this.pos=0,this.currPenState=new g}var T=_.prototype;return T.equals=function(O){for(var A=!0,P=0;P<s;P++)if(!this.chars[P].equals(O.chars[P])){A=!1;break}return A},T.copy=function(O){for(var A=0;A<s;A++)this.chars[A].copy(O.chars[A])},T.isEmpty=function(){for(var O=!0,A=0;A<s;A++)if(!this.chars[A].isEmpty()){O=!1;break}return O},T.setCursor=function(O){this.pos!==O&&(this.pos=O),this.pos<0?(this.logger.log(r.DEBUG,"Negative cursor position "+this.pos),this.pos=0):this.pos>s&&(this.logger.log(r.DEBUG,"Too large cursor position "+this.pos),this.pos=s)},T.moveCursor=function(O){var A=this.pos+O;if(O>1)for(var P=this.pos+1;P<A+1;P++)this.chars[P].setPenState(this.currPenState);this.setCursor(A)},T.backSpace=function(){this.moveCursor(-1),this.chars[this.pos].setChar(" ",this.currPenState)},T.insertChar=function(O){O>=144&&this.backSpace();var A=l(O);this.pos>=s?this.logger.log(r.ERROR,"Cannot insert "+O.toString(16)+" ("+A+") at position "+this.pos+". Skipping it!"):(this.chars[this.pos].setChar(A,this.currPenState),this.moveCursor(1))},T.clearFromPos=function(O){var A;for(A=O;A<s;A++)this.chars[A].reset()},T.clear=function(){this.clearFromPos(0),this.pos=0,this.currPenState.reset()},T.clearToEndOfRow=function(){this.clearFromPos(this.pos)},T.getTextString=function(){for(var O=[],A=!0,P=0;P<s;P++){var D=this.chars[P].uchar;D!==" "&&(A=!1),O.push(D)}return A?"":O.join("")},T.setPenStyles=function(O){this.currPenState.setStyles(O),this.chars[this.pos].setPenState(this.currPenState)},_}(),b=function(){function _(O){this.rows=void 0,this.currRow=void 0,this.nrRollUpRows=void 0,this.lastOutputScreen=void 0,this.logger=void 0,this.rows=[];for(var A=0;A<u;A++)this.rows.push(new y(O));this.logger=O,this.currRow=14,this.nrRollUpRows=null,this.lastOutputScreen=null,this.reset()}var T=_.prototype;return T.reset=function(){for(var O=0;O<u;O++)this.rows[O].clear();this.currRow=14},T.equals=function(O){for(var A=!0,P=0;P<u;P++)if(!this.rows[P].equals(O.rows[P])){A=!1;break}return A},T.copy=function(O){for(var A=0;A<u;A++)this.rows[A].copy(O.rows[A])},T.isEmpty=function(){for(var O=!0,A=0;A<u;A++)if(!this.rows[A].isEmpty()){O=!1;break}return O},T.backSpace=function(){this.rows[this.currRow].backSpace()},T.clearToEndOfRow=function(){this.rows[this.currRow].clearToEndOfRow()},T.insertChar=function(O){this.rows[this.currRow].insertChar(O)},T.setPen=function(O){this.rows[this.currRow].setPenStyles(O)},T.moveCursor=function(O){this.rows[this.currRow].moveCursor(O)},T.setCursor=function(O){this.logger.log(r.INFO,"setCursor: "+O),this.rows[this.currRow].setCursor(O)},T.setPAC=function(O){this.logger.log(r.INFO,"pacData = "+JSON.stringify(O));var A=O.row-1;if(this.nrRollUpRows&&A<this.nrRollUpRows-1&&(A=this.nrRollUpRows-1),this.nrRollUpRows&&this.currRow!==A){for(var P=0;P<u;P++)this.rows[P].clear();var D=this.currRow+1-this.nrRollUpRows,I=this.lastOutputScreen;if(I){var x=I.rows[D].cueStartTime,L=this.logger.time;if(x&&L!==null&&x<L)for(var $=0;$<this.nrRollUpRows;$++)this.rows[A-this.nrRollUpRows+$+1].copy(I.rows[D+$])}}this.currRow=A;var M=this.rows[this.currRow];if(O.indent!==null){var j=O.indent,F=Math.max(j-1,0);M.setCursor(O.indent),O.color=M.chars[F].penState.foreground}var U={foreground:O.color,underline:O.underline,italics:O.italics,background:"black",flash:!1};this.setPen(U)},T.setBkgData=function(O){this.logger.log(r.INFO,"bkgData = "+JSON.stringify(O)),this.backSpace(),this.setPen(O),this.insertChar(32)},T.setRollUpRows=function(O){this.nrRollUpRows=O},T.rollUp=function(){if(this.nrRollUpRows!==null){this.logger.log(r.TEXT,this.getDisplayText());var O=this.currRow+1-this.nrRollUpRows,A=this.rows.splice(O,1)[0];A.clear(),this.rows.splice(this.currRow,0,A),this.logger.log(r.INFO,"Rolling up")}else this.logger.log(r.DEBUG,"roll_up but nrRollUpRows not set yet")},T.getDisplayText=function(O){O=O||!1;for(var A=[],P="",D=-1,I=0;I<u;I++){var x=this.rows[I].getTextString();x&&(D=I+1,O?A.push("Row "+D+": '"+x+"'"):A.push(x.trim()))}return A.length>0&&(P=O?"["+A.join(" | ")+"]":A.join(`
`)),P},T.getTextAndFormat=function(){return this.rows},_}(),p=function(){function _(O,A,P){this.chNr=void 0,this.outputFilter=void 0,this.mode=void 0,this.verbose=void 0,this.displayedMemory=void 0,this.nonDisplayedMemory=void 0,this.lastOutputScreen=void 0,this.currRollUpRow=void 0,this.writeScreen=void 0,this.cueStartTime=void 0,this.logger=void 0,this.chNr=O,this.outputFilter=A,this.mode=null,this.verbose=0,this.displayedMemory=new b(P),this.nonDisplayedMemory=new b(P),this.lastOutputScreen=new b(P),this.currRollUpRow=this.displayedMemory.rows[14],this.writeScreen=this.displayedMemory,this.mode=null,this.cueStartTime=null,this.logger=P}var T=_.prototype;return T.reset=function(){this.mode=null,this.displayedMemory.reset(),this.nonDisplayedMemory.reset(),this.lastOutputScreen.reset(),this.outputFilter.reset(),this.currRollUpRow=this.displayedMemory.rows[14],this.writeScreen=this.displayedMemory,this.mode=null,this.cueStartTime=null},T.getHandler=function(){return this.outputFilter},T.setHandler=function(O){this.outputFilter=O},T.setPAC=function(O){this.writeScreen.setPAC(O)},T.setBkgData=function(O){this.writeScreen.setBkgData(O)},T.setMode=function(O){O!==this.mode&&(this.mode=O,this.logger.log(r.INFO,"MODE="+O),this.mode==="MODE_POP-ON"?this.writeScreen=this.nonDisplayedMemory:(this.writeScreen=this.displayedMemory,this.writeScreen.reset()),this.mode!=="MODE_ROLL-UP"&&(this.displayedMemory.nrRollUpRows=null,this.nonDisplayedMemory.nrRollUpRows=null),this.mode=O)},T.insertChars=function(O){for(var A=0;A<O.length;A++)this.writeScreen.insertChar(O[A]);var P=this.writeScreen===this.displayedMemory?"DISP":"NON_DISP";this.logger.log(r.INFO,P+": "+this.writeScreen.getDisplayText(!0)),this.mode!=="MODE_PAINT-ON"&&this.mode!=="MODE_ROLL-UP"||(this.logger.log(r.TEXT,"DISPLAYED: "+this.displayedMemory.getDisplayText(!0)),this.outputDataUpdate())},T.ccRCL=function(){this.logger.log(r.INFO,"RCL - Resume Caption Loading"),this.setMode("MODE_POP-ON")},T.ccBS=function(){this.logger.log(r.INFO,"BS - BackSpace"),this.mode!=="MODE_TEXT"&&(this.writeScreen.backSpace(),this.writeScreen===this.displayedMemory&&this.outputDataUpdate())},T.ccAOF=function(){},T.ccAON=function(){},T.ccDER=function(){this.logger.log(r.INFO,"DER- Delete to End of Row"),this.writeScreen.clearToEndOfRow(),this.outputDataUpdate()},T.ccRU=function(O){this.logger.log(r.INFO,"RU("+O+") - Roll Up"),this.writeScreen=this.displayedMemory,this.setMode("MODE_ROLL-UP"),this.writeScreen.setRollUpRows(O)},T.ccFON=function(){this.logger.log(r.INFO,"FON - Flash On"),this.writeScreen.setPen({flash:!0})},T.ccRDC=function(){this.logger.log(r.INFO,"RDC - Resume Direct Captioning"),this.setMode("MODE_PAINT-ON")},T.ccTR=function(){this.logger.log(r.INFO,"TR"),this.setMode("MODE_TEXT")},T.ccRTD=function(){this.logger.log(r.INFO,"RTD"),this.setMode("MODE_TEXT")},T.ccEDM=function(){this.logger.log(r.INFO,"EDM - Erase Displayed Memory"),this.displayedMemory.reset(),this.outputDataUpdate(!0)},T.ccCR=function(){this.logger.log(r.INFO,"CR - Carriage Return"),this.writeScreen.rollUp(),this.outputDataUpdate(!0)},T.ccENM=function(){this.logger.log(r.INFO,"ENM - Erase Non-displayed Memory"),this.nonDisplayedMemory.reset()},T.ccEOC=function(){if(this.logger.log(r.INFO,"EOC - End Of Caption"),this.mode==="MODE_POP-ON"){var O=this.displayedMemory;this.displayedMemory=this.nonDisplayedMemory,this.nonDisplayedMemory=O,this.writeScreen=this.nonDisplayedMemory,this.logger.log(r.TEXT,"DISP: "+this.displayedMemory.getDisplayText())}this.outputDataUpdate(!0)},T.ccTO=function(O){this.logger.log(r.INFO,"TO("+O+") - Tab Offset"),this.writeScreen.moveCursor(O)},T.ccMIDROW=function(O){var A={flash:!1};if(A.underline=O%2==1,A.italics=O>=46,A.italics)A.foreground="white";else{var P=Math.floor(O/2)-16;A.foreground=["white","green","blue","cyan","red","yellow","magenta"][P]}this.logger.log(r.INFO,"MIDROW: "+JSON.stringify(A)),this.writeScreen.setPen(A)},T.outputDataUpdate=function(O){O===void 0&&(O=!1);var A=this.logger.time;A!==null&&this.outputFilter&&(this.cueStartTime!==null||this.displayedMemory.isEmpty()?this.displayedMemory.equals(this.lastOutputScreen)||(this.outputFilter.newCue(this.cueStartTime,A,this.lastOutputScreen),O&&this.outputFilter.dispatchCue&&this.outputFilter.dispatchCue(),this.cueStartTime=this.displayedMemory.isEmpty()?null:A):this.cueStartTime=A,this.lastOutputScreen.copy(this.displayedMemory))},T.cueSplitAtTime=function(O){this.outputFilter&&(this.displayedMemory.isEmpty()||(this.outputFilter.newCue&&this.outputFilter.newCue(this.cueStartTime,O,this.displayedMemory),this.cueStartTime=O))},_}(),C=function(){function _(O,A,P){this.channels=void 0,this.currentChannel=0,this.cmdHistory=void 0,this.logger=void 0;var D=new m;this.channels=[null,new p(O,A,D),new p(O+1,P,D)],this.cmdHistory={a:null,b:null},this.logger=D}var T=_.prototype;return T.getHandler=function(O){return this.channels[O].getHandler()},T.setHandler=function(O,A){this.channels[O].setHandler(A)},T.addData=function(O,A){var P,D,I,x=!1;this.logger.time=O;for(var L=0;L<A.length;L+=2)if(D=127&A[L],I=127&A[L+1],D!==0||I!==0){if(this.logger.log(r.DATA,"["+f([A[L],A[L+1]])+"] -> ("+f([D,I])+")"),(P=this.parseCmd(D,I))||(P=this.parseMidrow(D,I)),P||(P=this.parsePAC(D,I)),P||(P=this.parseBackgroundAttributes(D,I)),!P&&(x=this.parseChars(D,I))){var $=this.currentChannel;$&&$>0?this.channels[$].insertChars(x):this.logger.log(r.WARNING,"No channel found yet. TEXT-MODE?")}P||x||this.logger.log(r.WARNING,"Couldn't parse cleaned data "+f([D,I])+" orig: "+f([A[L],A[L+1]]))}},T.parseCmd=function(O,A){var P=this.cmdHistory;if(!((O===20||O===28||O===21||O===29)&&A>=32&&A<=47||(O===23||O===31)&&A>=33&&A<=35))return!1;if(k(O,A,P))return w(null,null,P),this.logger.log(r.DEBUG,"Repeated command ("+f([O,A])+") is dropped"),!0;var D=O===20||O===21||O===23?1:2,I=this.channels[D];return O===20||O===21||O===28||O===29?A===32?I.ccRCL():A===33?I.ccBS():A===34?I.ccAOF():A===35?I.ccAON():A===36?I.ccDER():A===37?I.ccRU(2):A===38?I.ccRU(3):A===39?I.ccRU(4):A===40?I.ccFON():A===41?I.ccRDC():A===42?I.ccTR():A===43?I.ccRTD():A===44?I.ccEDM():A===45?I.ccCR():A===46?I.ccENM():A===47&&I.ccEOC():I.ccTO(A-32),w(O,A,P),this.currentChannel=D,!0},T.parseMidrow=function(O,A){var P=0;if((O===17||O===25)&&A>=32&&A<=47){if((P=O===17?1:2)!==this.currentChannel)return this.logger.log(r.ERROR,"Mismatch channel in midrow parsing"),!1;var D=this.channels[P];return!!D&&(D.ccMIDROW(A),this.logger.log(r.DEBUG,"MIDROW ("+f([O,A])+")"),!0)}return!1},T.parsePAC=function(O,A){var P,D=this.cmdHistory;if(!((O>=17&&O<=23||O>=25&&O<=31)&&A>=64&&A<=127||(O===16||O===24)&&A>=64&&A<=95))return!1;if(k(O,A,D))return w(null,null,D),!0;var I=O<=23?1:2;P=A>=64&&A<=95?I===1?c[O]:v[O]:I===1?d[O]:S[O];var x=this.channels[I];return!!x&&(x.setPAC(this.interpretPAC(P,A)),w(O,A,D),this.currentChannel=I,!0)},T.interpretPAC=function(O,A){var P,D={color:null,italics:!1,indent:null,underline:!1,row:O};return P=A>95?A-96:A-64,D.underline=(1&P)==1,P<=13?D.color=["white","green","blue","cyan","red","yellow","magenta","white"][Math.floor(P/2)]:P<=15?(D.italics=!0,D.color="white"):D.indent=4*Math.floor((P-16)/2),D},T.parseChars=function(O,A){var P,D,I=null,x=null;if(O>=25?(P=2,x=O-8):(P=1,x=O),x>=17&&x<=19?(D=x===17?A+80:x===18?A+112:A+144,this.logger.log(r.INFO,"Special char '"+l(D)+"' in channel "+P),I=[D]):O>=32&&O<=127&&(I=A===0?[O]:[O,A]),I){var L=f(I);this.logger.log(r.DEBUG,"Char codes =  "+L.join(",")),w(O,A,this.cmdHistory)}return I},T.parseBackgroundAttributes=function(O,A){var P;if(!((O===16||O===24)&&A>=32&&A<=47||(O===23||O===31)&&A>=45&&A<=47))return!1;var D={};O===16||O===24?(P=Math.floor((A-32)/2),D.background=E[P],A%2==1&&(D.background=D.background+"_semi")):A===45?D.background="transparent":(D.foreground="black",A===47&&(D.underline=!0));var I=O<=23?1:2;return this.channels[I].setBkgData(D),w(O,A,this.cmdHistory),!0},T.reset=function(){for(var O=0;O<Object.keys(this.channels).length;O++){var A=this.channels[O];A&&A.reset()}this.cmdHistory={a:null,b:null}},T.cueSplitAtTime=function(O){for(var A=0;A<this.channels.length;A++){var P=this.channels[A];P&&P.cueSplitAtTime(O)}},_}();function w(_,T,O){O.a=_,O.b=T}function k(_,T,O){return O.a===_&&O.b===T}t.default=C},"./src/utils/codecs.ts":function(e,t,n){n.r(t),n.d(t,"isCodecType",function(){return a}),n.d(t,"isCodecSupportedInMp4",function(){return i});var r={audio:{a3ds:!0,"ac-3":!0,"ac-4":!0,alac:!0,alaw:!0,dra1:!0,"dts+":!0,"dts-":!0,dtsc:!0,dtse:!0,dtsh:!0,"ec-3":!0,enca:!0,g719:!0,g726:!0,m4ae:!0,mha1:!0,mha2:!0,mhm1:!0,mhm2:!0,mlpa:!0,mp4a:!0,"raw ":!0,Opus:!0,samr:!0,sawb:!0,sawp:!0,sevc:!0,sqcp:!0,ssmv:!0,twos:!0,ulaw:!0},video:{avc1:!0,avc2:!0,avc3:!0,avc4:!0,avcp:!0,av01:!0,drac:!0,dvav:!0,dvhe:!0,encv:!0,hev1:!0,hvc1:!0,mjp2:!0,mp4v:!0,mvc1:!0,mvc2:!0,mvc3:!0,mvc4:!0,resv:!0,rv60:!0,s263:!0,svc1:!0,svc2:!0,"vc-1":!0,vp08:!0,vp09:!0},text:{stpp:!0,wvtt:!0}};function a(o,l){var u=r[l];return!!u&&u[o.slice(0,4)]===!0}function i(o,l){return MediaSource.isTypeSupported((l||"video")+'/mp4;codecs="'+o+'"')}},"./src/utils/cues.ts":function(e,t,n){n.r(t);var r=n("./src/utils/vttparser.ts"),a=n("./src/utils/webvtt-parser.ts"),i=n("./src/utils/texttrack-utils.ts"),o=/\s/,l={newCue:function(u,s,c,d){for(var v,S,E,m,f,g=[],h=self.VTTCue||self.TextTrackCue,y=0;y<d.rows.length;y++)if(E=!0,m=0,f="",!(v=d.rows[y]).isEmpty()){for(var b=0;b<v.chars.length;b++)o.test(v.chars[b].uchar)&&E?m++:(f+=v.chars[b].uchar,E=!1);v.cueStartTime=s,s===c&&(c+=1e-4),m>=16?m--:m++;var p=Object(r.fixLineBreaks)(f.trim()),C=Object(a.generateCueId)(s,c,p);u&&u.cues&&u.cues.getCueById(C)||((S=new h(s,c,p)).id=C,S.line=y+1,S.align="left",S.position=10+Math.min(80,10*Math.floor(8*m/32)),g.push(S))}return u&&g.length&&(g.sort(function(w,k){return w.line==="auto"||k.line==="auto"?0:w.line>8&&k.line>8?k.line-w.line:w.line-k.line}),g.forEach(function(w){return Object(i.addCueToTrack)(u,w)})),g}};t.default=l},"./src/utils/discontinuities.ts":function(e,t,n){n.r(t),n.d(t,"findFirstFragWithCC",function(){return o}),n.d(t,"shouldAlignOnDiscontinuities",function(){return l}),n.d(t,"findDiscontinuousReferenceFrag",function(){return u}),n.d(t,"adjustSlidingStart",function(){return c}),n.d(t,"alignStream",function(){return d}),n.d(t,"alignPDT",function(){return v});var r=n("./src/polyfills/number.ts"),a=n("./src/utils/logger.ts"),i=n("./src/controller/level-helper.ts");function o(S,E){for(var m=null,f=0,g=S.length;f<g;f++){var h=S[f];if(h&&h.cc===E){m=h;break}}return m}function l(S,E,m){return!(!E.details||!(m.endCC>m.startCC||S&&S.cc<m.startCC))}function u(S,E){var m=S.fragments,f=E.fragments;if(f.length&&m.length){var g=o(m,f[0].cc);if(g&&(!g||g.startPTS))return g;a.logger.log("No frag in previous level to align on")}else a.logger.log("No fragments to align")}function s(S,E){if(S){var m=S.start+E;S.start=S.startPTS=m,S.endPTS=m+S.duration}}function c(S,E){for(var m=E.fragments,f=0,g=m.length;f<g;f++)s(m[f],S);E.fragmentHint&&s(E.fragmentHint,S),E.alignedSliding=!0}function d(S,E,m){E&&(function(f,g,h){if(l(f,h,g)){var y=u(h.details,g);y&&Object(r.isFiniteNumber)(y.start)&&(a.logger.log("Adjusting PTS using last level due to CC increase within current level "+g.url),c(y.start,g))}}(S,m,E),!m.alignedSliding&&E.details&&v(m,E.details),m.alignedSliding||!E.details||m.skippedSegments||Object(i.adjustSliding)(E.details,m))}function v(S,E){if(E.fragments.length&&S.hasProgramDateTime&&E.hasProgramDateTime){var m=E.fragments[0].programDateTime,f=S.fragments[0].programDateTime,g=(f-m)/1e3+E.fragments[0].start;g&&Object(r.isFiniteNumber)(g)&&(a.logger.log("Adjusting PTS using programDateTime delta "+(f-m)+"ms, sliding:"+g.toFixed(3)+" "+S.url+" "),c(g,S))}}},"./src/utils/ewma-bandwidth-estimator.ts":function(e,t,n){n.r(t);var r=n("./src/utils/ewma.ts"),a=function(){function i(l,u,s){this.defaultEstimate_=void 0,this.minWeight_=void 0,this.minDelayMs_=void 0,this.slow_=void 0,this.fast_=void 0,this.defaultEstimate_=s,this.minWeight_=.001,this.minDelayMs_=50,this.slow_=new r.default(l),this.fast_=new r.default(u)}var o=i.prototype;return o.update=function(l,u){var s=this.slow_,c=this.fast_;this.slow_.halfLife!==l&&(this.slow_=new r.default(l,s.getEstimate(),s.getTotalWeight())),this.fast_.halfLife!==u&&(this.fast_=new r.default(u,c.getEstimate(),c.getTotalWeight()))},o.sample=function(l,u){var s=(l=Math.max(l,this.minDelayMs_))/1e3,c=8*u/s;this.fast_.sample(s,c),this.slow_.sample(s,c)},o.canEstimate=function(){var l=this.fast_;return l&&l.getTotalWeight()>=this.minWeight_},o.getEstimate=function(){return this.canEstimate()?Math.min(this.fast_.getEstimate(),this.slow_.getEstimate()):this.defaultEstimate_},o.destroy=function(){},i}();t.default=a},"./src/utils/ewma.ts":function(e,t,n){n.r(t);var r=function(){function a(o,l,u){l===void 0&&(l=0),u===void 0&&(u=0),this.halfLife=void 0,this.alpha_=void 0,this.estimate_=void 0,this.totalWeight_=void 0,this.halfLife=o,this.alpha_=o?Math.exp(Math.log(.5)/o):0,this.estimate_=l,this.totalWeight_=u}var i=a.prototype;return i.sample=function(o,l){var u=Math.pow(this.alpha_,o);this.estimate_=l*(1-u)+u*this.estimate_,this.totalWeight_+=o},i.getTotalWeight=function(){return this.totalWeight_},i.getEstimate=function(){if(this.alpha_){var o=1-Math.pow(this.alpha_,this.totalWeight_);if(o)return this.estimate_/o}return this.estimate_},a}();t.default=r},"./src/utils/fetch-loader.ts":function(e,t,n){n.r(t),n.d(t,"fetchSupported",function(){return d});var r=n("./src/polyfills/number.ts"),a=n("./src/loader/load-stats.ts"),i=n("./src/demux/chunk-cache.ts");function o(m){var f=typeof Map=="function"?new Map:void 0;return(o=function(g){if(g===null||(h=g,Function.toString.call(h).indexOf("[native code]")===-1))return g;var h;if(typeof g!="function")throw new TypeError("Super expression must either be null or a function");if(f!==void 0){if(f.has(g))return f.get(g);f.set(g,y)}function y(){return l(g,arguments,c(this).constructor)}return y.prototype=Object.create(g.prototype,{constructor:{value:y,enumerable:!1,writable:!0,configurable:!0}}),s(y,g)})(m)}function l(m,f,g){return(l=u()?Reflect.construct:function(h,y,b){var p=[null];p.push.apply(p,y);var C=new(Function.bind.apply(h,p));return b&&s(C,b.prototype),C}).apply(null,arguments)}function u(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function s(m,f){return(s=Object.setPrototypeOf||function(g,h){return g.__proto__=h,g})(m,f)}function c(m){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(f){return f.__proto__||Object.getPrototypeOf(f)})(m)}function d(){if(self.fetch&&self.AbortController&&self.ReadableStream&&self.Request)try{return new self.ReadableStream({}),!0}catch{}return!1}var v=function(){function m(g){this.fetchSetup=void 0,this.requestTimeout=void 0,this.request=void 0,this.response=void 0,this.controller=void 0,this.context=void 0,this.config=null,this.callbacks=null,this.stats=void 0,this.loader=null,this.fetchSetup=g.fetchSetup||S,this.controller=new self.AbortController,this.stats=new a.LoadStats}var f=m.prototype;return f.destroy=function(){this.loader=this.callbacks=null,this.abortInternal()},f.abortInternal=function(){var g=this.response;g&&g.ok||(this.stats.aborted=!0,this.controller.abort())},f.abort=function(){var g;this.abortInternal(),(g=this.callbacks)!==null&&g!==void 0&&g.onAbort&&this.callbacks.onAbort(this.stats,this.context,this.response)},f.load=function(g,h,y){var b=this,p=this.stats;if(p.loading.start)throw new Error("Loader can only be used once.");p.loading.start=self.performance.now();var C=function(T,O){var A={method:"GET",mode:"cors",credentials:"same-origin",signal:O};return T.rangeEnd&&(A.headers=new self.Headers({Range:"bytes="+T.rangeStart+"-"+String(T.rangeEnd-1)})),A}(g,this.controller.signal),w=y.onProgress,k=g.responseType==="arraybuffer",_=k?"byteLength":"length";this.context=g,this.config=h,this.callbacks=y,this.request=this.fetchSetup(g,C),self.clearTimeout(this.requestTimeout),this.requestTimeout=self.setTimeout(function(){b.abortInternal(),y.onTimeout(p,g,b.response)},h.timeout),self.fetch(this.request).then(function(T){if(b.response=b.loader=T,!T.ok){var O=T.status,A=T.statusText;throw new E(A||"fetch, bad network response",O,T)}return p.loading.first=Math.max(self.performance.now(),p.loading.start),p.total=parseInt(T.headers.get("Content-Length")||"0"),w&&Object(r.isFiniteNumber)(h.highWaterMark)?b.loadProgressively(T,p,g,h.highWaterMark,w):k?T.arrayBuffer():T.text()}).then(function(T){var O=b.response;self.clearTimeout(b.requestTimeout),p.loading.end=Math.max(self.performance.now(),p.loading.first),p.loaded=p.total=T[_];var A={url:O.url,data:T};w&&!Object(r.isFiniteNumber)(h.highWaterMark)&&w(p,g,T,O),y.onSuccess(A,p,g,O)}).catch(function(T){if(self.clearTimeout(b.requestTimeout),!p.aborted){var O=T.code||0;y.onError({code:O,text:T.message},g,T.details)}})},f.getCacheAge=function(){var g=null;if(this.response){var h=this.response.headers.get("age");g=h?parseFloat(h):null}return g},f.loadProgressively=function(g,h,y,b,p){b===void 0&&(b=0);var C=new i.default,w=g.body.getReader();return function k(){return w.read().then(function(_){if(_.done)return C.dataLength&&p(h,y,C.flush(),g),Promise.resolve(new ArrayBuffer(0));var T=_.value,O=T.length;return h.loaded+=O,O<b||C.dataLength?(C.push(T),C.dataLength>=b&&p(h,y,C.flush(),g)):p(h,y,T,g),k()}).catch(function(){return Promise.reject()})}()},m}();function S(m,f){return new self.Request(m.url,f)}var E=function(m){var f,g;function h(y,b,p){var C;return(C=m.call(this,y)||this).code=void 0,C.details=void 0,C.code=b,C.details=p,C}return g=m,(f=h).prototype=Object.create(g.prototype),f.prototype.constructor=f,s(f,g),h}(o(Error));t.default=v},"./src/utils/imsc1-ttml-parser.ts":function(e,t,n){n.r(t),n.d(t,"IMSC1_CODEC",function(){return c}),n.d(t,"parseIMSC1",function(){return E});var r=n("./src/utils/mp4-tools.ts"),a=n("./src/utils/vttparser.ts"),i=n("./src/utils/vttcue.ts"),o=n("./src/demux/id3.ts"),l=n("./src/utils/timescale-conversion.ts"),u=n("./src/utils/webvtt-parser.ts");function s(){return(s=Object.assign||function(p){for(var C=1;C<arguments.length;C++){var w=arguments[C];for(var k in w)Object.prototype.hasOwnProperty.call(w,k)&&(p[k]=w[k])}return p}).apply(this,arguments)}var c="stpp.ttml.im1t",d=/^(\d{2,}):(\d{2}):(\d{2}):(\d{2})\.?(\d+)?$/,v=/^(\d*(?:\.\d*)?)(h|m|s|ms|f|t)$/,S={left:"start",center:"center",right:"end",start:"start",end:"end"};function E(p,C,w,k,_){var T=Object(r.findBox)(new Uint8Array(p),["mdat"]);if(T.length!==0){var O=T[0],A=Object(o.utf8ArrayToStr)(new Uint8Array(p,O.start,O.end-O.start)),P=Object(l.toTimescaleFromScale)(C,1,w);try{k(function(D,I){var x=new DOMParser().parseFromString(D,"text/xml").getElementsByTagName("tt")[0];if(!x)throw new Error("Invalid ttml");var L={frameRate:30,subFrameRate:1,frameRateMultiplier:0,tickRate:0},$=Object.keys(L).reduce(function(B,K){return B[K]=x.getAttribute("ttp:"+K)||L[K],B},{}),M=x.getAttribute("xml:space")!=="preserve",j=f(m(x,"styling","style")),F=f(m(x,"layout","region")),U=m(x,"body","[begin]");return[].map.call(U,function(B){var K=g(B,M);if(!K||!B.hasAttribute("begin"))return null;var V=b(B.getAttribute("begin"),$),X=b(B.getAttribute("dur"),$),Z=b(B.getAttribute("end"),$);if(V===null)throw y(B);if(Z===null){if(X===null)throw y(B);Z=V+X}var ne=new i.default(V-I,Z-I,K);ne.id=Object(u.generateCueId)(ne.startTime,ne.endTime,ne.text);var ae=F[B.getAttribute("region")],ye=j[B.getAttribute("style")];ne.position=10,ne.size=80;var de=function(Y,Q){var re="http://www.w3.org/ns/ttml#styling";return["displayAlign","textAlign","color","backgroundColor","fontSize","fontFamily"].reduce(function(ie,le){var Se=h(Q,re,le)||h(Y,re,le);return Se&&(ie[le]=Se),ie},{})}(ae,ye),be=de.textAlign;if(be){var G=S[be];G&&(ne.lineAlign=G),ne.align=be}return s(ne,de),ne}).filter(function(B){return B!==null})}(A,P))}catch(D){_(D)}}else _(new Error("Could not parse IMSC1 mdat"))}function m(p,C,w){var k=p.getElementsByTagName(C)[0];return k?[].slice.call(k.querySelectorAll(w)):[]}function f(p){return p.reduce(function(C,w){var k=w.getAttribute("xml:id");return k&&(C[k]=w),C},{})}function g(p,C){return[].slice.call(p.childNodes).reduce(function(w,k,_){var T;return k.nodeName==="br"&&_?w+`
`:(T=k.childNodes)!==null&&T!==void 0&&T.length?g(k,C):C?w+k.textContent.trim().replace(/\s+/g," "):w+k.textContent},"")}function h(p,C,w){return p.hasAttributeNS(C,w)?p.getAttributeNS(C,w):null}function y(p){return new Error("Could not parse ttml timestamp "+p)}function b(p,C){if(!p)return null;var w=Object(a.parseTimeStamp)(p);return w===null&&(d.test(p)?w=function(k,_){var T=d.exec(k),O=(0|T[4])+(0|T[5])/_.subFrameRate;return 3600*(0|T[1])+60*(0|T[2])+(0|T[3])+O/_.frameRate}(p,C):v.test(p)&&(w=function(k,_){var T=v.exec(k),O=Number(T[1]);switch(T[2]){case"h":return 3600*O;case"m":return 60*O;case"ms":return 1e3*O;case"f":return O/_.frameRate;case"t":return O/_.tickRate}return O}(p,C))),w}},"./src/utils/logger.ts":function(e,t,n){n.r(t),n.d(t,"enableLogs",function(){return l}),n.d(t,"logger",function(){return u});var r=function(){},a={trace:r,debug:r,log:r,warn:r,info:r,error:r},i=a;function o(s){var c=self.console[s];return c?c.bind(self.console,"["+s+"] >"):r}function l(s){if(self.console&&s===!0||typeof s=="object"){(function(c){for(var d=arguments.length,v=new Array(d>1?d-1:0),S=1;S<d;S++)v[S-1]=arguments[S];v.forEach(function(E){i[E]=c[E]?c[E].bind(c):o(E)})})(s,"debug","log","info","warn","error");try{i.log()}catch{i=a}}else i=a}var u=a},"./src/utils/mediakeys-helper.ts":function(e,t,n){var r,a;n.r(t),n.d(t,"KeySystems",function(){return r}),n.d(t,"requestMediaKeySystemAccess",function(){return i}),(a=r||(r={})).WIDEVINE="com.widevine.alpha",a.PLAYREADY="com.microsoft.playready";var i=typeof self!="undefined"&&self.navigator&&self.navigator.requestMediaKeySystemAccess?self.navigator.requestMediaKeySystemAccess.bind(self.navigator):null},"./src/utils/mediasource-helper.ts":function(e,t,n){function r(){return self.MediaSource||self.WebKitMediaSource}n.r(t),n.d(t,"getMediaSource",function(){return r})},"./src/utils/mp4-tools.ts":function(e,t,n){n.r(t),n.d(t,"bin2str",function(){return l}),n.d(t,"readUint16",function(){return u}),n.d(t,"readUint32",function(){return s}),n.d(t,"writeUint32",function(){return c}),n.d(t,"findBox",function(){return d}),n.d(t,"parseSegmentIndex",function(){return v}),n.d(t,"parseInitSegment",function(){return S}),n.d(t,"getStartDTS",function(){return E}),n.d(t,"getDuration",function(){return m}),n.d(t,"computeRawDurationFromSamples",function(){return f}),n.d(t,"offsetStartDTS",function(){return g}),n.d(t,"segmentValidRange",function(){return h}),n.d(t,"appendUint8Array",function(){return y});var r=n("./src/utils/typed-array.ts"),a=n("./src/loader/fragment.ts"),i=Math.pow(2,32)-1,o=[].push;function l(b){return String.fromCharCode.apply(null,b)}function u(b,p){"data"in b&&(p+=b.start,b=b.data);var C=b[p]<<8|b[p+1];return C<0?65536+C:C}function s(b,p){"data"in b&&(p+=b.start,b=b.data);var C=b[p]<<24|b[p+1]<<16|b[p+2]<<8|b[p+3];return C<0?4294967296+C:C}function c(b,p,C){"data"in b&&(p+=b.start,b=b.data),b[p]=C>>24,b[p+1]=C>>16&255,b[p+2]=C>>8&255,b[p+3]=255&C}function d(b,p){var C,w,k,_=[];if(!p.length)return _;"data"in b?(C=b.data,w=b.start,k=b.end):(w=0,k=(C=b).byteLength);for(var T=w;T<k;){var O=s(C,T),A=O>1?T+O:k;if(l(C.subarray(T+4,T+8))===p[0])if(p.length===1)_.push({data:C,start:T+8,end:A});else{var P=d({data:C,start:T+8,end:A},p.slice(1));P.length&&o.apply(_,P)}T=A}return _}function v(b){var p=d(b,["moov"])[0],C=p?p.end:null,w=d(b,["sidx"]);if(!w||!w[0])return null;var k=[],_=w[0],T=_.data[0],O=T===0?8:16,A=s(_,O);O+=4,O+=T===0?8:16,O+=2;var P=_.end+0,D=u(_,O);O+=2;for(var I=0;I<D;I++){var x=O,L=s(_,x);x+=4;var $=2147483647&L;if((2147483648&L)>>>31==1)return console.warn("SIDX has hierarchical references (not supported)"),null;var M=s(_,x);x+=4,k.push({referenceSize:$,subsegmentDuration:M,info:{duration:M/A,start:P,end:P+$-1}}),P+=$,O=x+=4}return{earliestPresentationTime:0,timescale:A,version:T,referencesCount:D,references:k,moovEndOffset:C}}function S(b){for(var p=[],C=d(b,["moov","trak"]),w=0;w<C.length;w++){var k=C[w],_=d(k,["tkhd"])[0];if(_){var T=_.data[_.start],O=T===0?12:20,A=s(_,O),P=d(k,["mdia","mdhd"])[0];if(P){var D=s(P,O=(T=P.data[P.start])===0?12:20),I=d(k,["mdia","hdlr"])[0];if(I){var x=l(I.data.subarray(I.start+8,I.start+12)),L={soun:a.ElementaryStreamTypes.AUDIO,vide:a.ElementaryStreamTypes.VIDEO}[x];if(L){var $=d(k,["mdia","minf","stbl","stsd"])[0],M=void 0;$&&(M=l($.data.subarray($.start+12,$.start+16))),p[A]={timescale:D,type:L},p[L]={timescale:D,id:A,codec:M}}}}}}return d(b,["moov","mvex","trex"]).forEach(function(j){var F=s(j,4),U=p[F];U&&(U.default={duration:s(j,12),flags:s(j,20)})}),p}function E(b,p){return d(p,["moof","traf"]).reduce(function(C,w){var k=d(w,["tfdt"])[0],_=k.data[k.start],T=d(w,["tfhd"]).reduce(function(O,A){var P=s(A,4),D=b[P];if(D){var I=s(k,4);_===1&&(I*=Math.pow(2,32),I+=s(k,8));var x=I/(D.timescale||9e4);if(isFinite(x)&&(O===null||x<O))return x}return O},null);return T!==null&&isFinite(T)&&(C===null||T<C)?T:C},null)||0}function m(b,p){for(var C=0,w=0,k=0,_=d(b,["moof","traf"]),T=0;T<_.length;T++){var O=_[T],A=d(O,["tfhd"])[0],P=p[s(A,4)];if(P){var D=P.default,I=s(A,0)|(D==null?void 0:D.flags),x=D==null?void 0:D.duration;8&I&&(x=s(A,2&I?12:8));for(var L=P.timescale||9e4,$=d(O,["trun"]),M=0;M<$.length;M++)C=x?x*s($[M],4):f($[M]),P.type===a.ElementaryStreamTypes.VIDEO?w+=C/L:P.type===a.ElementaryStreamTypes.AUDIO&&(k+=C/L)}}if(w===0&&k===0){var j=v(b);if(j!=null&&j.references)return j.references.reduce(function(F,U){return F+U.info.duration||0},0)}return w||k}function f(b){var p=s(b,0),C=8;1&p&&(C+=4),4&p&&(C+=4);for(var w=0,k=s(b,4),_=0;_<k;_++)256&p&&(w+=s(b,C),C+=4),512&p&&(C+=4),1024&p&&(C+=4),2048&p&&(C+=4);return w}function g(b,p,C){d(p,["moof","traf"]).forEach(function(w){d(w,["tfhd"]).forEach(function(k){var _=s(k,4),T=b[_];if(T){var O=T.timescale||9e4;d(w,["tfdt"]).forEach(function(A){var P=A.data[A.start],D=s(A,4);if(P===0)c(A,4,D-C*O);else{D*=Math.pow(2,32),D+=s(A,8),D-=C*O,D=Math.max(D,0);var I=Math.floor(D/(i+1)),x=Math.floor(D%(i+1));c(A,4,I),c(A,8,x)}})}})})}function h(b){var p={valid:null,remainder:null},C=d(b,["moof"]);if(!C)return p;if(C.length<2)return p.remainder=b,p;var w=C[C.length-1];return p.valid=Object(r.sliceUint8)(b,0,w.start-8),p.remainder=Object(r.sliceUint8)(b,w.start-8),p}function y(b,p){var C=new Uint8Array(b.length+p.length);return C.set(b),C.set(p,b.length),C}},"./src/utils/output-filter.ts":function(e,t,n){n.r(t),n.d(t,"default",function(){return r});var r=function(){function a(o,l){this.timelineController=void 0,this.cueRanges=[],this.trackName=void 0,this.startTime=null,this.endTime=null,this.screen=null,this.timelineController=o,this.trackName=l}var i=a.prototype;return i.dispatchCue=function(){this.startTime!==null&&(this.timelineController.addCues(this.trackName,this.startTime,this.endTime,this.screen,this.cueRanges),this.startTime=null)},i.newCue=function(o,l,u){(this.startTime===null||this.startTime>o)&&(this.startTime=o),this.endTime=l,this.screen=u,this.timelineController.createCaptionsTrack(this.trackName)},i.reset=function(){this.cueRanges=[]},a}()},"./src/utils/texttrack-utils.ts":function(e,t,n){n.r(t),n.d(t,"sendAddTrackEvent",function(){return a}),n.d(t,"addCueToTrack",function(){return i}),n.d(t,"clearCurrentCues",function(){return o}),n.d(t,"removeCuesInRange",function(){return l}),n.d(t,"getCuesInRange",function(){return u});var r=n("./src/utils/logger.ts");function a(s,c){var d;try{d=new Event("addtrack")}catch{(d=document.createEvent("Event")).initEvent("addtrack",!1,!1)}d.track=s,c.dispatchEvent(d)}function i(s,c){var d=s.mode;if(d==="disabled"&&(s.mode="hidden"),s.cues&&!s.cues.getCueById(c.id))try{if(s.addCue(c),!s.cues.getCueById(c.id))throw new Error("addCue is failed for: "+c)}catch(S){r.logger.debug("[texttrack-utils]: "+S);var v=new self.TextTrackCue(c.startTime,c.endTime,c.text);v.id=c.id,s.addCue(v)}d==="disabled"&&(s.mode=d)}function o(s){var c=s.mode;if(c==="disabled"&&(s.mode="hidden"),s.cues)for(var d=s.cues.length;d--;)s.removeCue(s.cues[d]);c==="disabled"&&(s.mode=c)}function l(s,c,d){var v=s.mode;if(v==="disabled"&&(s.mode="hidden"),s.cues&&s.cues.length>0)for(var S=u(s.cues,c,d),E=0;E<S.length;E++)s.removeCue(S[E]);v==="disabled"&&(s.mode=v)}function u(s,c,d){var v=[],S=function(g,h){if(h<g[0].startTime)return 0;var y=g.length-1;if(h>g[y].endTime)return-1;for(var b=0,p=y;b<=p;){var C=Math.floor((p+b)/2);if(h<g[C].startTime)p=C-1;else{if(!(h>g[C].startTime&&b<y))return C;b=C+1}}return g[b].startTime-h<h-g[p].startTime?b:p}(s,c);if(S>-1)for(var E=S,m=s.length;E<m;E++){var f=s[E];if(f.startTime>=c&&f.endTime<=d)v.push(f);else if(f.startTime>d)return v}return v}},"./src/utils/time-ranges.ts":function(e,t,n){n.r(t),t.default={toString:function(r){for(var a="",i=r.length,o=0;o<i;o++)a+="["+r.start(o).toFixed(3)+","+r.end(o).toFixed(3)+"]";return a}}},"./src/utils/timescale-conversion.ts":function(e,t,n){function r(l,u,s,c){s===void 0&&(s=1),c===void 0&&(c=!1);var d=l*u*s;return c?Math.round(d):d}function a(l,u,s,c){return s===void 0&&(s=1),c===void 0&&(c=!1),r(l,u,1/s,c)}function i(l,u){return u===void 0&&(u=!1),r(l,1e3,1/9e4,u)}function o(l,u){return u===void 0&&(u=1),r(l,9e4,1/u)}n.r(t),n.d(t,"toTimescaleFromBase",function(){return r}),n.d(t,"toTimescaleFromScale",function(){return a}),n.d(t,"toMsFromMpegTsClock",function(){return i}),n.d(t,"toMpegTsClockFromTimescale",function(){return o})},"./src/utils/typed-array.ts":function(e,t,n){function r(a,i,o){return Uint8Array.prototype.slice?a.slice(i,o):new Uint8Array(Array.prototype.slice.call(a,i,o))}n.r(t),n.d(t,"sliceUint8",function(){return r})},"./src/utils/vttcue.ts":function(e,t,n){n.r(t),t.default=function(){if(typeof self!="undefined"&&self.VTTCue)return self.VTTCue;var r=["","lr","rl"],a=["start","middle","end","left","right"];function i(s,c){if(typeof c!="string"||!Array.isArray(s))return!1;var d=c.toLowerCase();return!!~s.indexOf(d)&&d}function o(s){return i(a,s)}function l(s){for(var c=arguments.length,d=new Array(c>1?c-1:0),v=1;v<c;v++)d[v-1]=arguments[v];for(var S=1;S<arguments.length;S++){var E=arguments[S];for(var m in E)s[m]=E[m]}return s}function u(s,c,d){var v=this,S={enumerable:!0};v.hasBeenReset=!1;var E="",m=!1,f=s,g=c,h=d,y=null,b="",p=!0,C="auto",w="start",k=50,_="middle",T=50,O="middle";Object.defineProperty(v,"id",l({},S,{get:function(){return E},set:function(A){E=""+A}})),Object.defineProperty(v,"pauseOnExit",l({},S,{get:function(){return m},set:function(A){m=!!A}})),Object.defineProperty(v,"startTime",l({},S,{get:function(){return f},set:function(A){if(typeof A!="number")throw new TypeError("Start time must be set to a number.");f=A,this.hasBeenReset=!0}})),Object.defineProperty(v,"endTime",l({},S,{get:function(){return g},set:function(A){if(typeof A!="number")throw new TypeError("End time must be set to a number.");g=A,this.hasBeenReset=!0}})),Object.defineProperty(v,"text",l({},S,{get:function(){return h},set:function(A){h=""+A,this.hasBeenReset=!0}})),Object.defineProperty(v,"region",l({},S,{get:function(){return y},set:function(A){y=A,this.hasBeenReset=!0}})),Object.defineProperty(v,"vertical",l({},S,{get:function(){return b},set:function(A){var P=function(D){return i(r,D)}(A);if(P===!1)throw new SyntaxError("An invalid or illegal string was specified.");b=P,this.hasBeenReset=!0}})),Object.defineProperty(v,"snapToLines",l({},S,{get:function(){return p},set:function(A){p=!!A,this.hasBeenReset=!0}})),Object.defineProperty(v,"line",l({},S,{get:function(){return C},set:function(A){if(typeof A!="number"&&A!=="auto")throw new SyntaxError("An invalid number or illegal string was specified.");C=A,this.hasBeenReset=!0}})),Object.defineProperty(v,"lineAlign",l({},S,{get:function(){return w},set:function(A){var P=o(A);if(!P)throw new SyntaxError("An invalid or illegal string was specified.");w=P,this.hasBeenReset=!0}})),Object.defineProperty(v,"position",l({},S,{get:function(){return k},set:function(A){if(A<0||A>100)throw new Error("Position must be between 0 and 100.");k=A,this.hasBeenReset=!0}})),Object.defineProperty(v,"positionAlign",l({},S,{get:function(){return _},set:function(A){var P=o(A);if(!P)throw new SyntaxError("An invalid or illegal string was specified.");_=P,this.hasBeenReset=!0}})),Object.defineProperty(v,"size",l({},S,{get:function(){return T},set:function(A){if(A<0||A>100)throw new Error("Size must be between 0 and 100.");T=A,this.hasBeenReset=!0}})),Object.defineProperty(v,"align",l({},S,{get:function(){return O},set:function(A){var P=o(A);if(!P)throw new SyntaxError("An invalid or illegal string was specified.");O=P,this.hasBeenReset=!0}})),v.displayState=void 0}return u.prototype.getCueAsHTML=function(){return self.WebVTT.convertCueToDOMTree(self,this.text)},u}()},"./src/utils/vttparser.ts":function(e,t,n){n.r(t),n.d(t,"parseTimeStamp",function(){return i}),n.d(t,"fixLineBreaks",function(){return d}),n.d(t,"VTTParser",function(){return v});var r=n("./src/utils/vttcue.ts"),a=function(){function S(){}return S.prototype.decode=function(E,m){if(!E)return"";if(typeof E!="string")throw new Error("Error - expected string data.");return decodeURIComponent(encodeURIComponent(E))},S}();function i(S){function E(f,g,h,y){return 3600*(0|f)+60*(0|g)+(0|h)+parseFloat(y||0)}var m=S.match(/^(?:(\d+):)?(\d{2}):(\d{2})(\.\d+)?/);return m?parseFloat(m[2])>59?E(m[2],m[3],0,m[4]):E(m[1],m[2],m[3],m[4]):null}var o=function(){function S(){this.values=Object.create(null)}var E=S.prototype;return E.set=function(m,f){this.get(m)||f===""||(this.values[m]=f)},E.get=function(m,f,g){return g?this.has(m)?this.values[m]:f[g]:this.has(m)?this.values[m]:f},E.has=function(m){return m in this.values},E.alt=function(m,f,g){for(var h=0;h<g.length;++h)if(f===g[h]){this.set(m,f);break}},E.integer=function(m,f){/^-?\d+$/.test(f)&&this.set(m,parseInt(f,10))},E.percent=function(m,f){if(/^([\d]{1,3})(\.[\d]*)?%$/.test(f)){var g=parseFloat(f);if(g>=0&&g<=100)return this.set(m,g),!0}return!1},S}();function l(S,E,m,f){var g=f?S.split(f):[S];for(var h in g)if(typeof g[h]=="string"){var y=g[h].split(m);y.length===2&&E(y[0],y[1])}}var u=new r.default(0,0,""),s=u.align==="middle"?"middle":"center";function c(S,E,m){var f=S;function g(){var y=i(S);if(y===null)throw new Error("Malformed timestamp: "+f);return S=S.replace(/^[^\sa-zA-Z-]+/,""),y}function h(){S=S.replace(/^\s+/,"")}if(h(),E.startTime=g(),h(),S.substr(0,3)!=="-->")throw new Error("Malformed time stamp (time stamps must be separated by '-->'): "+f);S=S.substr(3),h(),E.endTime=g(),h(),function(y,b){var p=new o;l(y,function(k,_){var T;switch(k){case"region":for(var O=m.length-1;O>=0;O--)if(m[O].id===_){p.set(k,m[O].region);break}break;case"vertical":p.alt(k,_,["rl","lr"]);break;case"line":T=_.split(","),p.integer(k,T[0]),p.percent(k,T[0])&&p.set("snapToLines",!1),p.alt(k,T[0],["auto"]),T.length===2&&p.alt("lineAlign",T[1],["start",s,"end"]);break;case"position":T=_.split(","),p.percent(k,T[0]),T.length===2&&p.alt("positionAlign",T[1],["start",s,"end","line-left","line-right","auto"]);break;case"size":p.percent(k,_);break;case"align":p.alt(k,_,["start",s,"end","left","right"])}},/:/,/\s/),b.region=p.get("region",null),b.vertical=p.get("vertical","");var C=p.get("line","auto");C==="auto"&&u.line===-1&&(C=-1),b.line=C,b.lineAlign=p.get("lineAlign","start"),b.snapToLines=p.get("snapToLines",!0),b.size=p.get("size",100),b.align=p.get("align",s);var w=p.get("position","auto");w==="auto"&&u.position===50&&(w=b.align==="start"||b.align==="left"?0:b.align==="end"||b.align==="right"?100:50),b.position=w}(S,E)}function d(S){return S.replace(/<br(?: \/)?>/gi,`
`)}var v=function(){function S(){this.state="INITIAL",this.buffer="",this.decoder=new a,this.regionList=[],this.cue=null,this.oncue=void 0,this.onparsingerror=void 0,this.onflush=void 0}var E=S.prototype;return E.parse=function(m){var f=this;function g(){var C=f.buffer,w=0;for(C=d(C);w<C.length&&C[w]!=="\r"&&C[w]!==`
`;)++w;var k=C.substr(0,w);return C[w]==="\r"&&++w,C[w]===`
`&&++w,f.buffer=C.substr(w),k}m&&(f.buffer+=f.decoder.decode(m,{stream:!0}));try{var h="";if(f.state==="INITIAL"){if(!/\r\n|\n/.test(f.buffer))return this;var y=(h=g()).match(/^()?WEBVTT([ \t].*)?$/);if(!y||!y[0])throw new Error("Malformed WebVTT signature.");f.state="HEADER"}for(var b=!1;f.buffer;){if(!/\r\n|\n/.test(f.buffer))return this;switch(b?b=!1:h=g(),f.state){case"HEADER":/:/.test(h)?l(h,function(C,w){},/:/):h||(f.state="ID");continue;case"NOTE":h||(f.state="ID");continue;case"ID":if(/^NOTE($|[ \t])/.test(h)){f.state="NOTE";break}if(!h)continue;if(f.cue=new r.default(0,0,""),f.state="CUE",h.indexOf("-->")===-1){f.cue.id=h;continue}case"CUE":if(!f.cue){f.state="BADCUE";continue}try{c(h,f.cue,f.regionList)}catch{f.cue=null,f.state="BADCUE";continue}f.state="CUETEXT";continue;case"CUETEXT":var p=h.indexOf("-->")!==-1;if(!h||p&&(b=!0)){f.oncue&&f.cue&&f.oncue(f.cue),f.cue=null,f.state="ID";continue}if(f.cue===null)continue;f.cue.text&&(f.cue.text+=`
`),f.cue.text+=h;continue;case"BADCUE":h||(f.state="ID")}}}catch{f.state==="CUETEXT"&&f.cue&&f.oncue&&f.oncue(f.cue),f.cue=null,f.state=f.state==="INITIAL"?"BADWEBVTT":"BADCUE"}return this},E.flush=function(){var m=this;try{if((m.cue||m.state==="HEADER")&&(m.buffer+=`

`,m.parse()),m.state==="INITIAL"||m.state==="BADWEBVTT")throw new Error("Malformed WebVTT signature.")}catch(f){m.onparsingerror&&m.onparsingerror(f)}return m.onflush&&m.onflush(),this},S}()},"./src/utils/webvtt-parser.ts":function(e,t,n){n.r(t),n.d(t,"generateCueId",function(){return d}),n.d(t,"parseWebVTT",function(){return v});var r=n("./src/polyfills/number.ts"),a=n("./src/utils/vttparser.ts"),i=n("./src/demux/id3.ts"),o=n("./src/utils/timescale-conversion.ts"),l=n("./src/remux/mp4-remuxer.ts"),u=/\r\n|\n\r|\n|\r/g,s=function(S,E,m){return m===void 0&&(m=0),S.substr(m,E.length)===E},c=function(S){for(var E=5381,m=S.length;m;)E=33*E^S.charCodeAt(--m);return(E>>>0).toString()};function d(S,E,m){return c(S.toString())+c(E.toString())+c(m)}function v(S,E,m,f,g,h,y,b){var p,C=new a.VTTParser,w=Object(i.utf8ArrayToStr)(new Uint8Array(S)).trim().replace(u,`
`).split(`
`),k=[],_=Object(o.toMpegTsClockFromTimescale)(E,m),T="00:00.000",O=0,A=0,P=!0,D=!1;C.oncue=function(I){var x=f[g],L=f.ccOffset,$=(O-_)/9e4;if(x!=null&&x.new&&(A!==void 0?L=f.ccOffset=x.start:function(U,B,K){var V=U[B],X=U[V.prevCC];if(!X||!X.new&&V.new)return U.ccOffset=U.presentationOffset=V.start,void(V.new=!1);for(;(Z=X)!==null&&Z!==void 0&&Z.new;){var Z;U.ccOffset+=V.start-X.start,V.new=!1,X=U[(V=X).prevCC]}U.presentationOffset=K}(f,g,$)),$&&(L=$-f.presentationOffset),D){var M=I.endTime-I.startTime,j=Object(l.normalizePts)(9e4*(I.startTime+L-A),9e4*h)/9e4;I.startTime=j,I.endTime=j+M}var F=I.text.trim();I.text=decodeURIComponent(encodeURIComponent(F)),I.id||(I.id=d(I.startTime,I.endTime,F)),I.endTime>0&&k.push(I)},C.onparsingerror=function(I){p=I},C.onflush=function(){p?b(p):y(k)},w.forEach(function(I){if(P){if(s(I,"X-TIMESTAMP-MAP=")){P=!1,D=!0,I.substr(16).split(",").forEach(function(x){s(x,"LOCAL:")?T=x.substr(6):s(x,"MPEGTS:")&&(O=parseInt(x.substr(7)))});try{A=function(x){var L=parseInt(x.substr(-3)),$=parseInt(x.substr(-6,2)),M=parseInt(x.substr(-9,2)),j=x.length>9?parseInt(x.substr(0,x.indexOf(":"))):0;if(!(Object(r.isFiniteNumber)(L)&&Object(r.isFiniteNumber)($)&&Object(r.isFiniteNumber)(M)&&Object(r.isFiniteNumber)(j)))throw Error("Malformed X-TIMESTAMP-MAP: Local:"+x);return L+=1e3*$,(L+=6e4*M)+36e5*j}(T)/1e3}catch(x){D=!1,p=x}return}I===""&&(P=!1)}C.parse(I+`
`)}),C.flush()}},"./src/utils/xhr-loader.ts":function(e,t,n){n.r(t);var r=n("./src/utils/logger.ts"),a=n("./src/loader/load-stats.ts"),i=/^age:\s*[\d.]+\s*$/m,o=function(){function l(s){this.xhrSetup=void 0,this.requestTimeout=void 0,this.retryTimeout=void 0,this.retryDelay=void 0,this.config=null,this.callbacks=null,this.context=void 0,this.loader=null,this.stats=void 0,this.xhrSetup=s?s.xhrSetup:null,this.stats=new a.LoadStats,this.retryDelay=0}var u=l.prototype;return u.destroy=function(){this.callbacks=null,this.abortInternal(),this.loader=null,this.config=null},u.abortInternal=function(){var s=this.loader;self.clearTimeout(this.requestTimeout),self.clearTimeout(this.retryTimeout),s&&(s.onreadystatechange=null,s.onprogress=null,s.readyState!==4&&(this.stats.aborted=!0,s.abort()))},u.abort=function(){var s;this.abortInternal(),(s=this.callbacks)!==null&&s!==void 0&&s.onAbort&&this.callbacks.onAbort(this.stats,this.context,this.loader)},u.load=function(s,c,d){if(this.stats.loading.start)throw new Error("Loader can only be used once.");this.stats.loading.start=self.performance.now(),this.context=s,this.config=c,this.callbacks=d,this.retryDelay=c.retryDelay,this.loadInternal()},u.loadInternal=function(){var s=this.config,c=this.context;if(s){var d=this.loader=new self.XMLHttpRequest,v=this.stats;v.loading.first=0,v.loaded=0;var S=this.xhrSetup;try{if(S)try{S(d,c.url)}catch{d.open("GET",c.url,!0),S(d,c.url)}d.readyState||d.open("GET",c.url,!0)}catch(E){return void this.callbacks.onError({code:d.status,text:E.message},c,d)}c.rangeEnd&&d.setRequestHeader("Range","bytes="+c.rangeStart+"-"+(c.rangeEnd-1)),d.onreadystatechange=this.readystatechange.bind(this),d.onprogress=this.loadprogress.bind(this),d.responseType=c.responseType,self.clearTimeout(this.requestTimeout),this.requestTimeout=self.setTimeout(this.loadtimeout.bind(this),s.timeout),d.send()}},u.readystatechange=function(){var s=this.context,c=this.loader,d=this.stats;if(s&&c){var v=c.readyState,S=this.config;if(!d.aborted&&v>=2)if(self.clearTimeout(this.requestTimeout),d.loading.first===0&&(d.loading.first=Math.max(self.performance.now(),d.loading.start)),v===4){c.onreadystatechange=null,c.onprogress=null;var E=c.status;if(E>=200&&E<300){var m,f;if(d.loading.end=Math.max(self.performance.now(),d.loading.first),f=s.responseType==="arraybuffer"?(m=c.response).byteLength:(m=c.responseText).length,d.loaded=d.total=f,!this.callbacks)return;var g=this.callbacks.onProgress;if(g&&g(d,s,m,c),!this.callbacks)return;var h={url:c.responseURL,data:m};this.callbacks.onSuccess(h,d,s,c)}else d.retry>=S.maxRetry||E>=400&&E<499?(r.logger.error(E+" while loading "+s.url),this.callbacks.onError({code:E,text:c.statusText},s,c)):(r.logger.warn(E+" while loading "+s.url+", retrying in "+this.retryDelay+"..."),this.abortInternal(),this.loader=null,self.clearTimeout(this.retryTimeout),this.retryTimeout=self.setTimeout(this.loadInternal.bind(this),this.retryDelay),this.retryDelay=Math.min(2*this.retryDelay,S.maxRetryDelay),d.retry++)}else self.clearTimeout(this.requestTimeout),this.requestTimeout=self.setTimeout(this.loadtimeout.bind(this),S.timeout)}},u.loadtimeout=function(){r.logger.warn("timeout while loading "+this.context.url);var s=this.callbacks;s&&(this.abortInternal(),s.onTimeout(this.stats,this.context,this.loader))},u.loadprogress=function(s){var c=this.stats;c.loaded=s.loaded,s.lengthComputable&&(c.total=s.total)},u.getCacheAge=function(){var s=null;if(this.loader&&i.test(this.loader.getAllResponseHeaders())){var c=this.loader.getResponseHeader("age");s=c?parseFloat(c):null}return s},l}();t.default=o}}).default);var Ju=xW(iC.exports);const $W={name:"d-icon"},Pn=Object.assign($W,{props:{icon:String,size:[Number,String]},setup:function(e){const t=e,n=N(()=>({fontSize:/^\d+$/.test(t.size)?t.size+"px":t.size}));return(r,a)=>(H(),W("i",{class:z(["d-icon iconfont",e.icon]),style:De(he(n))},null,6))}});Pn.__scopeId="data-v-0c690e66";Ur("data-v-4cb76d59");const MW={class:"d-player-top"},FW={class:"top-title"},BW={class:"top-title"};Vr();const NW={props:{title:{default:""}},setup(e){Date.prototype.format=function(r){let a={"h+":this.getHours(),"m+":this.getMinutes(),"s+":this.getSeconds()};for(var i in a)new RegExp("("+i+")").test(r)&&(r=r.replace(RegExp.$1,RegExp.$1.length==1?a[i]:("00"+a[i]).substr((""+a[i]).length)));return r};let t=q("00:00:00");t.value=new Date().format("hh:mm:ss");let n=null;return n=setInterval(()=>{t.value=new Date().format("hh:mm:ss")},1e3),$n(()=>{clearInterval(n)}),(r,a)=>(H(),W("div",MW,[J("p",FW,Ae(e.title||""),1),J("p",BW,Ae(he(t)),1)]))},__scopeId:"data-v-4cb76d59"};Ur("data-v-ac2469ec");const jW={class:"d-status"},UW={class:"d-flex-center"},VW={class:"d-flex-center"},HW=tt("5X\u901F\u64AD\u653E\u4E2D ");Vr();var oC=ee({props:["state"],setup:e=>(t,n)=>Ge((H(),W("div",jW,[Ge(J("li",UW,[R(Pn,{size:"18",class:"d-status-icon",icon:"icon-volume-"+(e.state.volume==0?"mute":e.state.volume>.5?"up":"down")},null,8,["icon"]),tt(" "+Ae(~~(100*e.state.volume))+"% ",1)],512),[[qe,e.state.handleType=="volume"]]),Ge(J("li",VW,[R(Pn,{size:"12",icon:"icon-play"}),R(Pn,{size:"12",icon:"icon-play",style:{"margin-right":"5px"}}),HW],512),[[qe,e.state.handleType=="playbackRate"||e.state.isMultiplesPlay]])],512)),[[qe,e.state.handleType||e.state.isMultiplesPlay]])});oC.__scopeId="data-v-ac2469ec",Ur("data-v-385f7870");const zW=["checked","true-value","false-value"],GW=J("span",{class:"d-switch_action"},null,-1);Vr();var Us=ee({props:{modelValue:{type:[Number,String,Boolean]},width:{type:String,default:"40px"},trueValue:{type:[Number,String,Boolean],default:!0},falseValue:{type:[Number,String,Boolean],default:!0},activeColor:{type:[String],default:"#409EFF"}},emits:["update:modelValue","change"],setup(e,{emit:t}){const n=e;Dd(o=>({"014e5dc0":e.width,e4e32852:e.activeColor}));const r=q(null),a=N(()=>n.modelValue===n.trueValue),i=()=>{Re(()=>{const o=r.value.checked;t("update:modelValue",o),t("change",o)})};return(o,l)=>(H(),W("div",{class:z(["d-switch",{"is-checked":he(a)}])},[J("input",{class:"d-switch__input",ref:r,type:"checkbox",checked:he(a),onChange:i,"true-value":e.trueValue,"false-value":e.falseValue},null,40,zW),GW],2))}});Us.__scopeId="data-v-385f7870",Ur("data-v-b2384226");const KW={key:0},WW=J("i",{class:"rotating iconfont icon-loading f50"},null,-1),YW=[J("i",{class:"rotating iconfont icon-loading f50"},null,-1),J("p",null,"\u6B63\u5728\u7F13\u51B2...",-1)],qW=[J("i",{class:"iconfont icon-replay f24 mr5"},null,-1),tt("\u91CD\u65B0\u64AD\u653E ")],XW=[J("i",{class:"iconfont icon-replay f24 mr5"},null,-1),tt("\u8BF7\u6C42\u9519\u8BEF ")];Vr();var sC=ee({props:{loadType:String,text:{type:String,default:""}},setup(e){const t=e,{proxy:n}=Be(),r=["loadstart","waiting","ended","error","stalled"],a=()=>{n.$parent.play()},i=N(()=>{let o="background: rgba(0, 0, 0, .1);z-index:1";return t.loadType=="loadstart"&&(o="background: rgba(0, 0, 0, 1);;z-index:3"),o});return(o,l)=>Ge((H(),W("div",{class:"d-loading",style:De(he(i))},[J("div",null,[e.loadType=="loadstart"?(H(),W("span",KW,[WW,J("p",null,Ae(e.text),1)])):se("",!0),Ge(J("span",null,YW,512),[[qe,e.loadType=="waiting"]]),Ge(J("span",null,[J("p",{onClick:a,class:"d-flex-x d-pointer"},qW)],512),[[qe,e.loadType=="ended"]]),Ge(J("span",null,[J("p",{onClick:a,class:"d-flex-x d-pointer"},XW)],512),[[qe,e.loadType=="error"||e.loadType=="stalled"]])])],4)),[[qe,r.includes(e.loadType)]])}});sC.__scopeId="data-v-b2384226";const ma=function(e,t,n,r=!1){e&&t&&n&&e.addEventListener(t,n,r)},cn=function(e,t,n,r=!1){e&&t&&n&&e.removeEventListener(t,n,r)};Ur("data-v-5a794390");const ZW=["onMousedown"];Vr();var ci=ee(rd(nd({},{name:"DSlider"}),{props:{modelValue:{required:!0,type:Number,default:0},disabled:{type:Boolean,default:!1},vertical:{type:Boolean,default:!1},hover:{type:Boolean,default:!0},hoverText:{type:String,default:""},preload:{type:Number,default:0},size:{type:String,default:"10px"}},emits:["update:modelValue","change","onMousemove"],setup:function(e,{emit:t}){const n=e;Dd(f=>({"5242b67b":e.size}));const r=q(null),a=q(null),i=Me({dragging:!1,hoverPosition:0,hoverTipsLeft:"50%"}),o=N(()=>{let f=n.modelValue<0?0:n.modelValue>1?1:n.modelValue;return n.vertical?`height:${100*f}%`:`width:${100*f}%`}),l=N(()=>{let f=n.preload<0?0:n.preload>1?1:n.preload;return n.vertical?`height:${100*f}%`:`width:${100*f}%`}),u=N(()=>{let f=i.hoverPosition<0?0:i.hoverPosition>1?1:i.hoverPosition;return n.vertical?`bottom:${100*f}%`:`left:${100*f}%`}),s=f=>{f.preventDefault()},c=f=>{n.disabled||(f.preventDefault(),i.dragging=!0,v(f),ma(window,"mousemove",E),ma(window,"touchmove",E),ma(window,"mouseup",m),ma(window,"touchend",m))},d=f=>{if(!n.hover)return;let g=S(f);if(t("onMousemove",f,g),i.hoverPosition=g,n.vertical)return;let h=r.value,y=a.value.clientWidth/2,b=f.clientX-h.getBoundingClientRect().left;b<y?i.hoverTipsLeft=y-b+"px":h.clientWidth-b<y?i.hoverTipsLeft=h.clientWidth-b-y+"px":i.hoverTipsLeft="50%"},v=f=>{let g=S(f);t("update:modelValue",g),t("change",f,g)},S=f=>{let g=r.value,h=0;if(n.vertical){let y=g.clientHeight;h=(g.getBoundingClientRect().bottom-f.clientY)/y}else h=(f.clientX-g.getBoundingClientRect().left)/g.clientWidth;return h<0?0:h>1?1:h},E=f=>{v(f)},m=f=>{i.dragging&&(cn(window,"mousemove",E),cn(window,"touchmove",E),cn(window,"mouseup",m),cn(window,"touchend",m),cn(window,"contextmenu",m),setTimeout(()=>{i.dragging=!1},0))};return(f,g)=>(H(),W("div",{ref:r,class:z(["d-slider",{"is-vertical":n.vertical}]),onMousedown:qn(c,["stop"]),onContextmenu:s},[J("div",{class:"d-slider__runway",onMousemove:d},[Ge(J("div",{class:"d-slider__cursor",style:De(he(u))},[Ge(J("div",{class:"d-slider__tips",ref:a,style:De({left:he(i).hoverTipsLeft})},Ae(n.hoverText),5),[[qe,n.hoverText]])],4),[[qe,n.hover]]),J("div",{class:"d-slider__preload",style:De(he(l))},null,4),J("div",{class:"d-slider__bar",style:De(he(o))},null,4)],32)],42,ZW))}}));ci.__scopeId="data-v-5a794390";Ur("data-v-570fa0d1");const JW={key:0,class:"d-player-dialog"},QW={class:"d-player-dialog-body"},eY={class:"d-player-dialog-title"},tY={class:"d-player-hotkey-panel"},nY={class:"d-player-filter-panel"},rY={class:"d-player-filter-panel-item"},aY=J("span",null,"\u9971\u548C\u5EA6",-1),iY={class:"d-player-filter-panel-item"},oY=J("span",null,"\u4EAE\u5EA6",-1),sY={class:"d-player-filter-panel-item"},lY=J("span",null,"\u5BF9\u6BD4\u5EA6",-1),uY={key:0,class:"d-player-contextmenu"},cY=["dplayerKeyCode"],dY=J("input",{class:"d-player-copyText"},null,-1);Vr();var lC=ee({setup(e){const t=Me({show:!1,dialogType:"",dialogTitle:"",version:"1.3.1-beta.6",mouseX:0,mouseY:0}),n=[{label:"\u89C6\u9891\u8272\u5F69\u8C03\u6574",key:"filter"},{label:"\u5FEB\u6377\u952E\u8BF4\u660E",key:"hotkey"},{label:"\u590D\u5236\u89C6\u9891\u7F51\u5740",key:"copy"},{label:"\u7248\u672C\uFF1A1.3.1-beta.6",key:"version"}],r=[{key:"Space",label:"\u64AD\u653E/\u6682\u505C"},{key:"\u2192",label:"\u5355\u6B21\u5FEB\u8FDB10s\uFF0C\u957F\u63095\u500D\u901F\u64AD\u653E"},{key:"\u2190",label:"\u5FEB\u90005s"},{key:"\u2191",label:"\u97F3\u91CF\u589E\u52A010%"},{key:"\u2193",label:"\u97F3\u91CF\u589E\u52A0\u964D\u4F4E10%"},{key:"Esc",label:"\u9000\u51FA\u5168\u5C4F/\u9000\u51FA\u7F51\u9875\u5168\u5C4F"},{key:"F",label:"\u5168\u5C4F/\u9000\u51FA\u5168\u5C4F"}],a=Me({saturate:.392,brightness:.392,contrast:.392}),i=N(()=>({left:t.mouseX+"px",top:t.mouseY+"px"}));oe(a,c=>{let d=document.querySelector("#dPlayerVideo"),v=(2.55*c.saturate).toFixed(2),S=(2.55*c.brightness).toFixed(2),E=(2.55*c.contrast).toFixed(2);d.style.filter=`saturate(${v}) brightness(${S}) contrast(${E})`});const o=()=>{a.saturate=.392,a.brightness=.392,a.contrast=.392},l=c=>{c.key=="Escape"&&s(0)},u=c=>{c.preventDefault(),ma(window,"keydown",l),ma(window,"click",s);let d=document.querySelector("#refPlayerWrap"),v=d.clientWidth;d.clientHeight,t.mouseX=c.clientX-d.getBoundingClientRect().left,v-t.mouseX<130&&(t.mouseX=t.mouseX+(v-t.mouseX-130)),t.mouseY=c.clientY-d.getBoundingClientRect().top,t.show=!0},s=c=>{let d=c.path[0].tagName=="LI",v=c.path[0].attributes.dplayerKeyCode&&c.path[0].attributes.dplayerKeyCode.value,S=n.map(E=>E.key);if(d&&S.includes(v))if(t.dialogTitle=c.path[0].innerText,t.dialogType=v,v=="copy"){let E=document.querySelector(".d-player-copyText");E.value=window.location.href,E.select(),document.execCommand("copy"),t.dialogType=""}else v=="version"&&(t.dialogType="");t.show=!1,cn(window,"keydown",l),cn(window,"click",s)};return et(()=>{let c=document.querySelector("#refPlayerWrap");cn(window,"keydown",l),cn(window,"click",s),cn(c,"contextmenu",u),ma(c,"contextmenu",u)}),$n(()=>{let c=document.querySelector("#refPlayerWrap");cn(window,"keydown",l),cn(window,"click",s),cn(c,"contextmenu",u)}),(c,d)=>(H(),W("div",null,[R(mn,{name:"d-fade-in"},{default:Ue(()=>[he(t).dialogType?(H(),W("div",JW,[J("div",QW,[J("h5",eY,[tt(Ae(he(t).dialogTitle)+" ",1),J("i",{onClick:d[0]||(d[0]=v=>he(t).dialogType=!1),class:"icon icon-close"},"X")]),Ge(J("ul",tY,[(H(),W(Ce,null,Ne(r,v=>J("li",{class:"d-player-hotkey-panel-item",key:v.key},[J("span",null,Ae(v.key),1),J("span",null,Ae(v.label),1)])),64))],512),[[qe,he(t).dialogType=="hotkey"]]),Ge(J("ul",nY,[J("li",rY,[aY,R(ci,{class:"filter-panel-slider",size:"5px",modelValue:he(a).saturate,"onUpdate:modelValue":d[1]||(d[1]=v=>he(a).saturate=v)},null,8,["modelValue"]),J("span",null,Ae(Math.round(255*he(a).saturate)),1)]),J("li",iY,[oY,R(ci,{class:"filter-panel-slider",size:"5px",modelValue:he(a).brightness,"onUpdate:modelValue":d[2]||(d[2]=v=>he(a).brightness=v)},null,8,["modelValue"]),J("span",null,Ae(Math.round(255*he(a).brightness)),1)]),J("li",sY,[lY,R(ci,{class:"filter-panel-slider",size:"5px",modelValue:he(a).contrast,"onUpdate:modelValue":d[3]||(d[3]=v=>he(a).contrast=v)},null,8,["modelValue"]),J("span",null,Ae(Math.round(255*he(a).contrast)),1)]),J("span",{onClick:o,title:"\u91CD\u7F6E","aria-label":"\u91CD\u7F6E",class:"d-player-filter-reset"},"\u91CD\u7F6E")],512),[[qe,he(t).dialogType=="filter"]])])])):se("",!0)]),_:1}),he(t).show?(H(),W("div",uY,[J("ul",{class:"d-player-contextmenu-body",style:De(he(i))},[(H(),W(Ce,null,Ne(n,v=>J("li",{dplayerKeyCode:v.key,key:v.key},Ae(v.label),9,cY)),64))],4),dY])):se("",!0)]))}});lC.__scopeId="data-v-570fa0d1";const Qu=e=>{let t=~~(e/3600),n=~~(e%3600/60),r=~~(e%60);return t=t<10?"0"+t:t,n=n<10?"0"+n:n,r=r<10?"0"+r:r,`${t}:${n}:${r}`},co="ontouchstart"in window,ly=["loadstart","play","pause","playing","seeking","seeked","waiting","durationchange","progress","canplay","timeupdate","ended","error","stalled"],fY={width:{type:String,default:"800px"},height:{type:String,default:"450px"},color:{type:String,default:"#409eff"},src:{required:!0,type:String,default:""},title:{type:String,default:""},type:{type:String,default:"video/mp4"},poster:{type:String,default:""},webFullScreen:{type:Boolean,default:!1},speed:{type:Boolean,default:!0},currentTime:{type:Number,default:0},playsinline:{type:Boolean,default:!1},muted:{type:Boolean,default:!1},speedRate:{type:Array,default:()=>["2.0","1.5","1.25","1.0","0.75","0.5"]},autoPlay:{type:Boolean,default:!1},loop:{type:Boolean,default:!1},mirror:{type:Boolean,default:!1},ligthOff:{type:Boolean,default:!1},volume:{type:[String,Number],default:.3},control:{type:Boolean,default:!0},controlBtns:{type:Array,default:["audioTrack","quality","speedRate","volume","setting","pip","pageFullScreen","fullScreen"]},preload:{type:String,default:"auto"}};Ur("data-v-01791e9e");const hY={class:"d-player-video",id:"dPlayerVideo"},vY=["controls","webkit-playsinline","playsinline","volume","muted","loop","preload","src","poster"],mY={class:"d-player-lightoff"},gY={key:1,class:"d-player-state"},pY={class:"d-play-btn"},yY=["onKeyup","onKeydown"],bY={class:"d-control-progress"},SY={class:"d-tool-bar"},TY={key:0,class:"d-tool-item d-tool-time audioTrack-btn"},CY=J("span",{style:{margin:"0 3px"}},"/",-1),EY={class:"total-time"},wY={class:"d-tool-bar"},OY={key:0,class:"d-tool-item quality-btn"},kY={class:"d-tool-item-main"},_Y={class:"speed-main",style:{"text-align":"center"}},AY=["onClick"],DY={key:1,class:"d-tool-item speedRate-btn"},PY={class:"d-tool-item-main"},IY={class:"speed-main"},LY=["onClick"],RY={key:2,class:"d-tool-item volume-btn"},xY={class:"d-tool-item-main volume-box",style:{width:"52px"}},$Y={class:"volume-text-size"},MY={key:3,class:"d-tool-item setting-btn"},FY={class:"d-tool-item-main"},BY={class:"speed-main"},NY=tt(" \u955C\u50CF\u753B\u9762 "),jY=tt(" \u5FAA\u73AF\u64AD\u653E "),UY=tt(" \u5173\u706F\u6A21\u5F0F "),VY=J("div",{class:"d-tool-item-main"},"\u753B\u4E2D\u753B",-1),HY=J("div",{class:"d-tool-item-main"},"\u7F51\u9875\u5168\u5C4F",-1),zY=J("div",{class:"d-tool-item-main"},"\u5168\u5C4F",-1);Vr();var Fo=ee(rd(nd({},{name:"vue3VideoPlay",inheritAttrs:!1}),{props:fY,emits:[...ly,"mirrorChange","loopChange","lightOffChange"],setup:function(e,{expose:t,emit:n}){const r=e;Dd(L=>({"51d4439c":he(S),"77e758a6":L.width,b8a1afc0:L.height}));const a=new Ju({fragLoadingTimeOut:2e3}),i=q(null),o=q(null),l=q(null),u=q(null),s=Me(rd(nd({dVideo:null},r),{muted:r.muted,playBtnState:r.autoPlay?"pause":"play",loadStateType:"loadstart",fullScreen:!1,handleType:"",currentTime:"00:00:00",preloadBar:0,totalTime:"00:00:00",isVideoHovering:!0,speedActive:"1.0",playProgress:0,isMultiplesPlay:!1,longPressTimeout:null,progressCursorTime:"00:00:00",qualityLevels:[],currentLevel:0})),c=(...L)=>$=>L.reverse().reduce((M,j)=>j(M),$),d=ly.reduce((L,$)=>{var M;return L[`on${M=$,M.charAt(0).toUpperCase()+M.slice(1)}`]=j=>{s.loadStateType=$,n($,j)},L},{});d.onCanplay=c(d.onCanplay,()=>{s.playBtnState!="play"&&s.dVideo.play(),s.autoPlay&&(s.dVideo.play(),s.playBtnState="pause")}),d.onEnded=c(d.onEnded,()=>{s.playBtnState="replay"}),d.onDurationchange=L=>{n("durationchange",L),r.currentTime!=0&&(s.dVideo.currentTime=r.currentTime),d.onTimeupdate(L)},d.onProgress=L=>{console.log("\u7F13\u51B2\u4E2D..."),n("progress",L);let $=L.target.duration,M=L.target.buffered,j=L.target.buffered.length&&L.target.buffered.end(M-1);s.preloadBar=j/$},d.onTimeupdate=L=>{n("timeupdate",L);let $=L.duration||L.target.duration||0,M=L.currentTime||L.target.currentTime;s.playProgress=M/$,s.currentTime=Qu(M),s.totalTime=Qu($)},d.onError=c(d.onError,()=>{s.playBtnState="replay"});let v=vw();for(let L in v)d[L]=v[L];const S=(E=s.color,`${parseInt("0x"+E.slice(1,3))},${parseInt("0x"+E.slice(3,5))},${parseInt("0x"+E.slice(5,7))}`);var E;const m=sy(500,()=>{s.handleType=""}),f=L=>{L.preventDefault(),L.code=="ArrowUp"?s.volume=s.volume+.1>1?1:s.volume+.1:s.volume=s.volume-.1<0?0:s.volume-.1,s.muted=!1,s.handleType="volume",m()},g=L=>{r.speed&&(s.dVideo.currentTime=s.dVideo.currentTime<10?.1:s.dVideo.currentTime-10,d.onTimeupdate(s.dVideo),b())},h=L=>{L.preventDefault();let $=L.type;if(L.key=="ArrowRight"){if(b(),$=="keyup"){if(clearTimeout(s.longPressTimeout),!r.speed&&!s.longPressTimeout)return;s.isMultiplesPlay?(s.dVideo.playbackRate=s.speedActive,s.isMultiplesPlay=!1):(s.dVideo.currentTime=s.dVideo.currentTime+10,d.onTimeupdate(s.dVideo))}else if($=="keydown"){if(!r.speed)return;s.isMultiplesPlay&&clearTimeout(s.longPressTimeout),s.longPressTimeout=setTimeout(()=>{s.isMultiplesPlay=!0,s.dVideo.playbackRate=5,s.handleType="playbackRate",m()},500)}}},y=()=>{co||u.value.focus()},b=()=>{s.loadStateType="play",s.dVideo.play().catch(()=>{setTimeout(()=>{s.playBtnState="replay",s.loadStateType="error"},500)}),s.playBtnState="pause"},p=()=>{s.dVideo.pause(),s.playBtnState="play"},C=L=>{L&&L.preventDefault(),s.playBtnState=="play"||s.playBtnState=="replay"?b():s.playBtnState=="pause"&&p()},w=()=>{s.muted=!s.muted,s.volume==0&&(s.volume=.05)},k=(L,$)=>{let M=s.dVideo.duration||s.dVideo.target.duration;s.dVideo.currentTime=M*$,s.playBtnState=="play"&&(s.dVideo.play(),s.playBtnState="pause")},_=(L,$)=>{s.progressCursorTime=Qu(s.dVideo.duration*$)},T=sy(2500,()=>{s.isVideoHovering=!1}),O=L=>{s.isVideoHovering=!0,T()},A=L=>{n("mirrorChange",L,s.dVideo)},P=L=>{n("loopChange",L,s.dVideo)},D=L=>{n("lightOffChange",L,s.dVideo)},I=()=>{var L;L=s.dVideo,document.pictureInPictureElement?document.exitPictureInPicture().catch($=>{console.log($,"Video failed to leave Picture-in-Picture mode.")}):L.requestPictureInPicture().catch($=>{console.log($,"Video failed to enter Picture-in-Picture mode.")})},x=()=>{s.fullScreen=(L=>{let $=document,M=$.webkitIsFullScreen||$.fullscreen;return M?(document.exitFullscreen||$.webkitExitFullScreen).call($):(L.requestFullscreen||L.webkitRequestFullScreen).call(L),!M})(i.value)};return oe(()=>r.src,()=>{Re(()=>{s.dVideo.canPlayType(r.type)||s.dVideo.canPlayType("application/vnd.apple.mpegurl")?s.muted=r.autoPlay:Ju.isSupported()&&(a.detachMedia(),a.attachMedia(s.dVideo),a.on(Ju.Events.MEDIA_ATTACHED,()=>{a.loadSource(r.src),a.on("hlsManifestParsed",(L,$)=>{console.log($),s.currentLevel=$.level,s.qualityLevels=$.levels||[]})}),a.on("hlsLevelSwitching",(L,$)=>{console.log($),console.log("LEVEL_SWITCHING")}),a.on("hlsLevelSwitched",(L,$)=>{s.currentLevel=$.level,console.log("LEVEL_SWITCHED")}))})},{immediate:!0}),et(()=>{s.dVideo=o,y()}),t({play:b,pause:p,togglePlay:C}),(L,$)=>(H(),W("div",{ref:i,id:"refPlayerWrap",class:z(["d-player-wrap",{"web-full-screen":he(s).webFullScreen,"is-lightoff":he(s).lightOff,"d-player-wrap-hover":he(s).playBtnState=="play"||he(s).isVideoHovering}]),onMousemove:O},[J("div",hY,[J("video",We({ref:o,class:["d-player-video-main",{"video-mirror":he(s).mirror}],id:"dPlayerVideoMain",controls:!(!he(co)||!he(s).speed),"webkit-playsinline":r.playsinline,playsinline:r.playsinline},he(d),{volume:he(s).volume,muted:he(s).muted,loop:he(s).loop,preload:L.preload,width:"100%",height:"100%",src:r.src,poster:r.poster}),"\u60A8\u7684\u6D4F\u89C8\u5668\u4E0D\u652F\u6301Video\u6807\u7B7E\u3002",16,vY)]),R(mn,{name:"d-fade-in"},{default:Ue(()=>[Ge(J("div",mY,null,512),[[qe,he(s).lightOff]])]),_:1}),he(s).fullScreen?(H(),Oe(NW,{key:0,title:r.title},null,8,["title"])):se("",!0),he(co)?se("",!0):(H(),W("div",gY,[R(mn,{name:"d-scale-out"},{default:Ue(()=>[Ge(J("div",pY,[R(Pn,{icon:"icon-play",size:40})],512),[[qe,he(s).playBtnState=="play"]])]),_:1}),R(oC,{state:he(s)},null,8,["state"])])),he(co)?se("",!0):(H(),W("input",{key:2,type:"input",readonly:"readonly",ref:u,onDblclick:x,onKeyup:[ei(x,["f"]),$[0]||($[0]=ei(M=>he(s).webFullScreen=!1,["esc"])),h],onClick:C,onKeydown:[ei(C,["space"]),ei(g,["arrow-left"]),ei(f,["arrow-up","arrow-down"]),h],class:"d-player-input",maxlength:"0"},null,40,yY)),R(sC,{loadType:he(s).loadStateType},null,8,["loadType"]),R(lC),!he(co)&&he(s).control?(H(),W("div",{key:3,class:"d-player-control",ref:l},[J("div",bY,[R(ci,{class:"d-progress-bar",onOnMousemove:_,onChange:k,disabled:!he(s).speed,hoverText:he(s).progressCursorTime,modelValue:he(s).playProgress,"onUpdate:modelValue":$[1]||($[1]=M=>he(s).playProgress=M),preload:he(s).preloadBar},null,8,["disabled","hoverText","modelValue","preload"])]),J("div",{class:"d-control-tool",onClick:y},[J("div",SY,[J("div",{class:"d-tool-item",onClick:C},[R(Pn,{size:"24",icon:`icon-${he(s).playBtnState}`},null,8,["icon"])]),r.controlBtns.includes("audioTrack")?(H(),W("div",TY,[J("span",null,Ae(he(s).currentTime),1),CY,J("span",EY,Ae(he(s).totalTime),1)])):se("",!0)]),J("div",wY,[he(s).qualityLevels.length&&r.controlBtns.includes("quality")?(H(),W("div",OY,[tt(Ae(he(s).qualityLevels.length&&(he(s).qualityLevels[he(s).currentLevel]||{}).height)+"P ",1),J("div",kY,[J("ul",_Y,[(H(!0),W(Ce,null,Ne(he(s).qualityLevels,(M,j)=>(H(),W("li",{class:z({"speed-active":he(s).currentLevel==j}),onClick:F=>((U,B)=>{a.currentLevel=B,s.currentLevel=B})(0,j),key:M},Ae(M.height)+"P",11,AY))),128))])])])):se("",!0),r.controlBtns.includes("speedRate")?(H(),W("div",DY,[tt(Ae(he(s).speedActive=="1.0"?"\u500D\u901F":he(s).speedActive+"x")+" ",1),J("div",PY,[J("ul",IY,[(H(!0),W(Ce,null,Ne(he(s).speedRate,M=>(H(),W("li",{class:z({"speed-active":he(s).speedActive==M}),onClick:j=>(F=>{s.speedActive=F,s.dVideo.playbackRate=F})(M),key:M},Ae(M)+"x",11,LY))),128))])])])):se("",!0),r.controlBtns.includes("volume")?(H(),W("div",RY,[J("div",xY,[J("div",{class:z(["volume-main",{"is-muted":he(s).muted}])},[J("span",$Y,Ae(he(s).muted?0:~~(100*he(s).volume))+"%",1),R(ci,{onChange:$[2]||($[2]=M=>he(s).muted=!1),hover:!1,size:"5px",vertical:!0,modelValue:he(s).volume,"onUpdate:modelValue":$[3]||($[3]=M=>he(s).volume=M)},null,8,["modelValue"])],2)]),J("span",{onClick:w,style:{display:"flex"}},[R(Pn,{size:"20",icon:"icon-volume-"+(he(s).volume==0||he(s).muted?"mute":he(s).volume>.5?"up":"down")},null,8,["icon"])])])):se("",!0),r.controlBtns.includes("setting")?(H(),W("div",MY,[R(Pn,{size:"20",class:"rotateHover",icon:"icon-settings"}),J("div",FY,[J("ul",BY,[J("li",null,[NY,R(Us,{onChange:A,modelValue:he(s).mirror,"onUpdate:modelValue":$[4]||($[4]=M=>he(s).mirror=M)},null,8,["modelValue"])]),J("li",null,[jY,R(Us,{onChange:P,modelValue:he(s).loop,"onUpdate:modelValue":$[5]||($[5]=M=>he(s).loop=M)},null,8,["modelValue"])]),J("li",null,[UY,R(Us,{onChange:D,modelValue:he(s).lightOff,"onUpdate:modelValue":$[6]||($[6]=M=>he(s).lightOff=M)},null,8,["modelValue"])])])])])):se("",!0),r.controlBtns.includes("pip")?(H(),W("div",{key:4,class:"d-tool-item pip-btn",onClick:I},[R(Pn,{size:"20",icon:"icon-pip"}),VY])):se("",!0),r.controlBtns.includes("pageFullScreen")?(H(),W("div",{key:5,class:"d-tool-item pip-btn",onClick:$[7]||($[7]=M=>he(s).webFullScreen=!he(s).webFullScreen)},[R(Pn,{size:"20",icon:"icon-web-screen"}),HY])):se("",!0),r.controlBtns.includes("fullScreen")?(H(),W("div",{key:6,class:"d-tool-item fullScreen-btn",onClick:x},[zY,R(Pn,{size:"20",icon:"icon-screen"})])):se("",!0)])])],512)):se("",!0)],34))}}));function GY(e){e.component(Fo.name,Fo)}Fo.__scopeId="data-v-01791e9e",Fo.install=GY;const Mi=jo(SO);Mi.use(dU);Mi.use(Z9);Mi.use(_W);Mi.use(AW);Mi.use(Fo);Mi.mount("#app");export{Ur as A,Vr as B,ZY as C,$t as D,WY as E,Ce as F,Re as G,N as H,xo as I,wt as J,bt as K,yt as L,Oc as M,Ge as N,qe as O,yW as _,H as a,YY as b,W as c,R as d,J as e,c0 as f,i7 as g,tt as h,ge as i,pW as j,ee as k,Ae as l,Ne as m,se as n,et as o,Oe as p,qn as q,Me as r,JY as s,He as t,qY as u,XY as v,Ue as w,De as x,q as y,uo as z};
