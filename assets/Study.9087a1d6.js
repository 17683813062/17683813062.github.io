var M=Object.defineProperty,T=Object.defineProperties;var V=Object.getOwnPropertyDescriptors;var C=Object.getOwnPropertySymbols;var B=Object.prototype.hasOwnProperty,L=Object.prototype.propertyIsEnumerable;var R=(e,t,o)=>t in e?M(e,t,{enumerable:!0,configurable:!0,writable:!0,value:o}):e[t]=o,I=(e,t)=>{for(var o in t||(t={}))B.call(t,o)&&R(e,o,t[o]);if(C)for(var o of C(t))L.call(t,o)&&R(e,o,t[o]);return e},$=(e,t)=>T(e,V(t));import{_ as q,m as E,b as N,d as j,r as A,o as H,at as P,e as U,t as Y,a as v,c as F,f as i,w as l,F as D,C as z,p as G,i as p,n as b,M as J,au as K,j as d}from"./index.3803a45c.js";const O=E({beforeRouteEnter(e,t,o){o(f=>{f.store.commit("changeFooter",!1)})},setup(){let e=N();const t=j();let o=A({store:e,list:[],refreshing:!1,loading:!1}),f=a=>{t.push({path:"/studydetail",query:{_id:a}})},k=()=>{if(localStorage.getItem("user")=="undefined"||localStorage.getItem("user")=="null"||localStorage.getItem("user")==""||localStorage.getItem("user")=="{}"||!localStorage.getItem("user")){localStorage.setItem("user","{}"),J.error("\u8BF7\u767B\u5F55!!!");return}t.push({path:"/studyAdd"})};H(()=>{c()});const w=a=>{let s=new Date(a*1),m=s.getFullYear(),n=s.getMonth()+1,r=s.getDate(),u=s.getHours(),g=s.getMinutes(),_=s.getSeconds();return console.log(m,n),n=n<10?"0"+n:n,r=r<10?"0"+r:r,u=u<10?"0"+u:u,g=g<10?"0"+g:g,_=_<10?"0"+_:_,m+"-"+n+"-"+r+" "+u+":"+g+":"+_},h=()=>{o.refreshing=!0,y()},y=a=>{o.loading=!0,c();let s=setTimeout(()=>{o.loading=!1,o.refreshing=!1,clearTimeout(s)},800)};let c=async()=>{let a=await P();o.list=a.result},S=async a=>{let s=await K({_id:a});console.log(s,"\u5220\u9664"),c()};return U((a,s)=>{e.commit("changeFooter",!0)}),$(I({},Y(o)),{add:k,onRefresh:h,getTime:w,removeStudy:S,goDetail:f})}}),Q=p(" \u77E5\u8BC6\u6E05\u5355 "),W=p("\u5220\u9664");function X(e,t,o,f,k,w){const h=d("t-navbar"),y=d("t-fab"),c=d("t-cell"),S=d("t-button"),a=d("t-swipe-cell"),s=d("t-list"),m=d("t-pull-down-refresh");return v(),F(D,null,[i(h,null,{default:l(()=>[Q]),_:1}),i(y,{onClick:t[0]||(t[0]=n=>e.add()),class:"demo-fab-button"}),i(m,{modelValue:e.refreshing,"onUpdate:modelValue":t[2]||(t[2]=n=>e.refreshing=n),onRefresh:e.onRefresh},{default:l(()=>[i(s,{"async-loading":e.pullloading,onScroll:t[1]||(t[1]=n=>e.onScroll(n,2))},{default:l(()=>[(v(!0),F(D,null,z(e.list,(n,r)=>(v(),G(a,{key:r},{right:l(()=>[i(S,{theme:"danger",shape:"square",onClick:u=>e.removeStudy(n._id)},{default:l(()=>[W]),_:2},1032,["onClick"])]),default:l(()=>[i(c,{onClick:u=>e.goDetail(n._id),align:"top"},{title:l(()=>[p(b(n.title),1)]),description:l(()=>[p(" \u521B\u5EFA\u4EBA\uFF1A"+b(n.creator.name)+" \xA0\xA0 \u65F6\u95F4\uFF1A"+b(e.getTime(n.timestamp)),1)]),_:2},1032,["onClick"])]),_:2},1024))),128))]),_:1},8,["async-loading"])]),_:1},8,["modelValue","onRefresh"])],64)}var ee=q(O,[["render",X],["__scopeId","data-v-3426f452"]]);export{ee as default};
