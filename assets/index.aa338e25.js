var vC=Object.defineProperty,mC=Object.defineProperties;var gC=Object.getOwnPropertyDescriptors;var Rf=Object.getOwnPropertySymbols;var pC=Object.prototype.hasOwnProperty,yC=Object.prototype.propertyIsEnumerable;var xf=(e,t,n)=>t in e?vC(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,$f=(e,t)=>{for(var n in t||(t={}))pC.call(t,n)&&xf(e,n,t[n]);if(Rf)for(var n of Rf(t))yC.call(t,n)&&xf(e,n,t[n]);return e},Mf=(e,t)=>mC(e,gC(t));const bC=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerpolicy&&(i.referrerPolicy=a.referrerpolicy),a.crossorigin==="use-credentials"?i.credentials="include":a.crossorigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(a){if(a.ep)return;a.ep=!0;const i=n(a);fetch(a.href,i)}};bC();function id(e,t){const n=Object.create(null),r=e.split(",");for(let a=0;a<r.length;a++)n[r[a]]=!0;return t?a=>!!n[a.toLowerCase()]:a=>!!n[a]}const SC="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",TC=id(SC);function vy(e){return!!e||e===""}function Ae(e){if(Fe(e)){const t={};for(let n=0;n<e.length;n++){const r=e[n],a=Et(r)?wC(r):Ae(r);if(a)for(const i in a)t[i]=a[i]}return t}else{if(Et(e))return e;if(Dt(e))return e}}const CC=/;(?![^(]*\))/g,EC=/:(.+)/;function wC(e){const t={};return e.split(CC).forEach(n=>{if(n){const r=n.split(EC);r.length>1&&(t[r[0].trim()]=r[1].trim())}}),t}function z(e){let t="";if(Et(e))t=e;else if(Fe(e))for(let n=0;n<e.length;n++){const r=z(e[n]);r&&(t+=r+" ")}else if(Dt(e))for(const n in e)e[n]&&(t+=n+" ");return t.trim()}function OC(e){if(!e)return null;let{class:t,style:n}=e;return t&&!Et(t)&&(e.class=z(t)),n&&(e.style=Ae(n)),e}const _e=e=>Et(e)?e:e==null?"":Fe(e)||Dt(e)&&(e.toString===yy||!Ve(e.toString))?JSON.stringify(e,my,2):String(e),my=(e,t)=>t&&t.__v_isRef?my(e,t.value):ui(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((n,[r,a])=>(n[`${r} =>`]=a,n),{})}:gy(t)?{[`Set(${t.size})`]:[...t.values()]}:Dt(t)&&!Fe(t)&&!by(t)?String(t):t,ut={},li=[],Mn=()=>{},kC=()=>!1,_C=/^on[^a-z]/,cl=e=>_C.test(e),od=e=>e.startsWith("onUpdate:"),Wt=Object.assign,sd=(e,t)=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)},AC=Object.prototype.hasOwnProperty,Je=(e,t)=>AC.call(e,t),Fe=Array.isArray,ui=e=>dl(e)==="[object Map]",gy=e=>dl(e)==="[object Set]",Ve=e=>typeof e=="function",Et=e=>typeof e=="string",ld=e=>typeof e=="symbol",Dt=e=>e!==null&&typeof e=="object",py=e=>Dt(e)&&Ve(e.then)&&Ve(e.catch),yy=Object.prototype.toString,dl=e=>yy.call(e),DC=e=>dl(e).slice(8,-1),by=e=>dl(e)==="[object Object]",ud=e=>Et(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,Is=id(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),fl=e=>{const t=Object.create(null);return n=>t[n]||(t[n]=e(n))},PC=/-(\w)/g,nr=fl(e=>e.replace(PC,(t,n)=>n?n.toUpperCase():"")),IC=/\B([A-Z])/g,Ea=fl(e=>e.replace(IC,"-$1").toLowerCase()),hl=fl(e=>e.charAt(0).toUpperCase()+e.slice(1)),iu=fl(e=>e?`on${hl(e)}`:""),Ao=(e,t)=>!Object.is(e,t),Ls=(e,t)=>{for(let n=0;n<e.length;n++)e[n](t)},Vs=(e,t,n)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value:n})},Hs=e=>{const t=parseFloat(e);return isNaN(t)?e:t};let Ff;const LC=()=>Ff||(Ff=typeof globalThis!="undefined"?globalThis:typeof self!="undefined"?self:typeof window!="undefined"?window:typeof global!="undefined"?global:{});let fn;class RC{constructor(t=!1){this.active=!0,this.effects=[],this.cleanups=[],!t&&fn&&(this.parent=fn,this.index=(fn.scopes||(fn.scopes=[])).push(this)-1)}run(t){if(this.active){const n=fn;try{return fn=this,t()}finally{fn=n}}}on(){fn=this}off(){fn=this.parent}stop(t){if(this.active){let n,r;for(n=0,r=this.effects.length;n<r;n++)this.effects[n].stop();for(n=0,r=this.cleanups.length;n<r;n++)this.cleanups[n]();if(this.scopes)for(n=0,r=this.scopes.length;n<r;n++)this.scopes[n].stop(!0);if(this.parent&&!t){const a=this.parent.scopes.pop();a&&a!==this&&(this.parent.scopes[this.index]=a,a.index=this.index)}this.active=!1}}}function xC(e,t=fn){t&&t.active&&t.effects.push(e)}function $C(){return fn}function MC(e){fn&&fn.cleanups.push(e)}const cd=e=>{const t=new Set(e);return t.w=0,t.n=0,t},Sy=e=>(e.w&Ur)>0,Ty=e=>(e.n&Ur)>0,FC=({deps:e})=>{if(e.length)for(let t=0;t<e.length;t++)e[t].w|=Ur},BC=e=>{const{deps:t}=e;if(t.length){let n=0;for(let r=0;r<t.length;r++){const a=t[r];Sy(a)&&!Ty(a)?a.delete(e):t[n++]=a,a.w&=~Ur,a.n&=~Ur}t.length=n}},nc=new WeakMap;let ho=0,Ur=1;const rc=30;let Rn;const ya=Symbol(""),ac=Symbol("");class dd{constructor(t,n=null,r){this.fn=t,this.scheduler=n,this.active=!0,this.deps=[],this.parent=void 0,xC(this,r)}run(){if(!this.active)return this.fn();let t=Rn,n=Br;for(;t;){if(t===this)return;t=t.parent}try{return this.parent=Rn,Rn=this,Br=!0,Ur=1<<++ho,ho<=rc?FC(this):Bf(this),this.fn()}finally{ho<=rc&&BC(this),Ur=1<<--ho,Rn=this.parent,Br=n,this.parent=void 0,this.deferStop&&this.stop()}}stop(){Rn===this?this.deferStop=!0:this.active&&(Bf(this),this.onStop&&this.onStop(),this.active=!1)}}function Bf(e){const{deps:t}=e;if(t.length){for(let n=0;n<t.length;n++)t[n].delete(e);t.length=0}}let Br=!0;const Cy=[];function wi(){Cy.push(Br),Br=!1}function Oi(){const e=Cy.pop();Br=e===void 0?!0:e}function pn(e,t,n){if(Br&&Rn){let r=nc.get(e);r||nc.set(e,r=new Map);let a=r.get(n);a||r.set(n,a=cd()),Ey(a)}}function Ey(e,t){let n=!1;ho<=rc?Ty(e)||(e.n|=Ur,n=!Sy(e)):n=!e.has(Rn),n&&(e.add(Rn),Rn.deps.push(e))}function pr(e,t,n,r,a,i){const o=nc.get(e);if(!o)return;let l=[];if(t==="clear")l=[...o.values()];else if(n==="length"&&Fe(e))o.forEach((u,s)=>{(s==="length"||s>=r)&&l.push(u)});else switch(n!==void 0&&l.push(o.get(n)),t){case"add":Fe(e)?ud(n)&&l.push(o.get("length")):(l.push(o.get(ya)),ui(e)&&l.push(o.get(ac)));break;case"delete":Fe(e)||(l.push(o.get(ya)),ui(e)&&l.push(o.get(ac)));break;case"set":ui(e)&&l.push(o.get(ya));break}if(l.length===1)l[0]&&ic(l[0]);else{const u=[];for(const s of l)s&&u.push(...s);ic(cd(u))}}function ic(e,t){for(const n of Fe(e)?e:[...e])(n!==Rn||n.allowRecurse)&&(n.scheduler?n.scheduler():n.run())}const NC=id("__proto__,__v_isRef,__isVue"),wy=new Set(Object.getOwnPropertyNames(Symbol).map(e=>Symbol[e]).filter(ld)),jC=fd(),UC=fd(!1,!0),VC=fd(!0),Nf=HC();function HC(){const e={};return["includes","indexOf","lastIndexOf"].forEach(t=>{e[t]=function(...n){const r=it(this);for(let i=0,o=this.length;i<o;i++)pn(r,"get",i+"");const a=r[t](...n);return a===-1||a===!1?r[t](...n.map(it)):a}}),["push","pop","shift","unshift","splice"].forEach(t=>{e[t]=function(...n){wi();const r=it(this)[t].apply(this,n);return Oi(),r}}),e}function fd(e=!1,t=!1){return function(r,a,i){if(a==="__v_isReactive")return!e;if(a==="__v_isReadonly")return e;if(a==="__v_isShallow")return t;if(a==="__v_raw"&&i===(e?t?iE:Dy:t?Ay:_y).get(r))return r;const o=Fe(r);if(!e&&o&&Je(Nf,a))return Reflect.get(Nf,a,i);const l=Reflect.get(r,a,i);return(ld(a)?wy.has(a):NC(a))||(e||pn(r,"get",a),t)?l:At(l)?!o||!ud(a)?l.value:l:Dt(l)?e?md(l):Me(l):l}}const zC=Oy(),GC=Oy(!0);function Oy(e=!1){return function(n,r,a,i){let o=n[r];if(Do(o)&&At(o)&&!At(a))return!1;if(!e&&!Do(a)&&(Py(a)||(a=it(a),o=it(o)),!Fe(n)&&At(o)&&!At(a)))return o.value=a,!0;const l=Fe(n)&&ud(r)?Number(r)<n.length:Je(n,r),u=Reflect.set(n,r,a,i);return n===it(i)&&(l?Ao(a,o)&&pr(n,"set",r,a):pr(n,"add",r,a)),u}}function KC(e,t){const n=Je(e,t);e[t];const r=Reflect.deleteProperty(e,t);return r&&n&&pr(e,"delete",t,void 0),r}function WC(e,t){const n=Reflect.has(e,t);return(!ld(t)||!wy.has(t))&&pn(e,"has",t),n}function YC(e){return pn(e,"iterate",Fe(e)?"length":ya),Reflect.ownKeys(e)}const ky={get:jC,set:zC,deleteProperty:KC,has:WC,ownKeys:YC},qC={get:VC,set(e,t){return!0},deleteProperty(e,t){return!0}},XC=Wt({},ky,{get:UC,set:GC}),hd=e=>e,vl=e=>Reflect.getPrototypeOf(e);function Yo(e,t,n=!1,r=!1){e=e.__v_raw;const a=it(e),i=it(t);t!==i&&!n&&pn(a,"get",t),!n&&pn(a,"get",i);const{has:o}=vl(a),l=r?hd:n?pd:Po;if(o.call(a,t))return l(e.get(t));if(o.call(a,i))return l(e.get(i));e!==a&&e.get(t)}function qo(e,t=!1){const n=this.__v_raw,r=it(n),a=it(e);return e!==a&&!t&&pn(r,"has",e),!t&&pn(r,"has",a),e===a?n.has(e):n.has(e)||n.has(a)}function Xo(e,t=!1){return e=e.__v_raw,!t&&pn(it(e),"iterate",ya),Reflect.get(e,"size",e)}function jf(e){e=it(e);const t=it(this);return vl(t).has.call(t,e)||(t.add(e),pr(t,"add",e,e)),this}function Uf(e,t){t=it(t);const n=it(this),{has:r,get:a}=vl(n);let i=r.call(n,e);i||(e=it(e),i=r.call(n,e));const o=a.call(n,e);return n.set(e,t),i?Ao(t,o)&&pr(n,"set",e,t):pr(n,"add",e,t),this}function Vf(e){const t=it(this),{has:n,get:r}=vl(t);let a=n.call(t,e);a||(e=it(e),a=n.call(t,e)),r&&r.call(t,e);const i=t.delete(e);return a&&pr(t,"delete",e,void 0),i}function Hf(){const e=it(this),t=e.size!==0,n=e.clear();return t&&pr(e,"clear",void 0,void 0),n}function Zo(e,t){return function(r,a){const i=this,o=i.__v_raw,l=it(o),u=t?hd:e?pd:Po;return!e&&pn(l,"iterate",ya),o.forEach((s,c)=>r.call(a,u(s),u(c),i))}}function Jo(e,t,n){return function(...r){const a=this.__v_raw,i=it(a),o=ui(i),l=e==="entries"||e===Symbol.iterator&&o,u=e==="keys"&&o,s=a[e](...r),c=n?hd:t?pd:Po;return!t&&pn(i,"iterate",u?ac:ya),{next(){const{value:f,done:v}=s.next();return v?{value:f,done:v}:{value:l?[c(f[0]),c(f[1])]:c(f),done:v}},[Symbol.iterator](){return this}}}}function Cr(e){return function(...t){return e==="delete"?!1:this}}function ZC(){const e={get(i){return Yo(this,i)},get size(){return Xo(this)},has:qo,add:jf,set:Uf,delete:Vf,clear:Hf,forEach:Zo(!1,!1)},t={get(i){return Yo(this,i,!1,!0)},get size(){return Xo(this)},has:qo,add:jf,set:Uf,delete:Vf,clear:Hf,forEach:Zo(!1,!0)},n={get(i){return Yo(this,i,!0)},get size(){return Xo(this,!0)},has(i){return qo.call(this,i,!0)},add:Cr("add"),set:Cr("set"),delete:Cr("delete"),clear:Cr("clear"),forEach:Zo(!0,!1)},r={get(i){return Yo(this,i,!0,!0)},get size(){return Xo(this,!0)},has(i){return qo.call(this,i,!0)},add:Cr("add"),set:Cr("set"),delete:Cr("delete"),clear:Cr("clear"),forEach:Zo(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(i=>{e[i]=Jo(i,!1,!1),n[i]=Jo(i,!0,!1),t[i]=Jo(i,!1,!0),r[i]=Jo(i,!0,!0)}),[e,n,t,r]}const[JC,QC,eE,tE]=ZC();function vd(e,t){const n=t?e?tE:eE:e?QC:JC;return(r,a,i)=>a==="__v_isReactive"?!e:a==="__v_isReadonly"?e:a==="__v_raw"?r:Reflect.get(Je(n,a)&&a in r?n:r,a,i)}const nE={get:vd(!1,!1)},rE={get:vd(!1,!0)},aE={get:vd(!0,!1)},_y=new WeakMap,Ay=new WeakMap,Dy=new WeakMap,iE=new WeakMap;function oE(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function sE(e){return e.__v_skip||!Object.isExtensible(e)?0:oE(DC(e))}function Me(e){return Do(e)?e:gd(e,!1,ky,nE,_y)}function lE(e){return gd(e,!1,XC,rE,Ay)}function md(e){return gd(e,!0,qC,aE,Dy)}function gd(e,t,n,r,a){if(!Dt(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const i=a.get(e);if(i)return i;const o=sE(e);if(o===0)return e;const l=new Proxy(e,o===2?r:n);return a.set(e,l),l}function ci(e){return Do(e)?ci(e.__v_raw):!!(e&&e.__v_isReactive)}function Do(e){return!!(e&&e.__v_isReadonly)}function Py(e){return!!(e&&e.__v_isShallow)}function Iy(e){return ci(e)||Do(e)}function it(e){const t=e&&e.__v_raw;return t?it(t):e}function Ly(e){return Vs(e,"__v_skip",!0),e}const Po=e=>Dt(e)?Me(e):e,pd=e=>Dt(e)?md(e):e;function yd(e){Br&&Rn&&(e=it(e),Ey(e.dep||(e.dep=cd())))}function bd(e,t){e=it(e),e.dep&&ic(e.dep)}function At(e){return!!(e&&e.__v_isRef===!0)}function q(e){return Ry(e,!1)}function uE(e){return Ry(e,!0)}function Ry(e,t){return At(e)?e:new cE(e,t)}class cE{constructor(t,n){this.__v_isShallow=n,this.dep=void 0,this.__v_isRef=!0,this._rawValue=n?t:it(t),this._value=n?t:Po(t)}get value(){return yd(this),this._value}set value(t){t=this.__v_isShallow?t:it(t),Ao(t,this._rawValue)&&(this._rawValue=t,this._value=this.__v_isShallow?t:Po(t),bd(this))}}function he(e){return At(e)?e.value:e}const dE={get:(e,t,n)=>he(Reflect.get(e,t,n)),set:(e,t,n,r)=>{const a=e[t];return At(a)&&!At(n)?(a.value=n,!0):Reflect.set(e,t,n,r)}};function xy(e){return ci(e)?e:new Proxy(e,dE)}class fE{constructor(t){this.dep=void 0,this.__v_isRef=!0;const{get:n,set:r}=t(()=>yd(this),()=>bd(this));this._get=n,this._set=r}get value(){return this._get()}set value(t){this._set(t)}}function hE(e){return new fE(e)}function He(e){const t=Fe(e)?new Array(e.length):{};for(const n in e)t[n]=mE(e,n);return t}class vE{constructor(t,n,r){this._object=t,this._key=n,this._defaultValue=r,this.__v_isRef=!0}get value(){const t=this._object[this._key];return t===void 0?this._defaultValue:t}set value(t){this._object[this._key]=t}}function mE(e,t,n){const r=e[t];return At(r)?r:new vE(e,t,n)}class gE{constructor(t,n,r,a){this._setter=n,this.dep=void 0,this.__v_isRef=!0,this._dirty=!0,this.effect=new dd(t,()=>{this._dirty||(this._dirty=!0,bd(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!a,this.__v_isReadonly=r}get value(){const t=it(this);return yd(t),(t._dirty||!t._cacheable)&&(t._dirty=!1,t._value=t.effect.run()),t._value}set value(t){this._setter(t)}}function pE(e,t,n=!1){let r,a;const i=Ve(e);return i?(r=e,a=Mn):(r=e.get,a=e.set),new gE(r,a,i||!a,n)}function Nr(e,t,n,r){let a;try{a=r?e(...r):e()}catch(i){ml(i,t,n)}return a}function En(e,t,n,r){if(Ve(e)){const i=Nr(e,t,n,r);return i&&py(i)&&i.catch(o=>{ml(o,t,n)}),i}const a=[];for(let i=0;i<e.length;i++)a.push(En(e[i],t,n,r));return a}function ml(e,t,n,r=!0){const a=t?t.vnode:null;if(t){let i=t.parent;const o=t.proxy,l=n;for(;i;){const s=i.ec;if(s){for(let c=0;c<s.length;c++)if(s[c](e,o,l)===!1)return}i=i.parent}const u=t.appContext.config.errorHandler;if(u){Nr(u,null,10,[e,o,l]);return}}yE(e,n,a,r)}function yE(e,t,n,r=!0){console.error(e)}let zs=!1,oc=!1;const mn=[];let hr=0;const yo=[];let vo=null,Qa=0;const bo=[];let xr=null,ei=0;const $y=Promise.resolve();let Sd=null,sc=null;function Re(e){const t=Sd||$y;return e?t.then(this?e.bind(this):e):t}function bE(e){let t=hr+1,n=mn.length;for(;t<n;){const r=t+n>>>1;Io(mn[r])<e?t=r+1:n=r}return t}function My(e){(!mn.length||!mn.includes(e,zs&&e.allowRecurse?hr+1:hr))&&e!==sc&&(e.id==null?mn.push(e):mn.splice(bE(e.id),0,e),Fy())}function Fy(){!zs&&!oc&&(oc=!0,Sd=$y.then(jy))}function SE(e){const t=mn.indexOf(e);t>hr&&mn.splice(t,1)}function By(e,t,n,r){Fe(e)?n.push(...e):(!t||!t.includes(e,e.allowRecurse?r+1:r))&&n.push(e),Fy()}function TE(e){By(e,vo,yo,Qa)}function CE(e){By(e,xr,bo,ei)}function Td(e,t=null){if(yo.length){for(sc=t,vo=[...new Set(yo)],yo.length=0,Qa=0;Qa<vo.length;Qa++)vo[Qa]();vo=null,Qa=0,sc=null,Td(e,t)}}function Ny(e){if(bo.length){const t=[...new Set(bo)];if(bo.length=0,xr){xr.push(...t);return}for(xr=t,xr.sort((n,r)=>Io(n)-Io(r)),ei=0;ei<xr.length;ei++)xr[ei]();xr=null,ei=0}}const Io=e=>e.id==null?1/0:e.id;function jy(e){oc=!1,zs=!0,Td(e),mn.sort((n,r)=>Io(n)-Io(r));const t=Mn;try{for(hr=0;hr<mn.length;hr++){const n=mn[hr];n&&n.active!==!1&&Nr(n,null,14)}}finally{hr=0,mn.length=0,Ny(),zs=!1,Sd=null,(mn.length||yo.length||bo.length)&&jy(e)}}function EE(e,t,...n){if(e.isUnmounted)return;const r=e.vnode.props||ut;let a=n;const i=t.startsWith("update:"),o=i&&t.slice(7);if(o&&o in r){const c=`${o==="modelValue"?"model":o}Modifiers`,{number:f,trim:v}=r[c]||ut;v?a=n.map(S=>S.trim()):f&&(a=n.map(Hs))}let l,u=r[l=iu(t)]||r[l=iu(nr(t))];!u&&i&&(u=r[l=iu(Ea(t))]),u&&En(u,e,6,a);const s=r[l+"Once"];if(s){if(!e.emitted)e.emitted={};else if(e.emitted[l])return;e.emitted[l]=!0,En(s,e,6,a)}}function Uy(e,t,n=!1){const r=t.emitsCache,a=r.get(e);if(a!==void 0)return a;const i=e.emits;let o={},l=!1;if(!Ve(e)){const u=s=>{const c=Uy(s,t,!0);c&&(l=!0,Wt(o,c))};!n&&t.mixins.length&&t.mixins.forEach(u),e.extends&&u(e.extends),e.mixins&&e.mixins.forEach(u)}return!i&&!l?(r.set(e,null),null):(Fe(i)?i.forEach(u=>o[u]=null):Wt(o,i),r.set(e,o),o)}function gl(e,t){return!e||!cl(t)?!1:(t=t.slice(2).replace(/Once$/,""),Je(e,t[0].toLowerCase()+t.slice(1))||Je(e,Ea(t))||Je(e,t))}let Yt=null,pl=null;function Gs(e){const t=Yt;return Yt=e,pl=e&&e.type.__scopeId||null,t}function Hr(e){pl=e}function zr(){pl=null}function Ue(e,t=Yt,n){if(!t||e._n)return e;const r=(...a)=>{r._d&&th(-1);const i=Gs(t),o=e(...a);return Gs(i),r._d&&th(1),o};return r._n=!0,r._c=!0,r._d=!0,r}function ou(e){const{type:t,vnode:n,proxy:r,withProxy:a,props:i,propsOptions:[o],slots:l,attrs:u,emit:s,render:c,renderCache:f,data:v,setupState:S,ctx:E,inheritAttrs:m}=e;let d,g;const h=Gs(e);try{if(n.shapeFlag&4){const b=a||r;d=Jn(c.call(b,b,f,i,S,v,E)),g=u}else{const b=t;d=Jn(b.length>1?b(i,{attrs:u,slots:l,emit:s}):b(i,null)),g=t.props?u:wE(u)}}catch(b){To.length=0,ml(b,e,1),d=R(wn)}let p=d;if(g&&m!==!1){const b=Object.keys(g),{shapeFlag:y}=p;b.length&&y&7&&(o&&b.some(od)&&(g=OE(g,o)),p=Ta(p,g))}return n.dirs&&(p.dirs=p.dirs?p.dirs.concat(n.dirs):n.dirs),n.transition&&(p.transition=n.transition),d=p,Gs(h),d}const wE=e=>{let t;for(const n in e)(n==="class"||n==="style"||cl(n))&&((t||(t={}))[n]=e[n]);return t},OE=(e,t)=>{const n={};for(const r in e)(!od(r)||!(r.slice(9)in t))&&(n[r]=e[r]);return n};function kE(e,t,n){const{props:r,children:a,component:i}=e,{props:o,children:l,patchFlag:u}=t,s=i.emitsOptions;if(t.dirs||t.transition)return!0;if(n&&u>=0){if(u&1024)return!0;if(u&16)return r?zf(r,o,s):!!o;if(u&8){const c=t.dynamicProps;for(let f=0;f<c.length;f++){const v=c[f];if(o[v]!==r[v]&&!gl(s,v))return!0}}}else return(a||l)&&(!l||!l.$stable)?!0:r===o?!1:r?o?zf(r,o,s):!0:!!o;return!1}function zf(e,t,n){const r=Object.keys(t);if(r.length!==Object.keys(e).length)return!0;for(let a=0;a<r.length;a++){const i=r[a];if(t[i]!==e[i]&&!gl(n,i))return!0}return!1}function _E({vnode:e,parent:t},n){for(;t&&t.subTree===e;)(e=t.vnode).el=n,t=t.parent}const AE=e=>e.__isSuspense;function DE(e,t){t&&t.pendingBranch?Fe(e)?t.effects.push(...e):t.effects.push(e):CE(e)}function ct(e,t){if(Bt){let n=Bt.provides;const r=Bt.parent&&Bt.parent.provides;r===n&&(n=Bt.provides=Object.create(r)),n[e]=t}}function Qe(e,t,n=!1){const r=Bt||Yt;if(r){const a=r.parent==null?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides;if(a&&e in a)return a[e];if(arguments.length>1)return n&&Ve(t)?t.call(r.proxy):t}}function yl(e,t){return bl(e,null,t)}function PE(e,t){return bl(e,null,{flush:"post"})}const Gf={};function oe(e,t,n){return bl(e,t,n)}function bl(e,t,{immediate:n,deep:r,flush:a,onTrack:i,onTrigger:o}=ut){const l=Bt;let u,s=!1,c=!1;if(At(e)?(u=()=>e.value,s=Py(e)):ci(e)?(u=()=>e,r=!0):Fe(e)?(c=!0,s=e.some(ci),u=()=>e.map(g=>{if(At(g))return g.value;if(ci(g))return ma(g);if(Ve(g))return Nr(g,l,2)})):Ve(e)?t?u=()=>Nr(e,l,2):u=()=>{if(!(l&&l.isUnmounted))return f&&f(),En(e,l,3,[v])}:u=Mn,t&&r){const g=u;u=()=>ma(g())}let f,v=g=>{f=d.onStop=()=>{Nr(g,l,4)}};if(Lo)return v=Mn,t?n&&En(t,l,3,[u(),c?[]:void 0,v]):u(),Mn;let S=c?[]:Gf;const E=()=>{if(!!d.active)if(t){const g=d.run();(r||s||(c?g.some((h,p)=>Ao(h,S[p])):Ao(g,S)))&&(f&&f(),En(t,l,3,[g,S===Gf?void 0:S,v]),S=g)}else d.run()};E.allowRecurse=!!t;let m;a==="sync"?m=E:a==="post"?m=()=>tn(E,l&&l.suspense):m=()=>{!l||l.isMounted?TE(E):E()};const d=new dd(u,m);return t?n?E():S=d.run():a==="post"?tn(d.run.bind(d),l&&l.suspense):d.run(),()=>{d.stop(),l&&l.scope&&sd(l.scope.effects,d)}}function IE(e,t,n){const r=this.proxy,a=Et(e)?e.includes(".")?Vy(r,e):()=>r[e]:e.bind(r,r);let i;Ve(t)?i=t:(i=t.handler,n=t);const o=Bt;vi(this);const l=bl(a,i.bind(r),n);return o?vi(o):Sa(),l}function Vy(e,t){const n=t.split(".");return()=>{let r=e;for(let a=0;a<n.length&&r;a++)r=r[n[a]];return r}}function ma(e,t){if(!Dt(e)||e.__v_skip||(t=t||new Set,t.has(e)))return e;if(t.add(e),At(e))ma(e.value,t);else if(Fe(e))for(let n=0;n<e.length;n++)ma(e[n],t);else if(gy(e)||ui(e))e.forEach(n=>{ma(n,t)});else if(by(e))for(const n in e)ma(e[n],t);return e}function LE(){const e={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return tt(()=>{e.isMounted=!0}),Bn(()=>{e.isUnmounting=!0}),e}const Sn=[Function,Array],RE={name:"BaseTransition",props:{mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:Sn,onEnter:Sn,onAfterEnter:Sn,onEnterCancelled:Sn,onBeforeLeave:Sn,onLeave:Sn,onAfterLeave:Sn,onLeaveCancelled:Sn,onBeforeAppear:Sn,onAppear:Sn,onAfterAppear:Sn,onAppearCancelled:Sn},setup(e,{slots:t}){const n=Be(),r=LE();let a;return()=>{const i=t.default&&Gy(t.default(),!0);if(!i||!i.length)return;let o=i[0];if(i.length>1){for(const m of i)if(m.type!==wn){o=m;break}}const l=it(e),{mode:u}=l;if(r.isLeaving)return su(o);const s=Kf(o);if(!s)return su(o);const c=lc(s,l,r,n);uc(s,c);const f=n.subTree,v=f&&Kf(f);let S=!1;const{getTransitionKey:E}=s.type;if(E){const m=E();a===void 0?a=m:m!==a&&(a=m,S=!0)}if(v&&v.type!==wn&&(!ha(s,v)||S)){const m=lc(v,l,r,n);if(uc(v,m),u==="out-in")return r.isLeaving=!0,m.afterLeave=()=>{r.isLeaving=!1,n.update()},su(o);u==="in-out"&&s.type!==wn&&(m.delayLeave=(d,g,h)=>{const p=zy(r,v);p[String(v.key)]=v,d._leaveCb=()=>{g(),d._leaveCb=void 0,delete c.delayedLeave},c.delayedLeave=h})}return o}}},Hy=RE;function zy(e,t){const{leavingVNodes:n}=e;let r=n.get(t.type);return r||(r=Object.create(null),n.set(t.type,r)),r}function lc(e,t,n,r){const{appear:a,mode:i,persisted:o=!1,onBeforeEnter:l,onEnter:u,onAfterEnter:s,onEnterCancelled:c,onBeforeLeave:f,onLeave:v,onAfterLeave:S,onLeaveCancelled:E,onBeforeAppear:m,onAppear:d,onAfterAppear:g,onAppearCancelled:h}=t,p=String(e.key),b=zy(n,e),y=(w,k)=>{w&&En(w,r,9,k)},C={mode:i,persisted:o,beforeEnter(w){let k=l;if(!n.isMounted)if(a)k=m||l;else return;w._leaveCb&&w._leaveCb(!0);const _=b[p];_&&ha(e,_)&&_.el._leaveCb&&_.el._leaveCb(),y(k,[w])},enter(w){let k=u,_=s,T=c;if(!n.isMounted)if(a)k=d||u,_=g||s,T=h||c;else return;let O=!1;const A=w._enterCb=P=>{O||(O=!0,P?y(T,[w]):y(_,[w]),C.delayedLeave&&C.delayedLeave(),w._enterCb=void 0)};k?(k(w,A),k.length<=1&&A()):A()},leave(w,k){const _=String(e.key);if(w._enterCb&&w._enterCb(!0),n.isUnmounting)return k();y(f,[w]);let T=!1;const O=w._leaveCb=A=>{T||(T=!0,k(),A?y(E,[w]):y(S,[w]),w._leaveCb=void 0,b[_]===e&&delete b[_])};b[_]=e,v?(v(w,O),v.length<=1&&O()):O()},clone(w){return lc(w,t,n,r)}};return C}function su(e){if(Sl(e))return e=Ta(e),e.children=null,e}function Kf(e){return Sl(e)?e.children?e.children[0]:void 0:e}function uc(e,t){e.shapeFlag&6&&e.component?uc(e.component.subTree,t):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function Gy(e,t=!1,n){let r=[],a=0;for(let i=0;i<e.length;i++){let o=e[i];const l=n==null?o.key:String(n)+String(o.key!=null?o.key:i);o.type===Te?(o.patchFlag&128&&a++,r=r.concat(Gy(o.children,t,l))):(t||o.type!==wn)&&r.push(l!=null?Ta(o,{key:l}):o)}if(a>1)for(let i=0;i<r.length;i++)r[i].patchFlag=-2;return r}function ee(e){return Ve(e)?{setup:e,name:e.name}:e}const Ks=e=>!!e.type.__asyncLoader,Sl=e=>e.type.__isKeepAlive;function wa(e,t){Ky(e,"a",t)}function Gr(e,t){Ky(e,"da",t)}function Ky(e,t,n=Bt){const r=e.__wdc||(e.__wdc=()=>{let a=n;for(;a;){if(a.isDeactivated)return;a=a.parent}return e()});if(Tl(t,r,n),n){let a=n.parent;for(;a&&a.parent;)Sl(a.parent.vnode)&&xE(r,t,n,a),a=a.parent}}function xE(e,t,n,r){const a=Tl(t,e,r,!0);Nn(()=>{sd(r[t],a)},n)}function Tl(e,t,n=Bt,r=!1){if(n){const a=n[e]||(n[e]=[]),i=t.__weh||(t.__weh=(...o)=>{if(n.isUnmounted)return;wi(),vi(n);const l=En(t,n,e,o);return Sa(),Oi(),l});return r?a.unshift(i):a.push(i),i}}const Sr=e=>(t,n=Bt)=>(!Lo||e==="sp")&&Tl(e,t,n),Cd=Sr("bm"),tt=Sr("m"),Wy=Sr("bu"),Ed=Sr("u"),Bn=Sr("bum"),Nn=Sr("um"),$E=Sr("sp"),ME=Sr("rtg"),FE=Sr("rtc");function BE(e,t=Bt){Tl("ec",e,t)}let cc=!0;function NE(e){const t=qy(e),n=e.proxy,r=e.ctx;cc=!1,t.beforeCreate&&Wf(t.beforeCreate,e,"bc");const{data:a,computed:i,methods:o,watch:l,provide:u,inject:s,created:c,beforeMount:f,mounted:v,beforeUpdate:S,updated:E,activated:m,deactivated:d,beforeDestroy:g,beforeUnmount:h,destroyed:p,unmounted:b,render:y,renderTracked:C,renderTriggered:w,errorCaptured:k,serverPrefetch:_,expose:T,inheritAttrs:O,components:A,directives:P,filters:D}=t;if(s&&jE(s,r,null,e.appContext.config.unwrapInjectedRef),o)for(const L in o){const $=o[L];Ve($)&&(r[L]=$.bind(n))}if(a){const L=a.call(n,n);Dt(L)&&(e.data=Me(L))}if(cc=!0,i)for(const L in i){const $=i[L],M=Ve($)?$.bind(n,n):Ve($.get)?$.get.bind(n,n):Mn,N=!Ve($)&&Ve($.set)?$.set.bind(n):Mn,F=j({get:M,set:N});Object.defineProperty(r,L,{enumerable:!0,configurable:!0,get:()=>F.value,set:U=>F.value=U})}if(l)for(const L in l)Yy(l[L],r,n,L);if(u){const L=Ve(u)?u.call(n):u;Reflect.ownKeys(L).forEach($=>{ct($,L[$])})}c&&Wf(c,e,"c");function x(L,$){Fe($)?$.forEach(M=>L(M.bind(n))):$&&L($.bind(n))}if(x(Cd,f),x(tt,v),x(Wy,S),x(Ed,E),x(wa,m),x(Gr,d),x(BE,k),x(FE,C),x(ME,w),x(Bn,h),x(Nn,b),x($E,_),Fe(T))if(T.length){const L=e.exposed||(e.exposed={});T.forEach($=>{Object.defineProperty(L,$,{get:()=>n[$],set:M=>n[$]=M})})}else e.exposed||(e.exposed={});y&&e.render===Mn&&(e.render=y),O!=null&&(e.inheritAttrs=O),A&&(e.components=A),P&&(e.directives=P)}function jE(e,t,n=Mn,r=!1){Fe(e)&&(e=dc(e));for(const a in e){const i=e[a];let o;Dt(i)?"default"in i?o=Qe(i.from||a,i.default,!0):o=Qe(i.from||a):o=Qe(i),At(o)&&r?Object.defineProperty(t,a,{enumerable:!0,configurable:!0,get:()=>o.value,set:l=>o.value=l}):t[a]=o}}function Wf(e,t,n){En(Fe(e)?e.map(r=>r.bind(t.proxy)):e.bind(t.proxy),t,n)}function Yy(e,t,n,r){const a=r.includes(".")?Vy(n,r):()=>n[r];if(Et(e)){const i=t[e];Ve(i)&&oe(a,i)}else if(Ve(e))oe(a,e.bind(n));else if(Dt(e))if(Fe(e))e.forEach(i=>Yy(i,t,n,r));else{const i=Ve(e.handler)?e.handler.bind(n):t[e.handler];Ve(i)&&oe(a,i,e)}}function qy(e){const t=e.type,{mixins:n,extends:r}=t,{mixins:a,optionsCache:i,config:{optionMergeStrategies:o}}=e.appContext,l=i.get(t);let u;return l?u=l:!a.length&&!n&&!r?u=t:(u={},a.length&&a.forEach(s=>Ws(u,s,o,!0)),Ws(u,t,o)),i.set(t,u),u}function Ws(e,t,n,r=!1){const{mixins:a,extends:i}=t;i&&Ws(e,i,n,!0),a&&a.forEach(o=>Ws(e,o,n,!0));for(const o in t)if(!(r&&o==="expose")){const l=UE[o]||n&&n[o];e[o]=l?l(e[o],t[o]):t[o]}return e}const UE={data:Yf,props:da,emits:da,methods:da,computed:da,beforeCreate:Qt,created:Qt,beforeMount:Qt,mounted:Qt,beforeUpdate:Qt,updated:Qt,beforeDestroy:Qt,beforeUnmount:Qt,destroyed:Qt,unmounted:Qt,activated:Qt,deactivated:Qt,errorCaptured:Qt,serverPrefetch:Qt,components:da,directives:da,watch:HE,provide:Yf,inject:VE};function Yf(e,t){return t?e?function(){return Wt(Ve(e)?e.call(this,this):e,Ve(t)?t.call(this,this):t)}:t:e}function VE(e,t){return da(dc(e),dc(t))}function dc(e){if(Fe(e)){const t={};for(let n=0;n<e.length;n++)t[e[n]]=e[n];return t}return e}function Qt(e,t){return e?[...new Set([].concat(e,t))]:t}function da(e,t){return e?Wt(Wt(Object.create(null),e),t):t}function HE(e,t){if(!e)return t;if(!t)return e;const n=Wt(Object.create(null),e);for(const r in t)n[r]=Qt(e[r],t[r]);return n}function zE(e,t,n,r=!1){const a={},i={};Vs(i,Cl,1),e.propsDefaults=Object.create(null),Xy(e,t,a,i);for(const o in e.propsOptions[0])o in a||(a[o]=void 0);n?e.props=r?a:lE(a):e.type.props?e.props=a:e.props=i,e.attrs=i}function GE(e,t,n,r){const{props:a,attrs:i,vnode:{patchFlag:o}}=e,l=it(a),[u]=e.propsOptions;let s=!1;if((r||o>0)&&!(o&16)){if(o&8){const c=e.vnode.dynamicProps;for(let f=0;f<c.length;f++){let v=c[f];if(gl(e.emitsOptions,v))continue;const S=t[v];if(u)if(Je(i,v))S!==i[v]&&(i[v]=S,s=!0);else{const E=nr(v);a[E]=fc(u,l,E,S,e,!1)}else S!==i[v]&&(i[v]=S,s=!0)}}}else{Xy(e,t,a,i)&&(s=!0);let c;for(const f in l)(!t||!Je(t,f)&&((c=Ea(f))===f||!Je(t,c)))&&(u?n&&(n[f]!==void 0||n[c]!==void 0)&&(a[f]=fc(u,l,f,void 0,e,!0)):delete a[f]);if(i!==l)for(const f in i)(!t||!Je(t,f)&&!0)&&(delete i[f],s=!0)}s&&pr(e,"set","$attrs")}function Xy(e,t,n,r){const[a,i]=e.propsOptions;let o=!1,l;if(t)for(let u in t){if(Is(u))continue;const s=t[u];let c;a&&Je(a,c=nr(u))?!i||!i.includes(c)?n[c]=s:(l||(l={}))[c]=s:gl(e.emitsOptions,u)||(!(u in r)||s!==r[u])&&(r[u]=s,o=!0)}if(i){const u=it(n),s=l||ut;for(let c=0;c<i.length;c++){const f=i[c];n[f]=fc(a,u,f,s[f],e,!Je(s,f))}}return o}function fc(e,t,n,r,a,i){const o=e[n];if(o!=null){const l=Je(o,"default");if(l&&r===void 0){const u=o.default;if(o.type!==Function&&Ve(u)){const{propsDefaults:s}=a;n in s?r=s[n]:(vi(a),r=s[n]=u.call(null,t),Sa())}else r=u}o[0]&&(i&&!l?r=!1:o[1]&&(r===""||r===Ea(n))&&(r=!0))}return r}function Zy(e,t,n=!1){const r=t.propsCache,a=r.get(e);if(a)return a;const i=e.props,o={},l=[];let u=!1;if(!Ve(e)){const c=f=>{u=!0;const[v,S]=Zy(f,t,!0);Wt(o,v),S&&l.push(...S)};!n&&t.mixins.length&&t.mixins.forEach(c),e.extends&&c(e.extends),e.mixins&&e.mixins.forEach(c)}if(!i&&!u)return r.set(e,li),li;if(Fe(i))for(let c=0;c<i.length;c++){const f=nr(i[c]);qf(f)&&(o[f]=ut)}else if(i)for(const c in i){const f=nr(c);if(qf(f)){const v=i[c],S=o[f]=Fe(v)||Ve(v)?{type:v}:v;if(S){const E=Jf(Boolean,S.type),m=Jf(String,S.type);S[0]=E>-1,S[1]=m<0||E<m,(E>-1||Je(S,"default"))&&l.push(f)}}}const s=[o,l];return r.set(e,s),s}function qf(e){return e[0]!=="$"}function Xf(e){const t=e&&e.toString().match(/^\s*function (\w+)/);return t?t[1]:e===null?"null":""}function Zf(e,t){return Xf(e)===Xf(t)}function Jf(e,t){return Fe(t)?t.findIndex(n=>Zf(n,e)):Ve(t)&&Zf(t,e)?0:-1}const Jy=e=>e[0]==="_"||e==="$stable",wd=e=>Fe(e)?e.map(Jn):[Jn(e)],KE=(e,t,n)=>{const r=Ue((...a)=>wd(t(...a)),n);return r._c=!1,r},Qy=(e,t,n)=>{const r=e._ctx;for(const a in e){if(Jy(a))continue;const i=e[a];if(Ve(i))t[a]=KE(a,i,r);else if(i!=null){const o=wd(i);t[a]=()=>o}}},e0=(e,t)=>{const n=wd(t);e.slots.default=()=>n},WE=(e,t)=>{if(e.vnode.shapeFlag&32){const n=t._;n?(e.slots=it(t),Vs(t,"_",n)):Qy(t,e.slots={})}else e.slots={},t&&e0(e,t);Vs(e.slots,Cl,1)},YE=(e,t,n)=>{const{vnode:r,slots:a}=e;let i=!0,o=ut;if(r.shapeFlag&32){const l=t._;l?n&&l===1?i=!1:(Wt(a,t),!n&&l===1&&delete a._):(i=!t.$stable,Qy(t,a)),o=t}else t&&(e0(e,t),o={default:1});if(i)for(const l in a)!Jy(l)&&!(l in o)&&delete a[l]};function Ge(e,t){const n=Yt;if(n===null)return e;const r=El(n)||n.proxy,a=e.dirs||(e.dirs=[]);for(let i=0;i<t.length;i++){let[o,l,u,s=ut]=t[i];Ve(o)&&(o={mounted:o,updated:o}),o.deep&&ma(l),a.push({dir:o,instance:r,value:l,oldValue:void 0,arg:u,modifiers:s})}return e}function ra(e,t,n,r){const a=e.dirs,i=t&&t.dirs;for(let o=0;o<a.length;o++){const l=a[o];i&&(l.oldValue=i[o].value);let u=l.dir[r];u&&(wi(),En(u,n,8,[e.el,l,e,t]),Oi())}}function t0(){return{app:null,config:{isNativeTag:kC,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let qE=0;function XE(e,t){return function(r,a=null){Ve(r)||(r=Object.assign({},r)),a!=null&&!Dt(a)&&(a=null);const i=t0(),o=new Set;let l=!1;const u=i.app={_uid:qE++,_component:r,_props:a,_container:null,_context:i,_instance:null,version:bw,get config(){return i.config},set config(s){},use(s,...c){return o.has(s)||(s&&Ve(s.install)?(o.add(s),s.install(u,...c)):Ve(s)&&(o.add(s),s(u,...c))),u},mixin(s){return i.mixins.includes(s)||i.mixins.push(s),u},component(s,c){return c?(i.components[s]=c,u):i.components[s]},directive(s,c){return c?(i.directives[s]=c,u):i.directives[s]},mount(s,c,f){if(!l){const v=R(r,a);return v.appContext=i,c&&t?t(v,s):e(v,s,f),l=!0,u._container=s,s.__vue_app__=u,El(v.component)||v.component.proxy}},unmount(){l&&(e(null,u._container),delete u._container.__vue_app__)},provide(s,c){return i.provides[s]=c,u}};return u}}function hc(e,t,n,r,a=!1){if(Fe(e)){e.forEach((v,S)=>hc(v,t&&(Fe(t)?t[S]:t),n,r,a));return}if(Ks(r)&&!a)return;const i=r.shapeFlag&4?El(r.component)||r.component.proxy:r.el,o=a?null:i,{i:l,r:u}=e,s=t&&t.r,c=l.refs===ut?l.refs={}:l.refs,f=l.setupState;if(s!=null&&s!==u&&(Et(s)?(c[s]=null,Je(f,s)&&(f[s]=null)):At(s)&&(s.value=null)),Ve(u))Nr(u,l,12,[o,c]);else{const v=Et(u),S=At(u);if(v||S){const E=()=>{if(e.f){const m=v?c[u]:u.value;a?Fe(m)&&sd(m,i):Fe(m)?m.includes(i)||m.push(i):v?(c[u]=[i],Je(f,u)&&(f[u]=c[u])):(u.value=[i],e.k&&(c[e.k]=u.value))}else v?(c[u]=o,Je(f,u)&&(f[u]=o)):At(u)&&(u.value=o,e.k&&(c[e.k]=o))};o?(E.id=-1,tn(E,n)):E()}}}const tn=DE;function ZE(e){return JE(e)}function JE(e,t){const n=LC();n.__VUE__=!0;const{insert:r,remove:a,patchProp:i,createElement:o,createText:l,createComment:u,setText:s,setElementText:c,parentNode:f,nextSibling:v,setScopeId:S=Mn,cloneNode:E,insertStaticContent:m}=e,d=(G,Y,Q,re=null,ie=null,le=null,Se=!1,fe=null,me=!!Y.dynamicChildren)=>{if(G===Y)return;G&&!ha(G,Y)&&(re=ne(G),B(G,ie,le,!0),G=null),Y.patchFlag===-2&&(me=!1,Y.dynamicChildren=null);const{type:ue,ref:ke,shapeFlag:Ee}=Y;switch(ue){case Ad:g(G,Y,Q,re);break;case wn:h(G,Y,Q,re);break;case Rs:G==null&&p(Y,Q,re,Se);break;case Te:P(G,Y,Q,re,ie,le,Se,fe,me);break;default:Ee&1?C(G,Y,Q,re,ie,le,Se,fe,me):Ee&6?D(G,Y,Q,re,ie,le,Se,fe,me):(Ee&64||Ee&128)&&ue.process(G,Y,Q,re,ie,le,Se,fe,me,ye)}ke!=null&&ie&&hc(ke,G&&G.ref,le,Y||G,!Y)},g=(G,Y,Q,re)=>{if(G==null)r(Y.el=l(Y.children),Q,re);else{const ie=Y.el=G.el;Y.children!==G.children&&s(ie,Y.children)}},h=(G,Y,Q,re)=>{G==null?r(Y.el=u(Y.children||""),Q,re):Y.el=G.el},p=(G,Y,Q,re)=>{[G.el,G.anchor]=m(G.children,Y,Q,re,G.el,G.anchor)},b=({el:G,anchor:Y},Q,re)=>{let ie;for(;G&&G!==Y;)ie=v(G),r(G,Q,re),G=ie;r(Y,Q,re)},y=({el:G,anchor:Y})=>{let Q;for(;G&&G!==Y;)Q=v(G),a(G),G=Q;a(Y)},C=(G,Y,Q,re,ie,le,Se,fe,me)=>{Se=Se||Y.type==="svg",G==null?w(Y,Q,re,ie,le,Se,fe,me):T(G,Y,ie,le,Se,fe,me)},w=(G,Y,Q,re,ie,le,Se,fe)=>{let me,ue;const{type:ke,props:Ee,shapeFlag:Ie,transition:$e,patchFlag:je,dirs:rt}=G;if(G.el&&E!==void 0&&je===-1)me=G.el=E(G.el);else{if(me=G.el=o(G.type,le,Ee&&Ee.is,Ee),Ie&8?c(me,G.children):Ie&16&&_(G.children,me,null,re,ie,le&&ke!=="foreignObject",Se,fe),rt&&ra(G,null,re,"created"),Ee){for(const Ze in Ee)Ze!=="value"&&!Is(Ze)&&i(me,Ze,null,Ee[Ze],le,G.children,re,ie,Z);"value"in Ee&&i(me,"value",null,Ee.value),(ue=Ee.onVnodeBeforeMount)&&Kn(ue,re,G)}k(me,G,G.scopeId,Se,re)}rt&&ra(G,null,re,"beforeMount");const Xe=(!ie||ie&&!ie.pendingBranch)&&$e&&!$e.persisted;Xe&&$e.beforeEnter(me),r(me,Y,Q),((ue=Ee&&Ee.onVnodeMounted)||Xe||rt)&&tn(()=>{ue&&Kn(ue,re,G),Xe&&$e.enter(me),rt&&ra(G,null,re,"mounted")},ie)},k=(G,Y,Q,re,ie)=>{if(Q&&S(G,Q),re)for(let le=0;le<re.length;le++)S(G,re[le]);if(ie){let le=ie.subTree;if(Y===le){const Se=ie.vnode;k(G,Se,Se.scopeId,Se.slotScopeIds,ie.parent)}}},_=(G,Y,Q,re,ie,le,Se,fe,me=0)=>{for(let ue=me;ue<G.length;ue++){const ke=G[ue]=fe?$r(G[ue]):Jn(G[ue]);d(null,ke,Y,Q,re,ie,le,Se,fe)}},T=(G,Y,Q,re,ie,le,Se)=>{const fe=Y.el=G.el;let{patchFlag:me,dynamicChildren:ue,dirs:ke}=Y;me|=G.patchFlag&16;const Ee=G.props||ut,Ie=Y.props||ut;let $e;Q&&aa(Q,!1),($e=Ie.onVnodeBeforeUpdate)&&Kn($e,Q,Y,G),ke&&ra(Y,G,Q,"beforeUpdate"),Q&&aa(Q,!0);const je=ie&&Y.type!=="foreignObject";if(ue?O(G.dynamicChildren,ue,fe,Q,re,je,le):Se||M(G,Y,fe,null,Q,re,je,le,!1),me>0){if(me&16)A(fe,Y,Ee,Ie,Q,re,ie);else if(me&2&&Ee.class!==Ie.class&&i(fe,"class",null,Ie.class,ie),me&4&&i(fe,"style",Ee.style,Ie.style,ie),me&8){const rt=Y.dynamicProps;for(let Xe=0;Xe<rt.length;Xe++){const Ze=rt[Xe],Ht=Ee[Ze],cn=Ie[Ze];(cn!==Ht||Ze==="value")&&i(fe,Ze,Ht,cn,ie,G.children,Q,re,Z)}}me&1&&G.children!==Y.children&&c(fe,Y.children)}else!Se&&ue==null&&A(fe,Y,Ee,Ie,Q,re,ie);(($e=Ie.onVnodeUpdated)||ke)&&tn(()=>{$e&&Kn($e,Q,Y,G),ke&&ra(Y,G,Q,"updated")},re)},O=(G,Y,Q,re,ie,le,Se)=>{for(let fe=0;fe<Y.length;fe++){const me=G[fe],ue=Y[fe],ke=me.el&&(me.type===Te||!ha(me,ue)||me.shapeFlag&70)?f(me.el):Q;d(me,ue,ke,null,re,ie,le,Se,!0)}},A=(G,Y,Q,re,ie,le,Se)=>{if(Q!==re){for(const fe in re){if(Is(fe))continue;const me=re[fe],ue=Q[fe];me!==ue&&fe!=="value"&&i(G,fe,ue,me,Se,Y.children,ie,le,Z)}if(Q!==ut)for(const fe in Q)!Is(fe)&&!(fe in re)&&i(G,fe,Q[fe],null,Se,Y.children,ie,le,Z);"value"in re&&i(G,"value",Q.value,re.value)}},P=(G,Y,Q,re,ie,le,Se,fe,me)=>{const ue=Y.el=G?G.el:l(""),ke=Y.anchor=G?G.anchor:l("");let{patchFlag:Ee,dynamicChildren:Ie,slotScopeIds:$e}=Y;$e&&(fe=fe?fe.concat($e):$e),G==null?(r(ue,Q,re),r(ke,Q,re),_(Y.children,Q,ke,ie,le,Se,fe,me)):Ee>0&&Ee&64&&Ie&&G.dynamicChildren?(O(G.dynamicChildren,Ie,Q,ie,le,Se,fe),(Y.key!=null||ie&&Y===ie.subTree)&&Od(G,Y,!0)):M(G,Y,Q,ke,ie,le,Se,fe,me)},D=(G,Y,Q,re,ie,le,Se,fe,me)=>{Y.slotScopeIds=fe,G==null?Y.shapeFlag&512?ie.ctx.activate(Y,Q,re,Se,me):I(Y,Q,re,ie,le,Se,me):x(G,Y,me)},I=(G,Y,Q,re,ie,le,Se)=>{const fe=G.component=dw(G,re,ie);if(Sl(G)&&(fe.ctx.renderer=ye),fw(fe),fe.asyncDep){if(ie&&ie.registerDep(fe,L),!G.el){const me=fe.subTree=R(wn);h(null,me,Y,Q)}return}L(fe,G,Y,Q,ie,le,Se)},x=(G,Y,Q)=>{const re=Y.component=G.component;if(kE(G,Y,Q))if(re.asyncDep&&!re.asyncResolved){$(re,Y,Q);return}else re.next=Y,SE(re.update),re.update();else Y.component=G.component,Y.el=G.el,re.vnode=Y},L=(G,Y,Q,re,ie,le,Se)=>{const fe=()=>{if(G.isMounted){let{next:ke,bu:Ee,u:Ie,parent:$e,vnode:je}=G,rt=ke,Xe;aa(G,!1),ke?(ke.el=je.el,$(G,ke,Se)):ke=je,Ee&&Ls(Ee),(Xe=ke.props&&ke.props.onVnodeBeforeUpdate)&&Kn(Xe,$e,ke,je),aa(G,!0);const Ze=ou(G),Ht=G.subTree;G.subTree=Ze,d(Ht,Ze,f(Ht.el),ne(Ht),G,ie,le),ke.el=Ze.el,rt===null&&_E(G,Ze.el),Ie&&tn(Ie,ie),(Xe=ke.props&&ke.props.onVnodeUpdated)&&tn(()=>Kn(Xe,$e,ke,je),ie)}else{let ke;const{el:Ee,props:Ie}=Y,{bm:$e,m:je,parent:rt}=G,Xe=Ks(Y);if(aa(G,!1),$e&&Ls($e),!Xe&&(ke=Ie&&Ie.onVnodeBeforeMount)&&Kn(ke,rt,Y),aa(G,!0),Ee&&be){const Ze=()=>{G.subTree=ou(G),be(Ee,G.subTree,G,ie,null)};Xe?Y.type.__asyncLoader().then(()=>!G.isUnmounted&&Ze()):Ze()}else{const Ze=G.subTree=ou(G);d(null,Ze,Q,re,G,ie,le),Y.el=Ze.el}if(je&&tn(je,ie),!Xe&&(ke=Ie&&Ie.onVnodeMounted)){const Ze=Y;tn(()=>Kn(ke,rt,Ze),ie)}Y.shapeFlag&256&&G.a&&tn(G.a,ie),G.isMounted=!0,Y=Q=re=null}},me=G.effect=new dd(fe,()=>My(G.update),G.scope),ue=G.update=me.run.bind(me);ue.id=G.uid,aa(G,!0),ue()},$=(G,Y,Q)=>{Y.component=G;const re=G.vnode.props;G.vnode=Y,G.next=null,GE(G,Y.props,re,Q),YE(G,Y.children,Q),wi(),Td(void 0,G.update),Oi()},M=(G,Y,Q,re,ie,le,Se,fe,me=!1)=>{const ue=G&&G.children,ke=G?G.shapeFlag:0,Ee=Y.children,{patchFlag:Ie,shapeFlag:$e}=Y;if(Ie>0){if(Ie&128){F(ue,Ee,Q,re,ie,le,Se,fe,me);return}else if(Ie&256){N(ue,Ee,Q,re,ie,le,Se,fe,me);return}}$e&8?(ke&16&&Z(ue,ie,le),Ee!==ue&&c(Q,Ee)):ke&16?$e&16?F(ue,Ee,Q,re,ie,le,Se,fe,me):Z(ue,ie,le,!0):(ke&8&&c(Q,""),$e&16&&_(Ee,Q,re,ie,le,Se,fe,me))},N=(G,Y,Q,re,ie,le,Se,fe,me)=>{G=G||li,Y=Y||li;const ue=G.length,ke=Y.length,Ee=Math.min(ue,ke);let Ie;for(Ie=0;Ie<Ee;Ie++){const $e=Y[Ie]=me?$r(Y[Ie]):Jn(Y[Ie]);d(G[Ie],$e,Q,null,ie,le,Se,fe,me)}ue>ke?Z(G,ie,le,!0,!1,Ee):_(Y,Q,re,ie,le,Se,fe,me,Ee)},F=(G,Y,Q,re,ie,le,Se,fe,me)=>{let ue=0;const ke=Y.length;let Ee=G.length-1,Ie=ke-1;for(;ue<=Ee&&ue<=Ie;){const $e=G[ue],je=Y[ue]=me?$r(Y[ue]):Jn(Y[ue]);if(ha($e,je))d($e,je,Q,null,ie,le,Se,fe,me);else break;ue++}for(;ue<=Ee&&ue<=Ie;){const $e=G[Ee],je=Y[Ie]=me?$r(Y[Ie]):Jn(Y[Ie]);if(ha($e,je))d($e,je,Q,null,ie,le,Se,fe,me);else break;Ee--,Ie--}if(ue>Ee){if(ue<=Ie){const $e=Ie+1,je=$e<ke?Y[$e].el:re;for(;ue<=Ie;)d(null,Y[ue]=me?$r(Y[ue]):Jn(Y[ue]),Q,je,ie,le,Se,fe,me),ue++}}else if(ue>Ie)for(;ue<=Ee;)B(G[ue],ie,le,!0),ue++;else{const $e=ue,je=ue,rt=new Map;for(ue=je;ue<=Ie;ue++){const Tt=Y[ue]=me?$r(Y[ue]):Jn(Y[ue]);Tt.key!=null&&rt.set(Tt.key,ue)}let Xe,Ze=0;const Ht=Ie-je+1;let cn=!1,bn=0;const kn=new Array(Ht);for(ue=0;ue<Ht;ue++)kn[ue]=0;for(ue=$e;ue<=Ee;ue++){const Tt=G[ue];if(Ze>=Ht){B(Tt,ie,le,!0);continue}let Pt;if(Tt.key!=null)Pt=rt.get(Tt.key);else for(Xe=je;Xe<=Ie;Xe++)if(kn[Xe-je]===0&&ha(Tt,Y[Xe])){Pt=Xe;break}Pt===void 0?B(Tt,ie,le,!0):(kn[Pt-je]=ue+1,Pt>=bn?bn=Pt:cn=!0,d(Tt,Y[Pt],Q,null,ie,le,Se,fe,me),Ze++)}const or=cn?QE(kn):li;for(Xe=or.length-1,ue=Ht-1;ue>=0;ue--){const Tt=je+ue,Pt=Y[Tt],zn=Tt+1<ke?Y[Tt+1].el:re;kn[ue]===0?d(null,Pt,Q,zn,ie,le,Se,fe,me):cn&&(Xe<0||ue!==or[Xe]?U(Pt,Q,zn,2):Xe--)}}},U=(G,Y,Q,re,ie=null)=>{const{el:le,type:Se,transition:fe,children:me,shapeFlag:ue}=G;if(ue&6){U(G.component.subTree,Y,Q,re);return}if(ue&128){G.suspense.move(Y,Q,re);return}if(ue&64){Se.move(G,Y,Q,ye);return}if(Se===Te){r(le,Y,Q);for(let Ee=0;Ee<me.length;Ee++)U(me[Ee],Y,Q,re);r(G.anchor,Y,Q);return}if(Se===Rs){b(G,Y,Q);return}if(re!==2&&ue&1&&fe)if(re===0)fe.beforeEnter(le),r(le,Y,Q),tn(()=>fe.enter(le),ie);else{const{leave:Ee,delayLeave:Ie,afterLeave:$e}=fe,je=()=>r(le,Y,Q),rt=()=>{Ee(le,()=>{je(),$e&&$e()})};Ie?Ie(le,je,rt):rt()}else r(le,Y,Q)},B=(G,Y,Q,re=!1,ie=!1)=>{const{type:le,props:Se,ref:fe,children:me,dynamicChildren:ue,shapeFlag:ke,patchFlag:Ee,dirs:Ie}=G;if(fe!=null&&hc(fe,null,Q,G,!0),ke&256){Y.ctx.deactivate(G);return}const $e=ke&1&&Ie,je=!Ks(G);let rt;if(je&&(rt=Se&&Se.onVnodeBeforeUnmount)&&Kn(rt,Y,G),ke&6)X(G.component,Q,re);else{if(ke&128){G.suspense.unmount(Q,re);return}$e&&ra(G,null,Y,"beforeUnmount"),ke&64?G.type.remove(G,Y,Q,ie,ye,re):ue&&(le!==Te||Ee>0&&Ee&64)?Z(ue,Y,Q,!1,!0):(le===Te&&Ee&384||!ie&&ke&16)&&Z(me,Y,Q),re&&K(G)}(je&&(rt=Se&&Se.onVnodeUnmounted)||$e)&&tn(()=>{rt&&Kn(rt,Y,G),$e&&ra(G,null,Y,"unmounted")},Q)},K=G=>{const{type:Y,el:Q,anchor:re,transition:ie}=G;if(Y===Te){V(Q,re);return}if(Y===Rs){y(G);return}const le=()=>{a(Q),ie&&!ie.persisted&&ie.afterLeave&&ie.afterLeave()};if(G.shapeFlag&1&&ie&&!ie.persisted){const{leave:Se,delayLeave:fe}=ie,me=()=>Se(Q,le);fe?fe(G.el,le,me):me()}else le()},V=(G,Y)=>{let Q;for(;G!==Y;)Q=v(G),a(G),G=Q;a(Y)},X=(G,Y,Q)=>{const{bum:re,scope:ie,update:le,subTree:Se,um:fe}=G;re&&Ls(re),ie.stop(),le&&(le.active=!1,B(Se,G,Y,Q)),fe&&tn(fe,Y),tn(()=>{G.isUnmounted=!0},Y),Y&&Y.pendingBranch&&!Y.isUnmounted&&G.asyncDep&&!G.asyncResolved&&G.suspenseId===Y.pendingId&&(Y.deps--,Y.deps===0&&Y.resolve())},Z=(G,Y,Q,re=!1,ie=!1,le=0)=>{for(let Se=le;Se<G.length;Se++)B(G[Se],Y,Q,re,ie)},ne=G=>G.shapeFlag&6?ne(G.component.subTree):G.shapeFlag&128?G.suspense.next():v(G.anchor||G.el),ae=(G,Y,Q)=>{G==null?Y._vnode&&B(Y._vnode,null,null,!0):d(Y._vnode||null,G,Y,null,null,null,Q),Ny(),Y._vnode=G},ye={p:d,um:B,m:U,r:K,mt:I,mc:_,pc:M,pbc:O,n:ne,o:e};let de,be;return t&&([de,be]=t(ye)),{render:ae,hydrate:de,createApp:XE(ae,de)}}function aa({effect:e,update:t},n){e.allowRecurse=t.allowRecurse=n}function Od(e,t,n=!1){const r=e.children,a=t.children;if(Fe(r)&&Fe(a))for(let i=0;i<r.length;i++){const o=r[i];let l=a[i];l.shapeFlag&1&&!l.dynamicChildren&&((l.patchFlag<=0||l.patchFlag===32)&&(l=a[i]=$r(a[i]),l.el=o.el),n||Od(o,l))}}function QE(e){const t=e.slice(),n=[0];let r,a,i,o,l;const u=e.length;for(r=0;r<u;r++){const s=e[r];if(s!==0){if(a=n[n.length-1],e[a]<s){t[r]=a,n.push(r);continue}for(i=0,o=n.length-1;i<o;)l=i+o>>1,e[n[l]]<s?i=l+1:o=l;s<e[n[i]]&&(i>0&&(t[r]=n[i-1]),n[i]=r)}}for(i=n.length,o=n[i-1];i-- >0;)n[i]=o,o=t[o];return n}const ew=e=>e.__isTeleport,So=e=>e&&(e.disabled||e.disabled===""),Qf=e=>typeof SVGElement!="undefined"&&e instanceof SVGElement,vc=(e,t)=>{const n=e&&e.to;return Et(n)?t?t(n):null:n},tw={__isTeleport:!0,process(e,t,n,r,a,i,o,l,u,s){const{mc:c,pc:f,pbc:v,o:{insert:S,querySelector:E,createText:m,createComment:d}}=s,g=So(t.props);let{shapeFlag:h,children:p,dynamicChildren:b}=t;if(e==null){const y=t.el=m(""),C=t.anchor=m("");S(y,n,r),S(C,n,r);const w=t.target=vc(t.props,E),k=t.targetAnchor=m("");w&&(S(k,w),o=o||Qf(w));const _=(T,O)=>{h&16&&c(p,T,O,a,i,o,l,u)};g?_(n,C):w&&_(w,k)}else{t.el=e.el;const y=t.anchor=e.anchor,C=t.target=e.target,w=t.targetAnchor=e.targetAnchor,k=So(e.props),_=k?n:C,T=k?y:w;if(o=o||Qf(C),b?(v(e.dynamicChildren,b,_,a,i,o,l),Od(e,t,!0)):u||f(e,t,_,T,a,i,o,l,!1),g)k||Qo(t,n,y,s,1);else if((t.props&&t.props.to)!==(e.props&&e.props.to)){const O=t.target=vc(t.props,E);O&&Qo(t,O,null,s,0)}else k&&Qo(t,C,w,s,1)}},remove(e,t,n,r,{um:a,o:{remove:i}},o){const{shapeFlag:l,children:u,anchor:s,targetAnchor:c,target:f,props:v}=e;if(f&&i(c),(o||!So(v))&&(i(s),l&16))for(let S=0;S<u.length;S++){const E=u[S];a(E,t,n,!0,!!E.dynamicChildren)}},move:Qo,hydrate:nw};function Qo(e,t,n,{o:{insert:r},m:a},i=2){i===0&&r(e.targetAnchor,t,n);const{el:o,anchor:l,shapeFlag:u,children:s,props:c}=e,f=i===2;if(f&&r(o,t,n),(!f||So(c))&&u&16)for(let v=0;v<s.length;v++)a(s[v],t,n,2);f&&r(l,t,n)}function nw(e,t,n,r,a,i,{o:{nextSibling:o,parentNode:l,querySelector:u}},s){const c=t.target=vc(t.props,u);if(c){const f=c._lpa||c.firstChild;t.shapeFlag&16&&(So(t.props)?(t.anchor=s(o(e),t,l(e),n,r,a,i),t.targetAnchor=f):(t.anchor=o(e),t.targetAnchor=s(f,t,c,n,r,a,i)),c._lpa=t.targetAnchor&&o(t.targetAnchor))}return t.anchor&&o(t.anchor)}const No=tw,kd="components",rw="directives";function ge(e,t){return _d(kd,e,!0,t)||e}const n0=Symbol();function jo(e){return Et(e)?_d(kd,e,!1)||e:e||n0}function aw(e){return _d(rw,e)}function _d(e,t,n=!0,r=!1){const a=Yt||Bt;if(a){const i=a.type;if(e===kd){const l=mw(i);if(l&&(l===t||l===nr(t)||l===hl(nr(t))))return i}const o=eh(a[e]||i[e],t)||eh(a.appContext[e],t);return!o&&r?i:o}}function eh(e,t){return e&&(e[t]||e[nr(t)]||e[hl(nr(t))])}const Te=Symbol(void 0),Ad=Symbol(void 0),wn=Symbol(void 0),Rs=Symbol(void 0),To=[];let ba=null;function H(e=!1){To.push(ba=e?null:[])}function iw(){To.pop(),ba=To[To.length-1]||null}let Ys=1;function th(e){Ys+=e}function r0(e){return e.dynamicChildren=Ys>0?ba||li:null,iw(),Ys>0&&ba&&ba.push(e),e}function W(e,t,n,r,a,i){return r0(J(e,t,n,r,a,i,!0))}function Oe(e,t,n,r,a){return r0(R(e,t,n,r,a,!0))}function hi(e){return e?e.__v_isVNode===!0:!1}function ha(e,t){return e.type===t.type&&e.key===t.key}const Cl="__vInternal",a0=({key:e})=>e!=null?e:null,xs=({ref:e,ref_key:t,ref_for:n})=>e!=null?Et(e)||At(e)||Ve(e)?{i:Yt,r:e,k:t,f:!!n}:e:null;function J(e,t=null,n=null,r=0,a=null,i=e===Te?0:1,o=!1,l=!1){const u={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&a0(t),ref:t&&xs(t),scopeId:pl,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:i,patchFlag:r,dynamicProps:a,dynamicChildren:null,appContext:null};return l?(Dd(u,n),i&128&&e.normalize(u)):n&&(u.shapeFlag|=Et(n)?8:16),Ys>0&&!o&&ba&&(u.patchFlag>0||i&6)&&u.patchFlag!==32&&ba.push(u),u}const R=ow;function ow(e,t=null,n=null,r=0,a=null,i=!1){if((!e||e===n0)&&(e=wn),hi(e)){const l=Ta(e,t,!0);return n&&Dd(l,n),l}if(gw(e)&&(e=e.__vccOpts),t){t=i0(t);let{class:l,style:u}=t;l&&!Et(l)&&(t.class=z(l)),Dt(u)&&(Iy(u)&&!Fe(u)&&(u=Wt({},u)),t.style=Ae(u))}const o=Et(e)?1:AE(e)?128:ew(e)?64:Dt(e)?4:Ve(e)?2:0;return J(e,t,n,r,a,o,i,!0)}function i0(e){return e?Iy(e)||Cl in e?Wt({},e):e:null}function Ta(e,t,n=!1){const{props:r,ref:a,patchFlag:i,children:o}=e,l=t?We(r||{},t):r;return{__v_isVNode:!0,__v_skip:!0,type:e.type,props:l,key:l&&a0(l),ref:t&&t.ref?n&&a?Fe(a)?a.concat(xs(t)):[a,xs(t)]:xs(t):a,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:o,target:e.target,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==Te?i===-1?16:i|16:i,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:e.transition,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&Ta(e.ssContent),ssFallback:e.ssFallback&&Ta(e.ssFallback),el:e.el,anchor:e.anchor}}function et(e=" ",t=0){return R(Ad,null,e,t)}function se(e="",t=!1){return t?(H(),Oe(wn,null,e)):R(wn,null,e)}function Jn(e){return e==null||typeof e=="boolean"?R(wn):Fe(e)?R(Te,null,e.slice()):typeof e=="object"?$r(e):R(Ad,null,String(e))}function $r(e){return e.el===null||e.memo?e:Ta(e)}function Dd(e,t){let n=0;const{shapeFlag:r}=e;if(t==null)t=null;else if(Fe(t))n=16;else if(typeof t=="object")if(r&65){const a=t.default;a&&(a._c&&(a._d=!1),Dd(e,a()),a._c&&(a._d=!0));return}else{n=32;const a=t._;!a&&!(Cl in t)?t._ctx=Yt:a===3&&Yt&&(Yt.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else Ve(t)?(t={default:t,_ctx:Yt},n=32):(t=String(t),r&64?(n=16,t=[et(t)]):n=8);e.children=t,e.shapeFlag|=n}function We(...e){const t={};for(let n=0;n<e.length;n++){const r=e[n];for(const a in r)if(a==="class")t.class!==r.class&&(t.class=z([t.class,r.class]));else if(a==="style")t.style=Ae([t.style,r.style]);else if(cl(a)){const i=t[a],o=r[a];o&&i!==o&&!(Fe(i)&&i.includes(o))&&(t[a]=i?[].concat(i,o):o)}else a!==""&&(t[a]=r[a])}return t}function Kn(e,t,n,r=null){En(e,t,7,[n,r])}function Ne(e,t,n,r){let a;const i=n&&n[r];if(Fe(e)||Et(e)){a=new Array(e.length);for(let o=0,l=e.length;o<l;o++)a[o]=t(e[o],o,void 0,i&&i[o])}else if(typeof e=="number"){a=new Array(e);for(let o=0;o<e;o++)a[o]=t(o+1,o,void 0,i&&i[o])}else if(Dt(e))if(e[Symbol.iterator])a=Array.from(e,(o,l)=>t(o,l,void 0,i&&i[l]));else{const o=Object.keys(e);a=new Array(o.length);for(let l=0,u=o.length;l<u;l++){const s=o[l];a[l]=t(e[s],s,l,i&&i[l])}}else a=[];return n&&(n[r]=a),a}function sw(e,t){for(let n=0;n<t.length;n++){const r=t[n];if(Fe(r))for(let a=0;a<r.length;a++)e[r[a].name]=r[a].fn;else r&&(e[r.name]=r.fn)}return e}function Ye(e,t,n={},r,a){if(Yt.isCE||Yt.parent&&Ks(Yt.parent)&&Yt.parent.isCE)return R("slot",t==="default"?null:{name:t},r&&r());let i=e[t];i&&i._c&&(i._d=!1),H();const o=i&&o0(i(n)),l=Oe(Te,{key:n.key||`_${t}`},o||(r?r():[]),o&&e._===1?64:-2);return!a&&l.scopeId&&(l.slotScopeIds=[l.scopeId+"-s"]),i&&i._c&&(i._d=!0),l}function o0(e){return e.some(t=>hi(t)?!(t.type===wn||t.type===Te&&!o0(t.children)):!0)?e:null}const mc=e=>e?s0(e)?El(e)||e.proxy:mc(e.parent):null,qs=Wt(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>mc(e.parent),$root:e=>mc(e.root),$emit:e=>e.emit,$options:e=>qy(e),$forceUpdate:e=>()=>My(e.update),$nextTick:e=>Re.bind(e.proxy),$watch:e=>IE.bind(e)}),lw={get({_:e},t){const{ctx:n,setupState:r,data:a,props:i,accessCache:o,type:l,appContext:u}=e;let s;if(t[0]!=="$"){const S=o[t];if(S!==void 0)switch(S){case 1:return r[t];case 2:return a[t];case 4:return n[t];case 3:return i[t]}else{if(r!==ut&&Je(r,t))return o[t]=1,r[t];if(a!==ut&&Je(a,t))return o[t]=2,a[t];if((s=e.propsOptions[0])&&Je(s,t))return o[t]=3,i[t];if(n!==ut&&Je(n,t))return o[t]=4,n[t];cc&&(o[t]=0)}}const c=qs[t];let f,v;if(c)return t==="$attrs"&&pn(e,"get",t),c(e);if((f=l.__cssModules)&&(f=f[t]))return f;if(n!==ut&&Je(n,t))return o[t]=4,n[t];if(v=u.config.globalProperties,Je(v,t))return v[t]},set({_:e},t,n){const{data:r,setupState:a,ctx:i}=e;return a!==ut&&Je(a,t)?(a[t]=n,!0):r!==ut&&Je(r,t)?(r[t]=n,!0):Je(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(i[t]=n,!0)},has({_:{data:e,setupState:t,accessCache:n,ctx:r,appContext:a,propsOptions:i}},o){let l;return!!n[o]||e!==ut&&Je(e,o)||t!==ut&&Je(t,o)||(l=i[0])&&Je(l,o)||Je(r,o)||Je(qs,o)||Je(a.config.globalProperties,o)},defineProperty(e,t,n){return n.get!=null?e._.accessCache[t]=0:Je(n,"value")&&this.set(e,t,n.value,null),Reflect.defineProperty(e,t,n)}},uw=t0();let cw=0;function dw(e,t,n){const r=e.type,a=(t?t.appContext:e.appContext)||uw,i={uid:cw++,vnode:e,type:r,parent:t,appContext:a,root:null,next:null,subTree:null,effect:null,update:null,scope:new RC(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(a.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Zy(r,a),emitsOptions:Uy(r,a),emit:null,emitted:null,propsDefaults:ut,inheritAttrs:r.inheritAttrs,ctx:ut,data:ut,props:ut,attrs:ut,slots:ut,refs:ut,setupState:ut,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return i.ctx={_:i},i.root=t?t.root:i,i.emit=EE.bind(null,i),e.ce&&e.ce(i),i}let Bt=null;const Be=()=>Bt||Yt,vi=e=>{Bt=e,e.scope.on()},Sa=()=>{Bt&&Bt.scope.off(),Bt=null};function s0(e){return e.vnode.shapeFlag&4}let Lo=!1;function fw(e,t=!1){Lo=t;const{props:n,children:r}=e.vnode,a=s0(e);zE(e,n,a,t),WE(e,r);const i=a?hw(e,t):void 0;return Lo=!1,i}function hw(e,t){const n=e.type;e.accessCache=Object.create(null),e.proxy=Ly(new Proxy(e.ctx,lw));const{setup:r}=n;if(r){const a=e.setupContext=r.length>1?u0(e):null;vi(e),wi();const i=Nr(r,e,0,[e.props,a]);if(Oi(),Sa(),py(i)){if(i.then(Sa,Sa),t)return i.then(o=>{nh(e,o,t)}).catch(o=>{ml(o,e,0)});e.asyncDep=i}else nh(e,i,t)}else l0(e,t)}function nh(e,t,n){Ve(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:Dt(t)&&(e.setupState=xy(t)),l0(e,n)}let rh;function l0(e,t,n){const r=e.type;if(!e.render){if(!t&&rh&&!r.render){const a=r.template;if(a){const{isCustomElement:i,compilerOptions:o}=e.appContext.config,{delimiters:l,compilerOptions:u}=r,s=Wt(Wt({isCustomElement:i,delimiters:l},o),u);r.render=rh(a,s)}}e.render=r.render||Mn}vi(e),wi(),NE(e),Oi(),Sa()}function vw(e){return new Proxy(e.attrs,{get(t,n){return pn(e,"get","$attrs"),t[n]}})}function u0(e){const t=r=>{e.exposed=r||{}};let n;return{get attrs(){return n||(n=vw(e))},slots:e.slots,emit:e.emit,expose:t}}function El(e){if(e.exposed)return e.exposeProxy||(e.exposeProxy=new Proxy(xy(Ly(e.exposed)),{get(t,n){if(n in t)return t[n];if(n in qs)return qs[n](e)}}))}function mw(e){return Ve(e)&&e.displayName||e.name}function gw(e){return Ve(e)&&"__vccOpts"in e}const j=(e,t)=>pE(e,t,Lo);function pw(){return yw().attrs}function yw(){const e=Be();return e.setupContext||(e.setupContext=u0(e))}function yt(e,t,n){const r=arguments.length;return r===2?Dt(t)&&!Fe(t)?hi(t)?R(e,null,[t]):R(e,t):R(e,null,t):(r>3?n=Array.prototype.slice.call(arguments,2):r===3&&hi(n)&&(n=[n]),R(e,t,n))}const bw="3.2.33",Sw="http://www.w3.org/2000/svg",va=typeof document!="undefined"?document:null,ah=va&&va.createElement("template"),Tw={insert:(e,t,n)=>{t.insertBefore(e,n||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,n,r)=>{const a=t?va.createElementNS(Sw,e):va.createElement(e,n?{is:n}:void 0);return e==="select"&&r&&r.multiple!=null&&a.setAttribute("multiple",r.multiple),a},createText:e=>va.createTextNode(e),createComment:e=>va.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>va.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},cloneNode(e){const t=e.cloneNode(!0);return"_value"in e&&(t._value=e._value),t},insertStaticContent(e,t,n,r,a,i){const o=n?n.previousSibling:t.lastChild;if(a&&(a===i||a.nextSibling))for(;t.insertBefore(a.cloneNode(!0),n),!(a===i||!(a=a.nextSibling)););else{ah.innerHTML=r?`<svg>${e}</svg>`:e;const l=ah.content;if(r){const u=l.firstChild;for(;u.firstChild;)l.appendChild(u.firstChild);l.removeChild(u)}t.insertBefore(l,n)}return[o?o.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}};function Cw(e,t,n){const r=e._vtc;r&&(t=(t?[t,...r]:[...r]).join(" ")),t==null?e.removeAttribute("class"):n?e.setAttribute("class",t):e.className=t}function Ew(e,t,n){const r=e.style,a=Et(n);if(n&&!a){for(const i in n)gc(r,i,n[i]);if(t&&!Et(t))for(const i in t)n[i]==null&&gc(r,i,"")}else{const i=r.display;a?t!==n&&(r.cssText=n):t&&e.removeAttribute("style"),"_vod"in e&&(r.display=i)}}const ih=/\s*!important$/;function gc(e,t,n){if(Fe(n))n.forEach(r=>gc(e,t,r));else if(n==null&&(n=""),t.startsWith("--"))e.setProperty(t,n);else{const r=ww(e,t);ih.test(n)?e.setProperty(Ea(r),n.replace(ih,""),"important"):e[r]=n}}const oh=["Webkit","Moz","ms"],lu={};function ww(e,t){const n=lu[t];if(n)return n;let r=nr(t);if(r!=="filter"&&r in e)return lu[t]=r;r=hl(r);for(let a=0;a<oh.length;a++){const i=oh[a]+r;if(i in e)return lu[t]=i}return t}const sh="http://www.w3.org/1999/xlink";function Ow(e,t,n,r,a){if(r&&t.startsWith("xlink:"))n==null?e.removeAttributeNS(sh,t.slice(6,t.length)):e.setAttributeNS(sh,t,n);else{const i=TC(t);n==null||i&&!vy(n)?e.removeAttribute(t):e.setAttribute(t,i?"":n)}}function kw(e,t,n,r,a,i,o){if(t==="innerHTML"||t==="textContent"){r&&o(r,a,i),e[t]=n==null?"":n;return}if(t==="value"&&e.tagName!=="PROGRESS"&&!e.tagName.includes("-")){e._value=n;const u=n==null?"":n;(e.value!==u||e.tagName==="OPTION")&&(e.value=u),n==null&&e.removeAttribute(t);return}let l=!1;if(n===""||n==null){const u=typeof e[t];u==="boolean"?n=vy(n):n==null&&u==="string"?(n="",l=!0):u==="number"&&(n=0,l=!0)}try{e[t]=n}catch{}l&&e.removeAttribute(t)}const[c0,_w]=(()=>{let e=Date.now,t=!1;if(typeof window!="undefined"){Date.now()>document.createEvent("Event").timeStamp&&(e=()=>performance.now());const n=navigator.userAgent.match(/firefox\/(\d+)/i);t=!!(n&&Number(n[1])<=53)}return[e,t]})();let pc=0;const Aw=Promise.resolve(),Dw=()=>{pc=0},Pw=()=>pc||(Aw.then(Dw),pc=c0());function ti(e,t,n,r){e.addEventListener(t,n,r)}function Iw(e,t,n,r){e.removeEventListener(t,n,r)}function Lw(e,t,n,r,a=null){const i=e._vei||(e._vei={}),o=i[t];if(r&&o)o.value=r;else{const[l,u]=Rw(t);if(r){const s=i[t]=xw(r,a);ti(e,l,s,u)}else o&&(Iw(e,l,o,u),i[t]=void 0)}}const lh=/(?:Once|Passive|Capture)$/;function Rw(e){let t;if(lh.test(e)){t={};let n;for(;n=e.match(lh);)e=e.slice(0,e.length-n[0].length),t[n[0].toLowerCase()]=!0}return[Ea(e.slice(2)),t]}function xw(e,t){const n=r=>{const a=r.timeStamp||c0();(_w||a>=n.attached-1)&&En($w(r,n.value),t,5,[r])};return n.value=e,n.attached=Pw(),n}function $w(e,t){if(Fe(t)){const n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},t.map(r=>a=>!a._stopped&&r&&r(a))}else return t}const uh=/^on[a-z]/,Mw=(e,t,n,r,a=!1,i,o,l,u)=>{t==="class"?Cw(e,r,a):t==="style"?Ew(e,n,r):cl(t)?od(t)||Lw(e,t,n,r,o):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):Fw(e,t,r,a))?kw(e,t,r,i,o,l,u):(t==="true-value"?e._trueValue=r:t==="false-value"&&(e._falseValue=r),Ow(e,t,r,a))};function Fw(e,t,n,r){return r?!!(t==="innerHTML"||t==="textContent"||t in e&&uh.test(t)&&Ve(n)):t==="spellcheck"||t==="draggable"||t==="translate"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA"||uh.test(t)&&Et(n)?!1:t in e}function Pd(e){const t=Be();if(!t)return;const n=()=>yc(t.subTree,e(t.proxy));PE(n),tt(()=>{const r=new MutationObserver(n);r.observe(t.subTree.el.parentNode,{childList:!0}),Nn(()=>r.disconnect())})}function yc(e,t){if(e.shapeFlag&128){const n=e.suspense;e=n.activeBranch,n.pendingBranch&&!n.isHydrating&&n.effects.push(()=>{yc(n.activeBranch,t)})}for(;e.component;)e=e.component.subTree;if(e.shapeFlag&1&&e.el)ch(e.el,t);else if(e.type===Te)e.children.forEach(n=>yc(n,t));else if(e.type===Rs){let{el:n,anchor:r}=e;for(;n&&(ch(n,t),n!==r);)n=n.nextSibling}}function ch(e,t){if(e.nodeType===1){const n=e.style;for(const r in t)n.setProperty(`--${r}`,t[r])}}const Er="transition",Ni="animation",yn=(e,{slots:t})=>yt(Hy,Bw(e),t);yn.displayName="Transition";const d0={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String};yn.props=Wt({},Hy.props,d0);const ia=(e,t=[])=>{Fe(e)?e.forEach(n=>n(...t)):e&&e(...t)},dh=e=>e?Fe(e)?e.some(t=>t.length>1):e.length>1:!1;function Bw(e){const t={};for(const A in e)A in d0||(t[A]=e[A]);if(e.css===!1)return t;const{name:n="v",type:r,duration:a,enterFromClass:i=`${n}-enter-from`,enterActiveClass:o=`${n}-enter-active`,enterToClass:l=`${n}-enter-to`,appearFromClass:u=i,appearActiveClass:s=o,appearToClass:c=l,leaveFromClass:f=`${n}-leave-from`,leaveActiveClass:v=`${n}-leave-active`,leaveToClass:S=`${n}-leave-to`}=e,E=Nw(a),m=E&&E[0],d=E&&E[1],{onBeforeEnter:g,onEnter:h,onEnterCancelled:p,onLeave:b,onLeaveCancelled:y,onBeforeAppear:C=g,onAppear:w=h,onAppearCancelled:k=p}=t,_=(A,P,D)=>{La(A,P?c:l),La(A,P?s:o),D&&D()},T=(A,P)=>{La(A,S),La(A,v),P&&P()},O=A=>(P,D)=>{const I=A?w:h,x=()=>_(P,A,D);ia(I,[P,x]),fh(()=>{La(P,A?u:i),wr(P,A?c:l),dh(I)||hh(P,r,m,x)})};return Wt(t,{onBeforeEnter(A){ia(g,[A]),wr(A,i),wr(A,o)},onBeforeAppear(A){ia(C,[A]),wr(A,u),wr(A,s)},onEnter:O(!1),onAppear:O(!0),onLeave(A,P){const D=()=>T(A,P);wr(A,f),Vw(),wr(A,v),fh(()=>{La(A,f),wr(A,S),dh(b)||hh(A,r,d,D)}),ia(b,[A,D])},onEnterCancelled(A){_(A,!1),ia(p,[A])},onAppearCancelled(A){_(A,!0),ia(k,[A])},onLeaveCancelled(A){T(A),ia(y,[A])}})}function Nw(e){if(e==null)return null;if(Dt(e))return[uu(e.enter),uu(e.leave)];{const t=uu(e);return[t,t]}}function uu(e){return Hs(e)}function wr(e,t){t.split(/\s+/).forEach(n=>n&&e.classList.add(n)),(e._vtc||(e._vtc=new Set)).add(t)}function La(e,t){t.split(/\s+/).forEach(r=>r&&e.classList.remove(r));const{_vtc:n}=e;n&&(n.delete(t),n.size||(e._vtc=void 0))}function fh(e){requestAnimationFrame(()=>{requestAnimationFrame(e)})}let jw=0;function hh(e,t,n,r){const a=e._endId=++jw,i=()=>{a===e._endId&&r()};if(n)return setTimeout(i,n);const{type:o,timeout:l,propCount:u}=Uw(e,t);if(!o)return r();const s=o+"end";let c=0;const f=()=>{e.removeEventListener(s,v),i()},v=S=>{S.target===e&&++c>=u&&f()};setTimeout(()=>{c<u&&f()},l+1),e.addEventListener(s,v)}function Uw(e,t){const n=window.getComputedStyle(e),r=E=>(n[E]||"").split(", "),a=r(Er+"Delay"),i=r(Er+"Duration"),o=vh(a,i),l=r(Ni+"Delay"),u=r(Ni+"Duration"),s=vh(l,u);let c=null,f=0,v=0;t===Er?o>0&&(c=Er,f=o,v=i.length):t===Ni?s>0&&(c=Ni,f=s,v=u.length):(f=Math.max(o,s),c=f>0?o>s?Er:Ni:null,v=c?c===Er?i.length:u.length:0);const S=c===Er&&/\b(transform|all)(,|$)/.test(n[Er+"Property"]);return{type:c,timeout:f,propCount:v,hasTransform:S}}function vh(e,t){for(;e.length<t.length;)e=e.concat(e);return Math.max(...t.map((n,r)=>mh(n)+mh(e[r])))}function mh(e){return Number(e.slice(0,-1).replace(",","."))*1e3}function Vw(){return document.body.offsetHeight}const gh=e=>{const t=e.props["onUpdate:modelValue"];return Fe(t)?n=>Ls(t,n):t};function Hw(e){e.target.composing=!0}function ph(e){const t=e.target;t.composing&&(t.composing=!1,zw(t,"input"))}function zw(e,t){const n=document.createEvent("HTMLEvents");n.initEvent(t,!0,!0),e.dispatchEvent(n)}const f0={created(e,{modifiers:{lazy:t,trim:n,number:r}},a){e._assign=gh(a);const i=r||a.props&&a.props.type==="number";ti(e,t?"change":"input",o=>{if(o.target.composing)return;let l=e.value;n?l=l.trim():i&&(l=Hs(l)),e._assign(l)}),n&&ti(e,"change",()=>{e.value=e.value.trim()}),t||(ti(e,"compositionstart",Hw),ti(e,"compositionend",ph),ti(e,"change",ph))},mounted(e,{value:t}){e.value=t==null?"":t},beforeUpdate(e,{value:t,modifiers:{lazy:n,trim:r,number:a}},i){if(e._assign=gh(i),e.composing||document.activeElement===e&&(n||r&&e.value.trim()===t||(a||e.type==="number")&&Hs(e.value)===t))return;const o=t==null?"":t;e.value!==o&&(e.value=o)}},Gw=["ctrl","shift","alt","meta"],Kw={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>Gw.some(n=>e[`${n}Key`]&&!t.includes(n))},Qn=(e,t)=>(n,...r)=>{for(let a=0;a<t.length;a++){const i=Kw[t[a]];if(i&&i(n,t))return}return e(n,...r)},Ww={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},ni=(e,t)=>n=>{if(!("key"in n))return;const r=Ea(n.key);if(t.some(a=>a===r||Ww[a]===r))return e(n)},qe={beforeMount(e,{value:t},{transition:n}){e._vod=e.style.display==="none"?"":e.style.display,n&&t?n.beforeEnter(e):ji(e,t)},mounted(e,{value:t},{transition:n}){n&&t&&n.enter(e)},updated(e,{value:t,oldValue:n},{transition:r}){!t!=!n&&(r?t?(r.beforeEnter(e),ji(e,!0),r.enter(e)):r.leave(e,()=>{ji(e,!1)}):ji(e,t))},beforeUnmount(e,{value:t}){ji(e,t)}};function ji(e,t){e.style.display=t?e._vod:"none"}const Yw=Wt({patchProp:Mw},Tw);let yh;function qw(){return yh||(yh=ZE(Yw))}const Uo=(...e)=>{const t=qw().createApp(...e),{mount:n}=t;return t.mount=r=>{const a=Xw(r);if(!a)return;const i=t._component;!Ve(i)&&!i.render&&!i.template&&(i.template=a.innerHTML),a.innerHTML="";const o=n(a,!1,a instanceof SVGElement);return a instanceof Element&&(a.removeAttribute("v-cloak"),a.setAttribute("data-v-app","")),o},t};function Xw(e){return Et(e)?document.querySelector(e):e}function Zw(){return h0().__VUE_DEVTOOLS_GLOBAL_HOOK__}function h0(){return typeof navigator!="undefined"&&typeof window!="undefined"?window:typeof global!="undefined"?global:{}}const Jw=typeof Proxy=="function",Qw="devtools-plugin:setup",eO="plugin:settings:set";let Ra,bc;function tO(){var e;return Ra!==void 0||(typeof window!="undefined"&&window.performance?(Ra=!0,bc=window.performance):typeof global!="undefined"&&((e=global.perf_hooks)===null||e===void 0?void 0:e.performance)?(Ra=!0,bc=global.perf_hooks.performance):Ra=!1),Ra}function nO(){return tO()?bc.now():Date.now()}class rO{constructor(t,n){this.target=null,this.targetQueue=[],this.onQueue=[],this.plugin=t,this.hook=n;const r={};if(t.settings)for(const o in t.settings){const l=t.settings[o];r[o]=l.defaultValue}const a=`__vue-devtools-plugin-settings__${t.id}`;let i=Object.assign({},r);try{const o=localStorage.getItem(a),l=JSON.parse(o);Object.assign(i,l)}catch{}this.fallbacks={getSettings(){return i},setSettings(o){try{localStorage.setItem(a,JSON.stringify(o))}catch{}i=o},now(){return nO()}},n&&n.on(eO,(o,l)=>{o===this.plugin.id&&this.fallbacks.setSettings(l)}),this.proxiedOn=new Proxy({},{get:(o,l)=>this.target?this.target.on[l]:(...u)=>{this.onQueue.push({method:l,args:u})}}),this.proxiedTarget=new Proxy({},{get:(o,l)=>this.target?this.target[l]:l==="on"?this.proxiedOn:Object.keys(this.fallbacks).includes(l)?(...u)=>(this.targetQueue.push({method:l,args:u,resolve:()=>{}}),this.fallbacks[l](...u)):(...u)=>new Promise(s=>{this.targetQueue.push({method:l,args:u,resolve:s})})})}async setRealTarget(t){this.target=t;for(const n of this.onQueue)this.target.on[n.method](...n.args);for(const n of this.targetQueue)n.resolve(await this.target[n.method](...n.args))}}function aO(e,t){const n=e,r=h0(),a=Zw(),i=Jw&&n.enableEarlyProxy;if(a&&(r.__VUE_DEVTOOLS_PLUGIN_API_AVAILABLE__||!i))a.emit(Qw,e,t);else{const o=i?new rO(n,a):null;(r.__VUE_DEVTOOLS_PLUGINS__=r.__VUE_DEVTOOLS_PLUGINS__||[]).push({pluginDescriptor:n,setupFn:t,proxy:o}),o&&t(o.proxiedTarget)}}/*!
 * vuex v4.0.2
 * (c) 2021 Evan You
 * @license MIT
 */var v0="store";function m0(e){return e===void 0&&(e=null),Qe(e!==null?e:v0)}function ki(e,t){Object.keys(e).forEach(function(n){return t(e[n],n)})}function iO(e){return e!==null&&typeof e=="object"}function oO(e){return e&&typeof e.then=="function"}function sO(e,t){return function(){return e(t)}}function g0(e,t,n){return t.indexOf(e)<0&&(n&&n.prepend?t.unshift(e):t.push(e)),function(){var r=t.indexOf(e);r>-1&&t.splice(r,1)}}function p0(e,t){e._actions=Object.create(null),e._mutations=Object.create(null),e._wrappedGetters=Object.create(null),e._modulesNamespaceMap=Object.create(null);var n=e.state;wl(e,n,[],e._modules.root,!0),Id(e,n,t)}function Id(e,t,n){var r=e._state;e.getters={},e._makeLocalGettersCache=Object.create(null);var a=e._wrappedGetters,i={};ki(a,function(o,l){i[l]=sO(o,e),Object.defineProperty(e.getters,l,{get:function(){return i[l]()},enumerable:!0})}),e._state=Me({data:t}),e.strict&&fO(e),r&&n&&e._withCommit(function(){r.data=null})}function wl(e,t,n,r,a){var i=!n.length,o=e._modules.getNamespace(n);if(r.namespaced&&(e._modulesNamespaceMap[o],e._modulesNamespaceMap[o]=r),!i&&!a){var l=Ld(t,n.slice(0,-1)),u=n[n.length-1];e._withCommit(function(){l[u]=r.state})}var s=r.context=lO(e,o,n);r.forEachMutation(function(c,f){var v=o+f;uO(e,v,c,s)}),r.forEachAction(function(c,f){var v=c.root?f:o+f,S=c.handler||c;cO(e,v,S,s)}),r.forEachGetter(function(c,f){var v=o+f;dO(e,v,c,s)}),r.forEachChild(function(c,f){wl(e,t,n.concat(f),c,a)})}function lO(e,t,n){var r=t==="",a={dispatch:r?e.dispatch:function(i,o,l){var u=Xs(i,o,l),s=u.payload,c=u.options,f=u.type;return(!c||!c.root)&&(f=t+f),e.dispatch(f,s)},commit:r?e.commit:function(i,o,l){var u=Xs(i,o,l),s=u.payload,c=u.options,f=u.type;(!c||!c.root)&&(f=t+f),e.commit(f,s,c)}};return Object.defineProperties(a,{getters:{get:r?function(){return e.getters}:function(){return y0(e,t)}},state:{get:function(){return Ld(e.state,n)}}}),a}function y0(e,t){if(!e._makeLocalGettersCache[t]){var n={},r=t.length;Object.keys(e.getters).forEach(function(a){if(a.slice(0,r)===t){var i=a.slice(r);Object.defineProperty(n,i,{get:function(){return e.getters[a]},enumerable:!0})}}),e._makeLocalGettersCache[t]=n}return e._makeLocalGettersCache[t]}function uO(e,t,n,r){var a=e._mutations[t]||(e._mutations[t]=[]);a.push(function(o){n.call(e,r.state,o)})}function cO(e,t,n,r){var a=e._actions[t]||(e._actions[t]=[]);a.push(function(o){var l=n.call(e,{dispatch:r.dispatch,commit:r.commit,getters:r.getters,state:r.state,rootGetters:e.getters,rootState:e.state},o);return oO(l)||(l=Promise.resolve(l)),e._devtoolHook?l.catch(function(u){throw e._devtoolHook.emit("vuex:error",u),u}):l})}function dO(e,t,n,r){e._wrappedGetters[t]||(e._wrappedGetters[t]=function(i){return n(r.state,r.getters,i.state,i.getters)})}function fO(e){oe(function(){return e._state.data},function(){},{deep:!0,flush:"sync"})}function Ld(e,t){return t.reduce(function(n,r){return n[r]},e)}function Xs(e,t,n){return iO(e)&&e.type&&(n=t,t=e,e=e.type),{type:e,payload:t,options:n}}var hO="vuex bindings",bh="vuex:mutations",cu="vuex:actions",xa="vuex",vO=0;function mO(e,t){aO({id:"org.vuejs.vuex",app:e,label:"Vuex",homepage:"https://next.vuex.vuejs.org/",logo:"https://vuejs.org/images/icons/favicon-96x96.png",packageName:"vuex",componentStateTypes:[hO]},function(n){n.addTimelineLayer({id:bh,label:"Vuex Mutations",color:Sh}),n.addTimelineLayer({id:cu,label:"Vuex Actions",color:Sh}),n.addInspector({id:xa,label:"Vuex",icon:"storage",treeFilterPlaceholder:"Filter stores..."}),n.on.getInspectorTree(function(r){if(r.app===e&&r.inspectorId===xa)if(r.filter){var a=[];C0(a,t._modules.root,r.filter,""),r.rootNodes=a}else r.rootNodes=[T0(t._modules.root,"")]}),n.on.getInspectorState(function(r){if(r.app===e&&r.inspectorId===xa){var a=r.nodeId;y0(t,a),r.state=yO(SO(t._modules,a),a==="root"?t.getters:t._makeLocalGettersCache,a)}}),n.on.editInspectorState(function(r){if(r.app===e&&r.inspectorId===xa){var a=r.nodeId,i=r.path;a!=="root"&&(i=a.split("/").filter(Boolean).concat(i)),t._withCommit(function(){r.set(t._state.data,i,r.state.value)})}}),t.subscribe(function(r,a){var i={};r.payload&&(i.payload=r.payload),i.state=a,n.notifyComponentUpdate(),n.sendInspectorTree(xa),n.sendInspectorState(xa),n.addTimelineEvent({layerId:bh,event:{time:Date.now(),title:r.type,data:i}})}),t.subscribeAction({before:function(r,a){var i={};r.payload&&(i.payload=r.payload),r._id=vO++,r._time=Date.now(),i.state=a,n.addTimelineEvent({layerId:cu,event:{time:r._time,title:r.type,groupId:r._id,subtitle:"start",data:i}})},after:function(r,a){var i={},o=Date.now()-r._time;i.duration={_custom:{type:"duration",display:o+"ms",tooltip:"Action duration",value:o}},r.payload&&(i.payload=r.payload),i.state=a,n.addTimelineEvent({layerId:cu,event:{time:Date.now(),title:r.type,groupId:r._id,subtitle:"end",data:i}})}})})}var Sh=8702998,gO=6710886,pO=16777215,b0={label:"namespaced",textColor:pO,backgroundColor:gO};function S0(e){return e&&e!=="root"?e.split("/").slice(-2,-1)[0]:"Root"}function T0(e,t){return{id:t||"root",label:S0(t),tags:e.namespaced?[b0]:[],children:Object.keys(e._children).map(function(n){return T0(e._children[n],t+n+"/")})}}function C0(e,t,n,r){r.includes(n)&&e.push({id:r||"root",label:r.endsWith("/")?r.slice(0,r.length-1):r||"Root",tags:t.namespaced?[b0]:[]}),Object.keys(t._children).forEach(function(a){C0(e,t._children[a],n,r+a+"/")})}function yO(e,t,n){t=n==="root"?t:t[n];var r=Object.keys(t),a={state:Object.keys(e.state).map(function(o){return{key:o,editable:!0,value:e.state[o]}})};if(r.length){var i=bO(t);a.getters=Object.keys(i).map(function(o){return{key:o.endsWith("/")?S0(o):o,editable:!1,value:Sc(function(){return i[o]})}})}return a}function bO(e){var t={};return Object.keys(e).forEach(function(n){var r=n.split("/");if(r.length>1){var a=t,i=r.pop();r.forEach(function(o){a[o]||(a[o]={_custom:{value:{},display:o,tooltip:"Module",abstract:!0}}),a=a[o]._custom.value}),a[i]=Sc(function(){return e[n]})}else t[n]=Sc(function(){return e[n]})}),t}function SO(e,t){var n=t.split("/").filter(function(r){return r});return n.reduce(function(r,a,i){var o=r[a];if(!o)throw new Error('Missing module "'+a+'" for path "'+t+'".');return i===n.length-1?o:o._children},t==="root"?e:e.root._children)}function Sc(e){try{return e()}catch(t){return t}}var jn=function(t,n){this.runtime=n,this._children=Object.create(null),this._rawModule=t;var r=t.state;this.state=(typeof r=="function"?r():r)||{}},E0={namespaced:{configurable:!0}};E0.namespaced.get=function(){return!!this._rawModule.namespaced};jn.prototype.addChild=function(t,n){this._children[t]=n};jn.prototype.removeChild=function(t){delete this._children[t]};jn.prototype.getChild=function(t){return this._children[t]};jn.prototype.hasChild=function(t){return t in this._children};jn.prototype.update=function(t){this._rawModule.namespaced=t.namespaced,t.actions&&(this._rawModule.actions=t.actions),t.mutations&&(this._rawModule.mutations=t.mutations),t.getters&&(this._rawModule.getters=t.getters)};jn.prototype.forEachChild=function(t){ki(this._children,t)};jn.prototype.forEachGetter=function(t){this._rawModule.getters&&ki(this._rawModule.getters,t)};jn.prototype.forEachAction=function(t){this._rawModule.actions&&ki(this._rawModule.actions,t)};jn.prototype.forEachMutation=function(t){this._rawModule.mutations&&ki(this._rawModule.mutations,t)};Object.defineProperties(jn.prototype,E0);var Oa=function(t){this.register([],t,!1)};Oa.prototype.get=function(t){return t.reduce(function(n,r){return n.getChild(r)},this.root)};Oa.prototype.getNamespace=function(t){var n=this.root;return t.reduce(function(r,a){return n=n.getChild(a),r+(n.namespaced?a+"/":"")},"")};Oa.prototype.update=function(t){w0([],this.root,t)};Oa.prototype.register=function(t,n,r){var a=this;r===void 0&&(r=!0);var i=new jn(n,r);if(t.length===0)this.root=i;else{var o=this.get(t.slice(0,-1));o.addChild(t[t.length-1],i)}n.modules&&ki(n.modules,function(l,u){a.register(t.concat(u),l,r)})};Oa.prototype.unregister=function(t){var n=this.get(t.slice(0,-1)),r=t[t.length-1],a=n.getChild(r);!a||!a.runtime||n.removeChild(r)};Oa.prototype.isRegistered=function(t){var n=this.get(t.slice(0,-1)),r=t[t.length-1];return n?n.hasChild(r):!1};function w0(e,t,n){if(t.update(n),n.modules)for(var r in n.modules){if(!t.getChild(r))return;w0(e.concat(r),t.getChild(r),n.modules[r])}}function TO(e){return new ln(e)}var ln=function(t){var n=this;t===void 0&&(t={});var r=t.plugins;r===void 0&&(r=[]);var a=t.strict;a===void 0&&(a=!1);var i=t.devtools;this._committing=!1,this._actions=Object.create(null),this._actionSubscribers=[],this._mutations=Object.create(null),this._wrappedGetters=Object.create(null),this._modules=new Oa(t),this._modulesNamespaceMap=Object.create(null),this._subscribers=[],this._makeLocalGettersCache=Object.create(null),this._devtools=i;var o=this,l=this,u=l.dispatch,s=l.commit;this.dispatch=function(v,S){return u.call(o,v,S)},this.commit=function(v,S,E){return s.call(o,v,S,E)},this.strict=a;var c=this._modules.root.state;wl(this,c,[],this._modules.root),Id(this,c),r.forEach(function(f){return f(n)})},Rd={state:{configurable:!0}};ln.prototype.install=function(t,n){t.provide(n||v0,this),t.config.globalProperties.$store=this;var r=this._devtools!==void 0?this._devtools:!1;r&&mO(t,this)};Rd.state.get=function(){return this._state.data};Rd.state.set=function(e){};ln.prototype.commit=function(t,n,r){var a=this,i=Xs(t,n,r),o=i.type,l=i.payload,u={type:o,payload:l},s=this._mutations[o];!s||(this._withCommit(function(){s.forEach(function(f){f(l)})}),this._subscribers.slice().forEach(function(c){return c(u,a.state)}))};ln.prototype.dispatch=function(t,n){var r=this,a=Xs(t,n),i=a.type,o=a.payload,l={type:i,payload:o},u=this._actions[i];if(!!u){try{this._actionSubscribers.slice().filter(function(c){return c.before}).forEach(function(c){return c.before(l,r.state)})}catch{}var s=u.length>1?Promise.all(u.map(function(c){return c(o)})):u[0](o);return new Promise(function(c,f){s.then(function(v){try{r._actionSubscribers.filter(function(S){return S.after}).forEach(function(S){return S.after(l,r.state)})}catch{}c(v)},function(v){try{r._actionSubscribers.filter(function(S){return S.error}).forEach(function(S){return S.error(l,r.state,v)})}catch{}f(v)})})}};ln.prototype.subscribe=function(t,n){return g0(t,this._subscribers,n)};ln.prototype.subscribeAction=function(t,n){var r=typeof t=="function"?{before:t}:t;return g0(r,this._actionSubscribers,n)};ln.prototype.watch=function(t,n,r){var a=this;return oe(function(){return t(a.state,a.getters)},n,Object.assign({},r))};ln.prototype.replaceState=function(t){var n=this;this._withCommit(function(){n._state.data=t})};ln.prototype.registerModule=function(t,n,r){r===void 0&&(r={}),typeof t=="string"&&(t=[t]),this._modules.register(t,n),wl(this,this.state,t,this._modules.get(t),r.preserveState),Id(this,this.state)};ln.prototype.unregisterModule=function(t){var n=this;typeof t=="string"&&(t=[t]),this._modules.unregister(t),this._withCommit(function(){var r=Ld(n.state,t.slice(0,-1));delete r[t[t.length-1]]}),p0(this)};ln.prototype.hasModule=function(t){return typeof t=="string"&&(t=[t]),this._modules.isRegistered(t)};ln.prototype.hotUpdate=function(t){this._modules.update(t),p0(this,!0)};ln.prototype._withCommit=function(t){var n=this._committing;this._committing=!0,t(),this._committing=n};Object.defineProperties(ln.prototype,Rd);const CO={id:"footer"},EO={setup(e){let t=m0(),n=q([{text:"\u9996\u9875",path:"/home",role:"all"},{text:"\u7F51\u76D8",path:"/wp",role:"all"},{text:"\u75AB\u60C5",path:"/hospital_list",role:"all"},{text:"\u6211\u7684",path:"/mine",role:"all"},{text:"\u5B57\u5178\u8868",path:"/diction_list",role:"111"},{text:"\u7559\u8A00\u5217\u8868",path:"/leaveList",role:"111"}]),r=Me(JSON.parse(localStorage.getItem("user")));return tt(()=>{console.log(t.state.footer,n)}),(a,i)=>{const o=ge("router-link"),l=ge("router-view");return H(),W(Te,null,[Ge(J("ul",CO,[(H(!0),W(Te,null,Ne(he(n),(u,s)=>(H(),W("li",{key:s},[he(r)&&he(r).username==u.role||u.role=="all"?(H(),Oe(o,{key:0,to:u.path},{default:Ue(()=>[et(_e(u.text),1)]),_:2},1032,["to"])):se("",!0)]))),128))],512),[[qe,he(t).state.footer]]),R(l)],64)}}};function te(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function bt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Th(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Ch(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Th(Object(n),!0).forEach(function(r){bt(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Th(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function wO(e){var t=["fillOpacity","fillRule","clipRule"];return t.includes(e)?e.replace(/([a-z0-9]|(?=[A-Z]))([A-Z])/g,"$1-$2").toLowerCase():e}function St(e,t){var n=Object.keys(e.attrs).reduce((r,a)=>(r[wO(a)]=e.attrs[a],r),{});return yt(e.tag,Ch(Ch({},n),t),(e.children||[]).map(r=>St(r,{})))}var OO="t",kO="zh-CN",_O={classPrefix:OO,locale:kO};function AO(){var{classPrefix:e}=_O;return{SIZE:{default:"",xs:"".concat(e,"-size-xs"),small:"".concat(e,"-size-s"),middle:"".concat(e,"-size-m"),large:"".concat(e,"-size-l"),xl:"".concat(e,"-size-xl"),block:"".concat(e,"-size-full-width")},STATUS:{loading:"".concat(e,"-is-loading"),disabled:"".concat(e,"-is-disabled"),focused:"".concat(e,"-is-focused"),success:"".concat(e,"-is-success"),error:"".concat(e,"-is-error"),warning:"".concat(e,"-is-warning"),selected:"".concat(e,"-is-selected"),active:"".concat(e,"-is-active"),checked:"".concat(e,"-is-checked"),current:"".concat(e,"-is-current"),hidden:"".concat(e,"-is-hidden"),visible:"".concat(e,"-is-visible"),expanded:"".concat(e,"-is-expanded"),indeterminate:"".concat(e,"-is-indeterminate")}}}function wt(e){var t=AO().SIZE,n=j(()=>e.value in t?t[e.value]:""),r=j(()=>e.value===void 0||e.value in t?{}:{fontSize:e.value});return{style:r,className:n}}function Eh(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function wh(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Eh(Object(n),!0).forEach(function(r){bt(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Eh(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var DO={tag:"svg",attrs:{fill:"none",viewBox:"0 0 16 16",width:"1em",height:"1em"},children:[{tag:"path",attrs:{fill:"currentColor",d:"M7.35 8.65v3.85h1.3V8.65h3.85v-1.3H8.65V3.5h-1.3v3.85H3.5v1.3h3.85z",fillOpacity:.9}}]},O0=ee({name:"AddIcon",props:{size:{type:String},onClick:{type:Function}},setup(e,t){var{attrs:n}=t,r=j(()=>e.size),{className:a,style:i}=wt(r),o=j(()=>["t-icon","t-icon-add",a.value]),l=j(()=>wh(wh({},i.value),n.style)),u=j(()=>({class:o.value,style:l.value,onClick:s=>{var c;return(c=e.onClick)===null||c===void 0?void 0:c.call(e,{e:s})}}));return()=>St(DO,u.value)}});function Oh(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function kh(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Oh(Object(n),!0).forEach(function(r){bt(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Oh(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var PO={tag:"svg",attrs:{fill:"none",viewBox:"0 0 16 16",width:"1em",height:"1em"},children:[{tag:"path",attrs:{fill:"currentColor",d:"M2 3h12V2H2v1zM3.38 10.23l4.1-4.03v8.64H8.5V6.2l4.18 4.08.71-.7-5.05-4.93a.5.5 0 00-.7 0l-4.98 4.9.72.69z",fillOpacity:.9}}]},IO=ee({name:"BacktopIcon",props:{size:{type:String},onClick:{type:Function}},setup(e,t){var{attrs:n}=t,r=j(()=>e.size),{className:a,style:i}=wt(r),o=j(()=>["t-icon","t-icon-backtop",a.value]),l=j(()=>kh(kh({},i.value),n.style)),u=j(()=>({class:o.value,style:l.value,onClick:s=>{var c;return(c=e.onClick)===null||c===void 0?void 0:c.call(e,{e:s})}}));return()=>St(PO,u.value)}});function _h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Ah(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?_h(Object(n),!0).forEach(function(r){bt(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_h(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var LO={tag:"svg",attrs:{fill:"none",viewBox:"0 0 16 16",width:"1em",height:"1em"},children:[{tag:"path",attrs:{fill:"currentColor",d:"M8 15A7 7 0 108 1a7 7 0 000 14zM4.5 8.2l.7-.7L7 9.3l3.8-3.8.7.7L7 10.7 4.5 8.2z",fillOpacity:.9}}]},xd=ee({name:"CheckCircleFilledIcon",props:{size:{type:String},onClick:{type:Function}},setup(e,t){var{attrs:n}=t,r=j(()=>e.size),{className:a,style:i}=wt(r),o=j(()=>["t-icon","t-icon-check-circle-filled",a.value]),l=j(()=>Ah(Ah({},i.value),n.style)),u=j(()=>({class:o.value,style:l.value,onClick:s=>{var c;return(c=e.onClick)===null||c===void 0?void 0:c.call(e,{e:s})}}));return()=>St(LO,u.value)}});function Dh(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Ph(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Dh(Object(n),!0).forEach(function(r){bt(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Dh(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var RO={tag:"svg",attrs:{fill:"none",viewBox:"0 0 16 16",width:"1em",height:"1em"},children:[{tag:"path",attrs:{fill:"currentColor",d:"M4.5 8.2L7 10.7l4.5-4.5-.7-.7L7 9.3 5.2 7.5l-.7.7z",fillOpacity:.9}},{tag:"path",attrs:{fill:"currentColor",d:"M4.11 2.18a7 7 0 117.78 11.64A7 7 0 014.1 2.18zm.56 10.8a6 6 0 106.66-9.97A6 6 0 004.67 13z",fillOpacity:.9}}]},xO=ee({name:"CheckCircleIcon",props:{size:{type:String},onClick:{type:Function}},setup(e,t){var{attrs:n}=t,r=j(()=>e.size),{className:a,style:i}=wt(r),o=j(()=>["t-icon","t-icon-check-circle",a.value]),l=j(()=>Ph(Ph({},i.value),n.style)),u=j(()=>({class:o.value,style:l.value,onClick:s=>{var c;return(c=e.onClick)===null||c===void 0?void 0:c.call(e,{e:s})}}));return()=>St(RO,u.value)}});function Ih(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Lh(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Ih(Object(n),!0).forEach(function(r){bt(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ih(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var $O={tag:"svg",attrs:{fill:"none",viewBox:"0 0 16 16",width:"1em",height:"1em"},children:[{tag:"path",attrs:{fill:"currentColor",d:"M6.43 9.92l6.23-6.22.92.92-7.15 7.14L1.97 7.3l.92-.92 3.54 3.54z",fillOpacity:.9}}]},$d=ee({name:"CheckIcon",props:{size:{type:String},onClick:{type:Function}},setup(e,t){var{attrs:n}=t,r=j(()=>e.size),{className:a,style:i}=wt(r),o=j(()=>["t-icon","t-icon-check",a.value]),l=j(()=>Lh(Lh({},i.value),n.style)),u=j(()=>({class:o.value,style:l.value,onClick:s=>{var c;return(c=e.onClick)===null||c===void 0?void 0:c.call(e,{e:s})}}));return()=>St($O,u.value)}});function Rh(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function xh(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Rh(Object(n),!0).forEach(function(r){bt(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Rh(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var MO={tag:"svg",attrs:{fill:"none",viewBox:"0 0 16 16",width:"1em",height:"1em"},children:[{tag:"path",attrs:{fill:"currentColor",d:"M3.54 6.46l.92-.92L8 9.08l3.54-3.54.92.92L8 10.92 3.54 6.46z",fillOpacity:.9}}]},$h=ee({name:"ChevronDownIcon",props:{size:{type:String},onClick:{type:Function}},setup(e,t){var{attrs:n}=t,r=j(()=>e.size),{className:a,style:i}=wt(r),o=j(()=>["t-icon","t-icon-chevron-down",a.value]),l=j(()=>xh(xh({},i.value),n.style)),u=j(()=>({class:o.value,style:l.value,onClick:s=>{var c;return(c=e.onClick)===null||c===void 0?void 0:c.call(e,{e:s})}}));return()=>St(MO,u.value)}});function Mh(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Fh(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Mh(Object(n),!0).forEach(function(r){bt(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Mh(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var FO={tag:"svg",attrs:{fill:"none",viewBox:"0 0 16 16",width:"1em",height:"1em"},children:[{tag:"path",attrs:{fill:"currentColor",d:"M9.54 3.54l.92.92L6.92 8l3.54 3.54-.92.92L5.08 8l4.46-4.46z",fillOpacity:.9}}]},k0=ee({name:"ChevronLeftIcon",props:{size:{type:String},onClick:{type:Function}},setup(e,t){var{attrs:n}=t,r=j(()=>e.size),{className:a,style:i}=wt(r),o=j(()=>["t-icon","t-icon-chevron-left",a.value]),l=j(()=>Fh(Fh({},i.value),n.style)),u=j(()=>({class:o.value,style:l.value,onClick:s=>{var c;return(c=e.onClick)===null||c===void 0?void 0:c.call(e,{e:s})}}));return()=>St(FO,u.value)}});function Bh(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Nh(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Bh(Object(n),!0).forEach(function(r){bt(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Bh(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var BO={tag:"svg",attrs:{fill:"none",viewBox:"0 0 16 16",width:"1em",height:"1em"},children:[{tag:"path",attrs:{fill:"currentColor",d:"M6.46 12.46l-.92-.92L9.08 8 5.54 4.46l.92-.92L10.92 8l-4.46 4.46z",fillOpacity:.9}}]},_0=ee({name:"ChevronRightIcon",props:{size:{type:String},onClick:{type:Function}},setup(e,t){var{attrs:n}=t,r=j(()=>e.size),{className:a,style:i}=wt(r),o=j(()=>["t-icon","t-icon-chevron-right",a.value]),l=j(()=>Nh(Nh({},i.value),n.style)),u=j(()=>({class:o.value,style:l.value,onClick:s=>{var c;return(c=e.onClick)===null||c===void 0?void 0:c.call(e,{e:s})}}));return()=>St(BO,u.value)}});function jh(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Uh(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?jh(Object(n),!0).forEach(function(r){bt(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):jh(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var NO={tag:"svg",attrs:{fill:"none",viewBox:"0 0 16 16",width:"1em",height:"1em"},children:[{tag:"path",attrs:{fill:"currentColor",d:"M12.46 9.54l-.92.92L8 6.92l-3.54 3.54-.92-.92L8 5.08l4.46 4.46z",fillOpacity:.9}}]},Vh=ee({name:"ChevronUpIcon",props:{size:{type:String},onClick:{type:Function}},setup(e,t){var{attrs:n}=t,r=j(()=>e.size),{className:a,style:i}=wt(r),o=j(()=>["t-icon","t-icon-chevron-up",a.value]),l=j(()=>Uh(Uh({},i.value),n.style)),u=j(()=>({class:o.value,style:l.value,onClick:s=>{var c;return(c=e.onClick)===null||c===void 0?void 0:c.call(e,{e:s})}}));return()=>St(NO,u.value)}});function Hh(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function zh(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Hh(Object(n),!0).forEach(function(r){bt(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Hh(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var jO={tag:"svg",attrs:{fill:"none",viewBox:"0 0 16 16",width:"1em",height:"1em"},children:[{tag:"path",attrs:{fill:"currentColor",d:"M8 1a7 7 0 110 14A7 7 0 018 1zm0 1a6 6 0 100 12A6 6 0 008 2z",opacity:.9,fillOpacity:.9}}]},A0=ee({name:"CircleIcon",props:{size:{type:String},onClick:{type:Function}},setup(e,t){var{attrs:n}=t,r=j(()=>e.size),{className:a,style:i}=wt(r),o=j(()=>["t-icon","t-icon-circle",a.value]),l=j(()=>zh(zh({},i.value),n.style)),u=j(()=>({class:o.value,style:l.value,onClick:s=>{var c;return(c=e.onClick)===null||c===void 0?void 0:c.call(e,{e:s})}}));return()=>St(jO,u.value)}});function Gh(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Kh(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Gh(Object(n),!0).forEach(function(r){bt(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Gh(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var UO={tag:"svg",attrs:{fill:"none",viewBox:"0 0 16 16",width:"1em",height:"1em"},children:[{tag:"path",attrs:{fill:"currentColor",d:"M15 8A7 7 0 101 8a7 7 0 0014 0zM5.67 4.95L8 7.29l2.33-2.34.7.7L8.7 8l2.34 2.35-.71.7L8 8.71l-2.33 2.34-.7-.7L7.3 8 4.96 5.65l.71-.7z",fillOpacity:.9}}]},D0=ee({name:"CloseCircleFilledIcon",props:{size:{type:String},onClick:{type:Function}},setup(e,t){var{attrs:n}=t,r=j(()=>e.size),{className:a,style:i}=wt(r),o=j(()=>["t-icon","t-icon-close-circle-filled",a.value]),l=j(()=>Kh(Kh({},i.value),n.style)),u=j(()=>({class:o.value,style:l.value,onClick:s=>{var c;return(c=e.onClick)===null||c===void 0?void 0:c.call(e,{e:s})}}));return()=>St(UO,u.value)}});function Wh(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Yh(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Wh(Object(n),!0).forEach(function(r){bt(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Wh(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var VO={tag:"svg",attrs:{fill:"none",viewBox:"0 0 16 16",width:"1em",height:"1em"},children:[{tag:"path",attrs:{fill:"currentColor",d:"M8 8.92L11.08 12l.92-.92L8.92 8 12 4.92 11.08 4 8 7.08 4.92 4 4 4.92 7.08 8 4 11.08l.92.92L8 8.92z",fillOpacity:.9}}]},_i=ee({name:"CloseIcon",props:{size:{type:String},onClick:{type:Function}},setup(e,t){var{attrs:n}=t,r=j(()=>e.size),{className:a,style:i}=wt(r),o=j(()=>["t-icon","t-icon-close",a.value]),l=j(()=>Yh(Yh({},i.value),n.style)),u=j(()=>({class:o.value,style:l.value,onClick:s=>{var c;return(c=e.onClick)===null||c===void 0?void 0:c.call(e,{e:s})}}));return()=>St(VO,u.value)}});function qh(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Xh(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?qh(Object(n),!0).forEach(function(r){bt(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qh(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var HO={tag:"svg",attrs:{fill:"none",viewBox:"0 0 16 16",width:"1em",height:"1em"},children:[{tag:"path",attrs:{fill:"currentColor",d:"M3 9a1 1 0 110-2 1 1 0 010 2zM7 8a1 1 0 102 0 1 1 0 00-2 0zM12 8a1 1 0 102 0 1 1 0 00-2 0z",fillOpacity:.9}}]},zO=ee({name:"EllipsisIcon",props:{size:{type:String},onClick:{type:Function}},setup(e,t){var{attrs:n}=t,r=j(()=>e.size),{className:a,style:i}=wt(r),o=j(()=>["t-icon","t-icon-ellipsis",a.value]),l=j(()=>Xh(Xh({},i.value),n.style)),u=j(()=>({class:o.value,style:l.value,onClick:s=>{var c;return(c=e.onClick)===null||c===void 0?void 0:c.call(e,{e:s})}}));return()=>St(HO,u.value)}});function Zh(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Jh(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Zh(Object(n),!0).forEach(function(r){bt(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Zh(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var GO={tag:"svg",attrs:{fill:"none",viewBox:"0 0 16 16",width:"1em",height:"1em"},children:[{tag:"path",attrs:{fill:"currentColor",d:"M15 8A7 7 0 101 8a7 7 0 0014 0zM8.5 4v5.5h-1V4h1zm-1.1 7h1.2v1.2H7.4V11z",fillOpacity:.9}}]},KO=ee({name:"ErrorCircleFilledIcon",props:{size:{type:String},onClick:{type:Function}},setup(e,t){var{attrs:n}=t,r=j(()=>e.size),{className:a,style:i}=wt(r),o=j(()=>["t-icon","t-icon-error-circle-filled",a.value]),l=j(()=>Jh(Jh({},i.value),n.style)),u=j(()=>({class:o.value,style:l.value,onClick:s=>{var c;return(c=e.onClick)===null||c===void 0?void 0:c.call(e,{e:s})}}));return()=>St(GO,u.value)}});function Qh(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function ev(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Qh(Object(n),!0).forEach(function(r){bt(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Qh(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var WO={tag:"svg",attrs:{fill:"none",viewBox:"0 0 16 16",width:"1em",height:"1em"},children:[{tag:"path",attrs:{fill:"currentColor",d:"M8.5 4v5.5h-1V4h1zM8.6 10.5H7.4v1.2h1.2v-1.2z",fillOpacity:.9}},{tag:"path",attrs:{fill:"currentColor",d:"M15 8A7 7 0 101 8a7 7 0 0014 0zm-1 0A6 6 0 112 8a6 6 0 0112 0z",fillOpacity:.9}}]},YO=ee({name:"ErrorCircleIcon",props:{size:{type:String},onClick:{type:Function}},setup(e,t){var{attrs:n}=t,r=j(()=>e.size),{className:a,style:i}=wt(r),o=j(()=>["t-icon","t-icon-error-circle",a.value]),l=j(()=>ev(ev({},i.value),n.style)),u=j(()=>({class:o.value,style:l.value,onClick:s=>{var c;return(c=e.onClick)===null||c===void 0?void 0:c.call(e,{e:s})}}));return()=>St(WO,u.value)}});function tv(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function nv(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?tv(Object(n),!0).forEach(function(r){bt(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tv(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var qO={tag:"svg",attrs:{fill:"none",viewBox:"0 0 16 16",width:"1em",height:"1em"},children:[{tag:"path",attrs:{fill:"currentColor",d:"M8 1.5a6.5 6.5 0 000 13v-1.63A4.87 4.87 0 1112.88 8h1.62A6.5 6.5 0 008 1.5z",fillOpacity:.9}}]},P0=ee({name:"LoadingIcon",props:{size:{type:String},onClick:{type:Function}},setup(e,t){var{attrs:n}=t,r=j(()=>e.size),{className:a,style:i}=wt(r),o=j(()=>["t-icon","t-icon-loading",a.value]),l=j(()=>nv(nv({},i.value),n.style)),u=j(()=>({class:o.value,style:l.value,onClick:s=>{var c;return(c=e.onClick)===null||c===void 0?void 0:c.call(e,{e:s})}}));return()=>St(qO,u.value)}});function rv(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function av(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?rv(Object(n),!0).forEach(function(r){bt(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):rv(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var XO={tag:"svg",attrs:{fill:"none",viewBox:"0 0 16 16",width:"1em",height:"1em"},children:[{tag:"path",attrs:{fill:"currentColor",d:"M8 15A7 7 0 108 1a7 7 0 000 14zm3.5-6.5h-7v-1h7v1z",fillOpacity:.9,fillRule:"evenodd",clipRule:"evenodd"}}]},ZO=ee({name:"MinusCircleFilledIcon",props:{size:{type:String},onClick:{type:Function}},setup(e,t){var{attrs:n}=t,r=j(()=>e.size),{className:a,style:i}=wt(r),o=j(()=>["t-icon","t-icon-minus-circle-filled",a.value]),l=j(()=>av(av({},i.value),n.style)),u=j(()=>({class:o.value,style:l.value,onClick:s=>{var c;return(c=e.onClick)===null||c===void 0?void 0:c.call(e,{e:s})}}));return()=>St(XO,u.value)}});function iv(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function ov(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?iv(Object(n),!0).forEach(function(r){bt(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):iv(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var JO={tag:"svg",attrs:{fill:"none",viewBox:"0 0 16 16",width:"1em",height:"1em"},children:[{tag:"path",attrs:{fill:"currentColor",d:"M8 2.71c2.9 0 5.25 2.36 5.25 5.29h.96a6.2 6.2 0 00-11.5-3.28V2.64h-.96v3.1c0 .29.22.5.5.5h3.09v-.96H3.49A5.25 5.25 0 018 2.71zM1.79 8h.96a5.25 5.25 0 009.76 2.71h-1.85v-.96h3.09c.28 0 .5.22.5.5v3.1h-.96v-2.07A6.2 6.2 0 011.8 8z",fillOpacity:.9}}]},QO=ee({name:"RefreshIcon",props:{size:{type:String},onClick:{type:Function}},setup(e,t){var{attrs:n}=t,r=j(()=>e.size),{className:a,style:i}=wt(r),o=j(()=>["t-icon","t-icon-refresh",a.value]),l=j(()=>ov(ov({},i.value),n.style)),u=j(()=>({class:o.value,style:l.value,onClick:s=>{var c;return(c=e.onClick)===null||c===void 0?void 0:c.call(e,{e:s})}}));return()=>St(JO,u.value)}});function sv(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function lv(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?sv(Object(n),!0).forEach(function(r){bt(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):sv(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var ek={tag:"svg",attrs:{fill:"none",viewBox:"0 0 16 16",width:"1em",height:"1em"},children:[{tag:"path",attrs:{fill:"currentColor",d:"M9.51 10.22a4.76 4.76 0 11.7-.7l3.54 3.52-.7.71-3.54-3.53zm.77-3.7a3.76 3.76 0 10-7.53 0 3.76 3.76 0 007.53 0z",fillOpacity:.9}}]},tk=ee({name:"SearchIcon",props:{size:{type:String},onClick:{type:Function}},setup(e,t){var{attrs:n}=t,r=j(()=>e.size),{className:a,style:i}=wt(r),o=j(()=>["t-icon","t-icon-search",a.value]),l=j(()=>lv(lv({},i.value),n.style)),u=j(()=>({class:o.value,style:l.value,onClick:s=>{var c;return(c=e.onClick)===null||c===void 0?void 0:c.call(e,{e:s})}}));return()=>St(ek,u.value)}});function uv(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function cv(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?uv(Object(n),!0).forEach(function(r){bt(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):uv(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var nk={tag:"svg",attrs:{fill:"none",viewBox:"0 0 16 16",width:"1em",height:"1em"},children:[{tag:"path",attrs:{fill:"currentColor",d:"M7.73 1.55a.3.3 0 01.54 0l1.94 3.92 4.32.62a.3.3 0 01.17.52l-3.13 3.05.74 4.3a.3.3 0 01-.44.32L8 12.25l-3.87 2.03a.3.3 0 01-.43-.31l.73-4.31L1.3 6.6a.3.3 0 01.17-.52l4.33-.62 1.93-3.92z",fillOpacity:.9}}]},dv=ee({name:"StarFilledIcon",props:{size:{type:String},onClick:{type:Function}},setup(e,t){var{attrs:n}=t,r=j(()=>e.size),{className:a,style:i}=wt(r),o=j(()=>["t-icon","t-icon-star-filled",a.value]),l=j(()=>cv(cv({},i.value),n.style)),u=j(()=>({class:o.value,style:l.value,onClick:s=>{var c;return(c=e.onClick)===null||c===void 0?void 0:c.call(e,{e:s})}}));return()=>St(nk,u.value)}});function fv(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function hv(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?fv(Object(n),!0).forEach(function(r){bt(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):fv(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var rk={tag:"svg",attrs:{fill:"none",viewBox:"0 0 16 16",width:"1em",height:"1em"},children:[{tag:"path",attrs:{fill:"currentColor",d:"M9.54 6.38L8 3.26 6.46 6.38l-3.44.5L5.5 9.31l-.59 3.43L8 11.12l3.08 1.62-.59-3.43L13 6.88l-3.45-.5zm5-.29a.3.3 0 01.16.52l-3.13 3.05.74 4.3a.3.3 0 01-.44.32L8 12.25l-3.87 2.03a.3.3 0 01-.43-.31l.73-4.31L1.3 6.6a.3.3 0 01.17-.52l4.33-.62 1.93-3.92a.3.3 0 01.54 0l1.94 3.92 4.32.62z",fillOpacity:.9}}]},vv=ee({name:"StarIcon",props:{size:{type:String},onClick:{type:Function}},setup(e,t){var{attrs:n}=t,r=j(()=>e.size),{className:a,style:i}=wt(r),o=j(()=>["t-icon","t-icon-star",a.value]),l=j(()=>hv(hv({},i.value),n.style)),u=j(()=>({class:o.value,style:l.value,onClick:s=>{var c;return(c=e.onClick)===null||c===void 0?void 0:c.call(e,{e:s})}}));return()=>St(rk,u.value)}});/**
 * tdesign v0.8.5
 * (c) 2022 TDesign Group
 * @license MIT
 */var Zs=function(){};/**
 * tdesign v0.8.5
 * (c) 2022 TDesign Group
 * @license MIT
 */function ak(e){return Array.isArray(e)}function mv(e){return Object.prototype.toString.call(e)==="[object Number]"}function gv(e){return e===null?!1:Object.prototype.toString.call(e)==="[object Object]"}function Ui(e){return Object.prototype.toString.call(e)==="[object Function]"}function I0(e,t){var n=typeof t=="number";if(!e||e.length===0)return n?{length:0,characters:e}:0;for(var r=0,a=0;a<e.length;a++){var i=0;if(e.charCodeAt(a)>127||e.charCodeAt(a)===94?i=2:i=1,n&&r+i>t)return{length:r,characters:e.slice(0,a)};r+=i}return n?{length:r,characters:e}:r}/**
 * tdesign v0.8.5
 * (c) 2022 TDesign Group
 * @license MIT
 */var Le=function(t){var n=t;return n.install=function(r,a){var i=n.name;r.component(a||i,t)},n};function L0(e){var t=Be();t&&Object.assign(t.proxy,e)}/**
 * tdesign v0.8.5
 * (c) 2022 TDesign Group
 * @license MIT
 */var De={prefix:"t"};/**
 * tdesign v0.8.5
 * (c) 2022 TDesign Group
 * @license MIT
 */var kt=De.prefix,ik={small:"".concat(kt,"-size-s"),medium:"".concat(kt,"-size-m"),large:"".concat(kt,"-size-l"),default:"",xs:"".concat(kt,"-size-xs"),xl:"".concat(kt,"-size-xl"),block:"".concat(kt,"-size-full-width")},ok={loading:"".concat(kt,"-is-loading"),disabled:"".concat(kt,"-is-disabled"),focused:"".concat(kt,"-is-focused"),success:"".concat(kt,"-is-success"),error:"".concat(kt,"-is-error"),warning:"".concat(kt,"-is-warning"),selected:"".concat(kt,"-is-selected"),active:"".concat(kt,"-is-active"),checked:"".concat(kt,"-is-checked"),current:"".concat(kt,"-is-current"),hidden:"".concat(kt,"-is-hidden"),visible:"".concat(kt,"-is-visible"),expanded:"".concat(kt,"-is-expanded"),indeterminate:"".concat(kt,"-is-indeterminate")},Mt={SIZE:ik,STATUS:ok};function jt(e){return jt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},jt(e)}/**
 * tdesign v0.8.5
 * (c) 2022 TDesign Group
 * @license MIT
 */var ze=function(t,n,r){var a;if(t===null)return yt("",null);var i=jt(r)==="object"&&"params"in r?r.params:null,o=jt(r)==="object"&&"defaultNode"in r?r.defaultNode:r,l;if(n in t.props&&(l=t.props[n]),t.slots[n]){var u;return(u=t.slots[n])===null||u===void 0?void 0:u.call(i)}if(l===!0&&o){var s;return t.slots[n]?(s=t.slots[n])===null||s===void 0?void 0:s.call(i):o}if(typeof l=="function")return l(yt,i);var c=[void 0,i,""].includes(l);return c&&t.slots[n]?(a=t.slots[n])===null||a===void 0?void 0:a.call(i):l},Xt=function(t,n,r,a){if(t===null)return yt("",null);var i=jt(a)==="object"&&"params"in a?a.params:null,o=jt(a)==="object"&&"defaultNode"in a?a.defaultNode:a,l=i?{params:i}:void 0,u=ze(t,n,l),s=ze(t,r,l),c=[void 0,null,""].includes(u)?s:u;return[void 0,null,""].includes(c)?o:c};/**
 * tdesign v0.8.5
 * (c) 2022 TDesign Group
 * @license MIT
 */var st=function(t){return t.content};st.props=["content"];/**
 * tdesign v0.8.5
 * (c) 2022 TDesign Group
 * @license MIT
 */function R0(e,t){var n=e||[!0,!1],r=q();t===void 0?r=q(n[1]):At(t)?r=t:r=q(t);var a=function(o){o!==void 0?r.value=o:r.value=r.value===n[1]?n[0]:n[1]};return{state:r,toggle:a}}function pv(e,t,n,r,a,i,o){try{var l=e[i](o),u=l.value}catch(s){n(s);return}l.done?t(u):Promise.resolve(u).then(r,a)}function Md(e){return function(){var t=this,n=arguments;return new Promise(function(r,a){var i=e.apply(t,n);function o(u){pv(i,r,a,o,l,"next",u)}function l(u){pv(i,r,a,o,l,"throw",u)}o(void 0)})}}var mo=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{};function ZY(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var x0={exports:{}};(function(e){var t=function(n){var r=Object.prototype,a=r.hasOwnProperty,i,o=typeof Symbol=="function"?Symbol:{},l=o.iterator||"@@iterator",u=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function c($,M,N){return Object.defineProperty($,M,{value:N,enumerable:!0,configurable:!0,writable:!0}),$[M]}try{c({},"")}catch{c=function(M,N,F){return M[N]=F}}function f($,M,N,F){var U=M&&M.prototype instanceof h?M:h,B=Object.create(U.prototype),K=new I(F||[]);return B._invoke=O($,N,K),B}n.wrap=f;function v($,M,N){try{return{type:"normal",arg:$.call(M,N)}}catch(F){return{type:"throw",arg:F}}}var S="suspendedStart",E="suspendedYield",m="executing",d="completed",g={};function h(){}function p(){}function b(){}var y={};c(y,l,function(){return this});var C=Object.getPrototypeOf,w=C&&C(C(x([])));w&&w!==r&&a.call(w,l)&&(y=w);var k=b.prototype=h.prototype=Object.create(y);p.prototype=b,c(k,"constructor",b),c(b,"constructor",p),p.displayName=c(b,s,"GeneratorFunction");function _($){["next","throw","return"].forEach(function(M){c($,M,function(N){return this._invoke(M,N)})})}n.isGeneratorFunction=function($){var M=typeof $=="function"&&$.constructor;return M?M===p||(M.displayName||M.name)==="GeneratorFunction":!1},n.mark=function($){return Object.setPrototypeOf?Object.setPrototypeOf($,b):($.__proto__=b,c($,s,"GeneratorFunction")),$.prototype=Object.create(k),$},n.awrap=function($){return{__await:$}};function T($,M){function N(B,K,V,X){var Z=v($[B],$,K);if(Z.type==="throw")X(Z.arg);else{var ne=Z.arg,ae=ne.value;return ae&&typeof ae=="object"&&a.call(ae,"__await")?M.resolve(ae.__await).then(function(ye){N("next",ye,V,X)},function(ye){N("throw",ye,V,X)}):M.resolve(ae).then(function(ye){ne.value=ye,V(ne)},function(ye){return N("throw",ye,V,X)})}}var F;function U(B,K){function V(){return new M(function(X,Z){N(B,K,X,Z)})}return F=F?F.then(V,V):V()}this._invoke=U}_(T.prototype),c(T.prototype,u,function(){return this}),n.AsyncIterator=T,n.async=function($,M,N,F,U){U===void 0&&(U=Promise);var B=new T(f($,M,N,F),U);return n.isGeneratorFunction(M)?B:B.next().then(function(K){return K.done?K.value:B.next()})};function O($,M,N){var F=S;return function(B,K){if(F===m)throw new Error("Generator is already running");if(F===d){if(B==="throw")throw K;return L()}for(N.method=B,N.arg=K;;){var V=N.delegate;if(V){var X=A(V,N);if(X){if(X===g)continue;return X}}if(N.method==="next")N.sent=N._sent=N.arg;else if(N.method==="throw"){if(F===S)throw F=d,N.arg;N.dispatchException(N.arg)}else N.method==="return"&&N.abrupt("return",N.arg);F=m;var Z=v($,M,N);if(Z.type==="normal"){if(F=N.done?d:E,Z.arg===g)continue;return{value:Z.arg,done:N.done}}else Z.type==="throw"&&(F=d,N.method="throw",N.arg=Z.arg)}}}function A($,M){var N=$.iterator[M.method];if(N===i){if(M.delegate=null,M.method==="throw"){if($.iterator.return&&(M.method="return",M.arg=i,A($,M),M.method==="throw"))return g;M.method="throw",M.arg=new TypeError("The iterator does not provide a 'throw' method")}return g}var F=v(N,$.iterator,M.arg);if(F.type==="throw")return M.method="throw",M.arg=F.arg,M.delegate=null,g;var U=F.arg;if(!U)return M.method="throw",M.arg=new TypeError("iterator result is not an object"),M.delegate=null,g;if(U.done)M[$.resultName]=U.value,M.next=$.nextLoc,M.method!=="return"&&(M.method="next",M.arg=i);else return U;return M.delegate=null,g}_(k),c(k,s,"Generator"),c(k,l,function(){return this}),c(k,"toString",function(){return"[object Generator]"});function P($){var M={tryLoc:$[0]};1 in $&&(M.catchLoc=$[1]),2 in $&&(M.finallyLoc=$[2],M.afterLoc=$[3]),this.tryEntries.push(M)}function D($){var M=$.completion||{};M.type="normal",delete M.arg,$.completion=M}function I($){this.tryEntries=[{tryLoc:"root"}],$.forEach(P,this),this.reset(!0)}n.keys=function($){var M=[];for(var N in $)M.push(N);return M.reverse(),function F(){for(;M.length;){var U=M.pop();if(U in $)return F.value=U,F.done=!1,F}return F.done=!0,F}};function x($){if($){var M=$[l];if(M)return M.call($);if(typeof $.next=="function")return $;if(!isNaN($.length)){var N=-1,F=function U(){for(;++N<$.length;)if(a.call($,N))return U.value=$[N],U.done=!1,U;return U.value=i,U.done=!0,U};return F.next=F}}return{next:L}}n.values=x;function L(){return{value:i,done:!0}}return I.prototype={constructor:I,reset:function($){if(this.prev=0,this.next=0,this.sent=this._sent=i,this.done=!1,this.delegate=null,this.method="next",this.arg=i,this.tryEntries.forEach(D),!$)for(var M in this)M.charAt(0)==="t"&&a.call(this,M)&&!isNaN(+M.slice(1))&&(this[M]=i)},stop:function(){this.done=!0;var $=this.tryEntries[0],M=$.completion;if(M.type==="throw")throw M.arg;return this.rval},dispatchException:function($){if(this.done)throw $;var M=this;function N(X,Z){return B.type="throw",B.arg=$,M.next=X,Z&&(M.method="next",M.arg=i),!!Z}for(var F=this.tryEntries.length-1;F>=0;--F){var U=this.tryEntries[F],B=U.completion;if(U.tryLoc==="root")return N("end");if(U.tryLoc<=this.prev){var K=a.call(U,"catchLoc"),V=a.call(U,"finallyLoc");if(K&&V){if(this.prev<U.catchLoc)return N(U.catchLoc,!0);if(this.prev<U.finallyLoc)return N(U.finallyLoc)}else if(K){if(this.prev<U.catchLoc)return N(U.catchLoc,!0)}else if(V){if(this.prev<U.finallyLoc)return N(U.finallyLoc)}else throw new Error("try statement without catch or finally")}}},abrupt:function($,M){for(var N=this.tryEntries.length-1;N>=0;--N){var F=this.tryEntries[N];if(F.tryLoc<=this.prev&&a.call(F,"finallyLoc")&&this.prev<F.finallyLoc){var U=F;break}}U&&($==="break"||$==="continue")&&U.tryLoc<=M&&M<=U.finallyLoc&&(U=null);var B=U?U.completion:{};return B.type=$,B.arg=M,U?(this.method="next",this.next=U.finallyLoc,g):this.complete(B)},complete:function($,M){if($.type==="throw")throw $.arg;return $.type==="break"||$.type==="continue"?this.next=$.arg:$.type==="return"?(this.rval=this.arg=$.arg,this.method="return",this.next="end"):$.type==="normal"&&M&&(this.next=M),g},finish:function($){for(var M=this.tryEntries.length-1;M>=0;--M){var N=this.tryEntries[M];if(N.finallyLoc===$)return this.complete(N.completion,N.afterLoc),D(N),g}},catch:function($){for(var M=this.tryEntries.length-1;M>=0;--M){var N=this.tryEntries[M];if(N.tryLoc===$){var F=N.completion;if(F.type==="throw"){var U=F.arg;D(N)}return U}}throw new Error("illegal catch attempt")},delegateYield:function($,M,N){return this.delegate={iterator:x($),resultName:M,nextLoc:N},this.method==="next"&&(this.arg=i),g}},n}(e.exports);try{regeneratorRuntime=t}catch{typeof globalThis=="object"?globalThis.regeneratorRuntime=t:Function("r","regeneratorRuntime = r")(t)}})(x0);var mi=x0.exports;function Ol(e){return $C()?(MC(e),!0):!1}const Vo=typeof window!="undefined",sk=e=>typeof e=="string",jr=()=>{};function $0(e,t=!0){Be()?tt(e):t?e():Re(e)}function Fn(e){var t;const n=he(e);return(t=n==null?void 0:n.$el)!=null?t:n}const ka=Vo?window:void 0;Vo&&window.document;Vo&&window.navigator;Vo&&window.location;function $n(...e){let t,n,r,a;if(sk(e[0])?([n,r,a]=e,t=ka):[t,n,r,a]=e,!t)return jr;let i=jr;const o=oe(()=>Fn(t),u=>{i(),u&&(u.addEventListener(n,r,a),i=()=>{u.removeEventListener(n,r,a),i=jr})},{immediate:!0,flush:"post"}),l=()=>{o(),i()};return Ol(l),l}function lk(e,t,n={}){const{window:r=ka,ignore:a,capture:i=!0}=n;if(!r)return;const o=q(!0);let l;const u=f=>{r.clearTimeout(l);const v=Fn(e),S=f.composedPath();!v||v===f.target||S.includes(v)||!o.value||a&&a.length>0&&a.some(E=>{const m=Fn(E);return m&&(f.target===m||S.includes(m))})||t(f)},s=[$n(r,"click",u,{passive:!0,capture:i}),$n(r,"pointerdown",f=>{const v=Fn(e);o.value=!!v&&!f.composedPath().includes(v)},{passive:!0}),$n(r,"pointerup",f=>{l=r.setTimeout(()=>u(f),50)},{passive:!0})];return()=>s.forEach(f=>f())}function yv(e,t=null){const n=Be();let r=()=>{};const a=hE((i,o)=>(r=o,{get(){var l,u;return i(),(u=(l=n==null?void 0:n.proxy)==null?void 0:l.$refs[e])!=null?u:t},set(){}}));return $0(r),Ed(r),a}function uk(e={}){const{window:t=ka}=e,n=q(0);return t&&($n(t,"blur",()=>n.value+=1,!0),$n(t,"focus",()=>n.value+=1,!0)),j(()=>(n.value,t==null?void 0:t.document.activeElement))}const Tc=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{},Cc="__vueuse_ssr_handlers__";Tc[Cc]=Tc[Cc]||{};Tc[Cc];var bv=Object.getOwnPropertySymbols,ck=Object.prototype.hasOwnProperty,dk=Object.prototype.propertyIsEnumerable,fk=(e,t)=>{var n={};for(var r in e)ck.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&bv)for(var r of bv(e))t.indexOf(r)<0&&dk.call(e,r)&&(n[r]=e[r]);return n};function M0(e,t,n={}){const r=n,{window:a=ka}=r,i=fk(r,["window"]);let o;const l=a&&"ResizeObserver"in a,u=()=>{o&&(o.disconnect(),o=void 0)},s=oe(()=>Fn(e),f=>{u(),l&&a&&f&&(o=new ResizeObserver(t),o.observe(f,i))},{immediate:!0,flush:"post"}),c=()=>{u(),s()};return Ol(c),{isSupported:l,stop:c}}function Ec(e,t={}){const{reset:n=!0,windowResize:r=!0,windowScroll:a=!0,immediate:i=!0}=t,o=q(0),l=q(0),u=q(0),s=q(0),c=q(0),f=q(0),v=q(0),S=q(0);function E(){const m=Fn(e);if(!m){n&&(o.value=0,l.value=0,u.value=0,s.value=0,c.value=0,f.value=0,v.value=0,S.value=0);return}const d=m.getBoundingClientRect();o.value=d.height,l.value=d.bottom,u.value=d.left,s.value=d.right,c.value=d.top,f.value=d.width,v.value=d.x,S.value=d.y}return M0(e,E),oe(()=>Fn(e),m=>!m&&E()),a&&$n("scroll",E,{passive:!0}),r&&$n("resize",E,{passive:!0}),$0(()=>{i&&E()}),{height:o,bottom:l,left:u,right:s,top:c,width:f,x:v,y:S,update:E}}function hk(e,t={}){const{immediate:n=!0,window:r=ka}=t,a=q(!1);let i=null;function o(){!a.value||!r||(e(),i=r.requestAnimationFrame(o))}function l(){!a.value&&r&&(a.value=!0,o())}function u(){a.value=!1,i!=null&&r&&(r.cancelAnimationFrame(i),i=null)}return n&&l(),Ol(u),{isActive:a,pause:u,resume:l}}function Sv(e,t={width:0,height:0},n={}){const r=q(t.width),a=q(t.height);return M0(e,([i])=>{r.value=i.contentRect.width,a.value=i.contentRect.height},n),oe(()=>Fn(e),i=>{r.value=i?t.width:0,a.value=i?t.height:0}),{width:r,height:a}}function vk(e,t={}){const{initialValue:n=!1}=t,r=uk(t),a=j(()=>Fn(e)),i=j({get(){return r.value===a.value},set(o){var l,u;!o&&i.value&&((l=a.value)==null||l.blur()),o&&!i.value&&((u=a.value)==null||u.focus())}});return oe(a,()=>{i.value=n},{immediate:!0,flush:"post"}),{focused:i}}function mk(e,t,n={}){const{root:r,rootMargin:a="0px",threshold:i=.1,window:o=ka}=n,l=o&&"IntersectionObserver"in o;let u=jr;const s=l?oe(()=>({el:Fn(e),root:Fn(r)}),({el:f,root:v})=>{if(u(),!f)return;const S=new IntersectionObserver(t,{root:v,rootMargin:a,threshold:i});S.observe(f),u=()=>{S.disconnect(),u=jr}},{immediate:!0,flush:"post"}):jr,c=()=>{u(),s()};return Ol(c),{isSupported:l,stop:c}}function F0(e,t={}){const{threshold:n=50,onSwipe:r,onSwipeEnd:a,onSwipeStart:i,passive:o=!0,window:l=ka}=t,u=Me({x:0,y:0}),s=Me({x:0,y:0}),c=j(()=>u.x-s.x),f=j(()=>u.y-s.y),{max:v,abs:S}=Math,E=j(()=>v(S(c.value),S(f.value))>=n),m=q(!1),d=j(()=>E.value?S(c.value)>S(f.value)?c.value>0?"LEFT":"RIGHT":f.value>0?"UP":"DOWN":"NONE"),g=_=>[_.touches[0].clientX,_.touches[0].clientY],h=(_,T)=>{u.x=_,u.y=T},p=(_,T)=>{s.x=_,s.y=T};let b;const y=gk(l==null?void 0:l.document);o?b=y?{passive:!0}:{capture:!1}:b=y?{passive:!1,capture:!0}:{capture:!0};const C=_=>{m.value&&(a==null||a(_,d.value)),m.value=!1},w=[$n(e,"touchstart",_=>{b.capture&&!b.passive&&_.preventDefault();const[T,O]=g(_);h(T,O),p(T,O),i==null||i(_)},b),$n(e,"touchmove",_=>{const[T,O]=g(_);p(T,O),!m.value&&E.value&&(m.value=!0),m.value&&(r==null||r(_))},b),$n(e,"touchend",C,b),$n(e,"touchcancel",C,b)];return{isPassiveEventSupported:y,isSwiping:m,direction:d,coordsStart:u,coordsEnd:s,lengthX:c,lengthY:f,stop:()=>w.forEach(_=>_())}}function gk(e){if(!e)return!1;let t=!1;const n={get passive(){return t=!0,!1}};return e.addEventListener("x",jr,n),e.removeEventListener("x",jr),t}var Tv,Cv;Vo&&(window==null?void 0:window.navigator)&&((Tv=window==null?void 0:window.navigator)==null?void 0:Tv.platform)&&/iP(ad|hone|od)/.test((Cv=window==null?void 0:window.navigator)==null?void 0:Cv.platform);/**
 * tdesign v0.8.5
 * (c) 2022 TDesign Group
 * @license MIT
 */var Ev=function(t){if(!t)return{days:0,hours:0,minutes:0,seconds:0,milliseconds:0};var n=Math.floor(t/1e3);return{days:Math.floor(n/3600/24),hours:Math.floor(n/3600%24),minutes:Math.floor(n/60%60),seconds:n%60,milliseconds:t%1e3}},Vi=function(t){return t>=10?t:"0".concat(t)},Hi=function(t,n){var r,a,i,o,l;return t==null||(r=t.split)===null||r===void 0||(a=r.call(t,n))===null||a===void 0||(i=a[1])===null||i===void 0||(o=i.split)===null||o===void 0||(l=o.call(i,""))===null||l===void 0?void 0:l[0]},wv=function(t,n){var r,a,i,o,l,u,s;n=(r=n||"DD:HH:mm:ss")===null||r===void 0||(a=r.toUpperCase)===null||a===void 0?void 0:a.call(r);var c=[];return((i=n)===null||i===void 0?void 0:i.indexOf("DD"))>-1&&(c==null||c.push({mark:Hi(n,"DD"),value:Vi(t==null?void 0:t.days)})),((o=n)===null||o===void 0?void 0:o.indexOf("HH"))>-1&&(c==null||c.push({mark:Hi(n,"HH"),value:Vi(t==null?void 0:t.hours)})),((l=n)===null||l===void 0?void 0:l.indexOf("MM"))>-1&&(c==null||c.push({mark:Hi(n,"MM"),value:Vi(t==null?void 0:t.minutes)})),((u=n)===null||u===void 0?void 0:u.indexOf("SS"))>-1&&(c==null||c.push({mark:Hi(n,"SS"),value:Vi(t==null?void 0:t.seconds)})),((s=n)===null||s===void 0?void 0:s.indexOf("SSS"))>-1&&(c==null||c.push({mark:Hi(n,"SSS"),value:Vi(t==null?void 0:t.milliseconds)})),c},du=function(){var e,t,n=window,r=n.requestAnimationFrame,a=n.mozRequestAnimationFrame,i=n.webkitRequestAnimationFrame,o=(e=[r,a,i])===null||e===void 0||(t=e.find)===null||t===void 0?void 0:t.call(e,function(l){return l});if(!o){console.error("requestAnimationFrame is not supported!");return}return function(){var l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:50;if(!(l<1)){var u=0,s=Date.now();return new Promise(function(c){(function f(){o==null||o(function(){if(++u>=l){var v=Date.now()-s,S=u/v*1e3;return c(S)}f()})})()})}}}();/**
 * tdesign v0.8.5
 * (c) 2022 TDesign Group
 * @license MIT
 */function pk(e){var t=e||{},n=t.time,r=n===void 0?0:n,a=t.autoStart;t.millisecond;var i=t.format,o=i===void 0?"HH:mm:ss":i,l=t.onFinish,u=t.onChange,s=q(),c=q(Number(r)),f=Me(wv(Ev(r),o)),v=hk(Md(mi.mark(function m(){var d,g,h,p;return mi.wrap(function(y){for(;;)switch(y.prev=y.next){case 0:if(s.value){y.next=5;break}return y.next=3,du==null?void 0:du();case 3:h=y.sent,s.value=h||60;case 5:c.value=parseInt("".concat(Number(c.value)-1e3/s.value),10),c.value<=0&&(S==null||S(),c.value=0),p=Ev(c.value),u==null||u(p),c.value===0&&(l==null||l()),(d=wv(p,o))===null||d===void 0||(g=d.forEach)===null||g===void 0||g.call(d,function(C,w){return f[w].value=C==null?void 0:C.value});case 11:case"end":return y.stop()}},m)})),{immediate:a}),S=v.pause,E=v.resume;return{time:c,showTimes:f,pause:S,resume:E}}var yk=typeof mo=="object"&&mo&&mo.Object===Object&&mo,B0=yk,bk=B0,Sk=typeof self=="object"&&self&&self.Object===Object&&self,Tk=bk||Sk||Function("return this")(),Tr=Tk,Ck=Tr,Ek=Ck.Symbol,kl=Ek;function wk(e,t){for(var n=-1,r=e==null?0:e.length,a=Array(r);++n<r;)a[n]=t(e[n],n,e);return a}var Fd=wk,Ok=Array.isArray,Kr=Ok,Ov=kl,N0=Object.prototype,kk=N0.hasOwnProperty,_k=N0.toString,zi=Ov?Ov.toStringTag:void 0;function Ak(e){var t=kk.call(e,zi),n=e[zi];try{e[zi]=void 0;var r=!0}catch{}var a=_k.call(e);return r&&(t?e[zi]=n:delete e[zi]),a}var Dk=Ak,Pk=Object.prototype,Ik=Pk.toString;function Lk(e){return Ik.call(e)}var Rk=Lk,kv=kl,xk=Dk,$k=Rk,Mk="[object Null]",Fk="[object Undefined]",_v=kv?kv.toStringTag:void 0;function Bk(e){return e==null?e===void 0?Fk:Mk:_v&&_v in Object(e)?xk(e):$k(e)}var Ho=Bk;function Nk(e){return e!=null&&typeof e=="object"}var Ai=Nk,jk=Ho,Uk=Ai,Vk="[object Symbol]";function Hk(e){return typeof e=="symbol"||Uk(e)&&jk(e)==Vk}var _l=Hk,Av=kl,zk=Fd,Gk=Kr,Kk=_l,Wk=1/0,Dv=Av?Av.prototype:void 0,Pv=Dv?Dv.toString:void 0;function j0(e){if(typeof e=="string")return e;if(Gk(e))return zk(e,j0)+"";if(Kk(e))return Pv?Pv.call(e):"";var t=e+"";return t=="0"&&1/e==-Wk?"-0":t}var Yk=j0,qk=Yk;function Xk(e){return e==null?"":qk(e)}var zo=Xk;function Zk(e,t,n){var r=-1,a=e.length;t<0&&(t=-t>a?0:a+t),n=n>a?a:n,n<0&&(n+=a),a=t>n?0:n-t>>>0,t>>>=0;for(var i=Array(a);++r<a;)i[r]=e[r+t];return i}var Jk=Zk,Qk=Jk;function e_(e,t,n){var r=e.length;return n=n===void 0?r:n,!t&&n>=r?e:Qk(e,t,n)}var t_=e_,n_="\\ud800-\\udfff",r_="\\u0300-\\u036f",a_="\\ufe20-\\ufe2f",i_="\\u20d0-\\u20ff",o_=r_+a_+i_,s_="\\ufe0e\\ufe0f",l_="\\u200d",u_=RegExp("["+l_+n_+o_+s_+"]");function c_(e){return u_.test(e)}var U0=c_;function d_(e){return e.split("")}var f_=d_,V0="\\ud800-\\udfff",h_="\\u0300-\\u036f",v_="\\ufe20-\\ufe2f",m_="\\u20d0-\\u20ff",g_=h_+v_+m_,p_="\\ufe0e\\ufe0f",y_="["+V0+"]",wc="["+g_+"]",Oc="\\ud83c[\\udffb-\\udfff]",b_="(?:"+wc+"|"+Oc+")",H0="[^"+V0+"]",z0="(?:\\ud83c[\\udde6-\\uddff]){2}",G0="[\\ud800-\\udbff][\\udc00-\\udfff]",S_="\\u200d",K0=b_+"?",W0="["+p_+"]?",T_="(?:"+S_+"(?:"+[H0,z0,G0].join("|")+")"+W0+K0+")*",C_=W0+K0+T_,E_="(?:"+[H0+wc+"?",wc,z0,G0,y_].join("|")+")",w_=RegExp(Oc+"(?="+Oc+")|"+E_+C_,"g");function O_(e){return e.match(w_)||[]}var k_=O_,__=f_,A_=U0,D_=k_;function P_(e){return A_(e)?D_(e):__(e)}var I_=P_,L_=t_,R_=U0,x_=I_,$_=zo;function M_(e){return function(t){t=$_(t);var n=R_(t)?x_(t):void 0,r=n?n[0]:t.charAt(0),a=n?L_(n,1).join(""):t.slice(1);return r[e]()+a}}var F_=M_,B_=F_,N_=B_("toUpperCase"),j_=N_,U_=zo,V_=j_;function H_(e){return V_(U_(e).toLowerCase())}var z_=H_;function G_(e,t,n,r){var a=-1,i=e==null?0:e.length;for(r&&i&&(n=e[++a]);++a<i;)n=t(n,e[a],a,e);return n}var K_=G_;function W_(e){return function(t){return e==null?void 0:e[t]}}var Y_=W_,q_=Y_,X_={\u00C0:"A",\u00C1:"A",\u00C2:"A",\u00C3:"A",\u00C4:"A",\u00C5:"A",\u00E0:"a",\u00E1:"a",\u00E2:"a",\u00E3:"a",\u00E4:"a",\u00E5:"a",\u00C7:"C",\u00E7:"c",\u00D0:"D",\u00F0:"d",\u00C8:"E",\u00C9:"E",\u00CA:"E",\u00CB:"E",\u00E8:"e",\u00E9:"e",\u00EA:"e",\u00EB:"e",\u00CC:"I",\u00CD:"I",\u00CE:"I",\u00CF:"I",\u00EC:"i",\u00ED:"i",\u00EE:"i",\u00EF:"i",\u00D1:"N",\u00F1:"n",\u00D2:"O",\u00D3:"O",\u00D4:"O",\u00D5:"O",\u00D6:"O",\u00D8:"O",\u00F2:"o",\u00F3:"o",\u00F4:"o",\u00F5:"o",\u00F6:"o",\u00F8:"o",\u00D9:"U",\u00DA:"U",\u00DB:"U",\u00DC:"U",\u00F9:"u",\u00FA:"u",\u00FB:"u",\u00FC:"u",\u00DD:"Y",\u00FD:"y",\u00FF:"y",\u00C6:"Ae",\u00E6:"ae",\u00DE:"Th",\u00FE:"th",\u00DF:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010A:"C",\u010C:"C",\u0107:"c",\u0109:"c",\u010B:"c",\u010D:"c",\u010E:"D",\u0110:"D",\u010F:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011A:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011B:"e",\u011C:"G",\u011E:"G",\u0120:"G",\u0122:"G",\u011D:"g",\u011F:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012A:"I",\u012C:"I",\u012E:"I",\u0130:"I",\u0129:"i",\u012B:"i",\u012D:"i",\u012F:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013B:"L",\u013D:"L",\u013F:"L",\u0141:"L",\u013A:"l",\u013C:"l",\u013E:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014A:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014B:"n",\u014C:"O",\u014E:"O",\u0150:"O",\u014D:"o",\u014F:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015A:"S",\u015C:"S",\u015E:"S",\u0160:"S",\u015B:"s",\u015D:"s",\u015F:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016A:"U",\u016C:"U",\u016E:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016B:"u",\u016D:"u",\u016F:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017B:"Z",\u017D:"Z",\u017A:"z",\u017C:"z",\u017E:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017F:"s"},Z_=q_(X_),J_=Z_,Q_=J_,eA=zo,tA=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,nA="\\u0300-\\u036f",rA="\\ufe20-\\ufe2f",aA="\\u20d0-\\u20ff",iA=nA+rA+aA,oA="["+iA+"]",sA=RegExp(oA,"g");function lA(e){return e=eA(e),e&&e.replace(tA,Q_).replace(sA,"")}var uA=lA,cA=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g;function dA(e){return e.match(cA)||[]}var fA=dA,hA=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;function vA(e){return hA.test(e)}var mA=vA,Y0="\\ud800-\\udfff",gA="\\u0300-\\u036f",pA="\\ufe20-\\ufe2f",yA="\\u20d0-\\u20ff",bA=gA+pA+yA,q0="\\u2700-\\u27bf",X0="a-z\\xdf-\\xf6\\xf8-\\xff",SA="\\xac\\xb1\\xd7\\xf7",TA="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",CA="\\u2000-\\u206f",EA=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Z0="A-Z\\xc0-\\xd6\\xd8-\\xde",wA="\\ufe0e\\ufe0f",J0=SA+TA+CA+EA,Q0="['\u2019]",Iv="["+J0+"]",OA="["+bA+"]",eb="\\d+",kA="["+q0+"]",tb="["+X0+"]",nb="[^"+Y0+J0+eb+q0+X0+Z0+"]",_A="\\ud83c[\\udffb-\\udfff]",AA="(?:"+OA+"|"+_A+")",DA="[^"+Y0+"]",rb="(?:\\ud83c[\\udde6-\\uddff]){2}",ab="[\\ud800-\\udbff][\\udc00-\\udfff]",ri="["+Z0+"]",PA="\\u200d",Lv="(?:"+tb+"|"+nb+")",IA="(?:"+ri+"|"+nb+")",Rv="(?:"+Q0+"(?:d|ll|m|re|s|t|ve))?",xv="(?:"+Q0+"(?:D|LL|M|RE|S|T|VE))?",ib=AA+"?",ob="["+wA+"]?",LA="(?:"+PA+"(?:"+[DA,rb,ab].join("|")+")"+ob+ib+")*",RA="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",xA="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",$A=ob+ib+LA,MA="(?:"+[kA,rb,ab].join("|")+")"+$A,FA=RegExp([ri+"?"+tb+"+"+Rv+"(?="+[Iv,ri,"$"].join("|")+")",IA+"+"+xv+"(?="+[Iv,ri+Lv,"$"].join("|")+")",ri+"?"+Lv+"+"+Rv,ri+"+"+xv,xA,RA,eb,MA].join("|"),"g");function BA(e){return e.match(FA)||[]}var NA=BA,jA=fA,UA=mA,VA=zo,HA=NA;function zA(e,t,n){return e=VA(e),t=n?void 0:t,t===void 0?UA(e)?HA(e):jA(e):e.match(t)||[]}var GA=zA,KA=K_,WA=uA,YA=GA,qA="['\u2019]",XA=RegExp(qA,"g");function ZA(e){return function(t){return KA(YA(WA(t).replace(XA,"")),e,"")}}var JA=ZA,QA=z_,eD=JA,tD=eD(function(e,t,n){return t=t.toLowerCase(),e+(n?QA(t):t)}),Bd=tD;/**
 * tdesign v0.8.5
 * (c) 2022 TDesign Group
 * @license MIT
 */function nD(e){var t=Bd(e);return"default".concat(t[0].toLocaleUpperCase()+t.slice(1))}function rD(e){var t=Bd(e);return"on".concat(t[0].toLocaleUpperCase()).concat(t.slice(1))}function Vt(e,t,n,r){var a="modelValue",i=nD(String(n)),o=e[a]!==void 0,l=e[n]!==void 0,u=q();l?u.value=e[n]:o?u.value=e[a]:u.value=e[i],yl(function(){o&&(u.value=e[a]),l&&(u.value=e[n])});function s(v){for(var S,E=arguments.length,m=new Array(E>1?E-1:0),d=1;d<E;d++)m[d-1]=arguments[d];var g=["update:".concat(n)];o&&g.push("update:modelValue"),g.forEach(function(p){t.apply(void 0,[p,v].concat(m))});var h=rD(r);(S=e[h])===null||S===void 0||S.call.apply(S,[e,v].concat(m))}function c(v){!l&&!o&&(u.value=v);for(var S=arguments.length,E=new Array(S>1?S-1:0),m=1;m<S;m++)E[m-1]=arguments[m];s.apply(void 0,[v].concat(E))}var f=j({get:function(){return u.value},set:function(S){c(S)}});return[f,c]}/**
 * tdesign v0.8.5
 * (c) 2022 TDesign Group
 * @license MIT
 */function pt(e,t){return function(r){var a="";typeof r=="string"&&(a=Bd("on-".concat(r)));for(var i=arguments.length,o=new Array(i>1?i-1:0),l=1;l<i;l++)o[l-1]=arguments[l];typeof e[a]=="function"?e[a].apply(e,o):t.apply(void 0,[r].concat(o))}}function kc(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function aD(e){if(Array.isArray(e))return kc(e)}function iD(e){if(typeof Symbol!="undefined"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function sb(e,t){if(!!e){if(typeof e=="string")return kc(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return kc(e,t)}}function oD(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Nt(e){return aD(e)||iD(e)||sb(e)||oD()}/**
 * tdesign v0.8.5
 * (c) 2022 TDesign Group
 * @license MIT
 */function sD(e,t){var n=function i(o){var l=[];return Array.isArray(o)&&o.forEach(function(u){if(hi(u)){var s;l.push(u),(s=u.component)!==null&&s!==void 0&&s.subTree&&(l.push(u.component.subTree),l.push.apply(l,Nt(i(u.component.subTree.children)))),u.children&&l.push.apply(l,Nt(i(u.children)))}}),l},r=[];if(t!==void 0)r.push.apply(r,Nt(n(t)));else{var a;r.push.apply(r,Nt(n((a=Be())===null||a===void 0?void 0:a.subTree.children)))}return r.filter(function(i){var o;return((o=i.type)===null||o===void 0?void 0:o.name)===e})}/**
 * tdesign v0.8.5
 * (c) 2022 TDesign Group
 * @license MIT
 */function lD(e,t,n,r){var a=Be(),i=a.emit,o=q();return o.value=n,typeof e.value!="undefined"?[e,r||function(){}]:typeof t.value!="undefined"?[t,function(l){for(var u=arguments.length,s=new Array(u>1?u-1:0),c=1;c<u;c++)s[c-1]=arguments[c];i==null||i.apply(void 0,["update:modelValue",l].concat(s)),r==null||r.apply(void 0,[l].concat(s))}]:[o,function(l){o.value=l;for(var u=arguments.length,s=new Array(u>1?u-1:0),c=1;c<u;c++)s[c-1]=arguments[c];r==null||r.apply(void 0,[l].concat(s))}]}/**
 * tdesign v0.8.5
 * (c) 2022 TDesign Group
 * @license MIT
 */var uD={block:Boolean,content:{type:[String,Function]},disabled:Boolean,ghost:Boolean,icon:{type:Function},loading:Boolean,shape:{type:String,default:"square",validator:function(t){return t?["square","round"].includes(t):!0}},size:{type:String,default:"medium",validator:function(t){return t?["small","medium","large"].includes(t):!0}},theme:{type:String,default:"default",validator:function(t){return t?["default","primary","danger"].includes(t):!0}},variant:{type:String,default:"base",validator:function(t){return t?["base","outline","text"].includes(t):!0}},onClick:Function};/**
 * tdesign v0.8.5
 * (c) 2022 TDesign Group
 * @license MIT
 */function $v(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Mv(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?$v(Object(n),!0).forEach(function(r){te(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$v(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var lb=De.prefix,oa="".concat(lb,"-button"),ub=ee({name:oa,components:{TNode:st},props:uD,emits:["click"],setup:function(t,n){var r=pt(t,n.emit),a=Be(),i=j(function(){var s;return["".concat(oa),t.size?Mt.SIZE[t.size]:"","".concat(oa,"--").concat(t.variant),(s={},te(s,"".concat(oa,"--").concat(t.theme),t.theme),te(s,"".concat(oa,"--").concat(t.shape),t.shape),te(s,"".concat(oa,"--ghost"),t.ghost),te(s,"".concat(lb,"-size-full-width"),t.block),te(s,Mt.STATUS.disabled,t.disabled),te(s,Mt.STATUS.loading,t.loading),s)]}),o=j(function(){return Xt(a,"default","content")}),l=j(function(){return t.loading?yt(P0):ze(a,"icon")}),u=function(c){!t.loading&&!t.disabled?r("click",c):c.stopPropagation()};return Mv(Mv({name:oa},He(t)),{},{buttonContent:o,iconContent:l,buttonClass:i,onClick:u})}}),cD=["disabled","aria-disabled"];function dD(e,t,n,r,a,i){var o=ge("t-node");return H(),W("button",{class:z(e.buttonClass),disabled:e.disabled,role:"button","aria-disabled":e.disabled,onClick:t[0]||(t[0]=function(){return e.onClick&&e.onClick.apply(e,arguments)})},[R(o,{content:e.iconContent},null,8,["content"]),J("span",{class:z("".concat(e.name,"__text"))},[R(o,{content:e.buttonContent},null,8,["content"])],2)],10,cD)}ub.render=dD;/**
 * tdesign v0.8.5
 * (c) 2022 TDesign Group
 * @license MIT
 */var _a=Le(ub);/**
 * tdesign v0.8.5
 * (c) 2022 TDesign Group
 * @license MIT
 */var fD=De.prefix,fu="".concat(fD,"-button-group"),cb=ee({name:fu,props:{type:{type:String,default:"default"}},setup:function(t){var n=j(function(){return["".concat(fu),"".concat(fu,"--").concat(t.type)]});return{classes:n}}});function hD(e,t,n,r,a,i){return H(),W("div",{class:z(e.classes)},[Ye(e.$slots,"default")],2)}cb.render=hD;/**
 * tdesign v0.8.5
 * (c) 2022 TDesign Group
 * @license MIT
 */var vD=Le(cb);/**
 * tdesign v0.8.5
 * (c) 2022 TDesign Group
 * @license MIT
 */var mD={align:{type:String,default:"center",validator:function(t){return t?["left","right","center"].includes(t):!0}},content:{type:[String,Function]},dashed:Boolean,default:{type:[String,Function]},layout:{type:String,default:"horizontal",validator:function(t){return t?["horizontal","vertical"].includes(t):!0}},lineColor:{type:String,default:""}};/**
 * tdesign v0.8.5
 * (c) 2022 TDesign Group
 * @license MIT
 */function Fv(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Bv(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Fv(Object(n),!0).forEach(function(r){te(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Fv(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var gD=De.prefix,$a="".concat(gD,"-divider"),db=ee({name:$a,components:{TNode:st},props:mD,setup:function(t){var n=Be(),r=j(function(){return Xt(n,"default","content")}),a=j(function(){var i;return["".concat($a),"".concat($a,"--hairline"),(i={},te(i,"".concat($a,"--content-").concat(t.align),r.value),te(i,"".concat($a,"--dashed"),t.dashed),te(i,"".concat($a,"-vertical"),t.layout==="vertical"),i)]});return Bv(Bv({},He(t)),{},{dividerContent:r,dividerClass:a})}});function pD(e,t,n,r,a,i){var o=ge("t-node");return H(),W("div",{role:"separator",class:z(e.dividerClass),style:Ae("border-color:".concat(e.lineColor))},[R(o,{content:e.dividerContent},null,8,["content"])],6)}db.render=pD;/**
 * tdesign v0.8.5
 * (c) 2022 TDesign Group
 * @license MIT
 */var yD=Le(db);/**
 * tdesign v0.8.5
 * (c) 2022 TDesign Group
 * @license MIT
 */var bD={align:{type:String,default:"middle",validator:function(t){return t?["top","middle","bottom"].includes(t):!0}},arrow:Boolean,bordered:{type:Boolean,default:!0},description:{type:[String,Function]},hover:Boolean,image:{type:[String,Function]},leftIcon:{type:Function},note:{type:[String,Function]},required:Boolean,rightIcon:{type:Function},title:{type:[String,Function]},onClick:Function};/**
 * tdesign v0.8.5
 * (c) 2022 TDesign Group
 * @license MIT
 */function Nv(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function jv(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Nv(Object(n),!0).forEach(function(r){te(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Nv(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var SD=De.prefix,Ma="".concat(SD,"-cell"),fb=ee({name:Ma,components:{TNode:st},props:bD,emits:["click"],setup:function(t,n){var r=pt(t,n.emit),a=Be(),i=j(function(){return Xt(a,"default","note")}),o=j(function(){return ze(a,"title")}),l=j(function(){return ze(a,"description")}),u=j(function(){return t.arrow?yt(_0):ze(a,"rightIcon")}),s=j(function(){return ze(a,"leftIcon")}),c=j(function(){var v;return["".concat(Ma),"".concat(Ma,"--").concat(t.align),(v={},te(v,"".concat(Ma,"--hover"),t.hover),te(v,"".concat(Ma,"--bordered"),t.bordered),v)]}),f=function(S){return r("click",S)};return jv(jv({},He(t)),{},{name:Ma,onClick:f,styleCell:c,rightIconContent:u,leftIconContent:s,noteContent:i,titleContent:o,descriptionContent:l})}});function TD(e,t,n,r,a,i){var o=ge("t-node");return H(),W("div",{class:z(e.styleCell),onClick:t[0]||(t[0]=function(){return e.onClick&&e.onClick.apply(e,arguments)})},[e.leftIconContent?(H(),W("div",{key:0,class:z("".concat(e.name,"__left-icon"))},[R(o,{content:e.leftIconContent},null,8,["content"])],2)):se("",!0),e.titleContent?(H(),W("div",{key:1,class:z("".concat(e.name,"__title"))},[R(o,{content:e.titleContent},null,8,["content"]),e.required?(H(),W("span",{key:0,class:z("".concat(e.name,"--required"))},"\xA0*",2)):se("",!0),e.descriptionContent?(H(),W("div",{key:1,class:z("".concat(e.name,"__description"))},[R(o,{content:e.descriptionContent},null,8,["content"])],2)):se("",!0)],2)):se("",!0),e.noteContent?(H(),W("div",{key:2,class:z("".concat(e.name,"__note"))},[R(o,{content:e.noteContent},null,8,["content"])],2)):se("",!0),e.rightIconContent?(H(),W("div",{key:3,class:z("".concat(e.name,"__right-icon"))},[R(o,{content:e.rightIconContent},null,8,["content"])],2)):se("",!0)],2)}fb.render=TD;/**
 * tdesign v0.8.5
 * (c) 2022 TDesign Group
 * @license MIT
 */var Nd=Le(fb);/**
 * tdesign v0.8.5
 * (c) 2022 TDesign Group
 * @license MIT
 */var CD={bordered:Boolean,title:{type:String,default:""}};/**
 * tdesign v0.8.5
 * (c) 2022 TDesign Group
 * @license MIT
 */var ED=De.prefix,Uv="".concat(ED,"-cell-group"),hb=ee({name:Uv,props:CD,setup:function(){return{name:Uv}}});function wD(e,t,n,r,a,i){var o;return H(),W("div",{class:z(e.name)},[e.title?(H(),W("div",{key:0,class:z("".concat(e.name,"__title"))},[Ye(e.$slots,"title",{},function(){return[et(_e(e.title),1)]})],2)):se("",!0),J("div",{class:z((o={},te(o,"".concat(e.name,"__container"),!0),te(o,"border--top-bottom",e.bordered),o))},[Ye(e.$slots,"default")],2)],2)}hb.render=wD;/**
 * tdesign v0.8.5
 * (c) 2022 TDesign Group
 * @license MIT
 */var OD=Le(hb);function kD(e){if(Array.isArray(e))return e}function _D(e,t){var n=e==null?null:typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r=[],a=!0,i=!1,o,l;try{for(n=n.call(e);!(a=(o=n.next()).done)&&(r.push(o.value),!(t&&r.length===t));a=!0);}catch(u){i=!0,l=u}finally{try{!a&&n.return!=null&&n.return()}finally{if(i)throw l}}return r}}function AD(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ot(e,t){return kD(e)||_D(e,t)||sb(e,t)||AD()}/**
 * tdesign v0.8.5
 * (c) 2022 TDesign Group
 * @license MIT
 */var DD={align:{type:String,default:"left",validator:function(t){return t?["left","right"].includes(t):!0}},checkAll:Boolean,checked:{type:Boolean,default:void 0},modelValue:{type:Boolean,default:void 0},defaultChecked:Boolean,content:{type:[String,Function]},contentDisabled:Boolean,default:{type:[String,Function]},disabled:{type:Boolean,default:void 0},icon:{type:Array},indeterminate:Boolean,label:{type:[String,Function]},maxContentRow:{type:Number,default:5},maxLabelRow:{type:Number,default:3},name:{type:String,default:""},readonly:Boolean,value:{type:[String,Number]},onChange:Function};/**
 * tdesign v0.8.5
 * (c) 2022 TDesign Group
 * @license MIT
 */function Vv(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Hv(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Vv(Object(n),!0).forEach(function(r){te(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Vv(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var PD=De.prefix,zv="".concat(PD,"-checkbox"),jd=ee({name:zv,components:{TNode:st,MinusCircleFilledIcon:ZO},props:DD,emits:["update:checked","update:modelValue","change"],setup:function(t,n){var r=zv,a=t.icon||[yt(xd),yt(A0)],i=Vt(t,n.emit,"checked","change"),o=Ot(i,2),l=o[0],u=o[1],s=Be(),c=Qe("checkboxGroup",void 0),f=j(function(){return Xt(s,"label","default")}),v=j(function(){return t.checkAll&&c!==void 0?c.indeterminate.value:t.indeterminate}),S=j(function(){return t.checkAll?c==null?void 0:c.isCheckAll.value:c!==void 0&&t.value!==void 0?!!c.checkedMap.value[t.value]:l.value}),E=j(function(){return t.disabled!==void 0?t.disabled:!!(c!=null&&c.disabled.value)}),m=j(function(){var g;return["".concat(r),(g={},te(g,Mt.STATUS.checked,S.value),te(g,Mt.STATUS.disabled,E.value),te(g,Mt.STATUS.indeterminate,v.value),g)]}),d=function(h,p){if(!E.value&&!(p==="content"&&t.contentDisabled)){var b=!S.value;u(b,{e:h}),h.stopPropagation(),c&&c!==null&&c!==void 0&&c.onCheckedChange&&c.onCheckedChange({checked:b,checkAll:t.checkAll,e:h,option:t})}};return Hv(Hv({},He(t)),{},{isChecked:S,checkIcons:a,labelContent:f,isDisabled:E,flagName:r,componentClass:m,indeterminate:v,handleChange:d})}}),ID=["name","value","disabled","readonly","checked","indeterminate"],LD=["name","value","disabled","readonly","checked","indeterminate"];function RD(e,t,n,r,a,i){var o,l=ge("t-node"),u=ge("minus-circle-filled-icon");return H(),W("div",{class:z(e.componentClass)},[J("div",{class:z("".concat(e.flagName,"__content-wrap"))},[e.align==="left"?(H(),W("span",{key:0,class:z("".concat(e.flagName,"__icon-left"))},[J("input",{type:"checkbox",name:e.name,class:z("".concat(e.flagName,"__original-left")),value:e.value,disabled:e.isDisabled,readonly:e.readonly,checked:e.isChecked,indeterminate:e.indeterminate,onClick:t[0]||(t[0]=function(){return e.handleChange&&e.handleChange.apply(e,arguments)})},null,10,ID),e.indeterminate?(H(),Oe(u,{key:1})):(H(),Oe(l,{key:0,content:e.checkIcons[e.isChecked?0:1]},null,8,["content"]))],2)):se("",!0),e.labelContent?(H(),W("span",{key:1,class:z((o={},te(o,"".concat(e.flagName,"__label"),!0),te(o,"".concat(e.flagName,"__label-left"),e.align==="right"),o)),onClick:t[1]||(t[1]=function(s){return e.handleChange(s,"content")})},[R(l,{content:e.labelContent},null,8,["content"])],2)):se("",!0),e.align==="right"?(H(),W("span",{key:2,class:z("".concat(e.flagName,"__icon-right"))},[J("input",{type:"checkbox",name:e.name,class:z("".concat(e.flagName,"__original-right")),value:e.value,disabled:e.isDisabled,readonly:e.readonly,checked:e.isChecked,indeterminate:e.indeterminate,onClick:t[2]||(t[2]=function(){return e.handleChange&&e.handleChange.apply(e,arguments)})},null,10,LD),e.indeterminate?(H(),Oe(u,{key:1})):(H(),Oe(l,{key:0,content:e.checkIcons[e.isChecked?0:1]},null,8,["content"]))],2)):se("",!0)],2)],2)}jd.render=RD;/**
 * tdesign v0.8.5
 * (c) 2022 TDesign Group
 * @license MIT
 */var vb=Le(jd);function xD(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var Al=xD,$D=Ho,MD=Al,FD="[object AsyncFunction]",BD="[object Function]",ND="[object GeneratorFunction]",jD="[object Proxy]";function UD(e){if(!MD(e))return!1;var t=$D(e);return t==BD||t==ND||t==FD||t==jD}var mb=UD,VD=Tr,HD=VD["__core-js_shared__"],zD=HD,hu=zD,Gv=function(){var e=/[^.]+$/.exec(hu&&hu.keys&&hu.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function GD(e){return!!Gv&&Gv in e}var KD=GD,WD=Function.prototype,YD=WD.toString;function qD(e){if(e!=null){try{return YD.call(e)}catch{}try{return e+""}catch{}}return""}var gb=qD,XD=mb,ZD=KD,JD=Al,QD=gb,eP=/[\\^$.*+?()[\]{}|]/g,tP=/^\[object .+?Constructor\]$/,nP=Function.prototype,rP=Object.prototype,aP=nP.toString,iP=rP.hasOwnProperty,oP=RegExp("^"+aP.call(iP).replace(eP,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function sP(e){if(!JD(e)||ZD(e))return!1;var t=XD(e)?oP:tP;return t.test(QD(e))}var lP=sP;function uP(e,t){return e==null?void 0:e[t]}var cP=uP,dP=lP,fP=cP;function hP(e,t){var n=fP(e,t);return dP(n)?n:void 0}var Aa=hP,vP=Aa,mP=vP(Object,"create"),Dl=mP,Kv=Dl;function gP(){this.__data__=Kv?Kv(null):{},this.size=0}var pP=gP;function yP(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var bP=yP,SP=Dl,TP="__lodash_hash_undefined__",CP=Object.prototype,EP=CP.hasOwnProperty;function wP(e){var t=this.__data__;if(SP){var n=t[e];return n===TP?void 0:n}return EP.call(t,e)?t[e]:void 0}var OP=wP,kP=Dl,_P=Object.prototype,AP=_P.hasOwnProperty;function DP(e){var t=this.__data__;return kP?t[e]!==void 0:AP.call(t,e)}var PP=DP,IP=Dl,LP="__lodash_hash_undefined__";function RP(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=IP&&t===void 0?LP:t,this}var xP=RP,$P=pP,MP=bP,FP=OP,BP=PP,NP=xP;function Di(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Di.prototype.clear=$P;Di.prototype.delete=MP;Di.prototype.get=FP;Di.prototype.has=BP;Di.prototype.set=NP;var jP=Di;function UP(){this.__data__=[],this.size=0}var VP=UP;function HP(e,t){return e===t||e!==e&&t!==t}var pb=HP,zP=pb;function GP(e,t){for(var n=e.length;n--;)if(zP(e[n][0],t))return n;return-1}var Pl=GP,KP=Pl,WP=Array.prototype,YP=WP.splice;function qP(e){var t=this.__data__,n=KP(t,e);if(n<0)return!1;var r=t.length-1;return n==r?t.pop():YP.call(t,n,1),--this.size,!0}var XP=qP,ZP=Pl;function JP(e){var t=this.__data__,n=ZP(t,e);return n<0?void 0:t[n][1]}var QP=JP,eI=Pl;function tI(e){return eI(this.__data__,e)>-1}var nI=tI,rI=Pl;function aI(e,t){var n=this.__data__,r=rI(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this}var iI=aI,oI=VP,sI=XP,lI=QP,uI=nI,cI=iI;function Pi(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Pi.prototype.clear=oI;Pi.prototype.delete=sI;Pi.prototype.get=lI;Pi.prototype.has=uI;Pi.prototype.set=cI;var Il=Pi,dI=Aa,fI=Tr,hI=dI(fI,"Map"),Ud=hI,Wv=jP,vI=Il,mI=Ud;function gI(){this.size=0,this.__data__={hash:new Wv,map:new(mI||vI),string:new Wv}}var pI=gI;function yI(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var bI=yI,SI=bI;function TI(e,t){var n=e.__data__;return SI(t)?n[typeof t=="string"?"string":"hash"]:n.map}var Ll=TI,CI=Ll;function EI(e){var t=CI(this,e).delete(e);return this.size-=t?1:0,t}var wI=EI,OI=Ll;function kI(e){return OI(this,e).get(e)}var _I=kI,AI=Ll;function DI(e){return AI(this,e).has(e)}var PI=DI,II=Ll;function LI(e,t){var n=II(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this}var RI=LI,xI=pI,$I=wI,MI=_I,FI=PI,BI=RI;function Ii(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Ii.prototype.clear=xI;Ii.prototype.delete=$I;Ii.prototype.get=MI;Ii.prototype.has=FI;Ii.prototype.set=BI;var Vd=Ii,NI="__lodash_hash_undefined__";function jI(e){return this.__data__.set(e,NI),this}var UI=jI;function VI(e){return this.__data__.has(e)}var HI=VI,zI=Vd,GI=UI,KI=HI;function Js(e){var t=-1,n=e==null?0:e.length;for(this.__data__=new zI;++t<n;)this.add(e[t])}Js.prototype.add=Js.prototype.push=GI;Js.prototype.has=KI;var yb=Js;function WI(e,t,n,r){for(var a=e.length,i=n+(r?1:-1);r?i--:++i<a;)if(t(e[i],i,e))return i;return-1}var bb=WI;function YI(e){return e!==e}var qI=YI;function XI(e,t,n){for(var r=n-1,a=e.length;++r<a;)if(e[r]===t)return r;return-1}var ZI=XI,JI=bb,QI=qI,eL=ZI;function tL(e,t,n){return t===t?eL(e,t,n):JI(e,QI,n)}var nL=tL,rL=nL;function aL(e,t){var n=e==null?0:e.length;return!!n&&rL(e,t,0)>-1}var iL=aL;function oL(e,t,n){for(var r=-1,a=e==null?0:e.length;++r<a;)if(n(t,e[r]))return!0;return!1}var sL=oL;function lL(e){return function(t){return e(t)}}var Sb=lL;function uL(e,t){return e.has(t)}var Tb=uL,cL=yb,dL=iL,fL=sL,hL=Fd,vL=Sb,Yv=Tb,mL=Math.min;function gL(e,t,n){for(var r=n?fL:dL,a=e[0].length,i=e.length,o=i,l=Array(i),u=1/0,s=[];o--;){var c=e[o];o&&t&&(c=hL(c,vL(t))),u=mL(c.length,u),l[o]=!n&&(t||a>=120&&c.length>=120)?new cL(o&&c):void 0}c=e[0];var f=-1,v=l[0];e:for(;++f<a&&s.length<u;){var S=c[f],E=t?t(S):S;if(S=n||S!==0?S:0,!(v?Yv(v,E):r(s,E,n))){for(o=i;--o;){var m=l[o];if(!(m?Yv(m,E):r(e[o],E,n)))continue e}v&&v.push(E),s.push(S)}}return s}var pL=gL;function yL(e){return e}var Hd=yL;function bL(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}var SL=bL,TL=SL,qv=Math.max;function CL(e,t,n){return t=qv(t===void 0?e.length-1:t,0),function(){for(var r=arguments,a=-1,i=qv(r.length-t,0),o=Array(i);++a<i;)o[a]=r[t+a];a=-1;for(var l=Array(t+1);++a<t;)l[a]=r[a];return l[t]=n(o),TL(e,this,l)}}var EL=CL;function wL(e){return function(){return e}}var OL=wL,kL=Aa,_L=function(){try{var e=kL(Object,"defineProperty");return e({},"",{}),e}catch{}}(),AL=_L,DL=OL,Xv=AL,PL=Hd,IL=Xv?function(e,t){return Xv(e,"toString",{configurable:!0,enumerable:!1,value:DL(t),writable:!0})}:PL,LL=IL,RL=800,xL=16,$L=Date.now;function ML(e){var t=0,n=0;return function(){var r=$L(),a=xL-(r-n);if(n=r,a>0){if(++t>=RL)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var FL=ML,BL=LL,NL=FL,jL=NL(BL),UL=jL,VL=Hd,HL=EL,zL=UL;function GL(e,t){return zL(HL(e,t,VL),e+"")}var KL=GL,WL=9007199254740991;function YL(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=WL}var zd=YL,qL=mb,XL=zd;function ZL(e){return e!=null&&XL(e.length)&&!qL(e)}var Cb=ZL,JL=Cb,QL=Ai;function eR(e){return QL(e)&&JL(e)}var tR=eR,nR=tR;function rR(e){return nR(e)?e:[]}var aR=rR,iR=Fd,oR=pL,sR=KL,lR=aR,uR=sR(function(e){var t=iR(e,lR);return t.length&&t[0]===e[0]?oR(t):[]}),cR=uR;/**
 * tdesign v0.8.5
 * (c) 2022 TDesign Group
 * @license MIT
 */var dR={disabled:Boolean,max:{type:Number,default:void 0},name:{type:String,default:""},options:{type:Array,default:function(){return[]}},value:{type:Array,default:void 0},modelValue:{type:Array,default:void 0},defaultValue:{type:Array,default:function(){return[]}},onChange:Function};/**
 * tdesign v0.8.5
 * (c) 2022 TDesign Group
 * @license MIT
 */function Zv(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function vu(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Zv(Object(n),!0).forEach(function(r){te(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Zv(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var Eb=De.prefix,fR="".concat(Eb,"-checkbox-group"),wb=ee({name:fR,components:{Checkbox:jd},props:dR,emits:["update:value","update:modelValue","change"],setup:function(t,n){var r=He(t),a=r.options,i=Vt(t,n.emit,"value","change"),o=Ot(i,2),l=o[0],u=o[1],s=q({}),c=q([]),f=j(function(){var y,C=(y=c.value)===null||y===void 0?void 0:y.map(function(k){return k.value});if(l.value instanceof Array){var w=cR(l.value,C);return w.length}return 0}),v=j(function(){return l.value instanceof Array&&l.value.length!==c.value.length-1?!1:f.value===c.value.length-1}),S=j(function(){return!v.value&&f.value<c.value.length&&f.value!==0}),E=j(function(){return l.value instanceof Array?l.value.join():""});oe(E,function(){if(l.value instanceof Array){var y={};l.value.forEach(function(C){y[C]=!0}),s.value=y}},{immediate:!0}),oe(a,function(y){if(!y)return[];c.value=y.map(function(C){var w={};return jt(C)!=="object"?w={label:String(C),value:C}:(w=vu({},C),w.disabled=w.disabled===void 0?t.disabled:w.disabled),w})},{immediate:!0});var m=j(function(){return t.max!==void 0&&l.value.length===t.max}),d=function(C){var w=C.checked,k=C.checkAll,_=C.e;k?b(w,{e:_}):h(C)},g=function(C){var w=[];return C==null||C.forEach(function(k){var _=k.props;((_==null?void 0:_["check-all"])===""||(_==null?void 0:_["check-all"])===!0)&&(_.checkAll=!0),_&&w.push(_)}),w};tt(function(){var y=n.slots.default&&n.slots.default();y!==void 0&&(c.value=g(sD("t-checkbox")))});var h=function(C){var w=C.option.value;if(l.value instanceof Array){if(w===void 0)return;var k=Nt(l.value);if(C.checked)k.push(w);else{var _=k.indexOf(w);k.splice(_,1)}u(k,{e:C.e,current:C.option.value,type:C.checked?"check":"uncheck"})}else console.warn("TDesign CheckboxGroup Warn: `value` must be an array, instead of ".concat(jt(l.value)))},p=function(){for(var C=new Set,w=0,k=c.value.length;w<k;w++){var _=c.value[w];if(!_.checkAll&&_.value!==void 0&&(C.add(_.value),m.value))break}return Nt(C)},b=function(C,w){var k=C?p():[];u(k,{e:w.e,type:C?"check":"uncheck",current:void 0})};return ct("checkboxGroup",vu(vu({},He(t)),{},{groupCheckValue:l,indeterminate:S,isCheckAll:v,checkedMap:s,onCheckedChange:d})),{prefix:Eb,optionList:c}}}),hR={key:1};function vR(e,t,n,r,a,i){var o=ge("checkbox");return H(),W("div",{class:z("".concat(e.prefix,"-checkbox-group"))},[e.options&&e.options.length?(H(),W("span",hR,[(H(!0),W(Te,null,Ne(e.optionList,function(l,u){return H(),Oe(o,{key:u,name:l.name,label:l.label,value:l.value,"check-all":l.checkAll},null,8,["name","label","value","check-all"])}),128))])):Ye(e.$slots,"default",{key:0})],2)}wb.render=vR;/**
 * tdesign v0.8.5
 * (c) 2022 TDesign Group
 * @license MIT
 */var Ob=Le(wb);/**
 * tdesign v0.8.5
 * (c) 2022 TDesign Group
 * @license MIT
 */var mR={align:{type:String,default:"left",validator:function(t){return["left","center","right"].includes(t)}},autocomplete:Boolean,autofocus:Boolean,clearable:Boolean,disabled:Boolean,errorMessage:{type:String,default:""},label:{type:[String,Function]},maxcharacter:{type:Number},maxlength:{type:Number},name:{type:String,default:""},placeholder:{type:String,default:void 0},prefixIcon:{type:Function},readonly:Boolean,required:Boolean,size:{type:String,default:"small",validator:function(t){return["small","medium"].includes(t)}},suffix:{type:[String,Function]},suffixIcon:{type:Function},type:{type:String,default:"text",validator:function(t){return["text","number","url","tel","password","search","submit","hidden"].includes(t)}},value:{type:[String,Number]},modelValue:{type:[String,Number]},defaultValue:{type:[String,Number]},onBlur:Function,onChange:Function,onClear:Function,onFocus:Function};/**
 * tdesign v0.8.5
 * (c) 2022 TDesign Group
 * @license MIT
 */function Jv(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Qv(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Jv(Object(n),!0).forEach(function(r){te(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Jv(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var gR=De.prefix,sa="".concat(gR,"-input"),kb=ee({name:sa,components:{TNode:st,TCell:Nd,CloseCircleFilledIcon:D0},props:mR,emits:["update:value","update:modelValue","click-icon","focus","blur","change","clear"],setup:function(t,n){var r=pt(t,n.emit),a=q(),i=He(t),o=i.autofocus,l=Be(),u=Vt(t,n.emit,"value","change"),s=Ot(u,1),c=s[0],f=j(function(){var P;return P={},te(P,"".concat(sa,"--label"),!0),te(P,Mt.STATUS.disabled,t.disabled),P}),v=vk(a,{initialValue:t.autofocus}),S=v.focused,E=j(function(){return ze(l,"label")}),m=j(function(){return ze(l,"suffixIcon")}),d=j(function(){return ze(l,"prefixIcon")}),g=j(function(){return ze(l,"suffix")}),h=j(function(){return["".concat(sa,"__control"),te({},"".concat(sa,"__control--").concat(t.align),t.align!=="left")]}),p=j(function(){var P;return P={},te(P,sa,!0),te(P,"".concat(sa,"__error"),!!t.errorMessage),P}),b=function(){var D=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",I=a.value,x=String(D);!I||I.value!==x&&(I.value=x)},y=function(D){var I=D.inputType&&D.inputType==="insertCompositionText";D.isComposing||I||C(D)},C=function(D){var I=D.target.value,x=t.maxcharacter;if(x&&x>0&&!Number.isNaN(x)){var L=I0(I,x);L.length;var $=L.characters,M=$===void 0?"":$;c.value=M}else c.value=I;Re(function(){return b(c.value)})},w=function(){S.value=!0},k=function(){var D;(D=a.value)===null||D===void 0||D.blur()};L0({focus:w,blur:k});var _=function(D){c.value="",S.value=!0,r("clear",{e:D})},T=function(D){r("focus",c.value,{e:D})},O=function(D){r("blur",c.value,{e:D})},A=function(D){C(D)};return oe(o,function(P,D){P===!0&&Re(function(){S.value=!0})}),Qv(Qv({componentName:sa},He(t)),{},{styleLabel:f,styleWrapper:p,styleControl:h,suffixContent:g,suffixIconContent:m,prefixIconContent:d,labelContent:E,innerValue:c,inputRef:a,handleClear:_,handleFocus:T,handleBlur:O,handleInput:y,handleCompositionend:A})}}),pR=["value","name","type","disabled","autocomplete","placeholder","readonly","maxlength"];function yR(e,t,n,r,a,i){var o=ge("t-node"),l=ge("close-circle-filled-icon"),u=ge("t-cell");return H(),Oe(u,{required:e.required,class:z(e.styleWrapper)},sw({note:Ue(function(){return[J("div",{class:z("".concat(e.componentName,"__wrap"))},[J("input",{ref:"inputRef",value:e.innerValue,name:e.name,class:z(e.styleControl),type:e.type,disabled:e.disabled,autocomplete:e.autocomplete?"On":"Off",placeholder:e.placeholder,readonly:e.readonly,maxlength:e.maxlength||-1,onFocus:t[0]||(t[0]=function(){return e.handleFocus&&e.handleFocus.apply(e,arguments)}),onBlur:t[1]||(t[1]=function(){return e.handleBlur&&e.handleBlur.apply(e,arguments)}),onInput:t[2]||(t[2]=function(){return e.handleInput&&e.handleInput.apply(e,arguments)}),onCompositionend:t[3]||(t[3]=function(){return e.handleCompositionend&&e.handleCompositionend.apply(e,arguments)})},null,42,pR),e.clearable&&String(e.innerValue).length>0?(H(),W("div",{key:0,class:z("".concat(e.componentName,"__wrap--icon")),onClick:t[4]||(t[4]=function(){return e.handleClear&&e.handleClear.apply(e,arguments)})},[R(l)],2)):se("",!0),e.suffixContent?(H(),W("div",{key:1,class:z("".concat(e.componentName,"__wrap--suffix"))},[R(o,{content:e.suffixContent},null,8,["content"])],2)):se("",!0)],2),e.errorMessage?(H(),W("div",{key:0,class:z("".concat(e.componentName,"__error-msg"))},_e(e.errorMessage),3)):se("",!0)]}),_:2},[e.labelContent?{name:"title",fn:Ue(function(){return[J("div",{class:z(e.styleLabel)},[R(o,{content:e.labelContent},null,8,["content"])],2)]})}:void 0,e.prefixIconContent?{name:"leftIcon",fn:Ue(function(){return[R(o,{content:e.prefixIconContent},null,8,["content"])]})}:void 0,e.suffixIconContent?{name:"rightIcon",fn:Ue(function(){return[R(o,{content:e.suffixIconContent},null,8,["content"])]})}:void 0]),1032,["required","class"])}kb.render=yR;/**
 * tdesign v0.8.5
 * (c) 2022 TDesign Group
 * @license MIT
 */var _b=Le(kb);/**
 * tdesign v0.8.5
 * (c) 2022 TDesign Group
 * @license MIT
 */var bR={autofocus:Boolean,autosize:Boolean,disabled:Boolean,label:{type:[String,Function]},maxcharacter:{type:Number},maxlength:{type:Number},name:{type:String,default:""},placeholder:{type:String,default:void 0},value:{type:[String,Number],default:void 0},modelValue:{type:[String,Number],default:void 0},defaultValue:{type:[String,Number],default:void 0},onBlur:Function,onChange:Function,onFocus:Function};function SR(e,t){if(e==null)return{};var n={},r=Object.keys(e),a,i;for(i=0;i<r.length;i++)a=r[i],!(t.indexOf(a)>=0)&&(n[a]=e[a]);return n}function TR(e,t){if(e==null)return{};var n=SR(e,t),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],!(t.indexOf(r)>=0)&&(!Object.prototype.propertyIsEnumerable.call(e,r)||(n[r]=e[r]))}return n}/**
 * tdesign v0.8.5
 * (c) 2022 TDesign Group
 * @license MIT
 */function CR(){var e=navigator,t=e.userAgent,n=t.indexOf("compatible")>-1&&t.indexOf("MSIE")>-1,r=t.indexOf("Trident")>-1&&t.indexOf("rv:11.0")>-1;if(n){var a=new RegExp("MSIE (\\d+\\.\\d+);"),i=t.match(a);if(!i)return-1;var o=parseFloat(i[1]);return o<7?6:o}return r?11:Number.MAX_SAFE_INTEGER}var ER=["padding-top","padding-bottom","padding-left","padding-right","font-family","font-weight","font-size","font-variant","text-rendering","text-transform","width","text-indent","border-width","box-sizing","line-height","letter-spacing"];function wR(e){var t=window.getComputedStyle(e),n=t.getPropertyValue("box-sizing")||t.getPropertyValue("-moz-box-sizing")||t.getPropertyValue("-webkit-box-sizing"),r=parseFloat(t.getPropertyValue("padding-bottom"))+parseFloat(t.getPropertyValue("padding-top")),a=parseFloat(t.getPropertyValue("border-bottom-width"))+parseFloat(t.getPropertyValue("border-top-width")),i=ER.map(function(o){return"".concat(o,":").concat(t.getPropertyValue(o))}).join(";");return{paddingSize:r,borderSize:a,boxSizing:n,sizingStyle:i}}/**
 * tdesign v0.8.5
 * (c) 2022 TDesign Group
 * @license MIT
 */var OR=`
  min-height:0 !important;
  max-height:none !important;
  height:0 !important;
  visibility:hidden !important;
  overflow:hidden !important;
  position:absolute !important;
  z-index:-1000 !important;
  top:0 !important;
  right:0 !important
`,_n;function em(e){var t,n,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null;_n||(_n=document.createElement("textarea"),document.body.appendChild(_n));var i=wR(e),o=i.paddingSize,l=i.borderSize,u=i.boxSizing,s=i.sizingStyle;_n.setAttribute("style","".concat(s,";").concat(OR)),_n.value=e.value||e.placeholder||"";var c=_n.scrollHeight,f={},v=u==="border-box",S=u==="content-box";v?c+=l:S&&(c-=o),_n.value="";var E=_n.scrollHeight-o;(t=_n)===null||t===void 0||(n=t.parentNode)===null||n===void 0||n.removeChild(_n),_n=null;var m=function(h){var p=E*h;return v&&(p=p+o+l),p};if(r!==null){var d=m(r);c=Math.max(d,c),f.minHeight="".concat(d,"px")}return a!==null&&(c=Math.min(m(a),c)),f.height="".concat(c,"px"),f}/**
 * tdesign v0.8.5
 * (c) 2022 TDesign Group
 * @license MIT
 */function tm(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function nm(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?tm(Object(n),!0).forEach(function(r){te(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tm(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var kR=De.prefix,rm="".concat(kR,"-textarea"),Ab=ee({name:rm,props:bR,emits:["update:value","update:modelValue","click-icon","focus","blur","change","clear"],setup:function(t,n){var r=pt(t,n.emit),a=q(null),i=q(),o=q(0),l=Vt(t,n.emit,"value","change"),u=Ot(l,1),s=u[0];s.value=s.value||"";var c=function(){var p=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",b=a.value,y=String(p);!b||b.value!==y&&(b.value=y)},f=function(){if(t.autosize===!0)i.value=em(a.value);else if(jt(t.autosize)==="object"){var p=t.autosize,b=p.minRows,y=p.maxRows;i.value=em(a.value,b,y)}else n.attrs.rows&&(i.value={height:"auto",minHeight:"auto"});console.log("calc",i.value)},v=function(p){p.isComposing||p.inputType==="insertCompositionText"||S(p)},S=function(p){var b=p.target,y=b.value;if(t.maxcharacter&&t.maxcharacter>0&&!Number.isNaN(t.maxcharacter)){var C=I0(y,t.maxcharacter),w=C.length,k=w===void 0?0:w,_=C.characters,T=_===void 0?"":_;s.value=T,o.value=k}else s.value=y,o.value=String(s.value).length;Re(function(){return c(s.value)}),f()},E=function(p){S(p)},m=function(p){s.value="",r("clear",{e:p})},d=function(p){r("focus",s.value,{e:p})},g=function(p){r("blur",s.value,{e:p})};return tt(function(){if(t.autofocus){var h;(h=a.value)===null||h===void 0||h.focus()}f()}),nm(nm({componentName:rm},He(t)),{},{innerValue:s,textareaRef:a,textareaStyle:i,textareaLength:o,handleClear:m,handleFocus:d,handleBlur:g,handleInput:v,handleCompositionend:E})}}),_R=["name","maxlength","disabled","placeholder"];function AR(e,t,n,r,a,i){return H(),W("div",{class:z(e.componentName)},[Ge(J("textarea",{ref:"textareaRef","onUpdate:modelValue":t[0]||(t[0]=function(o){return e.innerValue=o}),style:Ae(e.textareaStyle),name:e.name,maxlength:e.maxlength||-1,disabled:e.disabled,placeholder:e.placeholder,onFocus:t[1]||(t[1]=function(){return e.handleFocus&&e.handleFocus.apply(e,arguments)}),onBlur:t[2]||(t[2]=function(){return e.handleBlur&&e.handleBlur.apply(e,arguments)}),onInput:t[3]||(t[3]=function(){return e.handleInput&&e.handleInput.apply(e,arguments)}),onCompositionend:t[4]||(t[4]=function(){return e.handleCompositionend&&e.handleCompositionend.apply(e,arguments)})},null,44,_R),[[f0,e.innerValue]]),e.maxcharacter||e.maxlength?(H(),W("div",{key:0,class:z("".concat(e.componentName,"__count"))},_e("".concat(e.textareaLength,"/").concat(e.maxcharacter||e.maxlength)),3)):se("",!0)],2)}Ab.render=AR;/**
 * tdesign v0.8.5
 * (c) 2022 TDesign Group
 * @license MIT
 */var DR=Le(Ab);/**
 * tdesign v0.8.5
 * (c) 2022 TDesign Group
 * @license MIT
 */var PR=De.prefix,mu="".concat(PR,"-mask"),Db=ee({name:mu,props:{transparent:{type:Boolean,default:!1}},emits:["click"],setup:function(t,n){var r=j(function(){var a;return a={},te(a,"".concat(mu),!t.transparent),te(a,"".concat(mu,"--transparent"),t.transparent),a});return{classes:r,handleClick:function(){return n.emit("click")}}}});function IR(e,t,n,r,a,i){return H(),W("div",{class:z(e.classes),onClick:t[0]||(t[0]=function(){return e.handleClick&&e.handleClick.apply(e,arguments)}),onTouchmove:t[1]||(t[1]=Qn(function(){},["prevent"]))},null,34)}Db.render=IR;/**
 * tdesign v0.8.5
 * (c) 2022 TDesign Group
 * @license MIT
 */var Rl=Le(Db);/**
 * tdesign v0.8.5
 * (c) 2022 TDesign Group
 * @license MIT
 */var LR={percentage:{type:Number,default:0},showText:{type:Boolean,default:!0},color:{type:String,default:""},bgColor:{type:String,default:""},textColor:{type:String,default:""},type:{type:String,default:"info"}};/**
 * tdesign v0.8.5
 * (c) 2022 TDesign Group
 * @license MIT
 */var RR=De.prefix,Gi="".concat(RR,"-progress"),Pb=ee({name:Gi,props:LR,setup:function(t,n){console.log("context",n);var r=j(function(){var u;return["".concat(Gi),(u={},te(u,"".concat(Gi,"--info"),t.type==="info"),te(u,"".concat(Gi,"--error"),t.type==="error"),u)]}),a=j(function(){return t.showText}),i=j(function(){return{width:"".concat(t.percentage>0?"".concat(t.percentage,"%"):0),backgroundColor:"".concat(t.color?t.color:"")}}),o=j(function(){return{backgroundColor:"".concat(t.bgColor?t.bgColor:"")}}),l=j(function(){return{color:"".concat(t.textColor?t.textColor:"")}});return{name:Gi,rootClasses:r,showTextPercentage:a,progressStyle:i,progressBgColorStyle:o,percentageTextStyle:l}}});function xR(e,t,n,r,a,i){return H(),W("div",{class:z(e.rootClasses)},[J("div",{class:z("".concat(e.name,"__inner"))},[J("div",{class:z("".concat(e.name,"__bd")),style:Ae(e.progressBgColorStyle)},[J("div",{class:z("".concat(e.name,"__percent")),style:Ae(e.progressStyle)},null,6)],6),e.showTextPercentage?(H(),W("div",{key:0,class:z("".concat(e.name,"__ft"))},[J("span",{class:z("".concat(e.name,"__text-percentage")),style:Ae(e.percentageTextStyle)},_e(e.percentage)+"%",7)],2)):se("",!0)],2)],2)}Pb.render=xR;/**
 * tdesign v0.8.5
 * (c) 2022 TDesign Group
 * @license MIT
 */var $R=Le(Pb);/**
 * tdesign v0.8.5
 * (c) 2022 TDesign Group
 * @license MIT
 */var MR={align:{type:String,default:"left",validator:function(t){return["left","right"].includes(t)}},checked:{type:Boolean,default:void 0},modelValue:{type:Boolean,default:void 0},defaultChecked:Boolean,content:{type:[String,Function]},contentDisabled:Boolean,default:{type:[String,Function]},disabled:{type:Boolean,default:void 0},icon:{type:[String,Array],default:"fill-circle"},label:{type:[String,Function]},name:{type:String,default:""},value:{type:[String,Number,Boolean],default:!1},onChange:Function};/**
 * tdesign v0.8.5
 * (c) 2022 TDesign Group
 * @license MIT
 */var FR=De.prefix,Ki="".concat(FR,"-radio"),BR={"fill-circle":[yt(xd),yt(A0)],"stroke-line":[yt($d),""]},Gd=ee({name:Ki,components:{TNode:st},props:MR,emits:["update:checked","update:modelValue","change"],setup:function(t,n){var r=q(t.name),a=Vt(t,n.emit,"checked","change"),i=Ot(a,2),o=i[0],l=i[1],u=Qe("rootGroupProps",{}),s=Qe("rootGroupValue"),c=Qe("rootGroupChange",Zs),f=j(function(){return u.disabled!==void 0?u.disabled:t.disabled}),v=j(function(){return s!==void 0&&l(s.value===t.value),o.value}),S=Be(),E=j(function(){return Xt(S,"default","label")}),m=j(function(){return ze(S,"content")}),d=j(function(){if(!!t.icon){var y="",C=v.value?0:1,w=Array.isArray(t.icon);return w?y=t.icon[C]:y=BR[t.icon][C],y}}),g=j(function(){var y;return["".concat(Ki),(y={},te(y,Mt.STATUS.checked,v.value),te(y,Mt.STATUS.disabled,f.value),y)]}),h=j(function(){var y;return["".concat(Ki,"__content-title"),(y={},te(y,Mt.STATUS.disabled,f.value),te(y,"".concat(Ki,"__content-right-title"),t.align==="right"),y)]}),p=function(C){t.contentDisabled||b(C)},b=function(C){f.value||(c!==Zs&&t.value!==void 0?c(t.value,C):l(!v.value,C))};return{name:Ki,checked:v,radioName:r,radioContent:m,labelContent:E,iconContent:d,disabled:f,radioContentChange:p,radioOrgChange:b,radioClasses:g,titleClasses:h}}}),NR=["name","disabled","checked","value"],jR=["name","disabled","checked","value"];function UR(e,t,n,r,a,i){var o=ge("t-node");return H(),W("div",{class:z(e.radioClasses)},[J("span",{class:z(["".concat(e.name,"__content-wrap")])},[e.align==="left"?(H(),W("span",{key:0,class:z("".concat(e.name,"__icon-wrap"))},[J("input",{type:"radio",name:e.radioName,class:z("".concat(e.name,"__original-left")),disabled:e.disabled,checked:e.checked,value:e.value,onClick:t[0]||(t[0]=function(){return e.radioOrgChange&&e.radioOrgChange.apply(e,arguments)})},null,10,NR),R(o,{content:e.iconContent},null,8,["content"])],2)):se("",!0),e.labelContent||e.radioContent?(H(),W("span",{key:1,class:z(["".concat(e.name,"__label-wrap")])},[e.labelContent?(H(),W("span",{key:0,class:z(e.titleClasses),onClick:t[1]||(t[1]=function(){return e.radioOrgChange&&e.radioOrgChange.apply(e,arguments)})},[R(o,{content:e.labelContent},null,8,["content"])],2)):se("",!0),e.radioContent?(H(),W("div",{key:1,class:z("".concat(e.name,"__content-inner")),onClick:t[2]||(t[2]=function(){return e.radioContentChange&&e.radioContentChange.apply(e,arguments)})},[R(o,{content:e.radioContent},null,8,["content"])],2)):se("",!0)],2)):se("",!0),e.align==="right"?(H(),W("span",{key:2,class:z("".concat(e.name,"__icon-wrap ").concat(e.name,"__icon-right-wrap"))},[J("input",{type:"radio",name:e.radioName,class:z("".concat(e.name,"__original-right")),disabled:e.disabled,checked:e.checked,value:e.value,onClick:t[3]||(t[3]=function(){return e.radioOrgChange&&e.radioOrgChange.apply(e,arguments)})},null,10,jR),R(o,{content:e.iconContent},null,8,["content"])],2)):se("",!0)],2)],2)}Gd.render=UR;/**
 * tdesign v0.8.5
 * (c) 2022 TDesign Group
 * @license MIT
 */var Ib=Le(Gd);/**
 * tdesign v0.8.5
 * (c) 2022 TDesign Group
 * @license MIT
 */var VR={disabled:{type:Boolean,default:void 0},name:{type:String,default:""},options:{type:Array},value:{type:[String,Number,Boolean],default:void 0},modelValue:{type:[String,Number,Boolean],default:void 0},defaultValue:{type:[String,Number,Boolean],default:!1},onChange:Function};/**
 * tdesign v0.8.5
 * (c) 2022 TDesign Group
 * @license MIT
 */function am(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function im(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?am(Object(n),!0).forEach(function(r){te(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):am(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var HR=De.prefix,om="".concat(HR,"-radio-group"),Lb=ee({name:om,components:{Radio:Gd},props:VR,emits:["update:value","update:modelValue","change"],setup:function(t,n){var r=Vt(t,n.emit,"value","change"),a=Ot(r,2),i=a[0],o=a[1],l=j(function(){var s;return(s=t.options)===null||s===void 0?void 0:s.map(function(c){var f=c;return(typeof c=="string"||typeof c=="number")&&(f={value:c,label:c.toString()}),f})}),u=function(c,f){o(c,{e:f})};return ct("rootGroupProps",t),ct("rootGroupValue",i),ct("rootGroupChange",u),im(im({},He(t)),{},{componentName:om,groupOptions:l})}});function zR(e,t,n,r,a,i){var o=ge("radio");return H(),W("div",{class:z(e.componentName),role:"radiogroup"},[e.options?(H(!0),W(Te,{key:0},Ne(e.groupOptions,function(l,u){return H(),Oe(o,{key:"radio-group-options-".concat(u,"-").concat(Math.random()),name:e.name,checked:e.value===l.value,disabled:"disabled"in l?l.disabled:e.disabled,value:l.value,label:l.label},null,8,["name","checked","disabled","value","label"])}),128)):se("",!0),e.options?se("",!0):Ye(e.$slots,"default",{key:1})],2)}Lb.render=zR;/**
 * tdesign v0.8.5
 * (c) 2022 TDesign Group
 * @license MIT
 */var Rb=Le(Lb);/**
 * tdesign v0.8.5
 * (c) 2022 TDesign Group
 * @license MIT
 */var GR={allowHalf:Boolean,clearable:Boolean,color:{type:[String,Array]},count:{type:Number,default:5},disabled:Boolean,gap:{type:Number,default:6},showText:Boolean,size:{type:String,default:""},texts:{type:Array},value:{type:Number,default:void 0},modelValue:{type:Number,default:void 0},defaultValue:{type:Number,default:void 0},variant:{type:String,default:"filled",validator:function(t){return["outline","filled"].includes(t)}},onChange:Function};/**
 * tdesign v0.8.5
 * (c) 2022 TDesign Group
 * @license MIT
 */var KR=De.prefix,Wi="".concat(KR,"-rate"),xb=ee({name:Wi,components:{StarFilledIcon:dv,StarIcon:vv},props:GR,emits:["change"],setup:function(t,n){var r=q(null),a=Vt(t,n.emit,"value","change"),i=Ot(a,1),o=i[0],l=j(function(){return Array.isArray(t.texts)&&t.texts.length>0?t.texts[o.value-1]:o.value>0?"".concat(o.value," \u5206"):""}),u=j(function(){return Array.isArray(t.color)?t.color:[t.color,null]}),s=function(h){return{color:o.value+.5===h||o.value>=h?u.value[0]:"transparent"}},c=function(h){return{color:o.value>=h?u.value[0]:"transparent"}},f=t.variant==="filled"?dv:vv,v=function(h){var p;return p={},te(p,"".concat(Wi,"--item"),!0),te(p,"".concat(Wi,"-full"),o.value>=h),te(p,"".concat(Wi,"-half"),o.value+.5===h),p};function S(g){t.disabled||(o.value=t.clearable&&o.value===g?0:g)}var E=[];function m(){if(E=[],r.value){var g=r.value.children;Array.from(g).forEach(function(h,p){var b=h.getBoundingClientRect(),y=b.left,C=b.width;t.allowHalf?E.push({score:p+.5,left:y},{score:p+1,left:y+C/2}):E.push({score:p+1,left:y})})}}function d(g){if(!t.disabled){for(var h=g.touches[0].clientX,p=t.allowHalf?.5:1,b=E.length-1;b>=0;b--)if(h>E[b].left){p=E[b].score;break}else p=0;o.value=p}}return{name:q(Wi),classes:v,rateWrapper:r,actualVal:o,iconHalfStyle:s,iconFullStyle:c,colors:u,startComponent:f,rateText:l,onClick:S,onTouchstart:m,onTouchmove:d}}}),WR=["onClick"],YR=["onClick"],qR=["onClick"];function XR(e,t,n,r,a,i){var o=ge("star-filled-icon");return H(),W("div",{class:z("".concat(e.name))},[J("ul",{ref:"rateWrapper",class:z("".concat(e.name,"--list")),onTouchstart:t[0]||(t[0]=function(){return e.onTouchstart&&e.onTouchstart.apply(e,arguments)}),onTouchmove:t[1]||(t[1]=function(){return e.onTouchmove&&e.onTouchmove.apply(e,arguments)})},[(H(!0),W(Te,null,Ne(e.count,function(l){return H(),W("li",{key:l,class:z(e.classes(l))},[J("span",{class:z("".concat(e.name,"--placeholder"))},[(H(),Oe(jo(e.startComponent),{size:e.size,style:Ae({color:e.colors[1]})},null,8,["size","style"]))],2),e.allowHalf?(H(),W(Te,{key:0},[J("span",{class:z("".concat(e.name,"--icon-left")),onClick:function(s){return e.onClick(l-.5)}},[R(o,{size:e.size,style:Ae(e.iconHalfStyle(l))},null,8,["size","style"])],10,WR),J("span",{class:z("".concat(e.name,"--icon-right")),onClick:function(s){return e.onClick(l)}},[R(o,{size:e.size,style:Ae(e.iconFullStyle(l))},null,8,["size","style"])],10,YR)],64)):(H(),W("span",{key:1,class:z("".concat(e.name,"--icon")),onClick:function(s){return e.onClick(l)}},[R(o,{size:e.size,style:Ae(e.iconFullStyle(l))},null,8,["size","style"])],10,qR))],2)}),128))],34),e.showText?(H(),W("span",{key:0,class:z("".concat(e.name,"--text"))},_e(e.rateText),3)):se("",!0)],2)}xb.render=XR;/**
 * tdesign v0.8.5
 * (c) 2022 TDesign Group
 * @license MIT
 */var ZR=Le(xb);/**
 * tdesign v0.8.5
 * (c) 2022 TDesign Group
 * @license MIT
 */var JR={colors:{type:Array},customValue:{type:Array},disabled:Boolean,label:{type:String,default:""},value:{type:[String,Number,Boolean],default:void 0},modelValue:{type:[String,Number,Boolean],default:void 0},defaultValue:{type:[String,Number,Boolean],default:void 0},onChange:Function};/**
 * tdesign v0.8.5
 * (c) 2022 TDesign Group
 * @license MIT
 */function sm(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function lm(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?sm(Object(n),!0).forEach(function(r){te(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):sm(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var QR=De.prefix,gu="".concat(QR,"-switch"),$b=ee({name:gu,props:JR,emits:["change","update:value","update:modelValue"],setup:function(t,n){var r=t.customValue||[!0,!1],a=Vt(t,n.emit,"value","change"),i=Ot(a,1),o=i[0],l=R0(r,o.value),u=l.state,s=l.toggle,c=j(function(){var S;return["".concat(gu),(S={},te(S,Mt.STATUS.checked,o.value===r[0]),te(S,Mt.STATUS.disabled,t.disabled),S)]}),f=j(function(){return!t.disabled&&t.colors?"background-color: ".concat(o.value===r[0]?t.colors[0]:t.colors[1]):""});function v(S){S.preventDefault(),!t.disabled&&(s(),o.value=u.value)}return lm(lm({name:gu,classes:c,backgroundColor:f},He(t)),{},{handleToggle:v})}});function ex(e,t,n,r,a,i){return H(),W("span",{class:z(e.classes)},[e.label?(H(),W("span",{key:0,class:z("".concat(e.name,"__text"))},_e(e.label),3)):se("",!0),J("span",{class:z("".concat(e.name,"__node")),style:Ae(e.backgroundColor),onClick:t[0]||(t[0]=function(){return e.handleToggle&&e.handleToggle.apply(e,arguments)})},null,6)],2)}$b.render=ex;/**
 * tdesign v0.8.5
 * (c) 2022 TDesign Group
 * @license MIT
 */var tx=Le($b);/**
 * tdesign v0.8.5
 * (c) 2022 TDesign Group
 * @license MIT
 */var nx={disabled:Boolean,disableInput:Boolean,inputWidth:{type:Number},max:{type:Number,default:100},min:{type:Number,default:0},step:{type:Number,default:1},theme:{type:String,default:"normal",validator:function(t){return["normal","grey"].includes(t)}},value:{type:[String,Number],default:void 0},modelValue:{type:[String,Number],default:void 0},defaultValue:{type:[String,Number],default:0},onBlur:Function,onChange:Function,onOverlimit:Function};/**
 * tdesign v0.8.5
 * (c) 2022 TDesign Group
 * @license MIT
 */function um(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function rx(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?um(Object(n),!0).forEach(function(r){te(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):um(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var ax=De.prefix,cm="".concat(ax,"-stepper"),ix=Mt.STATUS.disabled,Mb=ee({name:cm,props:nx,emits:["update:value","update:modelValue","blur","change","overlimit"],setup:function(t,n){var r=Vt(t,n.emit,"value","change"),a=Ot(r,1),i=a[0],o=pt(t,n.emit),l=He(t),u=l.min,s=l.max,c=l.inputWidth,f=l.theme,v=f.value==="grey",S=c?{width:"".concat(c.value,"px")}:"",E=function(y){return Math.min(Math.max(u.value,y,Number.MIN_SAFE_INTEGER),s.value,Number.MAX_SAFE_INTEGER)},m=function(){i.value+t.step>t.max||t.disabled||(i.value+=t.step)},d=function(){i.value-t.step<t.min||t.disabled||(i.value-=t.step)},g=function(y){var C=y.target.value.split(".")[0].replace(/[^-0-9]/g,"");C.trim()===""?i.value=0:(p(Number(C)),i.value=E(Number(C)))},h=function(y){g(y),o("blur",i.value)},p=function(y){y<Math.max(u.value,Number.MIN_SAFE_INTEGER)&&o("overlimit","minus"),y>Math.min(s.value,Number.MAX_SAFE_INTEGER)&&o("overlimit","plus")};return rx({name:cm,disabledClass:ix,minusValue:d,stepperValue:i,plusValue:m,changeValue:g,inputStyle:S,handleBlur:h,isPureMode:v},He(t))}}),ox=["disabled","readonly"];function sx(e,t,n,r,a,i){return H(),W("div",{class:z(["".concat(e.name),"".concat(e.disabled?e.disabledClass:""),"".concat(e.isPureMode?"".concat(e.name,"__pure"):"")])},[J("span",{class:z(["".concat(e.name,"__minus"),"".concat(e.disabled||e.stepperValue<=e.min?"t-is-disabled":"")]),onClick:t[0]||(t[0]=function(){return e.minusValue&&e.minusValue.apply(e,arguments)})},null,2),Ge(J("input",{"onUpdate:modelValue":t[1]||(t[1]=function(o){return e.stepperValue=o}),class:z("".concat(e.name,"__input")),type:"tel",style:Ae(e.inputStyle),pattern:"[0-9]*",disabled:e.disableInput||e.disabled,readonly:e.disableInput,onBlur:t[2]||(t[2]=function(){return e.handleBlur&&e.handleBlur.apply(e,arguments)})},null,46,ox),[[f0,e.stepperValue]]),J("span",{class:z(["".concat(e.name,"__plus"),"".concat(e.disabled||e.stepperValue>=e.max?"t-is-disabled":"")]),onClick:t[3]||(t[3]=function(){return e.plusValue&&e.plusValue.apply(e,arguments)})},null,2)],2)}Mb.render=sx;/**
 * tdesign v0.8.5
 * (c) 2022 TDesign Group
 * @license MIT
 */var lx=Le(Mb);/**
 * tdesign v0.8.5
 * (c) 2022 TDesign Group
 * @license MIT
 */var $s=De.prefix,es="".concat($s,"-slider"),ux={range:{type:Boolean,default:!1},marks:Object,max:{type:Number,default:100},min:{type:Number,default:0},modelValue:{type:[Number,Array],default:0},showValue:{type:Boolean,default:!1},step:{type:Number,default:1},disabled:{type:Boolean,default:!1}},Fb=ee({name:es,props:ux,emits:["drag-start","drag-end","update:modelValue","change"],setup:function(t,n){var r=q(null),a=q(null),i=j(function(){var h;return["".concat(es,"-wrap"),(h={},te(h,"".concat($s,"-is-disabled"),t.disabled),te(h,"".concat($s,"-is-mark"),t.marks),te(h,"".concat($s,"-is-value"),t.showValue),h)]}),o=j(function(){return["".concat(es,"__handle")]}),l=j(function(){var h=[];return!t.range&&t.marks&&Object.keys(t.marks).forEach(function(p){h.push(parseInt(p,10))}),h.sort(function(p,b){return p-b})}),u=q(""),s=q([]),c=j({set:function(p){s.value=p},get:function(){var p;if(s!=null&&(p=s.value)!==null&&p!==void 0&&p.length)return s.value;var b=[];return t.range?b=t.modelValue:b=[t.modelValue],b}}),f=Me({startValue:0,newValue:0,startX:0,deltaX:0,offsetX:0});function v(h,p){t.disabled||(h.stopPropagation(),h.preventDefault(),f.deltaX=0,f.offsetX=0,f.startX=h.touches[0].clientX,f.startValue=d(c.value[p]),u.value="start")}function S(h,p){if(!t.disabled&&!!r.value){h.stopPropagation(),h.preventDefault(),u.value==="start"&&n.emit("drag-start");var b=h.touches[0];f.deltaX=b.clientX-f.startX,f.offsetX=Math.abs(f.deltaX),u.value="dragging";var y=r.value.getBoundingClientRect(),C=f.deltaX,w=y.width,k=C/w*(t.max-t.min);f.newValue=f.startValue+k,g(f.newValue,p)}}function E(h,p){t.disabled||(h.stopPropagation(),h.preventDefault(),u.value==="dragging"&&(g(f.newValue,p,!0),n.emit("drag-end")),u.value="")}function m(h){if(h.stopPropagation(),!t.disabled&&!!a.value){var p=a.value.getBoundingClientRect(),b=h.clientX-p.left,y=p.width,C=+t.min+b/y*(t.max-t.min),w=0;t.range&&Math.abs(C-c.value[0])>Math.abs(C-c.value[1])&&(w=1),f.startValue=c.value[w],g(C,w,!0)}}function d(h){var p=h;if(!t.range&&t.marks){var b;if(l!=null&&(b=l.value)!==null&&b!==void 0&&b.length){var y=l.value[0];l.value.forEach(function(C){Math.abs(C-h)<Math.abs(y-h)&&(y=C)}),p=y}}return Math.round(Math.max(t.min,Math.min(p,t.max))/t.step)*t.step}function g(h,p){var b=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,y=d(h);t.range?b&&y!==f.startValue?(c.value[p]=y,c.value=c.value.sort(function(C,w){return C-w}),n.emit("update:modelValue",c),n.emit("change",c)):y!==f.startValue&&(c.value[p]=y):b&&y!==f.startValue?(c.value=[y],n.emit("update:modelValue",y),n.emit("change",y)):y!==f.startValue&&(c.value=[y])}return{name:q(es),rootRef:r,barRef:a,value:c,classes:i,handleClass:o,onTouchStart:v,onTouchMove:S,onTouchEnd:E,onClick:m}}}),cx=["onTouchstart","onTouchmove","onTouchend"],dx=["textContent"],fx=["textContent"],hx=["onTouchstart","onTouchmove","onTouchend"],vx=["textContent"];function mx(e,t,n,r,a,i){return H(),W("div",{ref:"rootRef",class:z(e.classes)},[e.range?(H(),W("div",{key:1,class:z("".concat(e.name)),onClick:t[1]||(t[1]=function(){return e.onClick&&e.onClick.apply(e,arguments)})},[J("div",{ref:"barRef",class:z("".concat(e.name,"__bar"))},null,2),J("div",{class:z("".concat(e.name,"__track")),style:Ae("left:".concat(e.value[0],"%;width:").concat(e.value[1]-e.value[0],"%"))},null,6),(H(!0),W(Te,null,Ne(e.value,function(o,l){return H(),W("div",{key:l+1,class:z(e.handleClass),style:Ae("left:".concat(e.value[l],"%")),onTouchstart:function(s){return e.onTouchStart(s,l)},onTouchmove:function(s){return e.onTouchMove(s,l)},onTouchend:function(s){return e.onTouchEnd(s,l)}},null,46,hx)}),128)),J("div",{class:z("".concat(e.name,"__mark"))},[(H(!0),W(Te,null,Ne(e.value,function(o,l){return H(),W("div",{key:l,class:z("".concat(e.name,"__mark-text")),style:Ae("left:".concat(e.value[l],"%")),textContent:_e(o)},null,14,vx)}),128))],2)],2)):(H(),W(Te,{key:0},[J("div",{class:z("".concat(e.name)),onClick:t[0]||(t[0]=function(){return e.onClick&&e.onClick.apply(e,arguments)})},[J("div",{ref:"barRef",class:z("".concat(e.name,"__bar"))},null,2),J("div",{class:z("".concat(e.name,"__track")),style:Ae("width:".concat(e.value[0],"%"))},null,6),(H(!0),W(Te,null,Ne(e.value,function(o,l){return H(),W("div",{key:l+1,class:z(e.handleClass),style:Ae("left:".concat(e.value[l],"%")),onTouchstart:function(s){return e.onTouchStart(s,l)},onTouchmove:function(s){return e.onTouchMove(s,l)},onTouchend:function(s){return e.onTouchEnd(s,l)}},null,46,cx)}),128)),e.marks?(H(),W("div",{key:0,class:z("".concat(e.name,"__mark"))},[(H(!0),W(Te,null,Ne(e.marks,function(o,l){return H(),W("div",{key:l,class:z("".concat(e.name,"__mark-text")),style:Ae("left:".concat(l,"%")),textContent:_e(o)},null,14,dx)}),128))],2)):se("",!0)],2),e.showValue?(H(!0),W(Te,{key:0},Ne(e.value,function(o,l){return H(),W("div",{key:l,class:z("".concat(e.name,"-wrap__value")),textContent:_e(o)},null,10,fx)}),128)):se("",!0)],64))],2)}Fb.render=mx;/**
 * tdesign v0.8.5
 * (c) 2022 TDesign Group
 * @license MIT
 */var gx=Le(Fb);/**
 * tdesign v0.8.5
 * (c) 2022 TDesign Group
 * @license MIT
 */var px={lockScroll:{type:Boolean,default:!0},placement:{type:String,default:"top",validator:function(t){return["top","left","right","bottom","center"].includes(t)}},showOverlay:{type:Boolean,default:!0},to:String,transitionName:{type:String,default:""},visible:{type:Boolean,default:void 0},modelValue:{type:Boolean,default:void 0},defaultVisible:{type:Boolean,default:void 0},zIndex:{type:Number},onClose:Function,onClosed:Function,onOpen:Function,onOpened:Function,onVisibleChange:Function};/**
 * tdesign v0.8.5
 * (c) 2022 TDesign Group
 * @license MIT
 */var Bb=De.prefix,Yi="".concat(Bb,"-popup"),Nb=ee({name:Yi,components:{TMask:Rl},props:px,emits:["open","close","opened","closed","visible-change","update:visible","update:modelValue"],setup:function(t,n){var r=pt(t,n.emit),a=Vt(t,n.emit,"visible","visible-change"),i=Ot(a,1),o=i[0],l=j(function(){return Yi}),u=j(function(){return{zIndex:t.zIndex}}),s=j(function(){var m;return m={},te(m,"".concat(Yi,"--content"),!0),te(m,"".concat(Yi,"--content-").concat(t.placement),!0),m}),c=j(function(){var m=t.transitionName,d=t.placement;return m||(d==="center"?"fade-zoom":"slide-".concat(d))});oe(function(){return o.value},function(m){var d="".concat(Bb,"-overflow-hidden");m?(document.body.classList.add(d),r("open"),o.value=!0):document.body.classList.remove(d)});var f=function(){r("close"),o.value=!1},v=function(d){t.lockScroll&&d.preventDefault()},S=function(){return r("closed")},E=function(){return r("opened")};return{name:q(Yi),currentVisible:o,rootClasses:l,rootStyles:u,contentClasses:s,contentTransitionName:c,afterEnter:E,afterLeave:S,handleMaskClick:f,handleMove:v}}});function yx(e,t,n,r,a,i){var o=ge("t-mask");return H(),Oe(No,{to:e.to,disabled:!e.to},[J("div",{class:z([e.rootClasses,e.$attrs.class]),style:Ae(e.rootStyles),onTouchmove:t[0]||(t[0]=function(){return e.handleMove&&e.handleMove.apply(e,arguments)})},[R(yn,{name:"fade"},{default:Ue(function(){return[Ge(R(o,{transparent:!e.showOverlay,onClick:e.handleMaskClick},null,8,["transparent","onClick"]),[[qe,e.currentVisible]])]}),_:1}),R(yn,{name:e.contentTransitionName,onAfterEnter:e.afterEnter,onAfterLeave:e.afterLeave},{default:Ue(function(){return[Ge(J("div",{class:z(e.contentClasses)},[Ye(e.$slots,"default")],2),[[qe,e.currentVisible]])]}),_:3},8,["name","onAfterEnter","onAfterLeave"])],38)],8,["to","disabled"])}Nb.render=yx;/**
 * tdesign v0.8.5
 * (c) 2022 TDesign Group
 * @license MIT
 */var xl=Le(Nb);/**
 * tdesign v0.8.5
 * (c) 2022 TDesign Group
 * @license MIT
 */var bx={actions:{type:[Array,Function]},buttonLayout:{type:String,default:"horizontal",validator:function(t){return t?["horizontal","vertical"].includes(t):!0}},cancelBtn:{type:[String,Object,Function],default:""},closeOnOverlayClick:{type:Boolean,default:!0},confirmBtn:{type:[String,Object,Function],default:""},content:{type:[String,Function]},destroyOnClose:Boolean,preventScrollThrough:{type:Boolean,default:!0},showInAttachedElement:Boolean,showOverlay:{type:Boolean,default:!0},title:{type:[String,Function]},visible:Boolean,width:{type:[String,Number]},zIndex:{type:Number},onCancel:Function,onClose:Function,onConfirm:Function,onOverlayClick:Function};/**
 * tdesign v0.8.5
 * (c) 2022 TDesign Group
 * @license MIT
 */function dm(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Sx(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?dm(Object(n),!0).forEach(function(r){te(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):dm(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var Tx=De.prefix,mt="".concat(Tx,"-dialog"),vr=ee({name:mt,components:{TPopup:xl,TNode:st},props:bx,emits:["update:visible","confirm","overlay-click","cancel","change","close"],setup:function(t,n){var r=Be(),a=Xt(r,"default","content"),i=q(""),o=j(function(){return"".concat(mt)}),l=j(function(){return"".concat(mt,"__box")}),u=j(function(){return["".concat(mt,"__header"),te({},"".concat(mt,"__header--has-content"),a)]}),s=j(function(){return"".concat(mt,"__title")}),c=j(function(){return"".concat(mt,"__body")}),f=j(function(){return"".concat(mt,"__text")}),v=j(function(){return"".concat(mt,"__input")}),S=j(function(){return"".concat(mt,"__footer")}),E=j(function(){return["".concat(mt,"__vertical-footer"),"".concat(mt,"__footer")]}),m=j(function(){return["".concat(mt,"__btn"),"".concat(mt,"__btn--default"),"".concat(mt,"__horizontal-btn")]}),d=j(function(){return["".concat(mt,"__btn"),"".concat(mt,"__btn--primary"),"".concat(mt,"__horizontal-btn")]}),g=j(function(){return["".concat(mt,"__btn"),"".concat(mt,"__btn--default"),"".concat(mt,"__vertical-btn")]}),h=j(function(){return["".concat(mt,"__btn"),"".concat(mt,"__btn--primary"),"".concat(mt,"__vertical-btn")]}),p=j(function(){return{zIndex:t.zIndex,width:typeof t.width=="string"?t.width:"".concat(t.width,"px")}}),b=function(){n.emit("update:visible",!1),n.emit("confirm")},y=function(){n.emit("update:visible",!1),n.emit("close","cancel"),n.emit("cancel")},C=function(){!t.closeOnOverlayClick||(n.emit("update:visible",!1),n.emit("close","overlay"),n.emit("overlay-click"))};return oe(function(){return t.visible},function(w){n.emit("change",w)}),Sx({innerValue:i,dClassName:o,dBoxClassName:l,dHeaderClassName:u,dTitleClassName:s,dBodyClassName:c,dTextClassName:f,dInputClassName:v,dFooterClassName:S,dFooterVerticalClassName:E,dDefaultBtnClassName:m,dConformBtnClassName:d,dVerticalDefaultBtnClassName:g,dVerticalConformBtnClassName:h,dialogContent:a,handleConfirm:b,handleCancel:y,handleOverlayClick:C,rootStyles:p},He(t))}});function Cx(e,t,n,r,a,i){var o=ge("t-node"),l=ge("t-popup");return H(),Oe(l,{visible:e.visible,placement:"center","mask-transparent":!e.showOverlay,"teleport-disabled":!0,onClose:e.handleOverlayClick},{default:Ue(function(){return[J("div",{id:"root",class:z(e.dClassName),style:Ae(e.rootStyles)},[e.title?(H(),W("div",{key:0,class:z(e.dHeaderClassName)},[Ye(e.$slots,"header",{},function(){return[J("div",{class:z(e.dTitleClassName)},_e(e.title),3)]})],2)):se("",!0),e.content?(H(),W("div",{key:1,class:z(e.dBodyClassName)},[J("div",{class:z(e.dTextClassName)},[R(o,{content:e.dialogContent},null,8,["content"])],2)],2)):se("",!0),e.buttonLayout!="vertical"?(H(),W("div",{key:2,class:z(e.dFooterClassName)},[e.cancelBtn?(H(),W("div",{key:0,class:z(e.dDefaultBtnClassName),onClick:t[0]||(t[0]=function(){return e.handleCancel&&e.handleCancel.apply(e,arguments)})},[Ye(e.$slots,"footer-cancel",{},function(){return[et(_e(e.cancelBtn),1)]})],2)):se("",!0),e.confirmBtn?(H(),W("div",{key:1,class:z(e.dConformBtnClassName),onClick:t[1]||(t[1]=function(){return e.handleConfirm&&e.handleConfirm.apply(e,arguments)})},[Ye(e.$slots,"footer-confirm",{},function(){return[et(_e(e.confirmBtn),1)]})],2)):se("",!0)],2)):se("",!0),e.buttonLayout=="vertical"?(H(),W("div",{key:3,class:z(e.dFooterVerticalClassName)},[e.confirmBtn?(H(),W("div",{key:0,class:z(e.dVerticalConformBtnClassName),onClick:t[2]||(t[2]=function(){return e.handleConfirm&&e.handleConfirm.apply(e,arguments)})},[Ye(e.$slots,"footer-confirm",{},function(){return[et(_e(e.confirmBtn),1)]})],2)):se("",!0),e.cancelBtn?(H(),W("div",{key:1,class:z(e.dVerticalDefaultBtnClassName),onClick:t[3]||(t[3]=function(){return e.handleCancel&&e.handleCancel.apply(e,arguments)})},[Ye(e.$slots,"footer-cancel",{},function(){return[et(_e(e.cancelBtn),1)]})],2)):se("",!0)],2)):se("",!0)],6)]}),_:3},8,["visible","mask-transparent","onClose"])}vr.render=Cx;/**
 * tdesign v0.8.5
 * (c) 2022 TDesign Group
 * @license MIT
 */function fm(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function oi(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?fm(Object(n),!0).forEach(function(r){te(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):fm(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var Ex={title:"\u6E29\u99A8\u63D0\u9192",content:"",type:"",confirmBtn:"\u786E\u8BA4",cancelBtn:"\u53D6\u6D88",visible:!1,zIndex:2500,showOverlay:!0,width:"320px",closeOnOverlayClick:!1},Fa;function wx(e){var t=q(!1),n=document.createElement("div");document.body.appendChild(n);var r=oi(oi({},Ex),typeof e=="string"?{content:e}:e);return Fa&&Fa.clear(),Fa=ee({render:function(){return yt(vr,oi(oi({},r),{},{visible:t.value,onConfirm:function(o){typeof r.onConfirm=="function"&&r.onConfirm(o),t.value=!1},onCancel:function(o){typeof r.onCancel=="function"&&r.onCancel(o),t.value=!1},onOverlayClick:function(o){typeof r.onOverlayClick=="function"&&r.onOverlayClick(o),t.value=!1},onClose:function(o){n.remove(),typeof r.onClose=="function"&&r.onClose(o)}}))}}),Fa.clear=function(){n.remove()},Uo(Fa).mount(n),Re(function(){t.value=!0}),Fa}["show","alert","confirm"].forEach(function(e){vr[e]=function(t){var n={content:"",type:e};return typeof t=="string"?n.content=t:n=oi(oi({},n),t),wx(n)}});vr.install=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";e.component(t||vr.name,vr),e.config.globalProperties.$dialog=vr,e.provide("$dialog",vr)};var Ox=vr;/**
 * tdesign v0.8.5
 * (c) 2022 TDesign Group
 * @license MIT
 */var kx=De.prefix,_x="".concat(kx,"-action-sheet"),jb=ee({props:{items:{type:Array,required:!0}},emits:["selected"],setup:function(t,n){var r=function(i){n.emit("selected",i)};return{name:q(_x),handleSelected:r}}}),Ax=["disabled","onClick"];function Dx(e,t,n,r,a,i){return H(),W("div",{class:z("".concat(e.name,"__menu"))},[(H(!0),W(Te,null,Ne(e.items,function(o,l){return H(),W("button",{key:l,class:z("".concat(e.name,"__cell")),disabled:o.disabled,onClick:function(s){return e.handleSelected(l)}},[Ye(e.$slots,"cell",{item:o},function(){return[J("div",{class:z("".concat(e.name,"__cell-text")),style:Ae({color:o.color})},_e(o.label),7)]})],10,Ax)}),128))],2)}jb.render=Dx;/**
 * tdesign v0.8.5
 * (c) 2022 TDesign Group
 * @license MIT
 */var Px=De.prefix,Ix="".concat(Px,"-action-sheet"),Ub=ee({props:{items:{type:Array,required:!0},count:{type:Number,default:8}},emits:["selected"],setup:function(t,n){var r=q(null),a=q(0),i=q(0),o=q(!0),l=0,u=0,s=!0,c=j(function(){return{transform:"translate3d(".concat(a.value,"px, 0, 0)"),transition:o.value?"transform 300ms":"all"}}),f=j(function(){return Math.ceil(t.items.length/t.count)}),v=j(function(){for(var p=[],b=0;b<f.value;b++){var y=t.items.slice(b*t.count,(b+1)*t.count);p.push(y)}return p}),S=function(b){n.emit("selected",b)},E=function(b){o.value=!0,r.value&&(a.value=f.value>1?b*r.value.offsetWidth*-1:0)},m=function(){return r.value?(f.value-1)*r.value.offsetWidth:0},d=function(b){s=!0,o.value=!1,l=b.touches[0].clientX,u=l-a.value},g=function(b){var y=b.touches[0].clientX,C=0,w=m();Math.abs(y-l)<15||(a.value=y-u,a.value>C&&(a.value=C,s=!1),Math.abs(a.value)>=w&&(a.value=w*-1,s=!1))},h=function(b){if(!!s){var y=b.changedTouches[0].clientX-l,C=Math.abs(y)>50?i.value+(y<0?1:-1):i.value;i.value=C,E(C)}};return{name:q(Ix),pageNum:f,actionItems:v,currentIndex:i,containerWrapper:r,wrapperStyle:c,handleSelected:S,handleTouchstart:d,handleTouchmove:g,handleTouchend:h}}}),Lx=["disabled","onClick"];function Rx(e,t,n,r,a,i){return H(),W("div",{ref:"containerWrapper",class:z("".concat(e.name,"__menu-wrapper"))},[J("div",{class:z("".concat(e.name,"__menu-slider")),style:Ae(e.wrapperStyle),onTouchstart:t[0]||(t[0]=function(){return e.handleTouchstart&&e.handleTouchstart.apply(e,arguments)}),onTouchmove:t[1]||(t[1]=function(){return e.handleTouchmove&&e.handleTouchmove.apply(e,arguments)}),onTouchend:t[2]||(t[2]=function(){return e.handleTouchend&&e.handleTouchend.apply(e,arguments)})},[(H(!0),W(Te,null,Ne(e.actionItems,function(o,l){return H(),W("div",{key:l,class:z("".concat(e.name,"__menu"))},[J("div",{class:z("".concat(e.name,"__menu-page"))},[(H(!0),W(Te,null,Ne(o,function(u,s){return H(),W("button",{key:s,class:z("".concat(e.name,"__cell")),disabled:u.disabled,onClick:function(f){return e.handleSelected(s)}},[Ye(e.$slots,"cell",{item:u},function(){return[u.icon?(H(),W("div",{key:0,class:z("".concat(e.name,"__cell-icon")),style:Ae({backgroundImage:"url(".concat(u.icon,")")})},null,6)):se("",!0),J("div",{class:z("".concat(e.name,"__cell-text")),style:Ae({color:u.color})},_e(u.label),7)]})],10,Lx)}),128))],2)],2)}),128))],38),e.pageNum>1?(H(),W("div",{key:0,class:z("".concat(e.name,"__indicator"))},[(H(!0),W(Te,null,Ne(e.pageNum,function(o){var l;return H(),W("div",{key:o,class:z((l={},te(l,"".concat(e.name,"__indicator-item"),!0),te(l,"on",e.currentIndex===o-1),l))},null,2)}),128))],2)):se("",!0)],2)}Ub.render=Rx;/**
 * tdesign v0.8.5
 * (c) 2022 TDesign Group
 * @license MIT
 */var xx=De.prefix,qi="".concat(xx,"-action-sheet"),Vb=ee({name:qi,components:{TPopup:xl,MenuList:jb,MenuGrid:Ub},props:{modelValue:Boolean,visible:{type:Boolean,default:!1},items:{type:Array,required:!0},type:{type:String,default:"list"},count:{type:Number,default:8},showCancel:{type:Boolean,default:!0},cancelText:{type:String,default:"\u53D6\u6D88"}},emits:["selected","update:modelValue","cancel","close"],setup:function(t,n){var r=pt(t,n.emit),a=q([]),i=j(function(){return t.modelValue||t.visible}),o=j(function(){var c;return c={},te(c,"".concat(qi,"__panel"),!0),te(c,"".concat(qi,"__panel-list"),t.type==="list"),te(c,"".concat(qi,"__panel-grid"),t.type==="grid"),c});oe(function(){return t.items},function(c){var f=JSON.parse(JSON.stringify(c));f=f.map(function(v){return typeof v=="string"?{label:v}:v}),a.value=f},{immediate:!0,deep:!0});var l=function(){r("cancel"),n.emit("update:modelValue",!1)},u=function(f){r("selected",t.items[f],f)},s=function(){r("close"),n.emit("update:modelValue",!1)};return{name:q(qi),rootClasses:o,actionItems:a,currentVisible:i,handleCancel:l,handleSelected:u,handleClose:s}}});function $x(e,t,n,r,a,i){var o=ge("menu-list"),l=ge("menu-grid"),u=ge("t-popup");return H(),Oe(u,{class:z(e.name),visible:e.currentVisible,placement:"bottom",onClose:e.handleClose},{default:Ue(function(){return[J("div",{class:z(e.rootClasses)},[e.type==="list"?(H(),Oe(o,{key:0,items:e.actionItems,onSelected:e.handleSelected},{cell:Ue(function(s){return[Ye(e.$slots,"cell",{item:s.item})]}),_:3},8,["items","onSelected"])):(H(),Oe(l,{key:1,items:e.actionItems,count:e.count,onSelected:e.handleSelected},{cell:Ue(function(s){return[Ye(e.$slots,"cell",{item:s.item})]}),_:3},8,["items","count","onSelected"])),e.showCancel?(H(),W(Te,{key:2},[e.type==="list"?(H(),W("div",{key:0,class:z("".concat(e.name,"__separation"))},null,2)):se("",!0),J("button",{class:z("".concat(e.name,"__action")),onClick:t[0]||(t[0]=function(){return e.handleCancel&&e.handleCancel.apply(e,arguments)})},_e(e.cancelText),3)],64)):se("",!0)],2)]}),_:3},8,["class","visible","onClose"])}Vb.render=$x;/**
 * tdesign v0.8.5
 * (c) 2022 TDesign Group
 * @license MIT
 */var Mx=Le(Vb);/**
 * tdesign v0.8.5
 * (c) 2022 TDesign Group
 * @license MIT
 */var Fx={color:{type:String,default:""},content:{type:[String,Function]},count:{type:[String,Number,Function],default:0},dot:Boolean,maxCount:{type:Number,default:99},offset:{type:Array},shape:{type:String,default:"circle",validator:function(t){return t?["circle","round","ribbon"].includes(t):!0}},showZero:Boolean,size:{type:String,default:"medium",validator:function(t){return t?["small","medium"].includes(t):!0}}};/**
 * tdesign v0.8.5
 * (c) 2022 TDesign Group
 * @license MIT
 */function hm(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function vm(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?hm(Object(n),!0).forEach(function(r){te(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):hm(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var Or="".concat(De.prefix,"-badge"),Hb=ee({name:Or,components:{TNode:st},props:Fx,setup:function(t){var n=Be(),r=j(function(){return Xt(n,"default","content")}),a=j(function(){return t.dot?"":ze(n,"count")}),i=j(function(){return r.value===void 0}),o=j(function(){return r.value!==void 0||t.showZero||t.dot||t.count!==0}),l=j(function(){var c;return c={},te(c,"".concat(Or),!0),te(c,"".concat(Or,"__ribbon--outer"),t.shape==="ribbon"),c}),u=j(function(){var c;return c={},te(c,"".concat(Or,"__inner"),!0),te(c,"".concat(Or,"--has-children"),!i.value),te(c,"".concat(Or,"--").concat(t.size),t.size),te(c,"".concat(Or,"--").concat(t.shape),t.shape&&!t.dot),te(c,"".concat(Or,"--dot"),t.dot),c}),s=j(function(){if(!t.offset)return{};var c=Ot(t.offset,2),f=c[0],v=c[1];return f=isNaN(Number(f))?f:"".concat(f,"px"),v=isNaN(Number(v))?v:"".concat(v,"px"),{background:t.color,right:f,top:v}});return vm(vm({badgeContent:r,showBadge:o,badgeStyles:s,badgeClasses:l,badgeInnerClasses:u},He(t)),{},{countContent:a})}});function Bx(e,t,n,r,a,i){var o=ge("t-node");return e.showBadge?(H(),W("div",{key:0,class:z(e.badgeClasses)},[J("div",{class:z(e.badgeInnerClasses),style:Ae(e.badgeStyles)},[R(o,{content:e.countContent},null,8,["content"])],6),R(o,{content:e.badgeContent},null,8,["content"])],2)):se("",!0)}Hb.render=Bx;/**
 * tdesign v0.8.5
 * (c) 2022 TDesign Group
 * @license MIT
 */var $l=Le(Hb);/**
 * tdesign v0.8.5
 * (c) 2022 TDesign Group
 * @license MIT
 */var Nx=De.prefix,ts="".concat(Nx,"-fab"),zb=ee({name:ts,components:{TButton:_a},props:{icon:{type:Function,default:function(){return O0}},text:{type:String,default:""}},emits:["click"],setup:function(t,n){var r=j(function(){var o;return o={},te(o,"".concat(ts),!0),te(o,"".concat(ts,"--icononly"),t.icon&&!t.text),o}),a=function(l){n.emit("click",l)},i=j(function(){var o;return typeof t.icon=="function"?t.icon():(o=n.slots)===null||o===void 0?void 0:o.icon});return{name:ts,classes:r,onClick:a,computedIcon:i}}});function jx(e,t,n,r,a,i){var o=ge("t-button");return H(),Oe(o,{class:z(e.classes),theme:"primary",shape:"round",onClick:e.onClick},{default:Ue(function(){return[(H(),Oe(jo(e.computedIcon),{style:{color:"#fff"}})),e.text?(H(),W("span",{key:0,class:z("".concat(e.name,"__text"))},_e(e.text),3)):se("",!0)]}),_:1},8,["class","onClick"])}zb.render=jx;/**
 * tdesign v0.8.5
 * (c) 2022 TDesign Group
 * @license MIT
 */var Ux=Le(zb);/**
 * tdesign v0.8.5
 * (c) 2022 TDesign Group
 * @license MIT
 */function mm(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function gm(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?mm(Object(n),!0).forEach(function(r){te(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):mm(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var fr=De.prefix,pm="".concat(fr,"-image-viewer"),Gb=ee({name:pm,props:{modelValue:{type:Boolean,default:!1},images:{type:Array,default:function(){return[]}},visible:{type:Boolean,default:!1},showIndex:{type:Boolean,default:!0},initialIndex:{type:Number,default:0},backgroundColor:{type:String,default:"rgba(0, 0, 0, 0.6)"}},emits:["update:modelValue","change"],setup:function(t,n){var r=j(function(){return["".concat(pm)]}),a=Me({startTime:new Date().getTime(),startLeft:-1,startTop:-1,itemWidth:-1,itemHeight:-1,currentLeft:-1,currentTop:-1}),i,o=q(t.images),l=q(Math.min(t.initialIndex,o.value.length-1)+1),u=q(o.value.length),s=300,c=.5,f,v=function(C){f=C},S=j(function(){return t.modelValue||t.visible});oe([function(){return t.images},function(){return t.initialIndex}],function(){o.value=t.images,l.value=Math.min(t.initialIndex,o.value.length-1)+1,S.value&&Re(function(){i=f.querySelector(".".concat(fr,"-swiper-container")),E()})});function E(){var y="".concat(f.clientWidth,"px"),C=f.querySelector(".".concat(fr,"-swiper-container")),w=C.querySelectorAll(".".concat(fr,"-swiper-item"));if(w.forEach(function(A){A.style.width=y}),w.length>=1){var k=C.querySelector(".".concat(fr,"-swiper-item-first-copy")),_=C.querySelector(".".concat(fr,"-swiper-item-last-copy"));k&&C.lastElementChild===k&&C.removeChild(k),_&&C.firstElementChild===_&&C.removeChild(_);var T=C.firstElementChild;T=T.cloneNode(!0);var O=C.lastElementChild;O=O.cloneNode(!0),T.classList.add("".concat(fr,"-swiper-item-first-copy")),O.classList.add("".concat(fr,"-swiper-item-last-copy")),T.style.width=y,O.style.width=y,C.appendChild(T),C.insertBefore(O,C.firstElementChild),u.value=o.value.length+2,m(-f.clientWidth*l.value)}}function m(y){i.style.transform="translate3d(".concat(y,"px, 0px, 0px) scale(1)")}function d(y){var C=y.changedTouches[0];return C}var g=!0,h=function(C){var w=d(C);a.startTime=new Date().getTime(),a.startLeft=w.pageX,a.startTop=w.pageY,a.itemWidth=f.offsetWidth,a.itemHeight=f.offsetHeight,!(u.value<=1)&&(g=!1,i.style.transition="none")},p=function(C){if(!(u.value<=3||g)){var w=d(C);a.currentLeft=w.pageX,a.currentTop=w.pageY;var k=a.currentLeft-a.startLeft;a.currentTop-a.startTop,C.preventDefault();var _=Math.min(Math.max(-a.itemWidth+1,k),a.itemWidth-1),T=_-a.itemWidth*l.value;m(T)}},b=function(C){var w=d(C);if(a.startLeft===w.pageX){g=!0,n.emit("update:modelValue",!1);return}if(!(u.value<=3||g)){g=!0;var k=Math.min(new Date().getTime()-a.startTime,500),_=a.currentLeft-a.startLeft,T=a.itemWidth,O=k<s,A="";O&&a.currentLeft===-1||(Math.abs(_)>T*c||O?_<0?(m(-f.clientWidth*(l.value+1)),A="next"):(m(-f.clientWidth*(l.value-1)),A="prev"):m(-f.clientWidth*l.value),i.style.transition="".concat(k/1e3,"s"),setTimeout(function(){A&&(A==="next"?l.value+=1:l.value-=1),l.value===u.value-1?l.value=1:l.value===0&&(l.value=u.value-2),n.emit("change",l.value-1),m(-f.clientWidth*l.value),i.style.transition="none"},k),Object.assign(a,{startTime:new Date().getTime(),startLeft:0,startTop:0,itemWidth:0,itemHeight:0,currentLeft:0,currentTop:0}))}};return gm(gm({prefix:fr,showViewer:S,index:l,count:u,myRef:v,classes:r},He(t)),{},{onTouchstart:h,onTouchMove:p,onTouchEnd:b})}}),Vx={class:"image-viewer-container"},Hx={class:"item"},zx=["src"],Gx={key:0,class:"image-viewer-index"};function Kx(e,t,n,r,a,i){return Ge((H(),W("div",{class:z("".concat(e.prefix,"-image-viewer"))},[J("div",{class:z("".concat(e.prefix,"-image-mask")),style:Ae({background:e.backgroundColor})},null,6),J("div",Vx,[J("div",{ref:e.myRef,class:z(e.classes),onTouchstart:t[0]||(t[0]=function(){return e.onTouchstart&&e.onTouchstart.apply(e,arguments)}),onTouchmove:t[1]||(t[1]=function(){return e.onTouchMove&&e.onTouchMove.apply(e,arguments)}),onTouchend:t[2]||(t[2]=function(){return e.onTouchEnd&&e.onTouchEnd.apply(e,arguments)}),onTouchcancel:t[3]||(t[3]=function(){return e.onTouchEnd&&e.onTouchEnd.apply(e,arguments)})},[J("div",{class:z("".concat(e.prefix,"-swiper-box"))},[J("div",{class:z("".concat(e.prefix,"-swiper-container"))},[(H(!0),W(Te,null,Ne(e.images,function(o,l){return H(),W("div",{key:l,class:z("".concat(e.prefix,"-swiper-item image-viewer-item-wrap"))},[J("div",Hx,[J("img",{src:o},null,8,zx)])],2)}),128))],2)],2)],34),e.showIndex?(H(),W("div",Gx,_e(e.index)+"/"+_e(e.count>2?e.count-2:e.count),1)):se("",!0)])],2)),[[qe,e.showViewer]])}Gb.render=Kx;/**
 * tdesign v0.8.5
 * (c) 2022 TDesign Group
 * @license MIT
 */var Wx=Le(Gb);/**
 * tdesign v0.8.5
 * (c) 2022 TDesign Group
 * @license MIT
 */var Yx=De.prefix,Xi="".concat(Yx,"-drawer"),Kb=ee({name:Xi,components:{TPopup:xl},props:{modelValue:{type:Boolean,default:!1},sidebar:{type:Array,default:function(){return[]}}},emits:["update:modelValue"],setup:function(t,n){var r=pt(t,n.emit),a=He(t),i=a.modelValue,o=q(!1)||i,l=j(function(){return"".concat(Xi,"__sidebar")}),u=j(function(){return"".concat(Xi,"__sidebar-item")}),s=j(function(){return"".concat(Xi,"__sidebar-item-icon")}),c=j(function(){return"".concat(Xi,"__sidebar-item-name")}),f=function(S){S&&(window.location.href=S)};return oe(o,function(){r("update:modelValue",o.value)}),oe(i,function(){o.value=i.value}),{open:o,takePath:f,dSideBarClassName:l,dSideBarItemClassName:u,dSideBarItemIconClassName:s,dSideBarItemNameClassName:c}}}),qx=["onClick"];function Xx(e,t,n,r,a,i){var o=ge("t-popup");return H(),Oe(o,{modelValue:e.open,"onUpdate:modelValue":t[0]||(t[0]=function(l){return e.open=l}),placement:"left"},{default:Ue(function(){return[J("div",{class:z(e.dSideBarClassName)},[(H(!0),W(Te,null,Ne(e.sidebar,function(l){return H(),W("div",{key:l.name,class:z(e.dSideBarItemClassName),onClick:function(s){return e.takePath(l.path)}},[J("div",{class:z(e.dSideBarItemNameClassName)},_e(l.name),3)],10,qx)}),128))],2)]}),_:1},8,["modelValue"])}Kb.render=Xx;/**
 * tdesign v0.8.5
 * (c) 2022 TDesign Group
 * @license MIT
 */var Zx=Le(Kb);/**
 * tdesign v0.8.5
 * (c) 2022 TDesign Group
 * @license MIT
 */var Jx={leftArrow:{type:Boolean,default:!0},title:{type:String,default:"NavBar \u5BFC\u822A\u6761"},maxLen:{type:Number,default:6},rightShow:{type:Boolean,default:!0}};/**
 * tdesign v0.8.5
 * (c) 2022 TDesign Group
 * @license MIT
 */var Qx=De.prefix,ym="".concat(Qx,"-navbar"),Wb=ee({name:ym,components:{TChevronLeftIcon:k0},props:Jx,emits:["click-right","click-text"],setup:function(t,n){var r=j(function(){var l=t.title,u=t.maxLen;return l&&l.trim().length>u?"".concat(l.slice(0,u),"..."):l}),a=function(){history.length>1&&history.back()},i=function(u){n.emit("click-right",u)},o=function(u){n.emit("click-text",u)};return{name:ym,nTitleContent:r,handleBack:a,handleMore:i,clickText:o}}}),e$=J("svg",{t:"1614321969302",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"2091",width:"24",height:"24"},[J("path",{d:"M512 449.749333a64 64 0 1 1 0 128 64 64 0 0 1 0-128z m-318.805333-1.109333a64 64 0 1 1 0 128 64 64 0 0 1 0-128z m638.677333 0a64 64 0 1 1 0 128 64 64 0 0 1 0-128z",fill:"#444444","p-id":"2092"})],-1),t$=[e$];function n$(e,t,n,r,a,i){var o=ge("t-chevron-left-icon");return H(),W("div",{class:z(e.name)},[J("div",{class:z("".concat(e.name,"__back"))},[e.leftArrow?(H(),W("span",{key:0,class:z("".concat(e.name,"__back--arrow")),onClick:t[0]||(t[0]=function(){return e.handleBack&&e.handleBack.apply(e,arguments)})},[R(o)],2)):se("",!0),Ye(e.$slots,"left")],2),J("div",{class:z("".concat(e.name,"__text")),onClick:t[1]||(t[1]=function(){return e.clickText&&e.clickText.apply(e,arguments)})},[Ye(e.$slots,"default",{},function(){return[et(_e(e.nTitleContent),1)]})],2),J("div",{class:z("".concat(e.name,"__right"))},[Ye(e.$slots,"right"),e.rightShow?(H(),W("i",{key:0,class:z("".concat(e.name,"__right--more")),onClick:t[2]||(t[2]=function(){return e.handleMore&&e.handleMore.apply(e,arguments)})},t$,2)):se("",!0)],2)],2)}Wb.render=n$;/**
 * tdesign v0.8.5
 * (c) 2022 TDesign Group
 * @license MIT
 */var r$=Le(Wb);/**
 * tdesign v0.8.5
 * (c) 2022 TDesign Group
 * @license MIT
 */var a$={align:{type:String,default:"left",validator:function(t){return["left","center"].includes(t)}},closeBtn:{type:[String,Boolean,Function],default:void 0},content:{type:[String,Function]},duration:{type:Number,default:3e3},theme:{type:String,default:"info",validator:function(t){return["info","success","warning","error"].includes(t)}},visible:{type:Boolean,default:void 0},modelValue:{type:Boolean,default:void 0},zIndex:{type:Number},onClose:Function,onClosed:Function,onOpen:Function,onOpened:Function,onVisibleChange:Function};/**
 * tdesign v0.8.5
 * (c) 2022 TDesign Group
 * @license MIT
 */var i$=De.prefix,Zi="".concat(i$,"-message"),Fr=ee({name:Zi,components:{CheckCircleFilledIcon:xd,ErrorCircleFilledIcon:KO,CloseIcon:_i,TNode:st},props:a$,emits:["visible-change","open","opened","close","closed"],setup:function(t,n){var r=pt(t,n.emit),a=q(null),i=Be(),o=j(function(){return ze(i,"closeBtn")}),l=Vt(t,n.emit,"visible","visible-change"),u=Ot(l,1),s=u[0],c=j(function(){var S;return S={},te(S,Zi,!0),te(S,"".concat(Zi,"--").concat(t.theme),!0),te(S,"".concat(Zi,"-align--").concat(t.align),!!t.align),S}),f=j(function(){return{zIndex:t.zIndex}}),v=function(){r("close"),s.value=!1};return oe(function(){return s.value},function(S){S!==!1&&(r("open"),s.value=!0,t.duration>0&&setTimeout(v,t.duration))}),{name:q(Zi),root:a,currentVisible:s,rootClasses:c,rootStyles:f,closeBtnContent:o,onClose:v,afterEnter:function(){return r("opened")},afterLeave:function(){return r("closed")}}}});function o$(e,t,n,r,a,i){var o=ge("check-circle-filled-icon"),l=ge("error-circle-filled-icon"),u=ge("close-icon"),s=ge("t-node");return H(),Oe(yn,{name:"message",onAfterLeave:e.afterLeave,onAfterEnter:e.afterEnter},{default:Ue(function(){return[e.currentVisible?(H(),W("div",{key:0,ref:"root",class:z(e.rootClasses),style:Ae(e.rootStyles)},[Ye(e.$slots,"default",{},function(){return[Ye(e.$slots,"icon",{},function(){return[e.theme==="success"?(H(),Oe(o,{key:0})):(H(),Oe(l,{key:1}))]}),J("span",{class:z("".concat(e.name,"--txt"))},_e(e.content),3),e.closeBtn===!0?(H(),Oe(u,{key:0,onClick:e.onClose},null,8,["onClick"])):(H(),Oe(s,{key:1,content:e.closeBtnContent},null,8,["content"]))]})],6)):se("",!0)]}),_:3},8,["onAfterLeave","onAfterEnter"])}Fr.render=o$;/**
 * tdesign v0.8.5
 * (c) 2022 TDesign Group
 * @license MIT
 */function bm(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function si(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?bm(Object(n),!0).forEach(function(r){te(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):bm(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function s$(e){var t=q(!1),n=document.createElement("div");document.body.appendChild(n);var r=ee({render:function(){return yt(Fr,si(si({},e),{},{visible:t.value,onClose:function(){t.value=!1},onClosed:function(){n.remove()}}))}});Uo(r).mount(n),Re(function(){t.value=!0})}var l$={align:"left",closeBtn:"",content:"",duration:3e3,theme:"info",visible:!1,zIndex:5e3,onClose:function(){},onClosed:function(){},onOpen:function(){},onOpened:function(){},onVisibleChange:function(){}};["info","success","warning","error"].forEach(function(e){Fr[e]=function(t){var n=si(si({},l$),{},{theme:e});typeof t=="string"?n.content=t:n=si(si({},n),t),s$(n)}});Fr.install=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";e.component(t||Fr.name,Fr),e.config.globalProperties.$message=Fr};var _c=Le(Fr),Yb={exports:{}};(function(e,t){(function(n,r){e.exports=r()})(mo,function(){var n=1e3,r=6e4,a=36e5,i="millisecond",o="second",l="minute",u="hour",s="day",c="week",f="month",v="quarter",S="year",E="date",m="Invalid Date",d=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,g=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,h={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_")},p=function(P,D,I){var x=String(P);return!x||x.length>=D?P:""+Array(D+1-x.length).join(I)+P},b={s:p,z:function(P){var D=-P.utcOffset(),I=Math.abs(D),x=Math.floor(I/60),L=I%60;return(D<=0?"+":"-")+p(x,2,"0")+":"+p(L,2,"0")},m:function P(D,I){if(D.date()<I.date())return-P(I,D);var x=12*(I.year()-D.year())+(I.month()-D.month()),L=D.clone().add(x,f),$=I-L<0,M=D.clone().add(x+($?-1:1),f);return+(-(x+(I-L)/($?L-M:M-L))||0)},a:function(P){return P<0?Math.ceil(P)||0:Math.floor(P)},p:function(P){return{M:f,y:S,w:c,d:s,D:E,h:u,m:l,s:o,ms:i,Q:v}[P]||String(P||"").toLowerCase().replace(/s$/,"")},u:function(P){return P===void 0}},y="en",C={};C[y]=h;var w=function(P){return P instanceof O},k=function P(D,I,x){var L;if(!D)return y;if(typeof D=="string"){var $=D.toLowerCase();C[$]&&(L=$),I&&(C[$]=I,L=$);var M=D.split("-");if(!L&&M.length>1)return P(M[0])}else{var N=D.name;C[N]=D,L=N}return!x&&L&&(y=L),L||!x&&y},_=function(P,D){if(w(P))return P.clone();var I=typeof D=="object"?D:{};return I.date=P,I.args=arguments,new O(I)},T=b;T.l=k,T.i=w,T.w=function(P,D){return _(P,{locale:D.$L,utc:D.$u,x:D.$x,$offset:D.$offset})};var O=function(){function P(I){this.$L=k(I.locale,null,!0),this.parse(I)}var D=P.prototype;return D.parse=function(I){this.$d=function(x){var L=x.date,$=x.utc;if(L===null)return new Date(NaN);if(T.u(L))return new Date;if(L instanceof Date)return new Date(L);if(typeof L=="string"&&!/Z$/i.test(L)){var M=L.match(d);if(M){var N=M[2]-1||0,F=(M[7]||"0").substring(0,3);return $?new Date(Date.UTC(M[1],N,M[3]||1,M[4]||0,M[5]||0,M[6]||0,F)):new Date(M[1],N,M[3]||1,M[4]||0,M[5]||0,M[6]||0,F)}}return new Date(L)}(I),this.$x=I.x||{},this.init()},D.init=function(){var I=this.$d;this.$y=I.getFullYear(),this.$M=I.getMonth(),this.$D=I.getDate(),this.$W=I.getDay(),this.$H=I.getHours(),this.$m=I.getMinutes(),this.$s=I.getSeconds(),this.$ms=I.getMilliseconds()},D.$utils=function(){return T},D.isValid=function(){return this.$d.toString()!==m},D.isSame=function(I,x){var L=_(I);return this.startOf(x)<=L&&L<=this.endOf(x)},D.isAfter=function(I,x){return _(I)<this.startOf(x)},D.isBefore=function(I,x){return this.endOf(x)<_(I)},D.$g=function(I,x,L){return T.u(I)?this[x]:this.set(L,I)},D.unix=function(){return Math.floor(this.valueOf()/1e3)},D.valueOf=function(){return this.$d.getTime()},D.startOf=function(I,x){var L=this,$=!!T.u(x)||x,M=T.p(I),N=function(ne,ae){var ye=T.w(L.$u?Date.UTC(L.$y,ae,ne):new Date(L.$y,ae,ne),L);return $?ye:ye.endOf(s)},F=function(ne,ae){return T.w(L.toDate()[ne].apply(L.toDate("s"),($?[0,0,0,0]:[23,59,59,999]).slice(ae)),L)},U=this.$W,B=this.$M,K=this.$D,V="set"+(this.$u?"UTC":"");switch(M){case S:return $?N(1,0):N(31,11);case f:return $?N(1,B):N(0,B+1);case c:var X=this.$locale().weekStart||0,Z=(U<X?U+7:U)-X;return N($?K-Z:K+(6-Z),B);case s:case E:return F(V+"Hours",0);case u:return F(V+"Minutes",1);case l:return F(V+"Seconds",2);case o:return F(V+"Milliseconds",3);default:return this.clone()}},D.endOf=function(I){return this.startOf(I,!1)},D.$set=function(I,x){var L,$=T.p(I),M="set"+(this.$u?"UTC":""),N=(L={},L[s]=M+"Date",L[E]=M+"Date",L[f]=M+"Month",L[S]=M+"FullYear",L[u]=M+"Hours",L[l]=M+"Minutes",L[o]=M+"Seconds",L[i]=M+"Milliseconds",L)[$],F=$===s?this.$D+(x-this.$W):x;if($===f||$===S){var U=this.clone().set(E,1);U.$d[N](F),U.init(),this.$d=U.set(E,Math.min(this.$D,U.daysInMonth())).$d}else N&&this.$d[N](F);return this.init(),this},D.set=function(I,x){return this.clone().$set(I,x)},D.get=function(I){return this[T.p(I)]()},D.add=function(I,x){var L,$=this;I=Number(I);var M=T.p(x),N=function(B){var K=_($);return T.w(K.date(K.date()+Math.round(B*I)),$)};if(M===f)return this.set(f,this.$M+I);if(M===S)return this.set(S,this.$y+I);if(M===s)return N(1);if(M===c)return N(7);var F=(L={},L[l]=r,L[u]=a,L[o]=n,L)[M]||1,U=this.$d.getTime()+I*F;return T.w(U,this)},D.subtract=function(I,x){return this.add(-1*I,x)},D.format=function(I){var x=this,L=this.$locale();if(!this.isValid())return L.invalidDate||m;var $=I||"YYYY-MM-DDTHH:mm:ssZ",M=T.z(this),N=this.$H,F=this.$m,U=this.$M,B=L.weekdays,K=L.months,V=function(ae,ye,de,be){return ae&&(ae[ye]||ae(x,$))||de[ye].slice(0,be)},X=function(ae){return T.s(N%12||12,ae,"0")},Z=L.meridiem||function(ae,ye,de){var be=ae<12?"AM":"PM";return de?be.toLowerCase():be},ne={YY:String(this.$y).slice(-2),YYYY:this.$y,M:U+1,MM:T.s(U+1,2,"0"),MMM:V(L.monthsShort,U,K,3),MMMM:V(K,U),D:this.$D,DD:T.s(this.$D,2,"0"),d:String(this.$W),dd:V(L.weekdaysMin,this.$W,B,2),ddd:V(L.weekdaysShort,this.$W,B,3),dddd:B[this.$W],H:String(N),HH:T.s(N,2,"0"),h:X(1),hh:X(2),a:Z(N,F,!0),A:Z(N,F,!1),m:String(F),mm:T.s(F,2,"0"),s:String(this.$s),ss:T.s(this.$s,2,"0"),SSS:T.s(this.$ms,3,"0"),Z:M};return $.replace(g,function(ae,ye){return ye||ne[ae]||M.replace(":","")})},D.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},D.diff=function(I,x,L){var $,M=T.p(x),N=_(I),F=(N.utcOffset()-this.utcOffset())*r,U=this-N,B=T.m(this,N);return B=($={},$[S]=B/12,$[f]=B,$[v]=B/3,$[c]=(U-F)/6048e5,$[s]=(U-F)/864e5,$[u]=U/a,$[l]=U/r,$[o]=U/n,$)[M]||U,L?B:T.a(B)},D.daysInMonth=function(){return this.endOf(f).$D},D.$locale=function(){return C[this.$L]},D.locale=function(I,x){if(!I)return this.$L;var L=this.clone(),$=k(I,x,!0);return $&&(L.$L=$),L},D.clone=function(){return T.w(this.$d,this)},D.toDate=function(){return new Date(this.valueOf())},D.toJSON=function(){return this.isValid()?this.toISOString():null},D.toISOString=function(){return this.$d.toISOString()},D.toString=function(){return this.$d.toUTCString()},P}(),A=O.prototype;return _.prototype=A,[["$ms",i],["$s",o],["$m",l],["$H",u],["$W",s],["$M",f],["$y",S],["$D",E]].forEach(function(P){A[P[1]]=function(D){return this.$g(D,P[0],P[1])}}),_.extend=function(P,D){return P.$i||(P(D,O,_),P.$i=!0),_},_.locale=k,_.isDayjs=w,_.unix=function(P){return _(1e3*P)},_.en=C[y],_.Ls=C,_.p={},_})})(Yb);var Lt=Yb.exports;/**
 * tdesign v0.8.5
 * (c) 2022 TDesign Group
 * @license MIT
 */var u$={cancelBtn:{type:String,default:"\u53D6\u6D88"},confirmBtn:{type:String,default:""},disableDate:{type:[Object,Array,Function]},format:{type:String,default:void 0},mode:{type:[String,Array],default:["year","month","date"]},showWeek:Boolean,title:{type:String,default:""},value:{type:[String,Number],default:void 0},modelValue:{type:[String,Number],default:void 0},defaultValue:{type:[String,Number]},onCancel:Function,onChange:Function,onColumnChange:Function,onConfirm:Function};/**
 * tdesign v0.8.5
 * (c) 2022 TDesign Group
 * @license MIT
 */var c$={cancelBtn:{type:String,default:"\u53D6\u6D88"},confirmBtn:{type:String,default:"\u786E\u8BA4"},title:{type:String,default:""},modelValue:{type:Array},defaultValue:{type:Array},visible:Boolean,onCancel:Function,onChange:Function,onConfirm:Function},d$={options:{type:Array,default:function(){return[]}},value:{type:[String,Number]},formatter:{type:Function,default:function(t){return String(t)}}};/**
 * tdesign v0.8.5
 * (c) 2022 TDesign Group
 * @license MIT
 */var f$=De.prefix,Wn="".concat(f$,"-picker"),qb=ee({name:Wn,components:{TButton:_a},props:c$,emits:["change","cancel","confirm","update:modelValue"],setup:function(t,n){var r=j(function(){return["".concat(Wn)]}),a=j(function(){return"".concat(Wn,"-item__group")}),i=j(function(){return"".concat(Wn,"__mask")}),o=j(function(){return"".concat(Wn,"__indicator")}),l=j(function(){return"".concat(Wn,"__main")}),u=j(function(){return"".concat(Wn,"__toolbar")}),s=j(function(){return"".concat(Wn,"__title")}),c=j(function(){return"".concat(Wn,"__cancel")}),f=j(function(){return"".concat(Wn,"__confirm")}),v=j(function(){return t.confirmBtn||"\u786E\u5B9A"}),S=j(function(){return t.cancelBtn||"\u53D6\u6D88"}),E=[],m=function(){var p=n.slots.default?n.slots.default():[];return p=p.map(function(b,y){var C=b,w;Array.isArray(t.modelValue)&&(w=t.modelValue[y]),Array.isArray(t.defaultValue)&&(w=t.defaultValue[y]),!w&&C.props&&(w=C.props.modelValue||C.props.options[0]);var k=w;return jt(w)==="object"&&(k=w.value),E[y]||(E[y]=k),C.props=We(C.props,{value:k,onChange:function(T){E[y]=T.value;var O=[].concat(E);n.emit("change",O)}}),C}),p},d=function(p){var b=E.reduce(function(y,C){return y.push(C),y},[]);n.emit("update:modelValue",b),n.emit("confirm",b)},g=function(p){return n.emit("cancel",{e:p})};return{className:r,mainClassName:l,groupClassName:a,maskClassName:i,toolbarClassName:u,cancelClassName:c,confirmClassName:f,titleClassName:s,confirmButtonText:v,cancelButtonText:S,indicatorClassName:o,handleConfirm:d,handleCancel:g,pickerItems:m,curData:E}}});function h$(e,t,n,r,a,i){var o=ge("t-button");return H(),W("div",{class:z(e.className)},[J("div",{class:z(e.toolbarClassName)},[R(o,{class:z(e.cancelClassName),variant:"text",onClick:e.handleCancel},{default:Ue(function(){return[et(_e(e.cancelButtonText),1)]}),_:1},8,["class","onClick"]),J("div",{class:z(e.titleClassName)},_e(e.title),3),R(o,{class:z(e.confirmClassName),variant:"text",onClick:e.handleConfirm},{default:Ue(function(){return[et(_e(e.confirmButtonText),1)]}),_:1},8,["class","onClick"])],2),J("div",{class:z(e.mainClassName)},[J("div",{class:z(e.groupClassName)},[(H(),Oe(jo(e.pickerItems)))],2),J("div",{class:z(e.maskClassName)},null,2),J("div",{class:z(e.indicatorClassName)},null,2)],2)],2)}qb.render=h$;function Xb(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Sm(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Zb(e,t,n){return t&&Sm(e.prototype,t),n&&Sm(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}/**
 * tdesign v0.8.5
 * (c) 2022 TDesign Group
 * @license MIT
 */var Tm=De.prefix,v$=function(t,n,r,a){var i=t;return-r*((i=i/a-1)*i*i*i-1)+n},pu=40,Cm=200,Ji=60,m$=460,yu=150,g$=function(){function e(t){if(Xb(this,e),te(this,"holder",void 0),te(this,"options",void 0),te(this,"list",null),te(this,"elementItems",[]),te(this,"height",Cm),te(this,"curIndex",0),te(this,"itemClassName",""),te(this,"itemSelectedClassName",""),te(this,"itemHeight",pu),te(this,"lastMoveTime",0),te(this,"lastMoveStart",0),te(this,"stopInertiaMove",!1),te(this,"startY",0),te(this,"isPicking",!1),te(this,"offsetYOfStartBound",Ji),te(this,"offsetYOfEndBound",-Ji),te(this,"offsetY",0),te(this,"offsetYOfStart",0),te(this,"offsetYOfEnd",0),te(this,"onChange",void 0),!t.el)throw new Error("options el needed!");this.holder=t.el,this.options=t||{},this.onChange=t.onChange,this.init()}return Zb(e,[{key:"init",value:function(){this.initScrollParams(),this.setSelectedClassName(),this.bindEvent()}},{key:"updateItems",value:function(){this.elementItems=Nt(this.holder.querySelectorAll("li"));var n=this.elementItems.length;this.offsetYOfEnd=-this.itemHeight*(n-3),this.offsetYOfEndBound=-(this.itemHeight*(n-3)+Ji)}},{key:"initScrollParams",value:function(){var n;this.list=this.holder.querySelector("ul"),this.elementItems=Nt(this.holder.querySelectorAll("li")),this.itemHeight=((n=this.holder.querySelector("li"))===null||n===void 0?void 0:n.offsetHeight)||pu,this.height=this.holder.offsetHeight||Cm,this.curIndex=this.options.defaultIndex||0,this.itemClassName="".concat(Tm,"-picker-item__item"),this.itemSelectedClassName="".concat(Tm,"-picker-item__item--selected"),this.itemHeight=pu,this.startY=0,this.isPicking=!1,this.lastMoveTime=0,this.lastMoveStart=0,this.stopInertiaMove=!1;var r=(-this.curIndex+2)*this.itemHeight,a=this.elementItems.length;this.setOffsetY(r),this.offsetYOfStart=r,this.offsetYOfEnd=-this.itemHeight*(a-3),this.offsetYOfStartBound=this.itemHeight*2+Ji,this.offsetYOfEndBound=-(this.itemHeight*(a-3)+Ji)}},{key:"bindEvent",value:function(){var n=this;this.holder.addEventListener("touchstart",function(r){return n.touchStartHandler(r)},!1),this.holder.addEventListener("touchmove",function(r){return n.touchMoveHandler(r)},!1),this.holder.addEventListener("touchend",function(r){return n.touchEndHandler(r)},!1),this.holder.addEventListener("touchcancel",function(r){return n.touchEndHandler(r)},!1)}},{key:"touchStartHandler",value:function(n){n.preventDefault(),this.isPicking=!0,this.holder&&(this.list&&(this.list.style.transition=""),this.startY=n.changedTouches[0].pageY,this.updateInertiaParams(n,!0))}},{key:"touchMoveHandler",value:function(n){if(n.preventDefault(),!(!this.isPicking||!this.holder)){var r=n.changedTouches[0].pageY,a=r-this.startY;this.updateInertiaParams(n,!1);var i=(-this.curIndex+2)*this.itemHeight+a;this.setOffsetY(i)}}},{key:"touchEndHandler",value:function(n){if(n.preventDefault(),this.isPicking=!1,!!this.holder){var r=n.changedTouches[0],a=n.timeStamp||Date.now(),i=a-this.lastMoveTime;if(i>m$){this.stopInertiaMove=!1,this.endScroll();return}var o=(r.pageY-this.lastMoveStart)/i,l=o>0?-1:1,u=8e-4,s=-1*l*u,c=Math.abs(o/s),f=n.changedTouches[0].pageY,v=f-this.startY,S=o*c-Math.pow(c,2)*s/2+v;if(S===0){this.stopInertiaMove=!1,this.endScroll();return}this.scrollDist(a,this.offsetY,S,c)}}},{key:"updateInertiaParams",value:function(n,r){var a=n.changedTouches[0];r&&(this.lastMoveStart=a.pageY,this.lastMoveTime=n.timeStamp||Date.now()),this.stopInertiaMove=!0}},{key:"scrollDist",value:function(n,r,a,i){var o=this;this.stopInertiaMove=!1;var l=null,u=function s(c){if(!o.stopInertiaMove){l||(l=c);var f=c-l,v=v$(f,r,a,i);o.setOffsetY(v),f>i||v>o.offsetYOfStartBound||v<o.offsetYOfEndBound?o.endScroll():window.requestAnimationFrame(s)}};window.requestAnimationFrame(u)}},{key:"update",value:function(){this.updateItems();var n=this.curIndex>this.elementItems.length-1?0:this.curIndex;this.updateIndex(n)}},{key:"updateIndex",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:460;this.curIndex=n,this.setSelectedClassName();var a=(-n+2)*this.itemHeight;this.list&&(this.list.style.transform="translate(0,".concat(a,"px) translateZ(0)"),this.list.style.transitionDuration="".concat(r,"ms"),this.list.style.transitionTimingFunction="ease-out"),this.onChange(n)}},{key:"getCurIndex",value:function(){return this.curIndex}},{key:"fix3d",value:function(n){for(var r=0;r<this.elementItems.length;r++){var a=25*(-n+r);this.elementItems[r].style.transform="rotateX(".concat(a,"deg)"),this.elementItems[r].style.webkitTransform="rotateX(".concat(a,"deg)")}}},{key:"setSelectedClassName",value:function(){var n=this,r=new RegExp(this.itemClassName,"i"),a=new RegExp(this.itemSelectedClassName,"i");this.elementItems.forEach(function(i,o){var l=i,u=l.className;u===""||!u?l.className=n.itemClassName:(r.test(u)||l.classList.add(n.itemClassName),a.test(u)&&l.classList.remove(n.itemSelectedClassName)),n.curIndex===o&&l.classList.add(n.itemSelectedClassName)})}},{key:"setOffsetY",value:function(n){this.offsetY=n,this.list&&(this.list.style.transform="translate3d(0, ".concat(n,"px, 0)"))}},{key:"endScroll",value:function(){if(!this.stopInertiaMove){var n=0;this.offsetY>this.offsetYOfStartBound?(n=0,this.list&&(this.list.style.transition="".concat(yu,"ms ease-out"))):this.offsetY<this.offsetYOfEndBound?(n=this.elementItems.length-1,this.list&&(this.list.style.transition="".concat(yu,"ms ease-out"))):(this.list&&(this.list.style.transition="".concat(yu,"ms ease-out")),n=2-Math.round(this.offsetY/this.itemHeight),n<0&&(n=0),n>this.elementItems.length-1&&(n=this.elementItems.length-1));var r=(-n+2)*this.itemHeight;this.setOffsetY(r),n!==this.curIndex&&(this.curIndex=n,this.setSelectedClassName(),this.onChange(this.curIndex))}}},{key:"destroy",value:function(){delete this.holder}}]),e}();/**
 * tdesign v0.8.5
 * (c) 2022 TDesign Group
 * @license MIT
 */function Em(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function p$(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Em(Object(n),!0).forEach(function(r){te(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Em(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var y$=De.prefix,ns="".concat(y$,"-picker-item"),Jb=ee({name:ns,props:d$,emits:["change"],setup:function(t,n){var r=null,a=document.createElement("div"),i=q(a),o=function(f){var v=0;return f!==void 0&&(v=jt(f)==="object"?t.options.findIndex(function(S){return S.value===f}):t.options.indexOf(f)),v<0?0:v},l=j(function(){return"".concat(ns)}),u=j(function(){return["".concat(ns,"__wrapper")]}),s=j(function(){return["".concat(ns,"__item")]});return oe(function(){return t.options},function(){Re(function(){r&&r.update()})}),oe(function(){return t.value},function(c){Re(function(){r&&r.updateIndex(o(c))})},{immediate:!0}),tt(function(){r=new g$({el:i.value,defaultIndex:o(t.value)||0,onChange:function(f){var v=t.options[f],S=jt(v)==="object"?v.value:v,E={value:S,index:f};n.emit("change",E)}})}),p$({root:i,className:l,wrapperClassName:u,itemClassName:s},He(t))}});function b$(e,t,n,r,a,i){return H(),W("div",{ref:"root",class:z(e.className)},[J("ul",{class:z(e.wrapperClassName)},[(H(!0),W(Te,null,Ne(e.options,function(o,l){return H(),W("li",{key:l,class:z(e.itemClassName)},_e(e.formatter(jt(o)==="object"?o.label:o)),3)}),128))],2)],2)}Jb.render=b$;/**
 * tdesign v0.8.5
 * (c) 2022 TDesign Group
 * @license MIT
 */var Qb=Le(qb),e1=Le(Jb);/**
 * tdesign v0.8.5
 * (c) 2022 TDesign Group
 * @license MIT
 */var t1=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{},Ac={exports:{}};(function(e,t){(function(n,r){e.exports=r()})(t1,function(){return function(n,r){r.prototype.weekday=function(a){var i=this.$locale().weekStart||0,o=this.$W,l=(o<i?o+7:o)-i;return this.$utils().u(a)?l:this.subtract(l,"day").add(a,"day")}}})})(Ac,Ac.exports);var S$=Ac.exports,Dc={exports:{}};(function(e,t){(function(n,r){e.exports=r()})(t1,function(){var n={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},r=/(\[[^[]*\])|([-:/.()\s]+)|(A|a|YYYY|YY?|MM?M?M?|Do|DD?|hh?|HH?|mm?|ss?|S{1,3}|z|ZZ?)/g,a=/\d\d/,i=/\d\d?/,o=/\d*[^\s\d-_:/()]+/,l={},u=function(d){return(d=+d)+(d>68?1900:2e3)},s=function(d){return function(g){this[d]=+g}},c=[/[+-]\d\d:?(\d\d)?|Z/,function(m){(this.zone||(this.zone={})).offset=function(d){if(!d||d==="Z")return 0;var g=d.match(/([+-]|\d\d)/g),h=60*g[1]+(+g[2]||0);return h===0?0:g[0]==="+"?-h:h}(m)}],f=function(d){var g=l[d];return g&&(g.indexOf?g:g.s.concat(g.f))},v=function(d,g){var h,p=l.meridiem;if(p){for(var b=1;b<=24;b+=1)if(d.indexOf(p(b,0,g))>-1){h=b>12;break}}else h=d===(g?"pm":"PM");return h},S={A:[o,function(m){this.afternoon=v(m,!1)}],a:[o,function(m){this.afternoon=v(m,!0)}],S:[/\d/,function(m){this.milliseconds=100*+m}],SS:[a,function(m){this.milliseconds=10*+m}],SSS:[/\d{3}/,function(m){this.milliseconds=+m}],s:[i,s("seconds")],ss:[i,s("seconds")],m:[i,s("minutes")],mm:[i,s("minutes")],H:[i,s("hours")],h:[i,s("hours")],HH:[i,s("hours")],hh:[i,s("hours")],D:[i,s("day")],DD:[a,s("day")],Do:[o,function(m){var d=l.ordinal,g=m.match(/\d+/);if(this.day=g[0],d)for(var h=1;h<=31;h+=1)d(h).replace(/\[|\]/g,"")===m&&(this.day=h)}],M:[i,s("month")],MM:[a,s("month")],MMM:[o,function(m){var d=f("months"),g=(f("monthsShort")||d.map(function(h){return h.slice(0,3)})).indexOf(m)+1;if(g<1)throw new Error;this.month=g%12||g}],MMMM:[o,function(m){var d=f("months").indexOf(m)+1;if(d<1)throw new Error;this.month=d%12||d}],Y:[/[+-]?\d+/,s("year")],YY:[a,function(m){this.year=u(m)}],YYYY:[/\d{4}/,s("year")],Z:c,ZZ:c};function E(m){var d,g;d=m,g=l&&l.formats;for(var h=(m=d.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,function(_,T,O){var A=O&&O.toUpperCase();return T||g[O]||n[O]||g[A].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(P,D,I){return D||I.slice(1)})})).match(r),p=h.length,b=0;b<p;b+=1){var y=h[b],C=S[y],w=C&&C[0],k=C&&C[1];h[b]=k?{regex:w,parser:k}:y.replace(/^\[|\]$/g,"")}return function(_){for(var T={},O=0,A=0;O<p;O+=1){var P=h[O];if(typeof P=="string")A+=P.length;else{var D=P.regex,I=P.parser,x=_.slice(A),L=D.exec(x)[0];I.call(T,L),_=_.replace(L,"")}}return function($){var M=$.afternoon;if(M!==void 0){var N=$.hours;M?N<12&&($.hours+=12):N===12&&($.hours=0),delete $.afternoon}}(T),T}}return function(m,d,g){g.p.customParseFormat=!0,m&&m.parseTwoDigitYear&&(u=m.parseTwoDigitYear);var h=d.prototype,p=h.parse;h.parse=function(b){var y=b.date,C=b.utc,w=b.args;this.$u=C;var k=w[1];if(typeof k=="string"){var _=w[2]===!0,T=w[3]===!0,O=_||T,A=w[2];T&&(A=w[2]),l=this.$locale(),!_&&A&&(l=g.Ls[A]),this.$d=function(x,L,$){try{if(["x","X"].indexOf(L)>-1)return new Date((L==="X"?1e3:1)*x);var M=E(L)(x),N=M.year,F=M.month,U=M.day,B=M.hours,K=M.minutes,V=M.seconds,X=M.milliseconds,Z=M.zone,ne=new Date,ae=U||(N||F?1:ne.getDate()),ye=N||ne.getFullYear(),de=0;N&&!F||(de=F>0?F-1:ne.getMonth());var be=B||0,G=K||0,Y=V||0,Q=X||0;return Z?new Date(Date.UTC(ye,de,ae,be,G,Y,Q+60*Z.offset*1e3)):$?new Date(Date.UTC(ye,de,ae,be,G,Y,Q)):new Date(ye,de,ae,be,G,Y,Q)}catch{return new Date("")}}(y,k,C),this.init(),A&&A!==!0&&(this.$L=this.locale(A).$L),O&&y!=this.format(k)&&(this.$d=new Date("")),l={}}else if(k instanceof Array)for(var P=k.length,D=1;D<=P;D+=1){w[1]=k[D-1];var I=g.apply(this,w);if(I.isValid()){this.$d=I.$d,this.$L=I.$L,this.init();break}D===P&&(this.$d=new Date(""))}else p.call(this,b)}}})})(Dc,Dc.exports);var T$=Dc.exports;Lt.extend(S$);Lt.extend(T$);var C$=De.prefix,wm="".concat(C$,"-date-time-picker"),n1=["year","month","date"],r1=["hour","minute","second"],Om=[].concat(n1,r1),a1=ee({name:wm,components:{TPicker:Qb,TPickerItem:e1},props:u$,emits:["change","update:value","update:modelValue","cancel","confirm","columnChange"],setup:function(t,n){var r=pt(t,n.emit),a=Vt(t,n.emit,"value","change"),i=Ot(a,1),o=i[0],l=j(function(){return["".concat(wm)]}),u=j(function(){var I=[].concat(n1),x=[].concat(r1);return[I,x].forEach(function(L){Nt(L).reverse().every(function($){return t.mode instanceof Array?t.mode.includes($)?!1:(L.pop(),!0):t.mode!==$?(L.pop(),!0):!1})}),[].concat(Nt(I),Nt(x))}),s=j(function(){var I="",x="";return u.value.includes("year")&&(I="YYYY"),u.value.includes("month")&&(I="YYYY-MM"),u.value.includes("date")&&(I="YYYY-MM-DD"),u.value.includes("hour")&&(x="HH"),u.value.includes("minute")&&(x="HH:mm"),u.value.includes("second")&&(x="HH:mm:ss"),"".concat(I," ").concat(x).trim()}),c=j(function(){var I=Lt(),x=[t.format,s.value],L=Lt(o.value,x,"es",!0),$=u.value.map(function(M){var N=L[M]();return(N===void 0||N==null||isNaN(N))&&(N=I[M]()),N});return $}),f=j(function(){var I=Lt(),x=[t.format,s.value],L=Lt(o.value,x,"es",!0),$=Object.create({});return Om.forEach(function(M){$[M]=I[M]()}),u.value.forEach(function(M){var N=L[M]();(N===void 0||N==null||isNaN(N))&&($[M]=I[M]())}),$}),v=Me({pickerValue:c.value,year:f.value.year,month:f.value.month,date:f.value.date,hour:f.value.hour,minute:f.value.minute,second:f.value.second}),S=q(f.value.year);yl(function(){S.value=v.year});var E=j(function(){if(t.title!==void 0)return t.title;var I="\u9009\u62E9";return(u.value.includes("year")||u.value.includes("month")||u.value.includes("date"))&&(I+="\u65E5\u671F"),(u.value.includes("hour")||u.value.includes("minute")||u.value.includes("second"))&&(I+="\u65F6\u95F4"),I}),m=j(function(){return t.confirmBtn||"\u786E\u5B9A"}),d=j(function(){return t.cancelBtn||"\u53D6\u6D88"}),g=function(){if(!t.disableDate)return!0;for(var x=arguments.length,L=new Array(x),$=0;$<x;$++)L[$]=arguments[$];if(L.length===0)return!1;var M=L[0],N=M===void 0?Lt().year():M,F=L[1],U=F===void 0?0:F,B=L[2],K=B===void 0?1:B,V=L[3],X=V===void 0?0:V,Z=L[4],ne=Z===void 0?0:Z,ae=L[5],ye=ae===void 0?0:ae,de=Om[L.length-1],be=Lt().year(N).month(U).date(K).hour(X).minute(ne).second(ye),G=typeof t.disableDate=="function"?!t.disableDate(k(be)):!0,Y=t.disableDate instanceof Array?t.disableDate.every(function(Se){return!be.isSame(Lt(Se),de)}):!0,Q=t.disableDate,re=!0;Q!=null&&Q.from&&Q!==null&&Q!==void 0&&Q.to?re=be.isBefore(Lt(Q==null?void 0:Q.from),de)||!be.isAfter(Lt(Q==null?void 0:Q.to),de):Q!=null&&Q.from?re=be.isBefore(Lt(Q==null?void 0:Q.from),de):Q!=null&&Q.to&&(re=be.isAfter(Lt(Q==null?void 0:Q.to),de));var ie=!0;Q!=null&&Q.before&&(ie=!be.isBefore(Lt(Q==null?void 0:Q.before),de));var le=!0;return Q!=null&&Q.after&&(le=!be.isAfter(Lt(Q==null?void 0:Q.after),de)),G&&Y&&re&&ie&&le},h=j(function(){return Array.from(new Array(200),function(I,x){return 1900+x}).filter(function(I){return g(I)})}),p=j(function(){return Array.from(new Array(12),function(I,x){return x}).filter(function(I){return g(v.year,I)})}),b=j(function(){var I=31;if(u.value.indexOf("year")>-1&&u.value.indexOf("month")>-1){var x=Lt().year(v.year).month(v.month);I=x.daysInMonth?x.daysInMonth():0}return Array.from(I?new Array(I):[],function(L,$){return $+1}).filter(function(L){return g(v.year,v.month,L)})}),y=j(function(){return Array.from(new Array(24),function(I,x){return x}).filter(function(I){return g(v.year,v.month,v.date,I)})}),C=j(function(){return Array.from(new Array(60),function(I,x){return x}).filter(function(I){return g(v.year,v.month,v.date,v.hour,I)})}),w=j(function(){return Array.from(new Array(60),function(I,x){return x}).filter(function(I){return g(v.year,v.month,v.date,v.hour,v.minute,I)})}),k=function(){var x=arguments.length>0&&arguments[0]!==void 0?arguments[0]:void 0,L=x;L===void 0&&(L=Lt().month(0).date(1).hour(0).minute(0).second(0),u.value.forEach(function(M,N){L&&(L=L[M](v.pickerValue[N]))}));var $="";return t.format?$=L.format(t.format):typeof t.value=="number"?$=L.unix():$=L.format(s.value),$},_=function(x){var L=x.e,$=k();o.value=$,r("confirm",{value:$,e:L})},T=function(x){r("cancel",{e:x})},O=function(x){var L=Lt().month(0).date(1).hour(0).minute(0).second(0);u.value.forEach(function(M,N){L&&(L=L[M](x[N]))});var $=k(L);r("change",$)},A=function(x){n.emit("columnChange",{value:x.value,index:x.index})},P=function(x){var L=Lt().year(v.year).month(v.month).date(x).day(),$="";switch(L){case 0:$="\u65E5";break;case 1:$="\u4E00";break;case 2:$="\u4E8C";break;case 3:$="\u4E09";break;case 4:$="\u56DB";break;case 5:$="\u4E94";break;case 6:$="\u516D";break}return"(".concat($,")")},D=function(x){switch(x){case"year":return function(L){return"".concat(L,"\u5E74")};case"month":return function(L){return"".concat(L+1,"\u6708")};case"date":return function(L){return"".concat(L,"\u65E5").concat(t.showWeek?P(L):"")};case"hour":return function(L){return"".concat(L,"\u65F6")};case"minute":return function(L){return"".concat(L,"\u5206")};case"second":return function(L){return"".concat(L,"\u79D2")}}};return{className:l,confirmButtonText:m,cancelButtonText:d,onConfirm:_,onCancel:T,pickerColumns:u,yearOptions:h,monthOptions:p,dateOptions:b,hourOptions:y,minuteOptions:C,secondOptions:w,onColumnChange:A,onChange:O,defaultPickerValue:c,data:v,getWeekdayText:P,title:E,formatLabel:D}}});function E$(e,t,n,r,a,i){var o=ge("t-picker-item"),l=ge("t-picker");return H(),W("div",{class:z(e.className)},[e.pickerColumns.includes("year")||e.pickerColumns.includes("month")||e.pickerColumns.includes("date")?(H(),Oe(l,{key:0,modelValue:e.data.pickerValue,"onUpdate:modelValue":t[0]||(t[0]=function(u){return e.data.pickerValue=u}),"default-value":e.defaultPickerValue,title:e.title,onChange:e.onChange,onConfirm:e.onConfirm,onCancel:e.onCancel},{default:Ue(function(){return[e.pickerColumns.includes("year")?(H(),Oe(o,{key:0,options:e.yearOptions,formatter:e.formatLabel("year"),onChange:e.onColumnChange},null,8,["options","formatter","onChange"])):se("",!0),e.pickerColumns.includes("month")?(H(),Oe(o,{key:1,options:e.monthOptions,formatter:e.formatLabel("month"),onChange:e.onColumnChange},null,8,["options","formatter","onChange"])):se("",!0),e.pickerColumns.includes("date")?(H(),Oe(o,{key:2,options:e.dateOptions,formatter:e.formatLabel("date"),onChange:e.onColumnChange},null,8,["options","formatter","onChange"])):se("",!0),e.pickerColumns.includes("hour")?(H(),Oe(o,{key:3,options:e.hourOptions,formatter:e.formatLabel("hour"),onChange:e.onColumnChange},null,8,["options","formatter","onChange"])):se("",!0),e.pickerColumns.includes("minute")?(H(),Oe(o,{key:4,options:e.minuteOptions,formatter:e.formatLabel("minute"),onChange:e.onColumnChange},null,8,["options","formatter","onChange"])):se("",!0),e.pickerColumns.includes("second")?(H(),Oe(o,{key:5,options:e.secondOptions,formatter:e.formatLabel("second"),onChange:e.onColumnChange},null,8,["options","formatter","onChange"])):se("",!0)]}),_:1},8,["modelValue","default-value","title","onChange","onConfirm","onCancel"])):(H(),Oe(l,{key:1,"default-value":e.data.pickerValue,value:e.data.pickerValue,title:e.title,onChange:e.onChange,onConfirm:e.onConfirm,onCancel:e.onCancel},{default:Ue(function(){return[e.pickerColumns.includes("hour")?(H(),Oe(o,{key:0,options:e.hourOptions,formatter:e.formatLabel("hour"),onChange:e.onColumnChange},null,8,["options","formatter","onChange"])):se("",!0),e.pickerColumns.includes("minute")?(H(),Oe(o,{key:1,options:e.minuteOptions,formatter:e.formatLabel("minute"),onChange:e.onColumnChange},null,8,["options","formatter","onChange"])):se("",!0),e.pickerColumns.includes("second")?(H(),Oe(o,{key:2,options:e.secondOptions,formatter:e.formatLabel("second"),onChange:e.onColumnChange},null,8,["options","formatter","onChange"])):se("",!0)]}),_:1},8,["default-value","value","title","onChange","onConfirm","onCancel"]))],2)}a1.render=E$;/**
 * tdesign v0.8.5
 * (c) 2022 TDesign Group
 * @license MIT
 */var w$=Le(a1);/**
 * tdesign v0.8.5
 * (c) 2022 TDesign Group
 * @license MIT
 */var O$={direction:{type:String,default:"row",validator:function(t){return["row","column"].includes(t)}},duration:{type:Number,default:2e3},icon:{type:[String,Function]},message:{type:[String,Function]},placement:{type:String,default:"middle",validator:function(t){return["top","middle","bottom"].includes(t)}},preventScrollThrough:Boolean,theme:{type:String,validator:function(t){return["loading","success","fail"].includes(t)}}};/**
 * tdesign v0.8.5
 * (c) 2022 TDesign Group
 * @license MIT
 */function km(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function k$(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?km(Object(n),!0).forEach(function(r){te(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):km(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var i1=De.prefix,sr="".concat(i1,"-toast"),o1=ee({name:sr,components:{TMask:Rl,TNode:st},props:O$,setup:function(t){var n={loading:P0,success:xO,fail:YO},r=Be(),a=j(function(){return ze(r,"message")}),i=j(function(){var u=ze(r,"icon");return u===void 0&&t.theme&&(u=yt(n[t.theme])),u}),o=j(function(){var u;return["".concat(sr),(u={},te(u,"".concat(sr,"--").concat(t.direction),t.direction),te(u,"".concat(sr,"--text"),!i.value),te(u,"".concat(sr,"--icononly"),!a.value&&i.value),te(u,"".concat(sr,"--top"),t.placement==="top"),te(u,"".concat(sr,"--middle"),t.placement==="middle"),te(u,"".concat(sr,"--bottom"),t.placement==="bottom"),u)]}),l="".concat(i1,"-overflow-hidden");return tt(function(){t.preventScrollThrough&&document.body.classList.add(l)}),Nn(function(){t.preventScrollThrough&&document.body.classList.remove(l)}),k$({name:q(sr),classes:o,iconContent:i,messageContent:a},He(t))}});function _$(e,t,n,r,a,i){var o=ge("t-mask"),l=ge("t-node");return H(),W("div",null,[Ge(R(o,null,null,512),[[qe,e.preventScrollThrough]]),J("div",{class:z(e.classes)},[R(l,{content:e.iconContent},null,8,["content"]),e.messageContent?(H(),W("div",{key:0,class:z("".concat(e.name,"__text"))},[R(l,{content:e.messageContent},null,8,["content"])],2)):se("",!0)],2)])}o1.render=_$;/**
 * tdesign v0.8.5
 * (c) 2022 TDesign Group
 * @license MIT
 */function _m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Qs(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?_m(Object(n),!0).forEach(function(r){te(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_m(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var In=null,bu;function gi(e){var t=document.createElement("div");document.body.appendChild(t);var n=Qs({duration:2e3},A$(e));return In&&In.clear(),In=o1,In.clear=function(){clearTimeout(In.timer),bu.unmount(),t.remove()},n.duration&&n.duration>0&&(In.timer=setTimeout(In.clear,n.duration)),bu=Uo(In,Qs({},n)),bu.mount(t),In}gi.clear=function(){In&&In.clear()};["loading","success","fail"].forEach(function(e){!e||(gi[e]=function(t){var n={message:"",type:e};return typeof t=="string"?n.message=t:n=Qs(Qs({},n),t),gi(n)})});function A$(e){return typeof e=="string"?{message:e}:e}gi.install=function(e){e.config.globalProperties.$toast=gi};var D$=gi;/**
 * tdesign v0.8.5
 * (c) 2022 TDesign Group
 * @license MIT
 */function Am(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Dm(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Am(Object(n),!0).forEach(function(r){te(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Am(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var s1=De.prefix,Su="".concat(s1,"-search"),l1=ee({name:Su,components:{TIconSearch:tk,TCloseIcon:D0,TButton:_a,TInput:_b},props:{autofocus:{type:Boolean,default:!1},clearable:{type:Boolean,default:!0},placeholder:{type:String,default:""},modelValue:{type:String,default:""},cancelButtonText:{type:String,default:"\u53D6\u6D88"}},emits:["change","update:modelValue","clear","cancel"],setup:function(t,n){var r=n.emit,a=j(function(){var E;return E={},te(E,"".concat(Su),!0),te(E,"".concat(s1,"-is-focused"),!o.labelActive),E}),i=q(),o=Me({labelActive:!0,inputVal:""}),l=j({get:function(){return o.labelActive},set:function(m){o.labelActive=!m}}),u=j({get:function(){return t.modelValue||o.inputVal},set:function(m){r("change",m),r("update:modelValue",m),o.inputVal=m}}),s=function(){var m;(m=i.value)===null||m===void 0||m.focus()},c=function(){var m;(m=i.value)===null||m===void 0||m.blur()},f=function(){l.value=o.labelActive,s()},v=function(m){l.value=o.labelActive,u.value="",c(),r("cancel",m)},S=function(m){u.value="",s(),r("clear",m)};return L0({focus:s,blur:c}),Dm(Dm({},He(t)),{},{name:q(Su),classes:a,onClick:f,onCancel:v,onClear:S,state:o,currentValue:u,searchInput:i})}});function P$(e,t,n,r,a,i){var o=ge("t-icon-search"),l=ge("t-input"),u=ge("t-close-icon"),s=ge("t-button");return H(),W("div",{class:z(e.classes)},[J("div",{class:z("".concat(e.name,"__form"))},[J("div",{class:z("".concat(e.name,"__box"))},[J("div",{class:z("".concat(e.name,"__icon-search"))},[R(o)],2),R(l,{ref:"searchInput",modelValue:e.currentValue,"onUpdate:modelValue":t[0]||(t[0]=function(c){return e.currentValue=c}),class:z("".concat(e.name,"__input")),type:"search",autofocus:e.autofocus,placeholder:e.placeholder},null,8,["modelValue","class","autofocus","placeholder"]),J("div",{class:z("".concat(e.name,"__icon-close"))},[e.clearable&&e.currentValue.length>0?(H(),Oe(u,{key:0,onClick:e.onClear},null,8,["onClick"])):se("",!0)],2)],2),Ge(J("label",{class:z("".concat(e.name,"__label")),onClick:t[1]||(t[1]=function(){return e.onClick&&e.onClick.apply(e,arguments)})},[J("div",{class:z("".concat(e.name,"__label-icon-search"))},[R(o)],2),J("span",{class:z("".concat(e.name,"__label-text"))},_e(e.placeholder),3)],2),[[qe,e.state.labelActive]])],2),Ge(R(s,{variant:"text",class:z("".concat(e.name,"__cancel-button")),onClick:e.onCancel},{default:Ue(function(){return[et(_e(e.cancelButtonText),1)]}),_:1},8,["class","onClick"]),[[qe,!e.state.labelActive]])],2)}l1.render=P$;/**
 * tdesign v0.8.5
 * (c) 2022 TDesign Group
 * @license MIT
 */var I$=Le(l1);/**
 * tdesign v0.8.5
 * (c) 2022 TDesign Group
 * @license MIT
 */var L$={current:{type:[String,Number],default:void 0},modelValue:{type:[String,Number],default:void 0},defaultCurrent:{type:[String,Number],default:0},layout:{type:String,default:"horizontal",validator:function(t){return["horizontal","vertical"].includes(t)}},options:{type:Array},readonly:Boolean,theme:{type:String,default:"default",validator:function(t){return["default","dot"].includes(t)}},onChange:Function};/**
 * tdesign v0.8.5
 * (c) 2022 TDesign Group
 * @license MIT
 */var R$={content:{type:[String,Function],default:""},icon:{type:[Boolean,Function],default:!0},status:{type:String,default:"default",validator:function(t){return["default","process","finish","error"].includes(t)}},title:{type:[String,Function],default:""}};/**
 * tdesign v0.8.5
 * (c) 2022 TDesign Group
 * @license MIT
 */var x$=De.prefix,Yn="".concat(x$,"-step"),Kd=ee({name:Yn,components:{TNode:st},props:R$,setup:function(t){var n=Be(),r=n.proxy,a=Qe("stepsProvide",void 0);a.relation(r);var i=j(function(){return a.state.children.indexOf(r)}),o=j(function(){return a.theme}),l=j(function(){return o.value==="dot"&&a.layout==="vertical"}),u=j(function(){return ze(n,"icon")}),s=j(function(){return l.value?"":t.status==="error"?yt(_i):i.value<S.value&&m.value?yt($d):typeof u.value=="boolean"?u.value?i.value+1:"":u.value}),c=j(function(){return ze(n,"title")}),f=j(function(){return ze(n,"content")}),v=j(function(){return ze(n,"extra")}),S=j(function(){return a.current.value||a.defaultCurrent||0}),E=j(function(){return a.status}),m=j(function(){return a.readonly}),d=j(function(){return[Yn,te({},"".concat(Yn,"--default"),!m.value),te({},"".concat(Yn,"--").concat(p.value),p.value)]}),g=j(function(){return typeof u.value=="boolean"?["".concat(Yn,"__inner")]:["".concat(Yn,"__inner"),"".concat(Yn,"__inner__icon")]}),h=j(function(){return["".concat(Yn,"-icon__number"),te({},"".concat(Yn,"-icon__dot"),l.value)]}),p=j(function(){var y=t.status;return y!=="default"?y:i.value<S.value?"finish":i.value===S.value?"process":""}),b=function(C){!m.value&&!l.value&&a.onClickItem(i.value,S.value,C)};return{dot:l,name:Yn,theme:o,index:i,current:S,readonly:m,iconNode:u,stepsStatus:E,descContent:f,iconContent:s,onClickIcon:b,titleContent:c,extraContent:v,rootClassName:d,currentStatus:p,iconClassName:h,innerClassName:g}}});function $$(e,t,n,r,a,i){var o=ge("t-node");return H(),W("div",{class:z(e.rootClassName)},[J("div",{class:z(e.innerClassName),onClick:t[0]||(t[0]=function(){return e.onClickIcon&&e.onClickIcon.apply(e,arguments)})},[J("div",{class:z("".concat(e.name,"-icon"))},[J("div",{class:z(e.iconClassName)},[R(o,{content:e.iconContent},null,8,["content"])],2)],2),J("div",{class:z("".concat(e.name,"-content"))},[J("div",{class:z("".concat(e.name,"-title"))},[R(o,{content:e.titleContent},null,8,["content"])],2),J("div",{class:z("".concat(e.name,"-description"))},[R(o,{content:e.descContent},null,8,["content"])],2),J("div",{class:z("".concat(e.name,"-extra"))},[R(o,{content:e.extraContent},null,8,["content"])],2)],2)],2)],2)}Kd.render=$$;/**
 * tdesign v0.8.5
 * (c) 2022 TDesign Group
 * @license MIT
 */function Pm(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Tu(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Pm(Object(n),!0).forEach(function(r){te(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Pm(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var M$=De.prefix,Qi="".concat(M$,"-steps"),u1=ee({name:Qi,components:{TStepItem:Kd},props:L$,emits:["update:current","update:modelValue","change"],setup:function(t,n){var r=j(function(){return[Qi,"".concat(Qi,"--").concat(t.layout),te({},"".concat(Qi,"--readonly"),t.readonly),"".concat(Qi,"--").concat(t.theme,"-anchor")]}),a=Vt(t,n.emit,"current","change"),i=Ot(a,2),o=i[0],l=i[1],u=Me({children:[]}),s=function(v){v&&u.children.push(v)},c=function(v,S,E){l(v,S,{e:E})};return ct("stepsProvide",Tu(Tu({},t),{},{state:u,current:o,relation:s,onClickItem:c})),Tu({baseClass:r,onClickItem:c},He(t))}});function F$(e,t,n,r,a,i){var o=ge("t-step-item");return H(),W("div",{class:z(e.baseClass)},[Ye(e.$slots,"default",{},function(){return[(H(!0),W(Te,null,Ne(e.options,function(l,u){return H(),Oe(o,{key:u,title:l.title,content:l.content,icon:l.icon,status:l.status},null,8,["title","content","icon","status"])}),128))]})],2)}u1.render=F$;/**
 * tdesign v0.8.5
 * (c) 2022 TDesign Group
 * @license MIT
 */var B$=Le(Kd),N$=Le(u1);/**
 * tdesign v0.8.5
 * (c) 2022 TDesign Group
 * @license MIT
 */var j$={height:{type:Number},list:{type:Array,default:function(){return[]},required:!0},onSelect:Function};/**
 * tdesign v0.8.5
 * (c) 2022 TDesign Group
 * @license MIT
 */function Im(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Lm(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Im(Object(n),!0).forEach(function(r){te(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Im(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var U$=De.prefix,Cu="".concat(U$,"-indexes"),c1=ee({name:Cu,props:j$,emits:["select"],setup:function(t,n){var r=pt(t,n.emit),a,i=q(null),o=Me({componentName:Cu,list:t.list,showSidebarTip:!1,activeSidebar:""}),l=q([]),u=function(b){return function(y){l.value[b]=y}},s=j(function(){if(typeof t.height!="number")return{};var p=Number(t.height);return{height:p===0?0:"".concat(p,"px")}}),c=function(){var b,y=l.value,C=y.filter(function(w){var k=w.dataset;return k&&k.index===o.activeSidebar});(b=C[0])===null||b===void 0||b.scrollIntoView()},f=function(b){for(var y=l.value,C="",w=0;w<y.length-1;w++)if(b<y[w+1].offsetTop){var k;C=(k=y[w].dataset.index)!==null&&k!==void 0?k:"";break}if(b>=y[y.length-1].offsetTop){var _;C=(_=y[y.length-1].dataset.index)!==null&&_!==void 0?_:""}o.activeSidebar=C},v=function(b){o.activeSidebar=b,o.showSidebarTip=!0};yl(function(){o.showSidebarTip&&g()});var S=function(b){v(b),c()},E=function(b){b.stopPropagation();var y=b.touches;y[0].clientX,y[0].clientX},m=function(b){b.preventDefault();var y=b.touches,C=y[0],w=C.clientX,k=C.clientY,_=document.elementFromPoint(w,k);if(_&&_.className==="".concat(Cu,"__sidebar-item")&&_ instanceof HTMLElement){var T=_.dataset.index;T!==void 0&&o.activeSidebar!==T&&(v(T),c())}},d=function(b){i.value&&f(i.value.scrollTop)},g=function(){o.showSidebarTip&&o.activeSidebar&&(a&&clearTimeout(a),a=window.setTimeout(function(){o.showSidebarTip=!1},1e3))},h=function(b){r("select",b)};return tt(function(){var p=l.value;if(p.length>0){var b=p[0].dataset.index;b!==void 0&&(o.activeSidebar=b)}}),Bn(function(){a&&clearTimeout(a)}),Lm(Lm({},He(o)),{},{indexesRoot:i,indexesRootStyle:s,anchor:l,setAnchorRefs:u,handleSidebarItemClick:S,handleSidebarTouchmove:m,handleSidebarTouchstart:E,handleRootScroll:d,handleCellClick:h})}}),V$=["data-index","onClick"],H$=["data-index"];function z$(e,t,n,r,a,i){var o=ge("t-indexes-cell");return H(),W("div",{ref:"indexesRoot",style:Ae(e.indexesRootStyle),class:z(e.componentName),onScroll:t[2]||(t[2]=function(){return e.handleRootScroll&&e.handleRootScroll.apply(e,arguments)})},[e.list.length>0?(H(),W("div",{key:0,class:z("".concat(e.componentName,"__sidebar")),onTouchstart:t[0]||(t[0]=function(){return e.handleSidebarTouchstart&&e.handleSidebarTouchstart.apply(e,arguments)}),onTouchmove:t[1]||(t[1]=function(){return e.handleSidebarTouchmove&&e.handleSidebarTouchmove.apply(e,arguments)})},[(H(!0),W(Te,null,Ne(e.list,function(l){return H(),W("div",{key:l.index,class:z(["".concat(e.componentName,"__sidebar-item"),e.activeSidebar===l.index?"".concat(e.componentName,"__sidebar-item--active"):""]),"data-index":l.index,onClick:Qn(function(u){return e.handleSidebarItemClick(l.index)},["prevent"])},[et(_e(l.index)+" ",1),e.showSidebarTip&&e.activeSidebar===l.index?(H(),W("div",{key:0,class:z("".concat(e.componentName,"__sidebar-tip"))},[J("span",{class:z("".concat(e.componentName,"__sidebar-tip-text"))},_e(e.activeSidebar),3)],2)):se("",!0)],10,V$)}),128))],34)):se("",!0),(H(!0),W(Te,null,Ne(e.list,function(l,u){var s;return H(),W("div",{ref_for:!0,ref:e.setAnchorRefs(u),key:l.index,"data-index":l.index},[J("div",{class:z(["".concat(e.componentName,"__anchor")])},_e((s=l.title)!==null&&s!==void 0?s:l.index),3),J("div",{class:z(["".concat(e.componentName,"__group")])},[(H(!0),W(Te,null,Ne(l.children,function(c,f){return H(),Oe(o,{key:c.title,value:String(c.title),title:c.title,link:!0,bordered:!1,onClick:function(S){return e.handleCellClick({groupIndex:l.index,childrenIndex:f})}},null,8,["value","title","onClick"])}),128))],2)],8,H$)}),128))],38)}c1.render=z$;/**
 * tdesign v0.8.5
 * (c) 2022 TDesign Group
 * @license MIT
 */var G$=De.prefix,Rm="".concat(G$,"-indexes-cell"),d1=ee({name:Rm,components:{TCell:Nd},props:{title:{type:String,default:""},key:{type:String,default:""},value:{type:String,default:""},link:{type:Boolean,default:!1}},setup:function(t,n){var r="",a=Me({title:t.title,value:t.value,link:t.link,key:t.key,componentName:Rm});return{state:a,currentSidebar:r}}});function K$(e,t,n,r,a,i){var o=ge("t-cell");return H(),Oe(o,{class:z(e.state.componentName),"data-key":e.state.key,title:e.state.title,value:e.state.value,link:e.state.link},null,8,["class","data-key","title","value","link"])}d1.render=K$;/**
 * tdesign v0.8.5
 * (c) 2022 TDesign Group
 * @license MIT
 */var W$=Le(c1),Y$=Le(d1);/**
 * tdesign v0.8.5
 * (c) 2022 TDesign Group
 * @license MIT
 */var q$={closable:Boolean,content:{type:[String,Number,Function]},disabled:Boolean,icon:{type:Function,default:void 0},maxWidth:{type:[String,Number]},shape:{type:String,default:"square",validator:function(t){return["square","round","mark"].includes(t)}},size:{type:String,default:"medium",validator:function(t){return["small","medium","large"].includes(t)}},theme:{type:String,default:"default",validator:function(t){return["default","primary","warning","danger","success"].includes(t)}},variant:{type:String,default:"dark",validator:function(t){return["dark","light","outline","light-outline"].includes(t)}},onClick:Function,onClose:Function};/**
 * tdesign v0.8.5
 * (c) 2022 TDesign Group
 * @license MIT
 */var ai=De.prefix,xm="".concat(ai,"-tag"),f1=ee({name:xm,components:{CloseIcon:_i,TNode:st},props:q$,emits:["close","click"],setup:function(t,n){var r=pt(t,n.emit),a=Be(),i=j(function(){return Xt(a,"default","content")}),o=j(function(){return ze(a,"icon")}),l=xm,u=He(t),s=u.size,c=u.shape,f=u.theme,v=u.variant,S=u.maxWidth,E=u.disabled,m=u.closable,d={};S!=null&&S.value&&(d.maxWidth="".concat(S.value,"px"));var g=j(function(){var b;return["".concat(l),"".concat(l,"-").concat(f.value),"".concat(l,"--").concat(c.value),(b={},te(b,"".concat(l,"-").concat(v.value),v.value),te(b,"".concat(ai,"-is-error"),f.value==="danger"),te(b,"".concat(ai,"-is-success"),f.value==="success"),te(b,"".concat(ai,"-is-warning"),f.value==="warning"),te(b,"".concat(ai,"-is-closable ").concat(l,"--closable"),m.value),te(b,"".concat(ai,"-is-disabled ").concat(l,"--disabled"),E.value),te(b,"".concat(l,"--size-").concat(s.value),s.value),b)]});function h(b){t.disabled||r("close",b)}var p=function(y){t.disabled||r("click",y)};return{baseClass:l,classes:g,style:d,onClickClose:h,handleClick:p,iconContent:o,tagContent:i}}}),X$=["aria-disabled"];function Z$(e,t,n,r,a,i){var o=ge("t-node"),l=ge("close-icon");return H(),W("span",{class:z(e.classes),style:Ae(e.style),"aria-disabled":e.disabled,role:"button",onClick:t[0]||(t[0]=function(){return e.handleClick&&e.handleClick.apply(e,arguments)})},[J("span",{class:z("".concat(e.baseClass,"__icon"))},[R(o,{content:e.iconContent},null,8,["content"])],2),J("span",{class:z("".concat(e.baseClass,"__text"))},[R(o,{content:e.tagContent},null,8,["content"])],2),e.closable&&!e.disabled?(H(),Oe(l,{key:0,class:z("".concat(e.baseClass,"__close")),onClick:e.onClickClose},null,8,["class","onClick"])):se("",!0)],14,X$)}f1.render=Z$;/**
 * tdesign v0.8.5
 * (c) 2022 TDesign Group
 * @license MIT
 */var J$={checked:{type:Boolean,default:void 0},modelValue:{type:Boolean,default:void 0},defaultChecked:{type:Boolean,default:void 0},closable:Boolean,content:{type:[String,Number,Function]},disabled:Boolean,icon:{type:Function},shape:{type:String,default:"square",validator:function(t){return["square","round","mark"].includes(t)}},size:{type:String,default:"medium",validator:function(t){return["small","medium","large"].includes(t)}},onChange:Function,onClick:Function};/**
 * tdesign v0.8.5
 * (c) 2022 TDesign Group
 * @license MIT
 */var go=De.prefix,Q$="".concat(go,"-check-tag"),h1=ee({name:Q$,components:{CloseIcon:_i,TNode:st,TButton:_a},props:J$,emits:["change","click","update:checked","update:modelValue"],setup:function(t,n){var r=pt(t,n.emit),a="".concat(go,"-tag"),i=He(t),o=i.size,l=i.shape,u=i.disabled,s=i.closable,c=Vt(t,n.emit,"checked","change"),f=Ot(c,1),v=f[0],S=[!0,!1],E=R0(S,v.value),m=E.state,d=E.toggle,g=Be(),h=j(function(){return Xt(g,"default","content")}),p=j(function(){return ze(g,"icon")}),b=j(function(){var w;return["".concat(a),"".concat(a,"--checkable"),"".concat(a,"--").concat(l.value),(w={},te(w,"".concat(a,"--size-").concat(o.value),o.value),te(w,"".concat(go,"-is-closable ").concat(a,"--closable"),s.value),te(w,"".concat(go,"-is-disabled ").concat(a,"--disabled"),u.value),te(w,"".concat(go,"-is-checked ").concat(a,"--checked"),v.value),w)]});function y(w){t.disabled?w.stopPropagation():r("close",w)}var C=function(k){u.value||(d(),r("click",{e:k}),v.value=m.value)};return{baseClass:a,classes:b,handleClickClose:y,handleClick:C,iconContent:p,tagContent:h,innerChecked:v}}});function e2(e,t,n,r,a,i){var o=ge("t-node"),l=ge("close-icon"),u=ge("t-button");return H(),Oe(u,{class:z(e.classes),disabled:e.disabled,role:"button","aria-disabled":e.disabled,"aria-checked":e.innerChecked,onClick:e.handleClick},{default:Ue(function(){return[J("div",{class:z("".concat(e.baseClass,"__icon"))},[R(o,{content:e.iconContent},null,8,["content"])],2),J("div",{class:z("".concat(e.baseClass,"__text"))},[R(o,{content:e.tagContent},null,8,["content"])],2),e.closable&&!e.disabled?(H(),Oe(l,{key:0,class:z("".concat(e.baseClass,"__close")),onClick:e.handleClickClose},null,8,["class","onClick"])):se("",!0)]}),_:1},8,["class","disabled","aria-disabled","aria-checked","onClick"])}h1.render=e2;/**
 * tdesign v0.8.5
 * (c) 2022 TDesign Group
 * @license MIT
 */var t2=Le(f1),n2=Le(h1);/**
 * tdesign v0.8.5
 * (c) 2022 TDesign Group
 * @license MIT
 */var r2={bordered:{type:Boolean,default:!0},fixed:{type:Boolean,default:!0},value:{type:[String,Number,Array],default:void 0},modelValue:{type:[String,Number,Array],default:void 0},defaultValue:{type:[String,Number,Array],default:void 0},onChange:Function};/**
 * tdesign v0.8.5
 * (c) 2022 TDesign Group
 * @license MIT
 */var a2=De.prefix,rs="".concat(a2,"-tab-bar"),v1=ee({name:rs,props:r2,emits:["update:value","update:modelValue","change"],setup:function(t,n){var r=Vt(t,n.emit,"value","change"),a=Ot(r,1),i=a[0],o=q(-1),l=function(c){i.value=c},u=j(function(){var s;return["".concat(rs),(s={},te(s,"".concat(rs,"--bordered"),t.bordered),te(s,"".concat(rs,"--fixed"),t.fixed),s)]});return ct("tab-bar",{defaultIndex:o,activeValue:i,updateChild:l}),{tabbarClass:u}}});function i2(e,t,n,r,a,i){return H(),W("div",{class:z(e.tabbarClass),role:"tablist"},[Ye(e.$slots,"default")],2)}v1.render=i2;/**
 * tdesign v0.8.5
 * (c) 2022 TDesign Group
 * @license MIT
 */var o2=function(t){var n,r=t,a=Be();if(typeof(a==null||(n=a.props)===null||n===void 0?void 0:n.value)!="undefined"){var i;return a==null||(i=a.props)===null||i===void 0?void 0:i.value}return r.value+=1,r.value};/**
 * tdesign v0.8.5
 * (c) 2022 TDesign Group
 * @license MIT
 */var s2={badgeProps:{type:Object},icon:{type:Function},subTabBar:{type:Array},value:{type:[String,Number]}};/**
 * tdesign v0.8.5
 * (c) 2022 TDesign Group
 * @license MIT
 */function $m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Mm(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?$m(Object(n),!0).forEach(function(r){te(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$m(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var m1=De.prefix,Fm="".concat(m1,"-tab-bar-item"),g1=ee({name:Fm,components:{TNode:st,TBadge:$l},props:s2,setup:function(t){var n=Qe("tab-bar"),r=n.defaultIndex,a=n.activeValue,i=n.updateChild,o=o2(r),l=!!t.subTabBar,u=q(!1),s=j(function(){return l&&Array.isArray(a.value)?a.value.includes(o):o===a.value});oe(s,function(d){d||(u.value=!1)});var c=j(function(){return Array.isArray(a.value)&&a.value[0]===o}),f=function(){l&&(u.value=!u.value,c.value||i([o])),i(o)},v=function(g){Array.isArray(a.value)&&a.value[1]===g||i([o,g]),u.value=!1},S=Be(),E=j(function(){return Xt(S,"default","content")}),m=j(function(){return ze(S,"icon")});return Mm(Mm({},He(t)),{},{prefix:m1,componentName:Fm,isChecked:s,toggle:f,isSpread:u,selectChild:v,itemContent:E,iconContent:m})}}),l2=["aria-selected","aria-haspopup"],u2=["aria-label","onClick"];function c2(e,t,n,r,a,i){var o,l=ge("t-node"),u=ge("t-badge");return H(),W("div",{role:"tab","aria-label":"TabBar","aria-selected":e.isChecked,"aria-haspopup":e.subTabBar&&e.subTabBar.length>0,class:z([e.componentName,e.iconContent&&"".concat(e.prefix,"-no-border")])},[J("div",{class:z((o={},te(o,"".concat(e.componentName,"__content"),!0),te(o,"".concat(e.prefix,"-is-checked"),e.isChecked),te(o,"".concat(e.componentName,"--onlytext"),!e.iconContent),o)),onClick:t[0]||(t[0]=function(){return e.toggle&&e.toggle.apply(e,arguments)})},[e.iconContent?(H(),W("div",{key:0,class:z("".concat(e.componentName,"__icon"))},[e.badgeProps&&(e.badgeProps.dot||e.badgeProps.count)?(H(),Oe(u,{key:0,count:e.badgeProps.count,"max-count":e.badgeProps.maxCount||99,dot:e.badgeProps.dot,content:e.badgeProps.content,size:e.badgeProps.size,offset:e.badgeProps.offset||[0,5]},{default:Ue(function(){return[R(l,{content:e.iconContent},null,8,["content"])]}),_:1},8,["count","max-count","dot","content","size","offset"])):(H(),Oe(l,{key:1,content:e.iconContent},null,8,["content"]))],2)):se("",!0),e.itemContent?(H(),W("div",{key:1,class:z("".concat(e.componentName,"__text"))},[e.subTabBar&&e.subTabBar.length>0?(H(),W("div",{key:0,class:z("".concat(e.componentName,"__icon-menu"))},null,2)):se("",!0),R(l,{content:e.itemContent},null,8,["content"])],2)):se("",!0)],2),R(yn,{name:"spread"},{default:Ue(function(){return[e.subTabBar&&e.subTabBar.length>0&&e.isSpread?(H(),W("ul",{key:0,role:"menu",class:z("".concat(e.componentName,"__spread"))},[(H(!0),W(Te,null,Ne(e.subTabBar,function(s,c){return H(),W("li",{key:s.value||c,role:"menuitem","aria-label":s.label,class:z("".concat(e.componentName,"__spread-item")),onClick:function(v){return e.selectChild(s.value||c)}},_e(s.label),11,u2)}),128))],2)):se("",!0)]}),_:1})],10,l2)}g1.render=c2;/**
 * tdesign v0.8.5
 * (c) 2022 TDesign Group
 * @license MIT
 */var d2=Le(v1),f2=Le(g1);/**
 * tdesign v0.8.5
 * (c) 2022 TDesign Group
 * @license MIT
 */var Pc=function(e){return e.expanded="expanded",e.collapsed="collapsed",e}(Pc||{}),eo=null,Bm={expandedMenuControl:null,recordMenuExpanded:function(t,n,r){var a=t;if(r==="expanded"){var i=this.expandedMenuControl;i&&i!==n&&i.collapseMenu(),this.expandedMenuControl=n,eo===null&&(eo=t.style.overflow,a.style.overflow="hidden")}else r==="collapsed"&&(this.expandedMenuControl===n&&(this.expandedMenuControl=null),!this.expandedMenuControl&&eo!==null&&(a.style.overflow=eo,eo=null))}};/**
 * tdesign v0.8.5
 * (c) 2022 TDesign Group
 * @license MIT
 */var h2=function(){function e(){Xb(this,e),te(this,"timeout",void 0),te(this,"finallyDo",void 0),this.timeout=null,this.finallyDo=Zs}return Zb(e,[{key:"setTo",value:function(n,r,a,i){var o=this;this.timeout&&(window.clearTimeout(this.timeout),this.finallyDo()),r(),Re(function(){return window.setTimeout(a,0)}),this.finallyDo=i,this.timeout=window.setTimeout(function(){o.finallyDo(),o.finallyDo=Zs,o.timeout=0},n)}}]),e}();/**
 * tdesign v0.8.5
 * (c) 2022 TDesign Group
 * @license MIT
 */var Ic=function(t){for(var n=t;n&&n!==document.body;){var r=getComputedStyle(n),a=r.transform;if(!/matrix\([\d,\s]+\)/.test(a)){n=n.parentNode;continue}return n}return null},v2=function(t){var n=Ic(t),r=n?n.getBoundingClientRect():{top:0,left:0},a=t.getBoundingClientRect(),i=a.top,o=a.left,l=a.bottom,u=a.right,s=a.width,c=a.height;return{top:i-r.top,bottom:l-r.top,left:o-r.left,right:u-r.left,width:s,height:c}};/**
 * tdesign v0.8.5
 * (c) 2022 TDesign Group
 * @license MIT
 */var m2={activeColor:{type:String,default:""},closeOnClickOverlay:{type:Boolean,default:!0},duration:{type:[String,Number],default:200},overlay:{type:Boolean,default:!0},zIndex:{type:Number}};/**
 * tdesign v0.8.5
 * (c) 2022 TDesign Group
 * @license MIT
 */function Nm(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function jm(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Nm(Object(n),!0).forEach(function(r){te(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Nm(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var Ms=De.prefix,la="".concat(Ms,"-dropdown-menu"),p1=ee({name:la,props:m2,setup:function(t,n){var r=n.slots,a=Me({activeId:null,barRect:{},childCount:0}),i=q([]),o=function(){if(r.default){var g="".concat(Ms,"-dropdown-item"),h=r.default();i.value=h.filter(function(p){var b,y=p==null||(b=p.type)===null||b===void 0?void 0:b.name;return(y==null?void 0:y.includes)&&y.includes(g)})}};Cd(o);var l=j(function(){return i.value.map(function(d){var g=d.props,h=g.label,p=g.disabled;return{label:h,disabled:p!==void 0&&p!==!1}})}),u=new h2;ct("dropdownMenuProps",t),ct("dropdownMenuState",a),ct("dropdownAniControl",u);var s=j(function(){return["".concat(la)]}),c=q(null),f=j(function(){return["".concat(la,"__bar"),te({},"".concat(la,"__bar ").concat(la,"__bar--open"),a.activeId)]}),v=j(function(){return function(d,g){var h;return["".concat(la,"__item"),(h={},te(h,"".concat(Ms,"-is-disabled"),d.disabled),te(h,"".concat(Ms,"-is-active"),g===a.activeId),h)]}}),S=function(g,h){var p=g.disabled;if(!p){if(a.activeId===h){E();return}a.activeId=h;var b=c.value,y=v2(b);a.barRect=y;var C=Ic(b)||document.body;Bm.recordMenuExpanded(C,m,Pc.expanded)}},E=function(){a.activeId=null;var g=c.value,h=Ic(g)||document.body;Bm.recordMenuExpanded(h,m,Pc.collapsed)},m={expandMenu:S,collapseMenu:E};return ct("dropdownMenuControl",m),jm(jm({name:q(la),classes:s},He(t)),{},{refBar:c,state:a,styleBar:f,styleBarItem:v,menuItems:i,menuTitles:l,expandMenu:S})}}),g2=["onClick"];function p2(e,t,n,r,a,i){return H(),W("div",{class:z(e.classes)},[J("div",{ref:"refBar",class:z(e.styleBar)},[(H(!0),W(Te,null,Ne(e.menuTitles,function(o,l){return H(),W("div",{key:l,class:z(e.styleBarItem(o,l)),onClick:function(s){return e.expandMenu(o,l)}},[J("div",{class:z("".concat(e.name,"__title"))},_e(o.label),3)],10,g2)}),128))],2),Ye(e.$slots,"default")],2)}p1.render=p2;/**
 * tdesign v0.8.5
 * (c) 2022 TDesign Group
 * @license MIT
 */var y2={disabled:Boolean,label:{type:String,default:""},multiple:Boolean,options:{type:Array},optionsColumns:{type:[String,Number]},optionsLayout:{type:String,default:"columns",validator:function(t){return["columns","tree"].includes(t)}},value:{type:[String,Number,Array],default:void 0},modelValue:{type:[String,Number,Array],default:void 0},defaultValue:{type:[String,Number,Array],default:void 0},onChange:Function};/**
 * tdesign v0.8.5
 * (c) 2022 TDesign Group
 * @license MIT
 */function Um(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Eu(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Um(Object(n),!0).forEach(function(r){te(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Um(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var Cn=De.prefix,Ba="".concat(Cn,"-dropdown-item"),y1=ee({name:Ba,components:{TMask:Rl,TRadio:Ib,TButton:_a,TCheckbox:vb,TRadioGroup:Rb,TCheckboxGroup:Ob},props:y2,emits:["change","open","opened","close","closed","update:value","update:modelValue"],setup:function(t,n){var r=pt(t,n.emit),a=Vt(t,n.emit,"value","change"),i=Ot(a,2),o=i[0],l=i[1],u=Qe("dropdownMenuProps"),s=Qe("dropdownMenuState"),c=Qe("dropdownMenuControl"),f=c.expandMenu,v=c.collapseMenu,S=Qe("dropdownAniControl"),E=j(function(){return["".concat(Ba),te({},"".concat(Cn,"-is-expanded"),d.isExpanded)]}),m=q(0);Cd(function(){m.value=s.childCount,s.childCount+=1});var d=Me({showOverlay:j(function(){return u.overlay}),isShowItems:!1,isExpanded:!1,expandStyle:{},transitionStyle:j(function(){return{transition:"transform ".concat(u.duration,"ms ease"),"-webkit-transition":"transform ".concat(u.duration,"ms ease")}}),multiple:j(function(){return t.multiple}),optionsLayout:j(function(){return t.optionsLayout}),options:j(function(){return t.options})}),g=function(F){return F===y.value},h=function(F){var U;return["".concat(Ba,"__radio"),(U={},te(U,"".concat(Cn,"-is-tick"),!t.multiple),te(U,"".concat(Cn,"-is-checked"),g(F)),U)]},p=j(function(){var N,F,U=t.optionsLayout,B=+((N=t.optionsColumns)!==null&&N!==void 0?N:0),K=U==="tree",V=K?w.leafLevel+1:0;return["".concat(Ba,"__content"),(F={},te(F,"".concat(Cn,"-is-tree"),K),te(F,"".concat(Cn,"-is-single"),!K&&!t.multiple),te(F,"".concat(Cn,"-is-multi"),!K&&t.multiple),te(F,"".concat(Cn,"-is-col1"),B===1||V===1),te(F,"".concat(Cn,"-is-col2"),B===2||V===2),te(F,"".concat(Cn,"-is-col3"),B===3||V===3),F)]}),b=function(F){var U=s.barRect.bottom;d.expandStyle={zIndex:u.zIndex,top:"".concat(U,"px")};var B=u.duration;S.setTo(+(B!=null?B:200),function(){r(F?"open":"close"),F&&(d.isShowItems=F),d.isExpanded=!F},function(){d.isExpanded=F},function(){F||(d.isShowItems=F),r(F?"opened":"closed")})};oe(function(){return s.activeId===m.value},function(N){return b(N)});var y=q(),C=q([]),w=Me({leafLevel:0,selectList:[]}),k=j(function(){return function(N,F){var U;return["".concat(Ba,"__radio"),(U={},te(U,"".concat(Cn,"-is-tick"),F===w.leafLevel),te(U,"".concat(Cn,"-is-checked"),N===w.selectList[F]),U)]}}),_=function(F,U){var B=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,K=w.selectList.slice(0,F);K[F]=U,w.selectList=K,B&&O()},T=q([]),O=function(){for(var F=t.options,U=w.selectList,B=[],K=-1,V={title:"",value:"",disabled:!1,options:F},X=function(){var ye=V.options;B.push(Nt(ye)),K+=1;var de=U[K];if(de===void 0){var be=ye[0];if(be.options)_(K,be.value,!1),V=be;else return _(K,t.multiple?[]:void 0,!1),"break"}else if(Array.isArray(de))V=void 0;else{var G=ye.find(function(Y){return Y.value===de});V=G}};(Z=V)!==null&&Z!==void 0&&Z.options;){var Z,ne=X();if(ne==="break")break}w.leafLevel=Math.max(0,K),T.value=B};t.optionsLayout==="tree"&&(oe(function(){return JSON.stringify({options:t.options})},Md(mi.mark(function N(){return mi.wrap(function(U){for(;;)switch(U.prev=U.next){case 0:return U.next=2,Re();case 2:O();case 3:case"end":return U.stop()}},N)}))),O());var A=function(F){var U=t.optionsLayout;if(U==="tree")w.selectList=F!=null?F:[],O();else if(U==="columns")if(t.multiple)t.multiple&&t.optionsLayout==="columns"&&(C.value=F!=null?F:[]);else{var B,K=t.options,V=K==null?void 0:K[0],X=(B=F!=null?F:V==null?void 0:V.value)!==null&&B!==void 0?B:null;y.value=X}};A(o.value),oe(function(){return o.value},function(N){return A(N)});var P=j(function(){switch(t.optionsLayout){case"columns":return C.value.length<=0;case"tree":if(!t.multiple)return w.selectList[w.leafLevel]===void 0;if(t.multiple){var N=w.selectList[w.leafLevel];return N&&N.length<=0}}return!0}),D=function(){switch(t.optionsLayout){case"columns":C.value=[];break;case"tree":w.selectList=[];break}},I=function(){var F;switch(t.optionsLayout){case"columns":F=C.value;break;case"tree":F=w.selectList;break}F=JSON.parse(JSON.stringify(F)),l(F),v()};oe(y,function(N){if(!(t.multiple||t.optionsLayout==="tree")&&!!d.isShowItems){var F=o.value||[];F[0]!==N&&(N&&Array.isArray(N)&&l(N),v())}});var x=function(){u.closeOnClickOverlay&&v()},L=yt($d),$=function(F){return F},M=function(F){return F};return Eu(Eu(Eu({name:q(Ba)},He(t)),He(d)),{},{classes:E,styleContent:p,isBtnDisabled:P,radioSelect:y,checkSelect:C,treeOptions:T,treeState:w,styleTreeRadio:k,isCheckedRadio:g,selectTreeNode:_,styleDropRadio:h,expandMenu:f,collapseMenu:v,resetSelect:D,confirmSelect:I,onClickOverlay:x,renderCheckIcon:[L],convertTreeRadioType:$,convertTreeCheckType:M})}});function Vm(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Hm(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Vm(Object(n),!0).forEach(function(r){te(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Vm(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var b2=["data-value"],S2=et("\u91CD\u7F6E"),T2=et("\u786E\u5B9A");function C2(e,t,n,r,a,i){var o=ge("t-mask"),l=ge("t-radio"),u=ge("t-radio-group"),s=ge("t-checkbox"),c=ge("t-checkbox-group"),f=ge("t-button");return e.isShowItems?(H(),W("div",{key:0,class:z(e.classes),style:Ae(Hm({},e.expandStyle))},[e.isShowItems&&e.showOverlay?(H(),Oe(o,{key:0,onClick:e.onClickOverlay},null,8,["onClick"])):se("",!0),J("div",{class:z(e.styleContent),style:Ae(Hm({},e.transitionStyle))},[J("div",{class:z("".concat(e.name,"__bd"))},[Ye(e.$slots,"default",{},function(){return[e.optionsLayout==="columns"?(H(),W(Te,{key:0},[e.multiple?(H(),Oe(c,{key:1,modelValue:e.checkSelect,"onUpdate:modelValue":t[1]||(t[1]=function(v){return e.checkSelect=v})},{default:Ue(function(){return[(H(!0),W(Te,null,Ne(e.options,function(v){return H(),W("div",{key:v.value,class:z("".concat(e.name,"__cell"))},[R(s,{value:v.value,label:v.title,disabled:v.disabled},null,8,["value","label","disabled"])],2)}),128))]}),_:1},8,["modelValue"])):(H(),Oe(u,{key:0,modelValue:e.radioSelect,"onUpdate:modelValue":t[0]||(t[0]=function(v){return e.radioSelect=v})},{default:Ue(function(){return[(H(!0),W(Te,null,Ne(e.options,function(v){return H(),W("div",{key:v.value,class:z("".concat(e.name,"__cell"))},[R(l,{value:v.value,label:v.title,disabled:v.disabled,class:z(e.styleDropRadio(v.value)),checked:e.isCheckedRadio(v.value)},null,8,["value","label","disabled","class","checked"])],2)}),128))]}),_:1},8,["modelValue"]))],64)):e.optionsLayout==="tree"?(H(!0),W(Te,{key:1},Ne(e.treeOptions,function(v,S){return H(),W("div",{key:S,class:z("".concat(e.name,"__tree-group"))},[S<e.treeState.leafLevel?(H(),Oe(u,{key:0,"model-value":e.convertTreeRadioType(e.treeState.selectList[S]),"onUpdate:modelValue":function(m){return e.selectTreeNode(S,m)}},{default:Ue(function(){return[(H(!0),W(Te,null,Ne(e.treeOptions[S],function(E){return H(),W("div",{key:E.value,"data-value":E.value,class:z("".concat(e.name,"__cell"))},[R(l,{class:z(e.styleTreeRadio(E.value,S)),value:E.value,label:E.title,disabled:E.disabled},null,8,["class","value","label","disabled"])],10,b2)}),128))]}),_:2},1032,["model-value","onUpdate:modelValue"])):(H(),W(Te,{key:1},[e.multiple?(H(),Oe(c,{key:1,value:e.convertTreeCheckType(e.treeState.selectList[S]),"onUpdate:value":function(m){return e.selectTreeNode(S,m)}},{default:Ue(function(){return[(H(!0),W(Te,null,Ne(e.treeOptions[S],function(E){return H(),W("div",{key:E.value,class:z("".concat(e.name,"__cell"))},[R(s,{value:E.value,label:E.title,disabled:E.disabled},null,8,["value","label","disabled"])],2)}),128))]}),_:2},1032,["value","onUpdate:value"])):(H(),Oe(u,{key:0,value:e.convertTreeRadioType(e.treeState.selectList[S]),"onUpdate:value":function(m){return e.selectTreeNode(S,m)}},{default:Ue(function(){return[(H(!0),W(Te,null,Ne(e.treeOptions[S],function(E){return H(),W("div",{key:E.value,class:z("".concat(e.name,"__cell"))},[R(l,{value:E.value,label:E.title,disabled:E.disabled,class:z(e.styleTreeRadio(E.value,S)),icon:E.value===e.treeState.selectList[S]?e.renderCheckIcon:void 0},null,8,["value","label","disabled","class","icon"])],2)}),128))]}),_:2},1032,["value","onUpdate:value"]))],64))],2)}),128)):se("",!0)]})],2),e.multiple||e.optionsLayout==="tree"?(H(),W("div",{key:0,class:z("".concat(e.name,"__ft"))},[R(f,{variant:"outline",disabled:e.isBtnDisabled,onClick:e.resetSelect},{default:Ue(function(){return[S2]}),_:1},8,["disabled","onClick"]),R(f,{theme:"primary",disabled:e.isBtnDisabled,onClick:e.confirmSelect},{default:Ue(function(){return[T2]}),_:1},8,["disabled","onClick"])],2)):se("",!0)],6)],6)):se("",!0)}y1.render=C2;/**
 * tdesign v0.8.5
 * (c) 2022 TDesign Group
 * @license MIT
 */var E2=Le(p1),w2=Le(y1);/**
 * tdesign v0.8.5
 * (c) 2022 TDesign Group
 * @license MIT
 */var O2={value:[Array,String,Number],accordion:{type:Boolean,default:!1},title:String,expandAll:Boolean,labelWidth:Number},k2={name:[String,Number],title:[String,Number],extra:[String,Number],content:[String,Number,Array],disabled:Boolean,labelWidth:Number,headerClickable:{type:Boolean,default:!0}};/**
 * tdesign v0.8.5
 * (c) 2022 TDesign Group
 * @license MIT
 */function b1(e,t){var n=new RegExp("^".concat(!e&&e!==0?"":e,"$")),r=Wd(t);return r.findIndex(function(a){return n.test(a)})}function S1(e){return!e&&e!==0}function Wd(e){return S1(e)?[]:jt(e)==="object"?Array.from(e):[e]}function _2(e,t,n){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,a=!!n||!!t&&jt(t)==="object",i=function(c){return a?c:c[0]},o=Wd(t),l=o.length,u=b1(e,o);return u>-1?(l<2&&r||o.splice(u,1),i(o)):!n&&l>0?i([e]):(o.push(e),i(o))}/**
 * tdesign v0.8.5
 * (c) 2022 TDesign Group
 * @license MIT
 */function zm(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Gm(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?zm(Object(n),!0).forEach(function(r){te(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):zm(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var A2=De.prefix,Km="".concat(A2,"-collapse"),T1=ee({name:Km,props:O2,emits:["update:value","change"],setup:function(t,n){var r=pt(t,n.emit),a=Me({className:Km,curValue:t.value});oe(function(){return t.value},function(o){a.curValue=o});var i=function(l){var u=_2(l,a.curValue,!t.accordion);a.curValue=u,r("update:value",u),r("change",u)};return ct("collapseProps",t),ct("collapseState",a),ct("onPanelChange",i),Gm(Gm({},He(a)),He(t))}});function D2(e,t,n,r,a,i){return H(),W("div",{class:z(e.className)},[e.title?(H(),W("div",{key:0,class:z("".concat(e.className,"__title"))},_e(e.title),3)):se("",!0),Ye(e.$slots,"default")],2)}T1.render=D2;/**
 * tdesign v0.8.5
 * (c) 2022 TDesign Group
 * @license MIT
 */function Wm(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Ym(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Wm(Object(n),!0).forEach(function(r){te(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Wm(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var P2=De.prefix,ua="".concat(P2,"-collapse-panel"),C1=ee({name:ua,components:{ChevronDownIcon:$h,ChevronUpIcon:Vh},props:k2,emits:["click"],setup:function(t,n){var r=pt(t,n.emit),a=Qe("collapseProps"),i=Qe("collapseState"),o=Qe("onPanelChange"),l=j(function(){return S.value?$h:Vh}),u=j(function(){return Wd(t.content)}),s=j(function(){var b;return b={},te(b,"".concat(ua),!0),te(b,"".concat(ua,"--active"),S.value),te(b,"".concat(ua,"--disabled"),t.disabled),b}),c=j(function(){return t.labelWidth||a.labelWidth}),f=j(function(){return function(b){return["".concat(ua,"__content"),jt(b)==="object"?"".concat(ua,"-list__item"):""]}}),v=j(function(){return S1(c.value)?{}:{width:"".concat(c.value,"px")}}),S=j(function(){return b1(t.name,i.curValue)>-1}),E=Me({baseClass:ua}),m=function(){var y=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,C=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";y==null||y.stopPropagation(),!t.disabled&&(r("click",t.name),!(/^header$/i.test(C)&&!t.headerClickable)&&o(t.name))},d=q(),g=q(),h=q(),p=function(){if(!g.value){console.log("[collapse] \u7EC4\u4EF6\u5C1A\u672A\u6302\u8F7D",g.value);return}var y=h.value.getBoundingClientRect(),C=y.height;if(!S.value){g.value.style.height="".concat(C,"px");return}var w=d.value.getBoundingClientRect(),k=w.height,_=C+k;g.value.style.height="".concat(_,"px")};return oe(S,function(){Re(function(){p()})}),tt(function(){a.expandAll&&!S.value&&m(),p()}),Ym(Ym({},He(E)),{},{contList:u,headDOM:h,rightIcon:l,bodyDOM:d,wrapDOM:g,className:s,contentClassName:f,listLabelStyle:v,onChange:m})}});function I2(e,t,n,r,a,i){return H(),W("div",{ref:"wrapDOM",class:z(e.className)},[J("div",{ref:"headDOM",class:z("".concat(e.baseClass,"__header")),onClick:t[1]||(t[1]=function(o){return e.onChange(o,"header")})},[J("div",{class:z("".concat(e.baseClass,"__title"))},[Ye(e.$slots,"title",{},function(){return[et(_e(e.title),1)]})],2),J("div",{class:z("".concat(e.baseClass,"__header-right")),onClick:t[0]||(t[0]=function(){return e.onChange&&e.onChange.apply(e,arguments)})},[e.extra||e.$slots.extra?(H(),W("div",{key:0,class:z("".concat(e.baseClass,"__header-extra"))},[Ye(e.$slots,"extra",{},function(){return[et(_e(e.extra),1)]})],2)):se("",!0),(H(),Oe(jo(e.rightIcon),{class:z("".concat(e.baseClass,"__header-icon"))},null,8,["class"]))],2)],2),J("div",{ref:"bodyDOM",class:z("".concat(e.baseClass,"__body"))},[e.$slots.default?(H(),W("div",{key:0,class:z("".concat(e.baseClass,"__body-slot"))},[Ye(e.$slots,"default")],2)):(H(!0),W(Te,{key:1},Ne(e.contList,function(o,l){return H(),W("div",{key:l,class:z(e.contentClassName(o))},[jt(o)==="object"?(H(),W(Te,{key:0},[J("div",{class:z("".concat(e.baseClass,"-list__label")),style:Ae(e.listLabelStyle)},_e(o.label),7),J("div",{class:z("".concat(e.baseClass,"-list__content"))},_e(o.content),3)],64)):(H(),W(Te,{key:1},[et(_e(o),1)],64))],2)}),128))],2)],2)}C1.render=I2;/**
 * tdesign v0.8.5
 * (c) 2022 TDesign Group
 * @license MIT
 */var L2=Le(T1),R2=Le(C1);/**
 * tdesign v0.8.5
 * (c) 2022 TDesign Group
 * @license MIT
 */var x2={animation:{type:Object},list:{type:Array},placement:{type:String,default:"top",validator:function(t){return t?["left","top"].includes(t):!0}},showBottomLine:{type:Boolean,default:!0},size:{type:String,default:"medium",validator:function(t){return t?["medium","large"].includes(t):!0}},stickyProps:{type:Object},value:{type:[String,Number],default:void 0},modelValue:{type:[String,Number],default:void 0},defaultValue:{type:[String,Number]},onChange:Function};/**
 * tdesign v0.8.5
 * (c) 2022 TDesign Group
 * @license MIT
 */var E1={destroyOnHide:{type:Boolean,default:!0},disabled:Boolean,label:{type:[String,Function]},panel:{type:[String,Function]},value:{type:[String,Number]}};/**
 * tdesign v0.8.5
 * (c) 2022 TDesign Group
 * @license MIT
 */var $2=De.prefix,w1=ee({name:"".concat($2,"-tab-nav"),components:{TNode:st},props:{label:E1.label},setup:function(t){var n=Be(),r=j(function(){return Xt(n,"default","label")});return{labelContent:r}}});function M2(e,t,n,r,a,i){var o=ge("t-node");return H(),W("div",null,[R(o,{content:e.labelContent},null,8,["content"])])}w1.render=M2;/**
 * tdesign v0.8.5
 * (c) 2022 TDesign Group
 * @license MIT
 */var F2={container:{type:Object},disabled:Boolean,offsetTop:{type:[String,Number],default:0},zIndex:{type:Number,default:99},onScroll:Function};/**
 * tdesign v0.8.5
 * (c) 2022 TDesign Group
 * @license MIT
 */var qm="".concat(De.prefix,"-sticky"),O1=ee({name:qm,components:{TNode:st},props:F2,setup:function(t,n){var r=qm,a=j(function(){return Xt(Be(),"default","")}),i=pt(t,n.emit),o=yv("boxRef"),l=Ec(o),u=l.top,s=yv("contentRef"),c=Ec(s),f=c.top,v=c.height,S=j(function(){return"height:".concat(v.value,"px;")}),E,m=q(0),d=q(0);oe(u,function(){if(t.container){E=document.querySelector(t.container);var h=E.getBoundingClientRect(),p=h.top,b=h.height;m.value=b,d.value=p}});var g=j(function(){var h="z-index:".concat(t.zIndex,";"),p=!1;if(t.disabled)return h;var b=Number(t.offsetTop);return E&&m.value+d.value<b+v.value?h+="transform:translate3d(0, ".concat(m.value-v.value,"px, 0);"):u.value<=b&&(h+="position:fixed;top:".concat(b,"px;"),p=!0),i("scroll",{scrollTop:f.value,isFixed:p}),h});return{boxClasses:r,boxStyles:S,contentStyles:g,stickyContent:a}}});function B2(e,t,n,r,a,i){var o=ge("t-node");return H(),W("div",{ref:"boxRef",class:z(e.boxClasses),style:Ae(e.boxStyles)},[J("div",{ref:"contentRef",style:Ae(e.contentStyles)},[R(o,{content:e.stickyContent},null,8,["content"])],4)],6)}O1.render=B2;/**
 * tdesign v0.8.5
 * (c) 2022 TDesign Group
 * @license MIT
 */var k1=Le(O1);/**
 * tdesign v0.8.5
 * (c) 2022 TDesign Group
 * @license MIT
 */function Xm(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function wu(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Xm(Object(n),!0).forEach(function(r){te(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Xm(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var po=De.prefix,as="".concat(po,"-tabs"),_1=ee({name:as,components:{TabNavItem:w1,TSticky:k1},props:x2,emits:["onChange"],setup:function(t,n){var r=n.emit,a=n.slots,i=j(function(){return t.placement}),o=j(function(){return t.showBottomLine}),l=j(function(){return wu({disabled:!0},t.stickyProps)}),u=Mt.STATUS.active,s=Mt.STATUS.disabled,c=j(function(){return["".concat(as),"".concat(po,"-is-").concat(i.value),t.size?Mt.SIZE[t.size]:""]}),f=q(["".concat(as,"__nav")]),v=q(!1),S=q(t.value?t.value:t.defaultValue);oe(function(){return t.value},function(w){w&&b(w),Re(function(){p()})});var E=j(function(){if(t.list)return t.list;var w=a.default?a.default():[],k=[],_=[];return w.forEach(function(T){var O;T.type===Te?k.push.apply(k,Nt(T.children)):k.push(T),(O=T.children)!==null&&O!==void 0&&O.label&&_.push(T.children.label()[0]||null)}),w=k.filter(function(T){return T.type.name==="".concat(po,"-tab-panel")}),w.map(function(T,O){return wu(wu({},T.props),{},{label:function(){return _[O]||T.props.label}})})}),m=q(null),d=q(null),g=q(null),h=q(""),p=function(){if(d.value&&g.value&&o.value){var k=d.value.querySelector(".".concat(u));if(!k)return;var _=g.value;i.value==="left"?h.value="transform: translateY(".concat(k.offsetTop,"px);").concat(t.animation?"transition-duration:".concat(t.animation.duration,"ms"):""):h.value="transform: translateX(".concat(Number(k.offsetLeft)+Number(k.offsetWidth)/2-_.offsetWidth/2,"px);").concat(t.animation?"transition-duration:".concat(t.animation.duration,"ms"):"")}};tt(function(){var w,k;v.value=(((w=d.value)===null||w===void 0?void 0:w.offsetWidth)||0)>(((k=m.value)===null||k===void 0?void 0:k.offsetWidth)||0),v.value&&f.value.push("".concat(po,"-is-scrollable")),window.addEventListener("resize",p,!1),setTimeout(function(){p()},300)}),Bn(function(){window.removeEventListener("resize",p)});var b=function(k){r("onChange",k),S.value=k},y=function(k,_){b(_)},C=function(k,_){var T=_.value,O=_.disabled;if(O||S.value===T)return!1;y(k,T),Re(function(){p()})};return ct("currentValue",md(S)),{name:as,prefix:po,classes:c,navClasses:f,activeClass:u,disabledClass:s,currentValue:S,tabClick:C,showBottomLine:o,itemProps:E,navScroll:m,navWrap:d,navLine:g,lineStyle:h,moveToActiveTab:p,stickyProps:l}}});function N2(e,t,n,r,a,i){var o=ge("tab-nav-item"),l=ge("t-sticky");return H(),W("div",{class:z(e.classes)},[R(l,OC(i0(e.stickyProps)),{default:Ue(function(){return[J("div",{class:z(e.navClasses)},[J("div",{ref:"navScroll",class:z("".concat(e.name,"__nav-container"))},[J("div",{ref:"navWrap",class:z("".concat(e.name,"__nav-wrap"))},[(H(!0),W(Te,null,Ne(e.itemProps,function(u){var s;return H(),Oe(o,{key:u.value,label:u.label,class:z((s={},te(s,"".concat(e.name,"__nav-item"),!0),te(s,e.activeClass,u.value===e.currentValue),te(s,e.disabledClass,u.disabled),s)),onClick:function(f){return e.tabClick(f,u)}},null,8,["label","class","onClick"])}),128)),e.showBottomLine?(H(),W("div",{key:0,ref:"navLine",class:z("".concat(e.name,"__nav-line")),style:Ae(e.lineStyle)},null,6)):se("",!0)],2)],2)],2)]}),_:1},16),J("div",{class:z("".concat(e.name,"__content"))},[Ye(e.$slots,"default")],2)],2)}_1.render=N2;/**
 * tdesign v0.8.5
 * (c) 2022 TDesign Group
 * @license MIT
 */function Zm(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function j2(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Zm(Object(n),!0).forEach(function(r){te(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Zm(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var Jm=De.prefix,A1=ee({name:"".concat(Jm,"-tab-panel"),components:{TNode:st},props:E1,setup:function(t){var n=Qe("currentValue",""),r=j(function(){return n.value===t.value}),a=Be(),i=j(function(){return Xt(a,"default","panel")});return j2({prefix:Jm,isActive:r,panelContent:i},He(t))}}),U2=["value"];function V2(e,t,n,r,a,i){var o=ge("t-node");return e.destroyOnHide||e.isActive?Ge((H(),W("div",{key:0,class:z("".concat(e.prefix,"-tabs__panel")),value:e.value},[Ye(e.$slots,"default",{},function(){return[R(o,{content:e.panelContent},null,8,["content"])]})],10,U2)),[[qe,e.isActive]]):se("",!0)}A1.render=V2;/**
 * tdesign v0.8.5
 * (c) 2022 TDesign Group
 * @license MIT
 */var H2=Le(_1),z2=Le(A1);/**
 * tdesign v0.8.5
 * (c) 2022 TDesign Group
 * @license MIT
 */var G2={animation:{type:String,default:"slide",validator:function(t){return t?["slide"].includes("".concat(t)):!0}},autoplay:{type:Boolean,default:!0},current:{type:Number,default:void 0},modelValue:{type:Number,default:void 0},defaultCurrent:{type:Number,default:0},direction:{type:String,default:"horizontal",validator:function(t){return["horizontal","vertical"].includes("".concat(t))}},duration:{type:Number,default:300},height:{type:Number},interval:{type:Number,default:5e3},loop:{type:Boolean,default:!0},navigation:{type:[Object,Function]},onChange:Function};/**
 * tdesign v0.8.5
 * (c) 2022 TDesign Group
 * @license MIT
 */var K2=De.prefix,Qm="".concat(K2,"-swiper"),eg=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"X";t.style.transform="translate".concat(r,"(").concat(n,"px)")},D1=ee({name:Qm,components:{ChevronLeftIcon:k0,ChevronRightIcon:_0,TNode:st},props:G2,emits:["change","update:current","update:modelValue"],setup:function(t,n){var r=Vt(t,n.emit,"current","change"),a=Ot(r,2);a[0];var i=a[1],o=Be(),l=q(null),u=j(function(){return ze(o,"navigation")}),s=t.height||180,c=Me({activeIndex:0,itemLength:0,itemWidth:0,isControl:!1,btnDisabled:!1,children:[]}),f=j(function(){return new Array(c.itemLength).fill(1)}),v=j(function(){var x=c.activeIndex,L=c.itemLength;return x>L-1?L:x<0?1:x+1});j(function(){return c.children.length});var S=function(){var L;return o==null||(L=o.proxy)===null||L===void 0?void 0:L.$el.querySelector(".t-swiper__container")},E=function(){var L,$,M=S();M.querySelectorAll(".copy-item").forEach(function(K){M.removeChild(K)});var N=M.querySelectorAll(".t-swiper-item");c.itemLength=((L=M.children)===null||L===void 0?void 0:L.length)||0;var F=(($=M.querySelector(".t-swiper-item"))===null||$===void 0?void 0:$.getBoundingClientRect().width)||0;if(c.itemWidth=F,N.length<=0)return!1;var U=N[0].cloneNode(!0);U.classList.add("copy-item");var B=N[N.length-1].cloneNode(!0);B.classList.add("copy-item"),M.appendChild(U),M.insertBefore(B,N[0]),g(0),C(),typeof t.current=="number"&&(c.isControl=!0,_(t.current))};tt(function(){Re(function(){console.info("swiper mounted"),E()})}),oe(function(){return c.children.length},function(){Re(function(){console.info("swiper mounted"),E()})});var m=null,d=!0,g=function(L){var $=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,M=S(),N=(t==null?void 0:t.direction)==="horizontal"?"X":"Y",F=(t==null?void 0:t.direction)==="vertical"?s:c.itemWidth;d=$,M.dataset.isTrust="".concat($),M.style.transform="translate".concat(N,"(-").concat(F*(L+1),"px)")},h=function(){var L=S();L.style.transition="transform ".concat(t==null?void 0:t.duration,"ms")},p=function(){var L=S();L.style.transition="none"},b=function(){c.btnDisabled=!1,p(),c.activeIndex>=c.itemLength&&(c.activeIndex=0,g(0)),c.activeIndex<=-1&&(c.activeIndex=c.itemLength-1,g(c.itemLength-1)),setTimeout(function(){d&&w(c.activeIndex)},0)},y=function(){!m||(clearInterval(m),m=null)},C=function(){if(typeof t.current=="number"||!(t!=null&&t.autoplay)||m!==null)return!1;m=setInterval(function(){c.activeIndex+=1,h(),g(c.activeIndex)},t==null?void 0:t.interval)},w=function(L){if(!c.isControl)return!1;var $=L;L>=c.itemLength&&($=0),L<0&&($=c.itemLength-1),i($)},k=function(){var L=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1;if(c.btnDisabled)return!1;y(),c.activeIndex-=L,h(),g(c.activeIndex),C(),c.btnDisabled=!0},_=function(){var L=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1;if(c.btnDisabled)return!1;y(),c.activeIndex+=L,h(),g(c.activeIndex),C(),c.btnDisabled=!0},T=F0(l,{passive:!1,onSwipeStart:function(L){if(c.btnDisabled)return!1;y()},onSwipe:function(L){if(c.btnDisabled)return!1;P(L)},onSwipeEnd:function(){D()}}),O=T.lengthX,A=T.lengthY,P=function(L){L.preventDefault();var $=c.activeIndex,M=c.itemWidth,N=O.value,F=A.value,U=S();if(p(),(t==null?void 0:t.direction)==="horizontal")eg(U,-(($+1)*M+N));else{var B=t.height,K=B===void 0?180:B;eg(U,-(($+1)*K+F),"Y")}},D=function(){var L=O.value,$=A.value;h(),(t==null?void 0:t.direction)==="horizontal"&&L<-100||(t==null?void 0:t.direction)==="vertical"&&$<-100?k(1):(t==null?void 0:t.direction)==="horizontal"&&L>100||(t==null?void 0:t.direction)==="vertical"&&$>100?_(1):g(c.activeIndex),C()},I=function(L){L.proxy&&c.children.push(L.proxy)};return ct("parent",{props:t,relation:I}),oe(function(){return t.current},function(x,L){c.isControl&&(c.activeIndex=x||0,h(),g(c.activeIndex,!1))}),{swiperContainer:l,name:Qm,computedNavigation:u,onTouchMove:P,onTouchEnd:D,handleAnimationEnd:b,state:c,paginationList:f,showPageNum:v,prev:k,next:_}}}),W2={key:0},Y2={key:1};function q2(e,t,n,r,a,i){var o=ge("chevron-left-icon"),l=ge("chevron-right-icon"),u=ge("t-node");return H(),W("div",{style:Ae({height:"".concat(e.height,"px"),overflow:"hidden"}),class:z("".concat(e.name))},[J("div",{ref:"swiperContainer",class:z("".concat(e.name,"__container")),style:Ae({height:"".concat(e.height,"px"),flexDirection:e.direction==="horizontal"?"row":"column"}),onTransitionend:t[0]||(t[0]=function(){return e.handleAnimationEnd&&e.handleAnimationEnd.apply(e,arguments)})},[Ye(e.$slots,"default")],38),e.navigation?(H(),W(Te,{key:0},[e.direction==="horizontal"&&"showSlideBtn"in e.navigation&&e.navigation.showSlideBtn?(H(),W("span",W2,[J("span",{class:z("".concat(e.name,"__btn btn-prev")),onClick:t[1]||(t[1]=function(s){return e.prev(1)})},[R(o,{size:"20px"})],2),J("span",{class:z("".concat(e.name,"__btn btn-next")),onClick:t[2]||(t[2]=function(s){return e.next(1)})},[R(l,{size:"20px"})],2)])):se("",!0),"type"in e.navigation?(H(),W("span",{key:1,class:z("".concat(e.name,"__pagination ").concat(e.name,"__pagination-").concat(e.navigation.type||""))},[["dots","dots-bar"].includes(e.navigation.type||"")?(H(!0),W(Te,{key:0},Ne(e.state.children.length,function(s,c){var f;return H(),W("span",{key:"page"+c,class:z((f={},te(f,"".concat(e.name,"-dot"),!0),te(f,"".concat(e.name,"-dot--active"),c===e.state.activeIndex),f))},null,2)}),128)):se("",!0),e.navigation.type&&e.navigation.type==="fraction"?(H(),W("span",Y2,_e(e.showPageNum+"/"+e.state.children.length),1)):se("",!0)],2)):se("",!0)],64)):se("",!0),e.computedNavigation!==void 0?(H(),Oe(u,{key:1,content:e.computedNavigation,style:{}},null,8,["content"])):se("",!0)],6)}D1.render=q2;/**
 * tdesign v0.8.5
 * (c) 2022 TDesign Group
 * @license MIT
 */var X2=De.prefix,tg="".concat(X2,"-swiper-item"),P1=ee({name:tg,setup:function(){var t=Qe("parent");return t.relation(Be()),{name:tg}}});function Z2(e,t,n,r,a,i){return H(),W("div",{class:z(e.name)},[Ye(e.$slots,"default")],2)}P1.render=Z2;/**
 * tdesign v0.8.5
 * (c) 2022 TDesign Group
 * @license MIT
 */var J2=Le(D1),Q2=Le(P1);/**
 * tdesign v0.8.5
 * (c) 2022 TDesign Group
 * @license MIT
 */var eM={autoStart:{type:Boolean,default:!0},content:{type:[String,Function],default:"default"},format:{type:String,default:"HH:mm:ss"},millisecond:Boolean,time:{type:Number,required:!0},size:{type:String,default:"small"},theme:{type:String,default:"default"},onChange:Function,onFinish:Function};/**
 * tdesign v0.8.5
 * (c) 2022 TDesign Group
 * @license MIT
 */var tM=["content","size","theme"];function ng(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function nM(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ng(Object(n),!0).forEach(function(r){te(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ng(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var rM=De.prefix,rg="".concat(rM,"-countdown"),I1=ee({name:rg,components:{TNode:st},props:nM({},eM),setup:function(t){var n,r,a=t||{};a.content,a.size,a.theme;var i=TR(a,tM),o=pk(i),l=o.time,u=o.showTimes,s=Be(),c=(n=/.*[\u4e00-\u9fa5]+.*$/)===null||n===void 0||(r=n.test)===null||r===void 0?void 0:r.call(n,i==null?void 0:i.format),f=j(function(){return ze(s,"content")});return{name:rg,time:l,showTimes:u,hasChinese:c,contentLayout:f}}});function aM(e,t,n,r,a,i){var o=ge("t-node");return H(),W(Te,null,[e.time?se("",!0):(H(),Oe(o,{key:0,content:e.contentLayout},null,8,["content"])),J("span",{class:z("".concat(e.name," ").concat(e.name,"--").concat(e.theme," ").concat(e.name,"--").concat(e.size," ").concat(e.hasChinese?"".concat(e.name,"--split-with-unit"):""))},[e.time?(H(!0),W(Te,{key:0},Ne(e.showTimes,function(l){return H(),W(Te,{key:l.mark},[J("span",{class:z("".concat(e.name,"__digit"))},_e(l.value),3),l.mark?(H(),W("span",{key:0,class:z("".concat(e.name,"__unit"))},_e(l.mark),3)):se("",!0)],64)}),128)):se("",!0)],2)],64)}I1.render=aM;/**
 * tdesign v0.8.5
 * (c) 2022 TDesign Group
 * @license MIT
 */var iM=Le(I1);/**
 * tdesign v0.8.5
 * (c) 2022 TDesign Group
 * @license MIT
 */var oM={alt:{type:String,default:""},badgeProps:{type:Object},hideOnLoadFailed:Boolean,icon:{type:Function},image:{type:String,default:""},shape:{type:String,default:"circle",validator:function(t){return t?["circle","round"].includes(t):!0}},size:{type:String,default:""},onError:Function};/**
 * tdesign v0.8.5
 * (c) 2022 TDesign Group
 * @license MIT
 */function ag(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function ig(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ag(Object(n),!0).forEach(function(r){te(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ag(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var sM=De.prefix,is="".concat(sM,"-avatar"),Yd=ee({name:is,components:{TNode:st,TBadge:$l},props:oM,emits:["error"],setup:function(t,n){var r=pt(t,n.emit),a=Be(),i=Qe("avatarGroup",{}),o=j(function(){return Xt(a,"default","content")}),l=j(function(){return ze(a,"icon")}),u=q(t.size||i&&i.size),s=j(function(){return["".concat(is),u.value?Mt.SIZE[u.value]:"",te({},"".concat(is,"--").concat(t.shape),t.shape)]}),c=j(function(){return u.value&&!Mt.SIZE[u.value]}),f=j(function(){return c.value?{height:u.value,width:u.value}:{}}),v=function(E){r("error",E)};return ig(ig({name:is},He(t)),{},{avatarContent:o,iconContent:l,avatarClass:s,customSize:f,handleImgLoadError:v})}}),lM=["src","alt"],uM={key:2};function cM(e,t,n,r,a,i){var o=ge("t-node"),l=ge("t-badge");return H(),W("div",{class:z(e.avatarClass),style:Ae(e.customSize)},[J("div",{class:z("".concat(e.name,"__inner"))},[e.image&&!e.hideOnLoadFailed?(H(),W("img",{key:0,src:e.image,alt:e.alt,style:Ae(e.customSize),onError:t[0]||(t[0]=function(){return e.handleImgLoadError&&e.handleImgLoadError.apply(e,arguments)})},null,44,lM)):e.iconContent!==void 0?(H(),W("div",{key:1,class:z("".concat(e.name,"__icon"))},[R(o,{content:e.iconContent},null,8,["content"])],2)):(H(),W("span",uM,[R(o,{content:e.avatarContent},null,8,["content"])]))],2),e.badgeProps?(H(),W("div",{key:0,class:z("".concat(e.name,"__badge"))},[R(l,{count:e.badgeProps.count,"max-count":e.badgeProps.maxCount,dot:e.badgeProps.dot,content:e.badgeProps.content,size:e.badgeProps.size,offset:e.badgeProps.offset},null,8,["count","max-count","dot","content","size","offset"])],2)):se("",!0)],6)}Yd.render=cM;/**
 * tdesign v0.8.5
 * (c) 2022 TDesign Group
 * @license MIT
 */var dM={cascading:{type:String,default:"right-up",validator:function(t){return t?["left-up","right-up"].includes(t):!0}},collapseAvatar:{type:[String,Function]},max:{type:Number},size:{type:String,default:"medium"}};/**
 * tdesign v0.8.5
 * (c) 2022 TDesign Group
 * @license MIT
 */function og(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function fM(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?og(Object(n),!0).forEach(function(r){te(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):og(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var Lc=De.prefix,sg="".concat(Lc,"-avatar-group"),L1=ee({name:sg,components:{Avatar:Yd,TNode:st},props:dM,setup:function(t,n){var r=n.slots;ct("avatarGroup",fM({},t));var a=Be(),i=j(function(){var f;return["".concat(sg),(f={},te(f,"".concat(Lc,"-avatar--offset-right"),t.cascading==="right-up"),te(f,"".concat(Lc,"-avatar--offset-left"),t.cascading==="left-up"),f)]}),o=q(!1),l=q(null),u=q(t.size),s=j(function(){return ze(a,"collapseAvatar")}),c=function(){var v=r.default?r.default():[],S=[];v.forEach(function(d){d.type===Te?S.push.apply(S,Nt(d.children)):S.push(d)});var E=[],m=t.max||0;return m&&m<S.length?(E=S.slice(0,m),o.value=!0,l.value=s.value||"+".concat(S.length-m)):E=S,u.value=E[0].size||t.size,E};return{classes:i,size:u,isShowEllipsisContent:o,ellipsisContent:l,avatarItems:c}}});function hM(e,t,n,r,a,i){var o=ge("t-node"),l=ge("avatar");return H(),W("div",{class:z(e.classes)},[(H(),Oe(jo(e.avatarItems))),e.isShowEllipsisContent?(H(),Oe(l,{key:0,size:e.size},{default:Ue(function(){return[R(o,{content:e.ellipsisContent},null,8,["content"])]}),_:1},8,["size"])):se("",!0)],2)}L1.render=hM;/**
 * tdesign v0.8.5
 * (c) 2022 TDesign Group
 * @license MIT
 */var vM=Le(Yd),mM=Le(L1);/**
 * tdesign v0.8.5
 * (c) 2022 TDesign Group
 * @license MIT
 */var gM={alt:{type:String,default:""},error:{type:Function},fit:{type:String,default:"fill",validator:function(t){return t?["contain","cover","fill","none","scale-down"].includes(t):!0}},lazy:Boolean,loading:{type:Function},position:{type:String,default:"center"},shape:{type:String,default:"round",validator:function(t){return t?["circle","round","square"].includes(t):!0}},src:{type:String,default:""},onError:Function,onLoad:Function};/**
 * tdesign v0.8.5
 * (c) 2022 TDesign Group
 * @license MIT
 */var pM=De.prefix,os="".concat(pM,"-image"),R1=ee({name:os,components:{TNode:st},props:gM,setup:function(t,n){var r=pt(t,n.emit),a=Be(),i=j(function(){var d,g,h,p;return(d=n.slots)!==null&&d!==void 0&&d.loading&&o.value?ze(a,"loading"):!((g=n.slots)!==null&&g!==void 0&&g.loading)&&o.value?yt(zO):(h=n.slots)!==null&&h!==void 0&&h.error&&l.value?ze(a,"error"):!((p=n.slots)!==null&&p!==void 0&&p.error)&&l.value?yt(_i):""}),o=q(!0),l=q(!1),u=j(function(){return{objectFit:t.fit,objectPosition:t.position}}),s=j(function(){var d;return d={},te(d,"".concat(os),!0),te(d,"".concat(os,"--").concat(t.shape),!0),d}),c=q(),f=q(t.lazy?"":t.src),v=mk(c,function(d,g){var h=Ot(d,1),p=h[0].isIntersecting;p&&t.lazy&&(S(),f.value=t.src)}),S=v.stop,E=function(g){r("load",g),o.value=!1},m=function(g){f.value!==""&&(r("error",g),o.value=!1,l.value=!0)};return{imageDOM:c,statusContent:i,name:os,classes:s,imageStyles:u,loadingValue:o,realSrc:f,errorValue:l,handleImgLoadCompleted:E,handleImgLoadError:m}}}),yM=["src","alt"];function bM(e,t,n,r,a,i){var o=ge("t-node");return H(),W("div",{class:z(e.classes)},[e.loadingValue||e.errorValue?(H(),W("div",{key:0,class:z("".concat(e.name,"__status"))},[R(o,{content:e.statusContent},null,8,["content"])],2)):se("",!0),J("img",{ref:"imageDOM",class:z("".concat(e.name,"__img")),style:Ae(e.imageStyles),src:e.realSrc,alt:e.alt,onLoad:t[0]||(t[0]=function(){return e.handleImgLoadCompleted&&e.handleImgLoadCompleted.apply(e,arguments)}),onError:t[1]||(t[1]=function(){return e.handleImgLoadError&&e.handleImgLoadError.apply(e,arguments)})},null,46,yM)],2)}R1.render=bM;/**
 * tdesign v0.8.5
 * (c) 2022 TDesign Group
 * @license MIT
 */var SM=Le(R1);/**
 * tdesign v0.8.5
 * (c) 2022 TDesign Group
 * @license MIT
 */var TM={content:{type:[String,Function]},default:{type:[String,Function]},disabled:Boolean,expanded:{type:String,validator:function(t){return["left","right"].includes(t)}},left:{type:[Array,Function]},right:{type:[Array,Function]},onChange:Function,onClick:Function};/**
 * tdesign v0.8.5
 * (c) 2022 TDesign Group
 * @license MIT
 */function lg(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function ug(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?lg(Object(n),!0).forEach(function(r){te(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):lg(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var CM=De.prefix,cg="".concat(CM,"-swipe-cell"),x1=ee({name:cg,components:{TNode:st,TButton:_a},props:TM,emits:["click","change"],setup:function(t,n){var r=pt(t,n.emit),a=Be(),i=j(function(){return Xt(a,"default","content")}),o=j(function(){return ze(a,"left")}),l=j(function(){return ze(a,"right")}),u=q(),s=q(),c=q(),f=F0(c,{threshold:0,onSwipeStart:function(k){d.moving=!0,d.pos=0},onSwipe:function(k){if(!t.disabled){d.moving&&d.status==="close"&&(d.moving=!1);var _=0;if(v.value<0){if(d.leftWidth===0){d.moving=!1;return}_=Math.min(Math.abs(v.value),d.leftWidth>0?d.leftWidth+m:0)}else{if(d.rightWidth===0){d.moving=!1;return}_=Math.max(-v.value,-(d.rightWidth>0?d.rightWidth+m:0))}d.status==="close"&&(d.pos=_)}},onSwipeEnd:function(k){p()}}),v=f.lengthX,S=0,E=.5,m=0,d=Me({moving:!1,leftWidth:0,rightWidth:0,pos:0,status:"close"}),g=j(function(){return["".concat(cg)]});tt(function(){var w,k,_=(w=u.value)===null||w===void 0?void 0:w.clientWidth,T=(k=s.value)===null||k===void 0?void 0:k.clientWidth;d.leftWidth=_>0?_+S:0,d.rightWidth=T>0?T+S:0,h()}),oe(function(){return t.expanded},function(){return h()}),lk(c,function(w){y()});var h=function(){t.expanded&&t.expanded==="left"&&d.leftWidth&&b("toRight"),t.expanded&&t.expanded==="right"&&d.rightWidth&&b("toLeft")},p=function(){t.disabled||(v.value<0&&d.pos>d.leftWidth*E?b("toRight"):v.value>0&&-d.pos>d.rightWidth*E?b("toLeft"):y("force"))},b=function(k){d.status!=="open"&&(d.moving=!0,d.status="open",k==="toLeft"?(d.pos=-d.rightWidth,d.rightWidth&&r("change","right")):(d.pos=d.leftWidth,d.leftWidth&&r("change","left")))},y=function(k){d.status==="close"&&k!=="force"||(d.moving=!0,d.status="close",d.pos=0,r("change",void 0))},C=function(k){var _=k.action,T=k.source;if(y(),_.onClick){_.onClick();return}r("click",{action:_,source:T})};return ug(ug({},He(t)),{},{swipeContent:i,swipeLeftMenu:o,swipeRightMenu:l,initData:d,classes:g,swipeCell:c,leftRef:u,rightRef:s,handleClickBtn:C,end:p})}});function dg(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function fg(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?dg(Object(n),!0).forEach(function(r){te(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):dg(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var EM={ref:"swipeCell",class:"content"};function wM(e,t,n,r,a,i){var o,l=ge("t-node"),u=ge("t-button");return H(),W("div",{class:z(e.classes),onTouchend:t[2]||(t[2]=function(){return e.end&&e.end.apply(e,arguments)}),onTouchcancel:t[3]||(t[3]=function(){return e.end&&e.end.apply(e,arguments)}),onMouseup:t[4]||(t[4]=function(){return e.end&&e.end.apply(e,arguments)})},[J("div",{class:z((o={},te(o,e.classes+"__wrapper",!0),te(o,"moving",e.initData.moving),o)),style:Ae({transform:"translate3d(".concat(e.initData.pos,"px,0,0)")})},[J("div",{ref:"leftRef",class:z(e.classes+"__left"),style:Ae({width:e.initData.leftWidth?"".concat(e.initData.leftWidth,"px"):"auto"}),onTouchstartPassive:t[0]||(t[0]=Qn(function(){},["stop"]))},[R(l,{content:e.swipeLeftMenu},null,8,["content"]),(H(!0),W(Te,null,Ne(e.left,function(s,c){return H(),Oe(u,{key:c,class:z(s.className||""),style:Ae(s.style||"height: 100%"),onClick:function(v){return e.handleClickBtn({action:fg({},s),source:"left"})}},{default:Ue(function(){return[et(_e(s.text),1)]}),_:2},1032,["class","style","onClick"])}),128))],38),J("div",EM,[R(l,{content:e.swipeContent},null,8,["content"])],512),J("div",{ref:"rightRef",class:z(e.classes+"__right"),style:Ae({width:e.initData.rightWidth?"".concat(e.initData.rightWidth,"px"):"auto"}),onTouchstartPassive:t[1]||(t[1]=Qn(function(){},["stop"]))},[R(l,{content:e.swipeRightMenu},null,8,["content"]),(H(!0),W(Te,null,Ne(e.right,function(s,c){return H(),Oe(u,{key:c,class:z(s.className||""),style:Ae(s.style||"height: 100%"),onClick:function(v){return e.handleClickBtn({action:fg({},s),source:"right"})}},{default:Ue(function(){return[et(_e(s.text),1)]}),_:2},1032,["class","style","onClick"])}),128))],38)],6)],34)}x1.render=wM;/**
 * tdesign v0.8.5
 * (c) 2022 TDesign Group
 * @license MIT
 */var OM=Le(x1);/**
 * tdesign v0.8.5
 * (c) 2022 TDesign Group
 * @license MIT
 */var kM={animation:{type:String,validator:function(t){return t?["gradient","flashed"].includes(t):!0}},content:{type:[String,Function]},default:{type:[String,Function]},delay:{type:Number,default:0},loading:{type:Boolean,default:!0},rowCol:{type:Array,default:[1,1,1,{width:"70%"}]},theme:{type:String,default:"text",validator:function(t){return t?["text","avatar-text"].includes(t):!0}}};/**
 * tdesign v0.8.5
 * (c) 2022 TDesign Group
 * @license MIT
 */function hg(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function ss(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?hg(Object(n),!0).forEach(function(r){te(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):hg(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var _M=De.prefix,kr="".concat(_M,"-skeleton"),vg=[1,1,1,{width:"70%"}],$1=ee({name:kr,components:{},props:kM,setup:function(t){var n=!t.loading,r=j(function(){return["".concat(kr),"".concat(kr,"--").concat(t.theme)]}),a=[];t.theme==="avatar-text"?a.push.apply(a,vg):t.rowCol?a.push.apply(a,Nt(t.rowCol)):a.push.apply(a,vg);var i="".concat(kr,"__row"),o=j(function(){return["".concat(kr,"__col"),te({},"".concat(kr,"--animation-").concat(t.animation),t.animation),"".concat(kr,"--type-text")]}),l=function(c){var f=["width","height","marginRight","marginLeft","margin","size","background","backgroundColor","borderRadius"],v={};return f.forEach(function(S){if(S in c){var E=mv(c[S])?"".concat(c[S],"px"):c[S];if(S==="size"){var m=[E,E];v.width=m[0],v.height=m[1]}else v[S]=E}}),v},u=a.map(function(s){if(mv(s))return[{type:"text",style:{}}];if(Array.isArray(s))return s.map(function(f){return ss(ss({},f),{},{style:l(f)})});var c=s;return[ss(ss({},c),{},{style:l(c)})]});return{name:kr,rootClasses:r,rowClass:i,colClass:o,parsedRowcols:u,showContent:n,defaultContent:t.default}}});function AM(e,t,n,r,a,i){return H(),W("div",{class:z(e.rootClasses)},[e.showContent?(H(),W(Te,{key:0},[e.content?(H(),W(Te,{key:0},[et(_e(e.content),1)],64)):e.defaultContent?(H(),W(Te,{key:1},[et(_e(e.defaultContent),1)],64)):Ye(e.$slots,"default",{key:2})],64)):e.theme==="text"?(H(!0),W(Te,{key:1},Ne(e.parsedRowcols,function(o,l){return H(),W("div",{key:"".concat(e.rowClass,"-").concat(l),class:z(e.rowClass)},[(H(!0),W(Te,null,Ne(o,function(u,s){return H(),W("div",{key:"".concat(e.colClass,"-").concat(s),class:z(e.colClass),style:Ae(u.style)},null,6)}),128))],2)}),128)):e.theme==="avatar-text"?(H(),W(Te,{key:2},[J("div",{class:z("".concat(e.name,"__col ").concat(e.name,"--type-circle"))},null,2),J("div",{class:z("".concat(e.name,"__paragraph"))},[(H(!0),W(Te,null,Ne(e.parsedRowcols,function(o,l){return H(),W("div",{key:"".concat(e.rowClass,"-").concat(l),class:z(e.rowClass)},[(H(!0),W(Te,null,Ne(o,function(u,s){return H(),W("div",{key:"".concat(e.colClass,"-").concat(s),class:z(e.colClass),style:Ae(u.style)},null,6)}),128))],2)}),128))],2)],64)):se("",!0)],2)}$1.render=AM;/**
 * tdesign v0.8.5
 * (c) 2022 TDesign Group
 * @license MIT
 */var DM=Le($1);/**
 * tdesign v0.8.5
 * (c) 2022 TDesign Group
 * @license MIT
 */var PM={align:{type:String,default:"center",validator:function(t){return t?["left","center"].includes(t):!0}},border:{type:[Boolean,Object],default:!1},column:{type:Number,default:4},gutter:{type:Number}};/**
 * tdesign v0.8.5
 * (c) 2022 TDesign Group
 * @license MIT
 */var IM=De.prefix,mg="".concat(IM,"-grid"),M1=ee({name:mg,props:PM,setup:function(t){var n=He(t),r=n.column,a=n.gutter,i=n.border,o=n.align;return ct("grid",{column:r,gutter:a,border:i,align:o}),{name:mg}}});function LM(e,t,n,r,a,i){return H(),W("div",{class:z("".concat(e.name))},[Ye(e.$slots,"default")],2)}M1.render=LM;/**
 * tdesign v0.8.5
 * (c) 2022 TDesign Group
 * @license MIT
 */var RM={badgeProps:{type:Object},description:{type:[String,Function]},image:{type:[String,Function]},layout:{type:String,default:"vertical",validator:function(t){return t?["vertical","horizontal"].includes(t):!0}},text:{type:[String,Function]}};/**
 * tdesign v0.8.5
 * (c) 2022 TDesign Group
 * @license MIT
 */function gg(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function xM(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?gg(Object(n),!0).forEach(function(r){te(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):gg(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var $M=De.prefix,ls="".concat($M,"-grid-item"),F1=ee({name:ls,components:{TNode:st,TBadge:$l},props:RM,setup:function(t){var n=Be(),r=t.layout==="horizontal",a=Qe("grid"),i=a.column,o=a.gutter,l=a.border,u=a.align,s=j(function(){return ze(n,"image")}),c=j(function(){return ze(n,"text")}),f=j(function(){return ze(n,"description")}),v=j(function(){return["".concat(ls),te({},"".concat(ls,"--bordered"),l.value)]}),S=j(function(){var g="".concat(100/+i.value,"%"),h={};if(l.value&&typeof l.value!="boolean"){var p=l.color,b=l.width,y=l.style;return{borderColor:p,borderWidth:b,borderStyle:y}}var C=xM({flexBasis:g,flexDirection:r?"row":"column",paddingLeft:o.value?"".concat(o,"px"):0,paddingRight:o.value?"".concat(o,"px"):0,alignItems:"center",justifyContent:"center",textAlign:["center","left"].includes(u.value)?u.value:"center"},h);return C}),E=j(function(){var g=32;return i.value>=5?g=28:i.value<=3&&(g=48),{width:"".concat(g,"px"),height:"".concat(g,"px")}}),m=j(function(){return{paddingLeft:r?"12px":0}}),d=j(function(){return{paddingTop:r?0:"8px",marginBottom:"4px"}});return{name:ls,rootStyle:S,rootClass:v,imgStyle:E,textStyle:m,titleStyle:d,imageContent:s,textContent:c,descContent:f}}}),MM=["src"],FM=["src"];function BM(e,t,n,r,a,i){var o=ge("t-node"),l=ge("t-badge");return H(),W("div",{class:z(e.rootClass),style:Ae(e.rootStyle)},[J("div",{class:z("".concat(e.name,"__image-box"))},[e.badgeProps?(H(),Oe(l,{key:0,count:e.badgeProps.count,"max-count":e.badgeProps.maxCount,dot:e.badgeProps.dot,content:e.badgeProps.content,size:e.badgeProps.size,offset:e.badgeProps.offset},{default:Ue(function(){return[e.image?(H(),W(Te,{key:0},[typeof e.image=="string"?(H(),W("img",{key:0,src:e.image,class:z("".concat(e.name,"__image")),style:Ae(e.imgStyle)},null,14,MM)):(H(),Oe(o,{key:1,content:e.imageContent},null,8,["content"]))],64)):se("",!0)]}),_:1},8,["count","max-count","dot","content","size","offset"])):e.image?(H(),W(Te,{key:1},[typeof e.image=="string"?(H(),W("img",{key:0,src:e.image,class:z("".concat(e.name,"__image")),style:Ae(e.imgStyle)},null,14,FM)):(H(),Oe(o,{key:1,content:e.imageContent},null,8,["content"]))],64)):se("",!0)],2),J("div",{class:z("".concat(e.name,"__text")),style:Ae(e.textStyle)},[J("div",{class:z("".concat(e.name,"__title")),style:Ae(e.titleStyle)},[R(o,{content:e.textContent},null,8,["content"])],6),J("div",{class:z("".concat(e.name,"__description"))},[R(o,{content:e.descContent},null,8,["content"])],2)],6)],6)}F1.render=BM;/**
 * tdesign v0.8.5
 * (c) 2022 TDesign Group
 * @license MIT
 */var NM=Le(M1),jM=Le(F1);/**
 * tdesign v0.8.5
 * (c) 2022 TDesign Group
 * @license MIT
 */function pg(e,t){var n=Object.keys(t);n.forEach(function(r){e.style[r]=t[r]})}/**
 * tdesign v0.8.5
 * (c) 2022 TDesign Group
 * @license MIT
 */function yg(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function us(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?yg(Object(n),!0).forEach(function(r){te(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):yg(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function UM(e){var t,n,r,a,i={};if(!!e){var o=(t=window)===null||t===void 0||(n=t.getComputedStyle)===null||n===void 0?void 0:n.call(t,e),l=o.color,u=o.fontSize,s=(r=window)===null||r===void 0||(a=r.navigator)===null||a===void 0?void 0:a.userAgent,c=/Safari/.test(s)&&!/Chrome/.test(s);if(c&&(i={transformOrigin:"-1px -1px",transform:"scale(".concat(parseInt(u,10)/14,")")}),l&&CR()>11){var f=l.match(/[\d.]+/g),v=f?"rgba(".concat(f[0],", ").concat(f[1],", ").concat(f[2],", 0)"):"";pg(e,us(us({},i),{},{background:"conic-gradient(from 90deg at 50% 50%,".concat(v," 0deg, ").concat(l," 360deg)")}))}else pg(e,us(us({},i),{},{background:""}))}}/**
 * tdesign v0.8.5
 * (c) 2022 TDesign Group
 * @license MIT
 */var B1=De.prefix,Ou="".concat(B1,"-loading__gradient"),VM="".concat(B1,"-icon-loading"),N1=ee({name:Ou,setup:function(){var t=[Ou,VM];return{name:Ou,classes:t}},mounted:function(){var t=this;this.$nextTick(function(){t.updateColor()})},updated:function(){this.updateColor()},methods:{updateColor:function(){var t=this.$refs.circle;UM(t)}}}),HM={x:"1",y:"1",width:"12",height:"12"};function zM(e,t,n,r,a,i){return H(),W("svg",{class:z(e.classes),viewBox:"0 0 14 14",version:"1.1",width:"1em",height:"1em",xmlns:"http://www.w3.org/2000/svg"},[(H(),W("foreignObject",HM,[J("div",{ref:"circle",class:z("".concat(e.name,"-conic"))},null,2)]))],2)}N1.render=zM;/**
 * tdesign v0.8.5
 * (c) 2022 TDesign Group
 * @license MIT
 */var GM=De.prefix,bg="".concat(GM,"-loading__spinner"),j1=ee({name:bg,setup:function(){return{name:bg}}});function KM(e,t,n,r,a,i){return H(),W("span",{class:z(e.name)},[(H(!0),W(Te,null,Ne(new Array(12),function(o,l){return H(),W("i",{key:l,class:z(["".concat(e.name,"--line"),"".concat(e.name,"--line-").concat(l+1)])},null,2)}),128))],2)}j1.render=KM;/**
 * tdesign v0.8.5
 * (c) 2022 TDesign Group
 * @license MIT
 */var WM={default:{type:[String,Function]},content:{type:[String,Function]},delay:{type:Number,default:0},duration:{type:Number,default:800},indicator:{type:Boolean,default:!0},inheritColor:Boolean,layout:{type:String,default:"horizontal",validator:function(t){return t?["horizontal","vertical"].includes(t):!0}},loading:{type:Boolean,default:!0},pause:Boolean,progress:{type:Number},reverse:Boolean,size:{type:String,default:"40rpx"},text:{type:String},theme:{type:String,default:"circular",validator:function(t){return t?["circular","spinner","bar","error","dots"].includes(t):!0}}};/**
 * tdesign v0.8.5
 * (c) 2022 TDesign Group
 * @license MIT
 */var YM=De.prefix,_r="".concat(YM,"-loading"),qM=function(t){return!t||t<=0?-100:t>1?0:(-1+t)*100},U1=ee({name:_r,components:{GradientIcon:N1,SpinnerIcon:j1,TNode:st},props:WM,setup:function(t){var n=Be(),r=q(!1),a=function(){r.value=!1;var v=setTimeout(function(){r.value=!0,clearTimeout(v)},t.delay)},i=j(function(){return(!t.delay||r.value)&&t.loading});oe(function(){return t.loading},function(f){f&&t.delay&&a()},{immediate:!0});var o=j(function(){return[_r,te({},"".concat(_r,"--vertical"),t.layout==="vertical"),te({},"".concat(_r,"--bar"),t.theme==="bar"),t.size?Mt.SIZE[t.size]:""]}),l=j(function(){return["".concat(_r,"__text"),te({},"".concat(_r,"__text--error"),t.theme==="error"),te({},"".concat(_r,"__text--only"),!t.indicator||t.theme==="error")]}),u=j(function(){return t.theme==="error"?"\u52A0\u8F7D\u5931\u8D25":ze(n,"text")}),s=j(function(){return Xt(n,"default","content")}),c=j(function(){return{transform:"translate3d(".concat(qM(t.progress),"%, 0px, 0px)")}});return{name:_r,rootClass:o,textClass:l,textContent:u,defaultContent:s,barStyle:c,realLoading:i}}});function XM(e,t,n,r,a,i){var o=ge("gradient-icon"),l=ge("spinner-icon"),u=ge("t-node");return H(),W("div",{class:z(e.rootClass)},[e.theme==="bar"&&e.progress&&![0,1].includes(e.progress)?(H(),W("div",{key:0,class:z("".concat(e.name,"__bar")),style:Ae(e.barStyle)},[J("div",{class:z("".concat(e.name,"__shadow"))},null,2)],6)):e.theme!=="bar"?(H(),W(Te,{key:1},[e.indicator&&e.realLoading?(H(),W(Te,{key:0},[e.theme==="circular"?(H(),Oe(o,{key:0})):e.theme==="spinner"?(H(),Oe(l,{key:1})):e.theme==="dots"?(H(),W("div",{key:2,class:z("".concat(e.name,"__dots"))},null,2)):se("",!0)],64)):se("",!0),e.textContent&&e.realLoading?(H(),W("span",{key:1,class:z(e.textClass)},[R(u,{content:e.textContent},null,8,["content"])],2)):se("",!0),R(u,{content:e.defaultContent},null,8,["content"])],64)):se("",!0)],2)}U1.render=XM;/**
 * tdesign v0.8.5
 * (c) 2022 TDesign Group
 * @license MIT
 */var qd=Le(U1);/**
 * tdesign v0.8.5
 * (c) 2022 TDesign Group
 * @license MIT
 */var ZM={asyncLoading:{type:[String,Function]},footer:{type:[String,Function]},header:{type:[String,Function]},layout:{type:String,default:"horizontal",validator:function(t){return t?["horizontal","vertical"].includes(t):!0}},size:{type:String,default:"medium",validator:function(t){return t?["small","medium","large"].includes(t):!0}},split:Boolean,stripe:Boolean,onLoadMore:Function,onScroll:Function};/**
 * tdesign v0.8.5
 * (c) 2022 TDesign Group
 * @license MIT
 */var JM=De.prefix,Sg="".concat(JM,"-list"),QM={loading:"\u52A0\u8F7D\u4E2D...","loading-more":"\u70B9\u51FB\u52A0\u8F7D\u66F4\u591A"},V1=ee({name:Sg,components:{TLoading:qd,TNode:st},props:ZM,emits:["load-more","scroll"],setup:function(t,n){var r=n.emit,a=q(),i=q(),o=Be(),l=j(function(){return ze(o,"header")}),u=j(function(){return ze(o,"footer")}),s=function(f){t.asyncLoading==="loading-more"&&(r("load-more",{e:f}),t.onLoadMore&&t.onLoadMore())};return{name:Sg,root:a,empty:i,onLoadMore:s,headerContent:l,footerContent:u,LOADING_TEXT_MAP:QM}},methods:{handleScroll:function(t){var n=this.$el,r=n.scrollTop,a=n.scrollHeight,i=n.clientHeight;this.$emit("scroll",{$event:t,scrollTop:r,scrollBottom:a-i-r}),this.onScroll&&this.onScroll({e:t,scrollTop:r,scrollBottom:a-i-r})}}});function eF(e,t,n,r,a,i){var o=ge("t-node"),l=ge("t-loading");return H(),W("div",{ref:"root",class:z(e.name),onScroll:t[1]||(t[1]=function(){return e.handleScroll&&e.handleScroll.apply(e,arguments)})},[R(o,{content:e.headerContent},null,8,["content"]),Ye(e.$slots,"default"),J("div",{onClick:t[0]||(t[0]=Qn(function(){return e.onLoadMore&&e.onLoadMore.apply(e,arguments)},["stop"]))},[typeof e.asyncLoading=="string"&&["loading","loadingMore"].includes(e.asyncLoading)?(H(),Oe(l,{key:0,loading:e.asyncLoading==="loading",content:typeof e.asyncLoading=="string"?e.LOADING_TEXT_MAP[e.asyncLoading]:"",class:z("".concat(e.name,"__loading"))},null,8,["loading","content","class"])):se("",!0)]),R(o,{content:e.footerContent},null,8,["content"])],34)}V1.render=eF;/**
 * tdesign v0.8.5
 * (c) 2022 TDesign Group
 * @license MIT
 */var tF=Le(V1);/**
 * tdesign v0.8.5
 * (c) 2022 TDesign Group
 * @license MIT
 */var nF={fixed:{type:Boolean,default:!0},icon:{type:Function,default:"backtop"},target:{type:Function},text:{type:String,default:""},theme:{type:String,default:"round",validator:function(t){return t?["round","half-round","round-dark","half-round-dark"].includes(t):!0}},onToTop:Function};/**
 * tdesign v0.8.5
 * (c) 2022 TDesign Group
 * @license MIT
 */var H1=De.prefix,cs="".concat(H1,"-back-top"),z1=ee({name:cs,components:{TNode:st,TIconBackTop:IO},props:nF,setup:function(t,n){var r=pt(t,n.emit),a=j(function(){return t.target?t.target():window.document.documentElement}),i=Ec(a),o=i.top,l=j(function(){var f;return f={},te(f,"".concat(cs),!0),te(f,"".concat(H1,"-is-fixed"),t.fixed),te(f,"".concat(cs,"--").concat(t.theme),!0),f}),u=Be(),s=j(function(){var f;return(f=n.slots)!==null&&f!==void 0&&f.icon||typeof t.icon=="function"?ze(u,"icon"):!1}),c=function(){window.document.documentElement.scrollTop+=o.value,r("toTop")};return{name:cs,classes:l,iconTNode:s,el:a,top:o,clickBackBtn:c}}});function rF(e,t,n,r,a,i){var o=ge("t-node"),l=ge("t-icon-back-top");return H(),W("div",{class:z(e.classes),onClick:t[0]||(t[0]=function(){return e.clickBackBtn&&e.clickBackBtn.apply(e,arguments)})},[e.iconTNode?(H(),Oe(o,{key:0,content:e.iconTNode},null,8,["content"])):(H(),Oe(l,{key:1})),e.text?(H(),W("span",{key:2,class:z("".concat(e.name,"__text"))},_e(e.text),3)):se("",!0)],2)}z1.render=rF;/**
 * tdesign v0.8.5
 * (c) 2022 TDesign Group
 * @license MIT
 */var aF=Le(z1);/**
 * tdesign v0.8.5
 * (c) 2022 TDesign Group
 * @license MIT
 */var iF={loadingBarHeight:{type:[String,Number],default:50},loadingProps:{type:Object},loadingTexts:{type:Array,default:function(){return[]}},maxBarHeight:{type:[String,Number],default:80},refreshTimeout:{type:Number,default:3e3},value:{type:Boolean,default:void 0},modelValue:{type:Boolean,default:void 0},defaultValue:Boolean,onChange:Function,onRefresh:Function,onTimeout:Function};/**
 * tdesign v0.8.5
 * (c) 2022 TDesign Group
 * @license MIT
 */var oF=function(t){var n=1;return t.tagName!=="HTML"&&t.tagName!=="BODY"&&t.nodeType===n};function sF(){var e=q(0),t=q(0),n=function(i){e.value=i.touches[0].clientY,t.value=0},r=function(i){var o=i.touches[0];t.value=o.clientY-e.value};return{startY:e,deltaY:t,start:n,move:r}}var lF=function(t,n){return t>n&&(t<n*2?t=n+(t-n)/2:t=n*1.5+(t-n*2)/4),Math.round(t)},uF=function(t){for(var n=t;n&&oF(n);){if(/auto|scroll/i.test(window.getComputedStyle(n).overflowY))return n;n=n.parentNode}},ku=function(t){var n=uF(t.target);return!n||!n.scrollTop};/**
 * tdesign v0.8.5
 * (c) 2022 TDesign Group
 * @license MIT
 */function Tg(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function cF(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Tg(Object(n),!0).forEach(function(r){te(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Tg(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var dF=De.prefix,Cg="".concat(dF,"-pull-down-refresh"),fF=300,hF=["pulling","loosing","loading","success","initial"],G1=ee({name:Cg,components:{TLoading:qd},props:iF,emits:["refresh","timeout"],setup:function(t,n){var r,a=pt(t,n.emit),i=j(function(){return{transitionDuration:"".concat(fF,"ms"),transform:"translate3d(0, ".concat(c.value,"px, 0)")}}),o=j(function(){return{height:typeof t.loadingBarHeight=="number"?"".concat(t.loadingBarHeight,"px"):t.loadingBarHeight}}),l=j(function(){return{height:typeof t.maxBarHeight=="number"?"".concat(t.maxBarHeight,"px"):t.maxBarHeight}}),u=j(function(){return cF({},t.loadingProps)}),s=q(!1),c=q(0),f=He(t),v=f.value,S=f.modelValue,E=lD(v,S,t.defaultValue,t.onChange),m=Ot(E,2),d=m[0],g=m[1],h=j(function(){return!d.value&&s.value?"success":!d.value||c.value===0?"initial":c.value<_.value?"pulling":s.value?"loading":"loosing"});oe(h,function(x){(x==="success"||x==="initial")&&setTimeout(function(){c.value=0,s.value=!1},300)});var p=q((r=t.loadingTexts)!==null&&r!==void 0&&r.length?t.loadingTexts:["\u4E0B\u62C9\u5237\u65B0","\u677E\u624B\u5237\u65B0","\u6B63\u5728\u5237\u65B0","\u5237\u65B0\u5B8C\u6210"]),b=j(function(){var x=hF.indexOf(h.value);return x>=0?p.value[x]:""}),y=sF(),C=q(null),w=q(null),k=Sv(C),_=k.height,T=Sv(w),O=T.height,A=function(L){!ku(L)||s.value||(g(!0),c.value=0,y.start(L))},P=function(L){if(!(!ku(L)||s.value)){var $=y.deltaY,M=lF($.value,_.value);M>=0&&M<O.value&&(L.preventDefault(),c.value=M),y.move(L)}},D=null,I=function(L){!ku(L)||s.value||(h.value==="loosing"?(c.value=_.value,s.value=!0,a("refresh"),D=setTimeout(function(){s.value&&(a("timeout"),g(!1))},t.refreshTimeout)):g(!1))};return Nn(function(){clearTimeout(D)}),{name:Cg,status:h,trackStyle:i,loadingText:b,maxBarStyles:l,loadingBarStyles:o,loadingIconProps:u,loadingBar:C,maxBar:w,onTouchStart:A,onTouchMove:P,onTouchEnd:I}}}),vF={key:0},mF={key:1};function gF(e,t,n,r,a,i){var o=ge("t-loading");return H(),W("div",{class:z(e.name)},[J("div",{class:z("".concat(e.name,"__track")),style:Ae(e.trackStyle),onTouchstart:t[0]||(t[0]=Qn(function(){return e.onTouchStart&&e.onTouchStart.apply(e,arguments)},["stop"])),onTouchmove:t[1]||(t[1]=Qn(function(){return e.onTouchMove&&e.onTouchMove.apply(e,arguments)},["stop"])),onTouchend:t[2]||(t[2]=Qn(function(){return e.onTouchEnd&&e.onTouchEnd.apply(e,arguments)},["stop"])),onTouchcancel:t[3]||(t[3]=Qn(function(){return e.onTouchEnd&&e.onTouchEnd.apply(e,arguments)},["stop"]))},[J("div",{ref:"maxBar",class:z("".concat(e.name,"__max")),style:Ae(e.maxBarStyles)},[J("div",{ref:"loadingBar",class:z("".concat(e.name,"__loading")),style:Ae(e.loadingBarStyles)},[e.status==="loading"?(H(),W("div",vF,[R(o,We({text:e.loadingText,class:"".concat(e.name,"__loading-icon")},e.loadingIconProps),null,16,["text","class"])])):(H(),W("div",mF,_e(e.loadingText),1))],6)],6),Ye(e.$slots,"default")],38)],2)}G1.render=gF;/**
 * tdesign v0.8.5
 * (c) 2022 TDesign Group
 * @license MIT
 */var pF=Le(G1),yF=Il;function bF(){this.__data__=new yF,this.size=0}var SF=bF;function TF(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}var CF=TF;function EF(e){return this.__data__.get(e)}var wF=EF;function OF(e){return this.__data__.has(e)}var kF=OF,_F=Il,AF=Ud,DF=Vd,PF=200;function IF(e,t){var n=this.__data__;if(n instanceof _F){var r=n.__data__;if(!AF||r.length<PF-1)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new DF(r)}return n.set(e,t),this.size=n.size,this}var LF=IF,RF=Il,xF=SF,$F=CF,MF=wF,FF=kF,BF=LF;function Li(e){var t=this.__data__=new RF(e);this.size=t.size}Li.prototype.clear=xF;Li.prototype.delete=$F;Li.prototype.get=MF;Li.prototype.has=FF;Li.prototype.set=BF;var K1=Li;function NF(e,t){for(var n=-1,r=e==null?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}var jF=NF,UF=yb,VF=jF,HF=Tb,zF=1,GF=2;function KF(e,t,n,r,a,i){var o=n&zF,l=e.length,u=t.length;if(l!=u&&!(o&&u>l))return!1;var s=i.get(e),c=i.get(t);if(s&&c)return s==t&&c==e;var f=-1,v=!0,S=n&GF?new UF:void 0;for(i.set(e,t),i.set(t,e);++f<l;){var E=e[f],m=t[f];if(r)var d=o?r(m,E,f,t,e,i):r(E,m,f,e,t,i);if(d!==void 0){if(d)continue;v=!1;break}if(S){if(!VF(t,function(g,h){if(!HF(S,h)&&(E===g||a(E,g,n,r,i)))return S.push(h)})){v=!1;break}}else if(!(E===m||a(E,m,n,r,i))){v=!1;break}}return i.delete(e),i.delete(t),v}var W1=KF,WF=Tr,YF=WF.Uint8Array,qF=YF;function XF(e){var t=-1,n=Array(e.size);return e.forEach(function(r,a){n[++t]=[a,r]}),n}var ZF=XF;function JF(e){var t=-1,n=Array(e.size);return e.forEach(function(r){n[++t]=r}),n}var QF=JF,Eg=kl,wg=qF,eB=pb,tB=W1,nB=ZF,rB=QF,aB=1,iB=2,oB="[object Boolean]",sB="[object Date]",lB="[object Error]",uB="[object Map]",cB="[object Number]",dB="[object RegExp]",fB="[object Set]",hB="[object String]",vB="[object Symbol]",mB="[object ArrayBuffer]",gB="[object DataView]",Og=Eg?Eg.prototype:void 0,_u=Og?Og.valueOf:void 0;function pB(e,t,n,r,a,i,o){switch(n){case gB:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case mB:return!(e.byteLength!=t.byteLength||!i(new wg(e),new wg(t)));case oB:case sB:case cB:return eB(+e,+t);case lB:return e.name==t.name&&e.message==t.message;case dB:case hB:return e==t+"";case uB:var l=nB;case fB:var u=r&aB;if(l||(l=rB),e.size!=t.size&&!u)return!1;var s=o.get(e);if(s)return s==t;r|=iB,o.set(e,t);var c=tB(l(e),l(t),r,a,i,o);return o.delete(e),c;case vB:if(_u)return _u.call(e)==_u.call(t)}return!1}var yB=pB;function bB(e,t){for(var n=-1,r=t.length,a=e.length;++n<r;)e[a+n]=t[n];return e}var SB=bB,TB=SB,CB=Kr;function EB(e,t,n){var r=t(e);return CB(e)?r:TB(r,n(e))}var wB=EB;function OB(e,t){for(var n=-1,r=e==null?0:e.length,a=0,i=[];++n<r;){var o=e[n];t(o,n,e)&&(i[a++]=o)}return i}var kB=OB;function _B(){return[]}var AB=_B,DB=kB,PB=AB,IB=Object.prototype,LB=IB.propertyIsEnumerable,kg=Object.getOwnPropertySymbols,RB=kg?function(e){return e==null?[]:(e=Object(e),DB(kg(e),function(t){return LB.call(e,t)}))}:PB,xB=RB;function $B(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}var MB=$B,FB=Ho,BB=Ai,NB="[object Arguments]";function jB(e){return BB(e)&&FB(e)==NB}var UB=jB,_g=UB,VB=Ai,Y1=Object.prototype,HB=Y1.hasOwnProperty,zB=Y1.propertyIsEnumerable,GB=_g(function(){return arguments}())?_g:function(e){return VB(e)&&HB.call(e,"callee")&&!zB.call(e,"callee")},q1=GB,el={exports:{}};function KB(){return!1}var WB=KB;(function(e,t){var n=Tr,r=WB,a=t&&!t.nodeType&&t,i=a&&!0&&e&&!e.nodeType&&e,o=i&&i.exports===a,l=o?n.Buffer:void 0,u=l?l.isBuffer:void 0,s=u||r;e.exports=s})(el,el.exports);var YB=9007199254740991,qB=/^(?:0|[1-9]\d*)$/;function XB(e,t){var n=typeof e;return t=t==null?YB:t,!!t&&(n=="number"||n!="symbol"&&qB.test(e))&&e>-1&&e%1==0&&e<t}var X1=XB,ZB=Ho,JB=zd,QB=Ai,eN="[object Arguments]",tN="[object Array]",nN="[object Boolean]",rN="[object Date]",aN="[object Error]",iN="[object Function]",oN="[object Map]",sN="[object Number]",lN="[object Object]",uN="[object RegExp]",cN="[object Set]",dN="[object String]",fN="[object WeakMap]",hN="[object ArrayBuffer]",vN="[object DataView]",mN="[object Float32Array]",gN="[object Float64Array]",pN="[object Int8Array]",yN="[object Int16Array]",bN="[object Int32Array]",SN="[object Uint8Array]",TN="[object Uint8ClampedArray]",CN="[object Uint16Array]",EN="[object Uint32Array]",ft={};ft[mN]=ft[gN]=ft[pN]=ft[yN]=ft[bN]=ft[SN]=ft[TN]=ft[CN]=ft[EN]=!0;ft[eN]=ft[tN]=ft[hN]=ft[nN]=ft[vN]=ft[rN]=ft[aN]=ft[iN]=ft[oN]=ft[sN]=ft[lN]=ft[uN]=ft[cN]=ft[dN]=ft[fN]=!1;function wN(e){return QB(e)&&JB(e.length)&&!!ft[ZB(e)]}var ON=wN,Rc={exports:{}};(function(e,t){var n=B0,r=t&&!t.nodeType&&t,a=r&&!0&&e&&!e.nodeType&&e,i=a&&a.exports===r,o=i&&n.process,l=function(){try{var u=a&&a.require&&a.require("util").types;return u||o&&o.binding&&o.binding("util")}catch{}}();e.exports=l})(Rc,Rc.exports);var kN=ON,_N=Sb,Ag=Rc.exports,Dg=Ag&&Ag.isTypedArray,AN=Dg?_N(Dg):kN,Z1=AN,DN=MB,PN=q1,IN=Kr,LN=el.exports,RN=X1,xN=Z1,$N=Object.prototype,MN=$N.hasOwnProperty;function FN(e,t){var n=IN(e),r=!n&&PN(e),a=!n&&!r&&LN(e),i=!n&&!r&&!a&&xN(e),o=n||r||a||i,l=o?DN(e.length,String):[],u=l.length;for(var s in e)(t||MN.call(e,s))&&!(o&&(s=="length"||a&&(s=="offset"||s=="parent")||i&&(s=="buffer"||s=="byteLength"||s=="byteOffset")||RN(s,u)))&&l.push(s);return l}var BN=FN,NN=Object.prototype;function jN(e){var t=e&&e.constructor,n=typeof t=="function"&&t.prototype||NN;return e===n}var UN=jN;function VN(e,t){return function(n){return e(t(n))}}var HN=VN,zN=HN,GN=zN(Object.keys,Object),KN=GN,WN=UN,YN=KN,qN=Object.prototype,XN=qN.hasOwnProperty;function ZN(e){if(!WN(e))return YN(e);var t=[];for(var n in Object(e))XN.call(e,n)&&n!="constructor"&&t.push(n);return t}var JN=ZN,QN=BN,ej=JN,tj=Cb;function nj(e){return tj(e)?QN(e):ej(e)}var J1=nj,rj=wB,aj=xB,ij=J1;function oj(e){return rj(e,ij,aj)}var sj=oj,Pg=sj,lj=1,uj=Object.prototype,cj=uj.hasOwnProperty;function dj(e,t,n,r,a,i){var o=n&lj,l=Pg(e),u=l.length,s=Pg(t),c=s.length;if(u!=c&&!o)return!1;for(var f=u;f--;){var v=l[f];if(!(o?v in t:cj.call(t,v)))return!1}var S=i.get(e),E=i.get(t);if(S&&E)return S==t&&E==e;var m=!0;i.set(e,t),i.set(t,e);for(var d=o;++f<u;){v=l[f];var g=e[v],h=t[v];if(r)var p=o?r(h,g,v,t,e,i):r(g,h,v,e,t,i);if(!(p===void 0?g===h||a(g,h,n,r,i):p)){m=!1;break}d||(d=v=="constructor")}if(m&&!d){var b=e.constructor,y=t.constructor;b!=y&&"constructor"in e&&"constructor"in t&&!(typeof b=="function"&&b instanceof b&&typeof y=="function"&&y instanceof y)&&(m=!1)}return i.delete(e),i.delete(t),m}var fj=dj,hj=Aa,vj=Tr,mj=hj(vj,"DataView"),gj=mj,pj=Aa,yj=Tr,bj=pj(yj,"Promise"),Sj=bj,Tj=Aa,Cj=Tr,Ej=Tj(Cj,"Set"),wj=Ej,Oj=Aa,kj=Tr,_j=Oj(kj,"WeakMap"),Aj=_j,xc=gj,$c=Ud,Mc=Sj,Fc=wj,Bc=Aj,Q1=Ho,Ri=gb,Ig="[object Map]",Dj="[object Object]",Lg="[object Promise]",Rg="[object Set]",xg="[object WeakMap]",$g="[object DataView]",Pj=Ri(xc),Ij=Ri($c),Lj=Ri(Mc),Rj=Ri(Fc),xj=Ri(Bc),fa=Q1;(xc&&fa(new xc(new ArrayBuffer(1)))!=$g||$c&&fa(new $c)!=Ig||Mc&&fa(Mc.resolve())!=Lg||Fc&&fa(new Fc)!=Rg||Bc&&fa(new Bc)!=xg)&&(fa=function(e){var t=Q1(e),n=t==Dj?e.constructor:void 0,r=n?Ri(n):"";if(r)switch(r){case Pj:return $g;case Ij:return Ig;case Lj:return Lg;case Rj:return Rg;case xj:return xg}return t});var $j=fa,Au=K1,Mj=W1,Fj=yB,Bj=fj,Mg=$j,Fg=Kr,Bg=el.exports,Nj=Z1,jj=1,Ng="[object Arguments]",jg="[object Array]",ds="[object Object]",Uj=Object.prototype,Ug=Uj.hasOwnProperty;function Vj(e,t,n,r,a,i){var o=Fg(e),l=Fg(t),u=o?jg:Mg(e),s=l?jg:Mg(t);u=u==Ng?ds:u,s=s==Ng?ds:s;var c=u==ds,f=s==ds,v=u==s;if(v&&Bg(e)){if(!Bg(t))return!1;o=!0,c=!1}if(v&&!c)return i||(i=new Au),o||Nj(e)?Mj(e,t,n,r,a,i):Fj(e,t,u,n,r,a,i);if(!(n&jj)){var S=c&&Ug.call(e,"__wrapped__"),E=f&&Ug.call(t,"__wrapped__");if(S||E){var m=S?e.value():e,d=E?t.value():t;return i||(i=new Au),a(m,d,n,r,i)}}return v?(i||(i=new Au),Bj(e,t,n,r,a,i)):!1}var Hj=Vj,zj=Hj,Vg=Ai;function eS(e,t,n,r,a){return e===t?!0:e==null||t==null||!Vg(e)&&!Vg(t)?e!==e&&t!==t:zj(e,t,n,r,eS,a)}var tS=eS,Gj=K1,Kj=tS,Wj=1,Yj=2;function qj(e,t,n,r){var a=n.length,i=a,o=!r;if(e==null)return!i;for(e=Object(e);a--;){var l=n[a];if(o&&l[2]?l[1]!==e[l[0]]:!(l[0]in e))return!1}for(;++a<i;){l=n[a];var u=l[0],s=e[u],c=l[1];if(o&&l[2]){if(s===void 0&&!(u in e))return!1}else{var f=new Gj;if(r)var v=r(s,c,u,e,t,f);if(!(v===void 0?Kj(c,s,Wj|Yj,r,f):v))return!1}}return!0}var Xj=qj,Zj=Al;function Jj(e){return e===e&&!Zj(e)}var nS=Jj,Qj=nS,e3=J1;function t3(e){for(var t=e3(e),n=t.length;n--;){var r=t[n],a=e[r];t[n]=[r,a,Qj(a)]}return t}var n3=t3;function r3(e,t){return function(n){return n==null?!1:n[e]===t&&(t!==void 0||e in Object(n))}}var rS=r3,a3=Xj,i3=n3,o3=rS;function s3(e){var t=i3(e);return t.length==1&&t[0][2]?o3(t[0][0],t[0][1]):function(n){return n===e||a3(n,e,t)}}var l3=s3,u3=Kr,c3=_l,d3=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,f3=/^\w*$/;function h3(e,t){if(u3(e))return!1;var n=typeof e;return n=="number"||n=="symbol"||n=="boolean"||e==null||c3(e)?!0:f3.test(e)||!d3.test(e)||t!=null&&e in Object(t)}var Xd=h3,aS=Vd,v3="Expected a function";function Zd(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(v3);var n=function(){var r=arguments,a=t?t.apply(this,r):r[0],i=n.cache;if(i.has(a))return i.get(a);var o=e.apply(this,r);return n.cache=i.set(a,o)||i,o};return n.cache=new(Zd.Cache||aS),n}Zd.Cache=aS;var m3=Zd,g3=m3,p3=500;function y3(e){var t=g3(e,function(r){return n.size===p3&&n.clear(),r}),n=t.cache;return t}var b3=y3,S3=b3,T3=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,C3=/\\(\\)?/g,E3=S3(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(T3,function(n,r,a,i){t.push(a?i.replace(C3,"$1"):r||n)}),t}),w3=E3,O3=Kr,k3=Xd,_3=w3,A3=zo;function D3(e,t){return O3(e)?e:k3(e,t)?[e]:_3(A3(e))}var iS=D3,P3=_l,I3=1/0;function L3(e){if(typeof e=="string"||P3(e))return e;var t=e+"";return t=="0"&&1/e==-I3?"-0":t}var Ml=L3,R3=iS,x3=Ml;function $3(e,t){t=R3(t,e);for(var n=0,r=t.length;e!=null&&n<r;)e=e[x3(t[n++])];return n&&n==r?e:void 0}var oS=$3,M3=oS;function F3(e,t,n){var r=e==null?void 0:M3(e,t);return r===void 0?n:r}var B3=F3;function N3(e,t){return e!=null&&t in Object(e)}var j3=N3,U3=iS,V3=q1,H3=Kr,z3=X1,G3=zd,K3=Ml;function W3(e,t,n){t=U3(t,e);for(var r=-1,a=t.length,i=!1;++r<a;){var o=K3(t[r]);if(!(i=e!=null&&n(e,o)))break;e=e[o]}return i||++r!=a?i:(a=e==null?0:e.length,!!a&&G3(a)&&z3(o,a)&&(H3(e)||V3(e)))}var Y3=W3,q3=j3,X3=Y3;function Z3(e,t){return e!=null&&X3(e,t,q3)}var J3=Z3,Q3=tS,e4=B3,t4=J3,n4=Xd,r4=nS,a4=rS,i4=Ml,o4=1,s4=2;function l4(e,t){return n4(e)&&r4(t)?a4(i4(e),t):function(n){var r=e4(n,e);return r===void 0&&r===t?t4(n,e):Q3(t,r,o4|s4)}}var u4=l4;function c4(e){return function(t){return t==null?void 0:t[e]}}var d4=c4,f4=oS;function h4(e){return function(t){return f4(t,e)}}var v4=h4,m4=d4,g4=v4,p4=Xd,y4=Ml;function b4(e){return p4(e)?m4(y4(e)):g4(e)}var S4=b4,T4=l3,C4=u4,E4=Hd,w4=Kr,O4=S4;function k4(e){return typeof e=="function"?e:e==null?E4:typeof e=="object"?w4(e)?C4(e[0],e[1]):T4(e):O4(e)}var _4=k4,A4=/\s/;function D4(e){for(var t=e.length;t--&&A4.test(e.charAt(t)););return t}var P4=D4,I4=P4,L4=/^\s+/;function R4(e){return e&&e.slice(0,I4(e)+1).replace(L4,"")}var x4=R4,$4=x4,Hg=Al,M4=_l,zg=0/0,F4=/^[-+]0x[0-9a-f]+$/i,B4=/^0b[01]+$/i,N4=/^0o[0-7]+$/i,j4=parseInt;function U4(e){if(typeof e=="number")return e;if(M4(e))return zg;if(Hg(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=Hg(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=$4(e);var n=B4.test(e);return n||N4.test(e)?j4(e.slice(2),n?2:8):F4.test(e)?zg:+e}var V4=U4,H4=V4,Gg=1/0,z4=17976931348623157e292;function G4(e){if(!e)return e===0?e:0;if(e=H4(e),e===Gg||e===-Gg){var t=e<0?-1:1;return t*z4}return e===e?e:0}var K4=G4,W4=K4;function Y4(e){var t=W4(e),n=t%1;return t===t?n?t-n:t:0}var q4=Y4,X4=bb,Z4=_4,J4=q4,Q4=Math.max;function e5(e,t,n){var r=e==null?0:e.length;if(!r)return-1;var a=n==null?0:J4(n);return a<0&&(a=Q4(r+a,0)),X4(e,Z4(t),a)}var t5=e5;/**
 * tdesign v0.8.5
 * (c) 2022 TDesign Group
 * @license MIT
 */function n5(e){var t=e.method,n=t===void 0?"POST":t,r=e.action,a=e.withCredentials,i=a===void 0?!1:a,o=e.headers,l=o===void 0?{}:o,u=e.data,s=u===void 0?{}:u,c=e.file,f=e.files,v=e.name,S=v===void 0?"file":v,E=e.onError,m=e.onProgress,d=e.onSuccess,g=f||[],h=new XMLHttpRequest;i&&(h.withCredentials=!0);var p=new FormData,b=typeof s=="function"?s(c):s;return Object.keys(b).forEach(function(y){p.append(y,s[y])}),g.forEach(function(y){p.append(S,y&&y.raw)}),h.open(n,r,!0),Object.keys(l).forEach(function(y){h.setRequestHeader(y,l[y])}),h.onerror=function(y){return E({event:y,file:c,files:g})},h.upload&&(h.upload.onprogress=function(y){var C=0;y.total>0&&(C=Math.round(y.loaded/y.total*100)),m({event:y,percent:C,file:c,files:g})}),h.onload=function(y){var C,w=h.status<200||h.status>=300;if(w)return E({event:y,file:c,files:g,response:C});var k=h.responseText||h.response;try{C=JSON.parse(k)}catch{C=k}d({event:y,file:c,files:g,response:C})},h.send(p),h}/**
 * tdesign v0.8.5
 * (c) 2022 TDesign Group
 * @license MIT
 */var r5={accept:{type:String,default:""},action:{type:String,default:""},allowUploadDuplicateFile:Boolean,autoUpload:{type:Boolean,default:!0},beforeUpload:{type:Function},data:{type:Object},deleteBtn:{type:[String,Function]},disabled:Boolean,fileListDisplay:{type:Function},files:{type:Array},defaultFiles:{type:Array},format:{type:Function},formatResponse:{type:Function},gridConfig:{type:Object},headers:{type:Object},imageProps:{type:Object},max:{type:Number,default:0},method:{type:String,default:"POST",validator:function(t){return t?["POST","GET","PUT","OPTION","PATCH","post","get","put","option","patch"].includes(t):!0}},multiple:Boolean,requestMethod:{type:Function},sizeLimit:{type:[Number,Object]},trigger:{type:[String,Function]},useMockProgress:{type:Boolean,default:!0},withCredentials:Boolean,onCancelUpload:Function,onChange:Function,onFail:Function,onPreview:Function,onProgress:Function,onRemove:Function,onSelectChange:Function,onSuccess:Function};/**
 * tdesign v0.8.5
 * (c) 2022 TDesign Group
 * @license MIT
 */var a5={B:1024,KB:1,MB:1048576,GB:1073741824};function i5(e,t,n){var r=["B","KB","MB","GB"],a=1,i=r.indexOf(n);i===-1&&(console.warn("TDesign Upload Warn: `sizeLimit.unit` can only be one of ".concat(r.join())),i=a);var o=a5[n],l=i<a?t/o:t*o;return e<=l}/**
 * tdesign v0.8.5
 * (c) 2022 TDesign Group
 * @license MIT
 */function Kg(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Ar(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Kg(Object(n),!0).forEach(function(r){te(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Kg(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var sS=De.prefix,Wg="".concat(sS,"-upload"),lS=ee({name:Wg,components:{AddIcon:O0,TNode:st,CloseIcon:_i,RefreshIcon:QO},props:r5,emits:["update:files","update:modelValue","change","fail","preview","progress","remove","success"],setup:function(t,n){var r=pt(t,n.emit),a=Vt(t,n.emit,"files","change"),i=Ot(a,2),o=i[0],l=i[1],u=Be(),s=j(function(){return ze(u,"default")}),c=j(function(){return ze(u,"deleteBtn")}),f=q([]),v=q(!1),S=q(0),E=Wg,m=q(null),d=q([]),g=j(function(){return o.value&&ak(o.value)?o.value.filter(function(U){return U.status==="success"||U.status==="fail"}):[]}),h=q(""),p=q(null),b=j(function(){var U=He(t),B=U.gridConfig,K=4;return gv(B.value)&&(K=B.value.column),{flexBasis:"".concat(100/+K,"%")}}),y=j(function(){var U=80,B=80,K=He(t),V=K.gridConfig;if(gv(V.value)){var X=V.value;U=X.width,B=X.height}return{height:"".concat(B,"px"),width:"".concat(U,"px")}}),C=function(){var B=p.value;t.disabled||B.click()},w=function(B,K){v.value=!0,r("preview",{e:B,file:K})},k=function(B){P([B])},_=function(B){var K=B.target.files;if(!(t.disabled||!K)){var V=p.value;P(T(K)),V.value=""}},T=function(B){if(!t.format||!Ui(t.format))return B;var K=Nt(B);return K.forEach(function(V){var X;V=(X=t.format)===null||X===void 0?void 0:X.call(t,V)}),K},O=function(B){if(t.beforeUpload&&Ui(t.beforeUpload)){var K=t.beforeUpload(B);return K instanceof Promise?K:Promise.resolve(K)}return new Promise(function(V){t.sizeLimit&&V(A(B.size)),V(!0)})},A=function(B){var K;typeof t.sizeLimit=="number"?K={size:t.sizeLimit,unit:"KB"}:jt(t.sizeLimit)==="object"?K=t.sizeLimit:K={size:0,unit:"KB"};var V=i5(B,K.size,K.unit);return V&&(h.value=K.message?K.message:"TDesign Upoad Error: uploaded picture exceeds ".concat(t.sizeLimit).concat(K.unit," restrictions")),V},P=function(B){var K=He(t),V=K.max,X=Nt(B);V.value&&(X=X.slice(0,V.value-g.value.length),X.length!==B.length&&console.warn("TDesign Upload Warn: you can only upload ".concat(V.value," files"))),X.forEach(function(Z){var ne=Ar(Ar({},Z),{},{lastModified:Z.lastModified,name:Z.name,size:Z.size,type:Z.type,percent:0,status:"waiting"}),ae=new FileReader;ae.readAsDataURL(Z),ae.onload=function(ye){var de;ne.url=(de=ye.target)===null||de===void 0?void 0:de.result},O(Z).then(function(ye){if(!!ye){var de=d.value.concat();de.push(ne),d.value=Nt(new Set(de)),t.autoUpload&&L(ne)}})})},D=function(B){var K=setInterval(function(){if(B.status==="success"||B.percent>=99){clearInterval(K);return}B.percent+=1,I({file:B,percent:B.percent,type:"mock"})},10)},I=function(B){var K=B.event,V=B.file,X=B.percent,Z=B.type,ne=Z===void 0?"real":Z;if(!V)throw new Error("Error file");V.percent=Math.min(X,100);var ae={percent:X,e:K,file:V,type:ne};r("progress",ae)},x=function(B,K,V){h.value="";var X=g.value.concat();X.splice(V,1),l(X,{e:B,trigger:"remove",index:V,file:K}),r("remove",{e:B,index:V,file:K}),f.value.splice(V,1)},L=function(){var U=Md(mi.mark(function B(K){var V;return mi.wrap(function(Z){for(;;)switch(Z.prev=Z.next){case 0:if(!(!t.action&&!t.requestMethod)){Z.next=3;break}return console.error("TDesign Upload Error: one of action and requestMethod must be exist."),Z.abrupt("return");case 3:h.value="",K.status="progress",t.requestMethod?$(K):(t.useMockProgress&&D(K),V=n5,m.value=V({action:t.action,data:t.data||{},method:t.method,file:K,headers:t.headers||{},withCredentials:t.withCredentials,onError:F,onProgress:I,onSuccess:N}));case 6:case"end":return Z.stop()}},B)}));return function(K){return U.apply(this,arguments)}}(),$=function(B){var K;if(!Ui(t.requestMethod)){console.warn("TDesign Upload Warn: `requestMethod` must be a function.");return}(K=t.requestMethod)===null||K===void 0||K.call(t,B).then(function(V){if(!!M(V)){if(V.status==="success")N({file:B,response:V.response});else if(V.status==="fail"){var X=V.response||{};F({event:void 0,file:B,response:Ar(Ar({},X),{},{error:V.error})})}}})},M=function(B){return B?B.status?["success","fail"].includes(B.status)?(B.status==="success"&&(!B.response||!B.response.url)&&console.warn("TDesign Upoad Warn: `requestMethodResponse.response.url` is required, when `status` is `success`"),!0):(console.error("TDesign Upoad Error: `requestMethodResponse.status` must be `success` or `fail`"),!1):(console.error("TDesign Upoad Error: `requestMethodResponse.status` is missing, which value is `success` or `fail`"),!1):(console.error("TDesign Upoad Error: `requestMethodResponse` is required."),!1)},N=function(B){var K,V,X=B.event,Z=B.file,ne=B.response;if(!Z)throw new Error("Error file");Z.status="success";var ae=ne;if(t.formatResponse&&Ui(t.formatResponse)&&(ae=t.formatResponse(ne,{file:Z})),(K=ae)!==null&&K!==void 0&&K.error){F({event:X,file:Z,response:ae,resFormatted:!0});return}Z.url=((V=ae)===null||V===void 0?void 0:V.url)||Z.url;var ye=t5(d.value,function(G){return G.name===Z.name});d.value.splice(ye,1);var de=Ar(Ar({},Z),{},{response:ae}),be=g.value.concat(de);l(be,{e:X,response:ae,trigger:"upload-success"}),r("success",{file:Z,fileList:be,e:X,response:ae}),f.value.push(de.url)},F=function(B){var K,V=B.event,X=B.file,Z=B.response,ne=B.resFormatted;X.status="fail";var ae=Z;if(!ne&&t.formatResponse&&Ui(t.formatResponse)&&(ae=t.formatResponse(Z,{file:X})),h.value=(K=ae)===null||K===void 0?void 0:K.error,!g.value.find(function(de){return de.name===X.name})){var ye=g.value.concat(X);l(ye,{e:V,response:ae,trigger:"upload-fail"})}r("fail",{e:V,file:X})};return Ar(Ar({},He(t)),{},{UPLOAD_NAME:E,images:f,showViewer:v,initialIndex:S,prefix:sS,innerFiles:o,xhrReq:m,toUploadFiles:d,errorMsg:h,inputRef:p,uploadedFiles:g,deleteBtnContent:c,defaultContent:s,itemStyle:b,itemContentStyle:y,emitEvent:r,setInnerFiles:l,triggerUpload:C,handleChange:_,handlePreview:w,handleReload:k,handleBeforeUpload:O,handleSizeLimit:A,uploadFiles:P,handleMockProgress:D,handleProgress:I,handleRemove:x,upload:L,handleRequestMethodResponse:M,handleSuccess:N,handleError:F})}}),o5=["onClick"],s5=["src","onClick"],l5=["value","multiple","accept"];function u5(e,t,n,r,a,i){var o=ge("t-node"),l=ge("close-icon"),u=ge("refresh-icon"),s=ge("add-icon"),c=ge("t-image-viewer");return H(),W("div",null,[J("ul",{class:z("".concat(e.UPLOAD_NAME,"__card"))},[(H(!0),W(Te,null,Ne(e.uploadedFiles,function(f,v){return H(),W("li",{key:v,class:z("".concat(e.UPLOAD_NAME,"__card-item")),style:Ae(e.itemStyle)},[J("div",{class:z("".concat(e.UPLOAD_NAME,"__card-content ").concat(e.UPLOAD_NAME,"__card-box")),style:Ae(e.itemContentStyle)},[J("div",{key:"delete-icon",class:z("".concat(e.UPLOAD_NAME,"__card-delete-item")),onClick:function(E){return e.handleRemove(E,f,v)}},[e.deleteBtnContent?(H(),Oe(o,{key:0,content:e.deleteBtnContent},null,8,["content"])):(H(),Oe(l,{key:1,class:"close-icon"}))],10,o5),J("img",{class:z("".concat(e.UPLOAD_NAME,"__card-image")),src:f.url,onClick:function(E){return e.handlePreview(E,f)}},null,10,s5),f.status==="fail"?(H(),W("div",{key:0,class:z("".concat(e.UPLOAD_NAME,"__card-mask"))},[J("span",{key:"refresh-icon",class:z("".concat(e.UPLOAD_NAME,"__card-mask-item"))},[R(u,{onClick:function(E){return e.handleReload(f)}},null,8,["onClick"])],2)],2)):se("",!0)],6)],6)}),128)),e.defaultContent?(H(),W("div",{key:0,onClick:t[0]||(t[0]=function(){return e.triggerUpload&&e.triggerUpload.apply(e,arguments)})},[R(o,{content:e.defaultContent},null,8,["content"])])):(H(),W("li",{key:1,class:z("".concat(e.UPLOAD_NAME,"__card-item")),onClick:t[1]||(t[1]=function(){return e.triggerUpload&&e.triggerUpload.apply(e,arguments)})},[J("div",{class:z("".concat(e.UPLOAD_NAME,"__card-container ").concat(e.UPLOAD_NAME,"__card-box"))},[R(s)],2)],2))],2),J("input",{ref:"inputRef",value:e.files,type:"file",multiple:e.multiple,hidden:"",accept:e.accept,onChange:t[2]||(t[2]=function(){return e.handleChange&&e.handleChange.apply(e,arguments)})},null,40,l5),R(c,{images:e.images,"onUpdate:images":t[3]||(t[3]=function(f){return e.images=f}),modelValue:e.showViewer,"onUpdate:modelValue":t[4]||(t[4]=function(f){return e.showViewer=f}),"initial-index":e.initialIndex},null,8,["images","modelValue","initial-index"])])}lS.render=u5;/**
 * tdesign v0.8.5
 * (c) 2022 TDesign Group
 * @license MIT
 */var c5=Le(lS);/**
 * tdesign v0.8.5
 * (c) 2022 TDesign Group
 * @license MIT
 */var Yg=Object.freeze({__proto__:null,Button:_a,ButtonGroup:vD,Divider:yD,Cell:Nd,CellGroup:OD,Checkbox:vb,CheckboxGroup:Ob,Input:_b,Textarea:DR,Mask:Rl,Progress:$R,Radio:Ib,RadioGroup:Rb,Rate:ZR,Switch:tx,Stepper:lx,Slider:gx,Dialog:Ox,Popup:xl,ActionSheet:Mx,Badge:$l,Fab:Ux,ImageViewer:Wx,Drawer:Zx,Navbar:r$,Message:_c,DateTimePicker:w$,Toast:D$,Search:I$,Steps:N$,Step:B$,Indexes:W$,IndexesCell:Y$,Picker:Qb,PickerItem:e1,Tag:t2,CheckTag:n2,TabBar:d2,TabBarItem:f2,DropdownMenu:E2,DropdownItem:w2,Collapse:L2,CollapsePanel:R2,Tabs:H2,TabPanel:z2,Swiper:J2,SwiperItem:Q2,Countdown:iM,Avatar:vM,AvatarGroup:mM,Image:SM,SwipeCell:OM,Skeleton:DM,Grid:NM,GridItem:jM,Sticky:k1,List:tF,Loading:qd,BackTop:aF,PullDownRefresh:pF,Upload:c5});/**
 * tdesign v0.8.5
 * (c) 2022 TDesign Group
 * @license MIT
 */var d5=function(t,n){Object.keys(Yg).forEach(function(r){t.use(Yg[r],n)})},f5="0.8.5",h5={install:d5,version:f5};function tl(){}const xe=Object.assign,Wr=typeof window!="undefined";function qg(e,t){const n=t.split(".");let r=e;return n.forEach(a=>{var i;r=(i=r[a])!=null?i:""}),r}function ht(e,t,n){return t.reduce((r,a)=>((!n||e[a]!==void 0)&&(r[a]=e[a]),r),{})}const nl=e=>Array.isArray(e)?e:[e],vt=null,pe=[Number,String],ce={type:Boolean,default:!0},$t=e=>({type:e,required:!0}),Ut=()=>({type:Array,default:()=>[]}),tr=e=>({type:Number,default:e}),Pe=e=>({type:pe,default:e}),we=e=>({type:String,default:e});var Yr=typeof window!="undefined";function rn(e){return Yr?requestAnimationFrame(e):-1}function uS(e){Yr&&cancelAnimationFrame(e)}function ga(e){rn(()=>rn(e))}var v5=e=>e===window,Xg=(e,t)=>({top:0,left:0,right:e,bottom:t,width:e,height:t}),dt=e=>{const t=he(e);if(v5(t)){const n=t.innerWidth,r=t.innerHeight;return Xg(n,r)}return t!=null&&t.getBoundingClientRect?t.getBoundingClientRect():Xg(0,0)};function m5(e=!1){const t=q(e);return[t,(r=!t.value)=>{t.value=r}]}function Zt(e){const t=Qe(e,null);if(t){const n=Be(),{link:r,unlink:a,internalChildren:i}=t;r(n),Nn(()=>a(n));const o=j(()=>i.indexOf(n));return{parent:t,index:o}}return{parent:null,index:q(-1)}}function g5(e){const t=[],n=r=>{Array.isArray(r)&&r.forEach(a=>{var i;hi(a)&&(t.push(a),(i=a.component)!=null&&i.subTree&&(t.push(a.component.subTree),n(a.component.subTree.children)),a.children&&n(a.children))})};return n(e),t}function p5(e,t,n){const r=g5(e.subTree.children);n.sort((i,o)=>r.indexOf(i.vnode)-r.indexOf(o.vnode));const a=n.map(i=>i.proxy);t.sort((i,o)=>{const l=a.indexOf(i),u=a.indexOf(o);return l-u})}function en(e){const t=Me([]),n=Me([]),r=Be();return{children:t,linkChildren:i=>{ct(e,Object.assign({link:u=>{u.proxy&&(n.push(u),t.push(u.proxy),p5(r,t,n))},unlink:u=>{const s=n.indexOf(u);t.splice(s,1),n.splice(s,1)},children:t,internalChildren:n},i))}}}var Nc=1e3,jc=60*Nc,Uc=60*jc,Zg=24*Uc;function y5(e){const t=Math.floor(e/Zg),n=Math.floor(e%Zg/Uc),r=Math.floor(e%Uc/jc),a=Math.floor(e%jc/Nc),i=Math.floor(e%Nc);return{total:e,days:t,hours:n,minutes:r,seconds:a,milliseconds:i}}function b5(e,t){return Math.floor(e/1e3)===Math.floor(t/1e3)}function S5(e){let t,n,r,a;const i=q(e.time),o=j(()=>y5(i.value)),l=()=>{r=!1,uS(t)},u=()=>Math.max(n-Date.now(),0),s=m=>{var d,g;i.value=m,(d=e.onChange)==null||d.call(e,o.value),m===0&&(l(),(g=e.onFinish)==null||g.call(e))},c=()=>{t=rn(()=>{r&&(s(u()),i.value>0&&c())})},f=()=>{t=rn(()=>{if(r){const m=u();(!b5(m,i.value)||m===0)&&s(m),i.value>0&&f()}})},v=()=>{!Yr||(e.millisecond?c():f())},S=()=>{r||(n=Date.now()+i.value,r=!0,v())},E=(m=e.time)=>{l(),i.value=m};return Bn(l),wa(()=>{a&&(r=!0,a=!1,v())}),Gr(()=>{r&&(l(),a=!0)}),{start:S,pause:l,reset:E,current:o}}function xi(e){let t;tt(()=>{e(),Re(()=>{t=!0})}),wa(()=>{t&&e()})}function qr(e,t,n={}){if(!Yr)return;const{target:r=window,passive:a=!1,capture:i=!1}=n;let o;const l=s=>{const c=he(s);c&&!o&&(c.addEventListener(e,t,{capture:i,passive:a}),o=!0)},u=s=>{const c=he(s);c&&o&&(c.removeEventListener(e,t,i),o=!1)};Nn(()=>u(r)),Gr(()=>u(r)),xi(()=>l(r)),At(r)&&oe(r,(s,c)=>{u(c),l(s)})}function Fl(e,t,n={}){if(!Yr)return;const{eventName:r="click"}=n;qr(r,i=>{const o=he(e);o&&!o.contains(i.target)&&t(i)},{target:document})}var fs,Du;function T5(){if(!fs&&(fs=q(0),Du=q(0),Yr)){const e=()=>{fs.value=window.innerWidth,Du.value=window.innerHeight};e(),window.addEventListener("resize",e,{passive:!0}),window.addEventListener("orientationchange",e,{passive:!0})}return{width:fs,height:Du}}var C5=/scroll|auto/i,cS=Yr?window:void 0;function E5(e){return e.tagName!=="HTML"&&e.tagName!=="BODY"&&e.nodeType===1}function dS(e,t=cS){let n=e;for(;n&&n!==t&&E5(n);){const{overflowY:r}=window.getComputedStyle(n);if(C5.test(r))return n;n=n.parentNode}return t}function $i(e,t=cS){const n=q();return tt(()=>{e.value&&(n.value=dS(e.value,t))}),n}var hs;function w5(){if(!hs&&(hs=q("visible"),Yr)){const e=()=>{hs.value=document.hidden?"hidden":"visible"};e(),window.addEventListener("visibilitychange",e)}return hs}var fS=Symbol("van-field");function Xr(e){const t=Qe(fS,null);t&&!t.customValue.value&&(t.customValue.value=e,oe(e,()=>{t.resetValidation(),t.validateWithTrigger("onChange")}))}const nt=e=>e!=null,pi=e=>typeof e=="function",On=e=>e!==null&&typeof e=="object",Jd=e=>On(e)&&pi(e.then)&&pi(e.catch),Co=e=>Object.prototype.toString.call(e)==="[object Date]"&&!Number.isNaN(e.getTime());function hS(e){return e=e.replace(/[^-|\d]/g,""),/^((\+86)|(86))?(1)\d{10}$/.test(e)||/^0[0-9-]{10,13}$/.test(e)}const vS=e=>typeof e=="number"||/^\d+(\.\d+)?$/.test(e),O5=()=>Wr?/ios|iphone|ipad|ipod/.test(navigator.userAgent.toLowerCase()):!1;function Vr(e){const t="scrollTop"in e?e.scrollTop:e.pageYOffset;return Math.max(t,0)}function rl(e,t){"scrollTop"in e?e.scrollTop=t:e.scrollTo(e.scrollX,t)}function Go(){return window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0}function Bl(e){rl(window,e),rl(document.body,e)}function Jg(e,t){if(e===window)return 0;const n=t?Vr(t):Go();return dt(e).top+n}const k5=O5();function mS(){k5&&Bl(Go())}const Qd=e=>e.stopPropagation();function Ct(e,t){(typeof e.cancelable!="boolean"||e.cancelable)&&e.preventDefault(),t&&Qd(e)}function yi(e){const t=he(e);if(!t)return!1;const n=window.getComputedStyle(t),r=n.display==="none",a=t.offsetParent===null&&n.position!=="fixed";return r||a}const{width:Nl,height:bi}=T5();function at(e){if(nt(e))return vS(e)?`${e}px`:String(e)}function Zr(e){if(nt(e)){if(Array.isArray(e))return{width:at(e[0]),height:at(e[1])};const t=at(e);return{width:t,height:t}}}function Da(e){const t={};return e!==void 0&&(t.zIndex=+e),t}let Pu;function _5(){if(!Pu){const e=document.documentElement,t=e.style.fontSize||window.getComputedStyle(e).fontSize;Pu=parseFloat(t)}return Pu}function A5(e){return e=e.replace(/rem/g,""),+e*_5()}function D5(e){return e=e.replace(/vw/g,""),+e*Nl.value/100}function P5(e){return e=e.replace(/vh/g,""),+e*bi.value/100}function ef(e){if(typeof e=="number")return e;if(Wr){if(e.includes("rem"))return A5(e);if(e.includes("vw"))return D5(e);if(e.includes("vh"))return P5(e)}return parseFloat(e)}const I5=/-(\w)/g,gS=e=>e.replace(I5,(t,n)=>n.toUpperCase()),L5=e=>e.replace(/([A-Z])/g,"-$1").toLowerCase().replace(/^-/,"");function Gt(e,t=2){let n=e+"";for(;n.length<t;)n="0"+n;return n}const Kt=(e,t,n)=>Math.min(Math.max(e,t),n);function Qg(e,t,n){const r=e.indexOf(t);return r===-1?e:t==="-"&&r!==0?e.slice(0,r):e.slice(0,r+1)+e.slice(r).replace(n,"")}function Vc(e,t=!0,n=!0){t?e=Qg(e,".",/\./g):e=e.split(".")[0],n?e=Qg(e,"-",/-/g):e=e.replace(/-/,"");const r=t?/[^-0-9.]/g:/[^-0-9]/g;return e.replace(r,"")}function pS(e,t){return Math.round((e+t)*1e10)/1e10}const{hasOwnProperty:R5}=Object.prototype;function x5(e,t,n){const r=t[n];!nt(r)||(!R5.call(e,n)||!On(r)?e[n]=r:e[n]=yS(Object(e[n]),r))}function yS(e,t){return Object.keys(t).forEach(n=>{x5(e,t,n)}),e}var $5={name:"\u59D3\u540D",tel:"\u7535\u8BDD",save:"\u4FDD\u5B58",confirm:"\u786E\u8BA4",cancel:"\u53D6\u6D88",delete:"\u5220\u9664",loading:"\u52A0\u8F7D\u4E2D...",noCoupon:"\u6682\u65E0\u4F18\u60E0\u5238",nameEmpty:"\u8BF7\u586B\u5199\u59D3\u540D",addContact:"\u6DFB\u52A0\u8054\u7CFB\u4EBA",telInvalid:"\u8BF7\u586B\u5199\u6B63\u786E\u7684\u7535\u8BDD",vanCalendar:{end:"\u7ED3\u675F",start:"\u5F00\u59CB",title:"\u65E5\u671F\u9009\u62E9",weekdays:["\u65E5","\u4E00","\u4E8C","\u4E09","\u56DB","\u4E94","\u516D"],monthTitle:(e,t)=>`${e}\u5E74${t}\u6708`,rangePrompt:e=>`\u6700\u591A\u9009\u62E9 ${e} \u5929`},vanCascader:{select:"\u8BF7\u9009\u62E9"},vanPagination:{prev:"\u4E0A\u4E00\u9875",next:"\u4E0B\u4E00\u9875"},vanPullRefresh:{pulling:"\u4E0B\u62C9\u5373\u53EF\u5237\u65B0...",loosing:"\u91CA\u653E\u5373\u53EF\u5237\u65B0..."},vanSubmitBar:{label:"\u5408\u8BA1:"},vanCoupon:{unlimited:"\u65E0\u95E8\u69DB",discount:e=>`${e}\u6298`,condition:e=>`\u6EE1${e}\u5143\u53EF\u7528`},vanCouponCell:{title:"\u4F18\u60E0\u5238",count:e=>`${e}\u5F20\u53EF\u7528`},vanCouponList:{exchange:"\u5151\u6362",close:"\u4E0D\u4F7F\u7528",enable:"\u53EF\u7528",disabled:"\u4E0D\u53EF\u7528",placeholder:"\u8F93\u5165\u4F18\u60E0\u7801"},vanAddressEdit:{area:"\u5730\u533A",postal:"\u90AE\u653F\u7F16\u7801",areaEmpty:"\u8BF7\u9009\u62E9\u5730\u533A",addressEmpty:"\u8BF7\u586B\u5199\u8BE6\u7EC6\u5730\u5740",postalEmpty:"\u90AE\u653F\u7F16\u7801\u4E0D\u6B63\u786E",addressDetail:"\u8BE6\u7EC6\u5730\u5740",defaultAddress:"\u8BBE\u4E3A\u9ED8\u8BA4\u6536\u8D27\u5730\u5740"},vanAddressList:{add:"\u65B0\u589E\u5730\u5740"}};const ep=q("zh-CN"),tp=Me({"zh-CN":$5}),bS={messages(){return tp[ep.value]},use(e,t){ep.value=e,this.add({[e]:t})},add(e={}){yS(tp,e)}};var M5=bS;function F5(e){const t=gS(e)+".";return(n,...r)=>{const a=M5.messages(),i=qg(a,t+n)||qg(a,n);return pi(i)?i(...r):i}}function Hc(e,t){return t?typeof t=="string"?` ${e}--${t}`:Array.isArray(t)?t.reduce((n,r)=>n+Hc(e,r),""):Object.keys(t).reduce((n,r)=>n+(t[r]?Hc(e,r):""),""):""}function B5(e){return(t,n)=>(t&&typeof t!="string"&&(n=t,t=""),t=t?`${e}__${t}`:e,`${t}${Hc(t,n)}`)}function ve(e){const t=`van-${e}`;return[t,B5(t),F5(t)]}const Jr="van-hairline",SS=`${Jr}--top`,TS=`${Jr}--left`,tf=`${Jr}--bottom`,Eo=`${Jr}--surround`,jl=`${Jr}--top-bottom`,N5=`${Jr}-unset--top-bottom`,an="van-haptics-feedback",CS=Symbol("van-form");function Qr(e,{args:t=[],done:n,canceled:r}){if(e){const a=e.apply(null,t);Jd(a)?a.then(i=>{i?n():r&&r()}).catch(tl):a?n():r&&r()}else n()}function Ce(e){return e.install=t=>{const{name:n}=e;t.component(n,e),t.component(gS(`-${n}`),e)},e}const[ES,j5]=ve("action-bar"),nf=Symbol(ES),U5={safeAreaInsetBottom:ce};var V5=ee({name:ES,props:U5,setup(e,{slots:t}){const{linkChildren:n}=en(nf);return n(),()=>{var r;return R("div",{class:[j5(),{"van-safe-area-bottom":e.safeAreaInsetBottom}]},[(r=t.default)==null?void 0:r.call(t)])}}});const wS=Ce(V5);function ot(e){const t=Be();t&&xe(t.proxy,e)}const ea={to:[String,Object],url:String,replace:Boolean};function OS({to:e,url:t,replace:n,$router:r}){e&&r?r[n?"replace":"push"](e):t&&(n?location.replace(t):location.href=t)}function Pa(){const e=Be().proxy;return()=>OS(e)}const[H5,np]=ve("badge"),z5={dot:Boolean,max:pe,tag:we("div"),color:String,offset:Array,content:pe,showZero:ce,position:we("top-right")};var G5=ee({name:H5,props:z5,setup(e,{slots:t}){const n=()=>{if(t.content)return!0;const{content:o,showZero:l}=e;return nt(o)&&o!==""&&(l||o!==0)},r=()=>{const{dot:o,max:l,content:u}=e;if(!o&&n())return t.content?t.content():nt(l)&&vS(u)&&+u>l?`${l}+`:u},a=j(()=>{const o={background:e.color};if(e.offset){const[l,u]=e.offset;t.default?(o.top=at(u),typeof l=="number"?o.right=at(-l):o.right=l.startsWith("-")?l.replace("-",""):`-${l}`):(o.marginTop=at(u),o.marginLeft=at(l))}return o}),i=()=>{if(n()||e.dot)return R("div",{class:np([e.position,{dot:e.dot,fixed:!!t.default}]),style:a.value},[r()])};return()=>{if(t.default){const{tag:o}=e;return R(o,{class:np("wrapper")},{default:()=>[t.default(),i()]})}return i()}}});const Ia=Ce(G5),[kS,K5]=ve("config-provider"),_S=Symbol(kS),W5={tag:we("div"),themeVars:Object,iconPrefix:String};function Y5(e){const t={};return Object.keys(e).forEach(n=>{t[`--van-${L5(n)}`]=e[n]}),t}var q5=ee({name:kS,props:W5,setup(e,{slots:t}){const n=j(()=>{if(e.themeVars)return Y5(e.themeVars)});return ct(_S,e),()=>R(e.tag,{class:K5(),style:n.value},{default:()=>{var r;return[(r=t.default)==null?void 0:r.call(t)]}})}});const[X5,rp]=ve("icon"),Z5=e=>e==null?void 0:e.includes("/"),J5={dot:Boolean,tag:we("i"),name:String,size:pe,badge:pe,color:String,badgeProps:Object,classPrefix:String};var Q5=ee({name:X5,props:J5,setup(e,{slots:t}){const n=Qe(_S,null),r=j(()=>e.classPrefix||(n==null?void 0:n.iconPrefix)||rp());return()=>{const{tag:a,dot:i,name:o,size:l,badge:u,color:s}=e,c=Z5(o);return R(Ia,We({dot:i,tag:a,class:[r.value,c?"":`${r.value}-${o}`],style:{color:s,fontSize:at(l)},content:u},e.badgeProps),{default:()=>{var f;return[(f=t.default)==null?void 0:f.call(t),c&&R("img",{class:rp("image"),src:o},null)]}})}}});const Ke=Ce(Q5),[eU,wo]=ve("loading"),tU=Array(12).fill(null).map((e,t)=>R("i",{class:wo("line",String(t+1))},null)),nU=R("svg",{class:wo("circular"),viewBox:"25 25 50 50"},[R("circle",{cx:"50",cy:"50",r:"20",fill:"none"},null)]),rU={size:pe,type:we("circular"),color:String,vertical:Boolean,textSize:pe,textColor:String};var aU=ee({name:eU,props:rU,setup(e,{slots:t}){const n=j(()=>xe({color:e.color},Zr(e.size))),r=()=>{var a;if(t.default)return R("span",{class:wo("text"),style:{fontSize:at(e.textSize),color:(a=e.textColor)!=null?a:e.color}},[t.default()])};return()=>{const{type:a,vertical:i}=e;return R("div",{class:wo([a,{vertical:i}]),"aria-live":"polite","aria-busy":!0},[R("span",{class:wo("spinner",a),style:n.value},[a==="spinner"?tU:nU]),r()])}}});const Un=Ce(aU),[iU,Na]=ve("button"),oU=xe({},ea,{tag:we("button"),text:String,icon:String,type:we("default"),size:we("normal"),color:String,block:Boolean,plain:Boolean,round:Boolean,square:Boolean,loading:Boolean,hairline:Boolean,disabled:Boolean,iconPrefix:String,nativeType:we("button"),loadingSize:pe,loadingText:String,loadingType:String,iconPosition:we("left")});var sU=ee({name:iU,props:oU,emits:["click"],setup(e,{emit:t,slots:n}){const r=Pa(),a=()=>n.loading?n.loading():R(Un,{size:e.loadingSize,type:e.loadingType,class:Na("loading")},null),i=()=>{if(e.loading)return a();if(n.icon)return R("div",{class:Na("icon")},[n.icon()]);if(e.icon)return R(Ke,{name:e.icon,class:Na("icon"),classPrefix:e.iconPrefix},null)},o=()=>{let s;if(e.loading?s=e.loadingText:s=n.default?n.default():e.text,s)return R("span",{class:Na("text")},[s])},l=()=>{const{color:s,plain:c}=e;if(s){const f={color:c?s:"white"};return c||(f.background=s),s.includes("gradient")?f.border=0:f.borderColor=s,f}},u=s=>{e.loading?Ct(s):e.disabled||(t("click",s),r())};return()=>{const{tag:s,type:c,size:f,block:v,round:S,plain:E,square:m,loading:d,disabled:g,hairline:h,nativeType:p,iconPosition:b}=e,y=[Na([c,f,{plain:E,block:v,round:S,square:m,loading:d,disabled:g,hairline:h}]),{[Eo]:h}];return R(s,{type:p,class:y,style:l(),disabled:g,onClick:u},{default:()=>[R("div",{class:Na("content")},[b==="left"&&i(),o(),b==="right"&&i()])]})}}});const on=Ce(sU),[lU,uU]=ve("action-bar-button"),cU=xe({},ea,{type:String,text:String,icon:String,color:String,loading:Boolean,disabled:Boolean});var dU=ee({name:lU,props:cU,setup(e,{slots:t}){const n=Pa(),{parent:r,index:a}=Zt(nf),i=j(()=>{if(r){const l=r.children[a.value-1];return!(l&&"isButton"in l)}}),o=j(()=>{if(r){const l=r.children[a.value+1];return!(l&&"isButton"in l)}});return ot({isButton:!0}),()=>{const{type:l,icon:u,text:s,color:c,loading:f,disabled:v}=e;return R(on,{class:uU([l,{last:o.value,first:i.value}]),size:"large",type:l,icon:u,color:c,loading:f,disabled:v,onClick:n},{default:()=>[t.default?t.default():s]})}}});const zc=Ce(dU),[fU,Iu]=ve("action-bar-icon"),hU=xe({},ea,{dot:Boolean,text:String,icon:String,color:String,badge:pe,iconClass:vt,badgeProps:Object,iconPrefix:String});var vU=ee({name:fU,props:hU,setup(e,{slots:t}){const n=Pa();Zt(nf);const r=()=>{const{dot:a,badge:i,icon:o,color:l,iconClass:u,badgeProps:s,iconPrefix:c}=e;return t.icon?R(Ia,We({dot:a,class:Iu("icon"),content:i},s),{default:t.icon}):R(Ke,{tag:"div",dot:a,name:o,badge:i,color:l,class:[Iu("icon"),u],badgeProps:s,classPrefix:c},null)};return()=>R("div",{role:"button",class:Iu(),tabindex:0,onClick:n},[r(),t.default?t.default():e.text])}});const mU=Ce(vU),Mi={show:Boolean,zIndex:pe,overlay:ce,duration:pe,teleport:[String,Object],lockScroll:ce,lazyRender:ce,beforeClose:Function,overlayStyle:Object,overlayClass:vt,transitionAppear:Boolean,closeOnClickOverlay:ce},rf=Object.keys(Mi);function gU(e,t){return e>t?"horizontal":t>e?"vertical":""}function rr(){const e=q(0),t=q(0),n=q(0),r=q(0),a=q(0),i=q(0),o=q(""),l=()=>o.value==="vertical",u=()=>o.value==="horizontal",s=()=>{n.value=0,r.value=0,a.value=0,i.value=0,o.value=""};return{move:v=>{const S=v.touches[0];n.value=(S.clientX<0?0:S.clientX)-e.value,r.value=S.clientY-t.value,a.value=Math.abs(n.value),i.value=Math.abs(r.value);const E=10;(!o.value||a.value<E&&i.value<E)&&(o.value=gU(a.value,i.value))},start:v=>{s(),e.value=v.touches[0].clientX,t.value=v.touches[0].clientY},reset:s,startX:e,startY:t,deltaX:n,deltaY:r,offsetX:a,offsetY:i,direction:o,isVertical:l,isHorizontal:u}}let to=0;const ap="van-overflow-hidden";function pU(e,t){const n=rr(),r=u=>{n.move(u);const s=n.deltaY.value>0?"10":"01",c=dS(u.target,e.value),{scrollHeight:f,offsetHeight:v,scrollTop:S}=c;let E="11";S===0?E=v>=f?"00":"01":S+v>=f&&(E="10"),E!=="11"&&n.isVertical()&&!(parseInt(E,2)&parseInt(s,2))&&Ct(u,!0)},a=()=>{document.addEventListener("touchstart",n.start),document.addEventListener("touchmove",r,{passive:!1}),to||document.body.classList.add(ap),to++},i=()=>{to&&(document.removeEventListener("touchstart",n.start),document.removeEventListener("touchmove",r),to--,to||document.body.classList.remove(ap))},o=()=>t()&&a(),l=()=>t()&&i();xi(o),Gr(l),Bn(l),oe(t,u=>{u?a():i()})}function af(e){const t=q(!1);return oe(e,n=>{n&&(t.value=n)},{immediate:!0}),n=>()=>t.value?n():null}const AS=Symbol();function of(e){const t=Qe(AS,null);t&&oe(t,n=>{n&&e()})}const[yU,bU]=ve("overlay"),SU={show:Boolean,zIndex:pe,duration:pe,className:vt,lockScroll:ce,lazyRender:ce,customStyle:Object};var TU=ee({name:yU,props:SU,setup(e,{slots:t}){const n=af(()=>e.show||!e.lazyRender),r=i=>{Ct(i,!0)},a=n(()=>{var i;const o=xe(Da(e.zIndex),e.customStyle);return nt(e.duration)&&(o.animationDuration=`${e.duration}s`),Ge(R("div",{style:o,class:[bU(),e.className],onTouchmove:e.lockScroll?r:tl},[(i=t.default)==null?void 0:i.call(t)]),[[qe,e.show]])});return()=>R(yn,{name:"van-fade",appear:!0},{default:a})}});const DS=Ce(TU),CU=xe({},Mi,{round:Boolean,position:we("center"),closeIcon:we("cross"),closeable:Boolean,transition:String,iconPrefix:String,closeOnPopstate:Boolean,closeIconPosition:we("top-right"),safeAreaInsetTop:Boolean,safeAreaInsetBottom:Boolean}),[EU,ip]=ve("popup");let op=2e3;var wU=ee({name:EU,inheritAttrs:!1,props:CU,emits:["open","close","opened","closed","keydown","update:show","click-overlay","click-close-icon"],setup(e,{emit:t,attrs:n,slots:r}){let a,i;const o=q(),l=q(),u=af(()=>e.show||!e.lazyRender),s=j(()=>{const y={zIndex:o.value};if(nt(e.duration)){const C=e.position==="center"?"animationDuration":"transitionDuration";y[C]=`${e.duration}s`}return y}),c=()=>{a||(e.zIndex!==void 0&&(op=+e.zIndex),a=!0,o.value=++op,t("open"))},f=()=>{a&&Qr(e.beforeClose,{done(){a=!1,t("close"),t("update:show",!1)}})},v=y=>{t("click-overlay",y),e.closeOnClickOverlay&&f()},S=()=>{if(e.overlay)return R(DS,{show:e.show,class:e.overlayClass,zIndex:o.value,duration:e.duration,customStyle:e.overlayStyle,onClick:v},{default:r["overlay-content"]})},E=y=>{t("click-close-icon",y),f()},m=()=>{if(e.closeable)return R(Ke,{role:"button",tabindex:0,name:e.closeIcon,class:[ip("close-icon",e.closeIconPosition),an],classPrefix:e.iconPrefix,onClick:E},null)},d=()=>t("opened"),g=()=>t("closed"),h=y=>t("keydown",y),p=u(()=>{var y;const{round:C,position:w,safeAreaInsetTop:k,safeAreaInsetBottom:_}=e;return Ge(R("div",We({ref:l,style:s.value,class:[ip({round:C,[w]:w}),{"van-safe-area-top":k,"van-safe-area-bottom":_}],onKeydown:h},n),[(y=r.default)==null?void 0:y.call(r),m()]),[[qe,e.show]])}),b=()=>{const{position:y,transition:C,transitionAppear:w}=e,k=y==="center"?"van-fade":`van-popup-slide-${y}`;return R(yn,{name:C||k,appear:w,onAfterEnter:d,onAfterLeave:g},{default:p})};return oe(()=>e.show,y=>{y&&!a&&(c(),n.tabindex===0&&Re(()=>{var C;(C=l.value)==null||C.focus()})),!y&&a&&(a=!1,t("close"))}),ot({popupRef:l}),pU(l,()=>e.show&&e.lockScroll),qr("popstate",()=>{e.closeOnPopstate&&(f(),i=!1)}),tt(()=>{e.show&&c()}),wa(()=>{i&&(t("update:show",!0),i=!1)}),Gr(()=>{e.show&&(f(),i=!0)}),ct(AS,()=>e.show),()=>e.teleport?R(No,{to:e.teleport},{default:()=>[S(),b()]}):R(Te,null,[S(),b()])}});const Vn=Ce(wU),[OU,An]=ve("action-sheet"),kU=xe({},Mi,{title:String,round:ce,actions:Ut(),closeIcon:we("cross"),closeable:ce,cancelText:String,description:String,closeOnPopstate:ce,closeOnClickAction:Boolean,safeAreaInsetBottom:ce}),_U=[...rf,"round","closeOnPopstate","safeAreaInsetBottom"];var AU=ee({name:OU,props:kU,emits:["select","cancel","update:show"],setup(e,{slots:t,emit:n}){const r=c=>n("update:show",c),a=()=>{r(!1),n("cancel")},i=()=>{if(e.title)return R("div",{class:An("header")},[e.title,e.closeable&&R(Ke,{name:e.closeIcon,class:[An("close"),an],onClick:a},null)])},o=()=>{if(t.cancel||e.cancelText)return[R("div",{class:An("gap")},null),R("button",{type:"button",class:An("cancel"),onClick:a},[t.cancel?t.cancel():e.cancelText])]},l=(c,f)=>c.loading?R(Un,{class:An("loading-icon")},null):t.action?t.action({action:c,index:f}):[R("span",{class:An("name")},[c.name]),c.subname&&R("div",{class:An("subname")},[c.subname])],u=(c,f)=>{const{color:v,loading:S,callback:E,disabled:m,className:d}=c,g=()=>{m||S||(E&&E(c),e.closeOnClickAction&&r(!1),Re(()=>n("select",c,f)))};return R("button",{type:"button",style:{color:v},class:[An("item",{loading:S,disabled:m}),d],onClick:g},[l(c,f)])},s=()=>{if(e.description||t.description){const c=t.description?t.description():e.description;return R("div",{class:An("description")},[c])}};return()=>R(Vn,We({class:An(),position:"bottom","onUpdate:show":r},ht(e,_U)),{default:()=>{var c;return[i(),s(),R("div",{class:An("content")},[e.actions.map(u),(c=t.default)==null?void 0:c.call(t)]),o()]}})}});const DU=Ce(AU);function Ro(e){if(!nt(e))return e;if(Array.isArray(e))return e.map(t=>Ro(t));if(On(e)){const t={};return Object.keys(e).forEach(n=>{t[n]=Ro(e[n])}),t}return e}const sp=200,lp=300,PU=15,[PS,Lu]=ve("picker-column");function IU(e){const{transform:t}=window.getComputedStyle(e),n=t.slice(7,t.length-1).split(", ")[5];return Number(n)}const IS=Symbol(PS),Ru=e=>On(e)&&e.disabled;var LU=ee({name:PS,props:{textKey:$t(String),readonly:Boolean,allowHtml:Boolean,className:vt,itemHeight:$t(Number),defaultIndex:tr(0),swipeDuration:$t(pe),initialOptions:Ut(),visibleItemCount:$t(pe)},emits:["change"],setup(e,{emit:t,slots:n}){let r,a,i,o,l;const u=q(),s=Me({index:e.defaultIndex,offset:0,duration:0,options:Ro(e.initialOptions)}),c=rr(),f=()=>s.options.length,v=()=>e.itemHeight*(+e.visibleItemCount-1)/2,S=O=>{O=Kt(O,0,f());for(let A=O;A<f();A++)if(!Ru(s.options[A]))return A;for(let A=O-1;A>=0;A--)if(!Ru(s.options[A]))return A},E=(O,A)=>{O=S(O)||0;const P=-O*e.itemHeight,D=()=>{O!==s.index&&(s.index=O,A&&t("change",O))};r&&P!==s.offset?l=D:D(),s.offset=P},m=O=>{JSON.stringify(O)!==JSON.stringify(s.options)&&(s.options=Ro(O),E(e.defaultIndex))},d=O=>{r||e.readonly||(l=null,s.duration=sp,E(O,!0))},g=O=>On(O)&&e.textKey in O?O[e.textKey]:O,h=O=>Kt(Math.round(-O/e.itemHeight),0,f()-1),p=(O,A)=>{const P=Math.abs(O/A);O=s.offset+P/.003*(O<0?-1:1);const D=h(O);s.duration=+e.swipeDuration,E(D,!0)},b=()=>{r=!1,s.duration=0,l&&(l(),l=null)},y=O=>{if(!e.readonly){if(c.start(O),r){const A=IU(u.value);s.offset=Math.min(0,A-v()),a=s.offset}else a=s.offset;s.duration=0,i=Date.now(),o=a,l=null}},C=O=>{if(e.readonly)return;c.move(O),c.isVertical()&&(r=!0,Ct(O,!0)),s.offset=Kt(a+c.deltaY.value,-(f()*e.itemHeight),e.itemHeight);const A=Date.now();A-i>lp&&(i=A,o=s.offset)},w=()=>{if(e.readonly)return;const O=s.offset-o,A=Date.now()-i;if(A<lp&&Math.abs(O)>PU){p(O,A);return}const D=h(s.offset);s.duration=sp,E(D,!0),setTimeout(()=>{r=!1},0)},k=()=>{const O={height:`${e.itemHeight}px`};return s.options.map((A,P)=>{const D=g(A),I=Ru(A),x={role:"button",style:O,tabindex:I?-1:0,class:Lu("item",{disabled:I,selected:P===s.index}),onClick:()=>d(P)},L={class:"van-ellipsis",[e.allowHtml?"innerHTML":"textContent"]:D};return R("li",x,[n.option?n.option(A):R("div",L,null)])})},_=O=>{const{options:A}=s;for(let P=0;P<A.length;P++)if(g(A[P])===O)return E(P)},T=()=>s.options[s.index];return E(s.index),Zt(IS),ot({state:s,setIndex:E,getValue:T,setValue:_,setOptions:m,stopMomentum:b}),oe(()=>e.initialOptions,m),oe(()=>e.defaultIndex,O=>E(O)),()=>R("div",{class:[Lu(),e.className],onTouchstart:y,onTouchmove:C,onTouchend:w,onTouchcancel:w},[R("ul",{ref:u,style:{transform:`translate3d(0, ${s.offset+v()}px, 0)`,transitionDuration:`${s.duration}ms`,transitionProperty:s.duration?"all":"none"},class:Lu("wrapper"),onTransitionend:b},[k()])])}});const[RU,lr,up]=ve("picker"),Ul={title:String,loading:Boolean,readonly:Boolean,allowHtml:Boolean,itemHeight:Pe(44),showToolbar:ce,swipeDuration:Pe(1e3),visibleItemCount:Pe(6),cancelButtonText:String,confirmButtonText:String},xU=xe({},Ul,{columns:Ut(),valueKey:String,defaultIndex:Pe(0),toolbarPosition:we("top"),columnsFieldNames:Object});var $U=ee({name:RU,props:xU,emits:["confirm","cancel","change"],setup(e,{emit:t,slots:n}){const r=q(!1),a=q([]),{text:i,values:o,children:l}=xe({text:e.valueKey||"text",values:"values",children:"children"},e.columnsFieldNames),{children:u,linkChildren:s}=en(IS);s();const c=j(()=>ef(e.itemHeight)),f=j(()=>{const F=e.columns[0];if(typeof F=="object"){if(l in F)return"cascade";if(o in F)return"object"}return"plain"}),v=()=>{var F;const U=[];let B={[l]:e.columns};for(;B&&B[l];){const K=B[l];let V=(F=B.defaultIndex)!=null?F:+e.defaultIndex;for(;K[V]&&K[V].disabled;)if(V<K.length-1)V++;else{V=0;break}U.push({[o]:B[l],className:B.className,defaultIndex:V}),B=K[V]}a.value=U},S=()=>{const{columns:F}=e;f.value==="plain"?a.value=[{[o]:F}]:f.value==="cascade"?v():a.value=F,r.value=a.value.some(U=>U[o]&&U[o].length!==0)},E=()=>u.map(F=>F.state.index),m=(F,U)=>{const B=u[F];B&&(B.setOptions(U),r.value=!0)},d=F=>{let U={[l]:e.columns};const B=E();for(let K=0;K<=F;K++)U=U[l][B[K]];for(;U&&U[l];)F++,m(F,U[l]),U=U[l][U.defaultIndex||0]},g=F=>u[F],h=F=>{const U=g(F);if(U)return U.getValue()},p=(F,U)=>{const B=g(F);B&&(B.setValue(U),f.value==="cascade"&&d(F))},b=F=>{const U=g(F);if(U)return U.state.index},y=(F,U)=>{const B=g(F);B&&(B.setIndex(U),f.value==="cascade"&&d(F))},C=F=>{const U=g(F);if(U)return U.state.options},w=()=>u.map(F=>F.getValue()),k=F=>{F.forEach((U,B)=>{p(B,U)})},_=F=>{F.forEach((U,B)=>{y(B,U)})},T=F=>{f.value==="plain"?t(F,h(0),b(0)):t(F,w(),E())},O=F=>{f.value==="cascade"&&d(F),f.value==="plain"?t("change",h(0),b(0)):t("change",w(),F)},A=()=>{u.forEach(F=>F.stopMomentum()),T("confirm")},P=()=>T("cancel"),D=()=>{if(n.title)return n.title();if(e.title)return R("div",{class:[lr("title"),"van-ellipsis"]},[e.title])},I=()=>{const F=e.cancelButtonText||up("cancel");return R("button",{type:"button",class:[lr("cancel"),an],onClick:P},[n.cancel?n.cancel():F])},x=()=>{const F=e.confirmButtonText||up("confirm");return R("button",{type:"button",class:[lr("confirm"),an],onClick:A},[n.confirm?n.confirm():F])},L=()=>{if(e.showToolbar){const F=n.toolbar||n.default;return R("div",{class:lr("toolbar")},[F?F():[I(),D(),x()]])}},$=()=>a.value.map((F,U)=>{var B;return R(LU,{textKey:i,readonly:e.readonly,allowHtml:e.allowHtml,className:F.className,itemHeight:c.value,defaultIndex:(B=F.defaultIndex)!=null?B:+e.defaultIndex,swipeDuration:e.swipeDuration,initialOptions:F[o],visibleItemCount:e.visibleItemCount,onChange:()=>O(U)},{option:n.option})}),M=F=>{if(r.value){const U={height:`${c.value}px`},B={backgroundSize:`100% ${(F-c.value)/2}px`};return[R("div",{class:lr("mask"),style:B},null),R("div",{class:[N5,lr("frame")],style:U},null)]}},N=()=>{const F=c.value*+e.visibleItemCount,U={height:`${F}px`};return R("div",{class:lr("columns"),style:U,onTouchmove:Ct},[$(),M(F)])};return oe(()=>e.columns,S,{immediate:!0}),ot({confirm:A,getValues:w,setValues:k,getIndexes:E,setIndexes:_,getColumnIndex:b,setColumnIndex:y,getColumnValue:h,setColumnValue:p,getColumnValues:C,setColumnValues:m}),()=>{var F,U;return R("div",{class:lr()},[e.toolbarPosition==="top"?L():null,e.loading?R(Un,{class:lr("loading")},null):null,(F=n["columns-top"])==null?void 0:F.call(n),N(),(U=n["columns-bottom"])==null?void 0:U.call(n),e.toolbarPosition==="bottom"?L():null])}}});const Vl=Ce($U),[MU,FU]=ve("area"),xu="000000",BU=["title","cancel","confirm","toolbar","columns-top","columns-bottom"],NU=["title","loading","readonly","itemHeight","swipeDuration","visibleItemCount","cancelButtonText","confirmButtonText"],jU=e=>e[0]==="9",UU=xe({},Ul,{value:String,columnsNum:Pe(3),columnsPlaceholder:Ut(),areaList:{type:Object,default:()=>({})},isOverseaCode:{type:Function,default:jU}});var VU=ee({name:MU,props:UU,emits:["change","confirm","cancel"],setup(e,{emit:t,slots:n}){const r=q(),a=Me({code:e.value,columns:[{values:[]},{values:[]},{values:[]}]}),i=j(()=>{const{areaList:h}=e;return{province:h.province_list||{},city:h.city_list||{},county:h.county_list||{}}}),o=j(()=>{const{columnsPlaceholder:h}=e;return{province:h[0]||"",city:h[1]||"",county:h[2]||""}}),l=()=>{if(e.columnsPlaceholder.length)return xu;const{county:h,city:p}=i.value,b=Object.keys(h);if(b[0])return b[0];const y=Object.keys(p);return y[0]?y[0]:""},u=(h,p)=>{let b=[];if(h!=="province"&&!p)return b;const y=i.value[h];if(b=Object.keys(y).map(C=>({code:C,name:y[C]})),p&&(h==="city"&&e.isOverseaCode(p)&&(p="9"),b=b.filter(C=>C.code.indexOf(p)===0)),o.value[h]&&b.length){let C="";h==="city"?C=xu.slice(2,4):h==="county"&&(C=xu.slice(4,6)),b.unshift({code:p+C,name:o.value[h]})}return b},s=(h,p)=>{let b=p.length;h==="province"&&(b=e.isOverseaCode(p)?1:2),h==="city"&&(b=4),p=p.slice(0,b);const y=u(h,b>2?p.slice(0,b-2):"");for(let C=0;C<y.length;C++)if(y[C].code.slice(0,b)===p)return C;return 0},c=()=>{const h=r.value;if(!h)return;let p=a.code||l();const b=u("province"),y=u("city",p.slice(0,2));h.setColumnValues(0,b),h.setColumnValues(1,y),y.length&&p.slice(2,4)==="00"&&!e.isOverseaCode(p)&&([{code:p}]=y),h.setColumnValues(2,u("county",p.slice(0,4))),h.setIndexes([s("province",p),s("city",p),s("county",p)])},f=h=>h.map((p,b)=>(p&&(p=Ro(p),(!p.code||p.name===e.columnsPlaceholder[b])&&(p.code="",p.name="")),p)),v=()=>{if(r.value){const h=r.value.getValues().filter(Boolean);return f(h)}return[]},S=()=>{const h=v(),p={code:"",country:"",province:"",city:"",county:""};if(!h.length)return p;const b=h.map(C=>C.name),y=h.filter(C=>C.code);return p.code=y.length?y[y.length-1].code:"",e.isOverseaCode(p.code)?(p.country=b[1]||"",p.province=b[2]||""):(p.province=b[0]||"",p.city=b[1]||"",p.county=b[2]||""),p},E=(h="")=>{a.code=h,c()},m=(h,p)=>{if(a.code=h[p].code,c(),r.value){const b=f(r.value.getValues());t("change",b,p)}},d=(h,p)=>{c(),t("confirm",f(h),p)},g=(...h)=>t("cancel",...h);return tt(c),oe(()=>e.value,h=>{a.code=h,c()}),oe(()=>e.areaList,c,{deep:!0}),oe(()=>e.columnsNum,()=>{Re(c)}),ot({reset:E,getArea:S,getValues:v}),()=>{const h=a.columns.slice(0,+e.columnsNum);return R(Vl,We({ref:r,class:FU(),columns:h,columnsFieldNames:{text:"name"},onChange:m,onCancel:g,onConfirm:d},ht(e,NU)),ht(n,BU))}}});const LS=Ce(VU),[HU,ja]=ve("cell"),Hl={icon:String,size:String,title:pe,value:pe,label:pe,center:Boolean,isLink:Boolean,border:ce,required:Boolean,iconPrefix:String,valueClass:vt,labelClass:vt,titleClass:vt,titleStyle:null,arrowDirection:String,clickable:{type:Boolean,default:null}},zU=xe({},Hl,ea);var GU=ee({name:HU,props:zU,setup(e,{slots:t}){const n=Pa(),r=()=>{if(t.label||nt(e.label))return R("div",{class:[ja("label"),e.labelClass]},[t.label?t.label():e.label])},a=()=>{if(t.title||nt(e.title))return R("div",{class:[ja("title"),e.titleClass],style:e.titleStyle},[t.title?t.title():R("span",null,[e.title]),r()])},i=()=>{const u=t.value||t.default;if(u||nt(e.value)){const c=t.title||nt(e.title);return R("div",{class:[ja("value",{alone:!c}),e.valueClass]},[u?u():R("span",null,[e.value])])}},o=()=>{if(t.icon)return t.icon();if(e.icon)return R(Ke,{name:e.icon,class:ja("left-icon"),classPrefix:e.iconPrefix},null)},l=()=>{if(t["right-icon"])return t["right-icon"]();if(e.isLink){const u=e.arrowDirection?`arrow-${e.arrowDirection}`:"arrow";return R(Ke,{name:u,class:ja("right-icon")},null)}};return()=>{var u,s;const{size:c,center:f,border:v,isLink:S,required:E}=e,m=(u=e.clickable)!=null?u:S,d={center:f,required:E,clickable:m,borderless:!v};return c&&(d[c]=!!c),R("div",{class:ja(d),role:m?"button":void 0,tabindex:m?0:void 0,onClick:n},[o(),a(),i(),l(),(s=t.extra)==null?void 0:s.call(t)])}}});const Hn=Ce(GU),[KU,WU]=ve("form"),YU={colon:Boolean,disabled:Boolean,readonly:Boolean,showError:Boolean,labelWidth:pe,labelAlign:String,inputAlign:String,scrollToError:Boolean,validateFirst:Boolean,submitOnEnter:ce,showErrorMessage:ce,errorMessageAlign:String,validateTrigger:{type:[String,Array],default:"onBlur"}};var qU=ee({name:KU,props:YU,emits:["submit","failed"],setup(e,{emit:t,slots:n}){const{children:r,linkChildren:a}=en(CS),i=m=>m?r.filter(d=>m.includes(d.name)):r,o=m=>new Promise((d,g)=>{const h=[];i(m).reduce((b,y)=>b.then(()=>{if(!h.length)return y.validate().then(C=>{C&&h.push(C)})}),Promise.resolve()).then(()=>{h.length?g(h):d()})}),l=m=>new Promise((d,g)=>{const h=i(m);Promise.all(h.map(p=>p.validate())).then(p=>{p=p.filter(Boolean),p.length?g(p):d()})}),u=m=>{const d=r.find(g=>g.name===m);return d?new Promise((g,h)=>{d.validate().then(p=>{p?h(p):g()})}):Promise.reject()},s=m=>typeof m=="string"?u(m):e.validateFirst?o(m):l(m),c=m=>{typeof m=="string"&&(m=[m]),i(m).forEach(g=>{g.resetValidation()})},f=(m,d)=>{r.some(g=>g.name===m?(g.$el.scrollIntoView(d),!0):!1)},v=()=>r.reduce((m,d)=>(m[d.name]=d.formValue.value,m),{}),S=()=>{const m=v();s().then(()=>t("submit",m)).catch(d=>{t("failed",{values:m,errors:d}),e.scrollToError&&d[0].name&&f(d[0].name)})},E=m=>{Ct(m),S()};return a({props:e}),ot({submit:S,validate:s,getValues:v,scrollToField:f,resetValidation:c}),()=>{var m;return R("form",{class:WU(),onSubmit:E},[(m=n.default)==null?void 0:m.call(n)])}}});const sf=Ce(qU);function XU(e){return Array.isArray(e)?!e.length:e===0?!1:!e}function ZU(e,t){return!(t.required&&XU(e)||t.pattern&&!t.pattern.test(String(e)))}function JU(e,t){return new Promise(n=>{const r=t.validator(e,t);if(Jd(r)){r.then(n);return}n(r)})}function cp(e,t){const{message:n}=t;return pi(n)?n(e,t):n||""}function QU({target:e}){e.composing=!0}function dp({target:e}){e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}function e8(e,t){const n=Go();e.style.height="auto";let r=e.scrollHeight;if(On(t)){const{maxHeight:a,minHeight:i}=t;a!==void 0&&(r=Math.min(r,a)),i!==void 0&&(r=Math.max(r,i))}r&&(e.style.height=`${r}px`,Bl(n))}function t8(e){return e==="number"?{type:"text",inputmode:"decimal"}:e==="digit"?{type:"tel",inputmode:"numeric"}:{type:e}}function $u(e){return[...e].length}function n8(e,t){return[...e].slice(0,t).join("")}let r8=0;function Ko(){const e=Be(),{name:t="unknown"}=(e==null?void 0:e.type)||{};return`${t}-${++r8}`}const[a8,Tn]=ve("field"),lf={id:String,name:String,leftIcon:String,rightIcon:String,autofocus:Boolean,clearable:Boolean,maxlength:pe,formatter:Function,clearIcon:we("clear"),modelValue:Pe(""),inputAlign:String,placeholder:String,autocomplete:String,errorMessage:String,enterkeyhint:String,clearTrigger:we("focus"),formatTrigger:we("onChange"),error:{type:Boolean,default:null},disabled:{type:Boolean,default:null},readonly:{type:Boolean,default:null}},i8=xe({},Hl,lf,{rows:pe,type:we("text"),rules:Array,autosize:[Boolean,Object],labelWidth:pe,labelClass:vt,labelAlign:String,showWordLimit:Boolean,errorMessageAlign:String,colon:{type:Boolean,default:null}});var o8=ee({name:a8,props:i8,emits:["blur","focus","clear","keypress","click-input","click-left-icon","click-right-icon","update:modelValue"],setup(e,{emit:t,slots:n}){const r=Ko(),a=Me({focused:!1,validateFailed:!1,validateMessage:""}),i=q(),o=q(),{parent:l}=Zt(CS),u=()=>{var B;return String((B=e.modelValue)!=null?B:"")},s=B=>{if(nt(e[B]))return e[B];if(l&&nt(l.props[B]))return l.props[B]},c=j(()=>{const B=s("readonly");if(e.clearable&&!B){const K=u()!=="",V=e.clearTrigger==="always"||e.clearTrigger==="focus"&&a.focused;return K&&V}return!1}),f=j(()=>o.value&&n.input?o.value():e.modelValue),v=B=>B.reduce((K,V)=>K.then(()=>{if(a.validateFailed)return;let{value:X}=f;if(V.formatter&&(X=V.formatter(X,V)),!ZU(X,V)){a.validateFailed=!0,a.validateMessage=cp(X,V);return}if(V.validator)return JU(X,V).then(Z=>{Z&&typeof Z=="string"?(a.validateFailed=!0,a.validateMessage=Z):Z===!1&&(a.validateFailed=!0,a.validateMessage=cp(X,V))})}),Promise.resolve()),S=()=>{a.validateFailed&&(a.validateFailed=!1,a.validateMessage="")},E=(B=e.rules)=>new Promise(K=>{S(),B?v(B).then(()=>{a.validateFailed?K({name:e.name,message:a.validateMessage}):K()}):K()}),m=B=>{if(l&&e.rules){const{validateTrigger:K}=l.props,V=nl(K).includes(B),X=e.rules.filter(Z=>Z.trigger?nl(Z.trigger).includes(B):V);X.length&&E(X)}},d=B=>{const{maxlength:K}=e;if(nt(K)&&$u(B)>K){const V=u();return V&&$u(V)===+K?V:n8(B,+K)}return B},g=(B,K="onChange")=>{if(B=d(B),e.type==="number"||e.type==="digit"){const V=e.type==="number";B=Vc(B,V,V)}e.formatter&&K===e.formatTrigger&&(B=e.formatter(B)),i.value&&i.value.value!==B&&(i.value.value=B),B!==e.modelValue&&t("update:modelValue",B)},h=B=>{B.target.composing||g(B.target.value)},p=()=>{var B;return(B=i.value)==null?void 0:B.blur()},b=()=>{var B;return(B=i.value)==null?void 0:B.focus()},y=()=>{const B=i.value;e.type==="textarea"&&e.autosize&&B&&e8(B,e.autosize)},C=B=>{a.focused=!0,t("focus",B),Re(y),s("readonly")&&p()},w=B=>{s("readonly")||(a.focused=!1,g(u(),"onBlur"),t("blur",B),m("onBlur"),Re(y),mS())},k=B=>t("click-input",B),_=B=>t("click-left-icon",B),T=B=>t("click-right-icon",B),O=B=>{Ct(B),t("update:modelValue",""),t("clear",B)},A=j(()=>{if(typeof e.error=="boolean")return e.error;if(l&&l.props.showError&&a.validateFailed)return!0}),P=j(()=>{const B=s("labelWidth");if(B)return{width:at(B)}}),D=B=>{B.keyCode===13&&(!(l&&l.props.submitOnEnter)&&e.type!=="textarea"&&Ct(B),e.type==="search"&&p()),t("keypress",B)},I=()=>e.id||`${r}-input`,x=()=>{const B=Tn("control",[s("inputAlign"),{error:A.value,custom:!!n.input,"min-height":e.type==="textarea"&&!e.autosize}]);if(n.input)return R("div",{class:B,onClick:k},[n.input()]);const K={id:I(),ref:i,name:e.name,rows:e.rows!==void 0?+e.rows:void 0,class:B,value:e.modelValue,disabled:s("disabled"),readonly:s("readonly"),autofocus:e.autofocus,placeholder:e.placeholder,autocomplete:e.autocomplete,enterkeyhint:e.enterkeyhint,"aria-labelledby":e.label?`${r}-label`:void 0,onBlur:w,onFocus:C,onInput:h,onClick:k,onChange:dp,onKeypress:D,onCompositionend:dp,onCompositionstart:QU};return e.type==="textarea"?R("textarea",K,null):R("input",We(t8(e.type),K),null)},L=()=>{const B=n["left-icon"];if(e.leftIcon||B)return R("div",{class:Tn("left-icon"),onClick:_},[B?B():R(Ke,{name:e.leftIcon,classPrefix:e.iconPrefix},null)])},$=()=>{const B=n["right-icon"];if(e.rightIcon||B)return R("div",{class:Tn("right-icon"),onClick:T},[B?B():R(Ke,{name:e.rightIcon,classPrefix:e.iconPrefix},null)])},M=()=>{if(e.showWordLimit&&e.maxlength){const B=$u(u());return R("div",{class:Tn("word-limit")},[R("span",{class:Tn("word-num")},[B]),et("/"),e.maxlength])}},N=()=>{if(l&&l.props.showErrorMessage===!1)return;const B=e.errorMessage||a.validateMessage;if(B){const K=n["error-message"],V=s("errorMessageAlign");return R("div",{class:Tn("error-message",V)},[K?K({message:B}):B])}},F=()=>{const B=s("colon")?":":"";if(n.label)return[n.label(),B];if(e.label)return R("label",{id:`${r}-label`,for:I()},[e.label+B])},U=()=>[R("div",{class:Tn("body")},[x(),c.value&&R(Ke,{name:e.clearIcon,class:Tn("clear"),onTouchstart:O},null),$(),n.button&&R("div",{class:Tn("button")},[n.button()])]),M(),N()];return ot({blur:p,focus:b,validate:E,formValue:f,resetValidation:S}),ct(fS,{customValue:o,resetValidation:S,validateWithTrigger:m}),oe(()=>e.modelValue,()=>{g(u()),S(),m("onChange"),Re(y)}),tt(()=>{g(u(),e.formatTrigger),Re(y)}),()=>{const B=s("disabled"),K=s("labelAlign"),V=F(),X=L();return R(Hn,{size:e.size,icon:e.leftIcon,class:Tn({error:A.value,disabled:B,[`label-${K}`]:K}),center:e.center,border:e.border,isLink:e.isLink,clickable:e.clickable,titleStyle:P.value,valueClass:Tn("value"),titleClass:[Tn("label",[K,{required:e.required}]),e.labelClass],arrowDirection:e.arrowDirection},{icon:X?()=>X:null,title:V?()=>V:null,value:U,extra:n.extra})}}});const er=Ce(o8);function zl(){const e=Me({show:!1}),t=a=>{e.show=a},n=a=>{xe(e,a,{transitionAppear:!0}),t(!0)},r=()=>t(!1);return ot({open:n,close:r,toggle:t}),{open:n,close:r,state:e,toggle:t}}function Gl(e){const t=Uo(e),n=document.createElement("div");return document.body.appendChild(n),{instance:t.mount(n),unmount(){t.unmount(),document.body.removeChild(n)}}}let no=0;function s8(e){e?(no||document.body.classList.add("van-toast--unclickable"),no++):no&&(no--,no||document.body.classList.remove("van-toast--unclickable"))}const[l8,ro]=ve("toast"),u8=["show","overlay","teleport","transition","overlayClass","overlayStyle","closeOnClickOverlay"],c8={icon:String,show:Boolean,type:we("text"),overlay:Boolean,message:pe,iconSize:pe,duration:tr(2e3),position:we("middle"),teleport:[String,Object],className:vt,iconPrefix:String,transition:we("van-fade"),loadingType:String,forbidClick:Boolean,overlayClass:vt,overlayStyle:Object,closeOnClick:Boolean,closeOnClickOverlay:Boolean};var RS=ee({name:l8,props:c8,emits:["update:show"],setup(e,{emit:t}){let n,r=!1;const a=()=>{const c=e.show&&e.forbidClick;r!==c&&(r=c,s8(r))},i=c=>t("update:show",c),o=()=>{e.closeOnClick&&i(!1)},l=()=>clearTimeout(n),u=()=>{const{icon:c,type:f,iconSize:v,iconPrefix:S,loadingType:E}=e;if(c||f==="success"||f==="fail")return R(Ke,{name:c||f,size:v,class:ro("icon"),classPrefix:S},null);if(f==="loading")return R(Un,{class:ro("loading"),size:v,type:E},null)},s=()=>{const{type:c,message:f}=e;if(nt(f)&&f!=="")return c==="html"?R("div",{key:0,class:ro("text"),innerHTML:String(f)},null):R("div",{class:ro("text")},[f])};return oe(()=>[e.show,e.forbidClick],a),oe(()=>[e.show,e.type,e.message,e.duration],()=>{l(),e.show&&e.duration>0&&(n=setTimeout(()=>{i(!1)},e.duration))}),tt(a),Nn(a),()=>R(Vn,We({class:[ro([e.position,{[e.type]:!e.icon}]),e.className],lockScroll:!1,onClick:o,onClosed:l,"onUpdate:show":i},ht(e,u8)),{default:()=>[u(),s()]})}});const xS={icon:"",type:"text",message:"",className:"",overlay:!1,onClose:void 0,onOpened:void 0,duration:2e3,teleport:"body",iconSize:void 0,iconPrefix:void 0,position:"middle",transition:"van-fade",forbidClick:!1,loadingType:void 0,overlayClass:"",overlayStyle:void 0,closeOnClick:!1,closeOnClickOverlay:!1};let xn=[],Kl=!1,al=xe({},xS);const il=new Map;function $S(e){return On(e)?e:{message:e}}function d8(){const{instance:e,unmount:t}=Gl({setup(){const n=q(""),{open:r,state:a,close:i,toggle:o}=zl(),l=()=>{Kl&&(xn=xn.filter(s=>s!==e),t())},u=()=>R(RS,We(a,{onClosed:l,"onUpdate:show":o}),null);return oe(n,s=>{a.message=s}),Be().render=u,{open:r,clear:i,message:n}}});return e}function f8(){if(!xn.length||Kl){const e=d8();xn.push(e)}return xn[xn.length-1]}function sn(e={}){if(!Wr)return{};const t=f8(),n=$S(e);return t.open(xe({},al,il.get(n.type||al.type),n)),t}const uf=e=>t=>sn(xe({type:e},$S(t)));sn.loading=uf("loading");sn.success=uf("success");sn.fail=uf("fail");sn.clear=e=>{var t;xn.length&&(e?(xn.forEach(n=>{n.clear()}),xn=[]):Kl?(t=xn.shift())==null||t.clear():xn[0].clear())};function h8(e,t){typeof e=="string"?il.set(e,t):xe(al,e)}sn.setDefaultOptions=h8;sn.resetDefaultOptions=e=>{typeof e=="string"?il.delete(e):(al=xe({},xS),il.clear())};sn.allowMultiple=(e=!0)=>{Kl=e};sn.install=e=>{e.use(Ce(RS)),e.config.globalProperties.$toast=sn};const[v8,Mu]=ve("switch"),m8={size:pe,loading:Boolean,disabled:Boolean,modelValue:vt,activeColor:String,inactiveColor:String,activeValue:{type:vt,default:!0},inactiveValue:{type:vt,default:!1}};var g8=ee({name:v8,props:m8,emits:["change","update:modelValue"],setup(e,{emit:t}){const n=()=>e.modelValue===e.activeValue,r=()=>{if(!e.disabled&&!e.loading){const i=n()?e.inactiveValue:e.activeValue;t("update:modelValue",i),t("change",i)}},a=()=>{if(e.loading){const i=n()?e.activeColor:e.inactiveColor;return R(Un,{class:Mu("loading"),color:i},null)}};return Xr(()=>e.modelValue),()=>{const{size:i,loading:o,disabled:l,activeColor:u,inactiveColor:s}=e,c=n(),f={fontSize:at(i),backgroundColor:c?u:s};return R("div",{role:"switch",class:Mu({on:c,loading:o,disabled:l}),style:f,tabindex:l?void 0:0,"aria-checked":c,onClick:r},[R("div",{class:Mu("node")},[a()])])}}});const cf=Ce(g8),[p8,Fu]=ve("address-edit-detail"),fp=ve("address-edit")[2];var y8=ee({name:p8,props:{show:Boolean,rows:pe,value:String,rules:Array,focused:Boolean,maxlength:pe,searchResult:Array,showSearchResult:Boolean},emits:["blur","focus","input","select-search"],setup(e,{emit:t}){const n=q(),r=()=>e.focused&&e.searchResult&&e.showSearchResult,a=c=>{t("select-search",c),t("input",`${c.address||""} ${c.name||""}`.trim())},i=c=>{if(c.name){const f=c.name.replace(e.value,`<span class=${Fu("keyword")}>${e.value}</span>`);return R("div",{innerHTML:f},null)}},o=()=>{if(!r())return;const{searchResult:c}=e;return c.map(f=>R(Hn,{clickable:!0,key:f.name+f.address,icon:"location-o",label:f.address,class:Fu("search-item"),border:!1,onClick:()=>a(f)},{title:()=>i(f)}))},l=c=>t("blur",c),u=c=>t("focus",c),s=c=>t("input",c);return()=>{if(e.show)return R(Te,null,[R(er,{autosize:!0,clearable:!0,ref:n,class:Fu(),rows:e.rows,type:"textarea",rules:e.rules,label:fp("addressDetail"),border:!r(),maxlength:e.maxlength,modelValue:e.value,placeholder:fp("addressDetail"),onBlur:l,onFocus:u,"onUpdate:modelValue":s},null),o()])}}});const[b8,Ua,It]=ve("address-edit"),MS={name:"",tel:"",city:"",county:"",country:"",province:"",areaCode:"",isDefault:!1,postalCode:"",addressDetail:""},S8=e=>/^\d{6}$/.test(e),T8={areaList:Object,isSaving:Boolean,isDeleting:Boolean,validator:Function,showArea:ce,showDetail:ce,showDelete:Boolean,showPostal:Boolean,disableArea:Boolean,searchResult:Array,telMaxlength:pe,showSetDefault:Boolean,saveButtonText:String,areaPlaceholder:String,deleteButtonText:String,showSearchResult:Boolean,detailRows:Pe(1),detailMaxlength:Pe(200),areaColumnsPlaceholder:Ut(),addressInfo:{type:Object,default:()=>xe({},MS)},telValidator:{type:Function,default:hS},postalValidator:{type:Function,default:S8}};var C8=ee({name:b8,props:T8,emits:["save","focus","delete","click-area","change-area","change-detail","select-search","change-default"],setup(e,{emit:t,slots:n}){const r=q(),a=Me({}),i=q(!1),o=q(!1),l=j(()=>On(e.areaList)&&Object.keys(e.areaList).length),u=j(()=>{const{country:C,province:w,city:k,county:_,areaCode:T}=a;if(T){const O=[C,w,k,_];return w&&w===k&&O.splice(1,1),O.filter(Boolean).join("/")}return""}),s=j(()=>{var C;return((C=e.searchResult)==null?void 0:C.length)&&o.value}),c=()=>{if(r.value){const C=r.value.getArea();C.areaCode=C.code,delete C.code,xe(a,C)}},f=C=>{o.value=C==="addressDetail",t("focus",C)},v=j(()=>{const{validator:C,telValidator:w,postalValidator:k}=e,_=(T,O)=>({validator:A=>{if(C){const P=C(T,A);if(P)return P}return A?!0:O}});return{name:[_("name",It("nameEmpty"))],tel:[_("tel",It("telInvalid")),{validator:w,message:It("telInvalid")}],areaCode:[_("areaCode",It("areaEmpty"))],addressDetail:[_("addressDetail",It("addressEmpty"))],postalCode:[_("addressDetail",It("postalEmpty")),{validator:k,message:It("postalEmpty")}]}}),S=()=>t("save",a),E=C=>{a.addressDetail=C,t("change-detail",C)},m=C=>{C=C.filter(Boolean),C.some(w=>!w.code)?sn(It("areaEmpty")):(i.value=!1,c(),t("change-area",C))},d=()=>t("delete",a),g=()=>{var C;return((C=r.value)==null?void 0:C.getValues())||[]},h=C=>{a.areaCode=C||"",C&&Re(c)},p=()=>{setTimeout(()=>{o.value=!1})},b=C=>{a.addressDetail=C},y=()=>{if(e.showSetDefault){const C={"right-icon":()=>R(cf,{modelValue:a.isDefault,"onUpdate:modelValue":w=>a.isDefault=w,size:"24",onChange:w=>t("change-default",w)},null)};return Ge(R(Hn,{center:!0,title:It("defaultAddress"),class:Ua("default")},C),[[qe,!s.value]])}};return ot({getArea:g,setAreaCode:h,setAddressDetail:b}),oe(()=>e.areaList,()=>h(a.areaCode)),oe(()=>e.addressInfo,C=>{xe(a,MS,C),h(C.areaCode)},{deep:!0,immediate:!0}),()=>{const{disableArea:C}=e;return R(sf,{class:Ua(),onSubmit:S},{default:()=>{var w;return[R("div",{class:Ua("fields")},[R(er,{modelValue:a.name,"onUpdate:modelValue":k=>a.name=k,clearable:!0,label:It("name"),rules:v.value.name,placeholder:It("name"),onFocus:()=>f("name")},null),R(er,{modelValue:a.tel,"onUpdate:modelValue":k=>a.tel=k,clearable:!0,type:"tel",label:It("tel"),rules:v.value.tel,maxlength:e.telMaxlength,placeholder:It("tel"),onFocus:()=>f("tel")},null),Ge(R(er,{readonly:!0,label:It("area"),"is-link":!C,modelValue:u.value,rules:v.value.areaCode,placeholder:e.areaPlaceholder||It("area"),onFocus:()=>f("areaCode"),onClick:()=>{t("click-area"),i.value=!C}},null),[[qe,e.showArea]]),R(y8,{show:e.showDetail,rows:e.detailRows,rules:v.value.addressDetail,value:a.addressDetail,focused:o.value,maxlength:e.detailMaxlength,searchResult:e.searchResult,showSearchResult:e.showSearchResult,onBlur:p,onFocus:()=>f("addressDetail"),onInput:E,"onSelect-search":k=>t("select-search",k)},null),e.showPostal&&Ge(R(er,{modelValue:a.postalCode,"onUpdate:modelValue":k=>a.postalCode=k,type:"tel",rules:v.value.postalCode,label:It("postal"),maxlength:"6",placeholder:It("postal"),onFocus:()=>f("postalCode")},null),[[qe,!s.value]]),(w=n.default)==null?void 0:w.call(n)]),y(),Ge(R("div",{class:Ua("buttons")},[R(on,{block:!0,round:!0,type:"danger",text:e.saveButtonText||It("save"),class:Ua("button"),loading:e.isSaving,nativeType:"submit"},null),e.showDelete&&R(on,{block:!0,round:!0,class:Ua("button"),loading:e.isDeleting,text:e.deleteButtonText||It("delete"),onClick:d},null)]),[[qe,!s.value]]),R(Vn,{show:i.value,"onUpdate:show":k=>i.value=k,round:!0,teleport:"body",position:"bottom",lazyRender:!1},{default:()=>[R(LS,{ref:r,value:a.areaCode,loading:!l.value,areaList:e.areaList,columnsPlaceholder:e.areaColumnsPlaceholder,onConfirm:m,onCancel:()=>{i.value=!1}},null)]})]}})}}});const E8=Ce(C8),[FS,w8]=ve("radio-group"),O8={disabled:Boolean,iconSize:pe,direction:String,modelValue:vt,checkedColor:String},BS=Symbol(FS);var k8=ee({name:FS,props:O8,emits:["change","update:modelValue"],setup(e,{emit:t,slots:n}){const{linkChildren:r}=en(BS),a=i=>t("update:modelValue",i);return oe(()=>e.modelValue,i=>t("change",i)),r({props:e,updateValue:a}),Xr(()=>e.modelValue),()=>{var i;return R("div",{class:w8([e.direction]),role:"radiogroup"},[(i=n.default)==null?void 0:i.call(n)])}}});const df=Ce(k8),[_8,hp]=ve("tag"),A8={size:String,mark:Boolean,show:ce,type:we("default"),color:String,plain:Boolean,round:Boolean,textColor:String,closeable:Boolean};var D8=ee({name:_8,props:A8,emits:["close"],setup(e,{slots:t,emit:n}){const r=o=>{o.stopPropagation(),n("close",o)},a=()=>e.plain?{color:e.textColor||e.color,borderColor:e.color}:{color:e.textColor,background:e.color},i=()=>{var o;const{type:l,mark:u,plain:s,round:c,size:f,closeable:v}=e,S={mark:u,plain:s,round:c};f&&(S[f]=f);const E=v&&R(Ke,{name:"cross",class:[hp("close"),an],onClick:r},null);return R("span",{style:a(),class:hp([S,l])},[(o=t.default)==null?void 0:o.call(t),E])};return()=>R(yn,{name:e.closeable?"van-fade":void 0},{default:()=>[e.show?i():null]})}});const Wl=Ce(D8),ff={name:vt,shape:we("round"),disabled:Boolean,iconSize:pe,modelValue:vt,checkedColor:String,labelPosition:String,labelDisabled:Boolean};var NS=ee({props:xe({},ff,{bem:$t(Function),role:String,parent:Object,checked:Boolean,bindGroup:ce}),emits:["click","toggle"],setup(e,{emit:t,slots:n}){const r=q(),a=f=>{if(e.parent&&e.bindGroup)return e.parent.props[f]},i=j(()=>a("disabled")||e.disabled),o=j(()=>a("direction")),l=j(()=>{const f=e.checkedColor||a("checkedColor");if(f&&e.checked&&!i.value)return{borderColor:f,backgroundColor:f}}),u=f=>{const{target:v}=f,S=r.value,E=S===v||(S==null?void 0:S.contains(v));!i.value&&(E||!e.labelDisabled)&&t("toggle"),t("click",f)},s=()=>{const{bem:f,shape:v,checked:S}=e,E=e.iconSize||a("iconSize");return R("div",{ref:r,class:f("icon",[v,{disabled:i.value,checked:S}]),style:{fontSize:at(E)}},[n.icon?n.icon({checked:S,disabled:i.value}):R(Ke,{name:"success",style:l.value},null)])},c=()=>{if(n.default)return R("span",{class:e.bem("label",[e.labelPosition,{disabled:i.value}])},[n.default()])};return()=>{const f=e.labelPosition==="left"?[c(),s()]:[s(),c()];return R("div",{role:e.role,class:e.bem([{disabled:i.value,"label-disabled":e.labelDisabled},o.value]),tabindex:i.value?void 0:0,"aria-checked":e.checked,onClick:u},[f])}}});const[P8,I8]=ve("radio");var L8=ee({name:P8,props:ff,emits:["update:modelValue"],setup(e,{emit:t,slots:n}){const{parent:r}=Zt(BS),a=()=>(r?r.props.modelValue:e.modelValue)===e.name,i=()=>{r?r.updateValue(e.name):t("update:modelValue",e.name)};return()=>R(NS,We({bem:I8,role:"radio",parent:r,checked:a(),onToggle:i},e),ht(n,["default","icon"]))}});const hf=Ce(L8),[R8,Va]=ve("address-item");var x8=ee({name:R8,props:{address:$t(Object),disabled:Boolean,switchable:Boolean,defaultTagText:String},emits:["edit","click","select"],setup(e,{slots:t,emit:n}){const r=()=>{e.switchable&&n("select"),n("click")},a=()=>R(Ke,{name:"edit",class:Va("edit"),onClick:l=>{l.stopPropagation(),n("edit"),n("click")}},null),i=()=>{if(t.tag)return t.tag(e.address);if(e.address.isDefault&&e.defaultTagText)return R(Wl,{type:"danger",round:!0,class:Va("tag")},{default:()=>[e.defaultTagText]})},o=()=>{const{address:l,disabled:u,switchable:s}=e,c=[R("div",{class:Va("name")},[`${l.name} ${l.tel}`,i()]),R("div",{class:Va("address")},[l.address])];return s&&!u?R(hf,{name:l.id,iconSize:18},{default:()=>[c]}):c};return()=>{var l;const{disabled:u}=e;return R("div",{class:Va({disabled:u}),onClick:r},[R(Hn,{border:!1,valueClass:Va("value")},{value:o,"right-icon":a}),(l=t.bottom)==null?void 0:l.call(t,xe({},e.address,{disabled:u}))])}}});const[$8,vs,M8]=ve("address-list"),F8={list:Ut(),modelValue:pe,switchable:ce,disabledText:String,disabledList:Ut(),addButtonText:String,defaultTagText:String};var B8=ee({name:$8,props:F8,emits:["add","edit","select","click-item","edit-disabled","select-disabled","update:modelValue"],setup(e,{slots:t,emit:n}){const r=(o,l,u)=>{const s=()=>n(u?"edit-disabled":"edit",o,l),c=()=>n("click-item",o,l),f=()=>{n(u?"select-disabled":"select",o,l),u||n("update:modelValue",o.id)};return R(x8,{key:o.id,address:o,disabled:u,switchable:e.switchable,defaultTagText:e.defaultTagText,onEdit:s,onClick:c,onSelect:f},{bottom:t["item-bottom"],tag:t.tag})},a=(o,l)=>{if(o)return o.map((u,s)=>r(u,s,l))},i=()=>R("div",{class:[vs("bottom"),"van-safe-area-bottom"]},[R(on,{round:!0,block:!0,type:"danger",text:e.addButtonText||M8("add"),class:vs("add"),onClick:()=>n("add")},null)]);return()=>{var o,l;const u=a(e.list),s=a(e.disabledList,!0),c=e.disabledText&&R("div",{class:vs("disabled-text")},[e.disabledText]);return R("div",{class:vs()},[(o=t.top)==null?void 0:o.call(t),R(df,{modelValue:e.modelValue},{default:()=>[u]}),c,s,(l=t.default)==null?void 0:l.call(t),i()])}}});const N8=Ce(B8),[j8,xt,gr]=ve("calendar"),U8=e=>gr("monthTitle",e.getFullYear(),e.getMonth()+1);function Gc(e,t){const n=e.getFullYear(),r=t.getFullYear();if(n===r){const a=e.getMonth(),i=t.getMonth();return a===i?0:a>i?1:-1}return n>r?1:-1}function vn(e,t){const n=Gc(e,t);if(n===0){const r=e.getDate(),a=t.getDate();return r===a?0:r>a?1:-1}return n}const ol=e=>new Date(e),vp=e=>Array.isArray(e)?e.map(ol):ol(e);function vf(e,t){const n=ol(e);return n.setDate(n.getDate()+t),n}const Kc=e=>vf(e,-1),jS=e=>vf(e,1),Wc=()=>{const e=new Date;return e.setHours(0,0,0,0),e};function V8(e){const t=e[0].getTime();return(e[1].getTime()-t)/(1e3*60*60*24)+1}function Yl(){const e=q([]),t=[];return Wy(()=>{e.value=[]}),[e,r=>(t[r]||(t[r]=a=>{e.value[r]=a}),t[r])]}const US=xe({},Ul,{filter:Function,columnsOrder:Array,formatter:{type:Function,default:(e,t)=>t}}),VS=Object.keys(Ul);function HS(e,t){if(e<0)return[];const n=Array(e);let r=-1;for(;++r<e;)n[r]=t(r);return n}function H8(e){if(!e)return 0;for(;Number.isNaN(parseInt(e,10));)if(e.length>1)e=e.slice(1);else return 0;return parseInt(e,10)}const Yc=(e,t)=>32-new Date(e,t-1,32).getDate(),zS=(e,t)=>{const n=["setValues","setIndexes","setColumnIndex","setColumnValue"];return new Proxy(e,{get:(r,a)=>n.includes(a)?(...i)=>{r[a](...i),t()}:r[a]})},GS=e=>{const t=q(),n=()=>{t.value=dt(e).height};return tt(()=>{Re(n),setTimeout(n,100)}),t},[z8]=ve("calendar-day");var G8=ee({name:z8,props:{item:$t(Object),color:String,index:Number,offset:tr(0),rowHeight:String},emits:["click"],setup(e,{emit:t,slots:n}){const r=j(()=>{var u;const{item:s,index:c,color:f,offset:v,rowHeight:S}=e,E={height:S};if(s.type==="placeholder")return E.width="100%",E;if(c===0&&(E.marginLeft=`${100*v/7}%`),f)switch(s.type){case"end":case"start":case"start-end":case"multiple-middle":case"multiple-selected":E.background=f;break;case"middle":E.color=f;break}return v+(((u=s.date)==null?void 0:u.getDate())||1)>28&&(E.marginBottom=0),E}),a=()=>{e.item.type!=="disabled"&&t("click",e.item)},i=()=>{const{topInfo:u}=e.item;if(u||n["top-info"])return R("div",{class:xt("top-info")},[n["top-info"]?n["top-info"](e.item):u])},o=()=>{const{bottomInfo:u}=e.item;if(u||n["bottom-info"])return R("div",{class:xt("bottom-info")},[n["bottom-info"]?n["bottom-info"](e.item):u])},l=()=>{const{item:u,color:s,rowHeight:c}=e,{type:f,text:v}=u,S=[i(),v,o()];return f==="selected"?R("div",{class:xt("selected-day"),style:{width:c,height:c,background:s}},[S]):S};return()=>{const{type:u,className:s}=e.item;return u==="placeholder"?R("div",{class:xt("day"),style:r.value},null):R("div",{role:"gridcell",style:r.value,class:[xt("day",u),s],tabindex:u==="disabled"?void 0:-1,onClick:a},[l()])}}});const[K8]=ve("calendar-month"),W8={date:$t(Date),type:String,color:String,minDate:$t(Date),maxDate:$t(Date),showMark:Boolean,rowHeight:pe,formatter:Function,lazyRender:Boolean,currentDate:[Date,Array],allowSameDay:Boolean,showSubtitle:Boolean,showMonthTitle:Boolean,firstDayOfWeek:Number};var Y8=ee({name:K8,props:W8,emits:["click","update-height"],setup(e,{emit:t,slots:n}){const[r,a]=m5(),i=q(),o=q(),l=GS(o),u=j(()=>U8(e.date)),s=j(()=>at(e.rowHeight)),c=j(()=>{const T=e.date.getDay();return e.firstDayOfWeek?(T+7-e.firstDayOfWeek)%7:T}),f=j(()=>Yc(e.date.getFullYear(),e.date.getMonth()+1)),v=j(()=>r.value||!e.lazyRender),S=()=>u.value,E=T=>{const O=A=>e.currentDate.some(P=>vn(P,A)===0);if(O(T)){const A=Kc(T),P=jS(T),D=O(A),I=O(P);return D&&I?"multiple-middle":D?"end":I?"start":"multiple-selected"}return""},m=T=>{const[O,A]=e.currentDate;if(!O)return"";const P=vn(T,O);if(!A)return P===0?"start":"";const D=vn(T,A);return e.allowSameDay&&P===0&&D===0?"start-end":P===0?"start":D===0?"end":P>0&&D<0?"middle":""},d=T=>{const{type:O,minDate:A,maxDate:P,currentDate:D}=e;if(vn(T,A)<0||vn(T,P)>0)return"disabled";if(D===null)return"";if(Array.isArray(D)){if(O==="multiple")return E(T);if(O==="range")return m(T)}else if(O==="single")return vn(T,D)===0?"selected":"";return""},g=T=>{if(e.type==="range"){if(T==="start"||T==="end")return gr(T);if(T==="start-end")return`${gr("start")}/${gr("end")}`}},h=()=>{if(e.showMonthTitle)return R("div",{class:xt("month-title")},[u.value])},p=()=>{if(e.showMark&&v.value)return R("div",{class:xt("month-mark")},[e.date.getMonth()+1])},b=j(()=>{const T=Math.ceil((f.value+c.value)/7);return Array(T).fill({type:"placeholder"})}),y=j(()=>{const T=[],O=e.date.getFullYear(),A=e.date.getMonth();for(let P=1;P<=f.value;P++){const D=new Date(O,A,P),I=d(D);let x={date:D,type:I,text:P,bottomInfo:g(I)};e.formatter&&(x=e.formatter(x)),T.push(x)}return T}),C=j(()=>y.value.filter(T=>T.type==="disabled")),w=(T,O)=>{if(i.value){const A=dt(i.value),P=b.value.length,I=(Math.ceil((O.getDate()+c.value)/7)-1)*A.height/P;rl(T,A.top+I+T.scrollTop-dt(T).top)}},k=(T,O)=>R(G8,{item:T,index:O,color:e.color,offset:c.value,rowHeight:s.value,onClick:A=>t("click",A)},ht(n,["top-info","bottom-info"])),_=()=>R("div",{ref:i,role:"grid",class:xt("days")},[p(),(v.value?y:b).value.map(k)]);return ot({getTitle:S,getHeight:()=>l.value,setVisible:a,scrollToDate:w,disabledDays:C}),()=>R("div",{class:xt("month"),ref:o},[h(),_()])}});const[q8]=ve("calendar-header");var X8=ee({name:q8,props:{title:String,subtitle:String,showTitle:Boolean,showSubtitle:Boolean,firstDayOfWeek:Number},emits:["click-subtitle"],setup(e,{slots:t,emit:n}){const r=()=>{if(e.showTitle){const l=e.title||gr("title"),u=t.title?t.title():l;return R("div",{class:xt("header-title")},[u])}},a=l=>n("click-subtitle",l),i=()=>{if(e.showSubtitle){const l=t.subtitle?t.subtitle():e.subtitle;return R("div",{class:xt("header-subtitle"),onClick:a},[l])}},o=()=>{const{firstDayOfWeek:l}=e,u=gr("weekdays"),s=[...u.slice(l,7),...u.slice(0,l)];return R("div",{class:xt("weekdays")},[s.map(c=>R("span",{class:xt("weekday")},[c]))])};return()=>R("div",{class:xt("header")},[r(),i(),o()])}});const Z8={show:Boolean,type:we("single"),title:String,color:String,round:ce,readonly:Boolean,poppable:ce,maxRange:Pe(null),position:we("bottom"),teleport:[String,Object],showMark:ce,showTitle:ce,formatter:Function,rowHeight:pe,confirmText:String,rangePrompt:String,lazyRender:ce,showConfirm:ce,defaultDate:[Date,Array],allowSameDay:Boolean,showSubtitle:ce,closeOnPopstate:ce,showRangePrompt:ce,confirmDisabledText:String,closeOnClickOverlay:ce,safeAreaInsetTop:Boolean,safeAreaInsetBottom:ce,minDate:{type:Date,validator:Co,default:Wc},maxDate:{type:Date,validator:Co,default:()=>{const e=Wc();return new Date(e.getFullYear(),e.getMonth()+6,e.getDate())}},firstDayOfWeek:{type:pe,default:0,validator:e=>e>=0&&e<=6}};var J8=ee({name:j8,props:Z8,emits:["select","confirm","unselect","month-show","over-range","update:show","click-subtitle"],setup(e,{emit:t,slots:n}){const r=(D,I=e.minDate,x=e.maxDate)=>vn(D,I)===-1?I:vn(D,x)===1?x:D,a=(D=e.defaultDate)=>{const{type:I,minDate:x,maxDate:L}=e;if(D===null)return D;const $=Wc();if(I==="range"){Array.isArray(D)||(D=[]);const M=r(D[0]||$,x,Kc(L)),N=r(D[1]||$,jS(x));return[M,N]}return I==="multiple"?Array.isArray(D)?D.map(M=>r(M)):[r($)]:((!D||Array.isArray(D))&&(D=$),r(D))};let i;const o=q(),l=q(""),u=q(a()),[s,c]=Yl(),f=j(()=>e.firstDayOfWeek?+e.firstDayOfWeek%7:0),v=j(()=>{const D=[],I=new Date(e.minDate);I.setDate(1);do D.push(new Date(I)),I.setMonth(I.getMonth()+1);while(Gc(I,e.maxDate)!==1);return D}),S=j(()=>{if(u.value){if(e.type==="range")return!u.value[0]||!u.value[1];if(e.type==="multiple")return!u.value.length}return!u.value}),E=()=>{const D=Vr(o.value),I=D+i,x=v.value.map((F,U)=>s.value[U].getHeight()),L=x.reduce((F,U)=>F+U,0);if(I>L&&D>0)return;let $=0,M;const N=[-1,-1];for(let F=0;F<v.value.length;F++){const U=s.value[F];$<=I&&$+x[F]>=D&&(N[1]=F,M||(M=U,N[0]=F),s.value[F].showed||(s.value[F].showed=!0,t("month-show",{date:U.date,title:U.getTitle()}))),$+=x[F]}v.value.forEach((F,U)=>{const B=U>=N[0]-1&&U<=N[1]+1;s.value[U].setVisible(B)}),M&&(l.value=M.getTitle())},m=D=>{rn(()=>{v.value.some((I,x)=>Gc(I,D)===0?(o.value&&s.value[x].scrollToDate(o.value,D),!0):!1),E()})},d=()=>{if(!(e.poppable&&!e.show))if(u.value){const D=e.type==="single"?u.value:u.value[0];m(D)}else rn(E)},g=()=>{e.poppable&&!e.show||(rn(()=>{i=Math.floor(dt(o).height)}),d())},h=(D=a())=>{u.value=D,d()},p=D=>{const{maxRange:I,rangePrompt:x,showRangePrompt:L}=e;return I&&V8(D)>I?(L&&sn(x||gr("rangePrompt",I)),t("over-range"),!1):!0},b=()=>{var D;return t("confirm",(D=u.value)!=null?D:vp(u.value))},y=(D,I)=>{const x=L=>{u.value=L,t("select",vp(L))};if(I&&e.type==="range"&&!p(D)){x([D[0],vf(D[0],+e.maxRange-1)]);return}x(D),I&&!e.showConfirm&&b()},C=(D,I,x)=>{var L;return(L=D.find($=>vn(I,$.date)===-1&&vn($.date,x)===-1))==null?void 0:L.date},w=j(()=>s.value.reduce((D,I)=>{var x,L;return D.push(...(L=(x=I.disabledDays)==null?void 0:x.value)!=null?L:[]),D},[])),k=D=>{if(e.readonly||!D.date)return;const{date:I}=D,{type:x}=e;if(x==="range"){if(!u.value){y([I]);return}const[L,$]=u.value;if(L&&!$){const M=vn(I,L);if(M===1){const N=C(w.value,L,I);if(N){const F=Kc(N);vn(L,F)===-1?y([L,F]):y([I])}else y([L,I],!0)}else M===-1?y([I]):e.allowSameDay&&y([I,I],!0)}else y([I])}else if(x==="multiple"){if(!u.value){y([I]);return}const L=u.value,$=L.findIndex(M=>vn(M,I)===0);if($!==-1){const[M]=L.splice($,1);t("unselect",ol(M))}else e.maxRange&&L.length>=e.maxRange?sn(e.rangePrompt||gr("rangePrompt",e.maxRange)):y([...L,I])}else y(I,!0)},_=D=>t("update:show",D),T=(D,I)=>{const x=I!==0||!e.showSubtitle;return R(Y8,We({ref:c(I),date:D,currentDate:u.value,showMonthTitle:x,firstDayOfWeek:f.value},ht(e,["type","color","minDate","maxDate","showMark","formatter","rowHeight","lazyRender","showSubtitle","allowSameDay"]),{onClick:k}),ht(n,["top-info","bottom-info"]))},O=()=>{if(n.footer)return n.footer();if(e.showConfirm){const D=n["confirm-text"],I=S.value,x=I?e.confirmDisabledText:e.confirmText;return R(on,{round:!0,block:!0,type:"danger",color:e.color,class:xt("confirm"),disabled:I,nativeType:"button",onClick:b},{default:()=>[D?D({disabled:I}):x||gr("confirm")]})}},A=()=>R("div",{class:[xt("footer"),{"van-safe-area-bottom":e.safeAreaInsetBottom}]},[O()]),P=()=>R("div",{class:xt()},[R(X8,{title:e.title,subtitle:l.value,showTitle:e.showTitle,showSubtitle:e.showSubtitle,firstDayOfWeek:f.value,"onClick-subtitle":D=>t("click-subtitle",D)},ht(n,["title","subtitle"])),R("div",{ref:o,class:xt("body"),onScroll:E},[v.value.map(T)]),A()]);return oe(()=>e.show,g),oe(()=>[e.type,e.minDate,e.maxDate],()=>h(a(u.value))),oe(()=>e.defaultDate,(D=null)=>{u.value=D,d()}),ot({reset:h,scrollToDate:m}),xi(g),()=>e.poppable?R(Vn,{show:e.show,class:xt("popup"),round:e.round,position:e.position,closeable:e.showTitle||e.showSubtitle,teleport:e.teleport,closeOnPopstate:e.closeOnPopstate,safeAreaInsetTop:e.safeAreaInsetTop,closeOnClickOverlay:e.closeOnClickOverlay,"onUpdate:show":_},{default:P}):P()}});const Q8=Ce(J8),[eV,Ha]=ve("image"),tV={src:String,alt:String,fit:String,position:String,round:Boolean,width:pe,height:pe,radius:pe,lazyLoad:Boolean,iconSize:pe,showError:ce,errorIcon:we("photo-fail"),iconPrefix:String,showLoading:ce,loadingIcon:we("photo")};var nV=ee({name:eV,props:tV,emits:["load","error"],setup(e,{emit:t,slots:n}){const r=q(!1),a=q(!0),i=q(),{$Lazyload:o}=Be().proxy,l=j(()=>{const m={width:at(e.width),height:at(e.height)};return nt(e.radius)&&(m.overflow="hidden",m.borderRadius=at(e.radius)),m});oe(()=>e.src,()=>{r.value=!1,a.value=!0});const u=m=>{a.value=!1,t("load",m)},s=m=>{r.value=!0,a.value=!1,t("error",m)},c=(m,d,g)=>g?g():R(Ke,{name:m,size:e.iconSize,class:d,classPrefix:e.iconPrefix},null),f=()=>{if(a.value&&e.showLoading)return R("div",{class:Ha("loading")},[c(e.loadingIcon,Ha("loading-icon"),n.loading)]);if(r.value&&e.showError)return R("div",{class:Ha("error")},[c(e.errorIcon,Ha("error-icon"),n.error)])},v=()=>{if(r.value||!e.src)return;const m={alt:e.alt,class:Ha("img"),style:{objectFit:e.fit,objectPosition:e.position}};return e.lazyLoad?Ge(R("img",We({ref:i},m),null),[[aw("lazy"),e.src]]):R("img",We({src:e.src,onLoad:u,onError:s},m),null)},S=({el:m})=>{const d=()=>{m===i.value&&a.value&&u()};i.value?d():Re(d)},E=({el:m})=>{m===i.value&&!r.value&&s()};return o&&Wr&&(o.$on("loaded",S),o.$on("error",E),Bn(()=>{o.$off("loaded",S),o.$off("error",E)})),()=>{var m;return R("div",{class:Ha({round:e.round}),style:l.value},[v(),f(),(m=n.default)==null?void 0:m.call(n)])}}});const ql=Ce(nV),[rV,Jt]=ve("card"),aV={tag:String,num:pe,desc:String,thumb:String,title:String,price:pe,centered:Boolean,lazyLoad:Boolean,currency:we("\xA5"),thumbLink:String,originPrice:pe};var iV=ee({name:rV,props:aV,emits:["click-thumb"],setup(e,{slots:t,emit:n}){const r=()=>{if(t.title)return t.title();if(e.title)return R("div",{class:[Jt("title"),"van-multi-ellipsis--l2"]},[e.title])},a=()=>{if(t.tag||e.tag)return R("div",{class:Jt("tag")},[t.tag?t.tag():R(Wl,{mark:!0,type:"danger"},{default:()=>[e.tag]})])},i=()=>t.thumb?t.thumb():R(ql,{src:e.thumb,fit:"cover",width:"100%",height:"100%",lazyLoad:e.lazyLoad},null),o=()=>{if(t.thumb||e.thumb)return R("a",{href:e.thumbLink,class:Jt("thumb"),onClick:s=>n("click-thumb",s)},[i(),a()])},l=()=>{if(t.desc)return t.desc();if(e.desc)return R("div",{class:[Jt("desc"),"van-ellipsis"]},[e.desc])},u=()=>{const s=e.price.toString().split(".");return R("div",null,[R("span",{class:Jt("price-currency")},[e.currency]),R("span",{class:Jt("price-integer")},[s[0]]),et("."),R("span",{class:Jt("price-decimal")},[s[1]])])};return()=>{var s,c,f;const v=t.num||nt(e.num),S=t.price||nt(e.price),E=t["origin-price"]||nt(e.originPrice),m=v||S||E||t.bottom,d=S&&R("div",{class:Jt("price")},[t.price?t.price():u()]),g=E&&R("div",{class:Jt("origin-price")},[t["origin-price"]?t["origin-price"]():`${e.currency} ${e.originPrice}`]),h=v&&R("div",{class:Jt("num")},[t.num?t.num():`x${e.num}`]),p=t.footer&&R("div",{class:Jt("footer")},[t.footer()]),b=m&&R("div",{class:Jt("bottom")},[(s=t["price-top"])==null?void 0:s.call(t),d,g,h,(c=t.bottom)==null?void 0:c.call(t)]);return R("div",{class:Jt()},[R("div",{class:Jt("header")},[o(),R("div",{class:Jt("content",{centered:e.centered})},[R("div",null,[r(),l(),(f=t.tags)==null?void 0:f.call(t)]),b])]),p])}}});const oV=Ce(iV);function sV(e,t,n){let r=0;const a=e.scrollLeft,i=n===0?1:Math.round(n*1e3/16);function o(){e.scrollLeft+=(t-a)/i,++r<i&&rn(o)}o()}function lV(e,t,n,r){let a=Vr(e);const i=a<t,o=n===0?1:Math.round(n*1e3/16),l=(t-a)/o;function u(){a+=l,(i&&a>t||!i&&a<t)&&(a=t),rl(e,a),i&&a<t||!i&&a>t?rn(u):r&&rn(r)}u()}function uV(e,t){if(!Wr||!window.IntersectionObserver)return;const n=new IntersectionObserver(i=>{t(i[0].intersectionRatio>0)},{root:document.body}),r=()=>{e.value&&n.observe(e.value)},a=()=>{e.value&&n.unobserve(e.value)};Gr(a),Bn(a),xi(r)}const[cV,dV]=ve("sticky"),fV={zIndex:pe,position:we("top"),container:Object,offsetTop:Pe(0),offsetBottom:Pe(0)};var hV=ee({name:cV,props:fV,emits:["scroll","change"],setup(e,{emit:t,slots:n}){const r=q(),a=$i(r),i=Me({fixed:!1,width:0,height:0,transform:0}),o=j(()=>ef(e.position==="top"?e.offsetTop:e.offsetBottom)),l=j(()=>{const{fixed:f,height:v,width:S}=i;if(f)return{width:`${S}px`,height:`${v}px`}}),u=j(()=>{if(!i.fixed)return;const f=xe(Da(e.zIndex),{width:`${i.width}px`,height:`${i.height}px`,[e.position]:`${o.value}px`});return i.transform&&(f.transform=`translate3d(0, ${i.transform}px, 0)`),f}),s=f=>t("scroll",{scrollTop:f,isFixed:i.fixed}),c=()=>{if(!r.value||yi(r))return;const{container:f,position:v}=e,S=dt(r),E=Vr(window);if(i.width=S.width,i.height=S.height,v==="top")if(f){const m=dt(f),d=m.bottom-o.value-i.height;i.fixed=o.value>S.top&&m.bottom>0,i.transform=d<0?d:0}else i.fixed=o.value>S.top;else{const{clientHeight:m}=document.documentElement;if(f){const d=dt(f),g=m-d.top-o.value-i.height;i.fixed=m-o.value<S.bottom&&m>d.top,i.transform=g<0?-g:0}else i.fixed=m-o.value<S.bottom}s(E)};return oe(()=>i.fixed,f=>t("change",f)),qr("scroll",c,{target:a}),uV(r,c),()=>{var f;return R("div",{ref:r,style:l.value},[R("div",{class:dV({fixed:i.fixed}),style:u.value},[(f=n.default)==null?void 0:f.call(n)])])}}});const KS=Ce(hV),[vV,mp]=ve("tab");var mV=ee({name:vV,props:{id:String,dot:Boolean,type:String,color:String,title:String,badge:pe,shrink:Boolean,isActive:Boolean,disabled:Boolean,controls:String,scrollable:Boolean,activeColor:String,inactiveColor:String,showZeroBadge:ce},setup(e,{slots:t}){const n=j(()=>{const a={},{type:i,color:o,disabled:l,isActive:u,activeColor:s,inactiveColor:c}=e;o&&i==="card"&&(a.borderColor=o,l||(u?a.backgroundColor=o:a.color=o));const v=u?s:c;return v&&(a.color=v),a}),r=()=>{const a=R("span",{class:mp("text",{ellipsis:!e.scrollable})},[t.title?t.title():e.title]);return e.dot||nt(e.badge)&&e.badge!==""?R(Ia,{dot:e.dot,content:e.badge,showZero:e.showZeroBadge},{default:()=>[a]}):a};return()=>R("div",{id:e.id,role:"tab",class:[mp([e.type,{grow:e.scrollable&&!e.shrink,shrink:e.shrink,active:e.isActive,disabled:e.disabled}])],style:n.value,tabindex:e.disabled?void 0:e.isActive?0:-1,"aria-selected":e.isActive,"aria-disabled":e.disabled||void 0,"aria-controls":e.controls},[r()])}});const[WS,ms]=ve("swipe"),gV={loop:ce,width:pe,height:pe,vertical:Boolean,autoplay:Pe(0),duration:Pe(500),touchable:ce,lazyRender:Boolean,initialSwipe:Pe(0),indicatorColor:String,showIndicators:ce,stopPropagation:ce},YS=Symbol(WS);var pV=ee({name:WS,props:gV,emits:["change"],setup(e,{emit:t,slots:n}){const r=q(),a=Me({rect:null,width:0,height:0,offset:0,active:0,swiping:!1}),i=rr(),{children:o,linkChildren:l}=en(YS),u=j(()=>o.length),s=j(()=>a[e.vertical?"height":"width"]),c=j(()=>e.vertical?i.deltaY.value:i.deltaX.value),f=j(()=>a.rect?(e.vertical?a.rect.height:a.rect.width)-s.value*u.value:0),v=j(()=>Math.ceil(Math.abs(f.value)/s.value)),S=j(()=>u.value*s.value),E=j(()=>(a.active+u.value)%u.value),m=j(()=>{const M=e.vertical?"vertical":"horizontal";return i.direction.value===M}),d=j(()=>{const M={transitionDuration:`${a.swiping?0:e.duration}ms`,transform:`translate${e.vertical?"Y":"X"}(${a.offset}px)`};if(s.value){const N=e.vertical?"height":"width",F=e.vertical?"width":"height";M[N]=`${S.value}px`,M[F]=e[F]?`${e[F]}px`:""}return M}),g=M=>{const{active:N}=a;return M?e.loop?Kt(N+M,-1,u.value):Kt(N+M,0,v.value):N},h=(M,N=0)=>{let F=M*s.value;e.loop||(F=Math.min(F,-f.value));let U=N-F;return e.loop||(U=Kt(U,f.value,0)),U},p=({pace:M=0,offset:N=0,emitChange:F})=>{if(u.value<=1)return;const{active:U}=a,B=g(M),K=h(B,N);if(e.loop){if(o[0]&&K!==f.value){const V=K<f.value;o[0].setOffset(V?S.value:0)}if(o[u.value-1]&&K!==0){const V=K>0;o[u.value-1].setOffset(V?-S.value:0)}}a.active=B,a.offset=K,F&&B!==U&&t("change",E.value)},b=()=>{a.swiping=!0,a.active<=-1?p({pace:u.value}):a.active>=u.value&&p({pace:-u.value})},y=()=>{b(),i.reset(),ga(()=>{a.swiping=!1,p({pace:-1,emitChange:!0})})},C=()=>{b(),i.reset(),ga(()=>{a.swiping=!1,p({pace:1,emitChange:!0})})};let w;const k=()=>clearTimeout(w),_=()=>{k(),e.autoplay>0&&u.value>1&&(w=setTimeout(()=>{C(),_()},+e.autoplay))},T=(M=+e.initialSwipe)=>{if(!r.value)return;const N=()=>{var F,U;if(!yi(r)){const B={width:r.value.offsetWidth,height:r.value.offsetHeight};a.rect=B,a.width=+((F=e.width)!=null?F:B.width),a.height=+((U=e.height)!=null?U:B.height)}u.value&&(M=Math.min(u.value-1,M)),a.active=M,a.swiping=!0,a.offset=h(M),o.forEach(B=>{B.setOffset(0)}),_()};yi(r)?Re().then(N):N()},O=()=>T(a.active);let A;const P=M=>{!e.touchable||(i.start(M),A=Date.now(),k(),b())},D=M=>{e.touchable&&a.swiping&&(i.move(M),m.value&&(Ct(M,e.stopPropagation),p({offset:c.value})))},I=()=>{if(!e.touchable||!a.swiping)return;const M=Date.now()-A,N=c.value/M;if((Math.abs(N)>.25||Math.abs(c.value)>s.value/2)&&m.value){const U=e.vertical?i.offsetY.value:i.offsetX.value;let B=0;e.loop?B=U>0?c.value>0?-1:1:0:B=-Math[c.value>0?"ceil":"floor"](c.value/s.value),p({pace:B,emitChange:!0})}else c.value&&p({pace:0});a.swiping=!1,_()},x=(M,N={})=>{b(),i.reset(),ga(()=>{let F;e.loop&&M===u.value?F=a.active===0?0:M:F=M%u.value,N.immediate?ga(()=>{a.swiping=!1}):a.swiping=!1,p({pace:F-a.active,emitChange:!0})})},L=(M,N)=>{const F=N===E.value,U=F?{backgroundColor:e.indicatorColor}:void 0;return R("i",{style:U,class:ms("indicator",{active:F})},null)},$=()=>{if(n.indicator)return n.indicator({active:E.value,total:u.value});if(e.showIndicators&&u.value>1)return R("div",{class:ms("indicators",{vertical:e.vertical})},[Array(u.value).fill("").map(L)])};return ot({prev:y,next:C,state:a,resize:O,swipeTo:x}),l({size:s,props:e,count:u,activeIndicator:E}),oe(()=>e.initialSwipe,M=>T(+M)),oe(u,()=>T(a.active)),oe(()=>e.autoplay,_),oe([Nl,bi],O),oe(w5(),M=>{M==="visible"?_():k()}),tt(T),wa(()=>T(a.active)),of(()=>T(a.active)),Gr(k),Bn(k),()=>{var M;return R("div",{ref:r,class:ms()},[R("div",{style:d.value,class:ms("track",{vertical:e.vertical}),onTouchstart:P,onTouchmove:D,onTouchend:I,onTouchcancel:I},[(M=n.default)==null?void 0:M.call(n)]),$()])}}});const mf=Ce(pV),[yV,gp]=ve("tabs");var bV=ee({name:yV,props:{count:$t(Number),inited:Boolean,animated:Boolean,duration:$t(pe),swipeable:Boolean,lazyRender:Boolean,currentIndex:$t(Number)},emits:["change"],setup(e,{emit:t,slots:n}){const r=q(),a=l=>t("change",l),i=()=>{var l;const u=(l=n.default)==null?void 0:l.call(n);return e.animated||e.swipeable?R(mf,{ref:r,loop:!1,class:gp("track"),duration:+e.duration*1e3,touchable:e.swipeable,lazyRender:e.lazyRender,showIndicators:!1,onChange:a},{default:()=>[u]}):u},o=l=>{const u=r.value;u&&u.state.active!==l&&u.swipeTo(l,{immediate:!e.inited})};return oe(()=>e.currentIndex,o),tt(()=>{o(e.currentIndex)}),()=>R("div",{class:gp("content",{animated:e.animated||e.swipeable})},[i()])}});const[qS,gs]=ve("tabs"),SV={type:we("line"),color:String,border:Boolean,sticky:Boolean,shrink:Boolean,active:Pe(0),duration:Pe(.3),animated:Boolean,ellipsis:ce,swipeable:Boolean,scrollspy:Boolean,offsetTop:Pe(0),background:String,lazyRender:ce,lineWidth:pe,lineHeight:pe,beforeChange:Function,swipeThreshold:Pe(5),titleActiveColor:String,titleInactiveColor:String},XS=Symbol(qS);var TV=ee({name:qS,props:SV,emits:["click","change","scroll","disabled","rendered","click-tab","update:active"],setup(e,{emit:t,slots:n}){let r,a,i;const o=q(),l=q(),u=q(),s=Ko(),c=$i(o),[f,v]=Yl(),{children:S,linkChildren:E}=en(XS),m=Me({inited:!1,position:"",lineStyle:{},currentIndex:-1}),d=j(()=>S.length>e.swipeThreshold||!e.ellipsis||e.shrink),g=j(()=>({borderColor:e.color,background:e.background})),h=(U,B)=>{var K;return(K=U.name)!=null?K:B},p=j(()=>{const U=S[m.currentIndex];if(U)return h(U,m.currentIndex)}),b=j(()=>ef(e.offsetTop)),y=j(()=>e.sticky?b.value+r:0),C=U=>{const B=l.value,K=f.value;if(!d.value||!B||!K||!K[m.currentIndex])return;const V=K[m.currentIndex].$el,X=V.offsetLeft-(B.offsetWidth-V.offsetWidth)/2;sV(B,X,U?0:+e.duration)},w=()=>{const U=m.inited;Re(()=>{const B=f.value;if(!B||!B[m.currentIndex]||e.type!=="line"||yi(o.value))return;const K=B[m.currentIndex].$el,{lineWidth:V,lineHeight:X}=e,Z=K.offsetLeft+K.offsetWidth/2,ne={width:at(V),backgroundColor:e.color,transform:`translateX(${Z}px) translateX(-50%)`};if(U&&(ne.transitionDuration=`${e.duration}s`),nt(X)){const ae=at(X);ne.height=ae,ne.borderRadius=ae}m.lineStyle=ne})},k=U=>{const B=U<m.currentIndex?-1:1;for(;U>=0&&U<S.length;){if(!S[U].disabled)return U;U+=B}},_=U=>{const B=k(U);if(!nt(B))return;const K=S[B],V=h(K,B),X=m.currentIndex!==null;m.currentIndex=B,V!==e.active&&(t("update:active",V),X&&t("change",V,K.title))},T=U=>{const B=S.find((V,X)=>h(V,X)===U),K=B?S.indexOf(B):0;_(K)},O=(U=!1)=>{if(e.scrollspy){const B=S[m.currentIndex].$el;if(B&&c.value){const K=Jg(B,c.value)-y.value;a=!0,lV(c.value,K,U?0:+e.duration,()=>{a=!1})}}},A=(U,B,K)=>{const{title:V,disabled:X}=S[B],Z=h(S[B],B);X?t("disabled",Z,V):(Qr(e.beforeChange,{args:[Z],done:()=>{_(B),O()}}),t("click",Z,V),OS(U)),t("click-tab",{name:Z,title:V,event:K,disabled:X})},P=U=>{i=U.isFixed,t("scroll",U)},D=U=>{Re(()=>{T(U),O(!0)})},I=()=>{for(let U=0;U<S.length;U++){const{top:B}=dt(S[U].$el);if(B>y.value)return U===0?0:U-1}return S.length-1},x=()=>{if(e.scrollspy&&!a){const U=I();_(U)}},L=()=>S.map((U,B)=>R(mV,We({key:U.id,id:`${s}-${B}`,ref:v(B),type:e.type,color:e.color,style:U.titleStyle,class:U.titleClass,shrink:e.shrink,isActive:B===m.currentIndex,controls:U.id,scrollable:d.value,activeColor:e.titleActiveColor,inactiveColor:e.titleInactiveColor,onClick:K=>A(U,B,K)},ht(U,["dot","badge","title","disabled","showZeroBadge"])),{title:U.$slots.title})),$=()=>{if(e.type==="line"&&S.length)return R("div",{class:gs("line"),style:m.lineStyle},null)},M=()=>{var U,B;const{type:K,border:V}=e;return R("div",{ref:u,class:[gs("wrap"),{[jl]:K==="line"&&V}]},[R("div",{ref:l,role:"tablist",class:gs("nav",[K,{shrink:e.shrink,complete:d.value}]),style:g.value,"aria-orientation":"horizontal"},[(U=n["nav-left"])==null?void 0:U.call(n),L(),$(),(B=n["nav-right"])==null?void 0:B.call(n)])])};oe([()=>e.color,Nl],w),oe(()=>e.active,U=>{U!==p.value&&T(U)}),oe(()=>S.length,()=>{m.inited&&(T(e.active),w(),Re(()=>{C(!0)}))}),oe(()=>m.currentIndex,()=>{C(),w(),i&&!e.scrollspy&&Bl(Math.ceil(Jg(o.value)-b.value))});const N=()=>{T(e.active),Re(()=>{m.inited=!0,u.value&&(r=dt(u.value).height),C(!0)})},F=(U,B)=>t("rendered",U,B);return ot({resize:w,scrollTo:D}),wa(w),of(w),xi(N),qr("scroll",x,{target:c}),E({id:s,props:e,setLine:w,onRendered:F,currentName:p,scrollIntoView:C}),()=>{var U;return R("div",{ref:o,class:gs([e.type])},[e.sticky?R(KS,{container:o.value,offsetTop:b.value,onScroll:P},{default:()=>{var B;return[M(),(B=n["nav-bottom"])==null?void 0:B.call(n)]}}):[M(),(U=n["nav-bottom"])==null?void 0:U.call(n)],R(bV,{count:S.length,inited:m.inited,animated:e.animated,duration:e.duration,swipeable:e.swipeable,lazyRender:e.lazyRender,currentIndex:m.currentIndex,onChange:_},{default:()=>{var B;return[(B=n.default)==null?void 0:B.call(n)]}})])}}});const ZS=Symbol(),CV=()=>Qe(ZS,null),[EV,wV]=ve("swipe-item");var OV=ee({name:EV,setup(e,{slots:t}){let n;const r=Me({offset:0,inited:!1,mounted:!1}),{parent:a,index:i}=Zt(YS);if(!a)return;const o=j(()=>{const s={},{vertical:c}=a.props;return a.size.value&&(s[c?"height":"width"]=`${a.size.value}px`),r.offset&&(s.transform=`translate${c?"Y":"X"}(${r.offset}px)`),s}),l=j(()=>{const{loop:s,lazyRender:c}=a.props;if(!c||n)return!0;if(!r.mounted)return!1;const f=a.activeIndicator.value,v=a.count.value-1,S=f===0&&s?v:f-1,E=f===v&&s?0:f+1;return n=i.value===f||i.value===S||i.value===E,n}),u=s=>{r.offset=s};return tt(()=>{Re(()=>{r.mounted=!0})}),ot({setOffset:u}),()=>{var s;return R("div",{class:wV(),style:o.value},[l.value?(s=t.default)==null?void 0:s.call(t):null])}}});const gf=Ce(OV),[kV,Bu]=ve("tab"),_V=xe({},ea,{dot:Boolean,name:pe,badge:pe,title:String,disabled:Boolean,titleClass:vt,titleStyle:[String,Object],showZeroBadge:ce});var AV=ee({name:kV,props:_V,setup(e,{slots:t}){const n=Ko(),r=q(!1),{parent:a,index:i}=Zt(XS);if(!a)return;const o=()=>{var s;return(s=e.name)!=null?s:i.value},l=()=>{r.value=!0,a.props.lazyRender&&Re(()=>{a.onRendered(o(),e.title)})},u=j(()=>{const s=o()===a.currentName.value;return s&&!r.value&&l(),s});return oe(()=>e.title,()=>{a.setLine(),a.scrollIntoView()}),ct(ZS,u),()=>{var s;const c=`${a.id}-${i.value}`,{animated:f,swipeable:v,scrollspy:S,lazyRender:E}=a.props;if(!t.default&&!f)return;const m=S||u.value;if(f||v)return R(gf,{id:n,role:"tabpanel",class:Bu("panel-wrapper",{inactive:!u.value}),tabindex:u.value?0:-1,"aria-hidden":!u.value,"aria-labelledby":c},{default:()=>{var h;return[R("div",{class:Bu("panel")},[(h=t.default)==null?void 0:h.call(t)])]}});const g=r.value||S||!E?(s=t.default)==null?void 0:s.call(t):null;return ot({id:n}),Ge(R("div",{id:n,role:"tabpanel",class:Bu("panel"),tabindex:m?0:-1,"aria-labelledby":c},[g]),[[qe,m]])}}});const sl=Ce(AV),pf=Ce(TV),[DV,ur,PV]=ve("cascader"),IV={title:String,options:Ut(),closeable:ce,swipeable:ce,closeIcon:we("cross"),showHeader:ce,modelValue:pe,fieldNames:Object,placeholder:String,activeColor:String};var LV=ee({name:DV,props:IV,emits:["close","change","finish","click-tab","update:modelValue"],setup(e,{slots:t,emit:n}){const r=q([]),a=q(0),{text:i,value:o,children:l}=xe({text:"text",value:"value",children:"children"},e.fieldNames),u=(h,p)=>{for(const b of h){if(b[o]===p)return[b];if(b[l]){const y=u(b[l],p);if(y)return[b,...y]}}},s=()=>{const{options:h,modelValue:p}=e;if(p!==void 0){const b=u(h,p);if(b){let y=h;r.value=b.map(C=>{const w={options:y,selected:C},k=y.find(_=>_[o]===C[o]);return k&&(y=k[l]),w}),y&&r.value.push({options:y,selected:null}),Re(()=>{a.value=r.value.length-1});return}}r.value=[{options:h,selected:null}]},c=(h,p)=>{if(h.disabled)return;if(r.value[p].selected=h,r.value.length>p+1&&(r.value=r.value.slice(0,p+1)),h[l]){const C={options:h[l],selected:null};r.value[p+1]?r.value[p+1]=C:r.value.push(C),Re(()=>{a.value++})}const b=r.value.map(C=>C.selected).filter(Boolean);n("update:modelValue",h[o]);const y={value:h[o],tabIndex:p,selectedOptions:b};n("change",y),h[l]||n("finish",y)},f=()=>n("close"),v=({name:h,title:p})=>n("click-tab",h,p),S=()=>e.showHeader?R("div",{class:ur("header")},[R("h2",{class:ur("title")},[t.title?t.title():e.title]),e.closeable?R(Ke,{name:e.closeIcon,class:[ur("close-icon"),an],onClick:f},null):null]):null,E=(h,p,b)=>{const{disabled:y}=h,C=!!(p&&h[o]===p[o]),w=h.color||(C?e.activeColor:void 0),k=t.option?t.option({option:h,selected:C}):R("span",null,[h[i]]);return R("li",{role:"menuitemradio",class:[ur("option",{selected:C,disabled:y}),h.className],style:{color:w},tabindex:y?void 0:C?0:-1,"aria-checked":C,"aria-disabled":y||void 0,onClick:()=>c(h,b)},[k,C?R(Ke,{name:"success",class:ur("selected-icon")},null):null])},m=(h,p,b)=>R("ul",{role:"menu",class:ur("options")},[h.map(y=>E(y,p,b))]),d=(h,p)=>{const{options:b,selected:y}=h,C=e.placeholder||PV("select"),w=y?y[i]:C;return R(sl,{title:w,titleClass:ur("tab",{unselected:!y})},{default:()=>{var k,_;return[(k=t["options-top"])==null?void 0:k.call(t,{tabIndex:p}),m(b,y,p),(_=t["options-bottom"])==null?void 0:_.call(t,{tabIndex:p})]}})},g=()=>R(pf,{active:a.value,"onUpdate:active":h=>a.value=h,shrink:!0,animated:!0,class:ur("tabs"),color:e.activeColor,swipeable:e.swipeable,"onClick-tab":v},{default:()=>[r.value.map(d)]});return s(),oe(()=>e.options,s,{deep:!0}),oe(()=>e.modelValue,h=>{h!==void 0&&r.value.map(b=>{var y;return(y=b.selected)==null?void 0:y[o]}).includes(h)||s()}),()=>R("div",{class:ur()},[S(),g()])}});const RV=Ce(LV),[xV,pp]=ve("cell-group"),$V={title:String,inset:Boolean,border:ce};var MV=ee({name:xV,inheritAttrs:!1,props:$V,setup(e,{slots:t,attrs:n}){const r=()=>{var i;return R("div",We({class:[pp({inset:e.inset}),{[jl]:e.border&&!e.inset}]},n),[(i=t.default)==null?void 0:i.call(t)])},a=()=>R("div",{class:pp("title",{inset:e.inset})},[t.title?t.title():e.title]);return()=>e.title||t.title?R(Te,null,[a(),r()]):r()}});const FV=Ce(MV),[JS,BV]=ve("checkbox-group"),NV={max:pe,disabled:Boolean,iconSize:pe,direction:String,modelValue:Ut(),checkedColor:String},QS=Symbol(JS);var jV=ee({name:JS,props:NV,emits:["change","update:modelValue"],setup(e,{emit:t,slots:n}){const{children:r,linkChildren:a}=en(QS),i=l=>t("update:modelValue",l),o=(l={})=>{typeof l=="boolean"&&(l={checked:l});const{checked:u,skipDisabled:s}=l,f=r.filter(v=>v.props.bindGroup?v.props.disabled&&s?v.checked.value:u!=null?u:!v.checked.value:!1).map(v=>v.name);i(f)};return oe(()=>e.modelValue,l=>t("change",l)),ot({toggleAll:o}),Xr(()=>e.modelValue),a({props:e,updateValue:i}),()=>{var l;return R("div",{class:BV([e.direction])},[(l=n.default)==null?void 0:l.call(n)])}}});const[UV,VV]=ve("checkbox"),HV=xe({},ff,{bindGroup:ce});var zV=ee({name:UV,props:HV,emits:["change","update:modelValue"],setup(e,{emit:t,slots:n}){const{parent:r}=Zt(QS),a=l=>{const{name:u}=e,{max:s,modelValue:c}=r.props,f=c.slice();if(l)!(s&&f.length>=s)&&!f.includes(u)&&(f.push(u),e.bindGroup&&r.updateValue(f));else{const v=f.indexOf(u);v!==-1&&(f.splice(v,1),e.bindGroup&&r.updateValue(f))}},i=j(()=>r&&e.bindGroup?r.props.modelValue.indexOf(e.name)!==-1:!!e.modelValue),o=(l=!i.value)=>{r&&e.bindGroup?a(l):t("update:modelValue",l)};return oe(()=>e.modelValue,l=>t("change",l)),ot({toggle:o,props:e,checked:i}),Xr(()=>e.modelValue),()=>R(NS,We({bem:VV,role:"checkbox",parent:r,checked:i.value,onToggle:o},e),ht(n,["default","icon"]))}});const eT=Ce(zV),GV=Ce(jV),[KV,ps]=ve("circle");let WV=0;const yp=e=>Math.min(Math.max(+e,0),100);function YV(e,t){const n=e?1:0;return`M ${t/2} ${t/2} m 0, -500 a 500, 500 0 1, ${n} 0, 1000 a 500, 500 0 1, ${n} 0, -1000`}const qV={text:String,size:pe,fill:we("none"),rate:Pe(100),speed:Pe(0),color:[String,Object],clockwise:ce,layerColor:String,currentRate:tr(0),strokeWidth:Pe(40),strokeLinecap:String,startPosition:we("top")};var XV=ee({name:KV,props:qV,emits:["update:currentRate"],setup(e,{emit:t,slots:n}){const r=`van-circle-${WV++}`,a=j(()=>+e.strokeWidth+1e3),i=j(()=>YV(e.clockwise,a.value)),o=j(()=>{const v={top:0,right:90,bottom:180,left:270}[e.startPosition];if(v)return{transform:`rotate(${v}deg)`}});oe(()=>e.rate,f=>{let v;const S=Date.now(),E=e.currentRate,m=yp(f),d=Math.abs((E-m)*1e3/+e.speed),g=()=>{const h=Date.now(),b=Math.min((h-S)/d,1)*(m-E)+E;t("update:currentRate",yp(parseFloat(b.toFixed(1)))),(m>E?b<m:b>m)&&(v=rn(g))};e.speed?(v&&uS(v),v=rn(g)):t("update:currentRate",m)},{immediate:!0});const l=()=>{const{strokeWidth:v,currentRate:S,strokeLinecap:E}=e,m=3140*S/100,d=On(e.color)?`url(#${r})`:e.color,g={stroke:d,strokeWidth:`${+v+1}px`,strokeLinecap:E,strokeDasharray:`${m}px ${3140}px`};return R("path",{d:i.value,style:g,class:ps("hover"),stroke:d},null)},u=()=>{const f={fill:e.fill,stroke:e.layerColor,strokeWidth:`${e.strokeWidth}px`};return R("path",{class:ps("layer"),style:f,d:i.value},null)},s=()=>{const{color:f}=e;if(!On(f))return;const v=Object.keys(f).sort((S,E)=>parseFloat(S)-parseFloat(E)).map((S,E)=>R("stop",{key:E,offset:S,"stop-color":f[S]},null));return R("defs",null,[R("linearGradient",{id:r,x1:"100%",y1:"0%",x2:"0%",y2:"0%"},[v])])},c=()=>{if(n.default)return n.default();if(e.text)return R("div",{class:ps("text")},[e.text])};return()=>R("div",{class:ps(),style:Zr(e.size)},[R("svg",{viewBox:`0 0 ${a.value} ${a.value}`,style:o.value},[s(),u(),l()]),c()])}});const ZV=Ce(XV),[tT,JV]=ve("row"),nT=Symbol(tT),QV={tag:we("div"),wrap:ce,align:String,gutter:Pe(0),justify:String};var e6=ee({name:tT,props:QV,setup(e,{slots:t}){const{children:n,linkChildren:r}=en(nT),a=j(()=>{const o=[[]];let l=0;return n.forEach((u,s)=>{l+=Number(u.span),l>24?(o.push([s]),l-=24):o[o.length-1].push(s)}),o}),i=j(()=>{const o=Number(e.gutter),l=[];return o&&a.value.forEach(u=>{const s=o*(u.length-1)/u.length;u.forEach((c,f)=>{if(f===0)l.push({right:s});else{const v=o-l[c-1].right,S=s-v;l.push({left:v,right:S})}})}),l});return r({spaces:i}),()=>{const{tag:o,wrap:l,align:u,justify:s}=e;return R(o,{class:JV({[`align-${u}`]:u,[`justify-${s}`]:s,nowrap:!l})},{default:()=>{var c;return[(c=t.default)==null?void 0:c.call(t)]}})}}});const[t6,n6]=ve("col"),r6={tag:we("div"),span:Pe(0),offset:pe};var a6=ee({name:t6,props:r6,setup(e,{slots:t}){const{parent:n,index:r}=Zt(nT),a=j(()=>{if(!n)return;const{spaces:i}=n;if(i&&i.value&&i.value[r.value]){const{left:o,right:l}=i.value[r.value];return{paddingLeft:o?`${o}px`:null,paddingRight:l?`${l}px`:null}}});return()=>{const{tag:i,span:o,offset:l}=e;return R(i,{style:a.value,class:n6({[o]:o,[`offset-${l}`]:l})},{default:()=>{var u;return[(u=t.default)==null?void 0:u.call(t)]}})}}});const i6=Ce(a6),[rT,o6]=ve("collapse"),aT=Symbol(rT),s6={border:ce,accordion:Boolean,modelValue:{type:[String,Number,Array],default:""}};var l6=ee({name:rT,props:s6,emits:["change","update:modelValue"],setup(e,{emit:t,slots:n}){const{linkChildren:r}=en(aT),a=l=>{t("change",l),t("update:modelValue",l)};return r({toggle:(l,u)=>{const{accordion:s,modelValue:c}=e;a(s?l===c?"":l:u?c.concat(l):c.filter(f=>f!==l))},isExpanded:l=>{const{accordion:u,modelValue:s}=e;return u?s===l:s.includes(l)}}),()=>{var l;return R("div",{class:[o6(),{[jl]:e.border}]},[(l=n.default)==null?void 0:l.call(n)])}}});const u6=Ce(l6),[c6,ys]=ve("collapse-item"),d6=["icon","title","value","label","right-icon"],f6=xe({},Hl,{name:pe,isLink:ce,disabled:Boolean,readonly:Boolean,lazyRender:ce});var h6=ee({name:c6,props:f6,setup(e,{slots:t}){const n=q(),r=q(),{parent:a,index:i}=Zt(aT);if(!a)return;const o=j(()=>{var m;return(m=e.name)!=null?m:i.value}),l=j(()=>a.isExpanded(o.value)),u=q(l.value),s=af(()=>u.value||!e.lazyRender),c=()=>{l.value?n.value&&(n.value.style.height=""):u.value=!1};oe(l,(m,d)=>{if(d===null)return;m&&(u.value=!0),(m?Re:rn)(()=>{if(!r.value||!n.value)return;const{offsetHeight:h}=r.value;if(h){const p=`${h}px`;n.value.style.height=m?"0":p,ga(()=>{n.value&&(n.value.style.height=m?p:"0")})}else c()})});const f=(m=!l.value)=>{a.toggle(o.value,m)},v=()=>{!e.disabled&&!e.readonly&&f()},S=()=>{const{border:m,disabled:d,readonly:g}=e,h=ht(e,Object.keys(Hl));return g&&(h.isLink=!1),(d||g)&&(h.clickable=!1),R(Hn,We({role:"button",class:ys("title",{disabled:d,expanded:l.value,borderless:!m}),"aria-expanded":String(l.value),onClick:v},h),ht(t,d6))},E=s(()=>{var m;return Ge(R("div",{ref:n,class:ys("wrapper"),onTransitionend:c},[R("div",{ref:r,class:ys("content")},[(m=t.default)==null?void 0:m.call(t)])]),[[qe,u.value]])});return ot({toggle:f}),()=>R("div",{class:[ys({border:i.value&&e.border})]},[S(),E()])}});const v6=Ce(h6),m6=Ce(q5),[g6,bp,Nu]=ve("contact-card"),p6={tel:String,name:String,type:we("add"),addText:String,editable:ce};var y6=ee({name:g6,props:p6,emits:["click"],setup(e,{emit:t}){const n=a=>{e.editable&&t("click",a)},r=()=>e.type==="add"?e.addText||Nu("addContact"):[R("div",null,[`${Nu("name")}\uFF1A${e.name}`]),R("div",null,[`${Nu("tel")}\uFF1A${e.tel}`])];return()=>R(Hn,{center:!0,icon:e.type==="edit"?"contact":"add-square",class:bp([e.type]),border:!1,isLink:e.editable,valueClass:bp("value"),onClick:n},{value:r})}});const b6=Ce(y6),[S6,za,Dr]=ve("contact-edit"),qc={tel:"",name:""},T6={isEdit:Boolean,isSaving:Boolean,isDeleting:Boolean,showSetDefault:Boolean,setDefaultLabel:String,contactInfo:{type:Object,default:()=>xe({},qc)},telValidator:{type:Function,default:hS}};var C6=ee({name:S6,props:T6,emits:["save","delete","change-default"],setup(e,{emit:t}){const n=Me(xe({},qc,e.contactInfo)),r=()=>{e.isSaving||t("save",n)},a=()=>t("delete",n),i=()=>R("div",{class:za("buttons")},[R(on,{block:!0,round:!0,type:"danger",text:Dr("save"),class:za("button"),loading:e.isSaving,nativeType:"submit"},null),e.isEdit&&R(on,{block:!0,round:!0,text:Dr("delete"),class:za("button"),loading:e.isDeleting,onClick:a},null)]),o=()=>R(cf,{modelValue:n.isDefault,"onUpdate:modelValue":u=>n.isDefault=u,size:24,onChange:u=>t("change-default",u)},null),l=()=>{if(e.showSetDefault)return R(Hn,{title:e.setDefaultLabel,class:za("switch-cell"),border:!1},{"right-icon":o})};return oe(()=>e.contactInfo,u=>xe(n,qc,u)),()=>R(sf,{class:za(),onSubmit:r},{default:()=>[R("div",{class:za("fields")},[R(er,{modelValue:n.name,"onUpdate:modelValue":u=>n.name=u,clearable:!0,label:Dr("name"),rules:[{required:!0,message:Dr("nameEmpty")}],maxlength:"30",placeholder:Dr("name")},null),R(er,{modelValue:n.tel,"onUpdate:modelValue":u=>n.tel=u,clearable:!0,type:"tel",label:Dr("tel"),rules:[{validator:e.telValidator,message:Dr("telInvalid")}],placeholder:Dr("tel")},null)]),l(),i()]})}});const E6=Ce(C6),[w6,cr,O6]=ve("contact-list"),k6={list:Array,addText:String,modelValue:vt,defaultTagText:String};var _6=ee({name:w6,props:k6,emits:["add","edit","select","update:modelValue"],setup(e,{emit:t}){const n=(r,a)=>{const i=()=>{t("update:modelValue",r.id),t("select",r,a)},o=()=>R(hf,{class:cr("radio"),name:r.id,iconSize:16},null),l=()=>R(Ke,{name:"edit",class:cr("edit"),onClick:s=>{s.stopPropagation(),t("edit",r,a)}},null),u=()=>{const s=[`${r.name}\uFF0C${r.tel}`];return r.isDefault&&e.defaultTagText&&s.push(R(Wl,{type:"danger",round:!0,class:cr("item-tag")},{default:()=>[e.defaultTagText]})),s};return R(Hn,{key:r.id,isLink:!0,center:!0,class:cr("item"),valueClass:cr("item-value"),onClick:i},{icon:l,value:u,"right-icon":o})};return()=>R("div",{class:cr()},[R(df,{modelValue:e.modelValue,class:cr("group")},{default:()=>[e.list&&e.list.map(n)]}),R("div",{class:[cr("bottom"),"van-safe-area-bottom"]},[R(on,{round:!0,block:!0,type:"danger",class:cr("add"),text:e.addText||O6("addContact"),onClick:()=>t("add")},null)])])}});const A6=Ce(_6);function D6(e,t){const{days:n}=t;let{hours:r,minutes:a,seconds:i,milliseconds:o}=t;if(e.includes("DD")?e=e.replace("DD",Gt(n)):r+=n*24,e.includes("HH")?e=e.replace("HH",Gt(r)):a+=r*60,e.includes("mm")?e=e.replace("mm",Gt(a)):i+=a*60,e.includes("ss")?e=e.replace("ss",Gt(i)):o+=i*1e3,e.includes("S")){const l=Gt(o,3);e.includes("SSS")?e=e.replace("SSS",l):e.includes("SS")?e=e.replace("SS",l.slice(0,2)):e=e.replace("S",l.charAt(0))}return e}const[P6,I6]=ve("count-down"),L6={time:Pe(0),format:we("HH:mm:ss"),autoStart:ce,millisecond:Boolean};var R6=ee({name:P6,props:L6,emits:["change","finish"],setup(e,{emit:t,slots:n}){const{start:r,pause:a,reset:i,current:o}=S5({time:+e.time,millisecond:e.millisecond,onChange:s=>t("change",s),onFinish:()=>t("finish")}),l=j(()=>D6(e.format,o.value)),u=()=>{i(+e.time),e.autoStart&&r()};return oe(()=>e.time,u,{immediate:!0}),ot({start:r,pause:a,reset:u}),()=>R("div",{role:"timer",class:I6()},[n.default?n.default(o.value):l.value])}});const x6=Ce(R6);function Sp(e){const t=new Date(e*1e3);return`${t.getFullYear()}.${Gt(t.getMonth()+1)}.${Gt(t.getDate())}`}const $6=e=>(e/10).toFixed(e%10===0?0:1),Tp=e=>(e/100).toFixed(e%100===0?0:e%10===0?1:2),[M6,qn,ju]=ve("coupon");var F6=ee({name:M6,props:{chosen:Boolean,coupon:$t(Object),disabled:Boolean,currency:we("\xA5")},setup(e){const t=j(()=>{const{startAt:a,endAt:i}=e.coupon;return`${Sp(a)} - ${Sp(i)}`}),n=j(()=>{const{coupon:a,currency:i}=e;if(a.valueDesc)return[a.valueDesc,R("span",null,[a.unitDesc||""])];if(a.denominations){const o=Tp(a.denominations);return[R("span",null,[i]),` ${o}`]}return a.discount?ju("discount",$6(a.discount)):""}),r=j(()=>{const a=Tp(e.coupon.originCondition||0);return a==="0"?ju("unlimited"):ju("condition",a)});return()=>{const{chosen:a,coupon:i,disabled:o}=e,l=o&&i.reason||i.description;return R("div",{class:qn({disabled:o})},[R("div",{class:qn("content")},[R("div",{class:qn("head")},[R("h2",{class:qn("amount")},[n.value]),R("p",{class:qn("condition")},[i.condition||r.value])]),R("div",{class:qn("body")},[R("p",{class:qn("name")},[i.name]),R("p",{class:qn("valid")},[t.value]),!o&&R(eT,{class:qn("corner"),modelValue:a},null)])]),l&&R("p",{class:qn("description")},[l])])}}});const Xc=Ce(F6),[B6,Cp,Zc]=ve("coupon-cell"),N6={title:String,border:ce,editable:ce,coupons:Ut(),currency:we("\xA5"),chosenCoupon:Pe(-1)};function j6({coupons:e,chosenCoupon:t,currency:n}){const r=e[+t];if(r){let a=0;return nt(r.value)?{value:a}=r:nt(r.denominations)&&(a=r.denominations),`-${n} ${(a/100).toFixed(2)}`}return e.length===0?Zc("noCoupon"):Zc("count",e.length)}var U6=ee({name:B6,props:N6,setup(e){return()=>{const t=e.coupons[+e.chosenCoupon];return R(Hn,{class:Cp(),value:j6(e),title:e.title||Zc("title"),border:e.border,isLink:e.editable,valueClass:Cp("value",{selected:t})},null)}}});const V6=Ce(U6),qt=e=>`van-empty-${e}`,_t=e=>`url(#${qt(e)})`,nn=(e,t,n)=>R("stop",{"stop-color":e,offset:`${t}%`,"stop-opacity":n},null),mr=(e,t)=>[nn(e,0),nn(t,100)],iT=e=>[R("defs",null,[R("radialGradient",{id:qt(e),cx:"50%",cy:"54%",fx:"50%",fy:"54%",r:"297%",gradientTransform:"matrix(-.16 0 0 -.33 .58 .72)"},[nn("#EBEDF0",0),nn("#F2F3F5",100,.3)])]),R("ellipse",{fill:_t(e),opacity:".8",cx:"80",cy:"140",rx:"46",ry:"8"},null)],Xl=()=>[R("defs",null,[R("linearGradient",{id:qt("a"),x1:"64%",y1:"100%",x2:"64%"},[nn("#FFF",0,.5),nn("#F2F3F5",100)])]),R("g",{opacity:".8"},[R("path",{d:"M36 131V53H16v20H2v58h34z",fill:_t("a")},null),R("path",{d:"M123 15h22v14h9v77h-31V15z",fill:_t("a")},null)])],yf=()=>[R("defs",null,[R("linearGradient",{id:qt("b"),x1:"64%",y1:"97%",x2:"64%",y2:"0%"},[nn("#F2F3F5",0,.3),nn("#F2F3F5",100)])]),R("g",{opacity:".8"},[R("path",{d:"M87 6c3 0 7 3 8 6a8 8 0 1 1-1 16H80a7 7 0 0 1-8-6c0-4 3-7 6-7 0-5 4-9 9-9Z",fill:_t("b")},null),R("path",{d:"M19 23c2 0 3 1 4 3 2 0 4 2 4 4a4 4 0 0 1-4 3v1h-7v-1l-1 1c-2 0-3-2-3-4 0-1 1-3 3-3 0-2 2-4 4-4Z",fill:_t("b")},null)])],H6=()=>R("svg",{viewBox:"0 0 160 160"},[R("defs",null,[R("linearGradient",{id:qt(1),x1:"64%",y1:"100%",x2:"64%"},[nn("#FFF",0,.5),nn("#F2F3F5",100)]),R("linearGradient",{id:qt(2),x1:"50%",x2:"50%",y2:"84%"},[nn("#EBEDF0",0),nn("#DCDEE0",100,0)]),R("linearGradient",{id:qt(3),x1:"100%",x2:"100%",y2:"100%"},[mr("#EAEDF0","#DCDEE0")]),R("radialGradient",{id:qt(4),cx:"50%",cy:"0%",fx:"50%",fy:"0%",r:"100%",gradientTransform:"matrix(0 1 -.54 0 .5 -.5)"},[nn("#EBEDF0",0),nn("#FFF",100,0)])]),R("g",{fill:"none"},[Xl(),R("path",{fill:_t(4),d:"M0 139h160v21H0z"},null),R("path",{d:"M80 54a7 7 0 0 1 3 13v27l-2 2h-2a2 2 0 0 1-2-2V67a7 7 0 0 1 3-13z",fill:_t(2)},null),R("g",{opacity:".6","stroke-linecap":"round","stroke-width":"7"},[R("path",{d:"M64 47a19 19 0 0 0-5 13c0 5 2 10 5 13",stroke:_t(3)},null),R("path",{d:"M53 36a34 34 0 0 0 0 48",stroke:_t(3)},null),R("path",{d:"M95 73a19 19 0 0 0 6-13c0-5-2-9-6-13",stroke:_t(3)},null),R("path",{d:"M106 84a34 34 0 0 0 0-48",stroke:_t(3)},null)]),R("g",{transform:"translate(31 105)"},[R("rect",{fill:"#EBEDF0",width:"98",height:"34",rx:"2"},null),R("rect",{fill:"#FFF",x:"9",y:"8",width:"80",height:"18",rx:"1.1"},null),R("rect",{fill:"#EBEDF0",x:"15",y:"12",width:"18",height:"6",rx:"1.1"},null)])])]),z6=()=>R("svg",{viewBox:"0 0 160 160"},[R("defs",null,[R("linearGradient",{x1:"50%",x2:"50%",y2:"100%",id:qt(5)},[mr("#F2F3F5","#DCDEE0")]),R("linearGradient",{x1:"95%",y1:"48%",x2:"5.5%",y2:"51%",id:qt(6)},[mr("#EAEDF1","#DCDEE0")]),R("linearGradient",{y1:"45%",x2:"100%",y2:"54%",id:qt(7)},[mr("#EAEDF1","#DCDEE0")])]),Xl(),yf(),R("g",{transform:"translate(36 50)",fill:"none"},[R("g",{transform:"translate(8)"},[R("rect",{fill:"#EBEDF0",opacity:".6",x:"38",y:"13",width:"36",height:"53",rx:"2"},null),R("rect",{fill:_t(5),width:"64",height:"66",rx:"2"},null),R("rect",{fill:"#FFF",x:"6",y:"6",width:"52",height:"55",rx:"1"},null),R("g",{transform:"translate(15 17)",fill:_t(6)},[R("rect",{width:"34",height:"6",rx:"1"},null),R("path",{d:"M0 14h34v6H0z"},null),R("rect",{y:"28",width:"34",height:"6",rx:"1"},null)])]),R("rect",{fill:_t(7),y:"61",width:"88",height:"28",rx:"1"},null),R("rect",{fill:"#F7F8FA",x:"29",y:"72",width:"30",height:"6",rx:"1"},null)])]),G6=()=>R("svg",{viewBox:"0 0 160 160"},[R("defs",null,[R("linearGradient",{x1:"50%",x2:"50%",y2:"100%",id:qt(8)},[mr("#EAEDF1","#DCDEE0")])]),Xl(),yf(),iT("c"),R("path",{d:"m59 60 21 21 21-21h3l9 9v3L92 93l21 21v3l-9 9h-3l-21-21-21 21h-3l-9-9v-3l21-21-21-21v-3l9-9h3Z",fill:_t(8)},null)]),K6=()=>R("svg",{viewBox:"0 0 160 160"},[R("defs",null,[R("linearGradient",{x1:"50%",y1:"100%",x2:"50%",id:qt(9)},[mr("#EEE","#D8D8D8")]),R("linearGradient",{x1:"100%",y1:"50%",y2:"50%",id:qt(10)},[mr("#F2F3F5","#DCDEE0")]),R("linearGradient",{x1:"50%",x2:"50%",y2:"100%",id:qt(11)},[mr("#F2F3F5","#DCDEE0")]),R("linearGradient",{x1:"50%",x2:"50%",y2:"100%",id:qt(12)},[mr("#FFF","#F7F8FA")])]),Xl(),yf(),iT("d"),R("g",{transform:"rotate(-45 113 -4)",fill:"none"},[R("rect",{fill:_t(9),x:"24",y:"52.8",width:"5.8",height:"19",rx:"1"},null),R("rect",{fill:_t(10),x:"22.1",y:"67.3",width:"9.9",height:"28",rx:"1"},null),R("circle",{stroke:_t(11),"stroke-width":"8",cx:"27",cy:"27",r:"27"},null),R("circle",{fill:_t(12),cx:"27",cy:"27",r:"16"},null),R("path",{d:"M37 7c-8 0-15 5-16 12",stroke:_t(11),"stroke-width":"3",opacity:".5","stroke-linecap":"round",transform:"rotate(45 29 13)"},null)])]),[W6,bs]=ve("empty"),Ep={error:G6,search:K6,network:H6,default:z6},Y6={image:we("default"),imageSize:[Number,String,Array],description:String};var q6=ee({name:W6,props:Y6,setup(e,{slots:t}){const n=()=>{var i;return t.image?t.image():((i=Ep[e.image])==null?void 0:i.call(Ep))||R("img",{src:e.image},null)},r=()=>{const i=t.description?t.description():e.description;if(i)return R("p",{class:bs("description")},[i])},a=()=>{if(t.default)return R("div",{class:bs("bottom")},[t.default()])};return()=>R("div",{class:bs()},[R("div",{class:bs("image"),style:Zr(e.imageSize)},[n()]),r(),a()])}});const oT=Ce(q6),[X6,Xn,Ga]=ve("coupon-list"),Z6={code:we(""),coupons:Ut(),currency:we("\xA5"),showCount:ce,emptyImage:String,chosenCoupon:tr(-1),enabledTitle:String,disabledTitle:String,disabledCoupons:Ut(),showExchangeBar:ce,showCloseButton:ce,closeButtonText:String,inputPlaceholder:String,exchangeMinLength:tr(1),exchangeButtonText:String,displayedCouponIndex:tr(-1),exchangeButtonLoading:Boolean,exchangeButtonDisabled:Boolean};var J6=ee({name:X6,props:Z6,emits:["change","exchange","update:code"],setup(e,{emit:t,slots:n}){const[r,a]=Yl(),i=q(),o=q(),l=q(0),u=q(0),s=q(e.code),c=j(()=>!e.exchangeButtonLoading&&(e.exchangeButtonDisabled||!s.value||s.value.length<e.exchangeMinLength)),f=()=>{const p=dt(i).height,b=dt(o).height+44;u.value=(p>b?p:bi.value)-b},v=()=>{t("exchange",s.value),e.code||(s.value="")},S=h=>{Re(()=>{var p;return(p=r.value[h])==null?void 0:p.scrollIntoView()})},E=()=>R(oT,{image:e.emptyImage},{default:()=>[R("p",{class:Xn("empty-tip")},[Ga("noCoupon")])]}),m=()=>{if(e.showExchangeBar)return R("div",{ref:o,class:Xn("exchange-bar")},[R(er,{modelValue:s.value,"onUpdate:modelValue":h=>s.value=h,clearable:!0,border:!1,class:Xn("field"),placeholder:e.inputPlaceholder||Ga("placeholder"),maxlength:"20"},null),R(on,{plain:!0,type:"danger",class:Xn("exchange"),text:e.exchangeButtonText||Ga("exchange"),loading:e.exchangeButtonLoading,disabled:c.value,onClick:v},null)])},d=()=>{const{coupons:h}=e,p=e.showCount?` (${h.length})`:"",b=(e.enabledTitle||Ga("enable"))+p;return R(sl,{title:b},{default:()=>{var y;return[R("div",{class:Xn("list",{"with-bottom":e.showCloseButton}),style:{height:`${u.value}px`}},[h.map((C,w)=>R(Xc,{key:C.id,ref:a(w),coupon:C,chosen:w===e.chosenCoupon,currency:e.currency,onClick:()=>t("change",w)},null)),!h.length&&E(),(y=n["list-footer"])==null?void 0:y.call(n)])]}})},g=()=>{const{disabledCoupons:h}=e,p=e.showCount?` (${h.length})`:"",b=(e.disabledTitle||Ga("disabled"))+p;return R(sl,{title:b},{default:()=>{var y;return[R("div",{class:Xn("list",{"with-bottom":e.showCloseButton}),style:{height:`${u.value}px`}},[h.map(C=>R(Xc,{disabled:!0,key:C.id,coupon:C,currency:e.currency},null)),!h.length&&E(),(y=n["disabled-list-footer"])==null?void 0:y.call(n)])]}})};return oe(()=>e.code,h=>{s.value=h}),oe(bi,f),oe(s,h=>t("update:code",h)),oe(()=>e.displayedCouponIndex,S),tt(()=>{f(),S(e.displayedCouponIndex)}),()=>R("div",{ref:i,class:Xn()},[m(),R(pf,{active:l.value,"onUpdate:active":h=>l.value=h,class:Xn("tab")},{default:()=>[d(),g()]}),R("div",{class:Xn("bottom")},[Ge(R(on,{round:!0,block:!0,type:"danger",class:Xn("close"),text:e.closeButtonText||Ga("close"),onClick:()=>t("change",-1)},null),[[qe,e.showCloseButton]])])])}});const Q6=Ce(J6),[eH]=ve("time-picker");var bf=ee({name:eH,props:xe({},US,{minHour:Pe(0),maxHour:Pe(23),minMinute:Pe(0),maxMinute:Pe(59),modelValue:String}),emits:["confirm","cancel","change","update:modelValue"],setup(e,{emit:t,slots:n}){const r=E=>{const{minHour:m,maxHour:d,maxMinute:g,minMinute:h}=e;E||(E=`${Gt(m)}:${Gt(h)}`);let[p,b]=E.split(":");return p=Gt(Kt(+p,+m,+d)),b=Gt(Kt(+b,+h,+g)),`${p}:${b}`},a=q(),i=q(r(e.modelValue)),o=j(()=>[{type:"hour",range:[+e.minHour,+e.maxHour]},{type:"minute",range:[+e.minMinute,+e.maxMinute]}]),l=j(()=>o.value.map(({type:E,range:m})=>{let d=HS(m[1]-m[0]+1,g=>Gt(m[0]+g));return e.filter&&(d=e.filter(E,d)),{type:E,values:d}})),u=j(()=>l.value.map(E=>({values:E.values.map(m=>e.formatter(E.type,m))}))),s=()=>{const E=i.value.split(":"),m=[e.formatter("hour",E[0]),e.formatter("minute",E[1])];Re(()=>{var d;(d=a.value)==null||d.setValues(m)})},c=()=>{const[E,m]=a.value.getIndexes(),[d,g]=l.value,h=d.values[E]||d.values[0],p=g.values[m]||g.values[0];i.value=r(`${h}:${p}`),s()},f=()=>t("confirm",i.value),v=()=>t("cancel"),S=()=>{c(),Re(()=>{Re(()=>t("change",i.value))})};return tt(()=>{s(),Re(c)}),oe(u,s),oe(()=>[e.filter,e.maxHour,e.minMinute,e.maxMinute],c),oe(()=>e.minHour,()=>{Re(c)}),oe(i,E=>t("update:modelValue",E)),oe(()=>e.modelValue,E=>{E=r(E),E!==i.value&&(i.value=E,s())}),ot({getPicker:()=>a.value&&zS(a.value,c)}),()=>R(Vl,We({ref:a,columns:u.value,onChange:S,onCancel:v,onConfirm:f},ht(e,VS)),n)}});const wp=new Date().getFullYear(),[tH]=ve("date-picker");var Sf=ee({name:tH,props:xe({},US,{type:we("datetime"),modelValue:Date,minDate:{type:Date,default:()=>new Date(wp-10,0,1),validator:Co},maxDate:{type:Date,default:()=>new Date(wp+10,11,31),validator:Co}}),emits:["confirm","cancel","change","update:modelValue"],setup(e,{emit:t,slots:n}){const r=m=>{if(Co(m)){const d=Kt(m.getTime(),e.minDate.getTime(),e.maxDate.getTime());return new Date(d)}},a=q(),i=q(r(e.modelValue)),o=(m,d)=>{const g=e[`${m}Date`],h=g.getFullYear();let p=1,b=1,y=0,C=0;return m==="max"&&(p=12,b=Yc(d.getFullYear(),d.getMonth()+1),y=23,C=59),d.getFullYear()===h&&(p=g.getMonth()+1,d.getMonth()+1===p&&(b=g.getDate(),d.getDate()===b&&(y=g.getHours(),d.getHours()===y&&(C=g.getMinutes())))),{[`${m}Year`]:h,[`${m}Month`]:p,[`${m}Date`]:b,[`${m}Hour`]:y,[`${m}Minute`]:C}},l=j(()=>{const{maxYear:m,maxDate:d,maxMonth:g,maxHour:h,maxMinute:p}=o("max",i.value||e.minDate),{minYear:b,minDate:y,minMonth:C,minHour:w,minMinute:k}=o("min",i.value||e.minDate);let _=[{type:"year",range:[b,m]},{type:"month",range:[C,g]},{type:"day",range:[y,d]},{type:"hour",range:[w,h]},{type:"minute",range:[k,p]}];switch(e.type){case"date":_=_.slice(0,3);break;case"year-month":_=_.slice(0,2);break;case"month-day":_=_.slice(1,3);break;case"datehour":_=_.slice(0,4);break}if(e.columnsOrder){const T=e.columnsOrder.concat(_.map(O=>O.type));_.sort((O,A)=>T.indexOf(O.type)-T.indexOf(A.type))}return _}),u=j(()=>l.value.map(({type:m,range:d})=>{let g=HS(d[1]-d[0]+1,h=>Gt(d[0]+h));return e.filter&&(g=e.filter(m,g)),{type:m,values:g}})),s=j(()=>u.value.map(m=>({values:m.values.map(d=>e.formatter(m.type,d))}))),c=()=>{const m=i.value||e.minDate,{formatter:d}=e,g=u.value.map(h=>{switch(h.type){case"year":return d("year",`${m.getFullYear()}`);case"month":return d("month",Gt(m.getMonth()+1));case"day":return d("day",Gt(m.getDate()));case"hour":return d("hour",Gt(m.getHours()));case"minute":return d("minute",Gt(m.getMinutes()));default:return""}});Re(()=>{var h;(h=a.value)==null||h.setValues(g)})},f=()=>{const{type:m}=e,d=a.value.getIndexes(),g=_=>{let T=0;u.value.forEach((A,P)=>{_===A.type&&(T=P)});const{values:O}=u.value[T];return H8(O[d[T]])};let h,p,b;m==="month-day"?(h=(i.value||e.minDate).getFullYear(),p=g("month"),b=g("day")):(h=g("year"),p=g("month"),b=m==="year-month"?1:g("day"));const y=Yc(h,p);b=b>y?y:b;let C=0,w=0;m==="datehour"&&(C=g("hour")),m==="datetime"&&(C=g("hour"),w=g("minute"));const k=new Date(h,p-1,b,C,w);i.value=r(k)},v=()=>{t("update:modelValue",i.value),t("confirm",i.value)},S=()=>t("cancel"),E=()=>{f(),Re(()=>{f(),Re(()=>t("change",i.value))})};return tt(()=>{c(),Re(f)}),oe(s,c),oe(i,(m,d)=>t("update:modelValue",d?m:null)),oe(()=>[e.filter,e.minDate,e.maxDate],()=>{Re(f)}),oe(()=>e.modelValue,m=>{var d;m=r(m),m&&m.valueOf()!==((d=i.value)==null?void 0:d.valueOf())&&(i.value=m)}),ot({getPicker:()=>a.value&&zS(a.value,f)}),()=>R(Vl,We({ref:a,columns:s.value,onChange:E,onCancel:S,onConfirm:v},ht(e,VS)),n)}});const[nH,rH]=ve("datetime-picker"),aH=Object.keys(bf.props),iH=Object.keys(Sf.props),oH=xe({},bf.props,Sf.props,{modelValue:[String,Date]});var sH=ee({name:nH,props:oH,setup(e,{attrs:t,slots:n}){const r=q();return ot({getPicker:()=>{var a;return(a=r.value)==null?void 0:a.getPicker()}}),()=>{const a=e.type==="time",i=a?bf:Sf,o=ht(e,a?aH:iH);return R(i,We({ref:r,class:rH()},o,t),n)}}});const lH=Ce(sH),[uH,Dn,Ss]=ve("dialog"),cH=xe({},Mi,{title:String,theme:String,width:pe,message:[String,Function],callback:Function,allowHtml:Boolean,className:vt,transition:we("van-dialog-bounce"),messageAlign:String,closeOnPopstate:ce,showCancelButton:Boolean,cancelButtonText:String,cancelButtonColor:String,confirmButtonText:String,confirmButtonColor:String,showConfirmButton:ce,closeOnClickOverlay:Boolean}),dH=[...rf,"transition","closeOnPopstate"];var sT=ee({name:uH,props:cH,emits:["confirm","cancel","keydown","update:show"],setup(e,{emit:t,slots:n}){const r=q(),a=Me({confirm:!1,cancel:!1}),i=g=>t("update:show",g),o=g=>{var h;i(!1),(h=e.callback)==null||h.call(e,g)},l=g=>()=>{!e.show||(t(g),e.beforeClose?(a[g]=!0,Qr(e.beforeClose,{args:[g],done(){o(g),a[g]=!1},canceled(){a[g]=!1}})):o(g))},u=l("cancel"),s=l("confirm"),c=ni(g=>{var h,p;if(g.target!==((p=(h=r.value)==null?void 0:h.popupRef)==null?void 0:p.value))return;({Enter:e.showConfirmButton?s:tl,Escape:e.showCancelButton?u:tl})[g.key](),t("keydown",g)},["enter","esc"]),f=()=>{const g=n.title?n.title():e.title;if(g)return R("div",{class:Dn("header",{isolated:!e.message&&!n.default})},[g])},v=g=>{const{message:h,allowHtml:p,messageAlign:b}=e,y=Dn("message",{"has-title":g,[b]:b}),C=pi(h)?h():h;return p&&typeof C=="string"?R("div",{class:y,innerHTML:C},null):R("div",{class:y},[C])},S=()=>{if(n.default)return R("div",{class:Dn("content")},[n.default()]);const{title:g,message:h,allowHtml:p}=e;if(h){const b=!!(g||n.title);return R("div",{key:p?1:0,class:Dn("content",{isolated:!b})},[v(b)])}},E=()=>R("div",{class:[SS,Dn("footer")]},[e.showCancelButton&&R(on,{size:"large",text:e.cancelButtonText||Ss("cancel"),class:Dn("cancel"),style:{color:e.cancelButtonColor},loading:a.cancel,onClick:u},null),e.showConfirmButton&&R(on,{size:"large",text:e.confirmButtonText||Ss("confirm"),class:[Dn("confirm"),{[TS]:e.showCancelButton}],style:{color:e.confirmButtonColor},loading:a.confirm,onClick:s},null)]),m=()=>R(wS,{class:Dn("footer")},{default:()=>[e.showCancelButton&&R(zc,{type:"warning",text:e.cancelButtonText||Ss("cancel"),class:Dn("cancel"),color:e.cancelButtonColor,loading:a.cancel,onClick:u},null),e.showConfirmButton&&R(zc,{type:"danger",text:e.confirmButtonText||Ss("confirm"),class:Dn("confirm"),color:e.confirmButtonColor,loading:a.confirm,onClick:s},null)]}),d=()=>n.footer?n.footer():e.theme==="round-button"?m():E();return()=>{const{width:g,title:h,theme:p,message:b,className:y}=e;return R(Vn,We({ref:r,role:"dialog",class:[Dn([p]),y],style:{width:at(g)},tabindex:0,"aria-labelledby":h||b,onKeydown:c,"onUpdate:show":i},ht(e,dH)),{default:()=>[f(),S(),d()]})}}});let xo;function fH(){({instance:xo}=Gl({setup(){const{state:t,toggle:n}=zl();return()=>R(sT,We(t,{"onUpdate:show":n}),null)}}))}function Ft(e){return Wr?new Promise((t,n)=>{xo||fH(),xo.open(xe({},Ft.currentOptions,e,{callback:r=>{(r==="confirm"?t:n)(r)}}))}):Promise.resolve()}Ft.defaultOptions={title:"",width:"",theme:null,message:"",overlay:!0,callback:null,teleport:"body",className:"",allowHtml:!1,lockScroll:!0,transition:void 0,beforeClose:null,overlayClass:"",overlayStyle:void 0,messageAlign:"",cancelButtonText:"",cancelButtonColor:null,confirmButtonText:"",confirmButtonColor:null,showConfirmButton:!0,showCancelButton:!1,closeOnPopstate:!0,closeOnClickOverlay:!1};Ft.currentOptions=xe({},Ft.defaultOptions);Ft.alert=Ft;Ft.confirm=e=>Ft(xe({showCancelButton:!0},e));Ft.close=()=>{xo&&xo.toggle(!1)};Ft.setDefaultOptions=e=>{xe(Ft.currentOptions,e)};Ft.resetDefaultOptions=()=>{Ft.currentOptions=xe({},Ft.defaultOptions)};Ft.Component=Ce(sT);Ft.install=e=>{e.use(Ft.Component),e.config.globalProperties.$dialog=Ft};const[hH,vH]=ve("divider"),mH={dashed:Boolean,hairline:ce,contentPosition:we("center")};var gH=ee({name:hH,props:mH,setup(e,{slots:t}){return()=>{var n;return R("div",{role:"separator",class:vH({dashed:e.dashed,hairline:e.hairline,[`content-${e.contentPosition}`]:!!t.default})},[(n=t.default)==null?void 0:n.call(t)])}}});const pH=Ce(gH),[lT,Ts]=ve("dropdown-menu"),yH={overlay:ce,zIndex:pe,duration:Pe(.2),direction:we("down"),activeColor:String,closeOnClickOutside:ce,closeOnClickOverlay:ce},uT=Symbol(lT);var bH=ee({name:lT,props:yH,setup(e,{slots:t}){const n=Ko(),r=q(),a=q(),i=q(0),{children:o,linkChildren:l}=en(uT),u=$i(r),s=j(()=>o.some(d=>d.state.showWrapper)),c=j(()=>{if(s.value&&nt(e.zIndex))return{zIndex:+e.zIndex+1}}),f=()=>{e.closeOnClickOutside&&o.forEach(d=>{d.toggle(!1)})},v=()=>{if(a.value){const d=dt(a);e.direction==="down"?i.value=d.bottom:i.value=bi.value-d.top}},S=()=>{s.value&&v()},E=d=>{o.forEach((g,h)=>{h===d?(v(),g.toggle()):g.state.showPopup&&g.toggle(!1,{immediate:!0})})},m=(d,g)=>{const{showPopup:h}=d.state,{disabled:p,titleClass:b}=d;return R("div",{id:`${n}-${g}`,role:"button",tabindex:p?void 0:0,class:[Ts("item",{disabled:p}),{[an]:!p}],onClick:()=>{p||E(g)}},[R("span",{class:[Ts("title",{down:h===(e.direction==="down"),active:h}),b],style:{color:h?e.activeColor:""}},[R("div",{class:"van-ellipsis"},[d.renderTitle()])])])};return l({id:n,props:e,offset:i}),Fl(r,f),qr("scroll",S,{target:u}),()=>{var d;return R("div",{ref:r,class:Ts()},[R("div",{ref:a,style:c.value,class:Ts("bar",{opened:s.value})},[o.map(m)]),(d=t.default)==null?void 0:d.call(t)])}}});const[SH,Cs]=ve("dropdown-item"),TH={title:String,options:Ut(),disabled:Boolean,teleport:[String,Object],lazyRender:ce,modelValue:vt,titleClass:vt};var CH=ee({name:SH,props:TH,emits:["open","opened","close","closed","change","update:modelValue"],setup(e,{emit:t,slots:n}){const r=Me({showPopup:!1,transition:!0,showWrapper:!1}),{parent:a,index:i}=Zt(uT);if(!a)return;const o=d=>()=>t(d),l=o("open"),u=o("close"),s=o("opened"),c=()=>{r.showWrapper=!1,t("closed")},f=d=>{e.teleport&&d.stopPropagation()},v=(d=!r.showPopup,g={})=>{d!==r.showPopup&&(r.showPopup=d,r.transition=!g.immediate,d&&(r.showWrapper=!0))},S=()=>{if(n.title)return n.title();if(e.title)return e.title;const d=e.options.find(g=>g.value===e.modelValue);return d?d.text:""},E=d=>{const{activeColor:g}=a.props,h=d.value===e.modelValue,p=()=>{r.showPopup=!1,d.value!==e.modelValue&&(t("update:modelValue",d.value),t("change",d.value))},b=()=>{if(h)return R(Ke,{class:Cs("icon"),color:g,name:"success"},null)};return R(Hn,{role:"menuitem",key:d.value,icon:d.icon,title:d.text,class:Cs("option",{active:h}),style:{color:h?g:""},tabindex:h?0:-1,clickable:!0,onClick:p},{value:b})},m=()=>{const{offset:d}=a,{zIndex:g,overlay:h,duration:p,direction:b,closeOnClickOverlay:y}=a.props,C=Da(g);return b==="down"?C.top=`${d.value}px`:C.bottom=`${d.value}px`,Ge(R("div",{style:C,class:Cs([b]),onClick:f},[R(Vn,{show:r.showPopup,"onUpdate:show":w=>r.showPopup=w,role:"menu",class:Cs("content"),overlay:h,position:b==="down"?"top":"bottom",duration:r.transition?p:0,lazyRender:e.lazyRender,overlayStyle:{position:"absolute"},"aria-labelledby":`${a.id}-${i.value}`,closeOnClickOverlay:y,onOpen:l,onClose:u,onOpened:s,onClosed:c},{default:()=>{var w;return[e.options.map(E),(w=n.default)==null?void 0:w.call(n)]}})]),[[qe,r.showWrapper]])};return ot({state:r,toggle:v,renderTitle:S}),()=>e.teleport?R(No,{to:e.teleport},{default:()=>[m()]}):m()}});const EH=Ce(CH),wH=Ce(bH),[cT,OH]=ve("grid"),kH={square:Boolean,center:ce,border:ce,gutter:pe,reverse:Boolean,iconSize:pe,direction:String,clickable:Boolean,columnNum:Pe(4)},dT=Symbol(cT);var _H=ee({name:cT,props:kH,setup(e,{slots:t}){const{linkChildren:n}=en(dT);return n({props:e}),()=>{var r;return R("div",{style:{paddingLeft:at(e.gutter)},class:[OH(),{[SS]:e.border&&!e.gutter}]},[(r=t.default)==null?void 0:r.call(t)])}}});const AH=Ce(_H),[DH,Es]=ve("grid-item"),PH=xe({},ea,{dot:Boolean,text:String,icon:String,badge:pe,iconColor:String,iconPrefix:String,badgeProps:Object});var IH=ee({name:DH,props:PH,setup(e,{slots:t}){const{parent:n,index:r}=Zt(dT),a=Pa();if(!n)return;const i=j(()=>{const{square:c,gutter:f,columnNum:v}=n.props,S=`${100/+v}%`,E={flexBasis:S};if(c)E.paddingTop=S;else if(f){const m=at(f);E.paddingRight=m,r.value>=v&&(E.marginTop=m)}return E}),o=j(()=>{const{square:c,gutter:f}=n.props;if(c&&f){const v=at(f);return{right:v,bottom:v,height:"auto"}}}),l=()=>{if(t.icon)return R(Ia,We({dot:e.dot,content:e.badge},e.badgeProps),{default:t.icon});if(e.icon)return R(Ke,{dot:e.dot,name:e.icon,size:n.props.iconSize,badge:e.badge,class:Es("icon"),color:e.iconColor,badgeProps:e.badgeProps,classPrefix:e.iconPrefix},null)},u=()=>{if(t.text)return t.text();if(e.text)return R("span",{class:Es("text")},[e.text])},s=()=>t.default?t.default():[l(),u()];return()=>{const{center:c,border:f,square:v,gutter:S,reverse:E,direction:m,clickable:d}=n.props,g=[Es("content",[m,{center:c,square:v,reverse:E,clickable:d,surround:f&&S}]),{[Jr]:f}];return R("div",{class:[Es({square:v})],style:i.value},[R("div",{role:d?"button":void 0,class:g,style:o.value,tabindex:d?0:void 0,onClick:a},[s()])])}}});const LH=Ce(IH),Op=e=>Math.sqrt((e[0].clientX-e[1].clientX)**2+(e[0].clientY-e[1].clientY)**2),kp=ve("image-preview")[1];var RH=ee({props:{src:String,show:Boolean,active:Number,minZoom:$t(pe),maxZoom:$t(pe),rootWidth:$t(Number),rootHeight:$t(Number)},emits:["scale","close"],setup(e,{emit:t}){const n=Me({scale:1,moveX:0,moveY:0,moving:!1,zooming:!1,imageRatio:0,displayWidth:0,displayHeight:0}),r=rr(),a=j(()=>{const{rootWidth:w,rootHeight:k}=e,_=k/w;return n.imageRatio>_}),i=j(()=>{const{scale:w,moveX:k,moveY:_,moving:T,zooming:O}=n,A={transitionDuration:O||T?"0s":".3s"};if(w!==1){const P=k/w,D=_/w;A.transform=`scale(${w}, ${w}) translate(${P}px, ${D}px)`}return A}),o=j(()=>{if(n.imageRatio){const{rootWidth:w,rootHeight:k}=e,_=a.value?k/n.imageRatio:w;return Math.max(0,(n.scale*_-w)/2)}return 0}),l=j(()=>{if(n.imageRatio){const{rootWidth:w,rootHeight:k}=e,_=a.value?k:w*n.imageRatio;return Math.max(0,(n.scale*_-k)/2)}return 0}),u=w=>{w=Kt(w,+e.minZoom,+e.maxZoom+1),w!==n.scale&&(n.scale=w,t("scale",{scale:w,index:e.active}))},s=()=>{u(1),n.moveX=0,n.moveY=0},c=()=>{const w=n.scale>1?1:2;u(w),n.moveX=0,n.moveY=0};let f,v,S,E,m,d,g;const h=w=>{const{touches:k}=w,{offsetX:_}=r;r.start(w),f=k.length,v=n.moveX,S=n.moveY,g=Date.now(),n.moving=f===1&&n.scale!==1,n.zooming=f===2&&!_.value,n.zooming&&(E=n.scale,m=Op(w.touches))},p=w=>{const{touches:k}=w;if(r.move(w),(n.moving||n.zooming)&&Ct(w,!0),n.moving){const{deltaX:_,deltaY:T}=r,O=_.value+v,A=T.value+S;n.moveX=Kt(O,-o.value,o.value),n.moveY=Kt(A,-l.value,l.value)}if(n.zooming&&k.length===2){const _=Op(k),T=E*_/m;u(T)}},b=()=>{if(f>1)return;const{offsetX:w,offsetY:k}=r,_=Date.now()-g,T=250,O=5;w.value<O&&k.value<O&&_<T&&(d?(clearTimeout(d),d=null,c()):d=setTimeout(()=>{t("close"),d=null},T))},y=w=>{let k=!1;(n.moving||n.zooming)&&(k=!0,n.moving&&v===n.moveX&&S===n.moveY&&(k=!1),w.touches.length||(n.zooming&&(n.moveX=Kt(n.moveX,-o.value,o.value),n.moveY=Kt(n.moveY,-l.value,l.value),n.zooming=!1),n.moving=!1,v=0,S=0,E=1,n.scale<1&&s(),n.scale>e.maxZoom&&(n.scale=+e.maxZoom))),Ct(w,k),b(),r.reset()},C=w=>{const{naturalWidth:k,naturalHeight:_}=w.target;n.imageRatio=_/k};return oe(()=>e.active,s),oe(()=>e.show,w=>{w||s()}),()=>{const w={loading:()=>R(Un,{type:"spinner"},null)};return R(gf,{class:kp("swipe-item"),onTouchstart:h,onTouchmove:p,onTouchend:y,onTouchcancel:y},{default:()=>[R(ql,{src:e.src,fit:"contain",class:kp("image",{vertical:a.value}),style:i.value,onLoad:C},w)]})}}});const[xH,Ka]=ve("image-preview"),$H=["show","transition","overlayStyle","closeOnPopstate"],MH={show:Boolean,loop:ce,images:Ut(),minZoom:Pe(1/3),maxZoom:Pe(3),overlay:ce,closeable:Boolean,showIndex:ce,className:vt,closeIcon:we("clear"),transition:String,beforeClose:Function,overlayClass:vt,overlayStyle:Object,swipeDuration:Pe(300),startPosition:Pe(0),showIndicators:Boolean,closeOnPopstate:ce,closeIconPosition:we("top-right")};var fT=ee({name:xH,props:MH,emits:["scale","close","closed","change","update:show"],setup(e,{emit:t,slots:n}){const r=q(),a=Me({active:0,rootWidth:0,rootHeight:0}),i=()=>{if(r.value){const d=dt(r.value.$el);a.rootWidth=d.width,a.rootHeight=d.height,r.value.resize()}},o=d=>t("scale",d),l=d=>t("update:show",d),u=()=>{Qr(e.beforeClose,{args:[a.active],done:()=>l(!1)})},s=d=>{d!==a.active&&(a.active=d,t("change",d))},c=()=>{if(e.showIndex)return R("div",{class:Ka("index")},[n.index?n.index({index:a.active}):`${a.active+1} / ${e.images.length}`])},f=()=>{if(n.cover)return R("div",{class:Ka("cover")},[n.cover()])},v=()=>R(mf,{ref:r,lazyRender:!0,loop:e.loop,class:Ka("swipe"),duration:e.swipeDuration,initialSwipe:e.startPosition,showIndicators:e.showIndicators,indicatorColor:"white",onChange:s},{default:()=>[e.images.map(d=>R(RH,{src:d,show:e.show,active:a.active,maxZoom:e.maxZoom,minZoom:e.minZoom,rootWidth:a.rootWidth,rootHeight:a.rootHeight,onScale:o,onClose:u},null))]}),S=()=>{if(e.closeable)return R(Ke,{role:"button",name:e.closeIcon,class:[Ka("close-icon",e.closeIconPosition),an],onClick:u},null)},E=()=>t("closed"),m=(d,g)=>{var h;return(h=r.value)==null?void 0:h.swipeTo(d,g)};return ot({swipeTo:m}),tt(i),oe([Nl,bi],i),oe(()=>e.startPosition,d=>s(+d)),oe(()=>e.show,d=>{const{images:g,startPosition:h}=e;d?(s(+h),Re(()=>{i(),m(+h,{immediate:!0})})):t("close",{index:a.active,url:g[a.active]})}),()=>R(Vn,We({class:[Ka(),e.className],overlayClass:[Ka("overlay"),e.overlayClass],onClosed:E,"onUpdate:show":l},ht(e,$H)),{default:()=>[S(),v(),c(),f()]})}});let Fs;const FH={loop:!0,images:[],maxZoom:3,minZoom:1/3,onScale:void 0,onClose:void 0,onChange:void 0,teleport:"body",className:"",showIndex:!0,closeable:!1,closeIcon:"clear",transition:void 0,beforeClose:void 0,overlayStyle:void 0,overlayClass:void 0,startPosition:0,swipeDuration:300,showIndicators:!1,closeOnPopstate:!0,closeIconPosition:"top-right"};function BH(){({instance:Fs}=Gl({setup(){const{state:e,toggle:t}=zl(),n=()=>{e.images=[]};return()=>R(fT,We(e,{onClosed:n,"onUpdate:show":t}),null)}}))}const $o=(e,t=0)=>{if(!!Wr)return Fs||BH(),e=Array.isArray(e)?{images:e,startPosition:t}:e,Fs.open(xe({},FH,e)),Fs};$o.Component=Ce(fT);$o.install=e=>{e.use($o.Component)};function NH(){const e="A".charCodeAt(0);return Array(26).fill("").map((n,r)=>String.fromCharCode(e+r))}const[hT,Uu]=ve("index-bar"),jH={sticky:ce,zIndex:pe,teleport:[String,Object],highlightColor:String,stickyOffsetTop:tr(0),indexList:{type:Array,default:NH}},vT=Symbol(hT);var UH=ee({name:hT,props:jH,emits:["select","change"],setup(e,{emit:t,slots:n}){const r=q(),a=q(""),i=rr(),o=$i(r),{children:l,linkChildren:u}=en(vT);let s;u({props:e});const c=j(()=>{if(nt(e.zIndex))return{zIndex:+e.zIndex+1}}),f=j(()=>{if(e.highlightColor)return{color:e.highlightColor}}),v=(w,k)=>{for(let _=l.length-1;_>=0;_--){const T=_>0?k[_-1].height:0,O=e.sticky?T+e.stickyOffsetTop:0;if(w+O>=k[_].top)return _}return-1},S=w=>l.find(k=>String(k.index)===w),E=()=>{if(yi(r))return;const{sticky:w,indexList:k}=e,_=Vr(o.value),T=dt(o),O=l.map(P=>P.getRect(o.value,T));let A=-1;if(s){const P=S(s);if(P){const D=P.getRect(o.value,T);A=v(D.top,O)}}else A=v(_,O);a.value=k[A],w&&l.forEach((P,D)=>{const{state:I,$el:x}=P;if(D===A||D===A-1){const L=x.getBoundingClientRect();I.left=L.left,I.width=L.width}else I.left=null,I.width=null;if(D===A)I.active=!0,I.top=Math.max(e.stickyOffsetTop,O[D].top-_)+T.top;else if(D===A-1&&s===""){const L=O[A].top-_;I.active=L>0,I.top=L+T.top-O[D].height}else I.active=!1}),s=""},m=()=>{Re(E)};qr("scroll",E,{target:o}),tt(m),oe(()=>e.indexList,m),oe(a,w=>{w&&t("change",w)});const d=()=>e.indexList.map(w=>{const k=w===a.value;return R("span",{class:Uu("index",{active:k}),style:k?f.value:void 0,"data-index":w},[w])}),g=w=>{s=String(w);const k=S(s);if(k){const _=Vr(o.value),T=dt(o),{offsetHeight:O}=document.documentElement;if(_===O-T.height){E();return}k.$el.scrollIntoView(),e.sticky&&e.stickyOffsetTop&&Bl(Go()-e.stickyOffsetTop),t("select",k.index)}},h=w=>{const{index:k}=w.dataset;k&&g(k)},p=w=>{h(w.target)};let b;const y=w=>{if(i.move(w),i.isVertical()){Ct(w);const{clientX:k,clientY:_}=w.touches[0],T=document.elementFromPoint(k,_);if(T){const{index:O}=T.dataset;O&&b!==O&&(b=O,h(T))}}},C=()=>R("div",{class:Uu("sidebar"),style:c.value,onClick:p,onTouchstart:i.start,onTouchmove:y},[d()]);return ot({scrollTo:g}),()=>{var w;return R("div",{ref:r,class:Uu()},[e.teleport?R(No,{to:e.teleport},{default:()=>[C()]}):C(),(w=n.default)==null?void 0:w.call(n)])}}});const[VH,HH]=ve("index-anchor"),zH={index:pe};var GH=ee({name:VH,props:zH,setup(e,{slots:t}){const n=Me({top:0,left:null,rect:{top:0,height:0},width:null,active:!1}),r=q(),{parent:a}=Zt(vT);if(!a)return;const i=()=>n.active&&a.props.sticky,o=j(()=>{const{zIndex:u,highlightColor:s}=a.props;if(i())return xe(Da(u),{left:n.left?`${n.left}px`:void 0,width:n.width?`${n.width}px`:void 0,transform:n.top?`translate3d(0, ${n.top}px, 0)`:void 0,color:s})});return ot({state:n,getRect:(u,s)=>{const c=dt(r);return n.rect.height=c.height,u===window||u===document.body?n.rect.top=c.top+Go():n.rect.top=c.top+Vr(u)-s.top,n.rect}}),()=>{const u=i();return R("div",{ref:r,style:{height:u?`${n.rect.height}px`:void 0}},[R("div",{style:o.value,class:[HH({sticky:u}),{[tf]:u}]},[t.default?t.default():e.index])])}}});const KH=Ce(GH),WH=Ce(UH),[YH,Wa,qH]=ve("list"),XH={error:Boolean,offset:Pe(300),loading:Boolean,finished:Boolean,errorText:String,direction:we("down"),loadingText:String,finishedText:String,immediateCheck:ce};var ZH=ee({name:YH,props:XH,emits:["load","update:error","update:loading"],setup(e,{emit:t,slots:n}){const r=q(!1),a=q(),i=q(),o=CV(),l=$i(a),u=()=>{Re(()=>{if(r.value||e.finished||e.error||(o==null?void 0:o.value)===!1)return;const{offset:S,direction:E}=e,m=dt(l);if(!m.height||yi(a))return;let d=!1;const g=dt(i);E==="up"?d=m.top-g.top<=S:d=g.bottom-m.bottom<=S,d&&(r.value=!0,t("update:loading",!0),t("load"))})},s=()=>{if(e.finished){const S=n.finished?n.finished():e.finishedText;if(S)return R("div",{class:Wa("finished-text")},[S])}},c=()=>{t("update:error",!1),u()},f=()=>{if(e.error){const S=n.error?n.error():e.errorText;if(S)return R("div",{role:"button",class:Wa("error-text"),tabindex:0,onClick:c},[S])}},v=()=>{if(r.value&&!e.finished)return R("div",{class:Wa("loading")},[n.loading?n.loading():R(Un,{class:Wa("loading-icon")},{default:()=>[e.loadingText||qH("loading")]})])};return oe(()=>[e.loading,e.finished,e.error],u),o&&oe(o,S=>{S&&u()}),Ed(()=>{r.value=e.loading}),tt(()=>{e.immediateCheck&&u()}),ot({check:u}),qr("scroll",u,{target:l}),()=>{var S;const E=(S=n.default)==null?void 0:S.call(n),m=R("div",{ref:i,class:Wa("placeholder")},null);return R("div",{ref:a,role:"feed",class:Wa(),"aria-busy":r.value},[e.direction==="down"?E:m,v(),s(),f(),e.direction==="up"?E:m])}}});const JH=Ce(ZH);function mT(e,t){const n=GS(e);return r=>R("div",{class:t("placeholder"),style:{height:n.value?`${n.value}px`:void 0}},[r()])}const[QH,dr]=ve("nav-bar"),ez={title:String,fixed:Boolean,zIndex:pe,border:ce,leftText:String,rightText:String,leftArrow:Boolean,placeholder:Boolean,safeAreaInsetTop:Boolean};var tz=ee({name:QH,props:ez,emits:["click-left","click-right"],setup(e,{emit:t,slots:n}){const r=q(),a=mT(r,dr),i=c=>t("click-left",c),o=c=>t("click-right",c),l=()=>n.left?n.left():[e.leftArrow&&R(Ke,{class:dr("arrow"),name:"arrow-left"},null),e.leftText&&R("span",{class:dr("text")},[e.leftText])],u=()=>n.right?n.right():R("span",{class:dr("text")},[e.rightText]),s=()=>{const{title:c,fixed:f,border:v,zIndex:S}=e,E=Da(S),m=e.leftArrow||e.leftText||n.left,d=e.rightText||n.right;return R("div",{ref:r,style:E,class:[dr({fixed:f}),{[tf]:v,"van-safe-area-top":e.safeAreaInsetTop}]},[R("div",{class:dr("content")},[m&&R("div",{class:[dr("left"),an],onClick:i},[l()]),R("div",{class:[dr("title"),"van-ellipsis"]},[n.title?n.title():c]),d&&R("div",{class:[dr("right"),an],onClick:o},[u()])])])};return()=>e.fixed&&e.placeholder?a(s):s()}});const nz=Ce(tz),[rz,ao]=ve("notice-bar"),az={text:String,mode:String,color:String,delay:Pe(1),speed:Pe(60),leftIcon:String,wrapable:Boolean,background:String,scrollable:{type:Boolean,default:null}};var iz=ee({name:rz,props:az,emits:["close","replay"],setup(e,{emit:t,slots:n}){let r=0,a=0,i;const o=q(),l=q(),u=Me({show:!0,offset:0,duration:0}),s=()=>{if(n["left-icon"])return n["left-icon"]();if(e.leftIcon)return R(Ke,{class:ao("left-icon"),name:e.leftIcon},null)},c=()=>{if(e.mode==="closeable")return"cross";if(e.mode==="link")return"arrow"},f=d=>{e.mode==="closeable"&&(u.show=!1,t("close",d))},v=()=>{if(n["right-icon"])return n["right-icon"]();const d=c();if(d)return R(Ke,{name:d,class:ao("right-icon"),onClick:f},null)},S=()=>{u.offset=r,u.duration=0,rn(()=>{ga(()=>{u.offset=-a,u.duration=(a+r)/+e.speed,t("replay")})})},E=()=>{const d=e.scrollable===!1&&!e.wrapable,g={transform:u.offset?`translateX(${u.offset}px)`:"",transitionDuration:`${u.duration}s`};return R("div",{ref:o,role:"marquee",class:ao("wrap")},[R("div",{ref:l,style:g,class:[ao("content"),{"van-ellipsis":d}],onTransitionend:S},[n.default?n.default():e.text])])},m=()=>{const{delay:d,speed:g,scrollable:h}=e,p=nt(d)?+d*1e3:0;r=0,a=0,u.offset=0,u.duration=0,clearTimeout(i),i=setTimeout(()=>{if(!o.value||!l.value||h===!1)return;const b=dt(o).width,y=dt(l).width;(h||y>b)&&ga(()=>{r=b,a=y,u.offset=-a,u.duration=a/+g})},p)};return of(m),xi(m),qr("pageshow",m),ot({reset:m}),oe(()=>[e.text,e.scrollable],m),()=>{const{color:d,wrapable:g,background:h}=e;return Ge(R("div",{role:"alert",class:ao({wrapable:g}),style:{color:d,background:h}},[s(),E(),v()]),[[qe,u.show]])}}});const oz=Ce(iz),[sz,lz]=ve("notify"),uz=xe({},Mi,{type:we("danger"),color:String,message:pe,position:we("top"),className:vt,background:String,lockScroll:Boolean});var gT=ee({name:sz,props:uz,emits:["update:show"],setup(e,{emit:t,slots:n}){const r=a=>t("update:show",a);return()=>R(Vn,{show:e.show,class:[lz([e.type]),e.className],style:{color:e.color,background:e.background},overlay:!1,position:e.position,duration:.2,lockScroll:e.lockScroll,"onUpdate:show":r},{default:()=>[n.default?n.default():e.message]})}});let _p,di;const cz=e=>On(e)?e:{message:e};function dz(){({instance:di}=Gl({setup(){const{state:e,toggle:t}=zl();return()=>R(gT,We(e,{"onUpdate:show":t}),null)}}))}function gn(e){if(!!Wr)return di||dz(),e=xe({},gn.currentOptions,cz(e)),di.open(e),clearTimeout(_p),e.duration>0&&(_p=window.setTimeout(gn.clear,e.duration)),di}const pT=()=>({type:"danger",color:void 0,message:"",onClose:void 0,onClick:void 0,onOpened:void 0,duration:3e3,position:void 0,className:"",lockScroll:!1,background:void 0});gn.clear=()=>{di&&di.toggle(!1)};gn.currentOptions=pT();gn.setDefaultOptions=e=>{xe(gn.currentOptions,e)};gn.resetDefaultOptions=()=>{gn.currentOptions=pT()};gn.Component=Ce(gT);gn.install=e=>{e.use(gn.Component),e.config.globalProperties.$notify=gn};const[fz,Oo]=ve("key"),hz=R("svg",{class:Oo("collapse-icon"),viewBox:"0 0 30 24"},[R("path",{d:"M26 13h-2v2h2v-2zm-8-3h2V8h-2v2zm2-4h2V4h-2v2zm2 4h4V4h-2v4h-2v2zm-7 14 3-3h-6l3 3zM6 13H4v2h2v-2zm16 0H8v2h14v-2zm-12-3h2V8h-2v2zM28 0l1 1 1 1v15l-1 2H1l-1-2V2l1-1 1-1zm0 2H2v15h26V2zM6 4v2H4V4zm10 2h2V4h-2v2zM8 9v1H4V8zm8 0v1h-2V8zm-6-5v2H8V4zm4 0v2h-2V4z",fill:"currentColor"},null)]),vz=R("svg",{class:Oo("delete-icon"),viewBox:"0 0 32 22"},[R("path",{d:"M28 0a4 4 0 0 1 4 4v14a4 4 0 0 1-4 4H10.4a2 2 0 0 1-1.4-.6L1 13.1c-.6-.5-.9-1.3-.9-2 0-1 .3-1.7.9-2.2L9 .6a2 2 0 0 1 1.4-.6zm0 2H10.4l-8.2 8.3a1 1 0 0 0-.3.7c0 .3.1.5.3.7l8.2 8.4H28a2 2 0 0 0 2-2V4c0-1.1-.9-2-2-2zm-5 4a1 1 0 0 1 .7.3 1 1 0 0 1 0 1.4L20.4 11l3.3 3.3c.2.2.3.5.3.7 0 .3-.1.5-.3.7a1 1 0 0 1-.7.3 1 1 0 0 1-.7-.3L19 12.4l-3.4 3.3a1 1 0 0 1-.6.3 1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7c0-.2.1-.5.3-.7l3.3-3.3-3.3-3.3A1 1 0 0 1 14 7c0-.3.1-.5.3-.7A1 1 0 0 1 15 6a1 1 0 0 1 .6.3L19 9.6l3.3-3.3A1 1 0 0 1 23 6z",fill:"currentColor"},null)]);var Vu=ee({name:fz,props:{type:String,text:pe,color:String,wider:Boolean,large:Boolean,loading:Boolean},emits:["press"],setup(e,{emit:t,slots:n}){const r=q(!1),a=rr(),i=s=>{a.start(s),r.value=!0},o=s=>{a.move(s),a.direction.value&&(r.value=!1)},l=s=>{r.value&&(n.default||Ct(s),r.value=!1,t("press",e.text,e.type))},u=()=>{if(e.loading)return R(Un,{class:Oo("loading-icon")},null);const s=n.default?n.default():e.text;switch(e.type){case"delete":return s||vz;case"extra":return s||hz;default:return s}};return()=>R("div",{class:Oo("wrapper",{wider:e.wider}),onTouchstart:i,onTouchmove:o,onTouchend:l,onTouchcancel:l},[R("div",{role:"button",tabindex:0,class:Oo([e.color,{large:e.large,active:r.value,delete:e.type==="delete"}])},[u()])])}});const[mz,Pr]=ve("number-keyboard"),gz={show:Boolean,title:String,theme:we("default"),zIndex:pe,teleport:[String,Object],maxlength:Pe(1/0),modelValue:we(""),transition:ce,blurOnClose:ce,showDeleteKey:ce,randomKeyOrder:Boolean,closeButtonText:String,deleteButtonText:String,closeButtonLoading:Boolean,hideOnClickOutside:ce,safeAreaInsetBottom:ce,extraKey:{type:[String,Array],default:""}};function pz(e){for(let t=e.length-1;t>0;t--){const n=Math.floor(Math.random()*(t+1)),r=e[t];e[t]=e[n],e[n]=r}return e}var yz=ee({name:mz,props:gz,emits:["show","hide","blur","input","close","delete","update:modelValue"],setup(e,{emit:t,slots:n}){const r=q(),a=()=>{const m=Array(9).fill("").map((d,g)=>({text:g+1}));return e.randomKeyOrder&&pz(m),m},i=()=>[...a(),{text:e.extraKey,type:"extra"},{text:0},{text:e.showDeleteKey?e.deleteButtonText:"",type:e.showDeleteKey?"delete":""}],o=()=>{const m=a(),{extraKey:d}=e,g=Array.isArray(d)?d:[d];return g.length===1?m.push({text:0,wider:!0},{text:g[0],type:"extra"}):g.length===2&&m.push({text:g[0],type:"extra"},{text:0},{text:g[1],type:"extra"}),m},l=j(()=>e.theme==="custom"?o():i()),u=()=>{e.show&&t("blur")},s=()=>{t("close"),e.blurOnClose&&u()},c=()=>t(e.show?"show":"hide"),f=(m,d)=>{if(m===""){d==="extra"&&u();return}const g=e.modelValue;d==="delete"?(t("delete"),t("update:modelValue",g.slice(0,g.length-1))):d==="close"?s():g.length<e.maxlength&&(t("input",m),t("update:modelValue",g+m))},v=()=>{const{title:m,theme:d,closeButtonText:g}=e,h=n["title-left"],p=g&&d==="default";if(!!(m||p||h))return R("div",{class:Pr("header")},[h&&R("span",{class:Pr("title-left")},[h()]),m&&R("h2",{class:Pr("title")},[m]),p&&R("button",{type:"button",class:[Pr("close"),an],onClick:s},[g])])},S=()=>l.value.map(m=>{const d={};return m.type==="delete"&&(d.default=n.delete),m.type==="extra"&&(d.default=n["extra-key"]),R(Vu,{key:m.text,text:m.text,type:m.type,wider:m.wider,color:m.color,onPress:f},d)}),E=()=>{if(e.theme==="custom")return R("div",{class:Pr("sidebar")},[e.showDeleteKey&&R(Vu,{large:!0,text:e.deleteButtonText,type:"delete",onPress:f},{delete:n.delete}),R(Vu,{large:!0,text:e.closeButtonText,type:"close",color:"blue",loading:e.closeButtonLoading,onPress:f},null)])};return oe(()=>e.show,m=>{e.transition||t(m?"show":"hide")}),e.hideOnClickOutside&&Fl(r,u,{eventName:"touchstart"}),()=>{const m=v(),d=R(yn,{name:e.transition?"van-slide-up":""},{default:()=>[Ge(R("div",{ref:r,style:Da(e.zIndex),class:Pr({unfit:!e.safeAreaInsetBottom,"with-title":!!m}),onTouchstart:Qd,onAnimationend:c,onWebkitAnimationEnd:c},[m,R("div",{class:Pr("body")},[R("div",{class:Pr("keys")},[S()]),E()])]),[[qe,e.show]])]});return e.teleport?R(No,{to:e.teleport},{default:()=>[d]}):d}}});const bz=Ce(yz),[Sz,Ya,Ap]=ve("pagination"),Hu=(e,t,n)=>({number:e,text:t,active:n}),Tz={mode:we("multi"),prevText:String,nextText:String,pageCount:Pe(0),modelValue:tr(0),totalItems:Pe(0),showPageSize:Pe(5),itemsPerPage:Pe(10),forceEllipses:Boolean};var Cz=ee({name:Sz,props:Tz,emits:["change","update:modelValue"],setup(e,{emit:t,slots:n}){const r=j(()=>{const{pageCount:c,totalItems:f,itemsPerPage:v}=e,S=+c||Math.ceil(+f/+v);return Math.max(1,S)}),a=j(()=>{const c=[],f=r.value,v=+e.showPageSize,{modelValue:S,forceEllipses:E}=e;let m=1,d=f;const g=v<f;g&&(m=Math.max(S-Math.floor(v/2),1),d=m+v-1,d>f&&(d=f,m=d-v+1));for(let h=m;h<=d;h++){const p=Hu(h,h,h===S);c.push(p)}if(g&&v>0&&E){if(m>1){const h=Hu(m-1,"...");c.unshift(h)}if(d<f){const h=Hu(d+1,"...");c.push(h)}}return c}),i=(c,f)=>{c=Kt(c,1,r.value),e.modelValue!==c&&(t("update:modelValue",c),f&&t("change",c))};yl(()=>i(e.modelValue));const o=()=>R("li",{class:Ya("page-desc")},[n.pageDesc?n.pageDesc():`${e.modelValue}/${r.value}`]),l=()=>{const{mode:c,modelValue:f}=e,v=n["prev-text"],S=f===1;return R("li",{class:[Ya("item",{disabled:S,border:c==="simple",prev:!0}),Eo]},[R("button",{type:"button",disabled:S,onClick:()=>i(f-1,!0)},[v?v():e.prevText||Ap("prev")])])},u=()=>{const{mode:c,modelValue:f}=e,v=n["next-text"],S=f===r.value;return R("li",{class:[Ya("item",{disabled:S,border:c==="simple",next:!0}),Eo]},[R("button",{type:"button",disabled:S,onClick:()=>i(f+1,!0)},[v?v():e.nextText||Ap("next")])])},s=()=>a.value.map(c=>R("li",{class:[Ya("item",{active:c.active,page:!0}),Eo]},[R("button",{type:"button","aria-current":c.active||void 0,onClick:()=>i(c.number,!0)},[n.page?n.page(c):c.text])]));return()=>R("nav",{role:"navigation",class:Ya()},[R("ul",{class:Ya("items")},[l(),e.mode==="simple"?o():s(),u()])])}});const Ez=Ce(Cz),[wz,io]=ve("password-input"),Oz={info:String,mask:ce,value:we(""),gutter:pe,length:Pe(6),focused:Boolean,errorInfo:String};var kz=ee({name:wz,props:Oz,emits:["focus"],setup(e,{emit:t}){const n=a=>{a.stopPropagation(),t("focus",a)},r=()=>{const a=[],{mask:i,value:o,length:l,gutter:u,focused:s}=e;for(let c=0;c<l;c++){const f=o[c],v=c!==0&&!u,S=s&&c===o.length;let E;c!==0&&u&&(E={marginLeft:at(u)}),a.push(R("li",{class:[{[TS]:v},io("item",{focus:S})],style:E},[i?R("i",{style:{visibility:f?"visible":"hidden"}},null):f,S&&R("div",{class:io("cursor")},null)]))}return a};return()=>{const a=e.errorInfo||e.info;return R("div",{class:io()},[R("ul",{class:[io("security"),{[Eo]:!e.gutter}],onTouchstart:n},[r()]),a&&R("div",{class:io(e.errorInfo?"error-info":"info")},[a])])}}});const _z=Ce(kz);function ll(e){var t=e.getBoundingClientRect();return{width:t.width,height:t.height,top:t.top,right:t.right,bottom:t.bottom,left:t.left,x:t.left,y:t.top}}function ar(e){if(e==null)return window;if(e.toString()!=="[object Window]"){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function yT(e){var t=ar(e),n=t.pageXOffset,r=t.pageYOffset;return{scrollLeft:n,scrollTop:r}}function bT(e){var t=ar(e).Element;return e instanceof t||e instanceof Element}function yr(e){var t=ar(e).HTMLElement;return e instanceof t||e instanceof HTMLElement}function Az(e){if(typeof ShadowRoot=="undefined")return!1;var t=ar(e).ShadowRoot;return e instanceof t||e instanceof ShadowRoot}function Dz(e){return{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}}function Pz(e){return e===ar(e)||!yr(e)?yT(e):Dz(e)}function br(e){return e?(e.nodeName||"").toLowerCase():null}function Zl(e){return((bT(e)?e.ownerDocument:e.document)||window.document).documentElement}function Iz(e){return ll(Zl(e)).left+yT(e).scrollLeft}function Ca(e){return ar(e).getComputedStyle(e)}function Tf(e){var t=Ca(e),n=t.overflow,r=t.overflowX,a=t.overflowY;return/auto|scroll|overlay|hidden/.test(n+a+r)}function Lz(e,t,n){n===void 0&&(n=!1);var r=Zl(t),a=ll(e),i=yr(t),o={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(i||!i&&!n)&&((br(t)!=="body"||Tf(r))&&(o=Pz(t)),yr(t)?(l=ll(t),l.x+=t.clientLeft,l.y+=t.clientTop):r&&(l.x=Iz(r))),{x:a.left+o.scrollLeft-l.x,y:a.top+o.scrollTop-l.y,width:a.width,height:a.height}}function Rz(e){var t=ll(e),n=e.offsetWidth,r=e.offsetHeight;return Math.abs(t.width-n)<=1&&(n=t.width),Math.abs(t.height-r)<=1&&(r=t.height),{x:e.offsetLeft,y:e.offsetTop,width:n,height:r}}function Cf(e){return br(e)==="html"?e:e.assignedSlot||e.parentNode||(Az(e)?e.host:null)||Zl(e)}function ST(e){return["html","body","#document"].indexOf(br(e))>=0?e.ownerDocument.body:yr(e)&&Tf(e)?e:ST(Cf(e))}function Bs(e,t){var n;t===void 0&&(t=[]);var r=ST(e),a=r===((n=e.ownerDocument)==null?void 0:n.body),i=ar(r),o=a?[i].concat(i.visualViewport||[],Tf(r)?r:[]):r,l=t.concat(o);return a?l:l.concat(Bs(Cf(o)))}function xz(e){return["table","td","th"].indexOf(br(e))>=0}function Dp(e){return!yr(e)||Ca(e).position==="fixed"?null:e.offsetParent}function $z(e){var t=navigator.userAgent.toLowerCase().indexOf("firefox")!==-1,n=navigator.userAgent.indexOf("Trident")!==-1;if(n&&yr(e)){var r=Ca(e);if(r.position==="fixed")return null}for(var a=Cf(e);yr(a)&&["html","body"].indexOf(br(a))<0;){var i=Ca(a);if(i.transform!=="none"||i.perspective!=="none"||i.contain==="paint"||["transform","perspective"].indexOf(i.willChange)!==-1||t&&i.willChange==="filter"||t&&i.filter&&i.filter!=="none")return a;a=a.parentNode}return null}function TT(e){for(var t=ar(e),n=Dp(e);n&&xz(n)&&Ca(n).position==="static";)n=Dp(n);return n&&(br(n)==="html"||br(n)==="body"&&Ca(n).position==="static")?t:n||$z(e)||t}var Mo="top",Ef="bottom",Jl="right",Si="left",Mz="auto",Fz=[Mo,Ef,Jl,Si],CT="start",ET="end",Bz=[].concat(Fz,[Mz]).reduce(function(e,t){return e.concat([t,t+"-"+CT,t+"-"+ET])},[]),Nz="beforeRead",jz="read",Uz="afterRead",Vz="beforeMain",Hz="main",zz="afterMain",Gz="beforeWrite",Kz="write",Wz="afterWrite",Yz=[Nz,jz,Uz,Vz,Hz,zz,Gz,Kz,Wz];function qz(e){var t=new Map,n=new Set,r=[];e.forEach(function(i){t.set(i.name,i)});function a(i){n.add(i.name);var o=[].concat(i.requires||[],i.requiresIfExists||[]);o.forEach(function(l){if(!n.has(l)){var u=t.get(l);u&&a(u)}}),r.push(i)}return e.forEach(function(i){n.has(i.name)||a(i)}),r}function Xz(e){var t=qz(e);return Yz.reduce(function(n,r){return n.concat(t.filter(function(a){return a.phase===r}))},[])}function Zz(e){var t;return function(){return t||(t=new Promise(function(n){Promise.resolve().then(function(){t=void 0,n(e())})})),t}}function wf(e){return e.split("-")[0]}function Jz(e){var t=e.reduce(function(n,r){var a=n[r.name];return n[r.name]=a?Object.assign({},a,r,{options:Object.assign({},a.options,r.options),data:Object.assign({},a.data,r.data)}):r,n},{});return Object.keys(t).map(function(n){return t[n]})}var ws=Math.round;function Qz(e){return e.split("-")[1]}function eG(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function tG(e){var t=e.reference,n=e.element,r=e.placement,a=r?wf(r):null,i=r?Qz(r):null,o=t.x+t.width/2-n.width/2,l=t.y+t.height/2-n.height/2,u;switch(a){case Mo:u={x:o,y:t.y-n.height};break;case Ef:u={x:o,y:t.y+t.height};break;case Jl:u={x:t.x+t.width,y:l};break;case Si:u={x:t.x-n.width,y:l};break;default:u={x:t.x,y:t.y}}var s=a?eG(a):null;if(s!=null){var c=s==="y"?"height":"width";switch(i){case CT:u[s]=u[s]-(t[c]/2-n[c]/2);break;case ET:u[s]=u[s]+(t[c]/2-n[c]/2);break}}return u}var Pp={placement:"bottom",modifiers:[],strategy:"absolute"};function Ip(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return!t.some(function(r){return!(r&&typeof r.getBoundingClientRect=="function")})}function nG(e){e===void 0&&(e={});var t=e,n=t.defaultModifiers,r=n===void 0?[]:n,a=t.defaultOptions,i=a===void 0?Pp:a;return function(l,u,s){s===void 0&&(s=i);var c={placement:"bottom",orderedModifiers:[],options:Object.assign({},Pp,i),modifiersData:{},elements:{reference:l,popper:u},attributes:{},styles:{}},f=[],v=!1,S={state:c,setOptions:function(g){m(),c.options=Object.assign({},i,c.options,g),c.scrollParents={reference:bT(l)?Bs(l):l.contextElement?Bs(l.contextElement):[],popper:Bs(u)};var h=Xz(Jz([].concat(r,c.options.modifiers)));return c.orderedModifiers=h.filter(function(p){return p.enabled}),E(),S.update()},forceUpdate:function(){if(!v){var g=c.elements,h=g.reference,p=g.popper;if(!!Ip(h,p)){c.rects={reference:Lz(h,TT(p),c.options.strategy==="fixed"),popper:Rz(p)},c.reset=!1,c.placement=c.options.placement,c.orderedModifiers.forEach(function(T){return c.modifiersData[T.name]=Object.assign({},T.data)});for(var b=0;b<c.orderedModifiers.length;b++){if(c.reset===!0){c.reset=!1,b=-1;continue}var y=c.orderedModifiers[b],C=y.fn,w=y.options,k=w===void 0?{}:w,_=y.name;typeof C=="function"&&(c=C({state:c,options:k,name:_,instance:S})||c)}}}},update:Zz(function(){return new Promise(function(d){S.forceUpdate(),d(c)})}),destroy:function(){m(),v=!0}};if(!Ip(l,u))return S;S.setOptions(s).then(function(d){!v&&s.onFirstUpdate&&s.onFirstUpdate(d)});function E(){c.orderedModifiers.forEach(function(d){var g=d.name,h=d.options,p=h===void 0?{}:h,b=d.effect;if(typeof b=="function"){var y=b({state:c,name:g,instance:S,options:p}),C=function(){};f.push(y||C)}})}function m(){f.forEach(function(d){return d()}),f=[]}return S}}var Os={passive:!0};function rG(e){var t=e.state,n=e.instance,r=e.options,a=r.scroll,i=a===void 0?!0:a,o=r.resize,l=o===void 0?!0:o,u=ar(t.elements.popper),s=[].concat(t.scrollParents.reference,t.scrollParents.popper);return i&&s.forEach(function(c){c.addEventListener("scroll",n.update,Os)}),l&&u.addEventListener("resize",n.update,Os),function(){i&&s.forEach(function(c){c.removeEventListener("scroll",n.update,Os)}),l&&u.removeEventListener("resize",n.update,Os)}}var aG={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:rG,data:{}};function iG(e){var t=e.state,n=e.name;t.modifiersData[n]=tG({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})}var oG={name:"popperOffsets",enabled:!0,phase:"read",fn:iG,data:{}},sG={top:"auto",right:"auto",bottom:"auto",left:"auto"};function lG(e){var t=e.x,n=e.y,r=window,a=r.devicePixelRatio||1;return{x:ws(ws(t*a)/a)||0,y:ws(ws(n*a)/a)||0}}function Lp(e){var t,n=e.popper,r=e.popperRect,a=e.placement,i=e.offsets,o=e.position,l=e.gpuAcceleration,u=e.adaptive,s=e.roundOffsets,c=s===!0?lG(i):typeof s=="function"?s(i):i,f=c.x,v=f===void 0?0:f,S=c.y,E=S===void 0?0:S,m=i.hasOwnProperty("x"),d=i.hasOwnProperty("y"),g=Si,h=Mo,p=window;if(u){var b=TT(n),y="clientHeight",C="clientWidth";b===ar(n)&&(b=Zl(n),Ca(b).position!=="static"&&(y="scrollHeight",C="scrollWidth")),b=b,a===Mo&&(h=Ef,E-=b[y]-r.height,E*=l?1:-1),a===Si&&(g=Jl,v-=b[C]-r.width,v*=l?1:-1)}var w=Object.assign({position:o},u&&sG);if(l){var k;return Object.assign({},w,(k={},k[h]=d?"0":"",k[g]=m?"0":"",k.transform=(p.devicePixelRatio||1)<2?"translate("+v+"px, "+E+"px)":"translate3d("+v+"px, "+E+"px, 0)",k))}return Object.assign({},w,(t={},t[h]=d?E+"px":"",t[g]=m?v+"px":"",t.transform="",t))}function uG(e){var t=e.state,n=e.options,r=n.gpuAcceleration,a=r===void 0?!0:r,i=n.adaptive,o=i===void 0?!0:i,l=n.roundOffsets,u=l===void 0?!0:l,s={placement:wf(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:a};t.modifiersData.popperOffsets!=null&&(t.styles.popper=Object.assign({},t.styles.popper,Lp(Object.assign({},s,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:o,roundOffsets:u})))),t.modifiersData.arrow!=null&&(t.styles.arrow=Object.assign({},t.styles.arrow,Lp(Object.assign({},s,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:u})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})}var cG={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:uG,data:{}};function dG(e){var t=e.state;Object.keys(t.elements).forEach(function(n){var r=t.styles[n]||{},a=t.attributes[n]||{},i=t.elements[n];!yr(i)||!br(i)||(Object.assign(i.style,r),Object.keys(a).forEach(function(o){var l=a[o];l===!1?i.removeAttribute(o):i.setAttribute(o,l===!0?"":l)}))})}function fG(e){var t=e.state,n={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,n.popper),t.styles=n,t.elements.arrow&&Object.assign(t.elements.arrow.style,n.arrow),function(){Object.keys(t.elements).forEach(function(r){var a=t.elements[r],i=t.attributes[r]||{},o=Object.keys(t.styles.hasOwnProperty(r)?t.styles[r]:n[r]),l=o.reduce(function(u,s){return u[s]="",u},{});!yr(a)||!br(a)||(Object.assign(a.style,l),Object.keys(i).forEach(function(u){a.removeAttribute(u)}))})}}var hG={name:"applyStyles",enabled:!0,phase:"write",fn:dG,effect:fG,requires:["computeStyles"]},vG=[aG,oG,cG,hG],mG=nG({defaultModifiers:vG});function gG(e,t,n){var r=wf(e),a=[Si,Mo].indexOf(r)>=0?-1:1,i=typeof n=="function"?n(Object.assign({},t,{placement:e})):n,o=i[0],l=i[1];return o=o||0,l=(l||0)*a,[Si,Jl].indexOf(r)>=0?{x:l,y:o}:{x:o,y:l}}function pG(e){var t=e.state,n=e.options,r=e.name,a=n.offset,i=a===void 0?[0,0]:a,o=Bz.reduce(function(c,f){return c[f]=gG(f,t.rects,i),c},{}),l=o[t.placement],u=l.x,s=l.y;t.modifiersData.popperOffsets!=null&&(t.modifiersData.popperOffsets.x+=u,t.modifiersData.popperOffsets.y+=s),t.modifiersData[r]=o}var yG={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:pG};const[bG,ca]=ve("popover"),SG=["show","overlay","duration","teleport","overlayStyle","overlayClass","closeOnClickOverlay"],TG={show:Boolean,theme:we("light"),overlay:Boolean,actions:Ut(),trigger:we("click"),duration:pe,showArrow:ce,placement:we("bottom"),iconPrefix:String,overlayClass:vt,overlayStyle:Object,closeOnClickAction:ce,closeOnClickOverlay:ce,closeOnClickOutside:ce,offset:{type:Array,default:()=>[0,8]},teleport:{type:[String,Object],default:"body"}};var CG=ee({name:bG,props:TG,emits:["select","touchstart","update:show"],setup(e,{emit:t,slots:n,attrs:r}){let a;const i=q(),o=q(),l=()=>i.value&&o.value?mG(i.value,o.value.popupRef.value,{placement:e.placement,modifiers:[{name:"computeStyles",options:{adaptive:!1,gpuAcceleration:!1}},xe({},yG,{options:{offset:e.offset}})]}):null,u=()=>{Re(()=>{!e.show||(a?a.setOptions({placement:e.placement}):a=l())})},s=d=>t("update:show",d),c=()=>{e.trigger==="click"&&s(!e.show)},f=d=>{d.stopPropagation(),t("touchstart",d)},v=(d,g)=>{d.disabled||(t("select",d,g),e.closeOnClickAction&&s(!1))},S=()=>{e.closeOnClickOutside&&(!e.overlay||e.closeOnClickOverlay)&&s(!1)},E=(d,g)=>n.action?n.action({action:d,index:g}):[d.icon&&R(Ke,{name:d.icon,classPrefix:e.iconPrefix,class:ca("action-icon")},null),R("div",{class:[ca("action-text"),tf]},[d.text])],m=(d,g)=>{const{icon:h,color:p,disabled:b,className:y}=d;return R("div",{role:"menuitem",class:[ca("action",{disabled:b,"with-icon":h}),y],style:{color:p},tabindex:b?void 0:0,"aria-disabled":b||void 0,onClick:()=>v(d,g)},[E(d,g)])};return tt(u),Bn(()=>{a&&(a.destroy(),a=null)}),oe(()=>[e.show,e.placement],u),Fl(i,S,{eventName:"touchstart"}),()=>{var d;return R(Te,null,[R("span",{ref:i,class:ca("wrapper"),onClick:c},[(d=n.reference)==null?void 0:d.call(n)]),R(Vn,We({ref:o,class:ca([e.theme]),position:"",transition:"van-popover-zoom",lockScroll:!1,onTouchstart:f,"onUpdate:show":s},r,ht(e,SG)),{default:()=>[e.showArrow&&R("div",{class:ca("arrow")},null),R("div",{role:"menu",class:ca("content")},[n.default?n.default():e.actions.map(m)])]})])}}});const EG=Ce(CG),[wG,zu]=ve("progress"),OG={color:String,inactive:Boolean,pivotText:String,textColor:String,showPivot:ce,pivotColor:String,trackColor:String,strokeWidth:pe,percentage:{type:pe,default:0,validator:e=>e>=0&&e<=100}};var kG=ee({name:wG,props:OG,setup(e){const t=j(()=>e.inactive?void 0:e.color),n=()=>{const{textColor:r,pivotText:a,pivotColor:i,percentage:o}=e,l=a!=null?a:`${o}%`;if(e.showPivot&&l){const u={color:r,left:`${+o}%`,transform:`translate(-${+o}%,-50%)`,background:i||t.value};return R("span",{style:u,class:zu("pivot",{inactive:e.inactive})},[l])}};return()=>{const{trackColor:r,percentage:a,strokeWidth:i}=e,o={background:r,height:at(i)},l={width:`${a}%`,background:t.value};return R("div",{class:zu(),style:o},[R("span",{class:zu("portion",{inactive:e.inactive}),style:l},null),n()])}}});const _G=Ce(kG),[AG,oo,DG]=ve("pull-refresh"),wT=50,PG=["pulling","loosing","success"],IG={disabled:Boolean,modelValue:Boolean,headHeight:Pe(wT),successText:String,pullingText:String,loosingText:String,loadingText:String,pullDistance:pe,successDuration:Pe(500),animationDuration:Pe(300)};var LG=ee({name:AG,props:IG,emits:["refresh","update:modelValue"],setup(e,{emit:t,slots:n}){let r;const a=q(),i=$i(a),o=Me({status:"normal",distance:0,duration:0}),l=rr(),u=()=>{if(e.headHeight!==wT)return{height:`${e.headHeight}px`}},s=()=>o.status!=="loading"&&o.status!=="success"&&!e.disabled,c=p=>{const b=+(e.pullDistance||e.headHeight);return p>b&&(p<b*2?p=b+(p-b)/2:p=b*1.5+(p-b*2)/4),Math.round(p)},f=(p,b)=>{const y=+(e.pullDistance||e.headHeight);o.distance=p,b?o.status="loading":p===0?o.status="normal":p<y?o.status="pulling":o.status="loosing"},v=()=>{const{status:p}=o;return p==="normal"?"":e[`${p}Text`]||DG(p)},S=()=>{const{status:p,distance:b}=o;if(n[p])return n[p]({distance:b});const y=[];return PG.includes(p)&&y.push(R("div",{class:oo("text")},[v()])),p==="loading"&&y.push(R(Un,{class:oo("loading")},{default:v})),y},E=()=>{o.status="success",setTimeout(()=>{f(0)},+e.successDuration)},m=p=>{r=Vr(i.value)===0,r&&(o.duration=0,l.start(p))},d=p=>{s()&&m(p)},g=p=>{if(s()){r||m(p);const{deltaY:b}=l;l.move(p),r&&b.value>=0&&l.isVertical()&&(Ct(p),f(c(b.value)))}},h=()=>{r&&l.deltaY.value&&s()&&(o.duration=+e.animationDuration,o.status==="loosing"?(f(+e.headHeight,!0),t("update:modelValue",!0),Re(()=>t("refresh"))):f(0))};return oe(()=>e.modelValue,p=>{o.duration=+e.animationDuration,p?f(+e.headHeight,!0):n.success||e.successText?E():f(0,!1)}),()=>{var p;const b={transitionDuration:`${o.duration}ms`,transform:o.distance?`translate3d(0,${o.distance}px, 0)`:""};return R("div",{ref:a,class:oo()},[R("div",{class:oo("track"),style:b,onTouchstart:d,onTouchmove:g,onTouchend:h,onTouchcancel:h},[R("div",{class:oo("head"),style:u()},[S()]),(p=n.default)==null?void 0:p.call(n)])])}}});const RG=Ce(LG),[xG,ks]=ve("rate");function $G(e,t,n,r){return e>=t?{status:"full",value:1}:e+.5>=t&&n&&!r?{status:"half",value:.5}:e+1>=t&&n&&r?{status:"half",value:Math.round((e-t+1)*1e10)/1e10}:{status:"void",value:0}}const MG={size:pe,icon:we("star"),color:String,count:Pe(5),gutter:pe,readonly:Boolean,disabled:Boolean,voidIcon:we("star-o"),allowHalf:Boolean,voidColor:String,touchable:ce,iconPrefix:String,modelValue:tr(0),disabledColor:String};var FG=ee({name:xG,props:MG,emits:["change","update:modelValue"],setup(e,{emit:t}){const n=rr(),[r,a]=Yl(),i=q(),o=()=>e.readonly||e.disabled||!e.touchable,l=j(()=>Array(+e.count).fill("").map((h,p)=>$G(e.modelValue,p+1,e.allowHalf,e.readonly)));let u,s,c=Number.MAX_SAFE_INTEGER,f=Number.MIN_SAFE_INTEGER;const v=()=>{s=dt(i);const h=r.value.map(dt);u=[],h.forEach((p,b)=>{c=Math.min(p.top,c),f=Math.max(p.top,f),e.allowHalf?u.push({score:b+.5,left:p.left,top:p.top,height:p.height},{score:b+1,left:p.left+p.width/2,top:p.top,height:p.height}):u.push({score:b+1,left:p.left,top:p.top,height:p.height})})},S=(h,p)=>{for(let b=u.length-1;b>0;b--)if(p>=s.top&&p<=s.bottom){if(h>u[b].left&&p>=u[b].top&&p<=u[b].top+u[b].height)return u[b].score}else{const y=p<s.top?c:f;if(h>u[b].left&&u[b].top===y)return u[b].score}return e.allowHalf?.5:1},E=h=>{!e.disabled&&!e.readonly&&h!==e.modelValue&&(t("update:modelValue",h),t("change",h))},m=h=>{o()||(n.start(h),v())},d=h=>{if(!o()&&(n.move(h),n.isHorizontal())){const{clientX:p,clientY:b}=h.touches[0];Ct(h),E(S(p,b))}},g=(h,p)=>{const{icon:b,size:y,color:C,count:w,gutter:k,voidIcon:_,disabled:T,voidColor:O,allowHalf:A,iconPrefix:P,disabledColor:D}=e,I=p+1,x=h.status==="full",L=h.status==="void",$=A&&h.value>0&&h.value<1;let M;k&&I!==+w&&(M={paddingRight:at(k)});const N=F=>{v(),E(A?S(F.clientX,F.clientY):I)};return R("div",{key:p,ref:a(p),role:"radio",style:M,class:ks("item"),tabindex:T?void 0:0,"aria-setsize":w,"aria-posinset":I,"aria-checked":!L,onClick:N},[R(Ke,{size:y,name:x?b:_,class:ks("icon",{disabled:T,full:x}),color:T?D:x?C:O,classPrefix:P},null),$&&R(Ke,{size:y,style:{width:h.value+"em"},name:L?_:b,class:ks("icon",["half",{disabled:T,full:!L}]),color:T?D:L?O:C,classPrefix:P},null)])};return Xr(()=>e.modelValue),()=>R("div",{ref:i,role:"radiogroup",class:ks({readonly:e.readonly,disabled:e.disabled}),tabindex:e.disabled?void 0:0,"aria-disabled":e.disabled,"aria-readonly":e.readonly,onTouchstart:m,onTouchmove:d},[l.value.map(g)])}});const BG=Ce(FG),NG=Ce(e6),[jG,so,UG]=ve("search"),VG=xe({},lf,{label:String,shape:we("square"),leftIcon:we("search"),clearable:ce,actionText:String,background:String,showAction:Boolean});var HG=ee({name:jG,props:VG,emits:["blur","focus","clear","search","cancel","click-input","click-left-icon","click-right-icon","update:modelValue"],setup(e,{emit:t,slots:n,attrs:r}){const a=Ko(),i=q(),o=()=>{n.action||(t("update:modelValue",""),t("cancel"))},l=y=>{y.keyCode===13&&(Ct(y),t("search",e.modelValue))},u=()=>e.id||`${a}-input`,s=()=>{if(n.label||e.label)return R("label",{class:so("label"),for:u()},[n.label?n.label():e.label])},c=()=>{if(e.showAction){const y=e.actionText||UG("cancel");return R("div",{class:so("action"),role:"button",tabindex:0,onClick:o},[n.action?n.action():y])}},f=()=>{var y;return(y=i.value)==null?void 0:y.blur()},v=()=>{var y;return(y=i.value)==null?void 0:y.focus()},S=y=>t("blur",y),E=y=>t("focus",y),m=y=>t("clear",y),d=y=>t("click-input",y),g=y=>t("click-left-icon",y),h=y=>t("click-right-icon",y),p=Object.keys(lf),b=()=>{const y=xe({},r,ht(e,p),{id:u()}),C=w=>t("update:modelValue",w);return R(er,We({ref:i,type:"search",class:so("field"),border:!1,onBlur:S,onFocus:E,onClear:m,onKeypress:l,"onClick-input":d,"onClick-left-icon":g,"onClick-right-icon":h,"onUpdate:modelValue":C},y),ht(n,["left-icon","right-icon"]))};return ot({focus:v,blur:f}),()=>{var y;return R("div",{class:so({"show-action":e.showAction}),style:{background:e.background}},[(y=n.left)==null?void 0:y.call(n),R("div",{class:so("content",e.shape)},[s(),b()]),c()])}}});const zG=Ce(HG),GG=[...rf,"round","closeOnPopstate","safeAreaInsetBottom"],Rp={qq:"qq",link:"link-o",weibo:"weibo",qrcode:"qr",poster:"photo-o",wechat:"wechat","weapp-qrcode":"miniprogram-o","wechat-moments":"wechat-moments"},[KG,Pn,WG]=ve("share-sheet"),YG=xe({},Mi,{title:String,round:ce,options:Ut(),cancelText:String,description:String,closeOnPopstate:ce,safeAreaInsetBottom:ce});var qG=ee({name:KG,props:YG,emits:["cancel","select","update:show"],setup(e,{emit:t,slots:n}){const r=v=>t("update:show",v),a=()=>{r(!1),t("cancel")},i=(v,S)=>t("select",v,S),o=()=>{const v=n.title?n.title():e.title,S=n.description?n.description():e.description;if(v||S)return R("div",{class:Pn("header")},[v&&R("h2",{class:Pn("title")},[v]),S&&R("span",{class:Pn("description")},[S])])},l=v=>Rp[v]?R("div",{class:Pn("icon",[v])},[R(Ke,{name:Rp[v]||v},null)]):R("img",{src:v,class:Pn("image-icon")},null),u=(v,S)=>{const{name:E,icon:m,className:d,description:g}=v;return R("div",{role:"button",tabindex:0,class:[Pn("option"),d,an],onClick:()=>i(v,S)},[l(m),E&&R("span",{class:Pn("name")},[E]),g&&R("span",{class:Pn("option-description")},[g])])},s=(v,S)=>R("div",{class:Pn("options",{border:S})},[v.map(u)]),c=()=>{const{options:v}=e;return Array.isArray(v[0])?v.map((S,E)=>s(S,E!==0)):s(v)},f=()=>{var v;const S=(v=e.cancelText)!=null?v:WG("cancel");if(n.cancel||S)return R("button",{type:"button",class:Pn("cancel"),onClick:a},[n.cancel?n.cancel():S])};return()=>R(Vn,We({class:Pn(),position:"bottom","onUpdate:show":r},ht(e,GG)),{default:()=>[o(),c(),f()]})}});const XG=Ce(qG),[OT,ZG]=ve("sidebar"),kT=Symbol(OT),JG={modelValue:Pe(0)};var QG=ee({name:OT,props:JG,emits:["change","update:modelValue"],setup(e,{emit:t,slots:n}){const{linkChildren:r}=en(kT),a=()=>+e.modelValue;return r({getActive:a,setActive:o=>{o!==a()&&(t("update:modelValue",o),t("change",o))}}),()=>{var o;return R("div",{role:"tablist",class:ZG()},[(o=n.default)==null?void 0:o.call(n)])}}});const _T=Ce(QG),[e9,xp]=ve("sidebar-item"),t9=xe({},ea,{dot:Boolean,title:String,badge:pe,disabled:Boolean,badgeProps:Object});var n9=ee({name:e9,props:t9,emits:["click"],setup(e,{emit:t,slots:n}){const r=Pa(),{parent:a,index:i}=Zt(kT);if(!a)return;const o=()=>{e.disabled||(t("click",i.value),a.setActive(i.value),r())};return()=>{const{dot:l,badge:u,title:s,disabled:c}=e,f=i.value===a.getActive();return R("div",{role:"tab",class:xp({select:f,disabled:c}),tabindex:c?void 0:0,"aria-selected":f,onClick:o},[R(Ia,We({dot:l,class:xp("text"),content:u},e.badgeProps),{default:()=>[n.title?n.title():s]})])}}});const AT=Ce(n9),[r9,lo]=ve("skeleton"),DT="100%",a9="60%",i9={row:Pe(0),title:Boolean,round:Boolean,avatar:Boolean,loading:ce,animate:ce,avatarSize:pe,titleWidth:pe,avatarShape:we("round"),rowWidth:{type:[Number,String,Array],default:DT}};var o9=ee({name:r9,inheritAttrs:!1,props:i9,setup(e,{slots:t,attrs:n}){const r=()=>{if(e.avatar)return R("div",{class:lo("avatar",e.avatarShape),style:Zr(e.avatarSize)},null)},a=()=>{if(e.title)return R("h3",{class:lo("title"),style:{width:at(e.titleWidth)}},null)},i=l=>{const{rowWidth:u}=e;return u===DT&&l===+e.row-1?a9:Array.isArray(u)?u[l]:u},o=()=>Array(+e.row).fill("").map((l,u)=>R("div",{class:lo("row"),style:{width:at(i(u))}},null));return()=>{var l;return e.loading?R("div",We({class:lo({animate:e.animate,round:e.round})},n),[r(),R("div",{class:lo("content")},[a(),o()])]):(l=t.default)==null?void 0:l.call(t)}}});const s9=Ce(o9),[l9,uo]=ve("slider"),u9={min:Pe(0),max:Pe(100),step:Pe(1),range:Boolean,reverse:Boolean,disabled:Boolean,readonly:Boolean,vertical:Boolean,barHeight:pe,buttonSize:pe,activeColor:String,inactiveColor:String,modelValue:{type:[Number,Array],default:0}};var c9=ee({name:l9,props:u9,emits:["change","drag-end","drag-start","update:modelValue"],setup(e,{emit:t,slots:n}){let r,a,i;const o=q(),l=q(),u=rr(),s=j(()=>Number(e.max)-Number(e.min)),c=j(()=>{const T=e.vertical?"width":"height";return{background:e.inactiveColor,[T]:at(e.barHeight)}}),f=T=>e.range&&Array.isArray(T),v=()=>{const{modelValue:T,min:O}=e;return f(T)?`${(T[1]-T[0])*100/s.value}%`:`${(T-Number(O))*100/s.value}%`},S=()=>{const{modelValue:T,min:O}=e;return f(T)?`${(T[0]-Number(O))*100/s.value}%`:"0%"},E=j(()=>{const O={[e.vertical?"height":"width"]:v(),background:e.activeColor};l.value&&(O.transition="none");const A=()=>e.vertical?e.reverse?"bottom":"top":e.reverse?"right":"left";return O[A()]=S(),O}),m=T=>{const O=+e.min,A=+e.max,P=+e.step;T=Kt(T,O,A);const D=Math.round((T-O)/P)*P;return pS(O,D)},d=(T,O)=>JSON.stringify(T)===JSON.stringify(O),g=T=>{var O,A;const P=(O=T[0])!=null?O:Number(e.min),D=(A=T[1])!=null?A:Number(e.max);return P>D?[D,P]:[P,D]},h=(T,O)=>{f(T)?T=g(T).map(m):T=m(T),d(T,e.modelValue)||t("update:modelValue",T),O&&!d(T,i)&&t("change",T)},p=T=>{if(T.stopPropagation(),e.disabled||e.readonly)return;const{min:O,reverse:A,vertical:P,modelValue:D}=e,I=dt(o),x=()=>P?A?I.bottom-T.clientY:T.clientY-I.top:A?I.right-T.clientX:T.clientX-I.left,L=P?I.height:I.width,$=Number(O)+x()/L*s.value;if(f(D)){const[M,N]=D,F=(M+N)/2;$<=F?h([$,N],!0):h([M,$],!0)}else h($,!0)},b=T=>{e.disabled||e.readonly||(u.start(T),a=e.modelValue,f(a)?i=a.map(m):i=m(a),l.value="start")},y=T=>{if(e.disabled||e.readonly)return;l.value==="start"&&t("drag-start",T),Ct(T,!0),u.move(T),l.value="dragging";const O=dt(o),A=e.vertical?u.deltaY.value:u.deltaX.value,P=e.vertical?O.height:O.width;let D=A/P*s.value;if(e.reverse&&(D=-D),f(i)){const I=e.reverse?1-r:r;a[I]=i[I]+D}else a=i+D;h(a)},C=T=>{e.disabled||e.readonly||(l.value==="dragging"&&(h(a,!0),t("drag-end",T)),l.value="")},w=T=>typeof T=="number"?uo("button-wrapper",["left","right"][T]):uo("button-wrapper",e.reverse?"left":"right"),k=(T,O)=>{if(typeof O=="number"){const A=n[O===0?"left-button":"right-button"];if(A)return A({value:T})}return n.button?n.button({value:T}):R("div",{class:uo("button"),style:Zr(e.buttonSize)},null)},_=T=>{const O=typeof T=="number"?e.modelValue[T]:e.modelValue;return R("div",{role:"slider",class:w(T),tabindex:e.disabled?void 0:0,"aria-valuemin":e.min,"aria-valuenow":O,"aria-valuemax":e.max,"aria-disabled":e.disabled||void 0,"aria-readonly":e.readonly||void 0,"aria-orientation":e.vertical?"vertical":"horizontal",onTouchstart:A=>{typeof T=="number"&&(r=T),b(A)},onTouchmove:y,onTouchend:C,onTouchcancel:C,onClick:Qd},[k(O,T)])};return h(e.modelValue),Xr(()=>e.modelValue),()=>R("div",{ref:o,style:c.value,class:uo({vertical:e.vertical,disabled:e.disabled}),onClick:p},[R("div",{class:uo("bar"),style:E.value},[e.range?[_(0),_(1)]:_()])])}});const d9=Ce(c9),[PT,$p]=ve("steps"),f9={active:Pe(0),direction:we("horizontal"),activeIcon:we("checked"),iconPrefix:String,finishIcon:String,activeColor:String,inactiveIcon:String,inactiveColor:String},IT=Symbol(PT);var h9=ee({name:PT,props:f9,emits:["click-step"],setup(e,{emit:t,slots:n}){const{linkChildren:r}=en(IT);return r({props:e,onClickStep:i=>t("click-step",i)}),()=>{var i;return R("div",{class:$p([e.direction])},[R("div",{class:$p("items")},[(i=n.default)==null?void 0:i.call(n)])])}}});const[v9,Ir]=ve("step");var m9=ee({name:v9,setup(e,{slots:t}){const{parent:n,index:r}=Zt(IT);if(!n)return;const a=n.props,i=()=>{const f=+a.active;return r.value<f?"finish":r.value===f?"process":"waiting"},o=()=>i()==="process",l=j(()=>({background:i()==="finish"?a.activeColor:a.inactiveColor})),u=j(()=>{if(o())return{color:a.activeColor};if(i()==="waiting")return{color:a.inactiveColor}}),s=()=>n.onClickStep(r.value),c=()=>{const{iconPrefix:f,finishIcon:v,activeIcon:S,activeColor:E,inactiveIcon:m}=a;return o()?t["active-icon"]?t["active-icon"]():R(Ke,{class:Ir("icon","active"),name:S,color:E,classPrefix:f},null):i()==="finish"&&(v||t["finish-icon"])?t["finish-icon"]?t["finish-icon"]():R(Ke,{class:Ir("icon","finish"),name:v,color:E,classPrefix:f},null):t["inactive-icon"]?t["inactive-icon"]():m?R(Ke,{class:Ir("icon"),name:m,classPrefix:f},null):R("i",{class:Ir("circle"),style:l.value},null)};return()=>{var f;const v=i();return R("div",{class:[Jr,Ir([a.direction,{[v]:v}])]},[R("div",{class:Ir("title",{active:o()}),style:u.value,onClick:s},[(f=t.default)==null?void 0:f.call(t)]),R("div",{class:Ir("circle-container"),onClick:s},[c()]),R("div",{class:Ir("line"),style:l.value},null)])}}});const g9=Ce(m9),[p9,_s]=ve("stepper"),y9=200,b9=600,As=(e,t)=>String(e)===String(t),S9={min:Pe(1),max:Pe(1/0),name:Pe(""),step:Pe(1),theme:String,integer:Boolean,disabled:Boolean,showPlus:ce,showMinus:ce,showInput:ce,longPress:ce,allowEmpty:Boolean,modelValue:pe,inputWidth:pe,buttonSize:pe,placeholder:String,disablePlus:Boolean,disableMinus:Boolean,disableInput:Boolean,beforeChange:Function,defaultValue:Pe(1),decimalLength:pe};var T9=ee({name:p9,props:S9,emits:["plus","blur","minus","focus","change","overlimit","update:modelValue"],setup(e,{emit:t}){const n=k=>{const{min:_,max:T,allowEmpty:O,decimalLength:A}=e;return O&&k===""||(k=Vc(String(k),!e.integer),k=k===""?0:+k,k=Number.isNaN(k)?+_:k,k=Math.max(Math.min(+T,k),+_),nt(A)&&(k=k.toFixed(+A))),k},r=()=>{var k;const _=(k=e.modelValue)!=null?k:e.defaultValue,T=n(_);return As(T,e.modelValue)||t("update:modelValue",T),T};let a;const i=q(),o=q(r()),l=j(()=>e.disabled||e.disableMinus||o.value<=+e.min),u=j(()=>e.disabled||e.disablePlus||o.value>=+e.max),s=j(()=>({width:at(e.inputWidth),height:at(e.buttonSize)})),c=j(()=>Zr(e.buttonSize)),f=()=>{const k=n(o.value);As(k,o.value)||(o.value=k)},v=k=>{e.beforeChange?Qr(e.beforeChange,{args:[k],done(){o.value=k}}):o.value=k},S=()=>{if(a==="plus"&&u.value||a==="minus"&&l.value){t("overlimit",a);return}const k=a==="minus"?-e.step:+e.step,_=n(pS(+o.value,k));v(_),t(a)},E=k=>{const _=k.target,{value:T}=_,{decimalLength:O}=e;let A=Vc(String(T),!e.integer);if(nt(O)&&A.includes(".")){const D=A.split(".");A=`${D[0]}.${D[1].slice(0,+O)}`}e.beforeChange?_.value=String(o.value):As(T,A)||(_.value=A);const P=A===String(+A);v(P?+A:A)},m=k=>{var _;e.disableInput?(_=i.value)==null||_.blur():t("focus",k)},d=k=>{const _=k.target,T=n(_.value);_.value=String(T),o.value=T,Re(()=>{t("blur",k),mS()})};let g,h;const p=()=>{h=setTimeout(()=>{S(),p()},y9)},b=()=>{e.longPress&&(g=!1,clearTimeout(h),h=setTimeout(()=>{g=!0,S(),p()},b9))},y=k=>{e.longPress&&(clearTimeout(h),g&&Ct(k))},C=k=>{e.disableInput&&Ct(k)},w=k=>({onClick:_=>{Ct(_),a=k,S()},onTouchstart:()=>{a=k,b()},onTouchend:y,onTouchcancel:y});return oe(()=>[e.max,e.min,e.integer,e.decimalLength],f),oe(()=>e.modelValue,k=>{As(k,o.value)||(o.value=n(k))}),oe(o,k=>{t("update:modelValue",k),t("change",k,{name:e.name})}),Xr(()=>e.modelValue),()=>R("div",{role:"group",class:_s([e.theme])},[Ge(R("button",We({type:"button",style:c.value,class:[_s("minus",{disabled:l.value}),{[an]:!l.value}],"aria-disabled":l.value||void 0},w("minus")),null),[[qe,e.showMinus]]),Ge(R("input",{ref:i,type:e.integer?"tel":"text",role:"spinbutton",class:_s("input"),value:o.value,style:s.value,disabled:e.disabled,readonly:e.disableInput,inputmode:e.integer?"numeric":"decimal",placeholder:e.placeholder,"aria-valuemax":e.max,"aria-valuemin":e.min,"aria-valuenow":o.value,onBlur:d,onInput:E,onFocus:m,onMousedown:C},null),[[qe,e.showInput]]),Ge(R("button",We({type:"button",style:c.value,class:[_s("plus",{disabled:u.value}),{[an]:!u.value}],"aria-disabled":u.value||void 0},w("plus")),null),[[qe,e.showPlus]])])}});const C9=Ce(T9),E9=Ce(h9),[w9,Zn,O9]=ve("submit-bar"),k9={tip:String,label:String,price:Number,tipIcon:String,loading:Boolean,currency:we("\xA5"),disabled:Boolean,textAlign:String,buttonText:String,buttonType:we("danger"),buttonColor:String,suffixLabel:String,decimalLength:Pe(2),safeAreaInsetBottom:ce};var _9=ee({name:w9,props:k9,emits:["submit"],setup(e,{emit:t,slots:n}){const r=()=>{const{price:l,label:u,currency:s,textAlign:c,suffixLabel:f,decimalLength:v}=e;if(typeof l=="number"){const S=(l/100).toFixed(+v).split("."),E=v?`.${S[1]}`:"";return R("div",{class:Zn("text"),style:{textAlign:c}},[R("span",null,[u||O9("label")]),R("span",{class:Zn("price")},[s,R("span",{class:Zn("price-integer")},[S[0]]),E]),f&&R("span",{class:Zn("suffix-label")},[f])])}},a=()=>{var l;const{tip:u,tipIcon:s}=e;if(n.tip||u)return R("div",{class:Zn("tip")},[s&&R(Ke,{class:Zn("tip-icon"),name:s},null),u&&R("span",{class:Zn("tip-text")},[u]),(l=n.tip)==null?void 0:l.call(n)])},i=()=>t("submit"),o=()=>n.button?n.button():R(on,{round:!0,type:e.buttonType,text:e.buttonText,class:Zn("button",e.buttonType),color:e.buttonColor,loading:e.loading,disabled:e.disabled,onClick:i},null);return()=>{var l,u;return R("div",{class:[Zn(),{"van-safe-area-bottom":e.safeAreaInsetBottom}]},[(l=n.top)==null?void 0:l.call(n),a(),R("div",{class:Zn("bar")},[(u=n.default)==null?void 0:u.call(n),r(),o()])])}}});const A9=Ce(_9),[D9,Gu]=ve("swipe-cell"),P9={name:Pe(""),disabled:Boolean,leftWidth:pe,rightWidth:pe,beforeClose:Function,stopPropagation:Boolean};var I9=ee({name:D9,props:P9,emits:["open","close","click"],setup(e,{emit:t,slots:n}){let r,a,i;const o=q(),l=q(),u=q(),s=Me({offset:0,dragging:!1}),c=rr(),f=w=>w.value?dt(w).width:0,v=j(()=>nt(e.leftWidth)?+e.leftWidth:f(l)),S=j(()=>nt(e.rightWidth)?+e.rightWidth:f(u)),E=w=>{s.offset=w==="left"?v.value:-S.value,r||(r=!0,t("open",{name:e.name,position:w}))},m=w=>{s.offset=0,r&&(r=!1,t("close",{name:e.name,position:w}))},d=w=>{const k=Math.abs(s.offset),_=.15,T=r?1-_:_,O=w==="left"?v.value:S.value;O&&k>O*T?E(w):m(w)},g=w=>{e.disabled||(i=s.offset,c.start(w))},h=w=>{if(e.disabled)return;const{deltaX:k}=c;c.move(w),c.isHorizontal()&&(a=!0,s.dragging=!0,(!r||k.value*i<0)&&Ct(w,e.stopPropagation),s.offset=Kt(k.value+i,-S.value,v.value))},p=()=>{s.dragging&&(s.dragging=!1,d(s.offset>0?"left":"right"),setTimeout(()=>{a=!1},0))},b=(w="outside")=>{t("click",w),r&&!a&&Qr(e.beforeClose,{args:[{name:e.name,position:w}],done:()=>m(w)})},y=(w,k)=>_=>{k&&_.stopPropagation(),b(w)},C=(w,k)=>{const _=n[w];if(_)return R("div",{ref:k,class:Gu(w),onClick:y(w,!0)},[_()])};return ot({open:E,close:m}),Fl(o,()=>b("outside"),{eventName:"touchstart"}),()=>{var w;const k={transform:`translate3d(${s.offset}px, 0, 0)`,transitionDuration:s.dragging?"0s":".6s"};return R("div",{ref:o,class:Gu(),onClick:y("cell",a),onTouchstart:g,onTouchmove:h,onTouchend:p,onTouchcancel:p},[R("div",{class:Gu("wrapper"),style:k},[C("left",l),(w=n.default)==null?void 0:w.call(n),C("right",u)])])}}});const L9=Ce(I9),[LT,Mp]=ve("tabbar"),R9={route:Boolean,fixed:ce,border:ce,zIndex:pe,placeholder:Boolean,activeColor:String,beforeChange:Function,inactiveColor:String,modelValue:Pe(0),safeAreaInsetBottom:{type:Boolean,default:null}},RT=Symbol(LT);var x9=ee({name:LT,props:R9,emits:["change","update:modelValue"],setup(e,{emit:t,slots:n}){const r=q(),{linkChildren:a}=en(RT),i=mT(r,Mp),o=()=>{var s;return(s=e.safeAreaInsetBottom)!=null?s:e.fixed},l=()=>{var s;const{fixed:c,zIndex:f,border:v}=e;return R("div",{ref:r,role:"tablist",style:Da(f),class:[Mp({fixed:c}),{[jl]:v,"van-safe-area-bottom":o()}]},[(s=n.default)==null?void 0:s.call(n)])};return a({props:e,setActive:(s,c)=>{Qr(e.beforeChange,{args:[s],done(){t("update:modelValue",s),t("change",s),c()}})}}),()=>e.fixed&&e.placeholder?i(l):l()}});const $9=Ce(x9),[M9,Ku]=ve("tabbar-item"),F9=xe({},ea,{dot:Boolean,icon:String,name:pe,badge:pe,badgeProps:Object,iconPrefix:String});var B9=ee({name:M9,props:F9,emits:["click"],setup(e,{emit:t,slots:n}){const r=Pa(),a=Be().proxy,{parent:i,index:o}=Zt(RT);if(!i)return;const l=j(()=>{var c;const{route:f,modelValue:v}=i.props;if(f&&"$route"in a){const{$route:S}=a,{to:E}=e,m=On(E)?E:{path:E};return!!S.matched.find(d=>{const g="path"in m&&m.path===d.path,h="name"in m&&m.name===d.name;return g||h})}return((c=e.name)!=null?c:o.value)===v}),u=c=>{var f;l.value||i.setActive((f=e.name)!=null?f:o.value,r),t("click",c)},s=()=>{if(n.icon)return n.icon({active:l.value});if(e.icon)return R(Ke,{name:e.icon,classPrefix:e.iconPrefix},null)};return()=>{var c;const{dot:f,badge:v}=e,{activeColor:S,inactiveColor:E}=i.props,m=l.value?S:E;return R("div",{role:"tab",class:Ku({active:l.value}),style:{color:m},tabindex:0,"aria-selected":l.value,onClick:u},[R(Ia,We({dot:f,class:Ku("icon"),content:v},e.badgeProps),{default:s}),R("div",{class:Ku("text")},[(c=n.default)==null?void 0:c.call(n,{active:l.value})])])}}});const N9=Ce(B9),[j9,qa]=ve("tree-select"),U9={max:Pe(1/0),items:Ut(),height:Pe(300),selectedIcon:we("success"),mainActiveIndex:Pe(0),activeId:{type:[Number,String,Array],default:0}};var V9=ee({name:j9,props:U9,emits:["click-nav","click-item","update:activeId","update:mainActiveIndex"],setup(e,{emit:t,slots:n}){const r=s=>Array.isArray(e.activeId)?e.activeId.includes(s):e.activeId===s,a=s=>{const c=()=>{if(s.disabled)return;let f;if(Array.isArray(e.activeId)){f=e.activeId.slice();const v=f.indexOf(s.id);v!==-1?f.splice(v,1):f.length<e.max&&f.push(s.id)}else f=s.id;t("update:activeId",f),t("click-item",s)};return R("div",{key:s.id,class:["van-ellipsis",qa("item",{active:r(s.id),disabled:s.disabled})],onClick:c},[s.text,r(s.id)&&R(Ke,{name:e.selectedIcon,class:qa("selected")},null)])},i=s=>{t("update:mainActiveIndex",s)},o=s=>t("click-nav",s),l=()=>{const s=e.items.map(c=>R(AT,{dot:c.dot,title:c.text,badge:c.badge,class:[qa("nav-item"),c.className],disabled:c.disabled,onClick:o},null));return R(_T,{class:qa("nav"),modelValue:e.mainActiveIndex,onChange:i},{default:()=>[s]})},u=()=>{if(n.content)return n.content();const s=e.items[+e.mainActiveIndex]||{};if(s.children)return s.children.map(a)};return()=>R("div",{class:qa(),style:{height:at(e.height)}},[l(),R("div",{class:qa("content")},[u()])])}});const H9=Ce(V9),[z9,Rt,G9]=ve("uploader");function Fp(e,t){return new Promise(n=>{if(t==="file"){n();return}const r=new FileReader;r.onload=a=>{n(a.target.result)},t==="dataUrl"?r.readAsDataURL(e):t==="text"&&r.readAsText(e)})}function xT(e,t){return nl(e).some(n=>n.file?pi(t)?t(n.file):n.file.size>t:!1)}function K9(e,t){const n=[],r=[];return e.forEach(a=>{xT(a,t)?r.push(a):n.push(a)}),{valid:n,invalid:r}}const W9=/\.(jpeg|jpg|gif|png|svg|webp|jfif|bmp|dpg)/i,Y9=e=>W9.test(e);function $T(e){return e.isImage?!0:e.file&&e.file.type?e.file.type.indexOf("image")===0:e.url?Y9(e.url):typeof e.content=="string"?e.content.indexOf("data:image")===0:!1}var q9=ee({props:{name:pe,item:$t(Object),index:Number,imageFit:String,lazyLoad:Boolean,deletable:Boolean,previewSize:[Number,String,Array],beforeDelete:Function},emits:["delete","preview"],setup(e,{emit:t,slots:n}){const r=()=>{const{status:s,message:c}=e.item;if(s==="uploading"||s==="failed"){const f=s==="failed"?R(Ke,{name:"close",class:Rt("mask-icon")},null):R(Un,{class:Rt("loading")},null),v=nt(c)&&c!=="";return R("div",{class:Rt("mask")},[f,v&&R("div",{class:Rt("mask-message")},[c])])}},a=s=>{const{name:c,item:f,index:v,beforeDelete:S}=e;s.stopPropagation(),Qr(S,{args:[f,{name:c,index:v}],done:()=>t("delete")})},i=()=>t("preview"),o=()=>{if(e.deletable&&e.item.status!=="uploading")return R("div",{role:"button",class:Rt("preview-delete"),tabindex:0,"aria-label":G9("delete"),onClick:a},[R(Ke,{name:"cross",class:Rt("preview-delete-icon")},null)])},l=()=>{if(n["preview-cover"]){const{index:s,item:c}=e;return R("div",{class:Rt("preview-cover")},[n["preview-cover"](xe({index:s},c))])}},u=()=>{const{item:s,lazyLoad:c,imageFit:f,previewSize:v}=e;return $T(s)?R(ql,{fit:f,src:s.content||s.url,class:Rt("preview-image"),width:Array.isArray(v)?v[0]:v,height:Array.isArray(v)?v[1]:v,lazyLoad:c,onClick:i},{default:l}):R("div",{class:Rt("file"),style:Zr(e.previewSize)},[R(Ke,{class:Rt("file-icon"),name:"description"},null),R("div",{class:[Rt("file-name"),"van-ellipsis"]},[s.file?s.file.name:s.url]),l()])};return()=>R("div",{class:Rt("preview")},[u(),r(),o()])}});const X9={name:Pe(""),accept:we("image/*"),capture:String,multiple:Boolean,disabled:Boolean,readonly:Boolean,lazyLoad:Boolean,maxCount:Pe(1/0),imageFit:we("cover"),resultType:we("dataUrl"),uploadIcon:we("photograph"),uploadText:String,deletable:ce,afterRead:Function,showUpload:ce,modelValue:Ut(),beforeRead:Function,beforeDelete:Function,previewSize:[Number,String,Array],previewImage:ce,previewOptions:Object,previewFullImage:ce,maxSize:{type:[Number,String,Function],default:1/0}};var Z9=ee({name:z9,props:X9,emits:["delete","oversize","click-upload","close-preview","click-preview","update:modelValue"],setup(e,{emit:t,slots:n}){const r=q(),a=[],i=(b=e.modelValue.length)=>({name:e.name,index:b}),o=()=>{r.value&&(r.value.value="")},l=b=>{if(o(),xT(b,e.maxSize))if(Array.isArray(b)){const y=K9(b,e.maxSize);if(b=y.valid,t("oversize",y.invalid,i()),!b.length)return}else{t("oversize",b,i());return}b=Me(b),t("update:modelValue",[...e.modelValue,...nl(b)]),e.afterRead&&e.afterRead(b,i())},u=b=>{const{maxCount:y,modelValue:C,resultType:w}=e;if(Array.isArray(b)){const k=+y-C.length;b.length>k&&(b=b.slice(0,k)),Promise.all(b.map(_=>Fp(_,w))).then(_=>{const T=b.map((O,A)=>{const P={file:O,status:"",message:""};return _[A]&&(P.content=_[A]),P});l(T)})}else Fp(b,w).then(k=>{const _={file:b,status:"",message:""};k&&(_.content=k),l(_)})},s=b=>{const{files:y}=b.target;if(e.disabled||!y||!y.length)return;const C=y.length===1?y[0]:[].slice.call(y);if(e.beforeRead){const w=e.beforeRead(C,i());if(!w){o();return}if(Jd(w)){w.then(k=>{u(k||C)}).catch(o);return}}u(C)};let c;const f=()=>t("close-preview"),v=b=>{if(e.previewFullImage){const y=e.modelValue.filter($T),C=y.map(w=>(w.file&&!w.url&&(w.url=URL.createObjectURL(w.file),a.push(w.url)),w.url)).filter(Boolean);c=$o(xe({images:C,startPosition:y.indexOf(b),onClose:f},e.previewOptions))}},S=()=>{c&&c.close()},E=(b,y)=>{const C=e.modelValue.slice(0);C.splice(y,1),t("update:modelValue",C),t("delete",b,i(y))},m=(b,y)=>{const C=["imageFit","deletable","previewSize","beforeDelete"],w=xe(ht(e,C),ht(b,C,!0));return R(q9,We({item:b,index:y,onClick:()=>t("click-preview",b,i(y)),onDelete:()=>E(b,y),onPreview:()=>v(b)},ht(e,["name","lazyLoad"]),w),{"preview-cover":n["preview-cover"]})},d=()=>{if(e.previewImage)return e.modelValue.map(m)},g=b=>t("click-upload",b),h=()=>{if(e.modelValue.length>=e.maxCount||!e.showUpload)return;const b=e.readonly?null:R("input",{ref:r,type:"file",class:Rt("input"),accept:e.accept,capture:e.capture,multiple:e.multiple,disabled:e.disabled,onChange:s},null);return n.default?R("div",{class:Rt("input-wrapper"),onClick:g},[n.default(),b]):R("div",{class:Rt("upload",{readonly:e.readonly}),style:Zr(e.previewSize),onClick:g},[R(Ke,{name:e.uploadIcon,class:Rt("upload-icon")},null),e.uploadText&&R("span",{class:Rt("upload-text")},[e.uploadText]),b])},p=()=>{r.value&&!e.disabled&&r.value.click()};return Bn(()=>{a.forEach(b=>URL.revokeObjectURL(b))}),ot({chooseFile:p,closeImagePreview:S}),Xr(()=>e.modelValue),()=>R("div",{class:Rt()},[R("div",{class:Rt("wrapper",{disabled:e.disabled})},[d(),h()])])}});const J9=Ce(Z9),Q9="3.4.9";function eK(e){[wS,zc,mU,DU,E8,N8,LS,Ia,on,Q8,oV,RV,Hn,FV,eT,GV,ZV,i6,u6,v6,m6,b6,E6,A6,x6,Xc,V6,Q6,lH,Ft,pH,EH,wH,oT,er,sf,AH,LH,Ke,ql,$o,KH,WH,JH,Un,bS,nz,oz,gn,bz,DS,Ez,_z,Vl,EG,Vn,_G,RG,hf,df,BG,NG,zG,XG,_T,AT,s9,d9,g9,C9,E9,KS,A9,mf,L9,gf,cf,sl,$9,N9,pf,Wl,sn,H9,J9].forEach(n=>{n.install?e.use(n):n.name&&e.component(n.name,n)})}var tK={install:eK,version:Q9};const nK="modulepreload",Bp={},rK="./",gt=function(t,n){return!n||n.length===0?t():Promise.all(n.map(r=>{if(r=`${rK}${r}`,r in Bp)return;Bp[r]=!0;const a=r.endsWith(".css"),i=a?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${r}"]${i}`))return;const o=document.createElement("link");if(o.rel=a?"stylesheet":nK,a||(o.as="script",o.crossOrigin=""),o.href=r,document.head.appendChild(o),a)return new Promise((l,u)=>{o.addEventListener("load",l),o.addEventListener("error",()=>u(new Error(`Unable to preload CSS for ${r}`)))})})).then(()=>t())};/*!
  * vue-router v4.0.15
  * (c) 2022 Eduardo San Martin Morote
  * @license MIT
  */const MT=typeof Symbol=="function"&&typeof Symbol.toStringTag=="symbol",Fi=e=>MT?Symbol(e):"_vr_"+e,FT=Fi("rvlm"),Np=Fi("rvd"),Ql=Fi("r"),Of=Fi("rl"),Jc=Fi("rvl"),ii=typeof window!="undefined";function aK(e){return e.__esModule||MT&&e[Symbol.toStringTag]==="Module"}const lt=Object.assign;function Wu(e,t){const n={};for(const r in t){const a=t[r];n[r]=Array.isArray(a)?a.map(e):e(a)}return n}const ko=()=>{},iK=/\/$/,oK=e=>e.replace(iK,"");function Yu(e,t,n="/"){let r,a={},i="",o="";const l=t.indexOf("?"),u=t.indexOf("#",l>-1?l:0);return l>-1&&(r=t.slice(0,l),i=t.slice(l+1,u>-1?u:t.length),a=e(i)),u>-1&&(r=r||t.slice(0,u),o=t.slice(u,t.length)),r=cK(r!=null?r:t,n),{fullPath:r+(i&&"?")+i+o,path:r,query:a,hash:o}}function sK(e,t){const n=t.query?e(t.query):"";return t.path+(n&&"?")+n+(t.hash||"")}function jp(e,t){return!t||!e.toLowerCase().startsWith(t.toLowerCase())?e:e.slice(t.length)||"/"}function lK(e,t,n){const r=t.matched.length-1,a=n.matched.length-1;return r>-1&&r===a&&Ti(t.matched[r],n.matched[a])&&BT(t.params,n.params)&&e(t.query)===e(n.query)&&t.hash===n.hash}function Ti(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function BT(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(!uK(e[n],t[n]))return!1;return!0}function uK(e,t){return Array.isArray(e)?Up(e,t):Array.isArray(t)?Up(t,e):e===t}function Up(e,t){return Array.isArray(t)?e.length===t.length&&e.every((n,r)=>n===t[r]):e.length===1&&e[0]===t}function cK(e,t){if(e.startsWith("/"))return e;if(!e)return t;const n=t.split("/"),r=e.split("/");let a=n.length-1,i,o;for(i=0;i<r.length;i++)if(o=r[i],!(a===1||o==="."))if(o==="..")a--;else break;return n.slice(0,a).join("/")+"/"+r.slice(i-(i===r.length?1:0)).join("/")}var Fo;(function(e){e.pop="pop",e.push="push"})(Fo||(Fo={}));var _o;(function(e){e.back="back",e.forward="forward",e.unknown=""})(_o||(_o={}));function dK(e){if(!e)if(ii){const t=document.querySelector("base");e=t&&t.getAttribute("href")||"/",e=e.replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return e[0]!=="/"&&e[0]!=="#"&&(e="/"+e),oK(e)}const fK=/^[^#]+#/;function hK(e,t){return e.replace(fK,"#")+t}function vK(e,t){const n=document.documentElement.getBoundingClientRect(),r=e.getBoundingClientRect();return{behavior:t.behavior,left:r.left-n.left-(t.left||0),top:r.top-n.top-(t.top||0)}}const eu=()=>({left:window.pageXOffset,top:window.pageYOffset});function mK(e){let t;if("el"in e){const n=e.el,r=typeof n=="string"&&n.startsWith("#"),a=typeof n=="string"?r?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!a)return;t=vK(a,e)}else t=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(t.left!=null?t.left:window.pageXOffset,t.top!=null?t.top:window.pageYOffset)}function Vp(e,t){return(history.state?history.state.position-t:-1)+e}const Qc=new Map;function gK(e,t){Qc.set(e,t)}function pK(e){const t=Qc.get(e);return Qc.delete(e),t}let yK=()=>location.protocol+"//"+location.host;function NT(e,t){const{pathname:n,search:r,hash:a}=t,i=e.indexOf("#");if(i>-1){let l=a.includes(e.slice(i))?e.slice(i).length:1,u=a.slice(l);return u[0]!=="/"&&(u="/"+u),jp(u,"")}return jp(n,e)+r+a}function bK(e,t,n,r){let a=[],i=[],o=null;const l=({state:v})=>{const S=NT(e,location),E=n.value,m=t.value;let d=0;if(v){if(n.value=S,t.value=v,o&&o===E){o=null;return}d=m?v.position-m.position:0}else r(S);a.forEach(g=>{g(n.value,E,{delta:d,type:Fo.pop,direction:d?d>0?_o.forward:_o.back:_o.unknown})})};function u(){o=n.value}function s(v){a.push(v);const S=()=>{const E=a.indexOf(v);E>-1&&a.splice(E,1)};return i.push(S),S}function c(){const{history:v}=window;!v.state||v.replaceState(lt({},v.state,{scroll:eu()}),"")}function f(){for(const v of i)v();i=[],window.removeEventListener("popstate",l),window.removeEventListener("beforeunload",c)}return window.addEventListener("popstate",l),window.addEventListener("beforeunload",c),{pauseListeners:u,listen:s,destroy:f}}function Hp(e,t,n,r=!1,a=!1){return{back:e,current:t,forward:n,replaced:r,position:window.history.length,scroll:a?eu():null}}function SK(e){const{history:t,location:n}=window,r={value:NT(e,n)},a={value:t.state};a.value||i(r.value,{back:null,current:r.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0);function i(u,s,c){const f=e.indexOf("#"),v=f>-1?(n.host&&document.querySelector("base")?e:e.slice(f))+u:yK()+e+u;try{t[c?"replaceState":"pushState"](s,"",v),a.value=s}catch(S){console.error(S),n[c?"replace":"assign"](v)}}function o(u,s){const c=lt({},t.state,Hp(a.value.back,u,a.value.forward,!0),s,{position:a.value.position});i(u,c,!0),r.value=u}function l(u,s){const c=lt({},a.value,t.state,{forward:u,scroll:eu()});i(c.current,c,!0);const f=lt({},Hp(r.value,u,null),{position:c.position+1},s);i(u,f,!1),r.value=u}return{location:r,state:a,push:l,replace:o}}function TK(e){e=dK(e);const t=SK(e),n=bK(e,t.state,t.location,t.replace);function r(i,o=!0){o||n.pauseListeners(),history.go(i)}const a=lt({location:"",base:e,go:r,createHref:hK.bind(null,e)},t,n);return Object.defineProperty(a,"location",{enumerable:!0,get:()=>t.location.value}),Object.defineProperty(a,"state",{enumerable:!0,get:()=>t.state.value}),a}function CK(e){return e=location.host?e||location.pathname+location.search:"",e.includes("#")||(e+="#"),TK(e)}function EK(e){return typeof e=="string"||e&&typeof e=="object"}function jT(e){return typeof e=="string"||typeof e=="symbol"}const Lr={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},UT=Fi("nf");var zp;(function(e){e[e.aborted=4]="aborted",e[e.cancelled=8]="cancelled",e[e.duplicated=16]="duplicated"})(zp||(zp={}));function Ci(e,t){return lt(new Error,{type:e,[UT]:!0},t)}function Rr(e,t){return e instanceof Error&&UT in e&&(t==null||!!(e.type&t))}const Gp="[^/]+?",wK={sensitive:!1,strict:!1,start:!0,end:!0},OK=/[.+*?^${}()[\]/\\]/g;function kK(e,t){const n=lt({},wK,t),r=[];let a=n.start?"^":"";const i=[];for(const s of e){const c=s.length?[]:[90];n.strict&&!s.length&&(a+="/");for(let f=0;f<s.length;f++){const v=s[f];let S=40+(n.sensitive?.25:0);if(v.type===0)f||(a+="/"),a+=v.value.replace(OK,"\\$&"),S+=40;else if(v.type===1){const{value:E,repeatable:m,optional:d,regexp:g}=v;i.push({name:E,repeatable:m,optional:d});const h=g||Gp;if(h!==Gp){S+=10;try{new RegExp(`(${h})`)}catch(b){throw new Error(`Invalid custom RegExp for param "${E}" (${h}): `+b.message)}}let p=m?`((?:${h})(?:/(?:${h}))*)`:`(${h})`;f||(p=d&&s.length<2?`(?:/${p})`:"/"+p),d&&(p+="?"),a+=p,S+=20,d&&(S+=-8),m&&(S+=-20),h===".*"&&(S+=-50)}c.push(S)}r.push(c)}if(n.strict&&n.end){const s=r.length-1;r[s][r[s].length-1]+=.7000000000000001}n.strict||(a+="/?"),n.end?a+="$":n.strict&&(a+="(?:/|$)");const o=new RegExp(a,n.sensitive?"":"i");function l(s){const c=s.match(o),f={};if(!c)return null;for(let v=1;v<c.length;v++){const S=c[v]||"",E=i[v-1];f[E.name]=S&&E.repeatable?S.split("/"):S}return f}function u(s){let c="",f=!1;for(const v of e){(!f||!c.endsWith("/"))&&(c+="/"),f=!1;for(const S of v)if(S.type===0)c+=S.value;else if(S.type===1){const{value:E,repeatable:m,optional:d}=S,g=E in s?s[E]:"";if(Array.isArray(g)&&!m)throw new Error(`Provided param "${E}" is an array but it is not repeatable (* or + modifiers)`);const h=Array.isArray(g)?g.join("/"):g;if(!h)if(d)v.length<2&&e.length>1&&(c.endsWith("/")?c=c.slice(0,-1):f=!0);else throw new Error(`Missing required param "${E}"`);c+=h}}return c}return{re:o,score:r,keys:i,parse:l,stringify:u}}function _K(e,t){let n=0;for(;n<e.length&&n<t.length;){const r=t[n]-e[n];if(r)return r;n++}return e.length<t.length?e.length===1&&e[0]===40+40?-1:1:e.length>t.length?t.length===1&&t[0]===40+40?1:-1:0}function AK(e,t){let n=0;const r=e.score,a=t.score;for(;n<r.length&&n<a.length;){const i=_K(r[n],a[n]);if(i)return i;n++}return a.length-r.length}const DK={type:0,value:""},PK=/[a-zA-Z0-9_]/;function IK(e){if(!e)return[[]];if(e==="/")return[[DK]];if(!e.startsWith("/"))throw new Error(`Invalid path "${e}"`);function t(S){throw new Error(`ERR (${n})/"${s}": ${S}`)}let n=0,r=n;const a=[];let i;function o(){i&&a.push(i),i=[]}let l=0,u,s="",c="";function f(){!s||(n===0?i.push({type:0,value:s}):n===1||n===2||n===3?(i.length>1&&(u==="*"||u==="+")&&t(`A repeatable param (${s}) must be alone in its segment. eg: '/:ids+.`),i.push({type:1,value:s,regexp:c,repeatable:u==="*"||u==="+",optional:u==="*"||u==="?"})):t("Invalid state to consume buffer"),s="")}function v(){s+=u}for(;l<e.length;){if(u=e[l++],u==="\\"&&n!==2){r=n,n=4;continue}switch(n){case 0:u==="/"?(s&&f(),o()):u===":"?(f(),n=1):v();break;case 4:v(),n=r;break;case 1:u==="("?n=2:PK.test(u)?v():(f(),n=0,u!=="*"&&u!=="?"&&u!=="+"&&l--);break;case 2:u===")"?c[c.length-1]=="\\"?c=c.slice(0,-1)+u:n=3:c+=u;break;case 3:f(),n=0,u!=="*"&&u!=="?"&&u!=="+"&&l--,c="";break;default:t("Unknown state");break}}return n===2&&t(`Unfinished custom RegExp for param "${s}"`),f(),o(),a}function LK(e,t,n){const r=kK(IK(e.path),n),a=lt(r,{record:e,parent:t,children:[],alias:[]});return t&&!a.record.aliasOf==!t.record.aliasOf&&t.children.push(a),a}function RK(e,t){const n=[],r=new Map;t=Wp({strict:!1,end:!0,sensitive:!1},t);function a(c){return r.get(c)}function i(c,f,v){const S=!v,E=$K(c);E.aliasOf=v&&v.record;const m=Wp(t,c),d=[E];if("alias"in c){const p=typeof c.alias=="string"?[c.alias]:c.alias;for(const b of p)d.push(lt({},E,{components:v?v.record.components:E.components,path:b,aliasOf:v?v.record:E}))}let g,h;for(const p of d){const{path:b}=p;if(f&&b[0]!=="/"){const y=f.record.path,C=y[y.length-1]==="/"?"":"/";p.path=f.record.path+(b&&C+b)}if(g=LK(p,f,m),v?v.alias.push(g):(h=h||g,h!==g&&h.alias.push(g),S&&c.name&&!Kp(g)&&o(c.name)),"children"in E){const y=E.children;for(let C=0;C<y.length;C++)i(y[C],g,v&&v.children[C])}v=v||g,u(g)}return h?()=>{o(h)}:ko}function o(c){if(jT(c)){const f=r.get(c);f&&(r.delete(c),n.splice(n.indexOf(f),1),f.children.forEach(o),f.alias.forEach(o))}else{const f=n.indexOf(c);f>-1&&(n.splice(f,1),c.record.name&&r.delete(c.record.name),c.children.forEach(o),c.alias.forEach(o))}}function l(){return n}function u(c){let f=0;for(;f<n.length&&AK(c,n[f])>=0&&(c.record.path!==n[f].record.path||!VT(c,n[f]));)f++;n.splice(f,0,c),c.record.name&&!Kp(c)&&r.set(c.record.name,c)}function s(c,f){let v,S={},E,m;if("name"in c&&c.name){if(v=r.get(c.name),!v)throw Ci(1,{location:c});m=v.record.name,S=lt(xK(f.params,v.keys.filter(h=>!h.optional).map(h=>h.name)),c.params),E=v.stringify(S)}else if("path"in c)E=c.path,v=n.find(h=>h.re.test(E)),v&&(S=v.parse(E),m=v.record.name);else{if(v=f.name?r.get(f.name):n.find(h=>h.re.test(f.path)),!v)throw Ci(1,{location:c,currentLocation:f});m=v.record.name,S=lt({},f.params,c.params),E=v.stringify(S)}const d=[];let g=v;for(;g;)d.unshift(g.record),g=g.parent;return{name:m,path:E,params:S,matched:d,meta:FK(d)}}return e.forEach(c=>i(c)),{addRoute:i,resolve:s,removeRoute:o,getRoutes:l,getRecordMatcher:a}}function xK(e,t){const n={};for(const r of t)r in e&&(n[r]=e[r]);return n}function $K(e){return{path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:void 0,beforeEnter:e.beforeEnter,props:MK(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||{}:{default:e.component}}}function MK(e){const t={},n=e.props||!1;if("component"in e)t.default=n;else for(const r in e.components)t[r]=typeof n=="boolean"?n:n[r];return t}function Kp(e){for(;e;){if(e.record.aliasOf)return!0;e=e.parent}return!1}function FK(e){return e.reduce((t,n)=>lt(t,n.meta),{})}function Wp(e,t){const n={};for(const r in e)n[r]=r in t?t[r]:e[r];return n}function VT(e,t){return t.children.some(n=>n===e||VT(e,n))}const HT=/#/g,BK=/&/g,NK=/\//g,jK=/=/g,UK=/\?/g,zT=/\+/g,VK=/%5B/g,HK=/%5D/g,GT=/%5E/g,zK=/%60/g,KT=/%7B/g,GK=/%7C/g,WT=/%7D/g,KK=/%20/g;function kf(e){return encodeURI(""+e).replace(GK,"|").replace(VK,"[").replace(HK,"]")}function WK(e){return kf(e).replace(KT,"{").replace(WT,"}").replace(GT,"^")}function ed(e){return kf(e).replace(zT,"%2B").replace(KK,"+").replace(HT,"%23").replace(BK,"%26").replace(zK,"`").replace(KT,"{").replace(WT,"}").replace(GT,"^")}function YK(e){return ed(e).replace(jK,"%3D")}function qK(e){return kf(e).replace(HT,"%23").replace(UK,"%3F")}function XK(e){return e==null?"":qK(e).replace(NK,"%2F")}function ul(e){try{return decodeURIComponent(""+e)}catch{}return""+e}function ZK(e){const t={};if(e===""||e==="?")return t;const r=(e[0]==="?"?e.slice(1):e).split("&");for(let a=0;a<r.length;++a){const i=r[a].replace(zT," "),o=i.indexOf("="),l=ul(o<0?i:i.slice(0,o)),u=o<0?null:ul(i.slice(o+1));if(l in t){let s=t[l];Array.isArray(s)||(s=t[l]=[s]),s.push(u)}else t[l]=u}return t}function Yp(e){let t="";for(let n in e){const r=e[n];if(n=YK(n),r==null){r!==void 0&&(t+=(t.length?"&":"")+n);continue}(Array.isArray(r)?r.map(i=>i&&ed(i)):[r&&ed(r)]).forEach(i=>{i!==void 0&&(t+=(t.length?"&":"")+n,i!=null&&(t+="="+i))})}return t}function JK(e){const t={};for(const n in e){const r=e[n];r!==void 0&&(t[n]=Array.isArray(r)?r.map(a=>a==null?null:""+a):r==null?r:""+r)}return t}function co(){let e=[];function t(r){return e.push(r),()=>{const a=e.indexOf(r);a>-1&&e.splice(a,1)}}function n(){e=[]}return{add:t,list:()=>e,reset:n}}function QK(e,t,n){const r=()=>{e[t].delete(n)};Nn(r),Gr(r),wa(()=>{e[t].add(n)}),e[t].add(n)}function JY(e){const t=Qe(FT,{}).value;!t||QK(t,"leaveGuards",e)}function Mr(e,t,n,r,a){const i=r&&(r.enterCallbacks[a]=r.enterCallbacks[a]||[]);return()=>new Promise((o,l)=>{const u=f=>{f===!1?l(Ci(4,{from:n,to:t})):f instanceof Error?l(f):EK(f)?l(Ci(2,{from:t,to:f})):(i&&r.enterCallbacks[a]===i&&typeof f=="function"&&i.push(f),o())},s=e.call(r&&r.instances[a],t,n,u);let c=Promise.resolve(s);e.length<3&&(c=c.then(u)),c.catch(f=>l(f))})}function qu(e,t,n,r){const a=[];for(const i of e)for(const o in i.components){let l=i.components[o];if(!(t!=="beforeRouteEnter"&&!i.instances[o]))if(e7(l)){const s=(l.__vccOpts||l)[t];s&&a.push(Mr(s,n,r,i,o))}else{let u=l();a.push(()=>u.then(s=>{if(!s)return Promise.reject(new Error(`Couldn't resolve component "${o}" at "${i.path}"`));const c=aK(s)?s.default:s;i.components[o]=c;const v=(c.__vccOpts||c)[t];return v&&Mr(v,n,r,i,o)()}))}}return a}function e7(e){return typeof e=="object"||"displayName"in e||"props"in e||"__vccOpts"in e}function qp(e){const t=Qe(Ql),n=Qe(Of),r=j(()=>t.resolve(he(e.to))),a=j(()=>{const{matched:u}=r.value,{length:s}=u,c=u[s-1],f=n.matched;if(!c||!f.length)return-1;const v=f.findIndex(Ti.bind(null,c));if(v>-1)return v;const S=Xp(u[s-2]);return s>1&&Xp(c)===S&&f[f.length-1].path!==S?f.findIndex(Ti.bind(null,u[s-2])):v}),i=j(()=>a.value>-1&&a7(n.params,r.value.params)),o=j(()=>a.value>-1&&a.value===n.matched.length-1&&BT(n.params,r.value.params));function l(u={}){return r7(u)?t[he(e.replace)?"replace":"push"](he(e.to)).catch(ko):Promise.resolve()}return{route:r,href:j(()=>r.value.href),isActive:i,isExactActive:o,navigate:l}}const t7=ee({name:"RouterLink",props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:qp,setup(e,{slots:t}){const n=Me(qp(e)),{options:r}=Qe(Ql),a=j(()=>({[Zp(e.activeClass,r.linkActiveClass,"router-link-active")]:n.isActive,[Zp(e.exactActiveClass,r.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const i=t.default&&t.default(n);return e.custom?i:yt("a",{"aria-current":n.isExactActive?e.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:a.value},i)}}}),n7=t7;function r7(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)&&!e.defaultPrevented&&!(e.button!==void 0&&e.button!==0)){if(e.currentTarget&&e.currentTarget.getAttribute){const t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return e.preventDefault&&e.preventDefault(),!0}}function a7(e,t){for(const n in t){const r=t[n],a=e[n];if(typeof r=="string"){if(r!==a)return!1}else if(!Array.isArray(a)||a.length!==r.length||r.some((i,o)=>i!==a[o]))return!1}return!0}function Xp(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}const Zp=(e,t,n)=>e!=null?e:t!=null?t:n,i7=ee({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(e,{attrs:t,slots:n}){const r=Qe(Jc),a=j(()=>e.route||r.value),i=Qe(Np,0),o=j(()=>a.value.matched[i]);ct(Np,i+1),ct(FT,o),ct(Jc,a);const l=q();return oe(()=>[l.value,o.value,e.name],([u,s,c],[f,v,S])=>{s&&(s.instances[c]=u,v&&v!==s&&u&&u===f&&(s.leaveGuards.size||(s.leaveGuards=v.leaveGuards),s.updateGuards.size||(s.updateGuards=v.updateGuards))),u&&s&&(!v||!Ti(s,v)||!f)&&(s.enterCallbacks[c]||[]).forEach(E=>E(u))},{flush:"post"}),()=>{const u=a.value,s=o.value,c=s&&s.components[e.name],f=e.name;if(!c)return Jp(n.default,{Component:c,route:u});const v=s.props[e.name],S=v?v===!0?u.params:typeof v=="function"?v(u):v:null,m=yt(c,lt({},S,t,{onVnodeUnmounted:d=>{d.component.isUnmounted&&(s.instances[f]=null)},ref:l}));return Jp(n.default,{Component:m,route:u})||m}}});function Jp(e,t){if(!e)return null;const n=e(t);return n.length===1?n[0]:n}const o7=i7;function s7(e){const t=RK(e.routes,e),n=e.parseQuery||ZK,r=e.stringifyQuery||Yp,a=e.history,i=co(),o=co(),l=co(),u=uE(Lr);let s=Lr;ii&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const c=Wu.bind(null,V=>""+V),f=Wu.bind(null,XK),v=Wu.bind(null,ul);function S(V,X){let Z,ne;return jT(V)?(Z=t.getRecordMatcher(V),ne=X):ne=V,t.addRoute(ne,Z)}function E(V){const X=t.getRecordMatcher(V);X&&t.removeRoute(X)}function m(){return t.getRoutes().map(V=>V.record)}function d(V){return!!t.getRecordMatcher(V)}function g(V,X){if(X=lt({},X||u.value),typeof V=="string"){const be=Yu(n,V,X.path),G=t.resolve({path:be.path},X),Y=a.createHref(be.fullPath);return lt(be,G,{params:v(G.params),hash:ul(be.hash),redirectedFrom:void 0,href:Y})}let Z;if("path"in V)Z=lt({},V,{path:Yu(n,V.path,X.path).path});else{const be=lt({},V.params);for(const G in be)be[G]==null&&delete be[G];Z=lt({},V,{params:f(V.params)}),X.params=f(X.params)}const ne=t.resolve(Z,X),ae=V.hash||"";ne.params=c(v(ne.params));const ye=sK(r,lt({},V,{hash:WK(ae),path:ne.path})),de=a.createHref(ye);return lt({fullPath:ye,hash:ae,query:r===Yp?JK(V.query):V.query||{}},ne,{redirectedFrom:void 0,href:de})}function h(V){return typeof V=="string"?Yu(n,V,u.value.path):lt({},V)}function p(V,X){if(s!==V)return Ci(8,{from:X,to:V})}function b(V){return w(V)}function y(V){return b(lt(h(V),{replace:!0}))}function C(V){const X=V.matched[V.matched.length-1];if(X&&X.redirect){const{redirect:Z}=X;let ne=typeof Z=="function"?Z(V):Z;return typeof ne=="string"&&(ne=ne.includes("?")||ne.includes("#")?ne=h(ne):{path:ne},ne.params={}),lt({query:V.query,hash:V.hash,params:V.params},ne)}}function w(V,X){const Z=s=g(V),ne=u.value,ae=V.state,ye=V.force,de=V.replace===!0,be=C(Z);if(be)return w(lt(h(be),{state:ae,force:ye,replace:de}),X||Z);const G=Z;G.redirectedFrom=X;let Y;return!ye&&lK(r,ne,Z)&&(Y=Ci(16,{to:G,from:ne}),N(ne,ne,!0,!1)),(Y?Promise.resolve(Y):_(G,ne)).catch(Q=>Rr(Q)?Rr(Q,2)?Q:M(Q):L(Q,G,ne)).then(Q=>{if(Q){if(Rr(Q,2))return w(lt(h(Q.to),{state:ae,force:ye,replace:de}),X||G)}else Q=O(G,ne,!0,de,ae);return T(G,ne,Q),Q})}function k(V,X){const Z=p(V,X);return Z?Promise.reject(Z):Promise.resolve()}function _(V,X){let Z;const[ne,ae,ye]=l7(V,X);Z=qu(ne.reverse(),"beforeRouteLeave",V,X);for(const be of ne)be.leaveGuards.forEach(G=>{Z.push(Mr(G,V,X))});const de=k.bind(null,V,X);return Z.push(de),Xa(Z).then(()=>{Z=[];for(const be of i.list())Z.push(Mr(be,V,X));return Z.push(de),Xa(Z)}).then(()=>{Z=qu(ae,"beforeRouteUpdate",V,X);for(const be of ae)be.updateGuards.forEach(G=>{Z.push(Mr(G,V,X))});return Z.push(de),Xa(Z)}).then(()=>{Z=[];for(const be of V.matched)if(be.beforeEnter&&!X.matched.includes(be))if(Array.isArray(be.beforeEnter))for(const G of be.beforeEnter)Z.push(Mr(G,V,X));else Z.push(Mr(be.beforeEnter,V,X));return Z.push(de),Xa(Z)}).then(()=>(V.matched.forEach(be=>be.enterCallbacks={}),Z=qu(ye,"beforeRouteEnter",V,X),Z.push(de),Xa(Z))).then(()=>{Z=[];for(const be of o.list())Z.push(Mr(be,V,X));return Z.push(de),Xa(Z)}).catch(be=>Rr(be,8)?be:Promise.reject(be))}function T(V,X,Z){for(const ne of l.list())ne(V,X,Z)}function O(V,X,Z,ne,ae){const ye=p(V,X);if(ye)return ye;const de=X===Lr,be=ii?history.state:{};Z&&(ne||de?a.replace(V.fullPath,lt({scroll:de&&be&&be.scroll},ae)):a.push(V.fullPath,ae)),u.value=V,N(V,X,Z,de),M()}let A;function P(){A||(A=a.listen((V,X,Z)=>{const ne=g(V),ae=C(ne);if(ae){w(lt(ae,{replace:!0}),ne).catch(ko);return}s=ne;const ye=u.value;ii&&gK(Vp(ye.fullPath,Z.delta),eu()),_(ne,ye).catch(de=>Rr(de,12)?de:Rr(de,2)?(w(de.to,ne).then(be=>{Rr(be,20)&&!Z.delta&&Z.type===Fo.pop&&a.go(-1,!1)}).catch(ko),Promise.reject()):(Z.delta&&a.go(-Z.delta,!1),L(de,ne,ye))).then(de=>{de=de||O(ne,ye,!1),de&&(Z.delta?a.go(-Z.delta,!1):Z.type===Fo.pop&&Rr(de,20)&&a.go(-1,!1)),T(ne,ye,de)}).catch(ko)}))}let D=co(),I=co(),x;function L(V,X,Z){M(V);const ne=I.list();return ne.length?ne.forEach(ae=>ae(V,X,Z)):console.error(V),Promise.reject(V)}function $(){return x&&u.value!==Lr?Promise.resolve():new Promise((V,X)=>{D.add([V,X])})}function M(V){return x||(x=!V,P(),D.list().forEach(([X,Z])=>V?Z(V):X()),D.reset()),V}function N(V,X,Z,ne){const{scrollBehavior:ae}=e;if(!ii||!ae)return Promise.resolve();const ye=!Z&&pK(Vp(V.fullPath,0))||(ne||!Z)&&history.state&&history.state.scroll||null;return Re().then(()=>ae(V,X,ye)).then(de=>de&&mK(de)).catch(de=>L(de,V,X))}const F=V=>a.go(V);let U;const B=new Set;return{currentRoute:u,addRoute:S,removeRoute:E,hasRoute:d,getRoutes:m,resolve:g,options:e,push:b,replace:y,go:F,back:()=>F(-1),forward:()=>F(1),beforeEach:i.add,beforeResolve:o.add,afterEach:l.add,onError:I.add,isReady:$,install(V){const X=this;V.component("RouterLink",n7),V.component("RouterView",o7),V.config.globalProperties.$router=X,Object.defineProperty(V.config.globalProperties,"$route",{enumerable:!0,get:()=>he(u)}),ii&&!U&&u.value===Lr&&(U=!0,b(a.location).catch(ae=>{}));const Z={};for(const ae in Lr)Z[ae]=j(()=>u.value[ae]);V.provide(Ql,X),V.provide(Of,Me(Z)),V.provide(Jc,u);const ne=V.unmount;B.add(V),V.unmount=function(){B.delete(V),B.size<1&&(s=Lr,A&&A(),A=null,u.value=Lr,U=!1,x=!1),ne()}}}}function Xa(e){return e.reduce((t,n)=>t.then(()=>n()),Promise.resolve())}function l7(e,t){const n=[],r=[],a=[],i=Math.max(t.matched.length,e.matched.length);for(let o=0;o<i;o++){const l=t.matched[o];l&&(e.matched.find(s=>Ti(s,l))?r.push(l):n.push(l));const u=e.matched[o];u&&(t.matched.find(s=>Ti(s,u))||a.push(u))}return[n,r,a]}function u7(){return Qe(Ql)}function QY(){return Qe(Of)}const c7="http://101.35.30.21:4399/html/chick/index.html",eq="http://101.35.30.21:4399/html/tmm/index.html",tq="http://101.35.30.21:4399/upload/",nq="http://101.35.30.21:4399";var _f={exports:{}},YT=function(t,n){return function(){for(var a=new Array(arguments.length),i=0;i<a.length;i++)a[i]=arguments[i];return t.apply(n,a)}},d7=YT,ta=Object.prototype.toString;function Af(e){return Array.isArray(e)}function td(e){return typeof e=="undefined"}function f7(e){return e!==null&&!td(e)&&e.constructor!==null&&!td(e.constructor)&&typeof e.constructor.isBuffer=="function"&&e.constructor.isBuffer(e)}function qT(e){return ta.call(e)==="[object ArrayBuffer]"}function h7(e){return ta.call(e)==="[object FormData]"}function v7(e){var t;return typeof ArrayBuffer!="undefined"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&qT(e.buffer),t}function m7(e){return typeof e=="string"}function g7(e){return typeof e=="number"}function XT(e){return e!==null&&typeof e=="object"}function Ns(e){if(ta.call(e)!=="[object Object]")return!1;var t=Object.getPrototypeOf(e);return t===null||t===Object.prototype}function p7(e){return ta.call(e)==="[object Date]"}function y7(e){return ta.call(e)==="[object File]"}function b7(e){return ta.call(e)==="[object Blob]"}function ZT(e){return ta.call(e)==="[object Function]"}function S7(e){return XT(e)&&ZT(e.pipe)}function T7(e){return ta.call(e)==="[object URLSearchParams]"}function C7(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}function E7(){return typeof navigator!="undefined"&&(navigator.product==="ReactNative"||navigator.product==="NativeScript"||navigator.product==="NS")?!1:typeof window!="undefined"&&typeof document!="undefined"}function Df(e,t){if(!(e===null||typeof e=="undefined"))if(typeof e!="object"&&(e=[e]),Af(e))for(var n=0,r=e.length;n<r;n++)t.call(null,e[n],n,e);else for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.call(null,e[a],a,e)}function nd(){var e={};function t(a,i){Ns(e[i])&&Ns(a)?e[i]=nd(e[i],a):Ns(a)?e[i]=nd({},a):Af(a)?e[i]=a.slice():e[i]=a}for(var n=0,r=arguments.length;n<r;n++)Df(arguments[n],t);return e}function w7(e,t,n){return Df(t,function(a,i){n&&typeof a=="function"?e[i]=d7(a,n):e[i]=a}),e}function O7(e){return e.charCodeAt(0)===65279&&(e=e.slice(1)),e}var un={isArray:Af,isArrayBuffer:qT,isBuffer:f7,isFormData:h7,isArrayBufferView:v7,isString:m7,isNumber:g7,isObject:XT,isPlainObject:Ns,isUndefined:td,isDate:p7,isFile:y7,isBlob:b7,isFunction:ZT,isStream:S7,isURLSearchParams:T7,isStandardBrowserEnv:E7,forEach:Df,merge:nd,extend:w7,trim:C7,stripBOM:O7},Za=un;function Qp(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}var JT=function(t,n,r){if(!n)return t;var a;if(r)a=r(n);else if(Za.isURLSearchParams(n))a=n.toString();else{var i=[];Za.forEach(n,function(u,s){u===null||typeof u=="undefined"||(Za.isArray(u)?s=s+"[]":u=[u],Za.forEach(u,function(f){Za.isDate(f)?f=f.toISOString():Za.isObject(f)&&(f=JSON.stringify(f)),i.push(Qp(s)+"="+Qp(f))}))}),a=i.join("&")}if(a){var o=t.indexOf("#");o!==-1&&(t=t.slice(0,o)),t+=(t.indexOf("?")===-1?"?":"&")+a}return t},k7=un;function tu(){this.handlers=[]}tu.prototype.use=function(t,n,r){return this.handlers.push({fulfilled:t,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1};tu.prototype.eject=function(t){this.handlers[t]&&(this.handlers[t]=null)};tu.prototype.forEach=function(t){k7.forEach(this.handlers,function(r){r!==null&&t(r)})};var _7=tu,A7=un,D7=function(t,n){A7.forEach(t,function(a,i){i!==n&&i.toUpperCase()===n.toUpperCase()&&(t[n]=a,delete t[i])})},QT=function(t,n,r,a,i){return t.config=n,r&&(t.code=r),t.request=a,t.response=i,t.isAxiosError=!0,t.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}},t},eC={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},P7=QT,tC=function(t,n,r,a,i){var o=new Error(t);return P7(o,n,r,a,i)},I7=tC,L7=function(t,n,r){var a=r.config.validateStatus;!r.status||!a||a(r.status)?t(r):n(I7("Request failed with status code "+r.status,r.config,null,r.request,r))},Ds=un,R7=Ds.isStandardBrowserEnv()?function(){return{write:function(n,r,a,i,o,l){var u=[];u.push(n+"="+encodeURIComponent(r)),Ds.isNumber(a)&&u.push("expires="+new Date(a).toGMTString()),Ds.isString(i)&&u.push("path="+i),Ds.isString(o)&&u.push("domain="+o),l===!0&&u.push("secure"),document.cookie=u.join("; ")},read:function(n){var r=document.cookie.match(new RegExp("(^|;\\s*)("+n+")=([^;]*)"));return r?decodeURIComponent(r[3]):null},remove:function(n){this.write(n,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}(),x7=function(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)},$7=function(t,n){return n?t.replace(/\/+$/,"")+"/"+n.replace(/^\/+/,""):t},M7=x7,F7=$7,B7=function(t,n){return t&&!M7(n)?F7(t,n):n},Xu=un,N7=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"],j7=function(t){var n={},r,a,i;return t&&Xu.forEach(t.split(`
`),function(l){if(i=l.indexOf(":"),r=Xu.trim(l.substr(0,i)).toLowerCase(),a=Xu.trim(l.substr(i+1)),r){if(n[r]&&N7.indexOf(r)>=0)return;r==="set-cookie"?n[r]=(n[r]?n[r]:[]).concat([a]):n[r]=n[r]?n[r]+", "+a:a}}),n},ey=un,U7=ey.isStandardBrowserEnv()?function(){var t=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a"),r;function a(i){var o=i;return t&&(n.setAttribute("href",o),o=n.href),n.setAttribute("href",o),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:n.pathname.charAt(0)==="/"?n.pathname:"/"+n.pathname}}return r=a(window.location.href),function(o){var l=ey.isString(o)?a(o):o;return l.protocol===r.protocol&&l.host===r.host}}():function(){return function(){return!0}}();function Pf(e){this.message=e}Pf.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")};Pf.prototype.__CANCEL__=!0;var nu=Pf,Ps=un,V7=L7,H7=R7,z7=JT,G7=B7,K7=j7,W7=U7,Zu=tC,Y7=eC,q7=nu,ty=function(t){return new Promise(function(r,a){var i=t.data,o=t.headers,l=t.responseType,u;function s(){t.cancelToken&&t.cancelToken.unsubscribe(u),t.signal&&t.signal.removeEventListener("abort",u)}Ps.isFormData(i)&&delete o["Content-Type"];var c=new XMLHttpRequest;if(t.auth){var f=t.auth.username||"",v=t.auth.password?unescape(encodeURIComponent(t.auth.password)):"";o.Authorization="Basic "+btoa(f+":"+v)}var S=G7(t.baseURL,t.url);c.open(t.method.toUpperCase(),z7(S,t.params,t.paramsSerializer),!0),c.timeout=t.timeout;function E(){if(!!c){var d="getAllResponseHeaders"in c?K7(c.getAllResponseHeaders()):null,g=!l||l==="text"||l==="json"?c.responseText:c.response,h={data:g,status:c.status,statusText:c.statusText,headers:d,config:t,request:c};V7(function(b){r(b),s()},function(b){a(b),s()},h),c=null}}if("onloadend"in c?c.onloadend=E:c.onreadystatechange=function(){!c||c.readyState!==4||c.status===0&&!(c.responseURL&&c.responseURL.indexOf("file:")===0)||setTimeout(E)},c.onabort=function(){!c||(a(Zu("Request aborted",t,"ECONNABORTED",c)),c=null)},c.onerror=function(){a(Zu("Network Error",t,null,c)),c=null},c.ontimeout=function(){var g=t.timeout?"timeout of "+t.timeout+"ms exceeded":"timeout exceeded",h=t.transitional||Y7;t.timeoutErrorMessage&&(g=t.timeoutErrorMessage),a(Zu(g,t,h.clarifyTimeoutError?"ETIMEDOUT":"ECONNABORTED",c)),c=null},Ps.isStandardBrowserEnv()){var m=(t.withCredentials||W7(S))&&t.xsrfCookieName?H7.read(t.xsrfCookieName):void 0;m&&(o[t.xsrfHeaderName]=m)}"setRequestHeader"in c&&Ps.forEach(o,function(g,h){typeof i=="undefined"&&h.toLowerCase()==="content-type"?delete o[h]:c.setRequestHeader(h,g)}),Ps.isUndefined(t.withCredentials)||(c.withCredentials=!!t.withCredentials),l&&l!=="json"&&(c.responseType=t.responseType),typeof t.onDownloadProgress=="function"&&c.addEventListener("progress",t.onDownloadProgress),typeof t.onUploadProgress=="function"&&c.upload&&c.upload.addEventListener("progress",t.onUploadProgress),(t.cancelToken||t.signal)&&(u=function(d){!c||(a(!d||d&&d.type?new q7("canceled"):d),c.abort(),c=null)},t.cancelToken&&t.cancelToken.subscribe(u),t.signal&&(t.signal.aborted?u():t.signal.addEventListener("abort",u))),i||(i=null),c.send(i)})},zt=un,ny=D7,X7=QT,Z7=eC,J7={"Content-Type":"application/x-www-form-urlencoded"};function ry(e,t){!zt.isUndefined(e)&&zt.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}function Q7(){var e;return(typeof XMLHttpRequest!="undefined"||typeof process!="undefined"&&Object.prototype.toString.call(process)==="[object process]")&&(e=ty),e}function eW(e,t,n){if(zt.isString(e))try{return(t||JSON.parse)(e),zt.trim(e)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(e)}var ru={transitional:Z7,adapter:Q7(),transformRequest:[function(t,n){return ny(n,"Accept"),ny(n,"Content-Type"),zt.isFormData(t)||zt.isArrayBuffer(t)||zt.isBuffer(t)||zt.isStream(t)||zt.isFile(t)||zt.isBlob(t)?t:zt.isArrayBufferView(t)?t.buffer:zt.isURLSearchParams(t)?(ry(n,"application/x-www-form-urlencoded;charset=utf-8"),t.toString()):zt.isObject(t)||n&&n["Content-Type"]==="application/json"?(ry(n,"application/json"),eW(t)):t}],transformResponse:[function(t){var n=this.transitional||ru.transitional,r=n&&n.silentJSONParsing,a=n&&n.forcedJSONParsing,i=!r&&this.responseType==="json";if(i||a&&zt.isString(t)&&t.length)try{return JSON.parse(t)}catch(o){if(i)throw o.name==="SyntaxError"?X7(o,this,"E_JSON_PARSE"):o}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};zt.forEach(["delete","get","head"],function(t){ru.headers[t]={}});zt.forEach(["post","put","patch"],function(t){ru.headers[t]=zt.merge(J7)});var If=ru,tW=un,nW=If,rW=function(t,n,r){var a=this||nW;return tW.forEach(r,function(o){t=o.call(a,t,n)}),t},nC=function(t){return!!(t&&t.__CANCEL__)},ay=un,Ju=rW,aW=nC,iW=If,oW=nu;function Qu(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new oW("canceled")}var sW=function(t){Qu(t),t.headers=t.headers||{},t.data=Ju.call(t,t.data,t.headers,t.transformRequest),t.headers=ay.merge(t.headers.common||{},t.headers[t.method]||{},t.headers),ay.forEach(["delete","get","head","post","put","patch","common"],function(a){delete t.headers[a]});var n=t.adapter||iW.adapter;return n(t).then(function(a){return Qu(t),a.data=Ju.call(t,a.data,a.headers,t.transformResponse),a},function(a){return aW(a)||(Qu(t),a&&a.response&&(a.response.data=Ju.call(t,a.response.data,a.response.headers,t.transformResponse))),Promise.reject(a)})},dn=un,rC=function(t,n){n=n||{};var r={};function a(c,f){return dn.isPlainObject(c)&&dn.isPlainObject(f)?dn.merge(c,f):dn.isPlainObject(f)?dn.merge({},f):dn.isArray(f)?f.slice():f}function i(c){if(dn.isUndefined(n[c])){if(!dn.isUndefined(t[c]))return a(void 0,t[c])}else return a(t[c],n[c])}function o(c){if(!dn.isUndefined(n[c]))return a(void 0,n[c])}function l(c){if(dn.isUndefined(n[c])){if(!dn.isUndefined(t[c]))return a(void 0,t[c])}else return a(void 0,n[c])}function u(c){if(c in n)return a(t[c],n[c]);if(c in t)return a(void 0,t[c])}var s={url:o,method:o,data:o,baseURL:l,transformRequest:l,transformResponse:l,paramsSerializer:l,timeout:l,timeoutMessage:l,withCredentials:l,adapter:l,responseType:l,xsrfCookieName:l,xsrfHeaderName:l,onUploadProgress:l,onDownloadProgress:l,decompress:l,maxContentLength:l,maxBodyLength:l,transport:l,httpAgent:l,httpsAgent:l,cancelToken:l,socketPath:l,responseEncoding:l,validateStatus:u};return dn.forEach(Object.keys(t).concat(Object.keys(n)),function(f){var v=s[f]||i,S=v(f);dn.isUndefined(S)&&v!==u||(r[f]=S)}),r},aC={version:"0.26.1"},lW=aC.version,Lf={};["object","boolean","number","function","string","symbol"].forEach(function(e,t){Lf[e]=function(r){return typeof r===e||"a"+(t<1?"n ":" ")+e}});var iy={};Lf.transitional=function(t,n,r){function a(i,o){return"[Axios v"+lW+"] Transitional option '"+i+"'"+o+(r?". "+r:"")}return function(i,o,l){if(t===!1)throw new Error(a(o," has been removed"+(n?" in "+n:"")));return n&&!iy[o]&&(iy[o]=!0,console.warn(a(o," has been deprecated since v"+n+" and will be removed in the near future"))),t?t(i,o,l):!0}};function uW(e,t,n){if(typeof e!="object")throw new TypeError("options must be an object");for(var r=Object.keys(e),a=r.length;a-- >0;){var i=r[a],o=t[i];if(o){var l=e[i],u=l===void 0||o(l,i,e);if(u!==!0)throw new TypeError("option "+i+" must be "+u);continue}if(n!==!0)throw Error("Unknown option "+i)}}var cW={assertOptions:uW,validators:Lf},iC=un,dW=JT,oy=_7,sy=sW,au=rC,oC=cW,Ja=oC.validators;function Wo(e){this.defaults=e,this.interceptors={request:new oy,response:new oy}}Wo.prototype.request=function(t,n){typeof t=="string"?(n=n||{},n.url=t):n=t||{},n=au(this.defaults,n),n.method?n.method=n.method.toLowerCase():this.defaults.method?n.method=this.defaults.method.toLowerCase():n.method="get";var r=n.transitional;r!==void 0&&oC.assertOptions(r,{silentJSONParsing:Ja.transitional(Ja.boolean),forcedJSONParsing:Ja.transitional(Ja.boolean),clarifyTimeoutError:Ja.transitional(Ja.boolean)},!1);var a=[],i=!0;this.interceptors.request.forEach(function(S){typeof S.runWhen=="function"&&S.runWhen(n)===!1||(i=i&&S.synchronous,a.unshift(S.fulfilled,S.rejected))});var o=[];this.interceptors.response.forEach(function(S){o.push(S.fulfilled,S.rejected)});var l;if(!i){var u=[sy,void 0];for(Array.prototype.unshift.apply(u,a),u=u.concat(o),l=Promise.resolve(n);u.length;)l=l.then(u.shift(),u.shift());return l}for(var s=n;a.length;){var c=a.shift(),f=a.shift();try{s=c(s)}catch(v){f(v);break}}try{l=sy(s)}catch(v){return Promise.reject(v)}for(;o.length;)l=l.then(o.shift(),o.shift());return l};Wo.prototype.getUri=function(t){return t=au(this.defaults,t),dW(t.url,t.params,t.paramsSerializer).replace(/^\?/,"")};iC.forEach(["delete","get","head","options"],function(t){Wo.prototype[t]=function(n,r){return this.request(au(r||{},{method:t,url:n,data:(r||{}).data}))}});iC.forEach(["post","put","patch"],function(t){Wo.prototype[t]=function(n,r,a){return this.request(au(a||{},{method:t,url:n,data:r}))}});var fW=Wo,hW=nu;function Ei(e){if(typeof e!="function")throw new TypeError("executor must be a function.");var t;this.promise=new Promise(function(a){t=a});var n=this;this.promise.then(function(r){if(!!n._listeners){var a,i=n._listeners.length;for(a=0;a<i;a++)n._listeners[a](r);n._listeners=null}}),this.promise.then=function(r){var a,i=new Promise(function(o){n.subscribe(o),a=o}).then(r);return i.cancel=function(){n.unsubscribe(a)},i},e(function(a){n.reason||(n.reason=new hW(a),t(n.reason))})}Ei.prototype.throwIfRequested=function(){if(this.reason)throw this.reason};Ei.prototype.subscribe=function(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]};Ei.prototype.unsubscribe=function(t){if(!!this._listeners){var n=this._listeners.indexOf(t);n!==-1&&this._listeners.splice(n,1)}};Ei.source=function(){var t,n=new Ei(function(a){t=a});return{token:n,cancel:t}};var vW=Ei,mW=function(t){return function(r){return t.apply(null,r)}},gW=un,pW=function(t){return gW.isObject(t)&&t.isAxiosError===!0},ly=un,yW=YT,js=fW,bW=rC,SW=If;function sC(e){var t=new js(e),n=yW(js.prototype.request,t);return ly.extend(n,js.prototype,t),ly.extend(n,t),n.create=function(a){return sC(bW(e,a))},n}var ir=sC(SW);ir.Axios=js;ir.Cancel=nu;ir.CancelToken=vW;ir.isCancel=nC;ir.VERSION=aC.version;ir.all=function(t){return Promise.all(t)};ir.spread=mW;ir.isAxiosError=pW;_f.exports=ir;_f.exports.default=ir;var TW=_f.exports;var CW=(e,t)=>{const n=e.__vccOpts||e;for(const[r,a]of t)n[r]=a;return n};const EW=ee({setup(){m0();const e=u7();let t=Me({navList:[{text:"\u77E5\u8BC6\u6E05\u5355",imgUrl:"https://tdesign.gtimg.com/mobile/%E5%9B%BE%E7%89%87.png",path:"/study"},{text:"\u5546\u57CE",imgUrl:"https://tdesign.gtimg.com/mobile/%E5%9B%BE%E7%89%87.png",path:"/shop"},{text:"\u52A8\u6001",imgUrl:"https://tdesign.gtimg.com/mobile/%E5%9B%BE%E7%89%87.png",path:"/movecase"},{text:"\u6C64\u59C6\u732B",imgUrl:"https://tdesign.gtimg.com/mobile/%E5%9B%BE%E7%89%87.png",path:"/tmm"},{text:"\u5C0F\u9E21",imgUrl:"https://tdesign.gtimg.com/mobile/%E5%9B%BE%E7%89%87.png",path:"/chick"}],active:0,zoneid:null,n:null,u:null,sideActive:0,options:{width:"100%",height:"3.5rem",color:"#409eff",title:"",src:"https://v95-a.douyinvod.com/f390f9b43b1cc4a0503fd44b8416e8e3/62760d44/video/tos/cn/tos-cn-ve-15c001-alinc2/69843b81aae04aba93e017b1a85b03bd/?a=1128&amp;ch=0&amp;cr=0&amp;dr=0&amp;cd=0%7C0%7C0%7C0&amp;cv=1&amp;br=2880&amp;bt=2880&amp;cs=0&amp;ds=3&amp;ft=6klTKjjM95MxrKqoZmCTeK_ScoAw0XqVAtaVJERBwjfvPD&amp;mime_type=video_mp4&amp;qs=0&amp;rc=N2ZpOjMzPDtpNTtoN2lnaUBpM244ODo6Zjc4PDMzNGkzM0A0YC8yLmE1Xy8xYi9hNTEyYSNoLmhwcjRnZG1gLS1kLS9zcw%3D%3D&amp;l=2022050713095901021207507626069DF1",muted:!1,webFullScreen:!1,speedRate:["0.75","1.0","1.25","1.5","2.0"],autoPlay:!1,loop:!1,mirror:!1,ligthOff:!1,volume:.3,control:!0,controlBtns:["audioTrack","quality","speedRate","volume","setting","pip","pageFullScreen","fullScreen"]},videoFlag:!0,dyurl:"",videoObj:{music:"",nickname:"",play:"",title:""}});tt(()=>{});let n=()=>{window.location.href=t.options.src},r=async()=>{if(!t.dyurl){_c.error("\u8BF7\u586B\u5199\u6296\u97F3\u5730\u5740");return}let o=await TW({url:"/new/douyin/api.php?url="+t.dyurl,method:"GET"});t.videoFlag=!0,t.videoObj=o.data,console.log(o,"\u6296\u97F3\u53BB\u6C34\u5370")},a=()=>{let{zoneid:o,n:l,u}=t;if(!o||!l||!u){_c.error("\u8BF7\u6B63\u786E\u586B\u5199\uFF01\uFF01\uFF01");return}location.href=`
      https://pay.qq.com/h5/index.shtml?m=buy&c=game&dialog=0&midasApiVersion=5&transactionid=CC8E5656-EEC9-4ADD-865E-D4D81C258D691558348901265&dh=1&pf=mds_storeopen_qb-_mds_default_v1_0_0.navgame_v1.0-android&appid=1450002258&zoneid=${1010+Number(o)}&n=${l}&as=1&aid=''&wxAppid2=wx1d5858390bbb31e6&u=${u}
      `},i=o=>{o=="/chick"?location.href=c7:e.push({path:o})};return Mf($f({},He(t)),{goPage:i,goPayFor:a,getDyUrl:r,seeDyVideo:n})}}),wW=e=>(Hr("data-v-cf895d7a"),e=e(),zr(),e),OW={class:"navBox"},kW=wW(()=>J("p",{style:{"line-height":"0.6rem","font-size":"0.28rem","font-weight":"bold",color:"red",padding:"0",pading:"0","text-indent":"0.3rem"}}," \u738B\u8005\u8363\u8000 \u5B89\u5353QQ\u533A \u70B9\u5238\u5145\u503C",-1)),_W=et("\u5145\u503C");function AW(e,t,n,r,a,i){const o=ge("t-input"),l=ge("t-button"),u=ge("van-tab"),s=ge("van-tabs"),c=ge("van-divider"),f=ge("t-grid-item"),v=ge("t-grid");return H(),W(Te,null,[R(s,{active:e.active,"onUpdate:active":t[3]||(t[3]=S=>e.active=S)},{default:Ue(()=>[R(u,{title:"\u738B\u8005\u70B9\u5238\u5145\u503C"},{default:Ue(()=>[J("div",OW,[kW,J("div",null,[R(o,{placeholder:"\u8BF7\u8F93\u5165\u533A\u57DF\u53F7",modelValue:e.zoneid,"onUpdate:modelValue":t[0]||(t[0]=S=>e.zoneid=S),label:"\u5927\u533A"},null,8,["modelValue"]),R(o,{placeholder:"\u8BF7\u8F93\u5165\u70B9\u5238\u6570",modelValue:e.n,"onUpdate:modelValue":t[1]||(t[1]=S=>e.n=S),label:"\u70B9\u5238\u6570"},null,8,["modelValue"]),R(o,{placeholder:"\u8BF7\u8F93\u5165QQ\u53F7",modelValue:e.u,"onUpdate:modelValue":t[2]||(t[2]=S=>e.u=S),label:"QQ\u53F7"},null,8,["modelValue"]),R(l,{onClick:e.goPayFor,size:"large",theme:"primary"},{default:Ue(()=>[_W]),_:1},8,["onClick"])])])]),_:1})]),_:1},8,["active"]),R(c),R(v,{column:5},{default:Ue(()=>[(H(!0),W(Te,null,Ne(e.navList,(S,E)=>(H(),Oe(f,{onClick:m=>e.goPage(S.path),key:E,text:S.text,image:S.imgUrl},null,8,["onClick","text","image"]))),128))]),_:1})],64)}var DW=CW(EW,[["render",AW],["__scopeId","data-v-cf895d7a"]]);const PW=[{path:"/",redirect:"/home"},{path:"/home",component:DW},{path:"/pay",name:"pay",component:()=>gt(()=>import("./pay.791b4786.js"),["assets/pay.791b4786.js","assets/pay.88decf90.css"])},{path:"/login",name:"\u767B\u5F55",component:()=>gt(()=>import("./login.1f16dff0.js"),["assets/login.1f16dff0.js","assets/index.1fb92cbc.js"])},{path:"/regist",name:"\u6CE8\u518C",component:()=>gt(()=>import("./regist.3ec985cf.js"),["assets/regist.3ec985cf.js","assets/index.1fb92cbc.js"])},{path:"/mine",name:"\u6211\u7684",component:()=>gt(()=>import("./mine.e222a90a.js"),[])},{path:"/wp",name:"\u7F51\u76D8",component:()=>gt(()=>import("./wp.8419e94a.js"),["assets/wp.8419e94a.js","assets/wp.2543b280.css","assets/dot.42625eb0.js","assets/index.1fb92cbc.js"])},{path:"/wpdir/:dir",name:"wpdir",component:()=>gt(()=>import("./wpdir.020552b8.js"),["assets/wpdir.020552b8.js","assets/wpdir.e580b05d.css","assets/dot.42625eb0.js","assets/index.1fb92cbc.js"])},{path:"/tmm",component:()=>gt(()=>import("./tmm.1d9f6604.js"),["assets/tmm.1d9f6604.js","assets/tmm.8bcbbef9.css"])},{path:"/movecase",name:"\u52A8\u6001",component:()=>gt(()=>import("./list.145e90f4.js"),["assets/list.145e90f4.js","assets/list.0e9748c4.css","assets/index.1fb92cbc.js"])},{path:"/addcase",name:"\u6DFB\u52A0\u52A8\u6001",component:()=>gt(()=>import("./add.623886ba.js"),["assets/add.623886ba.js","assets/add.6c940720.css","assets/index.1fb92cbc.js"])},{path:"/shop",component:()=>gt(()=>import("./shop.24e0cb0f.js"),["assets/shop.24e0cb0f.js","assets/shop.5d7c74bb.css","assets/index.1fb92cbc.js"])},{path:"/editgood",component:()=>gt(()=>import("./editGood.54d4f977.js"),["assets/editGood.54d4f977.js","assets/editGood.fe0f106a.css","assets/index.1fb92cbc.js","assets/wangEditor.e57115ba.js"])},{path:"/shopdetail",name:"\u7F16\u8F91\u5546\u54C1",component:()=>gt(()=>import("./shopDetail.fde2e5c4.js"),["assets/shopDetail.fde2e5c4.js","assets/shopDetail.8de737b1.css","assets/index.1fb92cbc.js"])},{path:"/leaveword",name:"\u7559\u8A00",component:()=>gt(()=>import("./leaveword.ff601e14.js"),["assets/leaveword.ff601e14.js","assets/leaveword.8d49a176.css","assets/index.1fb92cbc.js"])},{path:"/leaveList",name:"\u7559\u8A00\u5217\u8868",component:()=>gt(()=>import("./leaveList.22321384.js"),["assets/leaveList.22321384.js","assets/leaveList.2babfb40.css","assets/index.1fb92cbc.js"])},{path:"/nearMan",name:"\u9644\u8FD1\u7684\u4EBA",component:()=>gt(()=>import("./nearMan.4c9db529.js"),["assets/nearMan.4c9db529.js","assets/nearMan.e5d330fd.css","assets/index.1fb92cbc.js"])},{path:"/diction_list",component:()=>gt(()=>import("./list.df0675a0.js"),["assets/list.df0675a0.js","assets/list.968f4b97.css","assets/index.1fb92cbc.js"])},{path:"/getOnlinePath",name:"\u83B7\u53D6\u5728\u7EBF\u94FE\u63A5",component:()=>gt(()=>import("./getOnlinePath.0cfbc6e7.js"),["assets/getOnlinePath.0cfbc6e7.js","assets/getOnlinePath.1b1c1419.css","assets/index.1fb92cbc.js"])},{path:"/study",component:()=>gt(()=>import("./Study.bf47b274.js"),["assets/Study.bf47b274.js","assets/Study.82e206ab.css","assets/index.1fb92cbc.js"])},{path:"/studyAdd",component:()=>gt(()=>import("./add.878b7a22.js"),["assets/add.878b7a22.js","assets/add.a89ce5a5.css","assets/wangEditor.e57115ba.js","assets/index.1fb92cbc.js"])},{path:"/studydetail",name:"studydetail",component:()=>gt(()=>import("./detail.afc91b4c.js"),["assets/detail.afc91b4c.js","assets/detail.ae35afe6.css","assets/index.1fb92cbc.js"])},{path:"/phone_login",name:"\u624B\u673A\u53F7\u767B\u5F55",component:()=>gt(()=>import("./phone_login.c9e40b40.js"),[])},{path:"/phone_regist",name:"\u624B\u673A\u53F7\u6CE8\u518C",component:()=>gt(()=>import("./phone_regist.9a1bea15.js"),[])},{path:"/hospital_list",name:"\u75AB\u60C5",component:()=>gt(()=>import("./list.c28b16f5.js"),["assets/list.c28b16f5.js","assets/list.48449054.css"])},{path:"/:pathMatch(.*)*",name:"NotFound",component:()=>gt(()=>import("./notFound.575a874e.js"),[])}],IW=s7({history:CK(),routes:PW});var LW=TO({state:{footer:!0,theme:{}},getters:{getTheme(e){return e.theme}},mutations:{changeTheme(e,t){switch(t){case"default":e.theme={};break;case"new":e.theme={rateIconFullColor:"#07c160",sliderBarHeight:"4px",sliderButtonWidth:"20px",sliderButtonHeight:"20px",sliderActiveBackgroundColor:"#07c160",buttonPrimaryBorderColor:"#07c160",buttonPrimaryBackgroundColor:"#07c160"};break}},changeFooter(e,t){e.footer=t}},actions:{},modules:{}}),RW=Object.defineProperty,xW=Object.defineProperties,$W=Object.getOwnPropertyDescriptors,uy=Object.getOwnPropertySymbols,MW=Object.prototype.hasOwnProperty,FW=Object.prototype.propertyIsEnumerable,cy=(e,t,n)=>t in e?RW(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,rd=(e,t)=>{for(var n in t||(t={}))MW.call(t,n)&&cy(e,n,t[n]);if(uy)for(var n of uy(t))FW.call(t,n)&&cy(e,n,t[n]);return e},ad=(e,t)=>xW(e,$W(t));function dy(e,t,n,r){var a,i=!1,o=0;function l(){a&&clearTimeout(a)}function u(){for(var s=arguments.length,c=new Array(s),f=0;f<s;f++)c[f]=arguments[f];var v=this,S=Date.now()-o;function E(){o=Date.now(),n.apply(v,c)}function m(){a=void 0}i||(r&&!a&&E(),l(),r===void 0&&S>e?E():t!==!0&&(a=setTimeout(r?m:E,r===void 0?e-S:e)))}return typeof t!="boolean"&&(r=n,n=t,t=void 0),u.cancel=function(){l(),i=!0},u}function fy(e,t,n){return n===void 0?dy(e,t,!1):dy(e,n,t!==!1)}function BW(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var lC={exports:{}};typeof window!="undefined"&&(lC.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var a=t[r]={i:r,l:!1,exports:{}};return e[r].call(a.exports,a,a.exports,n),a.l=!0,a.exports}return n.m=e,n.c=t,n.d=function(r,a,i){n.o(r,a)||Object.defineProperty(r,a,{enumerable:!0,get:i})},n.r=function(r){typeof Symbol!="undefined"&&Symbol.toStringTag&&Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(r,"__esModule",{value:!0})},n.t=function(r,a){if(1&a&&(r=n(r)),8&a||4&a&&typeof r=="object"&&r&&r.__esModule)return r;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:r}),2&a&&typeof r!="string")for(var o in r)n.d(i,o,function(l){return r[l]}.bind(null,o));return i},n.n=function(r){var a=r&&r.__esModule?function(){return r.default}:function(){return r};return n.d(a,"a",a),a},n.o=function(r,a){return Object.prototype.hasOwnProperty.call(r,a)},n.p="/dist/",n(n.s="./src/hls.ts")}({"./node_modules/eventemitter3/index.js":function(e,t,n){var r=Object.prototype.hasOwnProperty,a="~";function i(){}function o(c,f,v){this.fn=c,this.context=f,this.once=v||!1}function l(c,f,v,S,E){if(typeof v!="function")throw new TypeError("The listener must be a function");var m=new o(v,S||c,E),d=a?a+f:f;return c._events[d]?c._events[d].fn?c._events[d]=[c._events[d],m]:c._events[d].push(m):(c._events[d]=m,c._eventsCount++),c}function u(c,f){--c._eventsCount==0?c._events=new i:delete c._events[f]}function s(){this._events=new i,this._eventsCount=0}Object.create&&(i.prototype=Object.create(null),new i().__proto__||(a=!1)),s.prototype.eventNames=function(){var c,f,v=[];if(this._eventsCount===0)return v;for(f in c=this._events)r.call(c,f)&&v.push(a?f.slice(1):f);return Object.getOwnPropertySymbols?v.concat(Object.getOwnPropertySymbols(c)):v},s.prototype.listeners=function(c){var f=a?a+c:c,v=this._events[f];if(!v)return[];if(v.fn)return[v.fn];for(var S=0,E=v.length,m=new Array(E);S<E;S++)m[S]=v[S].fn;return m},s.prototype.listenerCount=function(c){var f=a?a+c:c,v=this._events[f];return v?v.fn?1:v.length:0},s.prototype.emit=function(c,f,v,S,E,m){var d=a?a+c:c;if(!this._events[d])return!1;var g,h,p=this._events[d],b=arguments.length;if(p.fn){switch(p.once&&this.removeListener(c,p.fn,void 0,!0),b){case 1:return p.fn.call(p.context),!0;case 2:return p.fn.call(p.context,f),!0;case 3:return p.fn.call(p.context,f,v),!0;case 4:return p.fn.call(p.context,f,v,S),!0;case 5:return p.fn.call(p.context,f,v,S,E),!0;case 6:return p.fn.call(p.context,f,v,S,E,m),!0}for(h=1,g=new Array(b-1);h<b;h++)g[h-1]=arguments[h];p.fn.apply(p.context,g)}else{var y,C=p.length;for(h=0;h<C;h++)switch(p[h].once&&this.removeListener(c,p[h].fn,void 0,!0),b){case 1:p[h].fn.call(p[h].context);break;case 2:p[h].fn.call(p[h].context,f);break;case 3:p[h].fn.call(p[h].context,f,v);break;case 4:p[h].fn.call(p[h].context,f,v,S);break;default:if(!g)for(y=1,g=new Array(b-1);y<b;y++)g[y-1]=arguments[y];p[h].fn.apply(p[h].context,g)}}return!0},s.prototype.on=function(c,f,v){return l(this,c,f,v,!1)},s.prototype.once=function(c,f,v){return l(this,c,f,v,!0)},s.prototype.removeListener=function(c,f,v,S){var E=a?a+c:c;if(!this._events[E])return this;if(!f)return u(this,E),this;var m=this._events[E];if(m.fn)m.fn!==f||S&&!m.once||v&&m.context!==v||u(this,E);else{for(var d=0,g=[],h=m.length;d<h;d++)(m[d].fn!==f||S&&!m[d].once||v&&m[d].context!==v)&&g.push(m[d]);g.length?this._events[E]=g.length===1?g[0]:g:u(this,E)}return this},s.prototype.removeAllListeners=function(c){var f;return c?(f=a?a+c:c,this._events[f]&&u(this,f)):(this._events=new i,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=a,s.EventEmitter=s,e.exports=s},"./node_modules/url-toolkit/src/url-toolkit.js":function(e,t,n){var r,a,i,o,l;r=/^((?:[a-zA-Z0-9+\-.]+:)?)(\/\/[^\/?#]*)?((?:[^\/?#]*\/)*[^;?#]*)?(;[^?#]*)?(\?[^#]*)?(#[^]*)?$/,a=/^([^\/?#]*)([^]*)$/,i=/(?:\/|^)\.(?=\/)/g,o=/(?:\/|^)\.\.\/(?!\.\.\/)[^\/]*(?=\/)/g,l={buildAbsoluteURL:function(u,s,c){if(c=c||{},u=u.trim(),!(s=s.trim())){if(!c.alwaysNormalize)return u;var f=l.parseURL(u);if(!f)throw new Error("Error trying to parse base URL.");return f.path=l.normalizePath(f.path),l.buildURLFromParts(f)}var v=l.parseURL(s);if(!v)throw new Error("Error trying to parse relative URL.");if(v.scheme)return c.alwaysNormalize?(v.path=l.normalizePath(v.path),l.buildURLFromParts(v)):s;var S=l.parseURL(u);if(!S)throw new Error("Error trying to parse base URL.");if(!S.netLoc&&S.path&&S.path[0]!=="/"){var E=a.exec(S.path);S.netLoc=E[1],S.path=E[2]}S.netLoc&&!S.path&&(S.path="/");var m={scheme:S.scheme,netLoc:v.netLoc,path:null,params:v.params,query:v.query,fragment:v.fragment};if(!v.netLoc&&(m.netLoc=S.netLoc,v.path[0]!=="/"))if(v.path){var d=S.path,g=d.substring(0,d.lastIndexOf("/")+1)+v.path;m.path=l.normalizePath(g)}else m.path=S.path,v.params||(m.params=S.params,v.query||(m.query=S.query));return m.path===null&&(m.path=c.alwaysNormalize?l.normalizePath(v.path):v.path),l.buildURLFromParts(m)},parseURL:function(u){var s=r.exec(u);return s?{scheme:s[1]||"",netLoc:s[2]||"",path:s[3]||"",params:s[4]||"",query:s[5]||"",fragment:s[6]||""}:null},normalizePath:function(u){for(u=u.split("").reverse().join("").replace(i,"");u.length!==(u=u.replace(o,"")).length;);return u.split("").reverse().join("")},buildURLFromParts:function(u){return u.scheme+u.netLoc+u.path+u.params+u.query+u.fragment}},e.exports=l},"./node_modules/webworkify-webpack/index.js":function(e,t,n){function r(s){var c={};function f(S){if(c[S])return c[S].exports;var E=c[S]={i:S,l:!1,exports:{}};return s[S].call(E.exports,E,E.exports,f),E.l=!0,E.exports}f.m=s,f.c=c,f.i=function(S){return S},f.d=function(S,E,m){f.o(S,E)||Object.defineProperty(S,E,{configurable:!1,enumerable:!0,get:m})},f.r=function(S){Object.defineProperty(S,"__esModule",{value:!0})},f.n=function(S){var E=S&&S.__esModule?function(){return S.default}:function(){return S};return f.d(E,"a",E),E},f.o=function(S,E){return Object.prototype.hasOwnProperty.call(S,E)},f.p="/",f.oe=function(S){throw console.error(S),S};var v=f(f.s=ENTRY_MODULE);return v.default||v}var a="[\\.|\\-|\\+|\\w|/|@]+",i="\\(\\s*(/\\*.*?\\*/)?\\s*.*?([\\.|\\-|\\+|\\w|/|@]+).*?\\)";function o(s){return(s+"").replace(/[.?*+^$[\]\\(){}|-]/g,"\\$&")}function l(s,c,f){var v={};v[f]=[];var S=c.toString(),E=S.match(/^function\s?\w*\(\w+,\s*\w+,\s*(\w+)\)/);if(!E)return v;for(var m,d=E[1],g=new RegExp("(\\\\n|\\W)"+o(d)+i,"g");m=g.exec(S);)m[3]!=="dll-reference"&&v[f].push(m[3]);for(g=new RegExp("\\("+o(d)+'\\("(dll-reference\\s('+a+'))"\\)\\)'+i,"g");m=g.exec(S);)s[m[2]]||(v[f].push(m[1]),s[m[2]]=n(m[1]).m),v[m[2]]=v[m[2]]||[],v[m[2]].push(m[4]);for(var h,p=Object.keys(v),b=0;b<p.length;b++)for(var y=0;y<v[p[b]].length;y++)h=v[p[b]][y],isNaN(1*h)||(v[p[b]][y]=1*v[p[b]][y]);return v}function u(s){return Object.keys(s).reduce(function(c,f){return c||s[f].length>0},!1)}e.exports=function(s,c){c=c||{};var f={main:n.m},v=c.all?{main:Object.keys(f.main)}:function(g,h){for(var p={main:[h]},b={main:[]},y={main:{}};u(p);)for(var C=Object.keys(p),w=0;w<C.length;w++){var k=C[w],_=p[k].pop();if(y[k]=y[k]||{},!y[k][_]&&g[k][_]){y[k][_]=!0,b[k]=b[k]||[],b[k].push(_);for(var T=l(g,g[k][_],k),O=Object.keys(T),A=0;A<O.length;A++)p[O[A]]=p[O[A]]||[],p[O[A]]=p[O[A]].concat(T[O[A]])}}return b}(f,s),S="";Object.keys(v).filter(function(g){return g!=="main"}).forEach(function(g){for(var h=0;v[g][h];)h++;v[g].push(h),f[g][h]="(function(module, exports, __webpack_require__) { module.exports = __webpack_require__; })",S=S+"var "+g+" = ("+r.toString().replace("ENTRY_MODULE",JSON.stringify(h))+")({"+v[g].map(function(p){return JSON.stringify(p)+": "+f[g][p].toString()}).join(",")+`});
`}),S=S+"new (("+r.toString().replace("ENTRY_MODULE",JSON.stringify(s))+")({"+v.main.map(function(g){return JSON.stringify(g)+": "+f.main[g].toString()}).join(",")+"}))(self);";var E=new window.Blob([S],{type:"text/javascript"});if(c.bare)return E;var m=(window.URL||window.webkitURL||window.mozURL||window.msURL).createObjectURL(E),d=new window.Worker(m);return d.objectURL=m,d}},"./src/config.ts":function(e,t,n){n.r(t),n.d(t,"hlsDefaultConfig",function(){return C}),n.d(t,"mergeConfig",function(){return w}),n.d(t,"enableStreamingMode",function(){return k});var r=n("./src/controller/abr-controller.ts"),a=n("./src/controller/audio-stream-controller.ts"),i=n("./src/controller/audio-track-controller.ts"),o=n("./src/controller/subtitle-stream-controller.ts"),l=n("./src/controller/subtitle-track-controller.ts"),u=n("./src/controller/buffer-controller.ts"),s=n("./src/controller/timeline-controller.ts"),c=n("./src/controller/cap-level-controller.ts"),f=n("./src/controller/fps-controller.ts"),v=n("./src/controller/eme-controller.ts"),S=n("./src/utils/xhr-loader.ts"),E=n("./src/utils/fetch-loader.ts"),m=n("./src/utils/cues.ts"),d=n("./src/utils/mediakeys-helper.ts"),g=n("./src/utils/logger.ts");function h(){return(h=Object.assign||function(_){for(var T=1;T<arguments.length;T++){var O=arguments[T];for(var A in O)Object.prototype.hasOwnProperty.call(O,A)&&(_[A]=O[A])}return _}).apply(this,arguments)}function p(_,T){var O=Object.keys(_);if(Object.getOwnPropertySymbols){var A=Object.getOwnPropertySymbols(_);T&&(A=A.filter(function(P){return Object.getOwnPropertyDescriptor(_,P).enumerable})),O.push.apply(O,A)}return O}function b(_){for(var T=1;T<arguments.length;T++){var O=arguments[T]!=null?arguments[T]:{};T%2?p(Object(O),!0).forEach(function(A){y(_,A,O[A])}):Object.getOwnPropertyDescriptors?Object.defineProperties(_,Object.getOwnPropertyDescriptors(O)):p(Object(O)).forEach(function(A){Object.defineProperty(_,A,Object.getOwnPropertyDescriptor(O,A))})}return _}function y(_,T,O){return T in _?Object.defineProperty(_,T,{value:O,enumerable:!0,configurable:!0,writable:!0}):_[T]=O,_}var C=b(b({autoStartLoad:!0,startPosition:-1,defaultAudioCodec:void 0,debug:!1,capLevelOnFPSDrop:!1,capLevelToPlayerSize:!1,initialLiveManifestSize:1,maxBufferLength:30,backBufferLength:1/0,maxBufferSize:6e7,maxBufferHole:.1,highBufferWatchdogPeriod:2,nudgeOffset:.1,nudgeMaxRetry:3,maxFragLookUpTolerance:.25,liveSyncDurationCount:3,liveMaxLatencyDurationCount:1/0,liveSyncDuration:void 0,liveMaxLatencyDuration:void 0,maxLiveSyncPlaybackRate:1,liveDurationInfinity:!1,liveBackBufferLength:null,maxMaxBufferLength:600,enableWorker:!0,enableSoftwareAES:!0,manifestLoadingTimeOut:1e4,manifestLoadingMaxRetry:1,manifestLoadingRetryDelay:1e3,manifestLoadingMaxRetryTimeout:64e3,startLevel:void 0,levelLoadingTimeOut:1e4,levelLoadingMaxRetry:4,levelLoadingRetryDelay:1e3,levelLoadingMaxRetryTimeout:64e3,fragLoadingTimeOut:2e4,fragLoadingMaxRetry:6,fragLoadingRetryDelay:1e3,fragLoadingMaxRetryTimeout:64e3,startFragPrefetch:!1,fpsDroppedMonitoringPeriod:5e3,fpsDroppedMonitoringThreshold:.2,appendErrorMaxRetry:3,loader:S.default,fLoader:void 0,pLoader:void 0,xhrSetup:void 0,licenseXhrSetup:void 0,licenseResponseCallback:void 0,abrController:r.default,bufferController:u.default,capLevelController:c.default,fpsController:f.default,stretchShortVideoTrack:!1,maxAudioFramesDrift:1,forceKeyFrameOnDiscontinuity:!0,abrEwmaFastLive:3,abrEwmaSlowLive:9,abrEwmaFastVoD:3,abrEwmaSlowVoD:9,abrEwmaDefaultEstimate:5e5,abrBandWidthFactor:.95,abrBandWidthUpFactor:.7,abrMaxWithRealBitrate:!1,maxStarvationDelay:4,maxLoadingDelay:4,minAutoBitrate:0,emeEnabled:!1,widevineLicenseUrl:void 0,drmSystemOptions:{},requestMediaKeySystemAccessFunc:d.requestMediaKeySystemAccess,testBandwidth:!0,progressive:!1,lowLatencyMode:!0},{cueHandler:m.default,enableCEA708Captions:!0,enableWebVTT:!0,enableIMSC1:!0,captionsTextTrack1Label:"English",captionsTextTrack1LanguageCode:"en",captionsTextTrack2Label:"Spanish",captionsTextTrack2LanguageCode:"es",captionsTextTrack3Label:"Unknown CC",captionsTextTrack3LanguageCode:"",captionsTextTrack4Label:"Unknown CC",captionsTextTrack4LanguageCode:"",renderTextTracksNatively:!0}),{},{subtitleStreamController:o.SubtitleStreamController,subtitleTrackController:l.default,timelineController:s.TimelineController,audioStreamController:a.default,audioTrackController:i.default,emeController:v.default});function w(_,T){if((T.liveSyncDurationCount||T.liveMaxLatencyDurationCount)&&(T.liveSyncDuration||T.liveMaxLatencyDuration))throw new Error("Illegal hls.js config: don't mix up liveSyncDurationCount/liveMaxLatencyDurationCount and liveSyncDuration/liveMaxLatencyDuration");if(T.liveMaxLatencyDurationCount!==void 0&&(T.liveSyncDurationCount===void 0||T.liveMaxLatencyDurationCount<=T.liveSyncDurationCount))throw new Error('Illegal hls.js config: "liveMaxLatencyDurationCount" must be greater than "liveSyncDurationCount"');if(T.liveMaxLatencyDuration!==void 0&&(T.liveSyncDuration===void 0||T.liveMaxLatencyDuration<=T.liveSyncDuration))throw new Error('Illegal hls.js config: "liveMaxLatencyDuration" must be greater than "liveSyncDuration"');return h({},_,T)}function k(_){var T=_.loader;T!==E.default&&T!==S.default?(g.logger.log("[config]: Custom loader detected, cannot enable progressive streaming"),_.progressive=!1):Object(E.fetchSupported)()&&(_.loader=E.default,_.progressive=!0,_.enableSoftwareAES=!0,g.logger.log("[config]: Progressive streaming enabled, using FetchLoader"))}},"./src/controller/abr-controller.ts":function(e,t,n){n.r(t);var r=n("./src/polyfills/number.ts"),a=n("./src/utils/ewma-bandwidth-estimator.ts"),i=n("./src/events.ts"),o=n("./src/utils/buffer-helper.ts"),l=n("./src/errors.ts"),u=n("./src/types/loader.ts"),s=n("./src/utils/logger.ts");function c(v,S){for(var E=0;E<S.length;E++){var m=S[E];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(v,m.key,m)}}var f=function(){function v(d){this.hls=void 0,this.lastLoadedFragLevel=0,this._nextAutoLevel=-1,this.timer=void 0,this.onCheck=this._abandonRulesCheck.bind(this),this.fragCurrent=null,this.partCurrent=null,this.bitrateTestDelay=0,this.bwEstimator=void 0,this.hls=d;var g=d.config;this.bwEstimator=new a.default(g.abrEwmaSlowVoD,g.abrEwmaFastVoD,g.abrEwmaDefaultEstimate),this.registerListeners()}var S,E,m=v.prototype;return m.registerListeners=function(){var d=this.hls;d.on(i.Events.FRAG_LOADING,this.onFragLoading,this),d.on(i.Events.FRAG_LOADED,this.onFragLoaded,this),d.on(i.Events.FRAG_BUFFERED,this.onFragBuffered,this),d.on(i.Events.LEVEL_LOADED,this.onLevelLoaded,this),d.on(i.Events.ERROR,this.onError,this)},m.unregisterListeners=function(){var d=this.hls;d.off(i.Events.FRAG_LOADING,this.onFragLoading,this),d.off(i.Events.FRAG_LOADED,this.onFragLoaded,this),d.off(i.Events.FRAG_BUFFERED,this.onFragBuffered,this),d.off(i.Events.LEVEL_LOADED,this.onLevelLoaded,this),d.off(i.Events.ERROR,this.onError,this)},m.destroy=function(){this.unregisterListeners(),this.clearTimer(),this.hls=this.onCheck=null,this.fragCurrent=this.partCurrent=null},m.onFragLoading=function(d,g){var h,p=g.frag;p.type===u.PlaylistLevelType.MAIN&&(this.timer||(this.fragCurrent=p,this.partCurrent=(h=g.part)!=null?h:null,this.timer=self.setInterval(this.onCheck,100)))},m.onLevelLoaded=function(d,g){var h=this.hls.config;g.details.live?this.bwEstimator.update(h.abrEwmaSlowLive,h.abrEwmaFastLive):this.bwEstimator.update(h.abrEwmaSlowVoD,h.abrEwmaFastVoD)},m._abandonRulesCheck=function(){var d=this.fragCurrent,g=this.partCurrent,h=this.hls,p=h.autoLevelEnabled,b=h.config,y=h.media;if(d&&y){var C=g?g.stats:d.stats,w=g?g.duration:d.duration;if(C.aborted)return s.logger.warn("frag loader destroy or aborted, disarm abandonRules"),this.clearTimer(),void(this._nextAutoLevel=-1);if(p&&!y.paused&&y.playbackRate&&y.readyState){var k=performance.now()-C.loading.start,_=Math.abs(y.playbackRate);if(!(k<=500*w/_)){var T=h.levels,O=h.minAutoLevel,A=T[d.level],P=C.total||Math.max(C.loaded,Math.round(w*A.maxBitrate/8)),D=Math.max(1,C.bwEstimate?C.bwEstimate/8:1e3*C.loaded/k),I=(P-C.loaded)/D,x=y.currentTime,L=(o.BufferHelper.bufferInfo(y,x,b.maxBufferHole).end-x)/_;if(!(L>=2*w/_||I<=L)){var $,M=Number.POSITIVE_INFINITY;for($=d.level-1;$>O&&!((M=w*T[$].maxBitrate/(6.4*D))<L);$--);if(!(M>=I)){var N=this.bwEstimator.getEstimate();s.logger.warn("Fragment "+d.sn+(g?" part "+g.index:"")+" of level "+d.level+" is loading too slowly and will cause an underbuffer; aborting and switching to level "+$+`
      Current BW estimate: `+(Object(r.isFiniteNumber)(N)?(N/1024).toFixed(3):"Unknown")+` Kb/s
      Estimated load time for current fragment: `+I.toFixed(3)+` s
      Estimated load time for the next fragment: `+M.toFixed(3)+` s
      Time to underbuffer: `+L.toFixed(3)+" s"),h.nextLoadLevel=$,this.bwEstimator.sample(k,C.loaded),this.clearTimer(),d.loader&&(this.fragCurrent=this.partCurrent=null,d.loader.abort()),h.trigger(i.Events.FRAG_LOAD_EMERGENCY_ABORTED,{frag:d,part:g,stats:C})}}}}}},m.onFragLoaded=function(d,g){var h=g.frag,p=g.part;if(h.type===u.PlaylistLevelType.MAIN&&Object(r.isFiniteNumber)(h.sn)){var b=p?p.stats:h.stats,y=p?p.duration:h.duration;if(this.clearTimer(),this.lastLoadedFragLevel=h.level,this._nextAutoLevel=-1,this.hls.config.abrMaxWithRealBitrate){var C=this.hls.levels[h.level],w=(C.loaded?C.loaded.bytes:0)+b.loaded,k=(C.loaded?C.loaded.duration:0)+y;C.loaded={bytes:w,duration:k},C.realBitrate=Math.round(8*w/k)}if(h.bitrateTest){var _={stats:b,frag:h,part:p,id:h.type};this.onFragBuffered(i.Events.FRAG_BUFFERED,_),h.bitrateTest=!1}}},m.onFragBuffered=function(d,g){var h=g.frag,p=g.part,b=p?p.stats:h.stats;if(!b.aborted&&h.type===u.PlaylistLevelType.MAIN&&h.sn!=="initSegment"){var y=b.parsing.end-b.loading.start;this.bwEstimator.sample(y,b.loaded),b.bwEstimate=this.bwEstimator.getEstimate(),h.bitrateTest?this.bitrateTestDelay=y/1e3:this.bitrateTestDelay=0}},m.onError=function(d,g){switch(g.details){case l.ErrorDetails.FRAG_LOAD_ERROR:case l.ErrorDetails.FRAG_LOAD_TIMEOUT:this.clearTimer()}},m.clearTimer=function(){self.clearInterval(this.timer),this.timer=void 0},m.getNextABRAutoLevel=function(){var d=this.fragCurrent,g=this.partCurrent,h=this.hls,p=h.maxAutoLevel,b=h.config,y=h.minAutoLevel,C=h.media,w=g?g.duration:d?d.duration:0,k=C?C.currentTime:0,_=C&&C.playbackRate!==0?Math.abs(C.playbackRate):1,T=this.bwEstimator?this.bwEstimator.getEstimate():b.abrEwmaDefaultEstimate,O=(o.BufferHelper.bufferInfo(C,k,b.maxBufferHole).end-k)/_,A=this.findBestLevel(T,y,p,O,b.abrBandWidthFactor,b.abrBandWidthUpFactor);if(A>=0)return A;s.logger.trace((O?"rebuffering expected":"buffer is empty")+", finding optimal quality level");var P=w?Math.min(w,b.maxStarvationDelay):b.maxStarvationDelay,D=b.abrBandWidthFactor,I=b.abrBandWidthUpFactor;if(!O){var x=this.bitrateTestDelay;x&&(P=(w?Math.min(w,b.maxLoadingDelay):b.maxLoadingDelay)-x,s.logger.trace("bitrate test took "+Math.round(1e3*x)+"ms, set first fragment max fetchDuration to "+Math.round(1e3*P)+" ms"),D=I=1)}return A=this.findBestLevel(T,y,p,O+P,D,I),Math.max(A,0)},m.findBestLevel=function(d,g,h,p,b,y){for(var C,w=this.fragCurrent,k=this.partCurrent,_=this.lastLoadedFragLevel,T=this.hls.levels,O=T[_],A=!(O==null||(C=O.details)===null||C===void 0||!C.live),P=O==null?void 0:O.codecSet,D=k?k.duration:w?w.duration:0,I=h;I>=g;I--){var x=T[I];if(x&&(!P||x.codecSet===P)){var L=x.details,$=(k?L==null?void 0:L.partTarget:L==null?void 0:L.averagetargetduration)||D,M=void 0;M=I<=_?b*d:y*d;var N=T[I].maxBitrate,F=N*$/M;if(s.logger.trace("level/adjustedbw/bitrate/avgDuration/maxFetchDuration/fetchDuration: "+I+"/"+Math.round(M)+"/"+N+"/"+$+"/"+p+"/"+F),M>N&&(!F||A&&!this.bitrateTestDelay||F<p))return I}}return-1},S=v,(E=[{key:"nextAutoLevel",get:function(){var d=this._nextAutoLevel,g=this.bwEstimator;if(!(d===-1||g&&g.canEstimate()))return d;var h=this.getNextABRAutoLevel();return d!==-1&&(h=Math.min(d,h)),h},set:function(d){this._nextAutoLevel=d}}])&&c(S.prototype,E),v}();t.default=f},"./src/controller/audio-stream-controller.ts":function(e,t,n){n.r(t);var r=n("./src/polyfills/number.ts"),a=n("./src/controller/base-stream-controller.ts"),i=n("./src/events.ts"),o=n("./src/utils/buffer-helper.ts"),l=n("./src/controller/fragment-tracker.ts"),u=n("./src/types/level.ts"),s=n("./src/types/loader.ts"),c=n("./src/loader/fragment.ts"),f=n("./src/demux/chunk-cache.ts"),v=n("./src/demux/transmuxer-interface.ts"),S=n("./src/types/transmuxer.ts"),E=n("./src/controller/fragment-finders.ts"),m=n("./src/utils/discontinuities.ts"),d=n("./src/errors.ts"),g=n("./src/utils/logger.ts");function h(){return(h=Object.assign||function(y){for(var C=1;C<arguments.length;C++){var w=arguments[C];for(var k in w)Object.prototype.hasOwnProperty.call(w,k)&&(y[k]=w[k])}return y}).apply(this,arguments)}function p(y,C){return(p=Object.setPrototypeOf||function(w,k){return w.__proto__=k,w})(y,C)}var b=function(y){var C,w;function k(T,O){var A;return(A=y.call(this,T,O,"[audio-stream-controller]")||this).videoBuffer=null,A.videoTrackCC=-1,A.waitingVideoCC=-1,A.audioSwitch=!1,A.trackId=-1,A.waitingData=null,A.mainDetails=null,A.bufferFlushed=!1,A._registerListeners(),A}w=y,(C=k).prototype=Object.create(w.prototype),C.prototype.constructor=C,p(C,w);var _=k.prototype;return _.onHandlerDestroying=function(){this._unregisterListeners(),this.mainDetails=null},_._registerListeners=function(){var T=this.hls;T.on(i.Events.MEDIA_ATTACHED,this.onMediaAttached,this),T.on(i.Events.MEDIA_DETACHING,this.onMediaDetaching,this),T.on(i.Events.MANIFEST_LOADING,this.onManifestLoading,this),T.on(i.Events.LEVEL_LOADED,this.onLevelLoaded,this),T.on(i.Events.AUDIO_TRACKS_UPDATED,this.onAudioTracksUpdated,this),T.on(i.Events.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),T.on(i.Events.AUDIO_TRACK_LOADED,this.onAudioTrackLoaded,this),T.on(i.Events.ERROR,this.onError,this),T.on(i.Events.BUFFER_RESET,this.onBufferReset,this),T.on(i.Events.BUFFER_CREATED,this.onBufferCreated,this),T.on(i.Events.BUFFER_FLUSHED,this.onBufferFlushed,this),T.on(i.Events.INIT_PTS_FOUND,this.onInitPtsFound,this),T.on(i.Events.FRAG_BUFFERED,this.onFragBuffered,this)},_._unregisterListeners=function(){var T=this.hls;T.off(i.Events.MEDIA_ATTACHED,this.onMediaAttached,this),T.off(i.Events.MEDIA_DETACHING,this.onMediaDetaching,this),T.off(i.Events.MANIFEST_LOADING,this.onManifestLoading,this),T.off(i.Events.LEVEL_LOADED,this.onLevelLoaded,this),T.off(i.Events.AUDIO_TRACKS_UPDATED,this.onAudioTracksUpdated,this),T.off(i.Events.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),T.off(i.Events.AUDIO_TRACK_LOADED,this.onAudioTrackLoaded,this),T.off(i.Events.ERROR,this.onError,this),T.off(i.Events.BUFFER_RESET,this.onBufferReset,this),T.off(i.Events.BUFFER_CREATED,this.onBufferCreated,this),T.off(i.Events.BUFFER_FLUSHED,this.onBufferFlushed,this),T.off(i.Events.INIT_PTS_FOUND,this.onInitPtsFound,this),T.off(i.Events.FRAG_BUFFERED,this.onFragBuffered,this)},_.onInitPtsFound=function(T,O){var A=O.frag,P=O.id,D=O.initPTS;if(P==="main"){var I=A.cc;this.initPTS[A.cc]=D,this.log("InitPTS for cc: "+I+" found from main: "+D),this.videoTrackCC=I,this.state===a.State.WAITING_INIT_PTS&&this.tick()}},_.startLoad=function(T){if(!this.levels)return this.startPosition=T,void(this.state=a.State.STOPPED);var O=this.lastCurrentTime;this.stopLoad(),this.setInterval(100),this.fragLoadError=0,O>0&&T===-1?(this.log("Override startPosition with lastCurrentTime @"+O.toFixed(3)),this.state=a.State.IDLE):(this.loadedmetadata=!1,this.state=a.State.WAITING_TRACK),this.nextLoadPosition=this.startPosition=this.lastCurrentTime=T,this.tick()},_.doTick=function(){switch(this.state){case a.State.IDLE:this.doTickIdle();break;case a.State.WAITING_TRACK:var T,O=this.levels,A=this.trackId,P=O==null||(T=O[A])===null||T===void 0?void 0:T.details;if(P){if(this.waitForCdnTuneIn(P))break;this.state=a.State.WAITING_INIT_PTS}break;case a.State.FRAG_LOADING_WAITING_RETRY:var D,I=performance.now(),x=this.retryDate;(!x||I>=x||(D=this.media)!==null&&D!==void 0&&D.seeking)&&(this.log("RetryDate reached, switch back to IDLE state"),this.state=a.State.IDLE);break;case a.State.WAITING_INIT_PTS:var L=this.waitingData;if(L){var $=L.frag,M=L.part,N=L.cache,F=L.complete;if(this.initPTS[$.cc]!==void 0){this.waitingData=null,this.waitingVideoCC=-1,this.state=a.State.FRAG_LOADING;var U={frag:$,part:M,payload:N.flush(),networkDetails:null};this._handleFragmentLoadProgress(U),F&&y.prototype._handleFragmentLoadComplete.call(this,U)}else if(this.videoTrackCC!==this.waitingVideoCC)g.logger.log("Waiting fragment cc ("+$.cc+") cancelled because video is at cc "+this.videoTrackCC),this.clearWaitingFragment();else{var B=this.getLoadPosition(),K=o.BufferHelper.bufferInfo(this.mediaBuffer,B,this.config.maxBufferHole);Object(E.fragmentWithinToleranceTest)(K.end,this.config.maxFragLookUpTolerance,$)<0&&(g.logger.log("Waiting fragment cc ("+$.cc+") @ "+$.start+" cancelled because another fragment at "+K.end+" is needed"),this.clearWaitingFragment())}}else this.state=a.State.IDLE}this.onTickEnd()},_.clearWaitingFragment=function(){var T=this.waitingData;T&&(this.fragmentTracker.removeFragment(T.frag),this.waitingData=null,this.waitingVideoCC=-1,this.state=a.State.IDLE)},_.onTickEnd=function(){var T=this.media;if(T&&T.readyState){var O=(this.mediaBuffer?this.mediaBuffer:T).buffered;!this.loadedmetadata&&O.length&&(this.loadedmetadata=!0),this.lastCurrentTime=T.currentTime}},_.doTickIdle=function(){var T,O,A=this.hls,P=this.levels,D=this.media,I=this.trackId,x=A.config;if(P&&P[I]&&(D||!this.startFragRequested&&x.startFragPrefetch)){var L=P[I].details;if(!L||L.live&&this.levelLastLoaded!==I||this.waitForCdnTuneIn(L))this.state=a.State.WAITING_TRACK;else{this.bufferFlushed&&(this.bufferFlushed=!1,this.afterBufferFlushed(this.mediaBuffer?this.mediaBuffer:this.media,c.ElementaryStreamTypes.AUDIO,s.PlaylistLevelType.AUDIO));var $=this.getFwdBufferInfo(this.mediaBuffer?this.mediaBuffer:this.media,s.PlaylistLevelType.AUDIO);if($!==null){var M=$.len,N=this.getMaxBufferLength(),F=this.audioSwitch;if(!(M>=N)||F){if(!F&&this._streamEnded($,L))return A.trigger(i.Events.BUFFER_EOS,{type:"audio"}),void(this.state=a.State.ENDED);var U=L.fragments[0].start,B=$.end;if(F){var K=this.getLoadPosition();B=K,L.PTSKnown&&K<U&&($.end>U||$.nextStart)&&(this.log("Alt audio track ahead of main track, seek to start of alt audio track"),D.currentTime=U+.05)}var V=this.getNextFragment(B,L);V?((T=V.decryptdata)===null||T===void 0?void 0:T.keyFormat)!=="identity"||(O=V.decryptdata)!==null&&O!==void 0&&O.key?this.loadFragment(V,L,B):this.loadKey(V,L):this.bufferFlushed=!0}}}}},_.getMaxBufferLength=function(){var T=y.prototype.getMaxBufferLength.call(this),O=this.getFwdBufferInfo(this.videoBuffer?this.videoBuffer:this.media,s.PlaylistLevelType.MAIN);return O===null?T:Math.max(T,O.len)},_.onMediaDetaching=function(){this.videoBuffer=null,y.prototype.onMediaDetaching.call(this)},_.onAudioTracksUpdated=function(T,O){var A=O.audioTracks;this.resetTransmuxer(),this.levels=A.map(function(P){return new u.Level(P)})},_.onAudioTrackSwitching=function(T,O){var A=!!O.url;this.trackId=O.id;var P=this.fragCurrent;P!=null&&P.loader&&P.loader.abort(),this.fragCurrent=null,this.clearWaitingFragment(),A?this.setInterval(100):this.resetTransmuxer(),A?(this.audioSwitch=!0,this.state=a.State.IDLE):this.state=a.State.STOPPED,this.tick()},_.onManifestLoading=function(){this.mainDetails=null,this.fragmentTracker.removeAllFragments(),this.startPosition=this.lastCurrentTime=0,this.bufferFlushed=!1},_.onLevelLoaded=function(T,O){this.mainDetails=O.details},_.onAudioTrackLoaded=function(T,O){var A,P=this.levels,D=O.details,I=O.id;if(P){this.log("Track "+I+" loaded ["+D.startSN+","+D.endSN+"],duration:"+D.totalduration);var x=P[I],L=0;if(D.live||(A=x.details)!==null&&A!==void 0&&A.live){var $=this.mainDetails;if(D.fragments[0]||(D.deltaUpdateFailed=!0),D.deltaUpdateFailed||!$)return;!x.details&&D.hasProgramDateTime&&$.hasProgramDateTime?(Object(m.alignPDT)(D,$),L=D.fragments[0].start):L=this.alignPlaylists(D,x.details)}x.details=D,this.levelLastLoaded=I,this.startFragRequested||!this.mainDetails&&D.live||this.setStartPosition(x.details,L),this.state!==a.State.WAITING_TRACK||this.waitForCdnTuneIn(D)||(this.state=a.State.IDLE),this.tick()}else this.warn("Audio tracks were reset while loading level "+I)},_._handleFragmentLoadProgress=function(T){var O,A=T.frag,P=T.part,D=T.payload,I=this.config,x=this.trackId,L=this.levels;if(L){var $=L[x];console.assert($,"Audio track is defined on fragment load progress");var M=$.details;console.assert(M,"Audio track details are defined on fragment load progress");var N=I.defaultAudioCodec||$.audioCodec||"mp4a.40.2",F=this.transmuxer;F||(F=this.transmuxer=new v.default(this.hls,s.PlaylistLevelType.AUDIO,this._handleTransmuxComplete.bind(this),this._handleTransmuxerFlush.bind(this)));var U=this.initPTS[A.cc],B=(O=A.initSegment)===null||O===void 0?void 0:O.data;if(U!==void 0){var K=P?P.index:-1,V=K!==-1,X=new S.ChunkMetadata(A.level,A.sn,A.stats.chunkCount,D.byteLength,K,V);F.push(D,B,N,"",A,P,M.totalduration,!1,X,U)}else g.logger.log("Unknown video PTS for cc "+A.cc+", waiting for video PTS before demuxing audio frag "+A.sn+" of ["+M.startSN+" ,"+M.endSN+"],track "+x),(this.waitingData=this.waitingData||{frag:A,part:P,cache:new f.default,complete:!1}).cache.push(new Uint8Array(D)),this.waitingVideoCC=this.videoTrackCC,this.state=a.State.WAITING_INIT_PTS}else this.warn("Audio tracks were reset while fragment load was in progress. Fragment "+A.sn+" of level "+A.level+" will not be buffered")},_._handleFragmentLoadComplete=function(T){this.waitingData?this.waitingData.complete=!0:y.prototype._handleFragmentLoadComplete.call(this,T)},_.onBufferReset=function(){this.mediaBuffer=this.videoBuffer=null,this.loadedmetadata=!1},_.onBufferCreated=function(T,O){var A=O.tracks.audio;A&&(this.mediaBuffer=A.buffer),O.tracks.video&&(this.videoBuffer=O.tracks.video.buffer)},_.onFragBuffered=function(T,O){var A=O.frag,P=O.part;A.type===s.PlaylistLevelType.AUDIO&&(this.fragContextChanged(A)?this.warn("Fragment "+A.sn+(P?" p: "+P.index:"")+" of level "+A.level+" finished buffering, but was aborted. state: "+this.state+", audioSwitch: "+this.audioSwitch):(A.sn!=="initSegment"&&(this.fragPrevious=A,this.audioSwitch&&(this.audioSwitch=!1,this.hls.trigger(i.Events.AUDIO_TRACK_SWITCHED,{id:this.trackId}))),this.fragBufferedComplete(A,P)))},_.onError=function(T,O){switch(O.details){case d.ErrorDetails.FRAG_LOAD_ERROR:case d.ErrorDetails.FRAG_LOAD_TIMEOUT:case d.ErrorDetails.KEY_LOAD_ERROR:case d.ErrorDetails.KEY_LOAD_TIMEOUT:this.onFragmentOrKeyLoadError(s.PlaylistLevelType.AUDIO,O);break;case d.ErrorDetails.AUDIO_TRACK_LOAD_ERROR:case d.ErrorDetails.AUDIO_TRACK_LOAD_TIMEOUT:this.state!==a.State.ERROR&&this.state!==a.State.STOPPED&&(this.state=O.fatal?a.State.ERROR:a.State.IDLE,this.warn(O.details+" while loading frag, switching to "+this.state+" state"));break;case d.ErrorDetails.BUFFER_FULL_ERROR:if(O.parent==="audio"&&(this.state===a.State.PARSING||this.state===a.State.PARSED)){var A=!0,P=this.getFwdBufferInfo(this.mediaBuffer,s.PlaylistLevelType.AUDIO);P&&P.len>.5&&(A=!this.reduceMaxBufferLength(P.len)),A&&(this.warn("Buffer full error also media.currentTime is not buffered, flush audio buffer"),this.fragCurrent=null,y.prototype.flushMainBuffer.call(this,0,Number.POSITIVE_INFINITY,"audio")),this.resetLoadingState()}}},_.onBufferFlushed=function(T,O){O.type===c.ElementaryStreamTypes.AUDIO&&(this.bufferFlushed=!0)},_._handleTransmuxComplete=function(T){var O,A="audio",P=this.hls,D=T.remuxResult,I=T.chunkMeta,x=this.getCurrentContext(I);if(!x)return this.warn("The loading context changed while buffering fragment "+I.sn+" of level "+I.level+". This chunk will not be buffered."),void this.resetLiveStartWhenNotLoaded(I.level);var L=x.frag,$=x.part,M=D.audio,N=D.text,F=D.id3,U=D.initSegment;if(!this.fragContextChanged(L)){if(this.state=a.State.PARSING,this.audioSwitch&&M&&this.completeAudioSwitch(),U!=null&&U.tracks&&(this._bufferInitSegment(U.tracks,L,I),P.trigger(i.Events.FRAG_PARSING_INIT_SEGMENT,{frag:L,id:A,tracks:U.tracks})),M){var B=M.startPTS,K=M.endPTS,V=M.startDTS,X=M.endDTS;$&&($.elementaryStreams[c.ElementaryStreamTypes.AUDIO]={startPTS:B,endPTS:K,startDTS:V,endDTS:X}),L.setElementaryStreamInfo(c.ElementaryStreamTypes.AUDIO,B,K,V,X),this.bufferFragmentData(M,L,$,I)}if(F!=null&&(O=F.samples)!==null&&O!==void 0&&O.length){var Z=h({frag:L,id:A},F);P.trigger(i.Events.FRAG_PARSING_METADATA,Z)}if(N){var ne=h({frag:L,id:A},N);P.trigger(i.Events.FRAG_PARSING_USERDATA,ne)}}},_._bufferInitSegment=function(T,O,A){if(this.state===a.State.PARSING){T.video&&delete T.video;var P=T.audio;if(P){P.levelCodec=P.codec,P.id="audio",this.log("Init audio buffer, container:"+P.container+", codecs[parsed]=["+P.codec+"]"),this.hls.trigger(i.Events.BUFFER_CODECS,T);var D=P.initSegment;if(D!=null&&D.byteLength){var I={type:"audio",frag:O,part:null,chunkMeta:A,parent:O.type,data:D};this.hls.trigger(i.Events.BUFFER_APPENDING,I)}this.tick()}}},_.loadFragment=function(T,O,A){var P=this.fragmentTracker.getState(T);this.fragCurrent=T,(this.audioSwitch||P===l.FragmentState.NOT_LOADED||P===l.FragmentState.PARTIAL)&&(T.sn==="initSegment"?this._loadInitSegment(T):O.live&&!Object(r.isFiniteNumber)(this.initPTS[T.cc])?(this.log("Waiting for video PTS in continuity counter "+T.cc+" of live stream before loading audio fragment "+T.sn+" of level "+this.trackId),this.state=a.State.WAITING_INIT_PTS):(this.startFragRequested=!0,y.prototype.loadFragment.call(this,T,O,A)))},_.completeAudioSwitch=function(){var T=this.hls,O=this.media,A=this.trackId;O&&(this.log("Switching audio track : flushing all audio"),y.prototype.flushMainBuffer.call(this,0,Number.POSITIVE_INFINITY,"audio")),this.audioSwitch=!1,T.trigger(i.Events.AUDIO_TRACK_SWITCHED,{id:A})},k}(a.default);t.default=b},"./src/controller/audio-track-controller.ts":function(e,t,n){n.r(t);var r=n("./src/events.ts"),a=n("./src/errors.ts"),i=n("./src/controller/base-playlist-controller.ts"),o=n("./src/types/loader.ts");function l(c,f){for(var v=0;v<f.length;v++){var S=f[v];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(c,S.key,S)}}function u(c,f){return(u=Object.setPrototypeOf||function(v,S){return v.__proto__=S,v})(c,f)}var s=function(c){var f,v;function S(g){var h;return(h=c.call(this,g,"[audio-track-controller]")||this).tracks=[],h.groupId=null,h.tracksInGroup=[],h.trackId=-1,h.trackName="",h.selectDefaultTrack=!0,h.registerListeners(),h}v=c,(f=S).prototype=Object.create(v.prototype),f.prototype.constructor=f,u(f,v);var E,m,d=S.prototype;return d.registerListeners=function(){var g=this.hls;g.on(r.Events.MANIFEST_LOADING,this.onManifestLoading,this),g.on(r.Events.MANIFEST_PARSED,this.onManifestParsed,this),g.on(r.Events.LEVEL_LOADING,this.onLevelLoading,this),g.on(r.Events.LEVEL_SWITCHING,this.onLevelSwitching,this),g.on(r.Events.AUDIO_TRACK_LOADED,this.onAudioTrackLoaded,this),g.on(r.Events.ERROR,this.onError,this)},d.unregisterListeners=function(){var g=this.hls;g.off(r.Events.MANIFEST_LOADING,this.onManifestLoading,this),g.off(r.Events.MANIFEST_PARSED,this.onManifestParsed,this),g.off(r.Events.LEVEL_LOADING,this.onLevelLoading,this),g.off(r.Events.LEVEL_SWITCHING,this.onLevelSwitching,this),g.off(r.Events.AUDIO_TRACK_LOADED,this.onAudioTrackLoaded,this),g.off(r.Events.ERROR,this.onError,this)},d.destroy=function(){this.unregisterListeners(),this.tracks.length=0,this.tracksInGroup.length=0,c.prototype.destroy.call(this)},d.onManifestLoading=function(){this.tracks=[],this.groupId=null,this.tracksInGroup=[],this.trackId=-1,this.trackName="",this.selectDefaultTrack=!0},d.onManifestParsed=function(g,h){this.tracks=h.audioTracks||[]},d.onAudioTrackLoaded=function(g,h){var p=h.id,b=h.details,y=this.tracksInGroup[p];if(y){var C=y.details;y.details=h.details,this.log("audioTrack "+p+" loaded ["+b.startSN+"-"+b.endSN+"]"),p===this.trackId&&(this.retryCount=0,this.playlistLoaded(p,h,C))}else this.warn("Invalid audio track id "+p)},d.onLevelLoading=function(g,h){this.switchLevel(h.level)},d.onLevelSwitching=function(g,h){this.switchLevel(h.level)},d.switchLevel=function(g){var h=this.hls.levels[g];if(h!=null&&h.audioGroupIds){var p=h.audioGroupIds[h.urlId];if(this.groupId!==p){this.groupId=p;var b=this.tracks.filter(function(C){return!p||C.groupId===p});this.selectDefaultTrack&&!b.some(function(C){return C.default})&&(this.selectDefaultTrack=!1),this.tracksInGroup=b;var y={audioTracks:b};this.log("Updating audio tracks, "+b.length+' track(s) found in "'+p+'" group-id'),this.hls.trigger(r.Events.AUDIO_TRACKS_UPDATED,y),this.selectInitialTrack()}}},d.onError=function(g,h){c.prototype.onError.call(this,g,h),!h.fatal&&h.context&&h.context.type===o.PlaylistContextType.AUDIO_TRACK&&h.context.id===this.trackId&&h.context.groupId===this.groupId&&this.retryLoadingOrFail(h)},d.setAudioTrack=function(g){var h=this.tracksInGroup;if(g<0||g>=h.length)this.warn("Invalid id passed to audio-track controller");else{this.clearTimer();var p=h[this.trackId];this.log("Now switching to audio-track index "+g);var b=h[g],y=b.id,C=b.groupId,w=C===void 0?"":C,k=b.name,_=b.type,T=b.url;if(this.trackId=g,this.trackName=k,this.selectDefaultTrack=!1,this.hls.trigger(r.Events.AUDIO_TRACK_SWITCHING,{id:y,groupId:w,name:k,type:_,url:T}),!b.details||b.details.live){var O=this.switchParams(b.url,p==null?void 0:p.details);this.loadPlaylist(O)}}},d.selectInitialTrack=function(){var g=this.tracksInGroup;console.assert(g.length,"Initial audio track should be selected when tracks are known");var h=this.trackName,p=this.findTrackId(h)||this.findTrackId();p!==-1?this.setAudioTrack(p):(this.warn("No track found for running audio group-ID: "+this.groupId),this.hls.trigger(r.Events.ERROR,{type:a.ErrorTypes.MEDIA_ERROR,details:a.ErrorDetails.AUDIO_TRACK_LOAD_ERROR,fatal:!0}))},d.findTrackId=function(g){for(var h=this.tracksInGroup,p=0;p<h.length;p++){var b=h[p];if((!this.selectDefaultTrack||b.default)&&(!g||g===b.name))return b.id}return-1},d.loadPlaylist=function(g){var h=this.tracksInGroup[this.trackId];if(this.shouldLoadTrack(h)){var p=h.id,b=h.groupId,y=h.url;if(g)try{y=g.addDirectives(y)}catch(C){this.warn("Could not construct new URL with HLS Delivery Directives: "+C)}this.log("loading audio-track playlist for id: "+p),this.clearTimer(),this.hls.trigger(r.Events.AUDIO_TRACK_LOADING,{url:y,id:p,groupId:b,deliveryDirectives:g||null})}},E=S,(m=[{key:"audioTracks",get:function(){return this.tracksInGroup}},{key:"audioTrack",get:function(){return this.trackId},set:function(g){this.selectDefaultTrack=!1,this.setAudioTrack(g)}}])&&l(E.prototype,m),S}(i.default);t.default=s},"./src/controller/base-playlist-controller.ts":function(e,t,n){n.r(t),n.d(t,"default",function(){return u});var r=n("./src/polyfills/number.ts"),a=n("./src/types/level.ts"),i=n("./src/controller/level-helper.ts"),o=n("./src/utils/logger.ts"),l=n("./src/errors.ts"),u=function(){function s(f,v){this.hls=void 0,this.timer=-1,this.canLoad=!1,this.retryCount=0,this.log=void 0,this.warn=void 0,this.log=o.logger.log.bind(o.logger,v+":"),this.warn=o.logger.warn.bind(o.logger,v+":"),this.hls=f}var c=s.prototype;return c.destroy=function(){this.clearTimer(),this.hls=this.log=this.warn=null},c.onError=function(f,v){v.fatal&&v.type===l.ErrorTypes.NETWORK_ERROR&&this.clearTimer()},c.clearTimer=function(){clearTimeout(this.timer),this.timer=-1},c.startLoad=function(){this.canLoad=!0,this.retryCount=0,this.loadPlaylist()},c.stopLoad=function(){this.canLoad=!1,this.clearTimer()},c.switchParams=function(f,v){var S=v==null?void 0:v.renditionReports;if(S)for(var E=0;E<S.length;E++){var m=S[E],d=""+m.URI;if(d===f.substr(-d.length)){var g=parseInt(m["LAST-MSN"]),h=parseInt(m["LAST-PART"]);if(v&&this.hls.config.lowLatencyMode){var p=Math.min(v.age-v.partTarget,v.targetduration);h!==void 0&&p>v.partTarget&&(h+=1)}if(Object(r.isFiniteNumber)(g))return new a.HlsUrlParameters(g,Object(r.isFiniteNumber)(h)?h:void 0,a.HlsSkip.No)}}},c.loadPlaylist=function(f){},c.shouldLoadTrack=function(f){return this.canLoad&&f&&!!f.url&&(!f.details||f.details.live)},c.playlistLoaded=function(f,v,S){var E=this,m=v.details,d=v.stats,g=d.loading.end?Math.max(0,self.performance.now()-d.loading.end):0;if(m.advancedDateTime=Date.now()-g,m.live||S!=null&&S.live){if(m.reloaded(S),S&&this.log("live playlist "+f+" "+(m.advanced?"REFRESHED "+m.lastPartSn+"-"+m.lastPartIndex:"MISSED")),S&&m.fragments.length>0&&Object(i.mergeDetails)(S,m),!this.canLoad||!m.live)return;var h,p=void 0,b=void 0;if(m.canBlockReload&&m.endSN&&m.advanced){var y=this.hls.config.lowLatencyMode,C=m.lastPartSn,w=m.endSN,k=m.lastPartIndex,_=C===w;k!==-1?(p=_?w+1:C,b=_?y?0:k:k+1):p=w+1;var T=m.age,O=T+m.ageHeader,A=Math.min(O-m.partTarget,1.5*m.targetduration);if(A>0){if(S&&A>S.tuneInGoal)this.warn("CDN Tune-in goal increased from: "+S.tuneInGoal+" to: "+A+" with playlist age: "+m.age),A=0;else{var P=Math.floor(A/m.targetduration);p+=P,b!==void 0&&(b+=Math.round(A%m.targetduration/m.partTarget)),this.log("CDN Tune-in age: "+m.ageHeader+"s last advanced "+T.toFixed(2)+"s goal: "+A+" skip sn "+P+" to part "+b)}m.tuneInGoal=A}if(h=this.getDeliveryDirectives(m,v.deliveryDirectives,p,b),y||!_)return void this.loadPlaylist(h)}else h=this.getDeliveryDirectives(m,v.deliveryDirectives,p,b);var D=Object(i.computeReloadInterval)(m,d);p!==void 0&&m.canBlockReload&&(D-=m.partTarget||1),this.log("reload live playlist "+f+" in "+Math.round(D)+" ms"),this.timer=self.setTimeout(function(){return E.loadPlaylist(h)},D)}else this.clearTimer()},c.getDeliveryDirectives=function(f,v,S,E){var m=Object(a.getSkipValue)(f,S);return v!=null&&v.skip&&f.deltaUpdateFailed&&(S=v.msn,E=v.part,m=a.HlsSkip.No),new a.HlsUrlParameters(S,E,m)},c.retryLoadingOrFail=function(f){var v,S=this,E=this.hls.config,m=this.retryCount<E.levelLoadingMaxRetry;if(m)if(this.retryCount++,f.details.indexOf("LoadTimeOut")>-1&&(v=f.context)!==null&&v!==void 0&&v.deliveryDirectives)this.warn("retry playlist loading #"+this.retryCount+' after "'+f.details+'"'),this.loadPlaylist();else{var d=Math.min(Math.pow(2,this.retryCount)*E.levelLoadingRetryDelay,E.levelLoadingMaxRetryTimeout);this.timer=self.setTimeout(function(){return S.loadPlaylist()},d),this.warn("retry playlist loading #"+this.retryCount+" in "+d+' ms after "'+f.details+'"')}else this.warn('cannot recover from error "'+f.details+'"'),this.clearTimer(),f.fatal=!0;return m},s}()},"./src/controller/base-stream-controller.ts":function(e,t,n){n.r(t),n.d(t,"State",function(){return y}),n.d(t,"default",function(){return C});var r=n("./src/polyfills/number.ts"),a=n("./src/task-loop.ts"),i=n("./src/controller/fragment-tracker.ts"),o=n("./src/utils/buffer-helper.ts"),l=n("./src/utils/logger.ts"),u=n("./src/events.ts"),s=n("./src/errors.ts"),c=n("./src/types/transmuxer.ts"),f=n("./src/utils/mp4-tools.ts"),v=n("./src/utils/discontinuities.ts"),S=n("./src/controller/fragment-finders.ts"),E=n("./src/controller/level-helper.ts"),m=n("./src/loader/fragment-loader.ts"),d=n("./src/crypt/decrypter.ts"),g=n("./src/utils/time-ranges.ts"),h=n("./src/types/loader.ts");function p(w,k){for(var _=0;_<k.length;_++){var T=k[_];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(w,T.key,T)}}function b(w,k){return(b=Object.setPrototypeOf||function(_,T){return _.__proto__=T,_})(w,k)}var y={STOPPED:"STOPPED",IDLE:"IDLE",KEY_LOADING:"KEY_LOADING",FRAG_LOADING:"FRAG_LOADING",FRAG_LOADING_WAITING_RETRY:"FRAG_LOADING_WAITING_RETRY",WAITING_TRACK:"WAITING_TRACK",PARSING:"PARSING",PARSED:"PARSED",BACKTRACKING:"BACKTRACKING",ENDED:"ENDED",ERROR:"ERROR",WAITING_INIT_PTS:"WAITING_INIT_PTS",WAITING_LEVEL:"WAITING_LEVEL"},C=function(w){var k,_;function T(D,I,x){var L;return(L=w.call(this)||this).hls=void 0,L.fragPrevious=null,L.fragCurrent=null,L.fragmentTracker=void 0,L.transmuxer=null,L._state=y.STOPPED,L.media=void 0,L.mediaBuffer=void 0,L.config=void 0,L.bitrateTest=!1,L.lastCurrentTime=0,L.nextLoadPosition=0,L.startPosition=0,L.loadedmetadata=!1,L.fragLoadError=0,L.retryDate=0,L.levels=null,L.fragmentLoader=void 0,L.levelLastLoaded=null,L.startFragRequested=!1,L.decrypter=void 0,L.initPTS=[],L.onvseeking=null,L.onvended=null,L.logPrefix="",L.log=void 0,L.warn=void 0,L.logPrefix=x,L.log=l.logger.log.bind(l.logger,x+":"),L.warn=l.logger.warn.bind(l.logger,x+":"),L.hls=D,L.fragmentLoader=new m.default(D.config),L.fragmentTracker=I,L.config=D.config,L.decrypter=new d.default(D,D.config),D.on(u.Events.KEY_LOADED,L.onKeyLoaded,function($){if($===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return $}(L)),L}_=w,(k=T).prototype=Object.create(_.prototype),k.prototype.constructor=k,b(k,_);var O,A,P=T.prototype;return P.doTick=function(){this.onTickEnd()},P.onTickEnd=function(){},P.startLoad=function(D){},P.stopLoad=function(){this.fragmentLoader.abort();var D=this.fragCurrent;D&&this.fragmentTracker.removeFragment(D),this.resetTransmuxer(),this.fragCurrent=null,this.fragPrevious=null,this.clearInterval(),this.clearNextTick(),this.state=y.STOPPED},P._streamEnded=function(D,I){var x=this.fragCurrent,L=this.fragmentTracker;if(!I.live&&x&&x.sn===I.endSN&&!D.nextStart){var $=L.getState(x);return $===i.FragmentState.PARTIAL||$===i.FragmentState.OK}return!1},P.onMediaAttached=function(D,I){var x=this.media=this.mediaBuffer=I.media;this.onvseeking=this.onMediaSeeking.bind(this),this.onvended=this.onMediaEnded.bind(this),x.addEventListener("seeking",this.onvseeking),x.addEventListener("ended",this.onvended);var L=this.config;this.levels&&L.autoStartLoad&&this.state===y.STOPPED&&this.startLoad(L.startPosition)},P.onMediaDetaching=function(){var D=this.media;D!=null&&D.ended&&(this.log("MSE detaching and video ended, reset startPosition"),this.startPosition=this.lastCurrentTime=0),D&&(D.removeEventListener("seeking",this.onvseeking),D.removeEventListener("ended",this.onvended),this.onvseeking=this.onvended=null),this.media=this.mediaBuffer=null,this.loadedmetadata=!1,this.fragmentTracker.removeAllFragments(),this.stopLoad()},P.onMediaSeeking=function(){var D=this.config,I=this.fragCurrent,x=this.media,L=this.mediaBuffer,$=this.state,M=x?x.currentTime:0,N=o.BufferHelper.bufferInfo(L||x,M,D.maxBufferHole);if(this.log("media seeking to "+(Object(r.isFiniteNumber)(M)?M.toFixed(3):M)+", state: "+$),$===y.ENDED)this.resetLoadingState();else if(I&&!N.len){var F=D.maxFragLookUpTolerance,U=I.start-F,B=M>I.start+I.duration+F;(M<U||B)&&(B&&I.loader&&(this.log("seeking outside of buffer while fragment load in progress, cancel fragment load"),I.loader.abort()),this.resetLoadingState())}x&&(this.lastCurrentTime=M),this.loadedmetadata||N.len||(this.nextLoadPosition=this.startPosition=M),this.tickImmediate()},P.onMediaEnded=function(){this.startPosition=this.lastCurrentTime=0},P.onKeyLoaded=function(D,I){if(this.state===y.KEY_LOADING&&I.frag===this.fragCurrent&&this.levels){this.state=y.IDLE;var x=this.levels[I.frag.level].details;x&&this.loadFragment(I.frag,x,I.frag.start)}},P.onHandlerDestroying=function(){this.stopLoad(),w.prototype.onHandlerDestroying.call(this)},P.onHandlerDestroyed=function(){this.state=y.STOPPED,this.hls.off(u.Events.KEY_LOADED,this.onKeyLoaded,this),this.fragmentLoader&&this.fragmentLoader.destroy(),this.decrypter&&this.decrypter.destroy(),this.hls=this.log=this.warn=this.decrypter=this.fragmentLoader=this.fragmentTracker=null,w.prototype.onHandlerDestroyed.call(this)},P.loadKey=function(D,I){this.log("Loading key for "+D.sn+" of ["+I.startSN+"-"+I.endSN+"], "+(this.logPrefix==="[stream-controller]"?"level":"track")+" "+D.level),this.state=y.KEY_LOADING,this.fragCurrent=D,this.hls.trigger(u.Events.KEY_LOADING,{frag:D})},P.loadFragment=function(D,I,x){this._loadFragForPlayback(D,I,x)},P._loadFragForPlayback=function(D,I,x){var L=this;this._doFragLoad(D,I,x,function($){if(L.fragContextChanged(D))return L.warn("Fragment "+D.sn+($.part?" p: "+$.part.index:"")+" of level "+D.level+" was dropped during download."),void L.fragmentTracker.removeFragment(D);D.stats.chunkCount++,L._handleFragmentLoadProgress($)}).then(function($){if($){L.fragLoadError=0;var M=L.state;if(!L.fragContextChanged(D))return"payload"in $&&(L.log("Loaded fragment "+D.sn+" of level "+D.level),L.hls.trigger(u.Events.FRAG_LOADED,$),L.state===y.BACKTRACKING)?(L.fragmentTracker.backtrack(D,$),void L.resetFragmentLoading(D)):void L._handleFragmentLoadComplete($);(M===y.FRAG_LOADING||M===y.BACKTRACKING||!L.fragCurrent&&M===y.PARSING)&&(L.fragmentTracker.removeFragment(D),L.state=y.IDLE)}}).catch(function($){L.warn($),L.resetFragmentLoading(D)})},P.flushMainBuffer=function(D,I,x){if(x===void 0&&(x=null),D-I){var L={startOffset:D,endOffset:I,type:x};this.fragLoadError=0,this.hls.trigger(u.Events.BUFFER_FLUSHING,L)}},P._loadInitSegment=function(D){var I=this;this._doFragLoad(D).then(function(x){if(!x||I.fragContextChanged(D)||!I.levels)throw new Error("init load aborted");return x}).then(function(x){var L=I.hls,$=x.payload,M=D.decryptdata;if($&&$.byteLength>0&&M&&M.key&&M.iv&&M.method==="AES-128"){var N=self.performance.now();return I.decrypter.webCryptoDecrypt(new Uint8Array($),M.key.buffer,M.iv.buffer).then(function(F){var U=self.performance.now();return L.trigger(u.Events.FRAG_DECRYPTED,{frag:D,payload:F,stats:{tstart:N,tdecrypt:U}}),x.payload=F,x})}return x}).then(function(x){var L=I.fragCurrent,$=I.hls,M=I.levels;if(!M)throw new Error("init load aborted, missing levels");var N=M[D.level].details;console.assert(N,"Level details are defined when init segment is loaded");var F=D.stats;I.state=y.IDLE,I.fragLoadError=0,D.data=new Uint8Array(x.payload),F.parsing.start=F.buffering.start=self.performance.now(),F.parsing.end=F.buffering.end=self.performance.now(),x.frag===L&&$.trigger(u.Events.FRAG_BUFFERED,{stats:F,frag:L,part:null,id:D.type}),I.tick()}).catch(function(x){I.warn(x),I.resetFragmentLoading(D)})},P.fragContextChanged=function(D){var I=this.fragCurrent;return!D||!I||D.level!==I.level||D.sn!==I.sn||D.urlId!==I.urlId},P.fragBufferedComplete=function(D,I){var x=this.mediaBuffer?this.mediaBuffer:this.media;this.log("Buffered "+D.type+" sn: "+D.sn+(I?" part: "+I.index:"")+" of "+(this.logPrefix==="[stream-controller]"?"level":"track")+" "+D.level+" "+g.default.toString(o.BufferHelper.getBuffered(x))),this.state=y.IDLE,this.tick()},P._handleFragmentLoadComplete=function(D){var I=this.transmuxer;if(I){var x=D.frag,L=D.part,$=D.partsLoaded,M=!$||$.length===0||$.some(function(F){return!F}),N=new c.ChunkMetadata(x.level,x.sn,x.stats.chunkCount+1,0,L?L.index:-1,!M);I.flush(N)}},P._handleFragmentLoadProgress=function(D){},P._doFragLoad=function(D,I,x,L){var $=this;if(x===void 0&&(x=null),!this.levels)throw new Error("frag load aborted, missing levels");if(x=Math.max(D.start,x||0),this.config.lowLatencyMode&&I){var M=I.partList;if(M&&L){x>D.end&&I.fragmentHint&&(D=I.fragmentHint);var N=this.getNextPart(M,D,x);if(N>-1){var F=M[N];return this.log("Loading part sn: "+D.sn+" p: "+F.index+" cc: "+D.cc+" of playlist ["+I.startSN+"-"+I.endSN+"] parts [0-"+N+"-"+(M.length-1)+"] "+(this.logPrefix==="[stream-controller]"?"level":"track")+": "+D.level+", target: "+parseFloat(x.toFixed(3))),this.nextLoadPosition=F.start+F.duration,this.state=y.FRAG_LOADING,this.hls.trigger(u.Events.FRAG_LOADING,{frag:D,part:M[N],targetBufferTime:x}),this.doFragPartsLoad(D,M,N,L).catch(function(U){return $.handleFragLoadError(U)})}if(!D.url||this.loadedEndOfParts(M,x))return Promise.resolve(null)}}return this.log("Loading fragment "+D.sn+" cc: "+D.cc+" "+(I?"of ["+I.startSN+"-"+I.endSN+"] ":"")+(this.logPrefix==="[stream-controller]"?"level":"track")+": "+D.level+", target: "+parseFloat(x.toFixed(3))),Object(r.isFiniteNumber)(D.sn)&&!this.bitrateTest&&(this.nextLoadPosition=D.start+D.duration),this.state=y.FRAG_LOADING,this.hls.trigger(u.Events.FRAG_LOADING,{frag:D,targetBufferTime:x}),this.fragmentLoader.load(D,L).catch(function(U){return $.handleFragLoadError(U)})},P.doFragPartsLoad=function(D,I,x,L){var $=this;return new Promise(function(M,N){var F=[];(function U(B){var K=I[B];$.fragmentLoader.loadPart(D,K,L).then(function(V){F[K.index]=V;var X=V.part;$.hls.trigger(u.Events.FRAG_LOADED,V);var Z=I[B+1];if(!Z||Z.fragment!==D)return M({frag:D,part:X,partsLoaded:F});U(B+1)}).catch(N)})(x)})},P.handleFragLoadError=function(D){var I=D.data;return I&&I.details===s.ErrorDetails.INTERNAL_ABORTED?this.handleFragLoadAborted(I.frag,I.part):this.hls.trigger(u.Events.ERROR,I),null},P._handleTransmuxerFlush=function(D){var I=this.getCurrentContext(D);if(I&&this.state===y.PARSING){var x=I.frag,L=I.part,$=I.level,M=self.performance.now();x.stats.parsing.end=M,L&&(L.stats.parsing.end=M),this.updateLevelTiming(x,L,$,D.partial)}else this.fragCurrent||(this.state=y.IDLE)},P.getCurrentContext=function(D){var I=this.levels,x=D.level,L=D.sn,$=D.part;if(!I||!I[x])return this.warn("Levels object was unset while buffering fragment "+L+" of level "+x+". The current chunk will not be buffered."),null;var M=I[x],N=$>-1?Object(E.getPartWith)(M,L,$):null,F=N?N.fragment:Object(E.getFragmentWithSN)(M,L,this.fragCurrent);return F?{frag:F,part:N,level:M}:null},P.bufferFragmentData=function(D,I,x,L){if(D&&this.state===y.PARSING){var $=D.data1,M=D.data2,N=$;if($&&M&&(N=Object(f.appendUint8Array)($,M)),N&&N.length){var F={type:D.type,frag:I,part:x,chunkMeta:L,parent:I.type,data:N};this.hls.trigger(u.Events.BUFFER_APPENDING,F),D.dropped&&D.independent&&!x&&this.flushBufferGap(I)}}},P.flushBufferGap=function(D){var I=this.media;if(I)if(o.BufferHelper.isBuffered(I,I.currentTime)){var x=I.currentTime,L=o.BufferHelper.bufferInfo(I,x,0),$=D.duration,M=Math.min(2*this.config.maxFragLookUpTolerance,.25*$),N=Math.max(Math.min(D.start-M,L.end-M),x+M);D.start-N>M&&this.flushMainBuffer(N,D.start)}else this.flushMainBuffer(0,D.start)},P.getFwdBufferInfo=function(D,I){var x=this.config,L=this.getLoadPosition();if(!Object(r.isFiniteNumber)(L))return null;var $=o.BufferHelper.bufferInfo(D,L,x.maxBufferHole);if($.len===0&&$.nextStart!==void 0){var M=this.fragmentTracker.getBufferedFrag(L,I);if(M&&$.nextStart<M.end)return o.BufferHelper.bufferInfo(D,L,Math.max($.nextStart,x.maxBufferHole))}return $},P.getMaxBufferLength=function(D){var I,x=this.config;return I=D?Math.max(8*x.maxBufferSize/D,x.maxBufferLength):x.maxBufferLength,Math.min(I,x.maxMaxBufferLength)},P.reduceMaxBufferLength=function(D){var I=this.config,x=D||I.maxBufferLength;return I.maxMaxBufferLength>=x&&(I.maxMaxBufferLength/=2,this.warn("Reduce max buffer length to "+I.maxMaxBufferLength+"s"),!0)},P.getNextFragment=function(D,I){var x,L,$=I.fragments,M=$.length;if(!M)return null;var N,F=this.config,U=$[0].start;if(I.live){var B=F.initialLiveManifestSize;if(M<B)return this.warn("Not enough fragments to start playback (have: "+M+", need: "+B+")"),null;I.PTSKnown||this.startFragRequested||this.startPosition!==-1||(N=this.getInitialLiveFragment(I,$),this.startPosition=N?this.hls.liveSyncPosition||N.start:D)}else D<=U&&(N=$[0]);if(!N){var K=F.lowLatencyMode?I.partEnd:I.fragmentEnd;N=this.getFragmentAtPosition(D,K,I)}return(x=N)===null||x===void 0||!x.initSegment||(L=N)!==null&&L!==void 0&&L.initSegment.data||this.bitrateTest||(N=N.initSegment),N},P.getNextPart=function(D,I,x){for(var L=-1,$=!1,M=!0,N=0,F=D.length;N<F;N++){var U=D[N];if(M=M&&!U.independent,L>-1&&x<U.start)break;var B=U.loaded;!B&&($||U.independent||M)&&U.fragment===I&&(L=N),$=B}return L},P.loadedEndOfParts=function(D,I){var x=D[D.length-1];return x&&I>x.start&&x.loaded},P.getInitialLiveFragment=function(D,I){var x=this.fragPrevious,L=null;if(x){if(D.hasProgramDateTime&&(this.log("Live playlist, switching playlist, load frag with same PDT: "+x.programDateTime),L=Object(S.findFragmentByPDT)(I,x.endProgramDateTime,this.config.maxFragLookUpTolerance)),!L){var $=x.sn+1;if($>=D.startSN&&$<=D.endSN){var M=I[$-D.startSN];x.cc===M.cc&&(L=M,this.log("Live playlist, switching playlist, load frag with next SN: "+L.sn))}L||(L=Object(S.findFragWithCC)(I,x.cc))&&this.log("Live playlist, switching playlist, load frag with same CC: "+L.sn)}}else{var N=this.hls.liveSyncPosition;N!==null&&(L=this.getFragmentAtPosition(N,this.bitrateTest?D.fragmentEnd:D.edge,D))}return L},P.getFragmentAtPosition=function(D,I,x){var L,$=this.config,M=this.fragPrevious,N=x.fragments,F=x.endSN,U=x.fragmentHint,B=$.maxFragLookUpTolerance,K=!!($.lowLatencyMode&&x.partList&&U);if(K&&U&&!this.bitrateTest&&(N=N.concat(U),F=U.sn),D<I){var V=D>I-B?0:B;L=Object(S.findFragmentByPTS)(M,N,D,V)}else L=N[N.length-1];if(L){var X=L.sn-x.startSN,Z=M&&L.level===M.level,ne=N[X+1];if(this.fragmentTracker.getState(L)===i.FragmentState.BACKTRACKED){L=null;for(var ae=X;N[ae]&&this.fragmentTracker.getState(N[ae])===i.FragmentState.BACKTRACKED;)L=M?N[ae--]:N[--ae];L||(L=ne)}else M&&L.sn===M.sn&&!K&&Z&&(L.sn<F&&this.fragmentTracker.getState(ne)!==i.FragmentState.OK?(this.log("SN "+L.sn+" just loaded, load next one: "+ne.sn),L=ne):L=null)}return L},P.synchronizeToLiveEdge=function(D){var I=this.config,x=this.media;if(x){var L=this.hls.liveSyncPosition,$=x.currentTime,M=D.fragments[0].start,N=D.edge,F=$>=M-I.maxFragLookUpTolerance&&$<=N;if(L!==null&&x.duration>L&&($<L||!F)){var U=I.liveMaxLatencyDuration!==void 0?I.liveMaxLatencyDuration:I.liveMaxLatencyDurationCount*D.targetduration;(!F&&x.readyState<4||$<N-U)&&(this.loadedmetadata||(this.nextLoadPosition=L),x.readyState&&(this.warn("Playback: "+$.toFixed(3)+" is located too far from the end of live sliding playlist: "+N+", reset currentTime to : "+L.toFixed(3)),x.currentTime=L))}}},P.alignPlaylists=function(D,I){var x=this.levels,L=this.levelLastLoaded,$=this.fragPrevious,M=L!==null?x[L]:null,N=D.fragments.length;if(!N)return this.warn("No fragments in live playlist"),0;var F=D.fragments[0].start,U=!I,B=D.alignedSliding&&Object(r.isFiniteNumber)(F);if(U||!B&&!F){Object(v.alignStream)($,M,D);var K=D.fragments[0].start;return this.log("Live playlist sliding: "+K.toFixed(2)+" start-sn: "+(I?I.startSN:"na")+"->"+D.startSN+" prev-sn: "+($?$.sn:"na")+" fragments: "+N),K}return F},P.waitForCdnTuneIn=function(D){return D.live&&D.canBlockReload&&D.tuneInGoal>Math.max(D.partHoldBack,3*D.partTarget)},P.setStartPosition=function(D,I){var x=this.startPosition;if(x<I&&(x=-1),x===-1||this.lastCurrentTime===-1){var L=D.startTimeOffset;Object(r.isFiniteNumber)(L)?(x=I+L,L<0&&(x+=D.totalduration),x=Math.min(Math.max(I,x),I+D.totalduration),this.log("Start time offset "+L+" found in playlist, adjust startPosition to "+x),this.startPosition=x):D.live?x=this.hls.liveSyncPosition||I:this.startPosition=x=0,this.lastCurrentTime=x}this.nextLoadPosition=x},P.getLoadPosition=function(){var D=this.media,I=0;return this.loadedmetadata&&D?I=D.currentTime:this.nextLoadPosition&&(I=this.nextLoadPosition),I},P.handleFragLoadAborted=function(D,I){this.transmuxer&&D.sn!=="initSegment"&&D.stats.aborted&&(this.warn("Fragment "+D.sn+(I?" part"+I.index:"")+" of level "+D.level+" was aborted"),this.resetFragmentLoading(D))},P.resetFragmentLoading=function(D){this.fragCurrent&&this.fragContextChanged(D)||(this.state=y.IDLE)},P.onFragmentOrKeyLoadError=function(D,I){if(!I.fatal){var x=I.frag;if(x&&x.type===D){var L=this.fragCurrent;console.assert(L&&x.sn===L.sn&&x.level===L.level&&x.urlId===L.urlId,"Frag load error must match current frag to retry");var $=this.config;if(this.fragLoadError+1<=$.fragLoadingMaxRetry){if(this.resetLiveStartWhenNotLoaded(x.level))return;var M=Math.min(Math.pow(2,this.fragLoadError)*$.fragLoadingRetryDelay,$.fragLoadingMaxRetryTimeout);this.warn("Fragment "+x.sn+" of "+D+" "+x.level+" failed to load, retrying in "+M+"ms"),this.retryDate=self.performance.now()+M,this.fragLoadError++,this.state=y.FRAG_LOADING_WAITING_RETRY}else I.levelRetry?(D===h.PlaylistLevelType.AUDIO&&(this.fragCurrent=null),this.fragLoadError=0,this.state=y.IDLE):(l.logger.error(I.details+" reaches max retry, redispatch as fatal ..."),I.fatal=!0,this.hls.stopLoad(),this.state=y.ERROR)}}},P.afterBufferFlushed=function(D,I,x){if(D){var L=o.BufferHelper.getBuffered(D);this.fragmentTracker.detectEvictedFragments(I,L,x),this.state===y.ENDED&&this.resetLoadingState()}},P.resetLoadingState=function(){this.fragCurrent=null,this.fragPrevious=null,this.state=y.IDLE},P.resetLiveStartWhenNotLoaded=function(D){if(!this.loadedmetadata){this.startFragRequested=!1;var I=this.levels?this.levels[D].details:null;if(I!=null&&I.live)return this.startPosition=-1,this.setStartPosition(I,0),this.resetLoadingState(),!0;this.nextLoadPosition=this.startPosition}return!1},P.updateLevelTiming=function(D,I,x,L){var $=this,M=x.details;console.assert(!!M,"level.details must be defined"),Object.keys(D.elementaryStreams).reduce(function(N,F){var U=D.elementaryStreams[F];if(U){var B=U.endPTS-U.startPTS;if(B<=0)return $.warn("Could not parse fragment "+D.sn+" "+F+" duration reliably ("+B+") resetting transmuxer to fallback to playlist timing"),$.resetTransmuxer(),N||!1;var K=L?0:Object(E.updateFragPTSDTS)(M,D,U.startPTS,U.endPTS,U.startDTS,U.endDTS);return $.hls.trigger(u.Events.LEVEL_PTS_UPDATED,{details:M,level:x,drift:K,type:F,frag:D,start:U.startPTS,end:U.endPTS}),!0}return N},!1)?(this.state=y.PARSED,this.hls.trigger(u.Events.FRAG_PARSED,{frag:D,part:I})):this.resetLoadingState()},P.resetTransmuxer=function(){this.transmuxer&&(this.transmuxer.destroy(),this.transmuxer=null)},O=T,(A=[{key:"state",get:function(){return this._state},set:function(D){var I=this._state;I!==D&&(this._state=D,this.log(I+"->"+D))}}])&&p(O.prototype,A),T}(a.default)},"./src/controller/buffer-controller.ts":function(e,t,n){n.r(t),n.d(t,"default",function(){return S});var r=n("./src/polyfills/number.ts"),a=n("./src/events.ts"),i=n("./src/utils/logger.ts"),o=n("./src/errors.ts"),l=n("./src/utils/buffer-helper.ts"),u=n("./src/utils/mediasource-helper.ts"),s=n("./src/loader/fragment.ts"),c=n("./src/controller/buffer-operation-queue.ts"),f=Object(u.getMediaSource)(),v=/([ha]vc.)(?:\.[^.,]+)+/,S=function(){function E(d){var g=this;this.details=null,this._objectUrl=null,this.operationQueue=void 0,this.listeners=void 0,this.hls=void 0,this.bufferCodecEventsExpected=0,this._bufferCodecEventsTotal=0,this.media=null,this.mediaSource=null,this.appendError=0,this.tracks={},this.pendingTracks={},this.sourceBuffer=void 0,this._onMediaSourceOpen=function(){var h=g.hls,p=g.media,b=g.mediaSource;i.logger.log("[buffer-controller]: Media source opened"),p&&(g.updateMediaElementDuration(),h.trigger(a.Events.MEDIA_ATTACHED,{media:p})),b&&b.removeEventListener("sourceopen",g._onMediaSourceOpen),g.checkPendingTracks()},this._onMediaSourceClose=function(){i.logger.log("[buffer-controller]: Media source closed")},this._onMediaSourceEnded=function(){i.logger.log("[buffer-controller]: Media source ended")},this.hls=d,this._initSourceBuffer(),this.registerListeners()}var m=E.prototype;return m.hasSourceTypes=function(){return this.getSourceBufferTypes().length>0||Object.keys(this.pendingTracks).length>0},m.destroy=function(){this.unregisterListeners(),this.details=null},m.registerListeners=function(){var d=this.hls;d.on(a.Events.MEDIA_ATTACHING,this.onMediaAttaching,this),d.on(a.Events.MEDIA_DETACHING,this.onMediaDetaching,this),d.on(a.Events.MANIFEST_PARSED,this.onManifestParsed,this),d.on(a.Events.BUFFER_RESET,this.onBufferReset,this),d.on(a.Events.BUFFER_APPENDING,this.onBufferAppending,this),d.on(a.Events.BUFFER_CODECS,this.onBufferCodecs,this),d.on(a.Events.BUFFER_EOS,this.onBufferEos,this),d.on(a.Events.BUFFER_FLUSHING,this.onBufferFlushing,this),d.on(a.Events.LEVEL_UPDATED,this.onLevelUpdated,this),d.on(a.Events.FRAG_PARSED,this.onFragParsed,this),d.on(a.Events.FRAG_CHANGED,this.onFragChanged,this)},m.unregisterListeners=function(){var d=this.hls;d.off(a.Events.MEDIA_ATTACHING,this.onMediaAttaching,this),d.off(a.Events.MEDIA_DETACHING,this.onMediaDetaching,this),d.off(a.Events.MANIFEST_PARSED,this.onManifestParsed,this),d.off(a.Events.BUFFER_RESET,this.onBufferReset,this),d.off(a.Events.BUFFER_APPENDING,this.onBufferAppending,this),d.off(a.Events.BUFFER_CODECS,this.onBufferCodecs,this),d.off(a.Events.BUFFER_EOS,this.onBufferEos,this),d.off(a.Events.BUFFER_FLUSHING,this.onBufferFlushing,this),d.off(a.Events.LEVEL_UPDATED,this.onLevelUpdated,this),d.off(a.Events.FRAG_PARSED,this.onFragParsed,this),d.off(a.Events.FRAG_CHANGED,this.onFragChanged,this)},m._initSourceBuffer=function(){this.sourceBuffer={},this.operationQueue=new c.default(this.sourceBuffer),this.listeners={audio:[],video:[],audiovideo:[]}},m.onManifestParsed=function(d,g){var h=2;(g.audio&&!g.video||!g.altAudio)&&(h=1),this.bufferCodecEventsExpected=this._bufferCodecEventsTotal=h,this.details=null,i.logger.log(this.bufferCodecEventsExpected+" bufferCodec event(s) expected")},m.onMediaAttaching=function(d,g){var h=this.media=g.media;if(h&&f){var p=this.mediaSource=new f;p.addEventListener("sourceopen",this._onMediaSourceOpen),p.addEventListener("sourceended",this._onMediaSourceEnded),p.addEventListener("sourceclose",this._onMediaSourceClose),h.src=self.URL.createObjectURL(p),this._objectUrl=h.src}},m.onMediaDetaching=function(){var d=this.media,g=this.mediaSource,h=this._objectUrl;if(g){if(i.logger.log("[buffer-controller]: media source detaching"),g.readyState==="open")try{g.endOfStream()}catch(p){i.logger.warn("[buffer-controller]: onMediaDetaching: "+p.message+" while calling endOfStream")}this.onBufferReset(),g.removeEventListener("sourceopen",this._onMediaSourceOpen),g.removeEventListener("sourceended",this._onMediaSourceEnded),g.removeEventListener("sourceclose",this._onMediaSourceClose),d&&(h&&self.URL.revokeObjectURL(h),d.src===h?(d.removeAttribute("src"),d.load()):i.logger.warn("[buffer-controller]: media.src was changed by a third party - skip cleanup")),this.mediaSource=null,this.media=null,this._objectUrl=null,this.bufferCodecEventsExpected=this._bufferCodecEventsTotal,this.pendingTracks={},this.tracks={}}this.hls.trigger(a.Events.MEDIA_DETACHED,void 0)},m.onBufferReset=function(){var d=this;this.getSourceBufferTypes().forEach(function(g){var h=d.sourceBuffer[g];try{h&&(d.removeBufferListeners(g),d.mediaSource&&d.mediaSource.removeSourceBuffer(h),d.sourceBuffer[g]=void 0)}catch(p){i.logger.warn("[buffer-controller]: Failed to reset the "+g+" buffer",p)}}),this._initSourceBuffer()},m.onBufferCodecs=function(d,g){var h=this,p=this.getSourceBufferTypes().length;Object.keys(g).forEach(function(b){if(p){var y=h.tracks[b];if(y&&typeof y.buffer.changeType=="function"){var C=g[b],w=C.codec,k=C.levelCodec,_=C.container;if((y.levelCodec||y.codec).replace(v,"$1")!==(k||w).replace(v,"$1")){var T=_+";codecs="+(k||w);h.appendChangeType(b,T)}}}else h.pendingTracks[b]=g[b]}),p||(this.bufferCodecEventsExpected=Math.max(this.bufferCodecEventsExpected-1,0),this.mediaSource&&this.mediaSource.readyState==="open"&&this.checkPendingTracks())},m.appendChangeType=function(d,g){var h=this,p=this.operationQueue,b={execute:function(){var y=h.sourceBuffer[d];y&&(i.logger.log("[buffer-controller]: changing "+d+" sourceBuffer type to "+g),y.changeType(g)),p.shiftAndExecuteNext(d)},onStart:function(){},onComplete:function(){},onError:function(y){i.logger.warn("[buffer-controller]: Failed to change "+d+" SourceBuffer type",y)}};p.append(b,d)},m.onBufferAppending=function(d,g){var h=this,p=this.hls,b=this.operationQueue,y=this.tracks,C=g.data,w=g.type,k=g.frag,_=g.part,T=g.chunkMeta,O=T.buffering[w],A=self.performance.now();O.start=A;var P=k.stats.buffering,D=_?_.stats.buffering:null;P.start===0&&(P.start=A),D&&D.start===0&&(D.start=A);var I=y.audio,x=w==="audio"&&T.id===1&&(I==null?void 0:I.container)==="audio/mpeg",L={execute:function(){if(O.executeStart=self.performance.now(),x){var $=h.sourceBuffer[w];if($){var M=k.start-$.timestampOffset;Math.abs(M)>=.1&&(i.logger.log("[buffer-controller]: Updating audio SourceBuffer timestampOffset to "+k.start+" (delta: "+M+") sn: "+k.sn+")"),$.timestampOffset=k.start)}}h.appendExecutor(C,w)},onStart:function(){},onComplete:function(){var $=self.performance.now();O.executeEnd=O.end=$,P.first===0&&(P.first=$),D&&D.first===0&&(D.first=$);var M=h.sourceBuffer,N={};for(var F in M)N[F]=l.BufferHelper.getBuffered(M[F]);h.appendError=0,h.hls.trigger(a.Events.BUFFER_APPENDED,{type:w,frag:k,part:_,chunkMeta:T,parent:k.type,timeRanges:N})},onError:function($){i.logger.error("[buffer-controller]: Error encountered while trying to append to the "+w+" SourceBuffer",$);var M={type:o.ErrorTypes.MEDIA_ERROR,parent:k.type,details:o.ErrorDetails.BUFFER_APPEND_ERROR,err:$,fatal:!1};$.code===DOMException.QUOTA_EXCEEDED_ERR?M.details=o.ErrorDetails.BUFFER_FULL_ERROR:(h.appendError++,M.details=o.ErrorDetails.BUFFER_APPEND_ERROR,h.appendError>p.config.appendErrorMaxRetry&&(i.logger.error("[buffer-controller]: Failed "+p.config.appendErrorMaxRetry+" times to append segment in sourceBuffer"),M.fatal=!0)),p.trigger(a.Events.ERROR,M)}};b.append(L,w)},m.onBufferFlushing=function(d,g){var h=this,p=this.operationQueue,b=function(y){return{execute:h.removeExecutor.bind(h,y,g.startOffset,g.endOffset),onStart:function(){},onComplete:function(){h.hls.trigger(a.Events.BUFFER_FLUSHED,{type:y})},onError:function(C){i.logger.warn("[buffer-controller]: Failed to remove from "+y+" SourceBuffer",C)}}};g.type?p.append(b(g.type),g.type):this.getSourceBufferTypes().forEach(function(y){p.append(b(y),y)})},m.onFragParsed=function(d,g){var h=this,p=g.frag,b=g.part,y=[],C=b?b.elementaryStreams:p.elementaryStreams;C[s.ElementaryStreamTypes.AUDIOVIDEO]?y.push("audiovideo"):(C[s.ElementaryStreamTypes.AUDIO]&&y.push("audio"),C[s.ElementaryStreamTypes.VIDEO]&&y.push("video")),y.length===0&&i.logger.warn("Fragments must have at least one ElementaryStreamType set. type: "+p.type+" level: "+p.level+" sn: "+p.sn),this.blockBuffers(function(){var w=self.performance.now();p.stats.buffering.end=w,b&&(b.stats.buffering.end=w);var k=b?b.stats:p.stats;h.hls.trigger(a.Events.FRAG_BUFFERED,{frag:p,part:b,stats:k,id:p.type})},y)},m.onFragChanged=function(d,g){this.flushBackBuffer()},m.onBufferEos=function(d,g){var h=this;this.getSourceBufferTypes().reduce(function(p,b){var y=h.sourceBuffer[b];return g.type&&g.type!==b||y&&!y.ended&&(y.ended=!0,i.logger.log("[buffer-controller]: "+b+" sourceBuffer now EOS")),p&&!(y&&!y.ended)},!0)&&this.blockBuffers(function(){var p=h.mediaSource;p&&p.readyState==="open"&&p.endOfStream()})},m.onLevelUpdated=function(d,g){var h=g.details;h.fragments.length&&(this.details=h,this.getSourceBufferTypes().length?this.blockBuffers(this.updateMediaElementDuration.bind(this)):this.updateMediaElementDuration())},m.flushBackBuffer=function(){var d=this.hls,g=this.details,h=this.media,p=this.sourceBuffer;if(h&&g!==null){var b=this.getSourceBufferTypes();if(b.length){var y=g.live&&d.config.liveBackBufferLength!==null?d.config.liveBackBufferLength:d.config.backBufferLength;if(Object(r.isFiniteNumber)(y)&&!(y<0)){var C=h.currentTime,w=g.levelTargetDuration,k=Math.max(y,w),_=Math.floor(C/w)*w-k;b.forEach(function(T){var O=p[T];if(O){var A=l.BufferHelper.getBuffered(O);A.length>0&&_>A.start(0)&&(d.trigger(a.Events.BACK_BUFFER_REACHED,{bufferEnd:_}),g.live&&d.trigger(a.Events.LIVE_BACK_BUFFER_REACHED,{bufferEnd:_}),d.trigger(a.Events.BUFFER_FLUSHING,{startOffset:0,endOffset:_,type:T}))}})}}}},m.updateMediaElementDuration=function(){if(this.details&&this.media&&this.mediaSource&&this.mediaSource.readyState==="open"){var d=this.details,g=this.hls,h=this.media,p=this.mediaSource,b=d.fragments[0].start+d.totalduration,y=h.duration,C=Object(r.isFiniteNumber)(p.duration)?p.duration:0;d.live&&g.config.liveDurationInfinity?(i.logger.log("[buffer-controller]: Media Source duration is set to Infinity"),p.duration=1/0,this.updateSeekableRange(d)):(b>C&&b>y||!Object(r.isFiniteNumber)(y))&&(i.logger.log("[buffer-controller]: Updating Media Source duration to "+b.toFixed(3)),p.duration=b)}},m.updateSeekableRange=function(d){var g=this.mediaSource,h=d.fragments;if(h.length&&d.live&&g!=null&&g.setLiveSeekableRange){var p=Math.max(0,h[0].start),b=Math.max(p,p+d.totalduration);g.setLiveSeekableRange(p,b)}},m.checkPendingTracks=function(){var d=this.bufferCodecEventsExpected,g=this.operationQueue,h=this.pendingTracks,p=Object.keys(h).length;if(p&&!d||p===2){this.createSourceBuffers(h),this.pendingTracks={};var b=this.getSourceBufferTypes();if(b.length===0)return void this.hls.trigger(a.Events.ERROR,{type:o.ErrorTypes.MEDIA_ERROR,details:o.ErrorDetails.BUFFER_INCOMPATIBLE_CODECS_ERROR,fatal:!0,reason:"could not create source buffer for media codec(s)"});b.forEach(function(y){g.executeNext(y)})}},m.createSourceBuffers=function(d){var g=this.sourceBuffer,h=this.mediaSource;if(!h)throw Error("createSourceBuffers called when mediaSource was null");var p=0;for(var b in d)if(!g[b]){var y=d[b];if(!y)throw Error("source buffer exists for track "+b+", however track does not");var C=y.levelCodec||y.codec,w=y.container+";codecs="+C;i.logger.log("[buffer-controller]: creating sourceBuffer("+w+")");try{var k=g[b]=h.addSourceBuffer(w),_=b;this.addBufferListener(_,"updatestart",this._onSBUpdateStart),this.addBufferListener(_,"updateend",this._onSBUpdateEnd),this.addBufferListener(_,"error",this._onSBUpdateError),this.tracks[b]={buffer:k,codec:C,container:y.container,levelCodec:y.levelCodec,id:y.id},p++}catch(T){i.logger.error("[buffer-controller]: error while trying to add sourceBuffer: "+T.message),this.hls.trigger(a.Events.ERROR,{type:o.ErrorTypes.MEDIA_ERROR,details:o.ErrorDetails.BUFFER_ADD_CODEC_ERROR,fatal:!1,error:T,mimeType:w})}}p&&this.hls.trigger(a.Events.BUFFER_CREATED,{tracks:this.tracks})},m._onSBUpdateStart=function(d){this.operationQueue.current(d).onStart()},m._onSBUpdateEnd=function(d){var g=this.operationQueue;g.current(d).onComplete(),g.shiftAndExecuteNext(d)},m._onSBUpdateError=function(d,g){i.logger.error("[buffer-controller]: "+d+" SourceBuffer error",g),this.hls.trigger(a.Events.ERROR,{type:o.ErrorTypes.MEDIA_ERROR,details:o.ErrorDetails.BUFFER_APPENDING_ERROR,fatal:!1});var h=this.operationQueue.current(d);h&&h.onError(g)},m.removeExecutor=function(d,g,h){var p=this.media,b=this.mediaSource,y=this.operationQueue,C=this.sourceBuffer[d];if(!p||!b||!C)return i.logger.warn("[buffer-controller]: Attempting to remove from the "+d+" SourceBuffer, but it does not exist"),void y.shiftAndExecuteNext(d);var w=Object(r.isFiniteNumber)(p.duration)?p.duration:1/0,k=Object(r.isFiniteNumber)(b.duration)?b.duration:1/0,_=Math.max(0,g),T=Math.min(h,w,k);T>_?(i.logger.log("[buffer-controller]: Removing ["+_+","+T+"] from the "+d+" SourceBuffer"),console.assert(!C.updating,d+" sourceBuffer must not be updating"),C.remove(_,T)):y.shiftAndExecuteNext(d)},m.appendExecutor=function(d,g){var h=this.operationQueue,p=this.sourceBuffer[g];if(!p)return i.logger.warn("[buffer-controller]: Attempting to append to the "+g+" SourceBuffer, but it does not exist"),void h.shiftAndExecuteNext(g);p.ended=!1,console.assert(!p.updating,g+" sourceBuffer must not be updating"),p.appendBuffer(d)},m.blockBuffers=function(d,g){var h=this;if(g===void 0&&(g=this.getSourceBufferTypes()),!g.length)return i.logger.log("[buffer-controller]: Blocking operation requested, but no SourceBuffers exist"),void Promise.resolve(d);var p=this.operationQueue,b=g.map(function(y){return p.appendBlocker(y)});Promise.all(b).then(function(){d(),g.forEach(function(y){var C=h.sourceBuffer[y];C&&C.updating||p.shiftAndExecuteNext(y)})})},m.getSourceBufferTypes=function(){return Object.keys(this.sourceBuffer)},m.addBufferListener=function(d,g,h){var p=this.sourceBuffer[d];if(p){var b=h.bind(this,d);this.listeners[d].push({event:g,listener:b}),p.addEventListener(g,b)}},m.removeBufferListeners=function(d){var g=this.sourceBuffer[d];g&&this.listeners[d].forEach(function(h){g.removeEventListener(h.event,h.listener)})},E}()},"./src/controller/buffer-operation-queue.ts":function(e,t,n){n.r(t),n.d(t,"default",function(){return a});var r=n("./src/utils/logger.ts"),a=function(){function i(l){this.buffers=void 0,this.queues={video:[],audio:[],audiovideo:[]},this.buffers=l}var o=i.prototype;return o.append=function(l,u){var s=this.queues[u];s.push(l),s.length===1&&this.buffers[u]&&this.executeNext(u)},o.insertAbort=function(l,u){this.queues[u].unshift(l),this.executeNext(u)},o.appendBlocker=function(l){var u,s=new Promise(function(f){u=f}),c={execute:u,onStart:function(){},onComplete:function(){},onError:function(){}};return this.append(c,l),s},o.executeNext=function(l){var u=this.buffers,s=this.queues,c=u[l],f=s[l];if(f.length){var v=f[0];try{v.execute()}catch(S){r.logger.warn("[buffer-operation-queue]: Unhandled exception executing the current operation"),v.onError(S),c&&c.updating||(f.shift(),this.executeNext(l))}}},o.shiftAndExecuteNext=function(l){this.queues[l].shift(),this.executeNext(l)},o.current=function(l){return this.queues[l][0]},i}()},"./src/controller/cap-level-controller.ts":function(e,t,n){n.r(t);var r=n("./src/events.ts");function a(o,l){for(var u=0;u<l.length;u++){var s=l[u];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(o,s.key,s)}}var i=function(){function o(f){this.autoLevelCapping=void 0,this.firstLevel=void 0,this.media=void 0,this.restrictedLevels=void 0,this.timer=void 0,this.hls=void 0,this.streamController=void 0,this.clientRect=void 0,this.hls=f,this.autoLevelCapping=Number.POSITIVE_INFINITY,this.firstLevel=-1,this.media=null,this.restrictedLevels=[],this.timer=void 0,this.clientRect=null,this.registerListeners()}var l,u,s,c=o.prototype;return c.setStreamController=function(f){this.streamController=f},c.destroy=function(){this.unregisterListener(),this.hls.config.capLevelToPlayerSize&&this.stopCapping(),this.media=null,this.clientRect=null,this.hls=this.streamController=null},c.registerListeners=function(){var f=this.hls;f.on(r.Events.FPS_DROP_LEVEL_CAPPING,this.onFpsDropLevelCapping,this),f.on(r.Events.MEDIA_ATTACHING,this.onMediaAttaching,this),f.on(r.Events.MANIFEST_PARSED,this.onManifestParsed,this),f.on(r.Events.BUFFER_CODECS,this.onBufferCodecs,this),f.on(r.Events.MEDIA_DETACHING,this.onMediaDetaching,this)},c.unregisterListener=function(){var f=this.hls;f.off(r.Events.FPS_DROP_LEVEL_CAPPING,this.onFpsDropLevelCapping,this),f.off(r.Events.MEDIA_ATTACHING,this.onMediaAttaching,this),f.off(r.Events.MANIFEST_PARSED,this.onManifestParsed,this),f.off(r.Events.BUFFER_CODECS,this.onBufferCodecs,this),f.off(r.Events.MEDIA_DETACHING,this.onMediaDetaching,this)},c.onFpsDropLevelCapping=function(f,v){o.isLevelAllowed(v.droppedLevel,this.restrictedLevels)&&this.restrictedLevels.push(v.droppedLevel)},c.onMediaAttaching=function(f,v){this.media=v.media instanceof HTMLVideoElement?v.media:null},c.onManifestParsed=function(f,v){var S=this.hls;this.restrictedLevels=[],this.firstLevel=v.firstLevel,S.config.capLevelToPlayerSize&&v.video&&this.startCapping()},c.onBufferCodecs=function(f,v){this.hls.config.capLevelToPlayerSize&&v.video&&this.startCapping()},c.onMediaDetaching=function(){this.stopCapping()},c.detectPlayerSize=function(){if(this.media&&this.mediaHeight>0&&this.mediaWidth>0){var f=this.hls.levels;if(f.length){var v=this.hls;v.autoLevelCapping=this.getMaxLevel(f.length-1),v.autoLevelCapping>this.autoLevelCapping&&this.streamController&&this.streamController.nextLevelSwitch(),this.autoLevelCapping=v.autoLevelCapping}}},c.getMaxLevel=function(f){var v=this,S=this.hls.levels;if(!S.length)return-1;var E=S.filter(function(m,d){return o.isLevelAllowed(d,v.restrictedLevels)&&d<=f});return this.clientRect=null,o.getMaxLevelByMediaSize(E,this.mediaWidth,this.mediaHeight)},c.startCapping=function(){this.timer||(this.autoLevelCapping=Number.POSITIVE_INFINITY,this.hls.firstLevel=this.getMaxLevel(this.firstLevel),self.clearInterval(this.timer),this.timer=self.setInterval(this.detectPlayerSize.bind(this),1e3),this.detectPlayerSize())},c.stopCapping=function(){this.restrictedLevels=[],this.firstLevel=-1,this.autoLevelCapping=Number.POSITIVE_INFINITY,this.timer&&(self.clearInterval(this.timer),this.timer=void 0)},c.getDimensions=function(){if(this.clientRect)return this.clientRect;var f=this.media,v={width:0,height:0};if(f){var S=f.getBoundingClientRect();v.width=S.width,v.height=S.height,v.width||v.height||(v.width=S.right-S.left||f.width||0,v.height=S.bottom-S.top||f.height||0)}return this.clientRect=v,v},o.isLevelAllowed=function(f,v){return v===void 0&&(v=[]),v.indexOf(f)===-1},o.getMaxLevelByMediaSize=function(f,v,S){if(!f||!f.length)return-1;for(var E,m,d=f.length-1,g=0;g<f.length;g+=1){var h=f[g];if((h.width>=v||h.height>=S)&&(E=h,!(m=f[g+1])||E.width!==m.width||E.height!==m.height)){d=g;break}}return d},l=o,s=[{key:"contentScaleFactor",get:function(){var f=1;try{f=self.devicePixelRatio}catch{}return f}}],(u=[{key:"mediaWidth",get:function(){return this.getDimensions().width*o.contentScaleFactor}},{key:"mediaHeight",get:function(){return this.getDimensions().height*o.contentScaleFactor}}])&&a(l.prototype,u),s&&a(l,s),o}();t.default=i},"./src/controller/eme-controller.ts":function(e,t,n){n.r(t);var r=n("./src/events.ts"),a=n("./src/errors.ts"),i=n("./src/utils/logger.ts"),o=n("./src/utils/mediakeys-helper.ts");function l(s,c){for(var f=0;f<c.length;f++){var v=c[f];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(s,v.key,v)}}var u=function(){function s(S){this.hls=void 0,this._widevineLicenseUrl=void 0,this._licenseXhrSetup=void 0,this._licenseResponseCallback=void 0,this._emeEnabled=void 0,this._requestMediaKeySystemAccess=void 0,this._drmSystemOptions=void 0,this._config=void 0,this._mediaKeysList=[],this._media=null,this._hasSetMediaKeys=!1,this._requestLicenseFailureCount=0,this.mediaKeysPromise=null,this._onMediaEncrypted=this.onMediaEncrypted.bind(this),this.hls=S,this._config=S.config,this._widevineLicenseUrl=this._config.widevineLicenseUrl,this._licenseXhrSetup=this._config.licenseXhrSetup,this._licenseResponseCallback=this._config.licenseResponseCallback,this._emeEnabled=this._config.emeEnabled,this._requestMediaKeySystemAccess=this._config.requestMediaKeySystemAccessFunc,this._drmSystemOptions=this._config.drmSystemOptions,this._registerListeners()}var c,f,v=s.prototype;return v.destroy=function(){this._unregisterListeners(),this.hls=this._onMediaEncrypted=null,this._requestMediaKeySystemAccess=null},v._registerListeners=function(){this.hls.on(r.Events.MEDIA_ATTACHED,this.onMediaAttached,this),this.hls.on(r.Events.MEDIA_DETACHED,this.onMediaDetached,this),this.hls.on(r.Events.MANIFEST_PARSED,this.onManifestParsed,this)},v._unregisterListeners=function(){this.hls.off(r.Events.MEDIA_ATTACHED,this.onMediaAttached,this),this.hls.off(r.Events.MEDIA_DETACHED,this.onMediaDetached,this),this.hls.off(r.Events.MANIFEST_PARSED,this.onManifestParsed,this)},v.getLicenseServerUrl=function(S){switch(S){case o.KeySystems.WIDEVINE:if(!this._widevineLicenseUrl)break;return this._widevineLicenseUrl}throw new Error('no license server URL configured for key-system "'+S+'"')},v._attemptKeySystemAccess=function(S,E,m){var d=this,g=function(p,b,y,C){switch(p){case o.KeySystems.WIDEVINE:return function(w,k,_){var T={audioCapabilities:[],videoCapabilities:[]};return w.forEach(function(O){T.audioCapabilities.push({contentType:'audio/mp4; codecs="'+O+'"',robustness:_.audioRobustness||""})}),k.forEach(function(O){T.videoCapabilities.push({contentType:'video/mp4; codecs="'+O+'"',robustness:_.videoRobustness||""})}),[T]}(b,y,C);default:throw new Error("Unknown key-system: "+p)}}(S,E,m,this._drmSystemOptions);i.logger.log("Requesting encrypted media key-system access");var h=this.requestMediaKeySystemAccess(S,g);this.mediaKeysPromise=h.then(function(p){return d._onMediaKeySystemAccessObtained(S,p)}),h.catch(function(p){i.logger.error('Failed to obtain key-system "'+S+'" access:',p)})},v._onMediaKeySystemAccessObtained=function(S,E){var m=this;i.logger.log('Access for key-system "'+S+'" obtained');var d={mediaKeysSessionInitialized:!1,mediaKeySystemAccess:E,mediaKeySystemDomain:S};this._mediaKeysList.push(d);var g=Promise.resolve().then(function(){return E.createMediaKeys()}).then(function(h){return d.mediaKeys=h,i.logger.log('Media-keys created for key-system "'+S+'"'),m._onMediaKeysCreated(),h});return g.catch(function(h){i.logger.error("Failed to create media-keys:",h)}),g},v._onMediaKeysCreated=function(){var S=this;this._mediaKeysList.forEach(function(E){E.mediaKeysSession||(E.mediaKeysSession=E.mediaKeys.createSession(),S._onNewMediaKeySession(E.mediaKeysSession))})},v._onNewMediaKeySession=function(S){var E=this;i.logger.log("New key-system session "+S.sessionId),S.addEventListener("message",function(m){E._onKeySessionMessage(S,m.message)},!1)},v._onKeySessionMessage=function(S,E){i.logger.log("Got EME message event, creating license request"),this._requestLicense(E,function(m){i.logger.log("Received license data (length: "+(m&&m.byteLength)+"), updating key-session"),S.update(m)})},v.onMediaEncrypted=function(S){var E=this;if(i.logger.log('Media is encrypted using "'+S.initDataType+'" init data type'),!this.mediaKeysPromise)return i.logger.error("Fatal: Media is encrypted but no CDM access or no keys have been requested"),void this.hls.trigger(r.Events.ERROR,{type:a.ErrorTypes.KEY_SYSTEM_ERROR,details:a.ErrorDetails.KEY_SYSTEM_NO_KEYS,fatal:!0});var m=function(d){E._media&&(E._attemptSetMediaKeys(d),E._generateRequestWithPreferredKeySession(S.initDataType,S.initData))};this.mediaKeysPromise.then(m).catch(m)},v._attemptSetMediaKeys=function(S){if(!this._media)throw new Error("Attempted to set mediaKeys without first attaching a media element");if(!this._hasSetMediaKeys){var E=this._mediaKeysList[0];if(!E||!E.mediaKeys)return i.logger.error("Fatal: Media is encrypted but no CDM access or no keys have been obtained yet"),void this.hls.trigger(r.Events.ERROR,{type:a.ErrorTypes.KEY_SYSTEM_ERROR,details:a.ErrorDetails.KEY_SYSTEM_NO_KEYS,fatal:!0});i.logger.log("Setting keys for encrypted media"),this._media.setMediaKeys(E.mediaKeys),this._hasSetMediaKeys=!0}},v._generateRequestWithPreferredKeySession=function(S,E){var m=this,d=this._mediaKeysList[0];if(!d)return i.logger.error("Fatal: Media is encrypted but not any key-system access has been obtained yet"),void this.hls.trigger(r.Events.ERROR,{type:a.ErrorTypes.KEY_SYSTEM_ERROR,details:a.ErrorDetails.KEY_SYSTEM_NO_ACCESS,fatal:!0});if(d.mediaKeysSessionInitialized)i.logger.warn("Key-Session already initialized but requested again");else{var g=d.mediaKeysSession;if(!g)return i.logger.error("Fatal: Media is encrypted but no key-session existing"),void this.hls.trigger(r.Events.ERROR,{type:a.ErrorTypes.KEY_SYSTEM_ERROR,details:a.ErrorDetails.KEY_SYSTEM_NO_SESSION,fatal:!0});if(!E)return i.logger.warn("Fatal: initData required for generating a key session is null"),void this.hls.trigger(r.Events.ERROR,{type:a.ErrorTypes.KEY_SYSTEM_ERROR,details:a.ErrorDetails.KEY_SYSTEM_NO_INIT_DATA,fatal:!0});i.logger.log('Generating key-session request for "'+S+'" init data type'),d.mediaKeysSessionInitialized=!0,g.generateRequest(S,E).then(function(){i.logger.debug("Key-session generation succeeded")}).catch(function(h){i.logger.error("Error generating key-session request:",h),m.hls.trigger(r.Events.ERROR,{type:a.ErrorTypes.KEY_SYSTEM_ERROR,details:a.ErrorDetails.KEY_SYSTEM_NO_SESSION,fatal:!1})})}},v._createLicenseXhr=function(S,E,m){var d=new XMLHttpRequest;d.responseType="arraybuffer",d.onreadystatechange=this._onLicenseRequestReadyStageChange.bind(this,d,S,E,m);var g=this._licenseXhrSetup;if(g)try{g.call(this.hls,d,S),g=void 0}catch(h){i.logger.error(h)}try{d.readyState||d.open("POST",S,!0),g&&g.call(this.hls,d,S)}catch(h){throw new Error("issue setting up KeySystem license XHR "+h)}return d},v._onLicenseRequestReadyStageChange=function(S,E,m,d){switch(S.readyState){case 4:if(S.status===200){this._requestLicenseFailureCount=0,i.logger.log("License request succeeded");var g=S.response,h=this._licenseResponseCallback;if(h)try{g=h.call(this.hls,S,E)}catch(b){i.logger.error(b)}d(g)}else{if(i.logger.error("License Request XHR failed ("+E+"). Status: "+S.status+" ("+S.statusText+")"),this._requestLicenseFailureCount++,this._requestLicenseFailureCount>3)return void this.hls.trigger(r.Events.ERROR,{type:a.ErrorTypes.KEY_SYSTEM_ERROR,details:a.ErrorDetails.KEY_SYSTEM_LICENSE_REQUEST_FAILED,fatal:!0});var p=3-this._requestLicenseFailureCount+1;i.logger.warn("Retrying license request, "+p+" attempts left"),this._requestLicense(m,d)}}},v._generateLicenseRequestChallenge=function(S,E){switch(S.mediaKeySystemDomain){case o.KeySystems.WIDEVINE:return E}throw new Error("unsupported key-system: "+S.mediaKeySystemDomain)},v._requestLicense=function(S,E){i.logger.log("Requesting content license for key-system");var m=this._mediaKeysList[0];if(!m)return i.logger.error("Fatal error: Media is encrypted but no key-system access has been obtained yet"),void this.hls.trigger(r.Events.ERROR,{type:a.ErrorTypes.KEY_SYSTEM_ERROR,details:a.ErrorDetails.KEY_SYSTEM_NO_ACCESS,fatal:!0});try{var d=this.getLicenseServerUrl(m.mediaKeySystemDomain),g=this._createLicenseXhr(d,S,E);i.logger.log("Sending license request to URL: "+d);var h=this._generateLicenseRequestChallenge(m,S);g.send(h)}catch(p){i.logger.error("Failure requesting DRM license: "+p),this.hls.trigger(r.Events.ERROR,{type:a.ErrorTypes.KEY_SYSTEM_ERROR,details:a.ErrorDetails.KEY_SYSTEM_LICENSE_REQUEST_FAILED,fatal:!0})}},v.onMediaAttached=function(S,E){if(this._emeEnabled){var m=E.media;this._media=m,m.addEventListener("encrypted",this._onMediaEncrypted)}},v.onMediaDetached=function(){var S=this._media,E=this._mediaKeysList;S&&(S.removeEventListener("encrypted",this._onMediaEncrypted),this._media=null,this._mediaKeysList=[],Promise.all(E.map(function(m){if(m.mediaKeysSession)return m.mediaKeysSession.close().catch(function(){})})).then(function(){return S.setMediaKeys(null)}).catch(function(){}))},v.onManifestParsed=function(S,E){if(this._emeEnabled){var m=E.levels.map(function(g){return g.audioCodec}).filter(function(g){return!!g}),d=E.levels.map(function(g){return g.videoCodec}).filter(function(g){return!!g});this._attemptKeySystemAccess(o.KeySystems.WIDEVINE,m,d)}},c=s,(f=[{key:"requestMediaKeySystemAccess",get:function(){if(!this._requestMediaKeySystemAccess)throw new Error("No requestMediaKeySystemAccess function configured");return this._requestMediaKeySystemAccess}}])&&l(c.prototype,f),s}();t.default=u},"./src/controller/fps-controller.ts":function(e,t,n){n.r(t);var r=n("./src/events.ts"),a=n("./src/utils/logger.ts"),i=function(){function o(u){this.hls=void 0,this.isVideoPlaybackQualityAvailable=!1,this.timer=void 0,this.media=null,this.lastTime=void 0,this.lastDroppedFrames=0,this.lastDecodedFrames=0,this.streamController=void 0,this.hls=u,this.registerListeners()}var l=o.prototype;return l.setStreamController=function(u){this.streamController=u},l.registerListeners=function(){this.hls.on(r.Events.MEDIA_ATTACHING,this.onMediaAttaching,this)},l.unregisterListeners=function(){this.hls.off(r.Events.MEDIA_ATTACHING,this.onMediaAttaching)},l.destroy=function(){this.timer&&clearInterval(this.timer),this.unregisterListeners(),this.isVideoPlaybackQualityAvailable=!1,this.media=null},l.onMediaAttaching=function(u,s){var c=this.hls.config;if(c.capLevelOnFPSDrop){var f=s.media instanceof self.HTMLVideoElement?s.media:null;this.media=f,f&&typeof f.getVideoPlaybackQuality=="function"&&(this.isVideoPlaybackQualityAvailable=!0),self.clearInterval(this.timer),this.timer=self.setInterval(this.checkFPSInterval.bind(this),c.fpsDroppedMonitoringPeriod)}},l.checkFPS=function(u,s,c){var f=performance.now();if(s){if(this.lastTime){var v=f-this.lastTime,S=c-this.lastDroppedFrames,E=s-this.lastDecodedFrames,m=1e3*S/v,d=this.hls;if(d.trigger(r.Events.FPS_DROP,{currentDropped:S,currentDecoded:E,totalDroppedFrames:c}),m>0&&S>d.config.fpsDroppedMonitoringThreshold*E){var g=d.currentLevel;a.logger.warn("drop FPS ratio greater than max allowed value for currentLevel: "+g),g>0&&(d.autoLevelCapping===-1||d.autoLevelCapping>=g)&&(g-=1,d.trigger(r.Events.FPS_DROP_LEVEL_CAPPING,{level:g,droppedLevel:d.currentLevel}),d.autoLevelCapping=g,this.streamController.nextLevelSwitch())}}this.lastTime=f,this.lastDroppedFrames=c,this.lastDecodedFrames=s}},l.checkFPSInterval=function(){var u=this.media;if(u)if(this.isVideoPlaybackQualityAvailable){var s=u.getVideoPlaybackQuality();this.checkFPS(u,s.totalVideoFrames,s.droppedVideoFrames)}else this.checkFPS(u,u.webkitDecodedFrameCount,u.webkitDroppedFrameCount)},o}();t.default=i},"./src/controller/fragment-finders.ts":function(e,t,n){n.r(t),n.d(t,"findFragmentByPDT",function(){return i}),n.d(t,"findFragmentByPTS",function(){return o}),n.d(t,"fragmentWithinToleranceTest",function(){return l}),n.d(t,"pdtWithinToleranceTest",function(){return u}),n.d(t,"findFragWithCC",function(){return s});var r=n("./src/polyfills/number.ts"),a=n("./src/utils/binary-search.ts");function i(c,f,v){if(f===null||!Array.isArray(c)||!c.length||!Object(r.isFiniteNumber)(f)||f<(c[0].programDateTime||0)||f>=(c[c.length-1].endProgramDateTime||0))return null;v=v||0;for(var S=0;S<c.length;++S){var E=c[S];if(u(f,v,E))return E}return null}function o(c,f,v,S){v===void 0&&(v=0),S===void 0&&(S=0);var E=null;if(c?E=f[c.sn-f[0].sn+1]||null:v===0&&f[0].start===0&&(E=f[0]),E&&l(v,S,E)===0)return E;var m=a.default.search(f,l.bind(null,v,S));return m||E}function l(c,f,v){c===void 0&&(c=0),f===void 0&&(f=0);var S=Math.min(f,v.duration+(v.deltaPTS?v.deltaPTS:0));return v.start+v.duration-S<=c?1:v.start-S>c&&v.start?-1:0}function u(c,f,v){var S=1e3*Math.min(f,v.duration+(v.deltaPTS?v.deltaPTS:0));return(v.endProgramDateTime||0)-S>c}function s(c,f){return a.default.search(c,function(v){return v.cc<f?1:v.cc>f?-1:0})}},"./src/controller/fragment-tracker.ts":function(e,t,n){n.r(t),n.d(t,"FragmentState",function(){return r}),n.d(t,"FragmentTracker",function(){return l});var r,a,i=n("./src/events.ts"),o=n("./src/types/loader.ts");(a=r||(r={})).NOT_LOADED="NOT_LOADED",a.BACKTRACKED="BACKTRACKED",a.APPENDING="APPENDING",a.PARTIAL="PARTIAL",a.OK="OK";var l=function(){function c(v){this.activeFragment=null,this.activeParts=null,this.fragments=Object.create(null),this.timeRanges=Object.create(null),this.bufferPadding=.2,this.hls=void 0,this.hls=v,this._registerListeners()}var f=c.prototype;return f._registerListeners=function(){var v=this.hls;v.on(i.Events.BUFFER_APPENDED,this.onBufferAppended,this),v.on(i.Events.FRAG_BUFFERED,this.onFragBuffered,this),v.on(i.Events.FRAG_LOADED,this.onFragLoaded,this)},f._unregisterListeners=function(){var v=this.hls;v.off(i.Events.BUFFER_APPENDED,this.onBufferAppended,this),v.off(i.Events.FRAG_BUFFERED,this.onFragBuffered,this),v.off(i.Events.FRAG_LOADED,this.onFragLoaded,this)},f.destroy=function(){this._unregisterListeners(),this.fragments=this.timeRanges=null},f.getAppendedFrag=function(v,S){if(S===o.PlaylistLevelType.MAIN){var E=this.activeFragment,m=this.activeParts;if(!E)return null;if(m)for(var d=m.length;d--;){var g=m[d],h=g?g.end:E.appendedPTS;if(g.start<=v&&h!==void 0&&v<=h)return d>9&&(this.activeParts=m.slice(d-9)),g}else if(E.start<=v&&E.appendedPTS!==void 0&&v<=E.appendedPTS)return E}return this.getBufferedFrag(v,S)},f.getBufferedFrag=function(v,S){for(var E=this.fragments,m=Object.keys(E),d=m.length;d--;){var g=E[m[d]];if((g==null?void 0:g.body.type)===S&&g.buffered){var h=g.body;if(h.start<=v&&v<=h.end)return h}}return null},f.detectEvictedFragments=function(v,S,E){var m=this;Object.keys(this.fragments).forEach(function(d){var g=m.fragments[d];if(g)if(g.buffered){var h=g.range[v];h&&h.time.some(function(p){var b=!m.isTimeBuffered(p.startPTS,p.endPTS,S);return b&&m.removeFragment(g.body),b})}else g.body.type===E&&m.removeFragment(g.body)})},f.detectPartialFragments=function(v){var S=this,E=this.timeRanges,m=v.frag,d=v.part;if(E&&m.sn!=="initSegment"){var g=s(m),h=this.fragments[g];h&&(Object.keys(E).forEach(function(p){var b=m.elementaryStreams[p];if(b){var y=E[p],C=d!==null||b.partial===!0;h.range[p]=S.getBufferedTimes(m,d,C,y)}}),h.backtrack=h.loaded=null,Object.keys(h.range).length?h.buffered=!0:this.removeFragment(h.body))}},f.fragBuffered=function(v){var S=s(v),E=this.fragments[S];E&&(E.backtrack=E.loaded=null,E.buffered=!0)},f.getBufferedTimes=function(v,S,E,m){for(var d={time:[],partial:E},g=S?S.start:v.start,h=S?S.end:v.end,p=v.minEndPTS||h,b=v.maxStartPTS||g,y=0;y<m.length;y++){var C=m.start(y)-this.bufferPadding,w=m.end(y)+this.bufferPadding;if(b>=C&&p<=w){d.time.push({startPTS:Math.max(g,m.start(y)),endPTS:Math.min(h,m.end(y))});break}if(g<w&&h>C)d.partial=!0,d.time.push({startPTS:Math.max(g,m.start(y)),endPTS:Math.min(h,m.end(y))});else if(h<=C)break}return d},f.getPartialFragment=function(v){var S,E,m,d=null,g=0,h=this.bufferPadding,p=this.fragments;return Object.keys(p).forEach(function(b){var y=p[b];y&&u(y)&&(E=y.body.start-h,m=y.body.end+h,v>=E&&v<=m&&(S=Math.min(v-E,m-v),g<=S&&(d=y.body,g=S)))}),d},f.getState=function(v){var S=s(v),E=this.fragments[S];return E?E.buffered?u(E)?r.PARTIAL:r.OK:E.backtrack?r.BACKTRACKED:r.APPENDING:r.NOT_LOADED},f.backtrack=function(v,S){var E=s(v),m=this.fragments[E];if(!m||m.backtrack)return null;var d=m.backtrack=S||m.loaded;return m.loaded=null,d},f.getBacktrackData=function(v){var S=s(v),E=this.fragments[S];if(E){var m,d=E.backtrack;if(d!=null&&(m=d.payload)!==null&&m!==void 0&&m.byteLength)return d;this.removeFragment(v)}return null},f.isTimeBuffered=function(v,S,E){for(var m,d,g=0;g<E.length;g++){if(m=E.start(g)-this.bufferPadding,d=E.end(g)+this.bufferPadding,v>=m&&S<=d)return!0;if(S<=m)return!1}return!1},f.onFragLoaded=function(v,S){var E=S.frag,m=S.part;if(E.sn!=="initSegment"&&!E.bitrateTest&&!m){var d=s(E);this.fragments[d]={body:E,loaded:S,backtrack:null,buffered:!1,range:Object.create(null)}}},f.onBufferAppended=function(v,S){var E=this,m=S.frag,d=S.part,g=S.timeRanges;if(m.type===o.PlaylistLevelType.MAIN)if(this.activeFragment=m,d){var h=this.activeParts;h||(this.activeParts=h=[]),h.push(d)}else this.activeParts=null;this.timeRanges=g,Object.keys(g).forEach(function(p){var b=g[p];if(E.detectEvictedFragments(p,b),!d)for(var y=0;y<b.length;y++)m.appendedPTS=Math.max(b.end(y),m.appendedPTS||0)})},f.onFragBuffered=function(v,S){this.detectPartialFragments(S)},f.hasFragment=function(v){var S=s(v);return!!this.fragments[S]},f.removeFragmentsInRange=function(v,S,E){var m=this;Object.keys(this.fragments).forEach(function(d){var g=m.fragments[d];if(g&&g.buffered){var h=g.body;h.type===E&&h.start<S&&h.end>v&&m.removeFragment(h)}})},f.removeFragment=function(v){var S=s(v);v.stats.loaded=0,v.clearElementaryStreamInfo(),delete this.fragments[S]},f.removeAllFragments=function(){this.fragments=Object.create(null),this.activeFragment=null,this.activeParts=null},c}();function u(c){var f,v;return c.buffered&&(((f=c.range.video)===null||f===void 0?void 0:f.partial)||((v=c.range.audio)===null||v===void 0?void 0:v.partial))}function s(c){return c.type+"_"+c.level+"_"+c.urlId+"_"+c.sn}},"./src/controller/gap-controller.ts":function(e,t,n){n.r(t),n.d(t,"STALL_MINIMUM_DURATION_MS",function(){return l}),n.d(t,"MAX_START_GAP_JUMP",function(){return u}),n.d(t,"SKIP_BUFFER_HOLE_STEP_SECONDS",function(){return s}),n.d(t,"SKIP_BUFFER_RANGE_START",function(){return c}),n.d(t,"default",function(){return f});var r=n("./src/utils/buffer-helper.ts"),a=n("./src/errors.ts"),i=n("./src/events.ts"),o=n("./src/utils/logger.ts"),l=250,u=2,s=.1,c=.05,f=function(){function v(E,m,d,g){this.config=void 0,this.media=void 0,this.fragmentTracker=void 0,this.hls=void 0,this.nudgeRetry=0,this.stallReported=!1,this.stalled=null,this.moved=!1,this.seeking=!1,this.config=E,this.media=m,this.fragmentTracker=d,this.hls=g}var S=v.prototype;return S.destroy=function(){this.hls=this.fragmentTracker=this.media=null},S.poll=function(E){var m=this.config,d=this.media,g=this.stalled,h=d.currentTime,p=d.seeking,b=this.seeking&&!p,y=!this.seeking&&p;if(this.seeking=p,h===E){if((y||b)&&(this.stalled=null),!d.paused&&!d.ended&&d.playbackRate!==0&&r.BufferHelper.getBuffered(d).length){var C=r.BufferHelper.bufferInfo(d,h,0),w=C.len>0,k=C.nextStart||0;if(w||k){if(p){var _=C.len>u,T=!k||k-h>u&&!this.fragmentTracker.getPartialFragment(h);if(_||T)return;this.moved=!1}if(!this.moved&&this.stalled!==null){var O,A=Math.max(k,C.start||0)-h,P=this.hls.levels?this.hls.levels[this.hls.currentLevel]:null,D=!(P==null||(O=P.details)===null||O===void 0)&&O.live?2*P.details.targetduration:u;if(A>0&&A<=D)return void this._trySkipBufferHole(null)}var I=self.performance.now();if(g!==null){var x=I-g;!p&&x>=l&&this._reportStall(C.len);var L=r.BufferHelper.bufferInfo(d,h,m.maxBufferHole);this._tryFixBufferStall(L,x)}else this.stalled=I}}}else if(this.moved=!0,g!==null){if(this.stallReported){var $=self.performance.now()-g;o.logger.warn("playback not stuck anymore @"+h+", after "+Math.round($)+"ms"),this.stallReported=!1}this.stalled=null,this.nudgeRetry=0}},S._tryFixBufferStall=function(E,m){var d=this.config,g=this.fragmentTracker,h=this.media.currentTime,p=g.getPartialFragment(h);p&&this._trySkipBufferHole(p)||E.len>d.maxBufferHole&&m>1e3*d.highBufferWatchdogPeriod&&(o.logger.warn("Trying to nudge playhead over buffer-hole"),this.stalled=null,this._tryNudgeBuffer())},S._reportStall=function(E){var m=this.hls,d=this.media;this.stallReported||(this.stallReported=!0,o.logger.warn("Playback stalling at @"+d.currentTime+" due to low buffer (buffer="+E+")"),m.trigger(i.Events.ERROR,{type:a.ErrorTypes.MEDIA_ERROR,details:a.ErrorDetails.BUFFER_STALLED_ERROR,fatal:!1,buffer:E}))},S._trySkipBufferHole=function(E){for(var m=this.config,d=this.hls,g=this.media,h=g.currentTime,p=0,b=r.BufferHelper.getBuffered(g),y=0;y<b.length;y++){var C=b.start(y);if(h+m.maxBufferHole>=p&&h<C){var w=Math.max(C+c,g.currentTime+s);return o.logger.warn("skipping hole, adjusting currentTime from "+h+" to "+w),this.moved=!0,this.stalled=null,g.currentTime=w,E&&d.trigger(i.Events.ERROR,{type:a.ErrorTypes.MEDIA_ERROR,details:a.ErrorDetails.BUFFER_SEEK_OVER_HOLE,fatal:!1,reason:"fragment loaded with buffer holes, seeking from "+h+" to "+w,frag:E}),w}p=b.end(y)}return 0},S._tryNudgeBuffer=function(){var E=this.config,m=this.hls,d=this.media,g=d.currentTime,h=(this.nudgeRetry||0)+1;if(this.nudgeRetry=h,h<E.nudgeMaxRetry){var p=g+h*E.nudgeOffset;o.logger.warn("Nudging 'currentTime' from "+g+" to "+p),d.currentTime=p,m.trigger(i.Events.ERROR,{type:a.ErrorTypes.MEDIA_ERROR,details:a.ErrorDetails.BUFFER_NUDGE_ON_STALL,fatal:!1})}else o.logger.error("Playhead still not moving while enough data buffered @"+g+" after "+E.nudgeMaxRetry+" nudges"),m.trigger(i.Events.ERROR,{type:a.ErrorTypes.MEDIA_ERROR,details:a.ErrorDetails.BUFFER_STALLED_ERROR,fatal:!0})},v}()},"./src/controller/id3-track-controller.ts":function(e,t,n){n.r(t);var r=n("./src/events.ts"),a=n("./src/utils/texttrack-utils.ts"),i=n("./src/demux/id3.ts"),o=function(){function l(s){this.hls=void 0,this.id3Track=null,this.media=null,this.hls=s,this._registerListeners()}var u=l.prototype;return u.destroy=function(){this._unregisterListeners()},u._registerListeners=function(){var s=this.hls;s.on(r.Events.MEDIA_ATTACHED,this.onMediaAttached,this),s.on(r.Events.MEDIA_DETACHING,this.onMediaDetaching,this),s.on(r.Events.FRAG_PARSING_METADATA,this.onFragParsingMetadata,this),s.on(r.Events.BUFFER_FLUSHING,this.onBufferFlushing,this)},u._unregisterListeners=function(){var s=this.hls;s.off(r.Events.MEDIA_ATTACHED,this.onMediaAttached,this),s.off(r.Events.MEDIA_DETACHING,this.onMediaDetaching,this),s.off(r.Events.FRAG_PARSING_METADATA,this.onFragParsingMetadata,this),s.off(r.Events.BUFFER_FLUSHING,this.onBufferFlushing,this)},u.onMediaAttached=function(s,c){this.media=c.media},u.onMediaDetaching=function(){this.id3Track&&(Object(a.clearCurrentCues)(this.id3Track),this.id3Track=null,this.media=null)},u.getID3Track=function(s){if(this.media){for(var c=0;c<s.length;c++){var f=s[c];if(f.kind==="metadata"&&f.label==="id3")return Object(a.sendAddTrackEvent)(f,this.media),f}return this.media.addTextTrack("metadata","id3")}},u.onFragParsingMetadata=function(s,c){if(this.media){var f=c.frag,v=c.samples;this.id3Track||(this.id3Track=this.getID3Track(this.media.textTracks),this.id3Track.mode="hidden");for(var S=self.WebKitDataCue||self.VTTCue||self.TextTrackCue,E=0;E<v.length;E++){var m=i.getID3Frames(v[E].data);if(m){var d=v[E].pts,g=E<v.length-1?v[E+1].pts:f.end;g-d<=0&&(g=d+.25);for(var h=0;h<m.length;h++){var p=m[h];if(!i.isTimeStampFrame(p)){var b=new S(d,g,"");b.value=p,this.id3Track.addCue(b)}}}}}},u.onBufferFlushing=function(s,c){var f=c.startOffset,v=c.endOffset,S=c.type;if(!S||S==="audio"){var E=this.id3Track;E&&Object(a.removeCuesInRange)(E,f,v)}},l}();t.default=o},"./src/controller/latency-controller.ts":function(e,t,n){n.r(t),n.d(t,"default",function(){return l});var r=n("./src/errors.ts"),a=n("./src/events.ts"),i=n("./src/utils/logger.ts");function o(u,s){for(var c=0;c<s.length;c++){var f=s[c];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(u,f.key,f)}}var l=function(){function u(v){var S=this;this.hls=void 0,this.config=void 0,this.media=null,this.levelDetails=null,this.currentTime=0,this.stallCount=0,this._latency=null,this.timeupdateHandler=function(){return S.timeupdate()},this.hls=v,this.config=v.config,this.registerListeners()}var s,c,f=u.prototype;return f.destroy=function(){this.unregisterListeners(),this.onMediaDetaching(),this.levelDetails=null,this.hls=this.timeupdateHandler=null},f.registerListeners=function(){this.hls.on(a.Events.MEDIA_ATTACHED,this.onMediaAttached,this),this.hls.on(a.Events.MEDIA_DETACHING,this.onMediaDetaching,this),this.hls.on(a.Events.MANIFEST_LOADING,this.onManifestLoading,this),this.hls.on(a.Events.LEVEL_UPDATED,this.onLevelUpdated,this),this.hls.on(a.Events.ERROR,this.onError,this)},f.unregisterListeners=function(){this.hls.off(a.Events.MEDIA_ATTACHED,this.onMediaAttached),this.hls.off(a.Events.MEDIA_DETACHING,this.onMediaDetaching),this.hls.off(a.Events.MANIFEST_LOADING,this.onManifestLoading),this.hls.off(a.Events.LEVEL_UPDATED,this.onLevelUpdated),this.hls.off(a.Events.ERROR,this.onError)},f.onMediaAttached=function(v,S){this.media=S.media,this.media.addEventListener("timeupdate",this.timeupdateHandler)},f.onMediaDetaching=function(){this.media&&(this.media.removeEventListener("timeupdate",this.timeupdateHandler),this.media=null)},f.onManifestLoading=function(){this.levelDetails=null,this._latency=null,this.stallCount=0},f.onLevelUpdated=function(v,S){var E=S.details;this.levelDetails=E,E.advanced&&this.timeupdate(),!E.live&&this.media&&this.media.removeEventListener("timeupdate",this.timeupdateHandler)},f.onError=function(v,S){S.details===r.ErrorDetails.BUFFER_STALLED_ERROR&&(this.stallCount++,i.logger.warn("[playback-rate-controller]: Stall detected, adjusting target latency"))},f.timeupdate=function(){var v=this.media,S=this.levelDetails;if(v&&S){this.currentTime=v.currentTime;var E=this.computeLatency();if(E!==null){this._latency=E;var m=this.config,d=m.lowLatencyMode,g=m.maxLiveSyncPlaybackRate;if(d&&g!==1){var h=this.targetLatency;if(h!==null){var p=E-h,b=p<Math.min(this.maxLatency,h+S.targetduration);if(S.live&&b&&p>.05&&this.forwardBufferLength>1){var y=Math.min(2,Math.max(1,g)),C=Math.round(2/(1+Math.exp(-.75*p-this.edgeStalled))*20)/20;v.playbackRate=Math.min(y,Math.max(1,C))}else v.playbackRate!==1&&v.playbackRate!==0&&(v.playbackRate=1)}}}}},f.estimateLiveEdge=function(){var v=this.levelDetails;return v===null?null:v.edge+v.age},f.computeLatency=function(){var v=this.estimateLiveEdge();return v===null?null:v-this.currentTime},s=u,(c=[{key:"latency",get:function(){return this._latency||0}},{key:"maxLatency",get:function(){var v=this.config,S=this.levelDetails;return v.liveMaxLatencyDuration!==void 0?v.liveMaxLatencyDuration:S?v.liveMaxLatencyDurationCount*S.targetduration:0}},{key:"targetLatency",get:function(){var v=this.levelDetails;if(v===null)return null;var S=v.holdBack,E=v.partHoldBack,m=v.targetduration,d=this.config,g=d.liveSyncDuration,h=d.liveSyncDurationCount,p=d.lowLatencyMode,b=this.hls.userConfig,y=p&&E||S;(b.liveSyncDuration||b.liveSyncDurationCount||y===0)&&(y=g!==void 0?g:h*m);var C=m;return y+Math.min(1*this.stallCount,C)}},{key:"liveSyncPosition",get:function(){var v=this.estimateLiveEdge(),S=this.targetLatency,E=this.levelDetails;if(v===null||S===null||E===null)return null;var m=E.edge,d=v-S-this.edgeStalled,g=m-E.totalduration,h=m-(this.config.lowLatencyMode&&E.partTarget||E.targetduration);return Math.min(Math.max(g,d),h)}},{key:"drift",get:function(){var v=this.levelDetails;return v===null?1:v.drift}},{key:"edgeStalled",get:function(){var v=this.levelDetails;if(v===null)return 0;var S=3*(this.config.lowLatencyMode&&v.partTarget||v.targetduration);return Math.max(v.age-S,0)}},{key:"forwardBufferLength",get:function(){var v=this.media,S=this.levelDetails;if(!v||!S)return 0;var E=v.buffered.length;return E?v.buffered.end(E-1):S.edge-this.currentTime}}])&&o(s.prototype,c),u}()},"./src/controller/level-controller.ts":function(e,t,n){n.r(t),n.d(t,"default",function(){return E});var r=n("./src/types/level.ts"),a=n("./src/events.ts"),i=n("./src/errors.ts"),o=n("./src/utils/codecs.ts"),l=n("./src/controller/level-helper.ts"),u=n("./src/controller/base-playlist-controller.ts"),s=n("./src/types/loader.ts");function c(){return(c=Object.assign||function(m){for(var d=1;d<arguments.length;d++){var g=arguments[d];for(var h in g)Object.prototype.hasOwnProperty.call(g,h)&&(m[h]=g[h])}return m}).apply(this,arguments)}function f(m,d){for(var g=0;g<d.length;g++){var h=d[g];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(m,h.key,h)}}function v(m,d){return(v=Object.setPrototypeOf||function(g,h){return g.__proto__=h,g})(m,d)}var S=/chrome|firefox/.test(navigator.userAgent.toLowerCase()),E=function(m){var d,g;function h(C){var w;return(w=m.call(this,C,"[level-controller]")||this)._levels=[],w._firstLevel=-1,w._startLevel=void 0,w.currentLevelIndex=-1,w.manualLevelIndex=-1,w.onParsedComplete=void 0,w._registerListeners(),w}g=m,(d=h).prototype=Object.create(g.prototype),d.prototype.constructor=d,v(d,g);var p,b,y=h.prototype;return y._registerListeners=function(){var C=this.hls;C.on(a.Events.MANIFEST_LOADED,this.onManifestLoaded,this),C.on(a.Events.LEVEL_LOADED,this.onLevelLoaded,this),C.on(a.Events.AUDIO_TRACK_SWITCHED,this.onAudioTrackSwitched,this),C.on(a.Events.FRAG_LOADED,this.onFragLoaded,this),C.on(a.Events.ERROR,this.onError,this)},y._unregisterListeners=function(){var C=this.hls;C.off(a.Events.MANIFEST_LOADED,this.onManifestLoaded,this),C.off(a.Events.LEVEL_LOADED,this.onLevelLoaded,this),C.off(a.Events.AUDIO_TRACK_SWITCHED,this.onAudioTrackSwitched,this),C.off(a.Events.FRAG_LOADED,this.onFragLoaded,this),C.off(a.Events.ERROR,this.onError,this)},y.destroy=function(){this._unregisterListeners(),this.manualLevelIndex=-1,this._levels.length=0,m.prototype.destroy.call(this)},y.startLoad=function(){this._levels.forEach(function(C){C.loadError=0}),m.prototype.startLoad.call(this)},y.onManifestLoaded=function(C,w){var k,_,T=[],O=[],A=[],P={},D=!1,I=!1,x=!1;if(w.levels.forEach(function(N){var F=N.attrs;D=D||!(!N.width||!N.height),I=I||!!N.videoCodec,x=x||!!N.audioCodec,S&&N.audioCodec&&N.audioCodec.indexOf("mp4a.40.34")!==-1&&(N.audioCodec=void 0);var U=N.bitrate+"-"+N.attrs.RESOLUTION+"-"+N.attrs.CODECS;(_=P[U])?_.url.push(N.url):(_=new r.Level(N),P[U]=_,T.push(_)),F&&(F.AUDIO&&Object(l.addGroupId)(_,"audio",F.AUDIO),F.SUBTITLES&&Object(l.addGroupId)(_,"text",F.SUBTITLES))}),(D||I)&&x&&(T=T.filter(function(N){var F=N.videoCodec,U=N.width,B=N.height;return!!F||!(!U||!B)})),T=T.filter(function(N){var F=N.audioCodec,U=N.videoCodec;return(!F||Object(o.isCodecSupportedInMp4)(F,"audio"))&&(!U||Object(o.isCodecSupportedInMp4)(U,"video"))}),w.audioTracks&&(O=w.audioTracks.filter(function(N){return!N.audioCodec||Object(o.isCodecSupportedInMp4)(N.audioCodec,"audio")}),Object(l.assignTrackIdsByGroup)(O)),w.subtitles&&(A=w.subtitles,Object(l.assignTrackIdsByGroup)(A)),T.length>0){k=T[0].bitrate,T.sort(function(N,F){return N.bitrate-F.bitrate}),this._levels=T;for(var L=0;L<T.length;L++)if(T[L].bitrate===k){this._firstLevel=L,this.log("manifest loaded, "+T.length+" level(s) found, first bitrate: "+k);break}var $=x&&!I,M={levels:T,audioTracks:O,subtitleTracks:A,firstLevel:this._firstLevel,stats:w.stats,audio:x,video:I,altAudio:!$&&O.some(function(N){return!!N.url})};this.hls.trigger(a.Events.MANIFEST_PARSED,M),(this.hls.config.autoStartLoad||this.hls.forceStartLoad)&&this.hls.startLoad(this.hls.config.startPosition)}else this.hls.trigger(a.Events.ERROR,{type:i.ErrorTypes.MEDIA_ERROR,details:i.ErrorDetails.MANIFEST_INCOMPATIBLE_CODECS_ERROR,fatal:!0,url:w.url,reason:"no level with compatible codecs found in manifest"})},y.onError=function(C,w){if(m.prototype.onError.call(this,C,w),!w.fatal){var k=w.context,_=this._levels[this.currentLevelIndex];if(k&&(k.type===s.PlaylistContextType.AUDIO_TRACK&&_.audioGroupIds&&k.groupId===_.audioGroupIds[_.urlId]||k.type===s.PlaylistContextType.SUBTITLE_TRACK&&_.textGroupIds&&k.groupId===_.textGroupIds[_.urlId]))this.redundantFailover(this.currentLevelIndex);else{var T,O=!1,A=!0;switch(w.details){case i.ErrorDetails.FRAG_LOAD_ERROR:case i.ErrorDetails.FRAG_LOAD_TIMEOUT:case i.ErrorDetails.KEY_LOAD_ERROR:case i.ErrorDetails.KEY_LOAD_TIMEOUT:if(w.frag){var P=this._levels[w.frag.level];P?(P.fragmentError++,P.fragmentError>this.hls.config.fragLoadingMaxRetry&&(T=w.frag.level)):T=w.frag.level}break;case i.ErrorDetails.LEVEL_LOAD_ERROR:case i.ErrorDetails.LEVEL_LOAD_TIMEOUT:k&&(k.deliveryDirectives&&(A=!1),T=k.level),O=!0;break;case i.ErrorDetails.REMUX_ALLOC_ERROR:T=w.level,O=!0}T!==void 0&&this.recoverLevel(w,T,O,A)}}},y.recoverLevel=function(C,w,k,_){var T=C.details,O=this._levels[w];if(O.loadError++,k){if(!this.retryLoadingOrFail(C))return void(this.currentLevelIndex=-1);C.levelRetry=!0}if(_){var A=O.url.length;if(A>1&&O.loadError<A)C.levelRetry=!0,this.redundantFailover(w);else if(this.manualLevelIndex===-1){var P=w===0?this._levels.length-1:w-1;this.currentLevelIndex!==P&&this._levels[P].loadError===0&&(this.warn(T+": switch to "+P),C.levelRetry=!0,this.hls.nextAutoLevel=P)}}},y.redundantFailover=function(C){var w=this._levels[C],k=w.url.length;if(k>1){var _=(w.urlId+1)%k;this.warn("Switching to redundant URL-id "+_),this._levels.forEach(function(T){T.urlId=_}),this.level=C}},y.onFragLoaded=function(C,w){var k=w.frag;if(k!==void 0&&k.type===s.PlaylistLevelType.MAIN){var _=this._levels[k.level];_!==void 0&&(_.fragmentError=0,_.loadError=0)}},y.onLevelLoaded=function(C,w){var k,_,T=w.level,O=w.details,A=this._levels[T];if(!A)return this.warn("Invalid level index "+T),void((_=w.deliveryDirectives)!==null&&_!==void 0&&_.skip&&(O.deltaUpdateFailed=!0));T===this.currentLevelIndex?(A.fragmentError===0&&(A.loadError=0,this.retryCount=0),this.playlistLoaded(T,w,A.details)):(k=w.deliveryDirectives)!==null&&k!==void 0&&k.skip&&(O.deltaUpdateFailed=!0)},y.onAudioTrackSwitched=function(C,w){var k=this.hls.levels[this.currentLevelIndex];if(k&&k.audioGroupIds){for(var _=-1,T=this.hls.audioTracks[w.id].groupId,O=0;O<k.audioGroupIds.length;O++)if(k.audioGroupIds[O]===T){_=O;break}_!==k.urlId&&(k.urlId=_,this.startLoad())}},y.loadPlaylist=function(C){var w=this.currentLevelIndex,k=this._levels[w];if(this.canLoad&&k&&k.url.length>0){var _=k.urlId,T=k.url[_];if(C)try{T=C.addDirectives(T)}catch(O){this.warn("Could not construct new URL with HLS Delivery Directives: "+O)}this.log("Attempt loading level index "+w+(C?" at sn "+C.msn+" part "+C.part:"")+" with URL-id "+_+" "+T),this.clearTimer(),this.hls.trigger(a.Events.LEVEL_LOADING,{url:T,level:w,id:_,deliveryDirectives:C||null})}},y.removeLevel=function(C,w){var k=function(T,O){return O!==w},_=this._levels.filter(function(T,O){return O!==C||T.url.length>1&&w!==void 0&&(T.url=T.url.filter(k),T.audioGroupIds&&(T.audioGroupIds=T.audioGroupIds.filter(k)),T.textGroupIds&&(T.textGroupIds=T.textGroupIds.filter(k)),T.urlId=0,!0)}).map(function(T,O){var A=T.details;return A!=null&&A.fragments&&A.fragments.forEach(function(P){P.level=O}),T});this._levels=_,this.hls.trigger(a.Events.LEVELS_UPDATED,{levels:_})},p=h,(b=[{key:"levels",get:function(){return this._levels.length===0?null:this._levels}},{key:"level",get:function(){return this.currentLevelIndex},set:function(C){var w,k=this._levels;if(k.length!==0&&(this.currentLevelIndex!==C||(w=k[C])===null||w===void 0||!w.details)){if(C<0||C>=k.length){var _=C<0;if(this.hls.trigger(a.Events.ERROR,{type:i.ErrorTypes.OTHER_ERROR,details:i.ErrorDetails.LEVEL_SWITCH_ERROR,level:C,fatal:_,reason:"invalid level idx"}),_)return;C=Math.min(C,k.length-1)}this.clearTimer();var T=this.currentLevelIndex,O=k[T],A=k[C];this.log("switching to level "+C+" from "+T),this.currentLevelIndex=C;var P=c({},A,{level:C,maxBitrate:A.maxBitrate,uri:A.uri,urlId:A.urlId});delete P._urlId,this.hls.trigger(a.Events.LEVEL_SWITCHING,P);var D=A.details;if(!D||D.live){var I=this.switchParams(A.uri,O==null?void 0:O.details);this.loadPlaylist(I)}}}},{key:"manualLevel",get:function(){return this.manualLevelIndex},set:function(C){this.manualLevelIndex=C,this._startLevel===void 0&&(this._startLevel=C),C!==-1&&(this.level=C)}},{key:"firstLevel",get:function(){return this._firstLevel},set:function(C){this._firstLevel=C}},{key:"startLevel",get:function(){if(this._startLevel===void 0){var C=this.hls.config.startLevel;return C!==void 0?C:this._firstLevel}return this._startLevel},set:function(C){this._startLevel=C}},{key:"nextLoadLevel",get:function(){return this.manualLevelIndex!==-1?this.manualLevelIndex:this.hls.nextAutoLevel},set:function(C){this.level=C,this.manualLevelIndex===-1&&(this.hls.nextAutoLevel=C)}}])&&f(p.prototype,b),h}(u.default)},"./src/controller/level-helper.ts":function(e,t,n){n.r(t),n.d(t,"addGroupId",function(){return i}),n.d(t,"assignTrackIdsByGroup",function(){return o}),n.d(t,"updatePTS",function(){return l}),n.d(t,"updateFragPTSDTS",function(){return s}),n.d(t,"mergeDetails",function(){return c}),n.d(t,"mapPartIntersection",function(){return f}),n.d(t,"mapFragmentIntersection",function(){return v}),n.d(t,"adjustSliding",function(){return S}),n.d(t,"addSliding",function(){return E}),n.d(t,"computeReloadInterval",function(){return m}),n.d(t,"getFragmentWithSN",function(){return d}),n.d(t,"getPartWith",function(){return g});var r=n("./src/polyfills/number.ts"),a=n("./src/utils/logger.ts");function i(h,p,b){switch(p){case"audio":h.audioGroupIds||(h.audioGroupIds=[]),h.audioGroupIds.push(b);break;case"text":h.textGroupIds||(h.textGroupIds=[]),h.textGroupIds.push(b)}}function o(h){var p={};h.forEach(function(b){var y=b.groupId||"";b.id=p[y]=p[y]||0,p[y]++})}function l(h,p,b){u(h[p],h[b])}function u(h,p){var b=p.startPTS;if(Object(r.isFiniteNumber)(b)){var y,C=0;p.sn>h.sn?(C=b-h.start,y=h):(C=h.start-b,y=p),y.duration!==C&&(y.duration=C)}else p.sn>h.sn?h.cc===p.cc&&h.minEndPTS?p.start=h.start+(h.minEndPTS-h.start):p.start=h.start+h.duration:p.start=Math.max(h.start-p.duration,0)}function s(h,p,b,y,C,w){y-b<=0&&(a.logger.warn("Fragment should have a positive duration",p),y=b+p.duration,w=C+p.duration);var k=b,_=y,T=p.startPTS,O=p.endPTS;if(Object(r.isFiniteNumber)(T)){var A=Math.abs(T-b);Object(r.isFiniteNumber)(p.deltaPTS)?p.deltaPTS=Math.max(A,p.deltaPTS):p.deltaPTS=A,k=Math.max(b,T),b=Math.min(b,T),C=Math.min(C,p.startDTS),_=Math.min(y,O),y=Math.max(y,O),w=Math.max(w,p.endDTS)}p.duration=y-b;var P=b-p.start;p.appendedPTS=y,p.start=p.startPTS=b,p.maxStartPTS=k,p.startDTS=C,p.endPTS=y,p.minEndPTS=_,p.endDTS=w;var D,I=p.sn;if(!h||I<h.startSN||I>h.endSN)return 0;var x=I-h.startSN,L=h.fragments;for(L[x]=p,D=x;D>0;D--)u(L[D],L[D-1]);for(D=x;D<L.length-1;D++)u(L[D],L[D+1]);return h.fragmentHint&&u(L[L.length-1],h.fragmentHint),h.PTSKnown=h.alignedSliding=!0,P}function c(h,p){for(var b=null,y=h.fragments,C=y.length-1;C>=0;C--){var w=y[C].initSegment;if(w){b=w;break}}h.fragmentHint&&delete h.fragmentHint.endPTS;var k,_=0;if(v(h,p,function(I,x){var L;I.relurl&&(_=I.cc-x.cc),Object(r.isFiniteNumber)(I.startPTS)&&Object(r.isFiniteNumber)(I.endPTS)&&(x.start=x.startPTS=I.startPTS,x.startDTS=I.startDTS,x.appendedPTS=I.appendedPTS,x.maxStartPTS=I.maxStartPTS,x.endPTS=I.endPTS,x.endDTS=I.endDTS,x.minEndPTS=I.minEndPTS,x.duration=I.endPTS-I.startPTS,x.duration&&(k=x),p.PTSKnown=p.alignedSliding=!0),x.elementaryStreams=I.elementaryStreams,x.loader=I.loader,x.stats=I.stats,x.urlId=I.urlId,I.initSegment?(x.initSegment=I.initSegment,b=I.initSegment):x.initSegment&&x.initSegment.relurl!=((L=b)===null||L===void 0?void 0:L.relurl)||(x.initSegment=b)}),p.skippedSegments&&(p.deltaUpdateFailed=p.fragments.some(function(I){return!I}),p.deltaUpdateFailed)){a.logger.warn("[level-helper] Previous playlist missing segments skipped in delta playlist");for(var T=p.skippedSegments;T--;)p.fragments.shift();p.startSN=p.fragments[0].sn,p.startCC=p.fragments[0].cc}var O=p.fragments;if(_){a.logger.warn("discontinuity sliding from playlist, take drift into account");for(var A=0;A<O.length;A++)O[A].cc+=_}p.skippedSegments&&(p.startCC=p.fragments[0].cc),f(h.partList,p.partList,function(I,x){x.elementaryStreams=I.elementaryStreams,x.stats=I.stats}),k?s(p,k,k.startPTS,k.endPTS,k.startDTS,k.endDTS):S(h,p),O.length&&(p.totalduration=p.edge-O[0].start),p.driftStartTime=h.driftStartTime,p.driftStart=h.driftStart;var P=p.advancedDateTime;if(p.advanced&&P){var D=p.edge;p.driftStart||(p.driftStartTime=P,p.driftStart=D),p.driftEndTime=P,p.driftEnd=D}else p.driftEndTime=h.driftEndTime,p.driftEnd=h.driftEnd,p.advancedDateTime=h.advancedDateTime}function f(h,p,b){if(h&&p)for(var y=0,C=0,w=h.length;C<=w;C++){var k=h[C],_=p[C+y];k&&_&&k.index===_.index&&k.fragment.sn===_.fragment.sn?b(k,_):y--}}function v(h,p,b){for(var y=p.skippedSegments,C=Math.max(h.startSN,p.startSN)-p.startSN,w=(h.fragmentHint?1:0)+(y?p.endSN:Math.min(h.endSN,p.endSN))-p.startSN,k=p.startSN-h.startSN,_=p.fragmentHint?p.fragments.concat(p.fragmentHint):p.fragments,T=h.fragmentHint?h.fragments.concat(h.fragmentHint):h.fragments,O=C;O<=w;O++){var A=T[k+O],P=_[O];y&&!P&&O<y&&(P=p.fragments[O]=A),A&&P&&b(A,P)}}function S(h,p){var b=p.startSN+p.skippedSegments-h.startSN,y=h.fragments;b<0||b>=y.length||E(p,y[b].start)}function E(h,p){if(p){for(var b=h.fragments,y=h.skippedSegments;y<b.length;y++)b[y].start+=p;h.fragmentHint&&(h.fragmentHint.start+=p)}}function m(h,p){var b,y=1e3*h.levelTargetDuration,C=y/2,w=h.age,k=w>0&&w<3*y,_=p.loading.end-p.loading.start,T=h.availabilityDelay;if(h.updated===!1)if(k){var O=333*h.misses;b=Math.max(Math.min(C,2*_),O),h.availabilityDelay=(h.availabilityDelay||0)+b}else b=C;else k?(T=Math.min(T||y/2,w),h.availabilityDelay=T,b=T+y-w):b=y-_;return Math.round(b)}function d(h,p,b){if(!h||!h.details)return null;var y=h.details,C=y.fragments[p-y.startSN];return C||((C=y.fragmentHint)&&C.sn===p?C:p<y.startSN&&b&&b.sn===p?b:null)}function g(h,p,b){if(!h||!h.details)return null;var y=h.details.partList;if(y)for(var C=y.length;C--;){var w=y[C];if(w.index===b&&w.fragment.sn===p)return w}return null}},"./src/controller/stream-controller.ts":function(e,t,n){n.r(t),n.d(t,"default",function(){return h});var r=n("./src/polyfills/number.ts"),a=n("./src/controller/base-stream-controller.ts"),i=n("./src/is-supported.ts"),o=n("./src/events.ts"),l=n("./src/utils/buffer-helper.ts"),u=n("./src/controller/fragment-tracker.ts"),s=n("./src/types/loader.ts"),c=n("./src/loader/fragment.ts"),f=n("./src/demux/transmuxer-interface.ts"),v=n("./src/types/transmuxer.ts"),S=n("./src/controller/gap-controller.ts"),E=n("./src/errors.ts"),m=n("./src/utils/logger.ts");function d(p,b){for(var y=0;y<b.length;y++){var C=b[y];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(p,C.key,C)}}function g(p,b){return(g=Object.setPrototypeOf||function(y,C){return y.__proto__=C,y})(p,b)}var h=function(p){var b,y;function C(T,O){var A;return(A=p.call(this,T,O,"[stream-controller]")||this).audioCodecSwap=!1,A.gapController=null,A.level=-1,A._forceStartLoad=!1,A.altAudio=!1,A.audioOnly=!1,A.fragPlaying=null,A.onvplaying=null,A.onvseeked=null,A.fragLastKbps=0,A.stalled=!1,A.couldBacktrack=!1,A.audioCodecSwitch=!1,A.videoBuffer=null,A._registerListeners(),A}y=p,(b=C).prototype=Object.create(y.prototype),b.prototype.constructor=b,g(b,y);var w,k,_=C.prototype;return _._registerListeners=function(){var T=this.hls;T.on(o.Events.MEDIA_ATTACHED,this.onMediaAttached,this),T.on(o.Events.MEDIA_DETACHING,this.onMediaDetaching,this),T.on(o.Events.MANIFEST_LOADING,this.onManifestLoading,this),T.on(o.Events.MANIFEST_PARSED,this.onManifestParsed,this),T.on(o.Events.LEVEL_LOADING,this.onLevelLoading,this),T.on(o.Events.LEVEL_LOADED,this.onLevelLoaded,this),T.on(o.Events.FRAG_LOAD_EMERGENCY_ABORTED,this.onFragLoadEmergencyAborted,this),T.on(o.Events.ERROR,this.onError,this),T.on(o.Events.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),T.on(o.Events.AUDIO_TRACK_SWITCHED,this.onAudioTrackSwitched,this),T.on(o.Events.BUFFER_CREATED,this.onBufferCreated,this),T.on(o.Events.BUFFER_FLUSHED,this.onBufferFlushed,this),T.on(o.Events.LEVELS_UPDATED,this.onLevelsUpdated,this),T.on(o.Events.FRAG_BUFFERED,this.onFragBuffered,this)},_._unregisterListeners=function(){var T=this.hls;T.off(o.Events.MEDIA_ATTACHED,this.onMediaAttached,this),T.off(o.Events.MEDIA_DETACHING,this.onMediaDetaching,this),T.off(o.Events.MANIFEST_LOADING,this.onManifestLoading,this),T.off(o.Events.MANIFEST_PARSED,this.onManifestParsed,this),T.off(o.Events.LEVEL_LOADED,this.onLevelLoaded,this),T.off(o.Events.FRAG_LOAD_EMERGENCY_ABORTED,this.onFragLoadEmergencyAborted,this),T.off(o.Events.ERROR,this.onError,this),T.off(o.Events.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),T.off(o.Events.AUDIO_TRACK_SWITCHED,this.onAudioTrackSwitched,this),T.off(o.Events.BUFFER_CREATED,this.onBufferCreated,this),T.off(o.Events.BUFFER_FLUSHED,this.onBufferFlushed,this),T.off(o.Events.LEVELS_UPDATED,this.onLevelsUpdated,this),T.off(o.Events.FRAG_BUFFERED,this.onFragBuffered,this)},_.onHandlerDestroying=function(){this._unregisterListeners(),this.onMediaDetaching()},_.startLoad=function(T){if(this.levels){var O=this.lastCurrentTime,A=this.hls;if(this.stopLoad(),this.setInterval(100),this.level=-1,this.fragLoadError=0,!this.startFragRequested){var P=A.startLevel;P===-1&&(A.config.testBandwidth?(P=0,this.bitrateTest=!0):P=A.nextAutoLevel),this.level=A.nextLoadLevel=P,this.loadedmetadata=!1}O>0&&T===-1&&(this.log("Override startPosition with lastCurrentTime @"+O.toFixed(3)),T=O),this.state=a.State.IDLE,this.nextLoadPosition=this.startPosition=this.lastCurrentTime=T,this.tick()}else this._forceStartLoad=!0,this.state=a.State.STOPPED},_.stopLoad=function(){this._forceStartLoad=!1,p.prototype.stopLoad.call(this)},_.doTick=function(){switch(this.state){case a.State.IDLE:this.doTickIdle();break;case a.State.WAITING_LEVEL:var T,O=this.levels,A=this.level,P=O==null||(T=O[A])===null||T===void 0?void 0:T.details;if(P&&(!P.live||this.levelLastLoaded===this.level)){if(this.waitForCdnTuneIn(P))break;this.state=a.State.IDLE;break}break;case a.State.FRAG_LOADING_WAITING_RETRY:var D,I=self.performance.now(),x=this.retryDate;(!x||I>=x||(D=this.media)!==null&&D!==void 0&&D.seeking)&&(this.log("retryDate reached, switch back to IDLE state"),this.state=a.State.IDLE)}this.onTickEnd()},_.onTickEnd=function(){p.prototype.onTickEnd.call(this),this.checkBuffer(),this.checkFragmentChanged()},_.doTickIdle=function(){var T,O,A=this.hls,P=this.levelLastLoaded,D=this.levels,I=this.media,x=A.config,L=A.nextLoadLevel;if(P!==null&&(I||!this.startFragRequested&&x.startFragPrefetch)&&(!this.altAudio||!this.audioOnly)&&D&&D[L]){var $=D[L];this.level=A.nextLoadLevel=L;var M=$.details;if(!M||this.state===a.State.WAITING_LEVEL||M.live&&this.levelLastLoaded!==L)this.state=a.State.WAITING_LEVEL;else{var N=this.getFwdBufferInfo(this.mediaBuffer?this.mediaBuffer:I,s.PlaylistLevelType.MAIN);if(N!==null&&!(N.len>=this.getMaxBufferLength($.maxBitrate))){if(this._streamEnded(N,M)){var F={};return this.altAudio&&(F.type="video"),this.hls.trigger(o.Events.BUFFER_EOS,F),void(this.state=a.State.ENDED)}var U=N.end,B=this.getNextFragment(U,M);if(this.couldBacktrack&&!this.fragPrevious&&B&&B.sn!=="initSegment"){var K=B.sn-M.startSN;K>1&&(B=M.fragments[K-1],this.fragmentTracker.removeFragment(B))}if(B&&this.fragmentTracker.getState(B)===u.FragmentState.OK&&this.nextLoadPosition>U){var V=this.audioOnly&&!this.altAudio?c.ElementaryStreamTypes.AUDIO:c.ElementaryStreamTypes.VIDEO;this.afterBufferFlushed(I,V,s.PlaylistLevelType.MAIN),B=this.getNextFragment(this.nextLoadPosition,M)}B&&(!B.initSegment||B.initSegment.data||this.bitrateTest||(B=B.initSegment),((T=B.decryptdata)===null||T===void 0?void 0:T.keyFormat)!=="identity"||(O=B.decryptdata)!==null&&O!==void 0&&O.key?this.loadFragment(B,M,U):this.loadKey(B,M))}}}},_.loadFragment=function(T,O,A){var P,D=this.fragmentTracker.getState(T);if(this.fragCurrent=T,D===u.FragmentState.BACKTRACKED){var I=this.fragmentTracker.getBacktrackData(T);if(I)return this._handleFragmentLoadProgress(I),void this._handleFragmentLoadComplete(I);D=u.FragmentState.NOT_LOADED}D===u.FragmentState.NOT_LOADED||D===u.FragmentState.PARTIAL?T.sn==="initSegment"?this._loadInitSegment(T):this.bitrateTest?(T.bitrateTest=!0,this.log("Fragment "+T.sn+" of level "+T.level+" is being downloaded to test bitrate and will not be buffered"),this._loadBitrateTestFrag(T)):(this.startFragRequested=!0,p.prototype.loadFragment.call(this,T,O,A)):D===u.FragmentState.APPENDING?this.reduceMaxBufferLength(T.duration)&&this.fragmentTracker.removeFragment(T):((P=this.media)===null||P===void 0?void 0:P.buffered.length)===0&&this.fragmentTracker.removeAllFragments()},_.getAppendedFrag=function(T){var O=this.fragmentTracker.getAppendedFrag(T,s.PlaylistLevelType.MAIN);return O&&"fragment"in O?O.fragment:O},_.getBufferedFrag=function(T){return this.fragmentTracker.getBufferedFrag(T,s.PlaylistLevelType.MAIN)},_.followingBufferedFrag=function(T){return T?this.getBufferedFrag(T.end+.5):null},_.immediateLevelSwitch=function(){this.abortCurrentFrag(),this.flushMainBuffer(0,Number.POSITIVE_INFINITY)},_.nextLevelSwitch=function(){var T=this.levels,O=this.media;if(O!=null&&O.readyState){var A,P=this.getAppendedFrag(O.currentTime);if(P&&P.start>1&&this.flushMainBuffer(0,P.start-1),!O.paused&&T){var D=T[this.hls.nextLoadLevel],I=this.fragLastKbps;A=I&&this.fragCurrent?this.fragCurrent.duration*D.maxBitrate/(1e3*I)+1:0}else A=0;var x=this.getBufferedFrag(O.currentTime+A);if(x){var L=this.followingBufferedFrag(x);if(L){this.abortCurrentFrag();var $=L.maxStartPTS?L.maxStartPTS:L.start,M=L.duration,N=Math.max(x.end,$+Math.min(Math.max(M-this.config.maxFragLookUpTolerance,.5*M),.75*M));this.flushMainBuffer(N,Number.POSITIVE_INFINITY)}}}},_.abortCurrentFrag=function(){var T=this.fragCurrent;this.fragCurrent=null,T!=null&&T.loader&&T.loader.abort(),this.state===a.State.KEY_LOADING&&(this.state=a.State.IDLE),this.nextLoadPosition=this.getLoadPosition()},_.flushMainBuffer=function(T,O){p.prototype.flushMainBuffer.call(this,T,O,this.altAudio?"video":null)},_.onMediaAttached=function(T,O){p.prototype.onMediaAttached.call(this,T,O);var A=O.media;this.onvplaying=this.onMediaPlaying.bind(this),this.onvseeked=this.onMediaSeeked.bind(this),A.addEventListener("playing",this.onvplaying),A.addEventListener("seeked",this.onvseeked),this.gapController=new S.default(this.config,A,this.fragmentTracker,this.hls)},_.onMediaDetaching=function(){var T=this.media;T&&(T.removeEventListener("playing",this.onvplaying),T.removeEventListener("seeked",this.onvseeked),this.onvplaying=this.onvseeked=null,this.videoBuffer=null),this.fragPlaying=null,this.gapController&&(this.gapController.destroy(),this.gapController=null),p.prototype.onMediaDetaching.call(this)},_.onMediaPlaying=function(){this.tick()},_.onMediaSeeked=function(){var T=this.media,O=T?T.currentTime:null;Object(r.isFiniteNumber)(O)&&this.log("Media seeked to "+O.toFixed(3)),this.tick()},_.onManifestLoading=function(){this.log("Trigger BUFFER_RESET"),this.hls.trigger(o.Events.BUFFER_RESET,void 0),this.fragmentTracker.removeAllFragments(),this.couldBacktrack=this.stalled=!1,this.startPosition=this.lastCurrentTime=0,this.fragPlaying=null},_.onManifestParsed=function(T,O){var A,P=!1,D=!1;O.levels.forEach(function(I){(A=I.audioCodec)&&(A.indexOf("mp4a.40.2")!==-1&&(P=!0),A.indexOf("mp4a.40.5")!==-1&&(D=!0))}),this.audioCodecSwitch=P&&D&&!Object(i.changeTypeSupported)(),this.audioCodecSwitch&&this.log("Both AAC/HE-AAC audio found in levels; declaring level codec as HE-AAC"),this.levels=O.levels,this.startFragRequested=!1},_.onLevelLoading=function(T,O){var A=this.levels;if(A&&this.state===a.State.IDLE){var P=A[O.level];(!P.details||P.details.live&&this.levelLastLoaded!==O.level||this.waitForCdnTuneIn(P.details))&&(this.state=a.State.WAITING_LEVEL)}},_.onLevelLoaded=function(T,O){var A,P=this.levels,D=O.level,I=O.details,x=I.totalduration;if(P){this.log("Level "+D+" loaded ["+I.startSN+","+I.endSN+"], cc ["+I.startCC+", "+I.endCC+"] duration:"+x);var L=this.fragCurrent;!L||this.state!==a.State.FRAG_LOADING&&this.state!==a.State.FRAG_LOADING_WAITING_RETRY||L.level!==O.level&&L.loader&&(this.state=a.State.IDLE,L.loader.abort());var $=P[D],M=0;if(I.live||(A=$.details)!==null&&A!==void 0&&A.live){if(I.fragments[0]||(I.deltaUpdateFailed=!0),I.deltaUpdateFailed)return;M=this.alignPlaylists(I,$.details)}if($.details=I,this.levelLastLoaded=D,this.hls.trigger(o.Events.LEVEL_UPDATED,{details:I,level:D}),this.state===a.State.WAITING_LEVEL){if(this.waitForCdnTuneIn(I))return;this.state=a.State.IDLE}this.startFragRequested?I.live&&this.synchronizeToLiveEdge(I):this.setStartPosition(I,M),this.tick()}else this.warn("Levels were reset while loading level "+D)},_._handleFragmentLoadProgress=function(T){var O,A=T.frag,P=T.part,D=T.payload,I=this.levels;if(I){var x=I[A.level],L=x.details;if(L){var $=x.videoCodec,M=L.PTSKnown||!L.live,N=(O=A.initSegment)===null||O===void 0?void 0:O.data,F=this._getAudioCodec(x),U=this.transmuxer=this.transmuxer||new f.default(this.hls,s.PlaylistLevelType.MAIN,this._handleTransmuxComplete.bind(this),this._handleTransmuxerFlush.bind(this)),B=P?P.index:-1,K=B!==-1,V=new v.ChunkMetadata(A.level,A.sn,A.stats.chunkCount,D.byteLength,B,K),X=this.initPTS[A.cc];U.push(D,N,F,$,A,P,L.totalduration,M,V,X)}else this.warn("Dropping fragment "+A.sn+" of level "+A.level+" after level details were reset")}else this.warn("Levels were reset while fragment load was in progress. Fragment "+A.sn+" of level "+A.level+" will not be buffered")},_.onAudioTrackSwitching=function(T,O){var A=this.altAudio,P=!!O.url,D=O.id;if(!P){if(this.mediaBuffer!==this.media){this.log("Switching on main audio, use media.buffered to schedule main fragment loading"),this.mediaBuffer=this.media;var I=this.fragCurrent;I!=null&&I.loader&&(this.log("Switching to main audio track, cancel main fragment load"),I.loader.abort()),this.resetTransmuxer(),this.resetLoadingState()}else this.audioOnly&&this.resetTransmuxer();var x=this.hls;A&&x.trigger(o.Events.BUFFER_FLUSHING,{startOffset:0,endOffset:Number.POSITIVE_INFINITY,type:"audio"}),x.trigger(o.Events.AUDIO_TRACK_SWITCHED,{id:D})}},_.onAudioTrackSwitched=function(T,O){var A=O.id,P=!!this.hls.audioTracks[A].url;if(P){var D=this.videoBuffer;D&&this.mediaBuffer!==D&&(this.log("Switching on alternate audio, use video.buffered to schedule main fragment loading"),this.mediaBuffer=D)}this.altAudio=P,this.tick()},_.onBufferCreated=function(T,O){var A,P,D=O.tracks,I=!1;for(var x in D){var L=D[x];if(L.id==="main"){if(P=x,A=L,x==="video"){var $=D[x];$&&(this.videoBuffer=$.buffer)}}else I=!0}I&&A?(this.log("Alternate track found, use "+P+".buffered to schedule main fragment loading"),this.mediaBuffer=A.buffer):this.mediaBuffer=this.media},_.onFragBuffered=function(T,O){var A=O.frag,P=O.part;if(!A||A.type===s.PlaylistLevelType.MAIN){if(this.fragContextChanged(A))return this.warn("Fragment "+A.sn+(P?" p: "+P.index:"")+" of level "+A.level+" finished buffering, but was aborted. state: "+this.state),void(this.state===a.State.PARSED&&(this.state=a.State.IDLE));var D=P?P.stats:A.stats;this.fragLastKbps=Math.round(8*D.total/(D.buffering.end-D.loading.first)),A.sn!=="initSegment"&&(this.fragPrevious=A),this.fragBufferedComplete(A,P)}},_.onError=function(T,O){switch(O.details){case E.ErrorDetails.FRAG_LOAD_ERROR:case E.ErrorDetails.FRAG_LOAD_TIMEOUT:case E.ErrorDetails.KEY_LOAD_ERROR:case E.ErrorDetails.KEY_LOAD_TIMEOUT:this.onFragmentOrKeyLoadError(s.PlaylistLevelType.MAIN,O);break;case E.ErrorDetails.LEVEL_LOAD_ERROR:case E.ErrorDetails.LEVEL_LOAD_TIMEOUT:this.state!==a.State.ERROR&&(O.fatal?(this.warn(""+O.details),this.state=a.State.ERROR):O.levelRetry||this.state!==a.State.WAITING_LEVEL||(this.state=a.State.IDLE));break;case E.ErrorDetails.BUFFER_FULL_ERROR:if(O.parent==="main"&&(this.state===a.State.PARSING||this.state===a.State.PARSED)){var A=!0,P=this.getFwdBufferInfo(this.media,s.PlaylistLevelType.MAIN);P&&P.len>.5&&(A=!this.reduceMaxBufferLength(P.len)),A&&(this.warn("buffer full error also media.currentTime is not buffered, flush main"),this.immediateLevelSwitch()),this.resetLoadingState()}}},_.checkBuffer=function(){var T=this.media,O=this.gapController;if(T&&O&&T.readyState){var A=l.BufferHelper.getBuffered(T);!this.loadedmetadata&&A.length?(this.loadedmetadata=!0,this.seekToStartPos()):O.poll(this.lastCurrentTime),this.lastCurrentTime=T.currentTime}},_.onFragLoadEmergencyAborted=function(){this.state=a.State.IDLE,this.loadedmetadata||(this.startFragRequested=!1,this.nextLoadPosition=this.startPosition),this.tickImmediate()},_.onBufferFlushed=function(T,O){var A=O.type;if(A!==c.ElementaryStreamTypes.AUDIO||this.audioOnly&&!this.altAudio){var P=(A===c.ElementaryStreamTypes.VIDEO?this.videoBuffer:this.mediaBuffer)||this.media;this.afterBufferFlushed(P,A,s.PlaylistLevelType.MAIN)}},_.onLevelsUpdated=function(T,O){this.levels=O.levels},_.swapAudioCodec=function(){this.audioCodecSwap=!this.audioCodecSwap},_.seekToStartPos=function(){var T=this.media,O=T.currentTime,A=this.startPosition;if(A>=0&&O<A){if(T.seeking)return void m.logger.log("could not seek to "+A+", already seeking at "+O);var P=l.BufferHelper.getBuffered(T),D=(P.length?P.start(0):0)-A;D>0&&D<this.config.maxBufferHole&&(m.logger.log("adjusting start position by "+D+" to match buffer start"),A+=D,this.startPosition=A),this.log("seek to target start position "+A+" from current time "+O),T.currentTime=A}},_._getAudioCodec=function(T){var O=this.config.defaultAudioCodec||T.audioCodec;return this.audioCodecSwap&&O&&(this.log("Swapping audio codec"),O=O.indexOf("mp4a.40.5")!==-1?"mp4a.40.2":"mp4a.40.5"),O},_._loadBitrateTestFrag=function(T){var O=this;this._doFragLoad(T).then(function(A){var P=O.hls;if(A&&!P.nextLoadLevel&&!O.fragContextChanged(T)){O.fragLoadError=0,O.state=a.State.IDLE,O.startFragRequested=!1,O.bitrateTest=!1;var D=T.stats;D.parsing.start=D.parsing.end=D.buffering.start=D.buffering.end=self.performance.now(),P.trigger(o.Events.FRAG_LOADED,A)}})},_._handleTransmuxComplete=function(T){var O,A="main",P=this.hls,D=T.remuxResult,I=T.chunkMeta,x=this.getCurrentContext(I);if(!x)return this.warn("The loading context changed while buffering fragment "+I.sn+" of level "+I.level+". This chunk will not be buffered."),void this.resetLiveStartWhenNotLoaded(I.level);var L=x.frag,$=x.part,M=x.level,N=D.video,F=D.text,U=D.id3,B=D.initSegment,K=this.altAudio?void 0:D.audio;if(!this.fragContextChanged(L)){if(this.state=a.State.PARSING,B){B.tracks&&(this._bufferInitSegment(M,B.tracks,L,I),P.trigger(o.Events.FRAG_PARSING_INIT_SEGMENT,{frag:L,id:A,tracks:B.tracks}));var V=B.initPTS,X=B.timescale;Object(r.isFiniteNumber)(V)&&(this.initPTS[L.cc]=V,P.trigger(o.Events.INIT_PTS_FOUND,{frag:L,id:A,initPTS:V,timescale:X}))}if(N&&D.independent!==!1){if(M.details){var Z=N.startPTS,ne=N.endPTS,ae=N.startDTS,ye=N.endDTS;if($)$.elementaryStreams[N.type]={startPTS:Z,endPTS:ne,startDTS:ae,endDTS:ye};else if(N.firstKeyFrame&&N.independent&&(this.couldBacktrack=!0),N.dropped&&N.independent){if(this.getLoadPosition()+this.config.maxBufferHole<Z)return void this.backtrack(L);L.setElementaryStreamInfo(N.type,L.start,ne,L.start,ye,!0)}L.setElementaryStreamInfo(N.type,Z,ne,ae,ye),this.bufferFragmentData(N,L,$,I)}}else if(D.independent===!1)return void this.backtrack(L);if(K){var de=K.startPTS,be=K.endPTS,G=K.startDTS,Y=K.endDTS;$&&($.elementaryStreams[c.ElementaryStreamTypes.AUDIO]={startPTS:de,endPTS:be,startDTS:G,endDTS:Y}),L.setElementaryStreamInfo(c.ElementaryStreamTypes.AUDIO,de,be,G,Y),this.bufferFragmentData(K,L,$,I)}if(U!=null&&(O=U.samples)!==null&&O!==void 0&&O.length){var Q={frag:L,id:A,samples:U.samples};P.trigger(o.Events.FRAG_PARSING_METADATA,Q)}if(F){var re={frag:L,id:A,samples:F.samples};P.trigger(o.Events.FRAG_PARSING_USERDATA,re)}}},_._bufferInitSegment=function(T,O,A,P){var D=this;if(this.state===a.State.PARSING){this.audioOnly=!!O.audio&&!O.video,this.altAudio&&!this.audioOnly&&delete O.audio;var I=O.audio,x=O.video,L=O.audiovideo;if(I){var $=T.audioCodec,M=navigator.userAgent.toLowerCase();this.audioCodecSwitch&&($&&($=$.indexOf("mp4a.40.5")!==-1?"mp4a.40.2":"mp4a.40.5"),I.metadata.channelCount!==1&&M.indexOf("firefox")===-1&&($="mp4a.40.5")),M.indexOf("android")!==-1&&I.container!=="audio/mpeg"&&($="mp4a.40.2",this.log("Android: force audio codec to "+$)),T.audioCodec&&T.audioCodec!==$&&this.log('Swapping manifest audio codec "'+T.audioCodec+'" for "'+$+'"'),I.levelCodec=$,I.id="main",this.log("Init audio buffer, container:"+I.container+", codecs[selected/level/parsed]=["+($||"")+"/"+(T.audioCodec||"")+"/"+I.codec+"]")}x&&(x.levelCodec=T.videoCodec,x.id="main",this.log("Init video buffer, container:"+x.container+", codecs[level/parsed]=["+(T.videoCodec||"")+"/"+x.codec+"]")),L&&this.log("Init audiovideo buffer, container:"+L.container+", codecs[level/parsed]=["+(T.attrs.CODECS||"")+"/"+L.codec+"]"),this.hls.trigger(o.Events.BUFFER_CODECS,O),Object.keys(O).forEach(function(N){var F=O[N].initSegment;F!=null&&F.byteLength&&D.hls.trigger(o.Events.BUFFER_APPENDING,{type:N,data:F,frag:A,part:null,chunkMeta:P,parent:A.type})}),this.tick()}},_.backtrack=function(T){this.couldBacktrack=!0,this.resetTransmuxer(),this.flushBufferGap(T);var O=this.fragmentTracker.backtrack(T);this.fragPrevious=null,this.nextLoadPosition=T.start,O?this.resetFragmentLoading(T):this.state=a.State.BACKTRACKING},_.checkFragmentChanged=function(){var T=this.media,O=null;if(T&&T.readyState>1&&T.seeking===!1){var A=T.currentTime;if(l.BufferHelper.isBuffered(T,A)?O=this.getAppendedFrag(A):l.BufferHelper.isBuffered(T,A+.1)&&(O=this.getAppendedFrag(A+.1)),O){var P=this.fragPlaying,D=O.level;P&&O.sn===P.sn&&P.level===D&&O.urlId===P.urlId||(this.hls.trigger(o.Events.FRAG_CHANGED,{frag:O}),P&&P.level===D||this.hls.trigger(o.Events.LEVEL_SWITCHED,{level:D}),this.fragPlaying=O)}}},w=C,(k=[{key:"nextLevel",get:function(){var T=this.nextBufferedFrag;return T?T.level:-1}},{key:"currentLevel",get:function(){var T=this.media;if(T){var O=this.getAppendedFrag(T.currentTime);if(O)return O.level}return-1}},{key:"nextBufferedFrag",get:function(){var T=this.media;if(T){var O=this.getAppendedFrag(T.currentTime);return this.followingBufferedFrag(O)}return null}},{key:"forceStartLoad",get:function(){return this._forceStartLoad}}])&&d(w.prototype,k),C}(a.default)},"./src/controller/subtitle-stream-controller.ts":function(e,t,n){n.r(t),n.d(t,"SubtitleStreamController",function(){return m});var r=n("./src/events.ts"),a=n("./src/utils/logger.ts"),i=n("./src/utils/buffer-helper.ts"),o=n("./src/controller/fragment-finders.ts"),l=n("./src/utils/discontinuities.ts"),u=n("./src/controller/level-helper.ts"),s=n("./src/controller/fragment-tracker.ts"),c=n("./src/controller/base-stream-controller.ts"),f=n("./src/types/loader.ts"),v=n("./src/types/level.ts");function S(d,g){for(var h=0;h<g.length;h++){var p=g[h];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(d,p.key,p)}}function E(d,g){return(E=Object.setPrototypeOf||function(h,p){return h.__proto__=p,h})(d,g)}var m=function(d){var g,h;function p(w,k){var _;return(_=d.call(this,w,k,"[subtitle-stream-controller]")||this).levels=[],_.currentTrackId=-1,_.tracksBuffered=[],_.mainDetails=null,_._registerListeners(),_}h=d,(g=p).prototype=Object.create(h.prototype),g.prototype.constructor=g,E(g,h);var b,y,C=p.prototype;return C.onHandlerDestroying=function(){this._unregisterListeners(),this.mainDetails=null},C._registerListeners=function(){var w=this.hls;w.on(r.Events.MEDIA_ATTACHED,this.onMediaAttached,this),w.on(r.Events.MEDIA_DETACHING,this.onMediaDetaching,this),w.on(r.Events.MANIFEST_LOADING,this.onManifestLoading,this),w.on(r.Events.LEVEL_LOADED,this.onLevelLoaded,this),w.on(r.Events.ERROR,this.onError,this),w.on(r.Events.SUBTITLE_TRACKS_UPDATED,this.onSubtitleTracksUpdated,this),w.on(r.Events.SUBTITLE_TRACK_SWITCH,this.onSubtitleTrackSwitch,this),w.on(r.Events.SUBTITLE_TRACK_LOADED,this.onSubtitleTrackLoaded,this),w.on(r.Events.SUBTITLE_FRAG_PROCESSED,this.onSubtitleFragProcessed,this),w.on(r.Events.BUFFER_FLUSHING,this.onBufferFlushing,this)},C._unregisterListeners=function(){var w=this.hls;w.off(r.Events.MEDIA_ATTACHED,this.onMediaAttached,this),w.off(r.Events.MEDIA_DETACHING,this.onMediaDetaching,this),w.off(r.Events.MANIFEST_LOADING,this.onManifestLoading,this),w.off(r.Events.LEVEL_LOADED,this.onLevelLoaded,this),w.off(r.Events.ERROR,this.onError,this),w.off(r.Events.SUBTITLE_TRACKS_UPDATED,this.onSubtitleTracksUpdated,this),w.off(r.Events.SUBTITLE_TRACK_SWITCH,this.onSubtitleTrackSwitch,this),w.off(r.Events.SUBTITLE_TRACK_LOADED,this.onSubtitleTrackLoaded,this),w.off(r.Events.SUBTITLE_FRAG_PROCESSED,this.onSubtitleFragProcessed,this),w.off(r.Events.BUFFER_FLUSHING,this.onBufferFlushing,this)},C.startLoad=function(){this.stopLoad(),this.state=c.State.IDLE,this.setInterval(500),this.tick()},C.onManifestLoading=function(){this.mainDetails=null,this.fragmentTracker.removeAllFragments()},C.onLevelLoaded=function(w,k){this.mainDetails=k.details},C.onSubtitleFragProcessed=function(w,k){var _=k.frag,T=k.success;if(this.fragPrevious=_,this.state=c.State.IDLE,T){var O=this.tracksBuffered[this.currentTrackId];if(O){for(var A,P=_.start,D=0;D<O.length;D++)if(P>=O[D].start&&P<=O[D].end){A=O[D];break}var I=_.start+_.duration;A?A.end=I:(A={start:P,end:I},O.push(A)),this.fragmentTracker.fragBuffered(_)}}},C.onBufferFlushing=function(w,k){var _=k.startOffset,T=k.endOffset;if(_===0&&T!==Number.POSITIVE_INFINITY){var O=this.currentTrackId,A=this.levels;if(!A.length||!A[O]||!A[O].details)return;var P=T-A[O].details.targetduration;if(P<=0)return;k.endOffsetSubtitles=Math.max(0,P),this.tracksBuffered.forEach(function(D){for(var I=0;I<D.length;)if(D[I].end<=P)D.shift();else{if(!(D[I].start<P))break;D[I].start=P,I++}}),this.fragmentTracker.removeFragmentsInRange(_,P,f.PlaylistLevelType.SUBTITLE)}},C.onError=function(w,k){var _,T=k.frag;T&&T.type===f.PlaylistLevelType.SUBTITLE&&((_=this.fragCurrent)!==null&&_!==void 0&&_.loader&&this.fragCurrent.loader.abort(),this.state=c.State.IDLE)},C.onSubtitleTracksUpdated=function(w,k){var _=this,T=k.subtitleTracks;this.tracksBuffered=[],this.levels=T.map(function(O){return new v.Level(O)}),this.fragmentTracker.removeAllFragments(),this.fragPrevious=null,this.levels.forEach(function(O){_.tracksBuffered[O.id]=[]}),this.mediaBuffer=null},C.onSubtitleTrackSwitch=function(w,k){if(this.currentTrackId=k.id,this.levels.length&&this.currentTrackId!==-1){var _=this.levels[this.currentTrackId];_!=null&&_.details?(this.mediaBuffer=this.mediaBufferTimeRanges,this.setInterval(500)):this.mediaBuffer=null}else this.clearInterval()},C.onSubtitleTrackLoaded=function(w,k){var _,T=k.details,O=k.id,A=this.currentTrackId,P=this.levels;if(P.length){var D=P[A];if(!(O>=P.length||O!==A)&&D){if(this.mediaBuffer=this.mediaBufferTimeRanges,T.live||(_=D.details)!==null&&_!==void 0&&_.live){var I=this.mainDetails;if(T.deltaUpdateFailed||!I)return;var x=I.fragments[0];D.details?this.alignPlaylists(T,D.details)===0&&x&&Object(u.addSliding)(T,x.start):T.hasProgramDateTime&&I.hasProgramDateTime?Object(l.alignPDT)(T,I):x&&Object(u.addSliding)(T,x.start)}D.details=T,this.levelLastLoaded=O,this.tick(),T.live&&!this.fragCurrent&&this.media&&this.state===c.State.IDLE&&(Object(o.findFragmentByPTS)(null,T.fragments,this.media.currentTime,0)||(this.warn("Subtitle playlist not aligned with playback"),D.details=void 0))}}},C._handleFragmentLoadComplete=function(w){var k=w.frag,_=w.payload,T=k.decryptdata,O=this.hls;if(!this.fragContextChanged(k)&&_&&_.byteLength>0&&T&&T.key&&T.iv&&T.method==="AES-128"){var A=performance.now();this.decrypter.webCryptoDecrypt(new Uint8Array(_),T.key.buffer,T.iv.buffer).then(function(P){var D=performance.now();O.trigger(r.Events.FRAG_DECRYPTED,{frag:k,payload:P,stats:{tstart:A,tdecrypt:D}})})}},C.doTick=function(){if(this.media){if(this.state===c.State.IDLE){var w,k=this.currentTrackId,_=this.levels;if(!_.length||!_[k]||!_[k].details)return;var T=_[k].details,O=T.targetduration,A=this.config,P=this.media,D=i.BufferHelper.bufferedInfo(this.mediaBufferTimeRanges,P.currentTime-O,A.maxBufferHole),I=D.end;if(D.len>this.getMaxBufferLength()+O)return;console.assert(T,"Subtitle track details are defined on idle subtitle stream controller tick");var x,L=T.fragments,$=L.length,M=T.edge,N=this.fragPrevious;if(I<M){var F=A.maxFragLookUpTolerance;N&&T.hasProgramDateTime&&(x=Object(o.findFragmentByPDT)(L,N.endProgramDateTime,F)),x||!(x=Object(o.findFragmentByPTS)(N,L,I,F))&&N&&N.start<L[0].start&&(x=L[0])}else x=L[$-1];(w=x)!==null&&w!==void 0&&w.encrypted?(a.logger.log("Loading key for "+x.sn),this.state=c.State.KEY_LOADING,this.hls.trigger(r.Events.KEY_LOADING,{frag:x})):x&&this.fragmentTracker.getState(x)===s.FragmentState.NOT_LOADED&&this.loadFragment(x,T,I)}}else this.state=c.State.IDLE},C.loadFragment=function(w,k,_){this.fragCurrent=w,d.prototype.loadFragment.call(this,w,k,_)},b=p,(y=[{key:"mediaBufferTimeRanges",get:function(){return this.tracksBuffered[this.currentTrackId]||[]}}])&&S(b.prototype,y),p}(c.default)},"./src/controller/subtitle-track-controller.ts":function(e,t,n){n.r(t);var r=n("./src/events.ts"),a=n("./src/utils/texttrack-utils.ts"),i=n("./src/controller/base-playlist-controller.ts"),o=n("./src/types/loader.ts");function l(f,v){for(var S=0;S<v.length;S++){var E=v[S];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(f,E.key,E)}}function u(f,v){return(u=Object.setPrototypeOf||function(S,E){return S.__proto__=E,S})(f,v)}var s=function(f){var v,S;function E(h){var p;return(p=f.call(this,h,"[subtitle-track-controller]")||this).media=null,p.tracks=[],p.groupId=null,p.tracksInGroup=[],p.trackId=-1,p.selectDefaultTrack=!0,p.queuedDefaultTrack=-1,p.trackChangeListener=function(){return p.onTextTracksChanged()},p.asyncPollTrackChange=function(){return p.pollTrackChange(0)},p.useTextTrackPolling=!1,p.subtitlePollingInterval=-1,p.subtitleDisplay=!0,p.registerListeners(),p}S=f,(v=E).prototype=Object.create(S.prototype),v.prototype.constructor=v,u(v,S);var m,d,g=E.prototype;return g.destroy=function(){this.unregisterListeners(),this.tracks.length=0,this.tracksInGroup.length=0,this.trackChangeListener=this.asyncPollTrackChange=null,f.prototype.destroy.call(this)},g.registerListeners=function(){var h=this.hls;h.on(r.Events.MEDIA_ATTACHED,this.onMediaAttached,this),h.on(r.Events.MEDIA_DETACHING,this.onMediaDetaching,this),h.on(r.Events.MANIFEST_LOADING,this.onManifestLoading,this),h.on(r.Events.MANIFEST_PARSED,this.onManifestParsed,this),h.on(r.Events.LEVEL_LOADING,this.onLevelLoading,this),h.on(r.Events.LEVEL_SWITCHING,this.onLevelSwitching,this),h.on(r.Events.SUBTITLE_TRACK_LOADED,this.onSubtitleTrackLoaded,this),h.on(r.Events.ERROR,this.onError,this)},g.unregisterListeners=function(){var h=this.hls;h.off(r.Events.MEDIA_ATTACHED,this.onMediaAttached,this),h.off(r.Events.MEDIA_DETACHING,this.onMediaDetaching,this),h.off(r.Events.MANIFEST_LOADING,this.onManifestLoading,this),h.off(r.Events.MANIFEST_PARSED,this.onManifestParsed,this),h.off(r.Events.LEVEL_LOADING,this.onLevelLoading,this),h.off(r.Events.LEVEL_SWITCHING,this.onLevelSwitching,this),h.off(r.Events.SUBTITLE_TRACK_LOADED,this.onSubtitleTrackLoaded,this),h.off(r.Events.ERROR,this.onError,this)},g.onMediaAttached=function(h,p){this.media=p.media,this.media&&(this.queuedDefaultTrack>-1&&(this.subtitleTrack=this.queuedDefaultTrack,this.queuedDefaultTrack=-1),this.useTextTrackPolling=!(this.media.textTracks&&"onchange"in this.media.textTracks),this.useTextTrackPolling?this.pollTrackChange(500):this.media.textTracks.addEventListener("change",this.asyncPollTrackChange))},g.pollTrackChange=function(h){self.clearInterval(this.subtitlePollingInterval),this.subtitlePollingInterval=self.setInterval(this.trackChangeListener,h)},g.onMediaDetaching=function(){this.media&&(self.clearInterval(this.subtitlePollingInterval),this.useTextTrackPolling||this.media.textTracks.removeEventListener("change",this.asyncPollTrackChange),this.trackId>-1&&(this.queuedDefaultTrack=this.trackId),c(this.media.textTracks).forEach(function(h){Object(a.clearCurrentCues)(h)}),this.subtitleTrack=-1,this.media=null)},g.onManifestLoading=function(){this.tracks=[],this.groupId=null,this.tracksInGroup=[],this.trackId=-1,this.selectDefaultTrack=!0},g.onManifestParsed=function(h,p){this.tracks=p.subtitleTracks},g.onSubtitleTrackLoaded=function(h,p){var b=p.id,y=p.details,C=this.trackId,w=this.tracksInGroup[C];if(w){var k=w.details;w.details=p.details,this.log("subtitle track "+b+" loaded ["+y.startSN+"-"+y.endSN+"]"),b===this.trackId&&(this.retryCount=0,this.playlistLoaded(b,p,k))}else this.warn("Invalid subtitle track id "+b)},g.onLevelLoading=function(h,p){this.switchLevel(p.level)},g.onLevelSwitching=function(h,p){this.switchLevel(p.level)},g.switchLevel=function(h){var p=this.hls.levels[h];if(p!=null&&p.textGroupIds){var b=p.textGroupIds[p.urlId];if(this.groupId!==b){var y=this.tracksInGroup?this.tracksInGroup[this.trackId]:void 0,C=this.tracks.filter(function(_){return!b||_.groupId===b});this.tracksInGroup=C;var w=this.findTrackId(y==null?void 0:y.name)||this.findTrackId();this.groupId=b;var k={subtitleTracks:C};this.log("Updating subtitle tracks, "+C.length+' track(s) found in "'+b+'" group-id'),this.hls.trigger(r.Events.SUBTITLE_TRACKS_UPDATED,k),w!==-1&&this.setSubtitleTrack(w,y)}}},g.findTrackId=function(h){for(var p=this.tracksInGroup,b=0;b<p.length;b++){var y=p[b];if((!this.selectDefaultTrack||y.default)&&(!h||h===y.name))return y.id}return-1},g.onError=function(h,p){f.prototype.onError.call(this,h,p),!p.fatal&&p.context&&p.context.type===o.PlaylistContextType.SUBTITLE_TRACK&&p.context.id===this.trackId&&p.context.groupId===this.groupId&&this.retryLoadingOrFail(p)},g.loadPlaylist=function(h){var p=this.tracksInGroup[this.trackId];if(this.shouldLoadTrack(p)){var b=p.id,y=p.groupId,C=p.url;if(h)try{C=h.addDirectives(C)}catch(w){this.warn("Could not construct new URL with HLS Delivery Directives: "+w)}this.log("Loading subtitle playlist for id "+b),this.hls.trigger(r.Events.SUBTITLE_TRACK_LOADING,{url:C,id:b,groupId:y,deliveryDirectives:h||null})}},g.toggleTrackModes=function(h){var p=this,b=this.media,y=this.subtitleDisplay,C=this.trackId;if(b){var w=c(b.textTracks),k=w.filter(function(O){return O.groupId===p.groupId});if(h===-1)[].slice.call(w).forEach(function(O){O.mode="disabled"});else{var _=k[C];_&&(_.mode="disabled")}var T=k[h];T&&(T.mode=y?"showing":"hidden")}},g.setSubtitleTrack=function(h,p){var b,y=this.tracksInGroup;if(this.media){if(this.trackId!==h&&this.toggleTrackModes(h),!(this.trackId===h&&(h===-1||(b=y[h])!==null&&b!==void 0&&b.details)||h<-1||h>=y.length)){this.clearTimer();var C=y[h];if(this.log("Switching to subtitle track "+h),this.trackId=h,C){var w=C.id,k=C.groupId,_=k===void 0?"":k,T=C.name,O=C.type,A=C.url;this.hls.trigger(r.Events.SUBTITLE_TRACK_SWITCH,{id:w,groupId:_,name:T,type:O,url:A});var P=this.switchParams(C.url,p==null?void 0:p.details);this.loadPlaylist(P)}else this.hls.trigger(r.Events.SUBTITLE_TRACK_SWITCH,{id:h})}}else this.queuedDefaultTrack=h},g.onTextTracksChanged=function(){if(this.useTextTrackPolling||self.clearInterval(this.subtitlePollingInterval),this.media&&this.hls.config.renderTextTracksNatively){for(var h=-1,p=c(this.media.textTracks),b=0;b<p.length;b++)if(p[b].mode==="hidden")h=b;else if(p[b].mode==="showing"){h=b;break}this.subtitleTrack!==h&&(this.subtitleTrack=h)}},m=E,(d=[{key:"subtitleTracks",get:function(){return this.tracksInGroup}},{key:"subtitleTrack",get:function(){return this.trackId},set:function(h){this.selectDefaultTrack=!1;var p=this.tracksInGroup?this.tracksInGroup[this.trackId]:void 0;this.setSubtitleTrack(h,p)}}])&&l(m.prototype,d),E}(i.default);function c(f){for(var v=[],S=0;S<f.length;S++){var E=f[S];E.kind==="subtitles"&&E.label&&v.push(f[S])}return v}t.default=s},"./src/controller/timeline-controller.ts":function(e,t,n){n.r(t),n.d(t,"TimelineController",function(){return v});var r=n("./src/polyfills/number.ts"),a=n("./src/events.ts"),i=n("./src/utils/cea-608-parser.ts"),o=n("./src/utils/output-filter.ts"),l=n("./src/utils/webvtt-parser.ts"),u=n("./src/utils/texttrack-utils.ts"),s=n("./src/utils/imsc1-ttml-parser.ts"),c=n("./src/types/loader.ts"),f=n("./src/utils/logger.ts"),v=function(){function E(d){if(this.hls=void 0,this.media=null,this.config=void 0,this.enabled=!0,this.Cues=void 0,this.textTracks=[],this.tracks=[],this.initPTS=[],this.timescale=[],this.unparsedVttFrags=[],this.captionsTracks={},this.nonNativeCaptionsTracks={},this.cea608Parser1=void 0,this.cea608Parser2=void 0,this.lastSn=-1,this.prevCC=-1,this.vttCCs={ccOffset:0,presentationOffset:0,0:{start:0,prevCC:-1,new:!1}},this.captionsProperties=void 0,this.hls=d,this.config=d.config,this.Cues=d.config.cueHandler,this.captionsProperties={textTrack1:{label:this.config.captionsTextTrack1Label,languageCode:this.config.captionsTextTrack1LanguageCode},textTrack2:{label:this.config.captionsTextTrack2Label,languageCode:this.config.captionsTextTrack2LanguageCode},textTrack3:{label:this.config.captionsTextTrack3Label,languageCode:this.config.captionsTextTrack3LanguageCode},textTrack4:{label:this.config.captionsTextTrack4Label,languageCode:this.config.captionsTextTrack4LanguageCode}},this.config.enableCEA708Captions){var g=new o.default(this,"textTrack1"),h=new o.default(this,"textTrack2"),p=new o.default(this,"textTrack3"),b=new o.default(this,"textTrack4");this.cea608Parser1=new i.default(1,g,h),this.cea608Parser2=new i.default(3,p,b)}d.on(a.Events.MEDIA_ATTACHING,this.onMediaAttaching,this),d.on(a.Events.MEDIA_DETACHING,this.onMediaDetaching,this),d.on(a.Events.MANIFEST_LOADING,this.onManifestLoading,this),d.on(a.Events.MANIFEST_LOADED,this.onManifestLoaded,this),d.on(a.Events.SUBTITLE_TRACKS_UPDATED,this.onSubtitleTracksUpdated,this),d.on(a.Events.FRAG_LOADING,this.onFragLoading,this),d.on(a.Events.FRAG_LOADED,this.onFragLoaded,this),d.on(a.Events.FRAG_PARSING_USERDATA,this.onFragParsingUserdata,this),d.on(a.Events.FRAG_DECRYPTED,this.onFragDecrypted,this),d.on(a.Events.INIT_PTS_FOUND,this.onInitPtsFound,this),d.on(a.Events.SUBTITLE_TRACKS_CLEARED,this.onSubtitleTracksCleared,this),d.on(a.Events.BUFFER_FLUSHING,this.onBufferFlushing,this)}var m=E.prototype;return m.destroy=function(){var d=this.hls;d.off(a.Events.MEDIA_ATTACHING,this.onMediaAttaching,this),d.off(a.Events.MEDIA_DETACHING,this.onMediaDetaching,this),d.off(a.Events.MANIFEST_LOADING,this.onManifestLoading,this),d.off(a.Events.MANIFEST_LOADED,this.onManifestLoaded,this),d.off(a.Events.SUBTITLE_TRACKS_UPDATED,this.onSubtitleTracksUpdated,this),d.off(a.Events.FRAG_LOADING,this.onFragLoading,this),d.off(a.Events.FRAG_LOADED,this.onFragLoaded,this),d.off(a.Events.FRAG_PARSING_USERDATA,this.onFragParsingUserdata,this),d.off(a.Events.FRAG_DECRYPTED,this.onFragDecrypted,this),d.off(a.Events.INIT_PTS_FOUND,this.onInitPtsFound,this),d.off(a.Events.SUBTITLE_TRACKS_CLEARED,this.onSubtitleTracksCleared,this),d.off(a.Events.BUFFER_FLUSHING,this.onBufferFlushing,this),this.hls=this.config=this.cea608Parser1=this.cea608Parser2=null},m.addCues=function(d,g,h,p,b){for(var y,C,w,k,_=!1,T=b.length;T--;){var O=b[T],A=(y=O[0],C=O[1],w=g,k=h,Math.min(C,k)-Math.max(y,w));if(A>=0&&(O[0]=Math.min(O[0],g),O[1]=Math.max(O[1],h),_=!0,A/(h-g)>.5))return}if(_||b.push([g,h]),this.config.renderTextTracksNatively){var P=this.captionsTracks[d];this.Cues.newCue(P,g,h,p)}else{var D=this.Cues.newCue(null,g,h,p);this.hls.trigger(a.Events.CUES_PARSED,{type:"captions",cues:D,track:d})}},m.onInitPtsFound=function(d,g){var h=this,p=g.frag,b=g.id,y=g.initPTS,C=g.timescale,w=this.unparsedVttFrags;b==="main"&&(this.initPTS[p.cc]=y,this.timescale[p.cc]=C),w.length&&(this.unparsedVttFrags=[],w.forEach(function(k){h.onFragLoaded(a.Events.FRAG_LOADED,k)}))},m.getExistingTrack=function(d){var g=this.media;if(g)for(var h=0;h<g.textTracks.length;h++){var p=g.textTracks[h];if(p[d])return p}return null},m.createCaptionsTrack=function(d){this.config.renderTextTracksNatively?this.createNativeTrack(d):this.createNonNativeTrack(d)},m.createNativeTrack=function(d){if(!this.captionsTracks[d]){var g=this.captionsProperties,h=this.captionsTracks,p=this.media,b=g[d],y=b.label,C=b.languageCode,w=this.getExistingTrack(d);if(w)h[d]=w,Object(u.clearCurrentCues)(h[d]),Object(u.sendAddTrackEvent)(h[d],p);else{var k=this.createTextTrack("captions",y,C);k&&(k[d]=!0,h[d]=k)}}},m.createNonNativeTrack=function(d){if(!this.nonNativeCaptionsTracks[d]){var g=this.captionsProperties[d];if(g){var h={_id:d,label:g.label,kind:"captions",default:!!g.media&&!!g.media.default,closedCaptions:g.media};this.nonNativeCaptionsTracks[d]=h,this.hls.trigger(a.Events.NON_NATIVE_TEXT_TRACKS_FOUND,{tracks:[h]})}}},m.createTextTrack=function(d,g,h){var p=this.media;if(p)return p.addTextTrack(d,g,h)},m.onMediaAttaching=function(d,g){this.media=g.media,this._cleanTracks()},m.onMediaDetaching=function(){var d=this.captionsTracks;Object.keys(d).forEach(function(g){Object(u.clearCurrentCues)(d[g]),delete d[g]}),this.nonNativeCaptionsTracks={}},m.onManifestLoading=function(){this.lastSn=-1,this.prevCC=-1,this.vttCCs={ccOffset:0,presentationOffset:0,0:{start:0,prevCC:-1,new:!1}},this._cleanTracks(),this.tracks=[],this.captionsTracks={},this.nonNativeCaptionsTracks={},this.textTracks=[],this.unparsedVttFrags=this.unparsedVttFrags||[],this.initPTS=[],this.timescale=[],this.cea608Parser1&&this.cea608Parser2&&(this.cea608Parser1.reset(),this.cea608Parser2.reset())},m._cleanTracks=function(){var d=this.media;if(d){var g=d.textTracks;if(g)for(var h=0;h<g.length;h++)Object(u.clearCurrentCues)(g[h])}},m.onSubtitleTracksUpdated=function(d,g){var h=this;this.textTracks=[];var p=g.subtitleTracks||[],b=p.some(function(k){return k.textCodec===s.IMSC1_CODEC});if(this.config.enableWebVTT||b&&this.config.enableIMSC1){var y=this.tracks&&p&&this.tracks.length===p.length;if(this.tracks=p||[],this.config.renderTextTracksNatively){var C=this.media?this.media.textTracks:[];this.tracks.forEach(function(k,_){var T;if(_<C.length){for(var O=null,A=0;A<C.length;A++)if(S(C[A],k)){O=C[A];break}O&&(T=O)}T?Object(u.clearCurrentCues)(T):(T=h.createTextTrack("subtitles",k.name,k.lang))&&(T.mode="disabled"),T&&(T.groupId=k.groupId,h.textTracks.push(T))})}else if(!y&&this.tracks&&this.tracks.length){var w=this.tracks.map(function(k){return{label:k.name,kind:k.type.toLowerCase(),default:k.default,subtitleTrack:k}});this.hls.trigger(a.Events.NON_NATIVE_TEXT_TRACKS_FOUND,{tracks:w})}}},m.onManifestLoaded=function(d,g){var h=this;this.config.enableCEA708Captions&&g.captions&&g.captions.forEach(function(p){var b=/(?:CC|SERVICE)([1-4])/.exec(p.instreamId);if(b){var y="textTrack"+b[1],C=h.captionsProperties[y];C&&(C.label=p.name,p.lang&&(C.languageCode=p.lang),C.media=p)}})},m.onFragLoading=function(d,g){var h=this.cea608Parser1,p=this.cea608Parser2,b=this.lastSn;if(this.enabled&&h&&p&&g.frag.type===c.PlaylistLevelType.MAIN){var y=g.frag.sn;y!==b+1&&(h.reset(),p.reset()),this.lastSn=y}},m.onFragLoaded=function(d,g){var h=g.frag,p=g.payload,b=this.initPTS,y=this.unparsedVttFrags;if(h.type===c.PlaylistLevelType.SUBTITLE)if(p.byteLength){if(!Object(r.isFiniteNumber)(b[h.cc]))return y.push(g),void(b.length&&this.hls.trigger(a.Events.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:h,error:new Error("Missing initial subtitle PTS")}));var C=h.decryptdata;if(C==null||C.key==null||C.method!=="AES-128"){var w=this.tracks[h.level],k=this.vttCCs;k[h.cc]||(k[h.cc]={start:h.start,prevCC:this.prevCC,new:!0},this.prevCC=h.cc),w&&w.textCodec===s.IMSC1_CODEC?this._parseIMSC1(h,p):this._parseVTTs(h,p,k)}}else this.hls.trigger(a.Events.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:h,error:new Error("Empty subtitle payload")})},m._parseIMSC1=function(d,g){var h=this,p=this.hls;Object(s.parseIMSC1)(g,this.initPTS[d.cc],this.timescale[d.cc],function(b){h._appendCues(b,d.level),p.trigger(a.Events.SUBTITLE_FRAG_PROCESSED,{success:!0,frag:d})},function(b){f.logger.log("Failed to parse IMSC1: "+b),p.trigger(a.Events.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:d,error:b})})},m._parseVTTs=function(d,g,h){var p=this,b=this.hls;Object(l.parseWebVTT)(g,this.initPTS[d.cc],this.timescale[d.cc],h,d.cc,d.start,function(y){p._appendCues(y,d.level),b.trigger(a.Events.SUBTITLE_FRAG_PROCESSED,{success:!0,frag:d})},function(y){p._fallbackToIMSC1(d,g),f.logger.log("Failed to parse VTT cue: "+y),b.trigger(a.Events.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:d,error:y})})},m._fallbackToIMSC1=function(d,g){var h=this,p=this.tracks[d.level];p.textCodec||Object(s.parseIMSC1)(g,this.initPTS[d.cc],this.timescale[d.cc],function(){p.textCodec=s.IMSC1_CODEC,h._parseIMSC1(d,g)},function(){p.textCodec="wvtt"})},m._appendCues=function(d,g){var h=this.hls;if(this.config.renderTextTracksNatively){var p=this.textTracks[g];if(p.mode==="disabled")return;d.forEach(function(y){return Object(u.addCueToTrack)(p,y)})}else{var b=this.tracks[g].default?"default":"subtitles"+g;h.trigger(a.Events.CUES_PARSED,{type:"subtitles",cues:d,track:b})}},m.onFragDecrypted=function(d,g){var h=g.frag;if(h.type===c.PlaylistLevelType.SUBTITLE){if(!Object(r.isFiniteNumber)(this.initPTS[h.cc]))return void this.unparsedVttFrags.push(g);this.onFragLoaded(a.Events.FRAG_LOADED,g)}},m.onSubtitleTracksCleared=function(){this.tracks=[],this.captionsTracks={}},m.onFragParsingUserdata=function(d,g){var h=this.cea608Parser1,p=this.cea608Parser2;if(this.enabled&&h&&p)for(var b=0;b<g.samples.length;b++){var y=g.samples[b].bytes;if(y){var C=this.extractCea608Data(y);h.addData(g.samples[b].pts,C[0]),p.addData(g.samples[b].pts,C[1])}}},m.onBufferFlushing=function(d,g){var h=g.startOffset,p=g.endOffset,b=g.endOffsetSubtitles,y=g.type,C=this.media;if(C&&!(C.currentTime<p)){if(!y||y==="video"){var w=this.captionsTracks;Object.keys(w).forEach(function(_){return Object(u.removeCuesInRange)(w[_],h,p)})}if(this.config.renderTextTracksNatively&&h===0&&b!==void 0){var k=this.textTracks;Object.keys(k).forEach(function(_){return Object(u.removeCuesInRange)(k[_],h,b)})}}},m.extractCea608Data=function(d){for(var g=31&d[0],h=2,p=[[],[]],b=0;b<g;b++){var y=d[h++],C=127&d[h++],w=127&d[h++],k=3&y;C===0&&w===0||(4&y)!=0&&(k!==0&&k!==1||(p[k].push(C),p[k].push(w)))}return p},E}();function S(E,m){return E&&E.label===m.name&&!(E.textTrack1||E.textTrack2)}},"./src/crypt/aes-crypto.ts":function(e,t,n){n.r(t),n.d(t,"default",function(){return r});var r=function(){function a(i,o){this.subtle=void 0,this.aesIV=void 0,this.subtle=i,this.aesIV=o}return a.prototype.decrypt=function(i,o){return this.subtle.decrypt({name:"AES-CBC",iv:this.aesIV},o,i)},a}()},"./src/crypt/aes-decryptor.ts":function(e,t,n){n.r(t),n.d(t,"removePadding",function(){return a}),n.d(t,"default",function(){return i});var r=n("./src/utils/typed-array.ts");function a(o){var l=o.byteLength,u=l&&new DataView(o.buffer).getUint8(l-1);return u?Object(r.sliceUint8)(o,0,l-u):o}var i=function(){function o(){this.rcon=[0,1,2,4,8,16,32,64,128,27,54],this.subMix=[new Uint32Array(256),new Uint32Array(256),new Uint32Array(256),new Uint32Array(256)],this.invSubMix=[new Uint32Array(256),new Uint32Array(256),new Uint32Array(256),new Uint32Array(256)],this.sBox=new Uint32Array(256),this.invSBox=new Uint32Array(256),this.key=new Uint32Array(0),this.ksRows=0,this.keySize=0,this.keySchedule=void 0,this.invKeySchedule=void 0,this.initTable()}var l=o.prototype;return l.uint8ArrayToUint32Array_=function(u){for(var s=new DataView(u),c=new Uint32Array(4),f=0;f<4;f++)c[f]=s.getUint32(4*f);return c},l.initTable=function(){var u=this.sBox,s=this.invSBox,c=this.subMix,f=c[0],v=c[1],S=c[2],E=c[3],m=this.invSubMix,d=m[0],g=m[1],h=m[2],p=m[3],b=new Uint32Array(256),y=0,C=0,w=0;for(w=0;w<256;w++)b[w]=w<128?w<<1:w<<1^283;for(w=0;w<256;w++){var k=C^C<<1^C<<2^C<<3^C<<4;k=k>>>8^255&k^99,u[y]=k,s[k]=y;var _=b[y],T=b[_],O=b[T],A=257*b[k]^16843008*k;f[y]=A<<24|A>>>8,v[y]=A<<16|A>>>16,S[y]=A<<8|A>>>24,E[y]=A,A=16843009*O^65537*T^257*_^16843008*y,d[k]=A<<24|A>>>8,g[k]=A<<16|A>>>16,h[k]=A<<8|A>>>24,p[k]=A,y?(y=_^b[b[b[O^_]]],C^=b[b[C]]):y=C=1}},l.expandKey=function(u){for(var s=this.uint8ArrayToUint32Array_(u),c=!0,f=0;f<s.length&&c;)c=s[f]===this.key[f],f++;if(!c){this.key=s;var v=this.keySize=s.length;if(v!==4&&v!==6&&v!==8)throw new Error("Invalid aes key size="+v);var S,E,m,d,g=this.ksRows=4*(v+6+1),h=this.keySchedule=new Uint32Array(g),p=this.invKeySchedule=new Uint32Array(g),b=this.sBox,y=this.rcon,C=this.invSubMix,w=C[0],k=C[1],_=C[2],T=C[3];for(S=0;S<g;S++)S<v?m=h[S]=s[S]:(d=m,S%v==0?(d=b[(d=d<<8|d>>>24)>>>24]<<24|b[d>>>16&255]<<16|b[d>>>8&255]<<8|b[255&d],d^=y[S/v|0]<<24):v>6&&S%v==4&&(d=b[d>>>24]<<24|b[d>>>16&255]<<16|b[d>>>8&255]<<8|b[255&d]),h[S]=m=(h[S-v]^d)>>>0);for(E=0;E<g;E++)S=g-E,d=3&E?h[S]:h[S-4],p[E]=E<4||S<=4?d:w[b[d>>>24]]^k[b[d>>>16&255]]^_[b[d>>>8&255]]^T[b[255&d]],p[E]=p[E]>>>0}},l.networkToHostOrderSwap=function(u){return u<<24|(65280&u)<<8|(16711680&u)>>8|u>>>24},l.decrypt=function(u,s,c){for(var f,v,S,E,m,d,g,h,p,b,y,C,w,k,_=this.keySize+6,T=this.invKeySchedule,O=this.invSBox,A=this.invSubMix,P=A[0],D=A[1],I=A[2],x=A[3],L=this.uint8ArrayToUint32Array_(c),$=L[0],M=L[1],N=L[2],F=L[3],U=new Int32Array(u),B=new Int32Array(U.length),K=this.networkToHostOrderSwap;s<U.length;){for(p=K(U[s]),b=K(U[s+1]),y=K(U[s+2]),C=K(U[s+3]),m=p^T[0],d=C^T[1],g=y^T[2],h=b^T[3],w=4,k=1;k<_;k++)f=P[m>>>24]^D[d>>16&255]^I[g>>8&255]^x[255&h]^T[w],v=P[d>>>24]^D[g>>16&255]^I[h>>8&255]^x[255&m]^T[w+1],S=P[g>>>24]^D[h>>16&255]^I[m>>8&255]^x[255&d]^T[w+2],E=P[h>>>24]^D[m>>16&255]^I[d>>8&255]^x[255&g]^T[w+3],m=f,d=v,g=S,h=E,w+=4;f=O[m>>>24]<<24^O[d>>16&255]<<16^O[g>>8&255]<<8^O[255&h]^T[w],v=O[d>>>24]<<24^O[g>>16&255]<<16^O[h>>8&255]<<8^O[255&m]^T[w+1],S=O[g>>>24]<<24^O[h>>16&255]<<16^O[m>>8&255]<<8^O[255&d]^T[w+2],E=O[h>>>24]<<24^O[m>>16&255]<<16^O[d>>8&255]<<8^O[255&g]^T[w+3],B[s]=K(f^$),B[s+1]=K(E^M),B[s+2]=K(S^N),B[s+3]=K(v^F),$=p,M=b,N=y,F=C,s+=4}return B.buffer},o}()},"./src/crypt/decrypter.ts":function(e,t,n){n.r(t),n.d(t,"default",function(){return s});var r=n("./src/crypt/aes-crypto.ts"),a=n("./src/crypt/fast-aes-key.ts"),i=n("./src/crypt/aes-decryptor.ts"),o=n("./src/utils/logger.ts"),l=n("./src/utils/mp4-tools.ts"),u=n("./src/utils/typed-array.ts"),s=function(){function c(v,S,E){var m=(E===void 0?{}:E).removePKCS7Padding,d=m===void 0||m;if(this.logEnabled=!0,this.observer=void 0,this.config=void 0,this.removePKCS7Padding=void 0,this.subtle=null,this.softwareDecrypter=null,this.key=null,this.fastAesKey=null,this.remainderData=null,this.currentIV=null,this.currentResult=null,this.observer=v,this.config=S,this.removePKCS7Padding=d,d)try{var g=self.crypto;g&&(this.subtle=g.subtle||g.webkitSubtle)}catch{}this.subtle===null&&(this.config.enableSoftwareAES=!0)}var f=c.prototype;return f.destroy=function(){this.observer=null},f.isSync=function(){return this.config.enableSoftwareAES},f.flush=function(){var v=this.currentResult;if(v){var S=new Uint8Array(v);return this.reset(),this.removePKCS7Padding?Object(i.removePadding)(S):S}this.reset()},f.reset=function(){this.currentResult=null,this.currentIV=null,this.remainderData=null,this.softwareDecrypter&&(this.softwareDecrypter=null)},f.decrypt=function(v,S,E,m){if(this.config.enableSoftwareAES){this.softwareDecrypt(new Uint8Array(v),S,E);var d=this.flush();d&&m(d.buffer)}else this.webCryptoDecrypt(new Uint8Array(v),S,E).then(m)},f.softwareDecrypt=function(v,S,E){var m=this.currentIV,d=this.currentResult,g=this.remainderData;this.logOnce("JS AES decrypt"),g&&(v=Object(l.appendUint8Array)(g,v),this.remainderData=null);var h=this.getValidChunk(v);if(!h.length)return null;m&&(E=m);var p=this.softwareDecrypter;p||(p=this.softwareDecrypter=new i.default),p.expandKey(S);var b=d;return this.currentResult=p.decrypt(h.buffer,0,E),this.currentIV=Object(u.sliceUint8)(h,-16).buffer,b||null},f.webCryptoDecrypt=function(v,S,E){var m=this,d=this.subtle;return this.key===S&&this.fastAesKey||(this.key=S,this.fastAesKey=new a.default(d,S)),this.fastAesKey.expandKey().then(function(g){return d?new r.default(d,E).decrypt(v.buffer,g):Promise.reject(new Error("web crypto not initialized"))}).catch(function(g){return m.onWebCryptoError(g,v,S,E)})},f.onWebCryptoError=function(v,S,E,m){return o.logger.warn("[decrypter.ts]: WebCrypto Error, disable WebCrypto API:",v),this.config.enableSoftwareAES=!0,this.logEnabled=!0,this.softwareDecrypt(S,E,m)},f.getValidChunk=function(v){var S=v,E=v.length-v.length%16;return E!==v.length&&(S=Object(u.sliceUint8)(v,0,E),this.remainderData=Object(u.sliceUint8)(v,E)),S},f.logOnce=function(v){this.logEnabled&&(o.logger.log("[decrypter.ts]: "+v),this.logEnabled=!1)},c}()},"./src/crypt/fast-aes-key.ts":function(e,t,n){n.r(t),n.d(t,"default",function(){return r});var r=function(){function a(i,o){this.subtle=void 0,this.key=void 0,this.subtle=i,this.key=o}return a.prototype.expandKey=function(){return this.subtle.importKey("raw",this.key,{name:"AES-CBC"},!1,["encrypt","decrypt"])},a}()},"./src/demux/aacdemuxer.ts":function(e,t,n){n.r(t);var r=n("./src/demux/base-audio-demuxer.ts"),a=n("./src/demux/adts.ts"),i=n("./src/utils/logger.ts"),o=n("./src/demux/id3.ts");function l(s,c){return(l=Object.setPrototypeOf||function(f,v){return f.__proto__=v,f})(s,c)}var u=function(s){var c,f;function v(E,m){var d;return(d=s.call(this)||this).observer=void 0,d.config=void 0,d.observer=E,d.config=m,d}f=s,(c=v).prototype=Object.create(f.prototype),c.prototype.constructor=c,l(c,f);var S=v.prototype;return S.resetInitSegment=function(E,m,d){s.prototype.resetInitSegment.call(this,E,m,d),this._audioTrack={container:"audio/adts",type:"audio",id:0,pid:-1,sequenceNumber:0,isAAC:!0,samples:[],manifestCodec:E,duration:d,inputTimeScale:9e4,dropped:0}},v.probe=function(E){if(!E)return!1;for(var m=(o.getID3Data(E,0)||[]).length,d=E.length;m<d;m++)if(a.probe(E,m))return i.logger.log("ADTS sync word found !"),!0;return!1},S.canParse=function(E,m){return a.canParse(E,m)},S.appendFrame=function(E,m,d){a.initTrackConfig(E,this.observer,m,d,E.manifestCodec);var g=a.appendFrame(E,m,d,this.initPTS,this.frameIndex);if(g&&g.missing===0)return g},v}(r.default);u.minProbeByteLength=9,t.default=u},"./src/demux/adts.ts":function(e,t,n){n.r(t),n.d(t,"getAudioConfig",function(){return o}),n.d(t,"isHeaderPattern",function(){return l}),n.d(t,"getHeaderLength",function(){return u}),n.d(t,"getFullFrameLength",function(){return s}),n.d(t,"canGetFrameLength",function(){return c}),n.d(t,"isHeader",function(){return f}),n.d(t,"canParse",function(){return v}),n.d(t,"probe",function(){return S}),n.d(t,"initTrackConfig",function(){return E}),n.d(t,"getFrameDuration",function(){return m}),n.d(t,"parseFrameHeader",function(){return d}),n.d(t,"appendFrame",function(){return g});var r=n("./src/utils/logger.ts"),a=n("./src/errors.ts"),i=n("./src/events.ts");function o(h,p,b,y){var C,w,k,_,T=navigator.userAgent.toLowerCase(),O=y,A=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350];C=1+((192&p[b+2])>>>6);var P=(60&p[b+2])>>>2;if(!(P>A.length-1))return k=(1&p[b+2])<<2,k|=(192&p[b+3])>>>6,r.logger.log("manifest codec:"+y+", ADTS type:"+C+", samplingIndex:"+P),/firefox/i.test(T)?P>=6?(C=5,_=new Array(4),w=P-3):(C=2,_=new Array(2),w=P):T.indexOf("android")!==-1?(C=2,_=new Array(2),w=P):(C=5,_=new Array(4),y&&(y.indexOf("mp4a.40.29")!==-1||y.indexOf("mp4a.40.5")!==-1)||!y&&P>=6?w=P-3:((y&&y.indexOf("mp4a.40.2")!==-1&&(P>=6&&k===1||/vivaldi/i.test(T))||!y&&k===1)&&(C=2,_=new Array(2)),w=P)),_[0]=C<<3,_[0]|=(14&P)>>1,_[1]|=(1&P)<<7,_[1]|=k<<3,C===5&&(_[1]|=(14&w)>>1,_[2]=(1&w)<<7,_[2]|=8,_[3]=0),{config:_,samplerate:A[P],channelCount:k,codec:"mp4a.40."+C,manifestCodec:O};h.trigger(i.Events.ERROR,{type:a.ErrorTypes.MEDIA_ERROR,details:a.ErrorDetails.FRAG_PARSING_ERROR,fatal:!0,reason:"invalid ADTS sampling index:"+P})}function l(h,p){return h[p]===255&&(246&h[p+1])==240}function u(h,p){return 1&h[p+1]?7:9}function s(h,p){return(3&h[p+3])<<11|h[p+4]<<3|(224&h[p+5])>>>5}function c(h,p){return p+5<h.length}function f(h,p){return p+1<h.length&&l(h,p)}function v(h,p){return c(h,p)&&l(h,p)&&s(h,p)<=h.length-p}function S(h,p){if(f(h,p)){var b=u(h,p);if(p+b>=h.length)return!1;var y=s(h,p);if(y<=b)return!1;var C=p+y;return C===h.length||f(h,C)}return!1}function E(h,p,b,y,C){if(!h.samplerate){var w=o(p,b,y,C);if(!w)return;h.config=w.config,h.samplerate=w.samplerate,h.channelCount=w.channelCount,h.codec=w.codec,h.manifestCodec=w.manifestCodec,r.logger.log("parsed codec:"+h.codec+", rate:"+w.samplerate+", channels:"+w.channelCount)}}function m(h){return 9216e4/h}function d(h,p,b,y,C){var w=u(h,p),k=s(h,p);if((k-=w)>0)return{headerLength:w,frameLength:k,stamp:b+y*C}}function g(h,p,b,y,C){var w=d(p,b,y,C,m(h.samplerate));if(w){var k,_=w.frameLength,T=w.headerLength,O=w.stamp,A=T+_,P=Math.max(0,b+A-p.length);P?(k=new Uint8Array(A-T)).set(p.subarray(b+T,p.length),0):k=p.subarray(b+T,b+A);var D={unit:k,pts:O};return P||h.samples.push(D),{sample:D,length:A,missing:P}}}},"./src/demux/base-audio-demuxer.ts":function(e,t,n){n.r(t),n.d(t,"initPTSFn",function(){return s});var r=n("./src/polyfills/number.ts"),a=n("./src/demux/id3.ts"),i=n("./src/demux/dummy-demuxed-track.ts"),o=n("./src/utils/mp4-tools.ts"),l=n("./src/utils/typed-array.ts"),u=function(){function c(){this._audioTrack=void 0,this._id3Track=void 0,this.frameIndex=0,this.cachedData=null,this.initPTS=null}var f=c.prototype;return f.resetInitSegment=function(v,S,E){this._id3Track={type:"id3",id:0,pid:-1,inputTimeScale:9e4,sequenceNumber:0,samples:[],dropped:0}},f.resetTimeStamp=function(){},f.resetContiguity=function(){},f.canParse=function(v,S){return!1},f.appendFrame=function(v,S,E){},f.demux=function(v,S){this.cachedData&&(v=Object(o.appendUint8Array)(this.cachedData,v),this.cachedData=null);var E,m,d=a.getID3Data(v,0),g=d?d.length:0,h=this._audioTrack,p=this._id3Track,b=d?a.getTimeStamp(d):void 0,y=v.length;for(this.frameIndex!==0&&this.initPTS!==null||(this.initPTS=s(b,S)),d&&d.length>0&&p.samples.push({pts:this.initPTS,dts:this.initPTS,data:d}),m=this.initPTS;g<y;){if(this.canParse(v,g)){var C=this.appendFrame(h,v,g);C?(this.frameIndex++,m=C.sample.pts,E=g+=C.length):g=y}else a.canParse(v,g)?(d=a.getID3Data(v,g),p.samples.push({pts:m,dts:m,data:d}),E=g+=d.length):g++;if(g===y&&E!==y){var w=Object(l.sliceUint8)(v,E);this.cachedData?this.cachedData=Object(o.appendUint8Array)(this.cachedData,w):this.cachedData=w}}return{audioTrack:h,avcTrack:Object(i.dummyTrack)(),id3Track:p,textTrack:Object(i.dummyTrack)()}},f.demuxSampleAes=function(v,S,E){return Promise.reject(new Error("["+this+"] This demuxer does not support Sample-AES decryption"))},f.flush=function(v){var S=this.cachedData;return S&&(this.cachedData=null,this.demux(S,0)),this.frameIndex=0,{audioTrack:this._audioTrack,avcTrack:Object(i.dummyTrack)(),id3Track:this._id3Track,textTrack:Object(i.dummyTrack)()}},f.destroy=function(){},c}(),s=function(c,f){return Object(r.isFiniteNumber)(c)?90*c:9e4*f};t.default=u},"./src/demux/chunk-cache.ts":function(e,t,n){n.r(t),n.d(t,"default",function(){return r});var r=function(){function a(){this.chunks=[],this.dataLength=0}var i=a.prototype;return i.push=function(o){this.chunks.push(o),this.dataLength+=o.length},i.flush=function(){var o,l=this.chunks,u=this.dataLength;return l.length?(o=l.length===1?l[0]:function(s,c){for(var f=new Uint8Array(c),v=0,S=0;S<s.length;S++){var E=s[S];f.set(E,v),v+=E.length}return f}(l,u),this.reset(),o):new Uint8Array(0)},i.reset=function(){this.chunks.length=0,this.dataLength=0},a}()},"./src/demux/dummy-demuxed-track.ts":function(e,t,n){function r(){return{type:"",id:-1,pid:-1,inputTimeScale:9e4,sequenceNumber:-1,samples:[],dropped:0}}n.r(t),n.d(t,"dummyTrack",function(){return r})},"./src/demux/exp-golomb.ts":function(e,t,n){n.r(t);var r=n("./src/utils/logger.ts"),a=function(){function i(l){this.data=void 0,this.bytesAvailable=void 0,this.word=void 0,this.bitsAvailable=void 0,this.data=l,this.bytesAvailable=l.byteLength,this.word=0,this.bitsAvailable=0}var o=i.prototype;return o.loadWord=function(){var l=this.data,u=this.bytesAvailable,s=l.byteLength-u,c=new Uint8Array(4),f=Math.min(4,u);if(f===0)throw new Error("no bytes available");c.set(l.subarray(s,s+f)),this.word=new DataView(c.buffer).getUint32(0),this.bitsAvailable=8*f,this.bytesAvailable-=f},o.skipBits=function(l){var u;this.bitsAvailable>l?(this.word<<=l,this.bitsAvailable-=l):(l-=this.bitsAvailable,l-=(u=l>>3)>>3,this.bytesAvailable-=u,this.loadWord(),this.word<<=l,this.bitsAvailable-=l)},o.readBits=function(l){var u=Math.min(this.bitsAvailable,l),s=this.word>>>32-u;return l>32&&r.logger.error("Cannot read more than 32 bits at a time"),this.bitsAvailable-=u,this.bitsAvailable>0?this.word<<=u:this.bytesAvailable>0&&this.loadWord(),(u=l-u)>0&&this.bitsAvailable?s<<u|this.readBits(u):s},o.skipLZ=function(){var l;for(l=0;l<this.bitsAvailable;++l)if((this.word&2147483648>>>l)!=0)return this.word<<=l,this.bitsAvailable-=l,l;return this.loadWord(),l+this.skipLZ()},o.skipUEG=function(){this.skipBits(1+this.skipLZ())},o.skipEG=function(){this.skipBits(1+this.skipLZ())},o.readUEG=function(){var l=this.skipLZ();return this.readBits(l+1)-1},o.readEG=function(){var l=this.readUEG();return 1&l?1+l>>>1:-1*(l>>>1)},o.readBoolean=function(){return this.readBits(1)===1},o.readUByte=function(){return this.readBits(8)},o.readUShort=function(){return this.readBits(16)},o.readUInt=function(){return this.readBits(32)},o.skipScalingList=function(l){for(var u=8,s=8,c=0;c<l;c++)s!==0&&(s=(u+this.readEG()+256)%256),u=s===0?u:s},o.readSPS=function(){var l,u,s,c=0,f=0,v=0,S=0,E=this.readUByte.bind(this),m=this.readBits.bind(this),d=this.readUEG.bind(this),g=this.readBoolean.bind(this),h=this.skipBits.bind(this),p=this.skipEG.bind(this),b=this.skipUEG.bind(this),y=this.skipScalingList.bind(this);E();var C=E();if(m(5),h(3),E(),b(),C===100||C===110||C===122||C===244||C===44||C===83||C===86||C===118||C===128){var w=d();if(w===3&&h(1),b(),b(),h(1),g())for(u=w!==3?8:12,s=0;s<u;s++)g()&&y(s<6?16:64)}b();var k=d();if(k===0)d();else if(k===1)for(h(1),p(),p(),l=d(),s=0;s<l;s++)p();b(),h(1);var _=d(),T=d(),O=m(1);O===0&&h(1),h(1),g()&&(c=d(),f=d(),v=d(),S=d());var A=[1,1];if(g()&&g())switch(E()){case 1:A=[1,1];break;case 2:A=[12,11];break;case 3:A=[10,11];break;case 4:A=[16,11];break;case 5:A=[40,33];break;case 6:A=[24,11];break;case 7:A=[20,11];break;case 8:A=[32,11];break;case 9:A=[80,33];break;case 10:A=[18,11];break;case 11:A=[15,11];break;case 12:A=[64,33];break;case 13:A=[160,99];break;case 14:A=[4,3];break;case 15:A=[3,2];break;case 16:A=[2,1];break;case 255:A=[E()<<8|E(),E()<<8|E()]}return{width:Math.ceil(16*(_+1)-2*c-2*f),height:(2-O)*(T+1)*16-(O?2:4)*(v+S),pixelRatio:A}},o.readSliceType=function(){return this.readUByte(),this.readUEG(),this.readUEG()},i}();t.default=a},"./src/demux/id3.ts":function(e,t,n){n.r(t),n.d(t,"isHeader",function(){return a}),n.d(t,"isFooter",function(){return i}),n.d(t,"getID3Data",function(){return o}),n.d(t,"canParse",function(){return u}),n.d(t,"getTimeStamp",function(){return s}),n.d(t,"isTimeStampFrame",function(){return c}),n.d(t,"getID3Frames",function(){return v}),n.d(t,"decodeFrame",function(){return S}),n.d(t,"utf8ArrayToStr",function(){return h}),n.d(t,"testables",function(){return p});var r,a=function(b,y){return y+10<=b.length&&b[y]===73&&b[y+1]===68&&b[y+2]===51&&b[y+3]<255&&b[y+4]<255&&b[y+6]<128&&b[y+7]<128&&b[y+8]<128&&b[y+9]<128},i=function(b,y){return y+10<=b.length&&b[y]===51&&b[y+1]===68&&b[y+2]===73&&b[y+3]<255&&b[y+4]<255&&b[y+6]<128&&b[y+7]<128&&b[y+8]<128&&b[y+9]<128},o=function(b,y){for(var C=y,w=0;a(b,y);)w+=10,w+=l(b,y+6),i(b,y+10)&&(w+=10),y+=w;if(w>0)return b.subarray(C,C+w)},l=function(b,y){var C=0;return C=(127&b[y])<<21,C|=(127&b[y+1])<<14,C|=(127&b[y+2])<<7,C|=127&b[y+3]},u=function(b,y){return a(b,y)&&l(b,y+6)+10<=b.length-y},s=function(b){for(var y=v(b),C=0;C<y.length;C++){var w=y[C];if(c(w))return g(w)}},c=function(b){return b&&b.key==="PRIV"&&b.info==="com.apple.streaming.transportStreamTimestamp"},f=function(b){var y=String.fromCharCode(b[0],b[1],b[2],b[3]),C=l(b,4);return{type:y,size:C,data:b.subarray(10,10+C)}},v=function(b){for(var y=0,C=[];a(b,y);){for(var w=l(b,y+6),k=(y+=10)+w;y+8<k;){var _=f(b.subarray(y)),T=S(_);T&&C.push(T),y+=_.size+10}i(b,y)&&(y+=10)}return C},S=function(b){return b.type==="PRIV"?E(b):b.type[0]==="W"?d(b):m(b)},E=function(b){if(!(b.size<2)){var y=h(b.data,!0),C=new Uint8Array(b.data.subarray(y.length+1));return{key:b.type,info:y,data:C.buffer}}},m=function(b){if(!(b.size<2)){if(b.type==="TXXX"){var y=1,C=h(b.data.subarray(y),!0);y+=C.length+1;var w=h(b.data.subarray(y));return{key:b.type,info:C,data:w}}var k=h(b.data.subarray(1));return{key:b.type,data:k}}},d=function(b){if(b.type==="WXXX"){if(b.size<2)return;var y=1,C=h(b.data.subarray(y),!0);y+=C.length+1;var w=h(b.data.subarray(y));return{key:b.type,info:C,data:w}}var k=h(b.data);return{key:b.type,data:k}},g=function(b){if(b.data.byteLength===8){var y=new Uint8Array(b.data),C=1&y[3],w=(y[4]<<23)+(y[5]<<15)+(y[6]<<7)+y[7];return w/=45,C&&(w+=4772185884e-2),Math.round(w)}},h=function(b,y){y===void 0&&(y=!1);var C=(r||self.TextDecoder===void 0||(r=new self.TextDecoder("utf-8")),r);if(C){var w=C.decode(b);if(y){var k=w.indexOf("\0");return k!==-1?w.substring(0,k):w}return w.replace(/\0/g,"")}for(var _,T,O,A=b.length,P="",D=0;D<A;){if((_=b[D++])===0&&y)return P;if(_!==0&&_!==3)switch(_>>4){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:P+=String.fromCharCode(_);break;case 12:case 13:T=b[D++],P+=String.fromCharCode((31&_)<<6|63&T);break;case 14:T=b[D++],O=b[D++],P+=String.fromCharCode((15&_)<<12|(63&T)<<6|(63&O)<<0)}}return P},p={decodeTextFrame:m}},"./src/demux/mp3demuxer.ts":function(e,t,n){n.r(t);var r=n("./src/demux/base-audio-demuxer.ts"),a=n("./src/demux/id3.ts"),i=n("./src/utils/logger.ts"),o=n("./src/demux/mpegaudio.ts");function l(s,c){return(l=Object.setPrototypeOf||function(f,v){return f.__proto__=v,f})(s,c)}var u=function(s){var c,f;function v(){return s.apply(this,arguments)||this}f=s,(c=v).prototype=Object.create(f.prototype),c.prototype.constructor=c,l(c,f);var S=v.prototype;return S.resetInitSegment=function(E,m,d){s.prototype.resetInitSegment.call(this,E,m,d),this._audioTrack={container:"audio/mpeg",type:"audio",id:0,pid:-1,sequenceNumber:0,isAAC:!1,samples:[],manifestCodec:E,duration:d,inputTimeScale:9e4,dropped:0}},v.probe=function(E){if(!E)return!1;for(var m=(a.getID3Data(E,0)||[]).length,d=E.length;m<d;m++)if(o.probe(E,m))return i.logger.log("MPEG Audio sync word found !"),!0;return!1},S.canParse=function(E,m){return o.canParse(E,m)},S.appendFrame=function(E,m,d){if(this.initPTS!==null)return o.appendFrame(E,m,d,this.initPTS,this.frameIndex)},v}(r.default);u.minProbeByteLength=4,t.default=u},"./src/demux/mp4demuxer.ts":function(e,t,n){n.r(t);var r=n("./src/utils/mp4-tools.ts"),a=n("./src/demux/dummy-demuxed-track.ts"),i=function(){function o(u,s){this.remainderData=null,this.config=void 0,this.config=s}var l=o.prototype;return l.resetTimeStamp=function(){},l.resetInitSegment=function(){},l.resetContiguity=function(){},o.probe=function(u){return Object(r.findBox)({data:u,start:0,end:Math.min(u.length,16384)},["moof"]).length>0},l.demux=function(u){var s=u,c=Object(a.dummyTrack)();if(this.config.progressive){this.remainderData&&(s=Object(r.appendUint8Array)(this.remainderData,u));var f=Object(r.segmentValidRange)(s);this.remainderData=f.remainder,c.samples=f.valid||new Uint8Array}else c.samples=s;return{audioTrack:Object(a.dummyTrack)(),avcTrack:c,id3Track:Object(a.dummyTrack)(),textTrack:Object(a.dummyTrack)()}},l.flush=function(){var u=Object(a.dummyTrack)();return u.samples=this.remainderData||new Uint8Array,this.remainderData=null,{audioTrack:Object(a.dummyTrack)(),avcTrack:u,id3Track:Object(a.dummyTrack)(),textTrack:Object(a.dummyTrack)()}},l.demuxSampleAes=function(u,s,c){return Promise.reject(new Error("The MP4 demuxer does not support SAMPLE-AES decryption"))},l.destroy=function(){},o}();i.minProbeByteLength=1024,t.default=i},"./src/demux/mpegaudio.ts":function(e,t,n){n.r(t),n.d(t,"appendFrame",function(){return u}),n.d(t,"parseHeader",function(){return s}),n.d(t,"isHeaderPattern",function(){return c}),n.d(t,"isHeader",function(){return f}),n.d(t,"canParse",function(){return v}),n.d(t,"probe",function(){return S});var r=null,a=[32,64,96,128,160,192,224,256,288,320,352,384,416,448,32,48,56,64,80,96,112,128,160,192,224,256,320,384,32,40,48,56,64,80,96,112,128,160,192,224,256,320,32,48,56,64,80,96,112,128,144,160,176,192,224,256,8,16,24,32,40,48,56,64,80,96,112,128,144,160],i=[44100,48e3,32e3,22050,24e3,16e3,11025,12e3,8e3],o=[[0,72,144,12],[0,0,0,0],[0,72,144,12],[0,144,144,12]],l=[0,1,1,4];function u(E,m,d,g,h){if(!(d+24>m.length)){var p=s(m,d);if(p&&d+p.frameLength<=m.length){var b=g+h*(9e4*p.samplesPerFrame/p.sampleRate),y={unit:m.subarray(d,d+p.frameLength),pts:b,dts:b};return E.config=[],E.channelCount=p.channelCount,E.samplerate=p.sampleRate,E.samples.push(y),{sample:y,length:p.frameLength,missing:0}}}}function s(E,m){var d=E[m+1]>>3&3,g=E[m+1]>>1&3,h=E[m+2]>>4&15,p=E[m+2]>>2&3;if(d!==1&&h!==0&&h!==15&&p!==3){var b=E[m+2]>>1&1,y=E[m+3]>>6,C=1e3*a[14*(d===3?3-g:g===3?3:4)+h-1],w=i[3*(d===3?0:d===2?1:2)+p],k=y===3?1:2,_=o[d][g],T=l[g],O=8*_*T,A=Math.floor(_*C/w+b)*T;if(r===null){var P=(navigator.userAgent||"").match(/Chrome\/(\d+)/i);r=P?parseInt(P[1]):0}return!!r&&r<=87&&g===2&&C>=224e3&&y===0&&(E[m+3]=128|E[m+3]),{sampleRate:w,channelCount:k,frameLength:A,samplesPerFrame:O}}}function c(E,m){return E[m]===255&&(224&E[m+1])==224&&(6&E[m+1])!=0}function f(E,m){return m+1<E.length&&c(E,m)}function v(E,m){return c(E,m)&&4<=E.length-m}function S(E,m){if(m+1<E.length&&c(E,m)){var d=s(E,m),g=4;d!=null&&d.frameLength&&(g=d.frameLength);var h=m+g;return h===E.length||f(E,h)}return!1}},"./src/demux/sample-aes.ts":function(e,t,n){n.r(t);var r=n("./src/crypt/decrypter.ts"),a=n("./src/demux/tsdemuxer.ts"),i=function(){function o(u,s,c){this.keyData=void 0,this.decrypter=void 0,this.keyData=c,this.decrypter=new r.default(u,s,{removePKCS7Padding:!1})}var l=o.prototype;return l.decryptBuffer=function(u,s){this.decrypter.decrypt(u,this.keyData.key.buffer,this.keyData.iv.buffer,s)},l.decryptAacSample=function(u,s,c,f){var v=u[s].unit,S=v.subarray(16,v.length-v.length%16),E=S.buffer.slice(S.byteOffset,S.byteOffset+S.length),m=this;this.decryptBuffer(E,function(d){var g=new Uint8Array(d);v.set(g,16),f||m.decryptAacSamples(u,s+1,c)})},l.decryptAacSamples=function(u,s,c){for(;;s++){if(s>=u.length)return void c();if(!(u[s].unit.length<32)){var f=this.decrypter.isSync();if(this.decryptAacSample(u,s,c,f),!f)return}}},l.getAvcEncryptedData=function(u){for(var s=16*Math.floor((u.length-48)/160)+16,c=new Int8Array(s),f=0,v=32;v<=u.length-16;v+=160,f+=16)c.set(u.subarray(v,v+16),f);return c},l.getAvcDecryptedUnit=function(u,s){for(var c=new Uint8Array(s),f=0,v=32;v<=u.length-16;v+=160,f+=16)u.set(c.subarray(f,f+16),v);return u},l.decryptAvcSample=function(u,s,c,f,v,S){var E=Object(a.discardEPB)(v.data),m=this.getAvcEncryptedData(E),d=this;this.decryptBuffer(m.buffer,function(g){v.data=d.getAvcDecryptedUnit(E,g),S||d.decryptAvcSamples(u,s,c+1,f)})},l.decryptAvcSamples=function(u,s,c,f){if(u instanceof Uint8Array)throw new Error("Cannot decrypt samples of type Uint8Array");for(;;s++,c=0){if(s>=u.length)return void f();for(var v=u[s].units;!(c>=v.length);c++){var S=v[c];if(!(S.data.length<=48||S.type!==1&&S.type!==5)){var E=this.decrypter.isSync();if(this.decryptAvcSample(u,s,c,f,S,E),!E)return}}}},o}();t.default=i},"./src/demux/transmuxer-interface.ts":function(e,t,n){n.r(t),n.d(t,"default",function(){return f});var r=n("./node_modules/webworkify-webpack/index.js"),a=n("./src/events.ts"),i=n("./src/demux/transmuxer.ts"),o=n("./src/utils/logger.ts"),l=n("./src/errors.ts"),u=n("./src/utils/mediasource-helper.ts"),s=n("./node_modules/eventemitter3/index.js"),c=Object(u.getMediaSource)()||{isTypeSupported:function(){return!1}},f=function(){function v(E,m,d,g){var h=this;this.hls=void 0,this.id=void 0,this.observer=void 0,this.frag=null,this.part=null,this.worker=void 0,this.onwmsg=void 0,this.transmuxer=null,this.onTransmuxComplete=void 0,this.onFlush=void 0,this.hls=E,this.id=m,this.onTransmuxComplete=d,this.onFlush=g;var p=E.config,b=function(k,_){(_=_||{}).frag=h.frag,_.id=h.id,E.trigger(k,_)};this.observer=new s.EventEmitter,this.observer.on(a.Events.FRAG_DECRYPTED,b),this.observer.on(a.Events.ERROR,b);var y={mp4:c.isTypeSupported("video/mp4"),mpeg:c.isTypeSupported("audio/mpeg"),mp3:c.isTypeSupported('audio/mp4; codecs="mp3"')},C=navigator.vendor;if(p.enableWorker&&typeof Worker!="undefined"){var w;o.logger.log("demuxing in webworker");try{w=this.worker=r("./src/demux/transmuxer-worker.ts"),this.onwmsg=this.onWorkerMessage.bind(this),w.addEventListener("message",this.onwmsg),w.onerror=function(k){E.trigger(a.Events.ERROR,{type:l.ErrorTypes.OTHER_ERROR,details:l.ErrorDetails.INTERNAL_EXCEPTION,fatal:!0,event:"demuxerWorker",error:new Error(k.message+"  ("+k.filename+":"+k.lineno+")")})},w.postMessage({cmd:"init",typeSupported:y,vendor:C,id:m,config:JSON.stringify(p)})}catch(k){o.logger.warn("Error in worker:",k),o.logger.error("Error while initializing DemuxerWorker, fallback to inline"),w&&self.URL.revokeObjectURL(w.objectURL),this.transmuxer=new i.default(this.observer,y,p,C,m),this.worker=null}}else this.transmuxer=new i.default(this.observer,y,p,C,m)}var S=v.prototype;return S.destroy=function(){var E=this.worker;if(E)E.removeEventListener("message",this.onwmsg),E.terminate(),this.worker=null;else{var m=this.transmuxer;m&&(m.destroy(),this.transmuxer=null)}var d=this.observer;d&&d.removeAllListeners(),this.observer=null},S.push=function(E,m,d,g,h,p,b,y,C,w){var k=this;C.transmuxing.start=self.performance.now();var _=this.transmuxer,T=this.worker,O=p?p.start:h.start,A=h.decryptdata,P=this.frag,D=!(P&&h.cc===P.cc),I=!(P&&C.level===P.level),x=P?C.sn-P.sn:-1,L=this.part?C.part-this.part.index:1,$=!I&&(x===1||x===0&&L===1),M=self.performance.now();(I||x||h.stats.parsing.start===0)&&(h.stats.parsing.start=M),!p||!L&&$||(p.stats.parsing.start=M);var N=new i.TransmuxState(D,$,y,I,O);if(!$||D){o.logger.log("[transmuxer-interface, "+h.type+"]: Starting new transmux session for sn: "+C.sn+" p: "+C.part+" level: "+C.level+" id: "+C.id+`
        discontinuity: `+D+`
        trackSwitch: `+I+`
        contiguous: `+$+`
        accurateTimeOffset: `+y+`
        timeOffset: `+O);var F=new i.TransmuxConfig(d,g,m,b,w);this.configureTransmuxer(F)}if(this.frag=h,this.part=p,T)T.postMessage({cmd:"demux",data:E,decryptdata:A,chunkMeta:C,state:N},E instanceof ArrayBuffer?[E]:[]);else if(_){var U=_.push(E,A,C,N);Object(i.isPromise)(U)?U.then(function(B){k.handleTransmuxComplete(B)}):this.handleTransmuxComplete(U)}},S.flush=function(E){var m=this;E.transmuxing.start=self.performance.now();var d=this.transmuxer,g=this.worker;if(g)g.postMessage({cmd:"flush",chunkMeta:E});else if(d){var h=d.flush(E);Object(i.isPromise)(h)?h.then(function(p){m.handleFlushResult(p,E)}):this.handleFlushResult(h,E)}},S.handleFlushResult=function(E,m){var d=this;E.forEach(function(g){d.handleTransmuxComplete(g)}),this.onFlush(m)},S.onWorkerMessage=function(E){var m=E.data,d=this.hls;switch(m.event){case"init":self.URL.revokeObjectURL(this.worker.objectURL);break;case"transmuxComplete":this.handleTransmuxComplete(m.data);break;case"flush":this.onFlush(m.data);break;default:m.data=m.data||{},m.data.frag=this.frag,m.data.id=this.id,d.trigger(m.event,m.data)}},S.configureTransmuxer=function(E){var m=this.worker,d=this.transmuxer;m?m.postMessage({cmd:"configure",config:E}):d&&d.configure(E)},S.handleTransmuxComplete=function(E){E.chunkMeta.transmuxing.end=self.performance.now(),this.onTransmuxComplete(E)},v}()},"./src/demux/transmuxer-worker.ts":function(e,t,n){n.r(t),n.d(t,"default",function(){return l});var r=n("./src/demux/transmuxer.ts"),a=n("./src/events.ts"),i=n("./src/utils/logger.ts"),o=n("./node_modules/eventemitter3/index.js");function l(f){var v=new o.EventEmitter,S=function(E,m){f.postMessage({event:E,data:m})};v.on(a.Events.FRAG_DECRYPTED,S),v.on(a.Events.ERROR,S),f.addEventListener("message",function(E){var m=E.data;switch(m.cmd){case"init":var d=JSON.parse(m.config);f.transmuxer=new r.default(v,m.typeSupported,d,m.vendor,m.id),Object(i.enableLogs)(d.debug),S("init",null);break;case"configure":f.transmuxer.configure(m.config);break;case"demux":var g=f.transmuxer.push(m.data,m.decryptdata,m.chunkMeta,m.state);Object(r.isPromise)(g)?g.then(function(b){u(f,b)}):u(f,g);break;case"flush":var h=m.chunkMeta,p=f.transmuxer.flush(h);Object(r.isPromise)(p)?p.then(function(b){c(f,b,h)}):c(f,p,h)}})}function u(f,v){if((S=v.remuxResult).audio||S.video||S.text||S.id3||S.initSegment){var S,E=[],m=v.remuxResult,d=m.audio,g=m.video;d&&s(E,d),g&&s(E,g),f.postMessage({event:"transmuxComplete",data:v},E)}}function s(f,v){v.data1&&f.push(v.data1.buffer),v.data2&&f.push(v.data2.buffer)}function c(f,v,S){v.forEach(function(E){u(f,E)}),f.postMessage({event:"flush",data:S})}},"./src/demux/transmuxer.ts":function(e,t,n){n.r(t),n.d(t,"default",function(){return h}),n.d(t,"isPromise",function(){return b}),n.d(t,"TransmuxConfig",function(){return y}),n.d(t,"TransmuxState",function(){return C});var r,a=n("./src/events.ts"),i=n("./src/errors.ts"),o=n("./src/crypt/decrypter.ts"),l=n("./src/demux/aacdemuxer.ts"),u=n("./src/demux/mp4demuxer.ts"),s=n("./src/demux/tsdemuxer.ts"),c=n("./src/demux/mp3demuxer.ts"),f=n("./src/remux/mp4-remuxer.ts"),v=n("./src/remux/passthrough-remuxer.ts"),S=n("./src/demux/chunk-cache.ts"),E=n("./src/utils/mp4-tools.ts"),m=n("./src/utils/logger.ts");try{r=self.performance.now.bind(self.performance)}catch{m.logger.debug("Unable to use Performance API on this environment"),r=self.Date.now}var d=[{demux:s.default,remux:f.default},{demux:u.default,remux:v.default},{demux:l.default,remux:f.default},{demux:c.default,remux:f.default}],g=1024;d.forEach(function(w){var k=w.demux;g=Math.max(g,k.minProbeByteLength)});var h=function(){function w(_,T,O,A,P){this.observer=void 0,this.typeSupported=void 0,this.config=void 0,this.vendor=void 0,this.id=void 0,this.demuxer=void 0,this.remuxer=void 0,this.decrypter=void 0,this.probe=void 0,this.decryptionPromise=null,this.transmuxConfig=void 0,this.currentTransmuxState=void 0,this.cache=new S.default,this.observer=_,this.typeSupported=T,this.config=O,this.vendor=A,this.id=P}var k=w.prototype;return k.configure=function(_){this.transmuxConfig=_,this.decrypter&&this.decrypter.reset()},k.push=function(_,T,O,A){var P=this,D=O.transmuxing;D.executeStart=r();var I=new Uint8Array(_),x=this.cache,L=this.config,$=this.currentTransmuxState,M=this.transmuxConfig;A&&(this.currentTransmuxState=A);var N=function(ie,le){var Se=null;return ie.byteLength>0&&le!=null&&le.key!=null&&le.iv!==null&&le.method!=null&&(Se=le),Se}(I,T);if(N&&N.method==="AES-128"){var F=this.getDecrypter();if(!L.enableSoftwareAES)return this.decryptionPromise=F.webCryptoDecrypt(I,N.key.buffer,N.iv.buffer).then(function(ie){var le=P.push(ie,null,O);return P.decryptionPromise=null,le}),this.decryptionPromise;var U=F.softwareDecrypt(I,N.key.buffer,N.iv.buffer);if(!U)return D.executeEnd=r(),p(O);I=new Uint8Array(U)}var B=A||$,K=B.contiguous,V=B.discontinuity,X=B.trackSwitch,Z=B.accurateTimeOffset,ne=B.timeOffset,ae=M.audioCodec,ye=M.videoCodec,de=M.defaultInitPts,be=M.duration,G=M.initSegmentData;if((V||X)&&this.resetInitSegment(G,ae,ye,be),V&&this.resetInitialTimestamp(de),K||this.resetContiguity(),this.needsProbing(I,V,X)){if(x.dataLength){var Y=x.flush();I=Object(E.appendUint8Array)(Y,I)}this.configureTransmuxer(I,M)}var Q=this.transmux(I,N,ne,Z,O),re=this.currentTransmuxState;return re.contiguous=!0,re.discontinuity=!1,re.trackSwitch=!1,D.executeEnd=r(),Q},k.flush=function(_){var T=this,O=_.transmuxing;O.executeStart=r();var A=this.decrypter,P=this.cache,D=this.currentTransmuxState,I=this.decryptionPromise;if(I)return I.then(function(){return T.flush(_)});var x=[],L=D.timeOffset;if(A){var $=A.flush();$&&x.push(this.push($,null,_))}var M=P.dataLength;P.reset();var N=this.demuxer,F=this.remuxer;if(!N||!F)return M>=g&&this.observer.emit(a.Events.ERROR,a.Events.ERROR,{type:i.ErrorTypes.MEDIA_ERROR,details:i.ErrorDetails.FRAG_PARSING_ERROR,fatal:!0,reason:"no demux matching with content found"}),O.executeEnd=r(),[p(_)];var U=N.flush(L);return b(U)?U.then(function(B){return T.flushRemux(x,B,_),x}):(this.flushRemux(x,U,_),x)},k.flushRemux=function(_,T,O){var A=T.audioTrack,P=T.avcTrack,D=T.id3Track,I=T.textTrack,x=this.currentTransmuxState,L=x.accurateTimeOffset,$=x.timeOffset;m.logger.log("[transmuxer.ts]: Flushed fragment "+O.sn+(O.part>-1?" p: "+O.part:"")+" of level "+O.level);var M=this.remuxer.remux(A,P,D,I,$,L,!0,this.id);_.push({remuxResult:M,chunkMeta:O}),O.transmuxing.executeEnd=r()},k.resetInitialTimestamp=function(_){var T=this.demuxer,O=this.remuxer;T&&O&&(T.resetTimeStamp(_),O.resetTimeStamp(_))},k.resetContiguity=function(){var _=this.demuxer,T=this.remuxer;_&&T&&(_.resetContiguity(),T.resetNextTimestamp())},k.resetInitSegment=function(_,T,O,A){var P=this.demuxer,D=this.remuxer;P&&D&&(P.resetInitSegment(T,O,A),D.resetInitSegment(_,T,O))},k.destroy=function(){this.demuxer&&(this.demuxer.destroy(),this.demuxer=void 0),this.remuxer&&(this.remuxer.destroy(),this.remuxer=void 0)},k.transmux=function(_,T,O,A,P){return T&&T.method==="SAMPLE-AES"?this.transmuxSampleAes(_,T,O,A,P):this.transmuxUnencrypted(_,O,A,P)},k.transmuxUnencrypted=function(_,T,O,A){var P=this.demuxer.demux(_,T,!1,!this.config.progressive),D=P.audioTrack,I=P.avcTrack,x=P.id3Track,L=P.textTrack;return{remuxResult:this.remuxer.remux(D,I,x,L,T,O,!1,this.id),chunkMeta:A}},k.transmuxSampleAes=function(_,T,O,A,P){var D=this;return this.demuxer.demuxSampleAes(_,T,O).then(function(I){return{remuxResult:D.remuxer.remux(I.audioTrack,I.avcTrack,I.id3Track,I.textTrack,O,A,!1,D.id),chunkMeta:P}})},k.configureTransmuxer=function(_,T){for(var O,A=this.config,P=this.observer,D=this.typeSupported,I=this.vendor,x=T.audioCodec,L=T.defaultInitPts,$=T.duration,M=T.initSegmentData,N=T.videoCodec,F=0,U=d.length;F<U;F++)if(d[F].demux.probe(_)){O=d[F];break}O||(m.logger.warn("Failed to find demuxer by probing frag, treating as mp4 passthrough"),O={demux:u.default,remux:v.default});var B=this.demuxer,K=this.remuxer,V=O.remux,X=O.demux;K&&K instanceof V||(this.remuxer=new V(P,A,D,I)),B&&B instanceof X||(this.demuxer=new X(P,A,D),this.probe=X.probe),this.resetInitSegment(M,x,N,$),this.resetInitialTimestamp(L)},k.needsProbing=function(_,T,O){return!this.demuxer||!this.remuxer||T||O},k.getDecrypter=function(){var _=this.decrypter;return _||(_=this.decrypter=new o.default(this.observer,this.config)),_},w}(),p=function(w){return{remuxResult:{},chunkMeta:w}};function b(w){return"then"in w&&w.then instanceof Function}var y=function(w,k,_,T,O){this.audioCodec=void 0,this.videoCodec=void 0,this.initSegmentData=void 0,this.duration=void 0,this.defaultInitPts=void 0,this.audioCodec=w,this.videoCodec=k,this.initSegmentData=_,this.duration=T,this.defaultInitPts=O},C=function(w,k,_,T,O){this.discontinuity=void 0,this.contiguous=void 0,this.accurateTimeOffset=void 0,this.trackSwitch=void 0,this.timeOffset=void 0,this.discontinuity=w,this.contiguous=k,this.accurateTimeOffset=_,this.trackSwitch=T,this.timeOffset=O}},"./src/demux/tsdemuxer.ts":function(e,t,n){n.r(t),n.d(t,"discardEPB",function(){return b});var r=n("./src/demux/adts.ts"),a=n("./src/demux/mpegaudio.ts"),i=n("./src/demux/exp-golomb.ts"),o=n("./src/demux/id3.ts"),l=n("./src/demux/sample-aes.ts"),u=n("./src/events.ts"),s=n("./src/utils/mp4-tools.ts"),c=n("./src/utils/logger.ts"),f=n("./src/errors.ts"),v={video:1,audio:2,id3:3,text:4},S=function(){function y(w,k,_){this.observer=void 0,this.config=void 0,this.typeSupported=void 0,this.sampleAes=null,this.pmtParsed=!1,this.audioCodec=void 0,this.videoCodec=void 0,this._duration=0,this.aacLastPTS=null,this._initPTS=null,this._initDTS=null,this._pmtId=-1,this._avcTrack=void 0,this._audioTrack=void 0,this._id3Track=void 0,this._txtTrack=void 0,this.aacOverFlow=null,this.avcSample=null,this.remainderData=null,this.observer=w,this.config=k,this.typeSupported=_}y.probe=function(w){var k=y.syncOffset(w);return!(k<0||(k&&c.logger.warn("MPEG2-TS detected but first sync word found @ offset "+k+", junk ahead ?"),0))},y.syncOffset=function(w){for(var k=Math.min(1e3,w.length-564),_=0;_<k;){if(w[_]===71&&w[_+188]===71&&w[_+376]===71)return _;_++}return-1},y.createTrack=function(w,k){return{container:w==="video"||w==="audio"?"video/mp2t":void 0,type:w,id:v[w],pid:-1,inputTimeScale:9e4,sequenceNumber:0,samples:[],dropped:0,duration:w==="audio"?k:void 0}};var C=y.prototype;return C.resetInitSegment=function(w,k,_){this.pmtParsed=!1,this._pmtId=-1,this._avcTrack=y.createTrack("video",_),this._audioTrack=y.createTrack("audio",_),this._id3Track=y.createTrack("id3",_),this._txtTrack=y.createTrack("text",_),this._audioTrack.isAAC=!0,this.aacOverFlow=null,this.aacLastPTS=null,this.avcSample=null,this.audioCodec=w,this.videoCodec=k,this._duration=_},C.resetTimeStamp=function(){},C.resetContiguity=function(){var w=this._audioTrack,k=this._avcTrack,_=this._id3Track;w&&(w.pesData=null),k&&(k.pesData=null),_&&(_.pesData=null),this.aacOverFlow=null,this.aacLastPTS=null},C.demux=function(w,k,_,T){var O;_===void 0&&(_=!1),T===void 0&&(T=!1),_||(this.sampleAes=null);var A=this._avcTrack,P=this._audioTrack,D=this._id3Track,I=A.pid,x=A.pesData,L=P.pid,$=D.pid,M=P.pesData,N=D.pesData,F=!1,U=this.pmtParsed,B=this._pmtId,K=w.length;if(this.remainderData&&(K=(w=Object(s.appendUint8Array)(this.remainderData,w)).length,this.remainderData=null),K<188&&!T)return this.remainderData=w,{audioTrack:P,avcTrack:A,id3Track:D,textTrack:this._txtTrack};var V=Math.max(0,y.syncOffset(w));(K-=(K+V)%188)<w.byteLength&&!T&&(this.remainderData=new Uint8Array(w.buffer,K,w.buffer.byteLength-K));for(var X=V;X<K;X+=188)if(w[X]===71){var Z=!!(64&w[X+1]),ne=((31&w[X+1])<<8)+w[X+2],ae=void 0;if((48&w[X+3])>>4>1){if((ae=X+5+w[X+4])===X+188)continue}else ae=X+4;switch(ne){case I:Z&&(x&&(O=g(x))&&this.parseAVCPES(O,!1),x={data:[],size:0}),x&&(x.data.push(w.subarray(ae,X+188)),x.size+=X+188-ae);break;case L:Z&&(M&&(O=g(M))&&(P.isAAC?this.parseAACPES(O):this.parseMPEGPES(O)),M={data:[],size:0}),M&&(M.data.push(w.subarray(ae,X+188)),M.size+=X+188-ae);break;case $:Z&&(N&&(O=g(N))&&this.parseID3PES(O),N={data:[],size:0}),N&&(N.data.push(w.subarray(ae,X+188)),N.size+=X+188-ae);break;case 0:Z&&(ae+=w[ae]+1),B=this._pmtId=m(w,ae);break;case B:Z&&(ae+=w[ae]+1);var ye=d(w,ae,this.typeSupported.mpeg===!0||this.typeSupported.mp3===!0,_);(I=ye.avc)>0&&(A.pid=I),(L=ye.audio)>0&&(P.pid=L,P.isAAC=ye.isAAC),($=ye.id3)>0&&(D.pid=$),F&&!U&&(c.logger.log("reparse from beginning"),F=!1,X=V-188),U=this.pmtParsed=!0;break;case 17:case 8191:break;default:F=!0}}else this.observer.emit(u.Events.ERROR,u.Events.ERROR,{type:f.ErrorTypes.MEDIA_ERROR,details:f.ErrorDetails.FRAG_PARSING_ERROR,fatal:!1,reason:"TS packet did not start with 0x47"});A.pesData=x,P.pesData=M,D.pesData=N;var de={audioTrack:P,avcTrack:A,id3Track:D,textTrack:this._txtTrack};return T&&this.extractRemainingSamples(de),de},C.flush=function(){var w,k=this.remainderData;return this.remainderData=null,w=k?this.demux(k,-1,!1,!0):{audioTrack:this._audioTrack,avcTrack:this._avcTrack,textTrack:this._txtTrack,id3Track:this._id3Track},this.extractRemainingSamples(w),this.sampleAes?this.decrypt(w,this.sampleAes):w},C.extractRemainingSamples=function(w){var k,_=w.audioTrack,T=w.avcTrack,O=w.id3Track,A=T.pesData,P=_.pesData,D=O.pesData;A&&(k=g(A))?(this.parseAVCPES(k,!0),T.pesData=null):T.pesData=A,P&&(k=g(P))?(_.isAAC?this.parseAACPES(k):this.parseMPEGPES(k),_.pesData=null):(P!=null&&P.size&&c.logger.log("last AAC PES packet truncated,might overlap between fragments"),_.pesData=P),D&&(k=g(D))?(this.parseID3PES(k),O.pesData=null):O.pesData=D},C.demuxSampleAes=function(w,k,_){var T=this.demux(w,_,!0,!this.config.progressive),O=this.sampleAes=new l.default(this.observer,this.config,k);return this.decrypt(T,O)},C.decrypt=function(w,k){return new Promise(function(_){var T=w.audioTrack,O=w.avcTrack;T.samples&&T.isAAC?k.decryptAacSamples(T.samples,0,function(){O.samples?k.decryptAvcSamples(O.samples,0,0,function(){_(w)}):_(w)}):O.samples&&k.decryptAvcSamples(O.samples,0,0,function(){_(w)})})},C.destroy=function(){this._initPTS=this._initDTS=null,this._duration=0},C.parseAVCPES=function(w,k){var _,T=this,O=this._avcTrack,A=this.parseAVCNALu(w.data),P=this.avcSample,D=!1;w.data=null,P&&A.length&&!O.audFound&&(h(P,O),P=this.avcSample=E(!1,w.pts,w.dts,"")),A.forEach(function(I){switch(I.type){case 1:_=!0,P||(P=T.avcSample=E(!0,w.pts,w.dts,"")),P.frame=!0;var x=I.data;if(D&&x.length>4){var L=new i.default(x).readSliceType();L!==2&&L!==4&&L!==7&&L!==9||(P.key=!0)}break;case 5:_=!0,P||(P=T.avcSample=E(!0,w.pts,w.dts,"")),P.key=!0,P.frame=!0;break;case 6:_=!0;var $=new i.default(b(I.data));$.readUByte();for(var M=0,N=0,F=!1,U=0;!F&&$.bytesAvailable>1;){M=0;do M+=U=$.readUByte();while(U===255);N=0;do N+=U=$.readUByte();while(U===255);if(M===4&&$.bytesAvailable!==0){if(F=!0,$.readUByte()===181&&$.readUShort()===49&&$.readUInt()===1195456820&&$.readUByte()===3){for(var B=$.readUByte(),K=31&B,V=[B,$.readUByte()],X=0;X<K;X++)V.push($.readUByte()),V.push($.readUByte()),V.push($.readUByte());p(T._txtTrack.samples,{type:3,pts:w.pts,bytes:V})}}else if(M===5&&$.bytesAvailable!==0){if(F=!0,N>16){for(var Z=[],ne=0;ne<16;ne++)Z.push($.readUByte().toString(16)),ne!==3&&ne!==5&&ne!==7&&ne!==9||Z.push("-");for(var ae=N-16,ye=new Uint8Array(ae),de=0;de<ae;de++)ye[de]=$.readUByte();p(T._txtTrack.samples,{pts:w.pts,payloadType:M,uuid:Z.join(""),userData:Object(o.utf8ArrayToStr)(ye),userDataBytes:ye})}}else if(N<$.bytesAvailable)for(var be=0;be<N;be++)$.readUByte()}break;case 7:if(_=!0,D=!0,!O.sps){var G=new i.default(I.data).readSPS();O.width=G.width,O.height=G.height,O.pixelRatio=G.pixelRatio,O.sps=[I.data],O.duration=T._duration;for(var Y=I.data.subarray(1,4),Q="avc1.",re=0;re<3;re++){var ie=Y[re].toString(16);ie.length<2&&(ie="0"+ie),Q+=ie}O.codec=Q}break;case 8:_=!0,O.pps||(O.pps=[I.data]);break;case 9:_=!1,O.audFound=!0,P&&h(P,O),P=T.avcSample=E(!1,w.pts,w.dts,"");break;case 12:_=!1;break;default:_=!1,P&&(P.debug+="unknown NAL "+I.type+" ")}P&&_&&P.units.push(I)}),k&&P&&(h(P,O),this.avcSample=null)},C.getLastNalUnit=function(){var w,k,_=this.avcSample;if(!_||_.units.length===0){var T=this._avcTrack.samples;_=T[T.length-1]}if((w=_)!==null&&w!==void 0&&w.units){var O=_.units;k=O[O.length-1]}return k},C.parseAVCNALu=function(w){var k,_,T=w.byteLength,O=this._avcTrack,A=O.naluState||0,P=A,D=[],I=0,x=-1,L=0;for(A===-1&&(x=0,L=31&w[0],A=0,I=1);I<T;)if(k=w[I++],A)if(A!==1)if(k)if(k===1){if(x>=0){var $={data:w.subarray(x,I-A-1),type:L};D.push($)}else{var M=this.getLastNalUnit();if(M&&(P&&I<=4-P&&M.state&&(M.data=M.data.subarray(0,M.data.byteLength-P)),(_=I-A-1)>0)){var N=new Uint8Array(M.data.byteLength+_);N.set(M.data,0),N.set(w.subarray(0,_),M.data.byteLength),M.data=N}}I<T?(x=I,L=31&w[I],A=0):A=-1}else A=0;else A=3;else A=k?0:2;else A=k?0:1;if(x>=0&&A>=0){var F={data:w.subarray(x,T),type:L,state:A};D.push(F)}if(D.length===0){var U=this.getLastNalUnit();if(U){var B=new Uint8Array(U.data.byteLength+w.byteLength);B.set(U.data,0),B.set(w,U.data.byteLength),U.data=B}}return O.naluState=A,D},C.parseAACPES=function(w){var k,_,T,O,A,P=0,D=this._audioTrack,I=this.aacOverFlow,x=w.data;if(I){this.aacOverFlow=null;var L=I.sample.unit.byteLength,$=Math.min(I.missing,L),M=L-$;I.sample.unit.set(x.subarray(0,$),M),D.samples.push(I.sample),P=I.missing}for(k=P,_=x.length;k<_-1&&!r.isHeader(x,k);k++);if(k===P||(k<_-1?(T="AAC PES did not start with ADTS header,offset:"+k,O=!1):(T="no ADTS header found in AAC PES",O=!0),c.logger.warn("parsing error:"+T),this.observer.emit(u.Events.ERROR,u.Events.ERROR,{type:f.ErrorTypes.MEDIA_ERROR,details:f.ErrorDetails.FRAG_PARSING_ERROR,fatal:O,reason:T}),!O)){if(r.initTrackConfig(D,this.observer,x,k,this.audioCodec),w.pts!==void 0)A=w.pts;else{if(!I)return void c.logger.warn("[tsdemuxer]: AAC PES unknown PTS");var N=r.getFrameDuration(D.samplerate);A=I.sample.pts+N}for(var F=0;k<_;){if(r.isHeader(x,k)){if(k+5<_){var U=r.appendFrame(D,x,k,A,F);if(U){if(!U.missing){k+=U.length,F++;continue}this.aacOverFlow=U}}break}k++}}},C.parseMPEGPES=function(w){var k=w.data,_=k.length,T=0,O=0,A=w.pts;if(A!==void 0)for(;O<_;)if(a.isHeader(k,O)){var P=a.appendFrame(this._audioTrack,k,O,A,T);if(!P)break;O+=P.length,T++}else O++;else c.logger.warn("[tsdemuxer]: MPEG PES unknown PTS")},C.parseID3PES=function(w){w.pts!==void 0?this._id3Track.samples.push(w):c.logger.warn("[tsdemuxer]: ID3 PES unknown PTS")},y}();function E(y,C,w,k){return{key:y,frame:!1,pts:C,dts:w,units:[],debug:k,length:0}}function m(y,C){return(31&y[C+10])<<8|y[C+11]}function d(y,C,w,k){var _={audio:-1,avc:-1,id3:-1,isAAC:!0},T=C+3+((15&y[C+1])<<8|y[C+2])-4;for(C+=12+((15&y[C+10])<<8|y[C+11]);C<T;){var O=(31&y[C+1])<<8|y[C+2];switch(y[C]){case 207:if(!k){c.logger.log("ADTS AAC with AES-128-CBC frame encryption found in unencrypted stream");break}case 15:_.audio===-1&&(_.audio=O);break;case 21:_.id3===-1&&(_.id3=O);break;case 219:if(!k){c.logger.log("H.264 with AES-128-CBC slice encryption found in unencrypted stream");break}case 27:_.avc===-1&&(_.avc=O);break;case 3:case 4:w?_.audio===-1&&(_.audio=O,_.isAAC=!1):c.logger.log("MPEG audio found, not supported in this browser");break;case 36:c.logger.warn("Unsupported HEVC stream type found")}C+=5+((15&y[C+3])<<8|y[C+4])}return _}function g(y){var C,w,k,_,T,O=0,A=y.data;if(!y||y.size===0)return null;for(;A[0].length<19&&A.length>1;){var P=new Uint8Array(A[0].length+A[1].length);P.set(A[0]),P.set(A[1],A[0].length),A[0]=P,A.splice(1,1)}if(((C=A[0])[0]<<16)+(C[1]<<8)+C[2]===1){if((w=(C[4]<<8)+C[5])&&w>y.size-6)return null;var D=C[7];192&D&&(_=536870912*(14&C[9])+4194304*(255&C[10])+16384*(254&C[11])+128*(255&C[12])+(254&C[13])/2,64&D?_-(T=536870912*(14&C[14])+4194304*(255&C[15])+16384*(254&C[16])+128*(255&C[17])+(254&C[18])/2)>54e5&&(c.logger.warn(Math.round((_-T)/9e4)+"s delta between PTS and DTS, align them"),_=T):T=_);var I=(k=C[8])+9;if(y.size<=I)return null;y.size-=I;for(var x=new Uint8Array(y.size),L=0,$=A.length;L<$;L++){var M=(C=A[L]).byteLength;if(I){if(I>M){I-=M;continue}C=C.subarray(I),M-=I,I=0}x.set(C,O),O+=M}return w&&(w-=k+3),{data:x,pts:_,dts:T,len:w}}return null}function h(y,C){if(y.units.length&&y.frame){if(y.pts===void 0){var w=C.samples,k=w.length;if(!k)return void C.dropped++;var _=w[k-1];y.pts=_.pts,y.dts=_.dts}C.samples.push(y)}y.debug.length&&c.logger.log(y.pts+"/"+y.dts+":"+y.debug)}function p(y,C){var w=y.length;if(w>0){if(C.pts>=y[w-1].pts)y.push(C);else for(var k=w-1;k>=0;k--)if(C.pts<y[k].pts){y.splice(k,0,C);break}}else y.push(C)}function b(y){for(var C=y.byteLength,w=[],k=1;k<C-2;)y[k]===0&&y[k+1]===0&&y[k+2]===3?(w.push(k+2),k+=2):k++;if(w.length===0)return y;var _=C-w.length,T=new Uint8Array(_),O=0;for(k=0;k<_;O++,k++)O===w[0]&&(O++,w.shift()),T[k]=y[O];return T}S.minProbeByteLength=188,t.default=S},"./src/errors.ts":function(e,t,n){var r,a,i,o;n.r(t),n.d(t,"ErrorTypes",function(){return r}),n.d(t,"ErrorDetails",function(){return i}),(a=r||(r={})).NETWORK_ERROR="networkError",a.MEDIA_ERROR="mediaError",a.KEY_SYSTEM_ERROR="keySystemError",a.MUX_ERROR="muxError",a.OTHER_ERROR="otherError",(o=i||(i={})).KEY_SYSTEM_NO_KEYS="keySystemNoKeys",o.KEY_SYSTEM_NO_ACCESS="keySystemNoAccess",o.KEY_SYSTEM_NO_SESSION="keySystemNoSession",o.KEY_SYSTEM_LICENSE_REQUEST_FAILED="keySystemLicenseRequestFailed",o.KEY_SYSTEM_NO_INIT_DATA="keySystemNoInitData",o.MANIFEST_LOAD_ERROR="manifestLoadError",o.MANIFEST_LOAD_TIMEOUT="manifestLoadTimeOut",o.MANIFEST_PARSING_ERROR="manifestParsingError",o.MANIFEST_INCOMPATIBLE_CODECS_ERROR="manifestIncompatibleCodecsError",o.LEVEL_EMPTY_ERROR="levelEmptyError",o.LEVEL_LOAD_ERROR="levelLoadError",o.LEVEL_LOAD_TIMEOUT="levelLoadTimeOut",o.LEVEL_SWITCH_ERROR="levelSwitchError",o.AUDIO_TRACK_LOAD_ERROR="audioTrackLoadError",o.AUDIO_TRACK_LOAD_TIMEOUT="audioTrackLoadTimeOut",o.SUBTITLE_LOAD_ERROR="subtitleTrackLoadError",o.SUBTITLE_TRACK_LOAD_TIMEOUT="subtitleTrackLoadTimeOut",o.FRAG_LOAD_ERROR="fragLoadError",o.FRAG_LOAD_TIMEOUT="fragLoadTimeOut",o.FRAG_DECRYPT_ERROR="fragDecryptError",o.FRAG_PARSING_ERROR="fragParsingError",o.REMUX_ALLOC_ERROR="remuxAllocError",o.KEY_LOAD_ERROR="keyLoadError",o.KEY_LOAD_TIMEOUT="keyLoadTimeOut",o.BUFFER_ADD_CODEC_ERROR="bufferAddCodecError",o.BUFFER_INCOMPATIBLE_CODECS_ERROR="bufferIncompatibleCodecsError",o.BUFFER_APPEND_ERROR="bufferAppendError",o.BUFFER_APPENDING_ERROR="bufferAppendingError",o.BUFFER_STALLED_ERROR="bufferStalledError",o.BUFFER_FULL_ERROR="bufferFullError",o.BUFFER_SEEK_OVER_HOLE="bufferSeekOverHole",o.BUFFER_NUDGE_ON_STALL="bufferNudgeOnStall",o.INTERNAL_EXCEPTION="internalException",o.INTERNAL_ABORTED="aborted",o.UNKNOWN="unknown"},"./src/events.ts":function(e,t,n){var r,a;n.r(t),n.d(t,"Events",function(){return r}),(a=r||(r={})).MEDIA_ATTACHING="hlsMediaAttaching",a.MEDIA_ATTACHED="hlsMediaAttached",a.MEDIA_DETACHING="hlsMediaDetaching",a.MEDIA_DETACHED="hlsMediaDetached",a.BUFFER_RESET="hlsBufferReset",a.BUFFER_CODECS="hlsBufferCodecs",a.BUFFER_CREATED="hlsBufferCreated",a.BUFFER_APPENDING="hlsBufferAppending",a.BUFFER_APPENDED="hlsBufferAppended",a.BUFFER_EOS="hlsBufferEos",a.BUFFER_FLUSHING="hlsBufferFlushing",a.BUFFER_FLUSHED="hlsBufferFlushed",a.MANIFEST_LOADING="hlsManifestLoading",a.MANIFEST_LOADED="hlsManifestLoaded",a.MANIFEST_PARSED="hlsManifestParsed",a.LEVEL_SWITCHING="hlsLevelSwitching",a.LEVEL_SWITCHED="hlsLevelSwitched",a.LEVEL_LOADING="hlsLevelLoading",a.LEVEL_LOADED="hlsLevelLoaded",a.LEVEL_UPDATED="hlsLevelUpdated",a.LEVEL_PTS_UPDATED="hlsLevelPtsUpdated",a.LEVELS_UPDATED="hlsLevelsUpdated",a.AUDIO_TRACKS_UPDATED="hlsAudioTracksUpdated",a.AUDIO_TRACK_SWITCHING="hlsAudioTrackSwitching",a.AUDIO_TRACK_SWITCHED="hlsAudioTrackSwitched",a.AUDIO_TRACK_LOADING="hlsAudioTrackLoading",a.AUDIO_TRACK_LOADED="hlsAudioTrackLoaded",a.SUBTITLE_TRACKS_UPDATED="hlsSubtitleTracksUpdated",a.SUBTITLE_TRACKS_CLEARED="hlsSubtitleTracksCleared",a.SUBTITLE_TRACK_SWITCH="hlsSubtitleTrackSwitch",a.SUBTITLE_TRACK_LOADING="hlsSubtitleTrackLoading",a.SUBTITLE_TRACK_LOADED="hlsSubtitleTrackLoaded",a.SUBTITLE_FRAG_PROCESSED="hlsSubtitleFragProcessed",a.CUES_PARSED="hlsCuesParsed",a.NON_NATIVE_TEXT_TRACKS_FOUND="hlsNonNativeTextTracksFound",a.INIT_PTS_FOUND="hlsInitPtsFound",a.FRAG_LOADING="hlsFragLoading",a.FRAG_LOAD_EMERGENCY_ABORTED="hlsFragLoadEmergencyAborted",a.FRAG_LOADED="hlsFragLoaded",a.FRAG_DECRYPTED="hlsFragDecrypted",a.FRAG_PARSING_INIT_SEGMENT="hlsFragParsingInitSegment",a.FRAG_PARSING_USERDATA="hlsFragParsingUserdata",a.FRAG_PARSING_METADATA="hlsFragParsingMetadata",a.FRAG_PARSED="hlsFragParsed",a.FRAG_BUFFERED="hlsFragBuffered",a.FRAG_CHANGED="hlsFragChanged",a.FPS_DROP="hlsFpsDrop",a.FPS_DROP_LEVEL_CAPPING="hlsFpsDropLevelCapping",a.ERROR="hlsError",a.DESTROYING="hlsDestroying",a.KEY_LOADING="hlsKeyLoading",a.KEY_LOADED="hlsKeyLoaded",a.LIVE_BACK_BUFFER_REACHED="hlsLiveBackBufferReached",a.BACK_BUFFER_REACHED="hlsBackBufferReached"},"./src/hls.ts":function(e,t,n){n.r(t),n.d(t,"default",function(){return h});var r=n("./node_modules/url-toolkit/src/url-toolkit.js"),a=n("./src/loader/playlist-loader.ts"),i=n("./src/loader/key-loader.ts"),o=n("./src/controller/id3-track-controller.ts"),l=n("./src/controller/latency-controller.ts"),u=n("./src/controller/level-controller.ts"),s=n("./src/controller/fragment-tracker.ts"),c=n("./src/controller/stream-controller.ts"),f=n("./src/is-supported.ts"),v=n("./src/utils/logger.ts"),S=n("./src/config.ts"),E=n("./node_modules/eventemitter3/index.js"),m=n("./src/events.ts"),d=n("./src/errors.ts");function g(p,b){for(var y=0;y<b.length;y++){var C=b[y];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(p,C.key,C)}}var h=function(){function p(k){k===void 0&&(k={}),this.config=void 0,this.userConfig=void 0,this.coreComponents=void 0,this.networkControllers=void 0,this._emitter=new E.EventEmitter,this._autoLevelCapping=void 0,this.abrController=void 0,this.bufferController=void 0,this.capLevelController=void 0,this.latencyController=void 0,this.levelController=void 0,this.streamController=void 0,this.audioTrackController=void 0,this.subtitleTrackController=void 0,this.emeController=void 0,this._media=null,this.url=null;var _=this.config=Object(S.mergeConfig)(p.DefaultConfig,k);this.userConfig=k,Object(v.enableLogs)(_.debug),this._autoLevelCapping=-1,_.progressive&&Object(S.enableStreamingMode)(_);var T=_.abrController,O=_.bufferController,A=_.capLevelController,P=_.fpsController,D=this.abrController=new T(this),I=this.bufferController=new O(this),x=this.capLevelController=new A(this),L=new P(this),$=new a.default(this),M=new i.default(this),N=new o.default(this),F=this.levelController=new u.default(this),U=new s.FragmentTracker(this),B=this.streamController=new c.default(this,U);x.setStreamController(B),L.setStreamController(B);var K=[F,B];this.networkControllers=K;var V=[$,M,D,I,x,L,N,U];this.audioTrackController=this.createController(_.audioTrackController,null,K),this.createController(_.audioStreamController,U,K),this.subtitleTrackController=this.createController(_.subtitleTrackController,null,K),this.createController(_.subtitleStreamController,U,K),this.createController(_.timelineController,null,V),this.emeController=this.createController(_.emeController,null,V),this.latencyController=this.createController(l.default,null,V),this.coreComponents=V}p.isSupported=function(){return Object(f.isSupported)()};var b,y,C,w=p.prototype;return w.createController=function(k,_,T){if(k){var O=_?new k(this,_):new k(this);return T&&T.push(O),O}return null},w.on=function(k,_,T){T===void 0&&(T=this),this._emitter.on(k,_,T)},w.once=function(k,_,T){T===void 0&&(T=this),this._emitter.once(k,_,T)},w.removeAllListeners=function(k){this._emitter.removeAllListeners(k)},w.off=function(k,_,T,O){T===void 0&&(T=this),this._emitter.off(k,_,T,O)},w.listeners=function(k){return this._emitter.listeners(k)},w.emit=function(k,_,T){return this._emitter.emit(k,_,T)},w.trigger=function(k,_){if(this.config.debug)return this.emit(k,k,_);try{return this.emit(k,k,_)}catch(T){v.logger.error("An internal error happened while handling event "+k+'. Error message: "'+T.message+'". Here is a stacktrace:',T),this.trigger(m.Events.ERROR,{type:d.ErrorTypes.OTHER_ERROR,details:d.ErrorDetails.INTERNAL_EXCEPTION,fatal:!1,event:k,error:T})}return!1},w.listenerCount=function(k){return this._emitter.listenerCount(k)},w.destroy=function(){v.logger.log("destroy"),this.trigger(m.Events.DESTROYING,void 0),this.detachMedia(),this.removeAllListeners(),this._autoLevelCapping=-1,this.url=null,this.networkControllers.forEach(function(k){return k.destroy()}),this.networkControllers.length=0,this.coreComponents.forEach(function(k){return k.destroy()}),this.coreComponents.length=0},w.attachMedia=function(k){v.logger.log("attachMedia"),this._media=k,this.trigger(m.Events.MEDIA_ATTACHING,{media:k})},w.detachMedia=function(){v.logger.log("detachMedia"),this.trigger(m.Events.MEDIA_DETACHING,void 0),this._media=null},w.loadSource=function(k){this.stopLoad();var _=this.media,T=this.url,O=this.url=r.buildAbsoluteURL(self.location.href,k,{alwaysNormalize:!0});v.logger.log("loadSource:"+O),_&&T&&T!==O&&this.bufferController.hasSourceTypes()&&(this.detachMedia(),this.attachMedia(_)),this.trigger(m.Events.MANIFEST_LOADING,{url:k})},w.startLoad=function(k){k===void 0&&(k=-1),v.logger.log("startLoad("+k+")"),this.networkControllers.forEach(function(_){_.startLoad(k)})},w.stopLoad=function(){v.logger.log("stopLoad"),this.networkControllers.forEach(function(k){k.stopLoad()})},w.swapAudioCodec=function(){v.logger.log("swapAudioCodec"),this.streamController.swapAudioCodec()},w.recoverMediaError=function(){v.logger.log("recoverMediaError");var k=this._media;this.detachMedia(),k&&this.attachMedia(k)},w.removeLevel=function(k,_){_===void 0&&(_=0),this.levelController.removeLevel(k,_)},b=p,C=[{key:"version",get:function(){return"1.0.10"}},{key:"Events",get:function(){return m.Events}},{key:"ErrorTypes",get:function(){return d.ErrorTypes}},{key:"ErrorDetails",get:function(){return d.ErrorDetails}},{key:"DefaultConfig",get:function(){return p.defaultConfig?p.defaultConfig:S.hlsDefaultConfig},set:function(k){p.defaultConfig=k}}],(y=[{key:"levels",get:function(){var k=this.levelController.levels;return k||[]}},{key:"currentLevel",get:function(){return this.streamController.currentLevel},set:function(k){v.logger.log("set currentLevel:"+k),this.loadLevel=k,this.abrController.clearTimer(),this.streamController.immediateLevelSwitch()}},{key:"nextLevel",get:function(){return this.streamController.nextLevel},set:function(k){v.logger.log("set nextLevel:"+k),this.levelController.manualLevel=k,this.streamController.nextLevelSwitch()}},{key:"loadLevel",get:function(){return this.levelController.level},set:function(k){v.logger.log("set loadLevel:"+k),this.levelController.manualLevel=k}},{key:"nextLoadLevel",get:function(){return this.levelController.nextLoadLevel},set:function(k){this.levelController.nextLoadLevel=k}},{key:"firstLevel",get:function(){return Math.max(this.levelController.firstLevel,this.minAutoLevel)},set:function(k){v.logger.log("set firstLevel:"+k),this.levelController.firstLevel=k}},{key:"startLevel",get:function(){return this.levelController.startLevel},set:function(k){v.logger.log("set startLevel:"+k),k!==-1&&(k=Math.max(k,this.minAutoLevel)),this.levelController.startLevel=k}},{key:"capLevelToPlayerSize",get:function(){return this.config.capLevelToPlayerSize},set:function(k){var _=!!k;_!==this.config.capLevelToPlayerSize&&(_?this.capLevelController.startCapping():(this.capLevelController.stopCapping(),this.autoLevelCapping=-1,this.streamController.nextLevelSwitch()),this.config.capLevelToPlayerSize=_)}},{key:"autoLevelCapping",get:function(){return this._autoLevelCapping},set:function(k){this._autoLevelCapping!==k&&(v.logger.log("set autoLevelCapping:"+k),this._autoLevelCapping=k)}},{key:"bandwidthEstimate",get:function(){var k=this.abrController.bwEstimator;return k?k.getEstimate():NaN}},{key:"autoLevelEnabled",get:function(){return this.levelController.manualLevel===-1}},{key:"manualLevel",get:function(){return this.levelController.manualLevel}},{key:"minAutoLevel",get:function(){var k=this.levels,_=this.config.minAutoBitrate;if(!k)return 0;for(var T=k.length,O=0;O<T;O++)if(k[O].maxBitrate>_)return O;return 0}},{key:"maxAutoLevel",get:function(){var k=this.levels,_=this.autoLevelCapping;return _===-1&&k&&k.length?k.length-1:_}},{key:"nextAutoLevel",get:function(){return Math.min(Math.max(this.abrController.nextAutoLevel,this.minAutoLevel),this.maxAutoLevel)},set:function(k){this.abrController.nextAutoLevel=Math.max(this.minAutoLevel,k)}},{key:"audioTracks",get:function(){var k=this.audioTrackController;return k?k.audioTracks:[]}},{key:"audioTrack",get:function(){var k=this.audioTrackController;return k?k.audioTrack:-1},set:function(k){var _=this.audioTrackController;_&&(_.audioTrack=k)}},{key:"subtitleTracks",get:function(){var k=this.subtitleTrackController;return k?k.subtitleTracks:[]}},{key:"subtitleTrack",get:function(){var k=this.subtitleTrackController;return k?k.subtitleTrack:-1},set:function(k){var _=this.subtitleTrackController;_&&(_.subtitleTrack=k)}},{key:"media",get:function(){return this._media}},{key:"subtitleDisplay",get:function(){var k=this.subtitleTrackController;return!!k&&k.subtitleDisplay},set:function(k){var _=this.subtitleTrackController;_&&(_.subtitleDisplay=k)}},{key:"lowLatencyMode",get:function(){return this.config.lowLatencyMode},set:function(k){this.config.lowLatencyMode=k}},{key:"liveSyncPosition",get:function(){return this.latencyController.liveSyncPosition}},{key:"latency",get:function(){return this.latencyController.latency}},{key:"maxLatency",get:function(){return this.latencyController.maxLatency}},{key:"targetLatency",get:function(){return this.latencyController.targetLatency}},{key:"drift",get:function(){return this.latencyController.drift}},{key:"forceStartLoad",get:function(){return this.streamController.forceStartLoad}}])&&g(b.prototype,y),C&&g(b,C),p}();h.defaultConfig=void 0},"./src/is-supported.ts":function(e,t,n){n.r(t),n.d(t,"isSupported",function(){return i}),n.d(t,"changeTypeSupported",function(){return o});var r=n("./src/utils/mediasource-helper.ts");function a(){return self.SourceBuffer||self.WebKitSourceBuffer}function i(){var l=Object(r.getMediaSource)();if(!l)return!1;var u=a(),s=l&&typeof l.isTypeSupported=="function"&&l.isTypeSupported('video/mp4; codecs="avc1.42E01E,mp4a.40.2"'),c=!u||u.prototype&&typeof u.prototype.appendBuffer=="function"&&typeof u.prototype.remove=="function";return!!s&&!!c}function o(){var l,u=a();return typeof(u==null||(l=u.prototype)===null||l===void 0?void 0:l.changeType)=="function"}},"./src/loader/fragment-loader.ts":function(e,t,n){n.r(t),n.d(t,"default",function(){return f}),n.d(t,"LoadError",function(){return S});var r=n("./src/polyfills/number.ts"),a=n("./src/errors.ts");function i(E){var m=typeof Map=="function"?new Map:void 0;return(i=function(d){if(d===null||(g=d,Function.toString.call(g).indexOf("[native code]")===-1))return d;var g;if(typeof d!="function")throw new TypeError("Super expression must either be null or a function");if(m!==void 0){if(m.has(d))return m.get(d);m.set(d,h)}function h(){return o(d,arguments,s(this).constructor)}return h.prototype=Object.create(d.prototype,{constructor:{value:h,enumerable:!1,writable:!0,configurable:!0}}),u(h,d)})(E)}function o(E,m,d){return(o=l()?Reflect.construct:function(g,h,p){var b=[null];b.push.apply(b,h);var y=new(Function.bind.apply(g,b));return p&&u(y,p.prototype),y}).apply(null,arguments)}function l(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function u(E,m){return(u=Object.setPrototypeOf||function(d,g){return d.__proto__=g,d})(E,m)}function s(E){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(m){return m.__proto__||Object.getPrototypeOf(m)})(E)}var c=Math.pow(2,17),f=function(){function E(d){this.config=void 0,this.loader=null,this.partLoadTimeout=-1,this.config=d}var m=E.prototype;return m.destroy=function(){this.loader&&(this.loader.destroy(),this.loader=null)},m.abort=function(){this.loader&&this.loader.abort()},m.load=function(d,g){var h=this,p=d.url;if(!p)return Promise.reject(new S({type:a.ErrorTypes.NETWORK_ERROR,details:a.ErrorDetails.FRAG_LOAD_ERROR,fatal:!1,frag:d,networkDetails:null},"Fragment does not have a "+(p?"part list":"url")));this.abort();var b=this.config,y=b.fLoader,C=b.loader;return new Promise(function(w,k){h.loader&&h.loader.destroy();var _=h.loader=d.loader=y?new y(b):new C(b),T=v(d),O={timeout:b.fragLoadingTimeOut,maxRetry:0,retryDelay:0,maxRetryDelay:b.fragLoadingMaxRetryTimeout,highWaterMark:c};d.stats=_.stats,_.load(T,O,{onSuccess:function(A,P,D,I){h.resetLoader(d,_),w({frag:d,part:null,payload:A.data,networkDetails:I})},onError:function(A,P,D){h.resetLoader(d,_),k(new S({type:a.ErrorTypes.NETWORK_ERROR,details:a.ErrorDetails.FRAG_LOAD_ERROR,fatal:!1,frag:d,response:A,networkDetails:D}))},onAbort:function(A,P,D){h.resetLoader(d,_),k(new S({type:a.ErrorTypes.NETWORK_ERROR,details:a.ErrorDetails.INTERNAL_ABORTED,fatal:!1,frag:d,networkDetails:D}))},onTimeout:function(A,P,D){h.resetLoader(d,_),k(new S({type:a.ErrorTypes.NETWORK_ERROR,details:a.ErrorDetails.FRAG_LOAD_TIMEOUT,fatal:!1,frag:d,networkDetails:D}))},onProgress:function(A,P,D,I){g&&g({frag:d,part:null,payload:D,networkDetails:I})}})})},m.loadPart=function(d,g,h){var p=this;this.abort();var b=this.config,y=b.fLoader,C=b.loader;return new Promise(function(w,k){p.loader&&p.loader.destroy();var _=p.loader=d.loader=y?new y(b):new C(b),T=v(d,g),O={timeout:b.fragLoadingTimeOut,maxRetry:0,retryDelay:0,maxRetryDelay:b.fragLoadingMaxRetryTimeout,highWaterMark:c};g.stats=_.stats,_.load(T,O,{onSuccess:function(A,P,D,I){p.resetLoader(d,_),p.updateStatsFromPart(d,g);var x={frag:d,part:g,payload:A.data,networkDetails:I};h(x),w(x)},onError:function(A,P,D){p.resetLoader(d,_),k(new S({type:a.ErrorTypes.NETWORK_ERROR,details:a.ErrorDetails.FRAG_LOAD_ERROR,fatal:!1,frag:d,part:g,response:A,networkDetails:D}))},onAbort:function(A,P,D){d.stats.aborted=g.stats.aborted,p.resetLoader(d,_),k(new S({type:a.ErrorTypes.NETWORK_ERROR,details:a.ErrorDetails.INTERNAL_ABORTED,fatal:!1,frag:d,part:g,networkDetails:D}))},onTimeout:function(A,P,D){p.resetLoader(d,_),k(new S({type:a.ErrorTypes.NETWORK_ERROR,details:a.ErrorDetails.FRAG_LOAD_TIMEOUT,fatal:!1,frag:d,part:g,networkDetails:D}))}})})},m.updateStatsFromPart=function(d,g){var h=d.stats,p=g.stats,b=p.total;if(h.loaded+=p.loaded,b){var y=Math.round(d.duration/g.duration),C=Math.min(Math.round(h.loaded/b),y),w=(y-C)*Math.round(h.loaded/C);h.total=h.loaded+w}else h.total=Math.max(h.loaded,h.total);var k=h.loading,_=p.loading;k.start?k.first+=_.first-_.start:(k.start=_.start,k.first=_.first),k.end=_.end},m.resetLoader=function(d,g){d.loader=null,this.loader===g&&(self.clearTimeout(this.partLoadTimeout),this.loader=null),g.destroy()},E}();function v(E,m){m===void 0&&(m=null);var d=m||E,g={frag:E,part:m,responseType:"arraybuffer",url:d.url,rangeStart:0,rangeEnd:0},h=d.byteRangeStartOffset,p=d.byteRangeEndOffset;return Object(r.isFiniteNumber)(h)&&Object(r.isFiniteNumber)(p)&&(g.rangeStart=h,g.rangeEnd=p),g}var S=function(E){var m,d;function g(h){for(var p,b=arguments.length,y=new Array(b>1?b-1:0),C=1;C<b;C++)y[C-1]=arguments[C];return(p=E.call.apply(E,[this].concat(y))||this).data=void 0,p.data=h,p}return d=E,(m=g).prototype=Object.create(d.prototype),m.prototype.constructor=m,u(m,d),g}(i(Error))},"./src/loader/fragment.ts":function(e,t,n){n.r(t),n.d(t,"ElementaryStreamTypes",function(){return r}),n.d(t,"BaseSegment",function(){return E}),n.d(t,"Fragment",function(){return m}),n.d(t,"Part",function(){return d});var r,a,i=n("./src/polyfills/number.ts"),o=n("./node_modules/url-toolkit/src/url-toolkit.js"),l=n("./src/utils/logger.ts"),u=n("./src/loader/level-key.ts"),s=n("./src/loader/load-stats.ts");function c(g,h){g.prototype=Object.create(h.prototype),g.prototype.constructor=g,f(g,h)}function f(g,h){return(f=Object.setPrototypeOf||function(p,b){return p.__proto__=b,p})(g,h)}function v(g,h){for(var p=0;p<h.length;p++){var b=h[p];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(g,b.key,b)}}function S(g,h,p){return h&&v(g.prototype,h),p&&v(g,p),g}(a=r||(r={})).AUDIO="audio",a.VIDEO="video",a.AUDIOVIDEO="audiovideo";var E=function(){function g(h){var p;this._byteRange=null,this._url=null,this.baseurl=void 0,this.relurl=void 0,this.elementaryStreams=((p={})[r.AUDIO]=null,p[r.VIDEO]=null,p[r.AUDIOVIDEO]=null,p),this.baseurl=h}return g.prototype.setByteRange=function(h,p){var b=h.split("@",2),y=[];b.length===1?y[0]=p?p.byteRangeEndOffset:0:y[0]=parseInt(b[1]),y[1]=parseInt(b[0])+y[0],this._byteRange=y},S(g,[{key:"byteRange",get:function(){return this._byteRange?this._byteRange:[]}},{key:"byteRangeStartOffset",get:function(){return this.byteRange[0]}},{key:"byteRangeEndOffset",get:function(){return this.byteRange[1]}},{key:"url",get:function(){return!this._url&&this.baseurl&&this.relurl&&(this._url=Object(o.buildAbsoluteURL)(this.baseurl,this.relurl,{alwaysNormalize:!0})),this._url||""},set:function(h){this._url=h}}]),g}(),m=function(g){function h(b,y){var C;return(C=g.call(this,y)||this)._decryptdata=null,C.rawProgramDateTime=null,C.programDateTime=null,C.tagList=[],C.duration=0,C.sn=0,C.levelkey=void 0,C.type=void 0,C.loader=null,C.level=-1,C.cc=0,C.startPTS=void 0,C.endPTS=void 0,C.appendedPTS=void 0,C.startDTS=void 0,C.endDTS=void 0,C.start=0,C.deltaPTS=void 0,C.maxStartPTS=void 0,C.minEndPTS=void 0,C.stats=new s.LoadStats,C.urlId=0,C.data=void 0,C.bitrateTest=!1,C.title=null,C.initSegment=null,C.type=b,C}c(h,g);var p=h.prototype;return p.createInitializationVector=function(b){for(var y=new Uint8Array(16),C=12;C<16;C++)y[C]=b>>8*(15-C)&255;return y},p.setDecryptDataFromLevelKey=function(b,y){var C=b;return(b==null?void 0:b.method)==="AES-128"&&b.uri&&!b.iv&&((C=u.LevelKey.fromURI(b.uri)).method=b.method,C.iv=this.createInitializationVector(y),C.keyFormat="identity"),C},p.setElementaryStreamInfo=function(b,y,C,w,k,_){_===void 0&&(_=!1);var T=this.elementaryStreams,O=T[b];O?(O.startPTS=Math.min(O.startPTS,y),O.endPTS=Math.max(O.endPTS,C),O.startDTS=Math.min(O.startDTS,w),O.endDTS=Math.max(O.endDTS,k)):T[b]={startPTS:y,endPTS:C,startDTS:w,endDTS:k,partial:_}},p.clearElementaryStreamInfo=function(){var b=this.elementaryStreams;b[r.AUDIO]=null,b[r.VIDEO]=null,b[r.AUDIOVIDEO]=null},S(h,[{key:"decryptdata",get:function(){if(!this.levelkey&&!this._decryptdata)return null;if(!this._decryptdata&&this.levelkey){var b=this.sn;typeof b!="number"&&(this.levelkey&&this.levelkey.method==="AES-128"&&!this.levelkey.iv&&l.logger.warn('missing IV for initialization segment with method="'+this.levelkey.method+'" - compliance issue'),b=0),this._decryptdata=this.setDecryptDataFromLevelKey(this.levelkey,b)}return this._decryptdata}},{key:"end",get:function(){return this.start+this.duration}},{key:"endProgramDateTime",get:function(){if(this.programDateTime===null||!Object(i.isFiniteNumber)(this.programDateTime))return null;var b=Object(i.isFiniteNumber)(this.duration)?this.duration:0;return this.programDateTime+1e3*b}},{key:"encrypted",get:function(){var b;return!((b=this.decryptdata)===null||b===void 0||!b.keyFormat||!this.decryptdata.uri)}}]),h}(E),d=function(g){function h(p,b,y,C,w){var k;(k=g.call(this,y)||this).fragOffset=0,k.duration=0,k.gap=!1,k.independent=!1,k.relurl=void 0,k.fragment=void 0,k.index=void 0,k.stats=new s.LoadStats,k.duration=p.decimalFloatingPoint("DURATION"),k.gap=p.bool("GAP"),k.independent=p.bool("INDEPENDENT"),k.relurl=p.enumeratedString("URI"),k.fragment=b,k.index=C;var _=p.enumeratedString("BYTERANGE");return _&&k.setByteRange(_,w),w&&(k.fragOffset=w.fragOffset+w.duration),k}return c(h,g),S(h,[{key:"start",get:function(){return this.fragment.start+this.fragOffset}},{key:"end",get:function(){return this.start+this.duration}},{key:"loaded",get:function(){var p=this.elementaryStreams;return!!(p.audio||p.video||p.audiovideo)}}]),h}(E)},"./src/loader/key-loader.ts":function(e,t,n){n.r(t),n.d(t,"default",function(){return o});var r=n("./src/events.ts"),a=n("./src/errors.ts"),i=n("./src/utils/logger.ts"),o=function(){function l(s){this.hls=void 0,this.loaders={},this.decryptkey=null,this.decrypturl=null,this.hls=s,this._registerListeners()}var u=l.prototype;return u._registerListeners=function(){this.hls.on(r.Events.KEY_LOADING,this.onKeyLoading,this)},u._unregisterListeners=function(){this.hls.off(r.Events.KEY_LOADING,this.onKeyLoading)},u.destroy=function(){for(var s in this._unregisterListeners(),this.loaders){var c=this.loaders[s];c&&c.destroy()}this.loaders={}},u.onKeyLoading=function(s,c){var f=c.frag,v=f.type,S=this.loaders[v];if(f.decryptdata){var E=f.decryptdata.uri;if(E!==this.decrypturl||this.decryptkey===null){var m=this.hls.config;if(S&&(i.logger.warn("abort previous key loader for type:"+v),S.abort()),!E)return void i.logger.warn("key uri is falsy");var d=m.loader,g=f.loader=this.loaders[v]=new d(m);this.decrypturl=E,this.decryptkey=null;var h={url:E,frag:f,responseType:"arraybuffer"},p={timeout:m.fragLoadingTimeOut,maxRetry:0,retryDelay:m.fragLoadingRetryDelay,maxRetryDelay:m.fragLoadingMaxRetryTimeout,highWaterMark:0},b={onSuccess:this.loadsuccess.bind(this),onError:this.loaderror.bind(this),onTimeout:this.loadtimeout.bind(this)};g.load(h,p,b)}else this.decryptkey&&(f.decryptdata.key=this.decryptkey,this.hls.trigger(r.Events.KEY_LOADED,{frag:f}))}else i.logger.warn("Missing decryption data on fragment in onKeyLoading")},u.loadsuccess=function(s,c,f){var v=f.frag;v.decryptdata?(this.decryptkey=v.decryptdata.key=new Uint8Array(s.data),v.loader=null,delete this.loaders[v.type],this.hls.trigger(r.Events.KEY_LOADED,{frag:v})):i.logger.error("after key load, decryptdata unset")},u.loaderror=function(s,c){var f=c.frag,v=f.loader;v&&v.abort(),delete this.loaders[f.type],this.hls.trigger(r.Events.ERROR,{type:a.ErrorTypes.NETWORK_ERROR,details:a.ErrorDetails.KEY_LOAD_ERROR,fatal:!1,frag:f,response:s})},u.loadtimeout=function(s,c){var f=c.frag,v=f.loader;v&&v.abort(),delete this.loaders[f.type],this.hls.trigger(r.Events.ERROR,{type:a.ErrorTypes.NETWORK_ERROR,details:a.ErrorDetails.KEY_LOAD_TIMEOUT,fatal:!1,frag:f})},l}()},"./src/loader/level-details.ts":function(e,t,n){n.r(t),n.d(t,"LevelDetails",function(){return i});var r=n("./src/polyfills/number.ts");function a(o,l){for(var u=0;u<l.length;u++){var s=l[u];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(o,s.key,s)}}var i=function(){function o(s){this.PTSKnown=!1,this.alignedSliding=!1,this.averagetargetduration=void 0,this.endCC=0,this.endSN=0,this.fragments=void 0,this.fragmentHint=void 0,this.partList=null,this.live=!0,this.ageHeader=0,this.advancedDateTime=void 0,this.updated=!0,this.advanced=!0,this.availabilityDelay=void 0,this.misses=0,this.needSidxRanges=!1,this.startCC=0,this.startSN=0,this.startTimeOffset=null,this.targetduration=0,this.totalduration=0,this.type=null,this.url=void 0,this.m3u8="",this.version=null,this.canBlockReload=!1,this.canSkipUntil=0,this.canSkipDateRanges=!1,this.skippedSegments=0,this.recentlyRemovedDateranges=void 0,this.partHoldBack=0,this.holdBack=0,this.partTarget=0,this.preloadHint=void 0,this.renditionReports=void 0,this.tuneInGoal=0,this.deltaUpdateFailed=void 0,this.driftStartTime=0,this.driftEndTime=0,this.driftStart=0,this.driftEnd=0,this.fragments=[],this.url=s}var l,u;return o.prototype.reloaded=function(s){if(!s)return this.advanced=!0,void(this.updated=!0);var c=this.lastPartSn-s.lastPartSn,f=this.lastPartIndex-s.lastPartIndex;this.updated=this.endSN!==s.endSN||!!f||!!c,this.advanced=this.endSN>s.endSN||c>0||c===0&&f>0,this.updated||this.advanced?this.misses=Math.floor(.6*s.misses):this.misses=s.misses+1,this.availabilityDelay=s.availabilityDelay},l=o,(u=[{key:"hasProgramDateTime",get:function(){return!!this.fragments.length&&Object(r.isFiniteNumber)(this.fragments[this.fragments.length-1].programDateTime)}},{key:"levelTargetDuration",get:function(){return this.averagetargetduration||this.targetduration||10}},{key:"drift",get:function(){var s=this.driftEndTime-this.driftStartTime;return s>0?1e3*(this.driftEnd-this.driftStart)/s:1}},{key:"edge",get:function(){return this.partEnd||this.fragmentEnd}},{key:"partEnd",get:function(){var s;return(s=this.partList)!==null&&s!==void 0&&s.length?this.partList[this.partList.length-1].end:this.fragmentEnd}},{key:"fragmentEnd",get:function(){var s;return(s=this.fragments)!==null&&s!==void 0&&s.length?this.fragments[this.fragments.length-1].end:0}},{key:"age",get:function(){return this.advancedDateTime?Math.max(Date.now()-this.advancedDateTime,0)/1e3:0}},{key:"lastPartIndex",get:function(){var s;return(s=this.partList)!==null&&s!==void 0&&s.length?this.partList[this.partList.length-1].index:-1}},{key:"lastPartSn",get:function(){var s;return(s=this.partList)!==null&&s!==void 0&&s.length?this.partList[this.partList.length-1].fragment.sn:this.endSN}}])&&a(l.prototype,u),o}()},"./src/loader/level-key.ts":function(e,t,n){n.r(t),n.d(t,"LevelKey",function(){return i});var r=n("./node_modules/url-toolkit/src/url-toolkit.js");function a(o,l){for(var u=0;u<l.length;u++){var s=l[u];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(o,s.key,s)}}var i=function(){function o(s,c){this._uri=null,this.method=null,this.keyFormat=null,this.keyFormatVersions=null,this.keyID=null,this.key=null,this.iv=null,this._uri=c?Object(r.buildAbsoluteURL)(s,c,{alwaysNormalize:!0}):s}var l,u;return o.fromURL=function(s,c){return new o(s,c)},o.fromURI=function(s){return new o(s)},l=o,(u=[{key:"uri",get:function(){return this._uri}}])&&a(l.prototype,u),o}()},"./src/loader/load-stats.ts":function(e,t,n){n.r(t),n.d(t,"LoadStats",function(){return r});var r=function(){this.aborted=!1,this.loaded=0,this.retry=0,this.total=0,this.chunkCount=0,this.bwEstimate=0,this.loading={start:0,first:0,end:0},this.parsing={start:0,end:0},this.buffering={start:0,first:0,end:0}}},"./src/loader/m3u8-parser.ts":function(e,t,n){n.r(t),n.d(t,"default",function(){return d});var r=n("./src/polyfills/number.ts"),a=n("./node_modules/url-toolkit/src/url-toolkit.js"),i=n("./src/loader/fragment.ts"),o=n("./src/loader/level-details.ts"),l=n("./src/loader/level-key.ts"),u=n("./src/utils/attr-list.ts"),s=n("./src/utils/logger.ts"),c=n("./src/utils/codecs.ts"),f=/#EXT-X-STREAM-INF:([^\r\n]*)(?:[\r\n](?:#[^\r\n]*)?)*([^\r\n]+)|#EXT-X-SESSION-DATA:([^\r\n]*)[\r\n]+/g,v=/#EXT-X-MEDIA:(.*)/g,S=new RegExp([/#EXTINF:\s*(\d*(?:\.\d+)?)(?:,(.*)\s+)?/.source,/(?!#) *(\S[\S ]*)/.source,/#EXT-X-BYTERANGE:*(.+)/.source,/#EXT-X-PROGRAM-DATE-TIME:(.+)/.source,/#.*/.source].join("|"),"g"),E=new RegExp([/#(EXTM3U)/.source,/#EXT-X-(PLAYLIST-TYPE):(.+)/.source,/#EXT-X-(MEDIA-SEQUENCE): *(\d+)/.source,/#EXT-X-(SKIP):(.+)/.source,/#EXT-X-(TARGETDURATION): *(\d+)/.source,/#EXT-X-(KEY):(.+)/.source,/#EXT-X-(START):(.+)/.source,/#EXT-X-(ENDLIST)/.source,/#EXT-X-(DISCONTINUITY-SEQ)UENCE: *(\d+)/.source,/#EXT-X-(DIS)CONTINUITY/.source,/#EXT-X-(VERSION):(\d+)/.source,/#EXT-X-(MAP):(.+)/.source,/#EXT-X-(SERVER-CONTROL):(.+)/.source,/#EXT-X-(PART-INF):(.+)/.source,/#EXT-X-(GAP)/.source,/#EXT-X-(BITRATE):\s*(\d+)/.source,/#EXT-X-(PART):(.+)/.source,/#EXT-X-(PRELOAD-HINT):(.+)/.source,/#EXT-X-(RENDITION-REPORT):(.+)/.source,/(#)([^:]*):(.*)/.source,/(#)(.*)(?:.*)\r?\n?/.source].join("|")),m=/\.(mp4|m4s|m4v|m4a)$/i,d=function(){function b(){}return b.findGroup=function(y,C){for(var w=0;w<y.length;w++){var k=y[w];if(k.id===C)return k}},b.convertAVC1ToAVCOTI=function(y){var C=y.split(".");if(C.length>2){var w=C.shift()+".";return w+=parseInt(C.shift()).toString(16),w+=("000"+parseInt(C.shift()).toString(16)).substr(-4)}return y},b.resolve=function(y,C){return a.buildAbsoluteURL(C,y,{alwaysNormalize:!0})},b.parseMasterPlaylist=function(y,C){var w,k=[],_={},T=!1;for(f.lastIndex=0;(w=f.exec(y))!=null;)if(w[1]){var O=new u.AttrList(w[1]),A={attrs:O,bitrate:O.decimalInteger("AVERAGE-BANDWIDTH")||O.decimalInteger("BANDWIDTH"),name:O.NAME,url:b.resolve(w[2],C)},P=O.decimalResolution("RESOLUTION");P&&(A.width=P.width,A.height=P.height),g((O.CODECS||"").split(/[ ,]+/).filter(function(I){return I}),A),A.videoCodec&&A.videoCodec.indexOf("avc1")!==-1&&(A.videoCodec=b.convertAVC1ToAVCOTI(A.videoCodec)),k.push(A)}else if(w[3]){var D=new u.AttrList(w[3]);D["DATA-ID"]&&(T=!0,_[D["DATA-ID"]]=D)}return{levels:k,sessionData:T?_:null}},b.parseMasterPlaylistMedia=function(y,C,w,k){var _;k===void 0&&(k=[]);var T=[],O=0;for(v.lastIndex=0;(_=v.exec(y))!==null;){var A=new u.AttrList(_[1]);if(A.TYPE===w){var P={attrs:A,bitrate:0,id:O++,groupId:A["GROUP-ID"],instreamId:A["INSTREAM-ID"],name:A.NAME||A.LANGUAGE||"",type:w,default:A.bool("DEFAULT"),autoselect:A.bool("AUTOSELECT"),forced:A.bool("FORCED"),lang:A.LANGUAGE,url:A.URI?b.resolve(A.URI,C):""};if(k.length){var D=b.findGroup(k,P.groupId)||k[0];h(P,D,"audioCodec"),h(P,D,"textCodec")}T.push(P)}}return T},b.parseLevelPlaylist=function(y,C,w,k,_){var T,O,A,P=new o.LevelDetails(C),D=P.fragments,I=null,x=0,L=0,$=0,M=0,N=null,F=new i.Fragment(k,C),U=-1,B=!1;for(S.lastIndex=0,P.m3u8=y;(T=S.exec(y))!==null;){B&&(B=!1,(F=new i.Fragment(k,C)).start=$,F.sn=x,F.cc=M,F.level=w,I&&(F.initSegment=I,F.rawProgramDateTime=I.rawProgramDateTime));var K=T[1];if(K){F.duration=parseFloat(K);var V=(" "+T[2]).slice(1);F.title=V||null,F.tagList.push(V?["INF",K,V]:["INF",K])}else if(T[3])Object(r.isFiniteNumber)(F.duration)&&(F.start=$,A&&(F.levelkey=A),F.sn=x,F.level=w,F.cc=M,F.urlId=_,D.push(F),F.relurl=(" "+T[3]).slice(1),p(F,N),N=F,$+=F.duration,x++,L=0,B=!0);else if(T[4]){var X=(" "+T[4]).slice(1);N?F.setByteRange(X,N):F.setByteRange(X)}else if(T[5])F.rawProgramDateTime=(" "+T[5]).slice(1),F.tagList.push(["PROGRAM-DATE-TIME",F.rawProgramDateTime]),U===-1&&(U=D.length);else{if(!(T=T[0].match(E))){s.logger.warn("No matches on slow regex match for level playlist!");continue}for(O=1;O<T.length&&T[O]===void 0;O++);var Z=(" "+T[O]).slice(1),ne=(" "+T[O+1]).slice(1),ae=T[O+2]?(" "+T[O+2]).slice(1):"";switch(Z){case"PLAYLIST-TYPE":P.type=ne.toUpperCase();break;case"MEDIA-SEQUENCE":x=P.startSN=parseInt(ne);break;case"SKIP":var ye=new u.AttrList(ne),de=ye.decimalInteger("SKIPPED-SEGMENTS");if(Object(r.isFiniteNumber)(de)){P.skippedSegments=de;for(var be=de;be--;)D.unshift(null);x+=de}var G=ye.enumeratedString("RECENTLY-REMOVED-DATERANGES");G&&(P.recentlyRemovedDateranges=G.split("	"));break;case"TARGETDURATION":P.targetduration=parseFloat(ne);break;case"VERSION":P.version=parseInt(ne);break;case"EXTM3U":break;case"ENDLIST":P.live=!1;break;case"#":(ne||ae)&&F.tagList.push(ae?[ne,ae]:[ne]);break;case"DIS":M++;case"GAP":F.tagList.push([Z]);break;case"BITRATE":F.tagList.push([Z,ne]);break;case"DISCONTINUITY-SEQ":M=parseInt(ne);break;case"KEY":var Y,Q=new u.AttrList(ne),re=Q.enumeratedString("METHOD"),ie=Q.URI,le=Q.hexadecimalInteger("IV"),Se=Q.enumeratedString("KEYFORMATVERSIONS"),fe=Q.enumeratedString("KEYID"),me=(Y=Q.enumeratedString("KEYFORMAT"))!=null?Y:"identity";if(["com.apple.streamingkeydelivery","com.microsoft.playready","urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed","com.widevine"].indexOf(me)>-1){s.logger.warn("Keyformat "+me+" is not supported from the manifest");continue}if(me!=="identity")continue;re&&(A=l.LevelKey.fromURL(C,ie),ie&&["AES-128","SAMPLE-AES","SAMPLE-AES-CENC"].indexOf(re)>=0&&(A.method=re,A.keyFormat=me,fe&&(A.keyID=fe),Se&&(A.keyFormatVersions=Se),A.iv=le));break;case"START":var ue=new u.AttrList(ne).decimalFloatingPoint("TIME-OFFSET");Object(r.isFiniteNumber)(ue)&&(P.startTimeOffset=ue);break;case"MAP":var ke=new u.AttrList(ne);F.relurl=ke.URI,ke.BYTERANGE&&F.setByteRange(ke.BYTERANGE),F.level=w,F.sn="initSegment",A&&(F.levelkey=A),F.initSegment=null,I=F,B=!0;break;case"SERVER-CONTROL":var Ee=new u.AttrList(ne);P.canBlockReload=Ee.bool("CAN-BLOCK-RELOAD"),P.canSkipUntil=Ee.optionalFloat("CAN-SKIP-UNTIL",0),P.canSkipDateRanges=P.canSkipUntil>0&&Ee.bool("CAN-SKIP-DATERANGES"),P.partHoldBack=Ee.optionalFloat("PART-HOLD-BACK",0),P.holdBack=Ee.optionalFloat("HOLD-BACK",0);break;case"PART-INF":var Ie=new u.AttrList(ne);P.partTarget=Ie.decimalFloatingPoint("PART-TARGET");break;case"PART":var $e=P.partList;$e||($e=P.partList=[]);var je=L>0?$e[$e.length-1]:void 0,rt=L++,Xe=new i.Part(new u.AttrList(ne),F,C,rt,je);$e.push(Xe),F.duration+=Xe.duration;break;case"PRELOAD-HINT":var Ze=new u.AttrList(ne);P.preloadHint=Ze;break;case"RENDITION-REPORT":var Ht=new u.AttrList(ne);P.renditionReports=P.renditionReports||[],P.renditionReports.push(Ht);break;default:s.logger.warn("line parsed but not handled: "+T)}}}N&&!N.relurl?(D.pop(),$-=N.duration,P.partList&&(P.fragmentHint=N)):P.partList&&(p(F,N),F.cc=M,P.fragmentHint=F);var cn=D.length,bn=D[0],kn=D[cn-1];if(($+=P.skippedSegments*P.targetduration)>0&&cn&&kn){P.averagetargetduration=$/cn;var or=kn.sn;P.endSN=or!=="initSegment"?or:0,bn&&(P.startCC=bn.cc,bn.initSegment||P.fragments.every(function(Tt){return Tt.relurl&&(Pt=Tt.relurl,m.test((zn=(Gn=a.parseURL(Pt))===null||Gn===void 0?void 0:Gn.path)!=null?zn:""));var Pt,zn,Gn})&&(s.logger.warn("MP4 fragments found but no init segment (probably no MAP, incomplete M3U8), trying to fetch SIDX"),(F=new i.Fragment(k,C)).relurl=kn.relurl,F.level=w,F.sn="initSegment",bn.initSegment=F,P.needSidxRanges=!0))}else P.endSN=0,P.startCC=0;return P.fragmentHint&&($+=P.fragmentHint.duration),P.totalduration=$,P.endCC=M,U>0&&function(Tt,Pt){for(var zn=Tt[Pt],Gn=Pt;Gn--;){var na=Tt[Gn];if(!na)return;na.programDateTime=zn.programDateTime-1e3*na.duration,zn=na}}(D,U),P},b}();function g(b,y){["video","audio","text"].forEach(function(C){var w=b.filter(function(_){return Object(c.isCodecType)(_,C)});if(w.length){var k=w.filter(function(_){return _.lastIndexOf("avc1",0)===0||_.lastIndexOf("mp4a",0)===0});y[C+"Codec"]=k.length>0?k[0]:w[0],b=b.filter(function(_){return w.indexOf(_)===-1})}}),y.unknownCodecs=b}function h(b,y,C){var w=y[C];w&&(b[C]=w)}function p(b,y){b.rawProgramDateTime?b.programDateTime=Date.parse(b.rawProgramDateTime):y!=null&&y.programDateTime&&(b.programDateTime=y.endProgramDateTime),Object(r.isFiniteNumber)(b.programDateTime)||(b.programDateTime=null,b.rawProgramDateTime=null)}},"./src/loader/playlist-loader.ts":function(e,t,n){n.r(t);var r=n("./src/polyfills/number.ts"),a=n("./src/events.ts"),i=n("./src/errors.ts"),o=n("./src/utils/logger.ts"),l=n("./src/utils/mp4-tools.ts"),u=n("./src/loader/m3u8-parser.ts"),s=n("./src/types/loader.ts"),c=n("./src/utils/attr-list.ts");function f(S,E){var m=S.url;return m!==void 0&&m.indexOf("data:")!==0||(m=E.url),m}var v=function(){function S(m){this.hls=void 0,this.loaders=Object.create(null),this.hls=m,this.registerListeners()}var E=S.prototype;return E.registerListeners=function(){var m=this.hls;m.on(a.Events.MANIFEST_LOADING,this.onManifestLoading,this),m.on(a.Events.LEVEL_LOADING,this.onLevelLoading,this),m.on(a.Events.AUDIO_TRACK_LOADING,this.onAudioTrackLoading,this),m.on(a.Events.SUBTITLE_TRACK_LOADING,this.onSubtitleTrackLoading,this)},E.unregisterListeners=function(){var m=this.hls;m.off(a.Events.MANIFEST_LOADING,this.onManifestLoading,this),m.off(a.Events.LEVEL_LOADING,this.onLevelLoading,this),m.off(a.Events.AUDIO_TRACK_LOADING,this.onAudioTrackLoading,this),m.off(a.Events.SUBTITLE_TRACK_LOADING,this.onSubtitleTrackLoading,this)},E.createInternalLoader=function(m){var d=this.hls.config,g=d.pLoader,h=d.loader,p=new(g||h)(d);return m.loader=p,this.loaders[m.type]=p,p},E.getInternalLoader=function(m){return this.loaders[m.type]},E.resetInternalLoader=function(m){this.loaders[m]&&delete this.loaders[m]},E.destroyInternalLoaders=function(){for(var m in this.loaders){var d=this.loaders[m];d&&d.destroy(),this.resetInternalLoader(m)}},E.destroy=function(){this.unregisterListeners(),this.destroyInternalLoaders()},E.onManifestLoading=function(m,d){var g=d.url;this.load({id:null,groupId:null,level:0,responseType:"text",type:s.PlaylistContextType.MANIFEST,url:g,deliveryDirectives:null})},E.onLevelLoading=function(m,d){var g=d.id,h=d.level,p=d.url,b=d.deliveryDirectives;this.load({id:g,groupId:null,level:h,responseType:"text",type:s.PlaylistContextType.LEVEL,url:p,deliveryDirectives:b})},E.onAudioTrackLoading=function(m,d){var g=d.id,h=d.groupId,p=d.url,b=d.deliveryDirectives;this.load({id:g,groupId:h,level:null,responseType:"text",type:s.PlaylistContextType.AUDIO_TRACK,url:p,deliveryDirectives:b})},E.onSubtitleTrackLoading=function(m,d){var g=d.id,h=d.groupId,p=d.url,b=d.deliveryDirectives;this.load({id:g,groupId:h,level:null,responseType:"text",type:s.PlaylistContextType.SUBTITLE_TRACK,url:p,deliveryDirectives:b})},E.load=function(m){var d,g,h,p,b,y,C=this.hls.config,w=this.getInternalLoader(m);if(w){var k=w.context;if(k&&k.url===m.url)return void o.logger.trace("[playlist-loader]: playlist request ongoing");o.logger.log("[playlist-loader]: aborting previous loader for type: "+m.type),w.abort()}switch(m.type){case s.PlaylistContextType.MANIFEST:g=C.manifestLoadingMaxRetry,h=C.manifestLoadingTimeOut,p=C.manifestLoadingRetryDelay,b=C.manifestLoadingMaxRetryTimeout;break;case s.PlaylistContextType.LEVEL:case s.PlaylistContextType.AUDIO_TRACK:case s.PlaylistContextType.SUBTITLE_TRACK:g=0,h=C.levelLoadingTimeOut;break;default:g=C.levelLoadingMaxRetry,h=C.levelLoadingTimeOut,p=C.levelLoadingRetryDelay,b=C.levelLoadingMaxRetryTimeout}if(w=this.createInternalLoader(m),(d=m.deliveryDirectives)!==null&&d!==void 0&&d.part&&(m.type===s.PlaylistContextType.LEVEL&&m.level!==null?y=this.hls.levels[m.level].details:m.type===s.PlaylistContextType.AUDIO_TRACK&&m.id!==null?y=this.hls.audioTracks[m.id].details:m.type===s.PlaylistContextType.SUBTITLE_TRACK&&m.id!==null&&(y=this.hls.subtitleTracks[m.id].details),y)){var _=y.partTarget,T=y.targetduration;_&&T&&(h=Math.min(1e3*Math.max(3*_,.8*T),h))}var O={timeout:h,maxRetry:g,retryDelay:p,maxRetryDelay:b,highWaterMark:0},A={onSuccess:this.loadsuccess.bind(this),onError:this.loaderror.bind(this),onTimeout:this.loadtimeout.bind(this)};w.load(m,O,A)},E.loadsuccess=function(m,d,g,h){if(h===void 0&&(h=null),g.isSidxRequest)return this.handleSidxRequest(m,g),void this.handlePlaylistLoaded(m,d,g,h);this.resetInternalLoader(g.type);var p=m.data;p.indexOf("#EXTM3U")===0?(d.parsing.start=performance.now(),p.indexOf("#EXTINF:")>0||p.indexOf("#EXT-X-TARGETDURATION:")>0?this.handleTrackOrLevelPlaylist(m,d,g,h):this.handleMasterPlaylist(m,d,g,h)):this.handleManifestParsingError(m,g,"no EXTM3U delimiter",h)},E.loaderror=function(m,d,g){g===void 0&&(g=null),this.handleNetworkError(d,g,!1,m)},E.loadtimeout=function(m,d,g){g===void 0&&(g=null),this.handleNetworkError(d,g,!0)},E.handleMasterPlaylist=function(m,d,g,h){var p=this.hls,b=m.data,y=f(m,g),C=u.default.parseMasterPlaylist(b,y),w=C.levels,k=C.sessionData;if(w.length){var _=w.map(function(D){return{id:D.attrs.AUDIO,audioCodec:D.audioCodec}}),T=w.map(function(D){return{id:D.attrs.SUBTITLES,textCodec:D.textCodec}}),O=u.default.parseMasterPlaylistMedia(b,y,"AUDIO",_),A=u.default.parseMasterPlaylistMedia(b,y,"SUBTITLES",T),P=u.default.parseMasterPlaylistMedia(b,y,"CLOSED-CAPTIONS");O.length&&(O.some(function(D){return!D.url})||!w[0].audioCodec||w[0].attrs.AUDIO||(o.logger.log("[playlist-loader]: audio codec signaled in quality level, but no embedded audio track signaled, create one"),O.unshift({type:"main",name:"main",default:!1,autoselect:!1,forced:!1,id:-1,attrs:new c.AttrList({}),bitrate:0,url:""}))),p.trigger(a.Events.MANIFEST_LOADED,{levels:w,audioTracks:O,subtitles:A,captions:P,url:y,stats:d,networkDetails:h,sessionData:k})}else this.handleManifestParsingError(m,g,"no level found in manifest",h)},E.handleTrackOrLevelPlaylist=function(m,d,g,h){var p=this.hls,b=g.id,y=g.level,C=g.type,w=f(m,g),k=Object(r.isFiniteNumber)(b)?b:0,_=Object(r.isFiniteNumber)(y)?y:k,T=function(I){switch(I.type){case s.PlaylistContextType.AUDIO_TRACK:return s.PlaylistLevelType.AUDIO;case s.PlaylistContextType.SUBTITLE_TRACK:return s.PlaylistLevelType.SUBTITLE;default:return s.PlaylistLevelType.MAIN}}(g),O=u.default.parseLevelPlaylist(m.data,w,_,T,k);if(O.fragments.length){if(C===s.PlaylistContextType.MANIFEST){var A={attrs:new c.AttrList({}),bitrate:0,details:O,name:"",url:w};p.trigger(a.Events.MANIFEST_LOADED,{levels:[A],audioTracks:[],url:w,stats:d,networkDetails:h,sessionData:null})}if(d.parsing.end=performance.now(),O.needSidxRanges){var P,D=(P=O.fragments[0].initSegment)===null||P===void 0?void 0:P.url;this.load({url:D,isSidxRequest:!0,type:C,level:y,levelDetails:O,id:b,groupId:null,rangeStart:0,rangeEnd:2048,responseType:"arraybuffer",deliveryDirectives:null})}else g.levelDetails=O,this.handlePlaylistLoaded(m,d,g,h)}else p.trigger(a.Events.ERROR,{type:i.ErrorTypes.NETWORK_ERROR,details:i.ErrorDetails.LEVEL_EMPTY_ERROR,fatal:!1,url:w,reason:"no fragments found in level",level:typeof g.level=="number"?g.level:void 0})},E.handleSidxRequest=function(m,d){var g=Object(l.parseSegmentIndex)(new Uint8Array(m.data));if(g){var h=g.references,p=d.levelDetails;h.forEach(function(b,y){var C=b.info,w=p.fragments[y];w.byteRange.length===0&&w.setByteRange(String(1+C.end-C.start)+"@"+String(C.start)),w.initSegment&&w.initSegment.setByteRange(String(g.moovEndOffset)+"@0")})}},E.handleManifestParsingError=function(m,d,g,h){this.hls.trigger(a.Events.ERROR,{type:i.ErrorTypes.NETWORK_ERROR,details:i.ErrorDetails.MANIFEST_PARSING_ERROR,fatal:d.type===s.PlaylistContextType.MANIFEST,url:m.url,reason:g,response:m,context:d,networkDetails:h})},E.handleNetworkError=function(m,d,g,h){g===void 0&&(g=!1),o.logger.warn("[playlist-loader]: A network "+(g?"timeout":"error")+" occurred while loading "+m.type+" level: "+m.level+" id: "+m.id+' group-id: "'+m.groupId+'"');var p=i.ErrorDetails.UNKNOWN,b=!1,y=this.getInternalLoader(m);switch(m.type){case s.PlaylistContextType.MANIFEST:p=g?i.ErrorDetails.MANIFEST_LOAD_TIMEOUT:i.ErrorDetails.MANIFEST_LOAD_ERROR,b=!0;break;case s.PlaylistContextType.LEVEL:p=g?i.ErrorDetails.LEVEL_LOAD_TIMEOUT:i.ErrorDetails.LEVEL_LOAD_ERROR,b=!1;break;case s.PlaylistContextType.AUDIO_TRACK:p=g?i.ErrorDetails.AUDIO_TRACK_LOAD_TIMEOUT:i.ErrorDetails.AUDIO_TRACK_LOAD_ERROR,b=!1;break;case s.PlaylistContextType.SUBTITLE_TRACK:p=g?i.ErrorDetails.SUBTITLE_TRACK_LOAD_TIMEOUT:i.ErrorDetails.SUBTITLE_LOAD_ERROR,b=!1}y&&this.resetInternalLoader(m.type);var C={type:i.ErrorTypes.NETWORK_ERROR,details:p,fatal:b,url:m.url,loader:y,context:m,networkDetails:d};h&&(C.response=h),this.hls.trigger(a.Events.ERROR,C)},E.handlePlaylistLoaded=function(m,d,g,h){var p=g.type,b=g.level,y=g.id,C=g.groupId,w=g.loader,k=g.levelDetails,_=g.deliveryDirectives;if(k!=null&&k.targetduration){if(w)switch(k.live&&(w.getCacheAge&&(k.ageHeader=w.getCacheAge()||0),w.getCacheAge&&!isNaN(k.ageHeader)||(k.ageHeader=0)),p){case s.PlaylistContextType.MANIFEST:case s.PlaylistContextType.LEVEL:this.hls.trigger(a.Events.LEVEL_LOADED,{details:k,level:b||0,id:y||0,stats:d,networkDetails:h,deliveryDirectives:_});break;case s.PlaylistContextType.AUDIO_TRACK:this.hls.trigger(a.Events.AUDIO_TRACK_LOADED,{details:k,id:y||0,groupId:C||"",stats:d,networkDetails:h,deliveryDirectives:_});break;case s.PlaylistContextType.SUBTITLE_TRACK:this.hls.trigger(a.Events.SUBTITLE_TRACK_LOADED,{details:k,id:y||0,groupId:C||"",stats:d,networkDetails:h,deliveryDirectives:_})}}else this.handleManifestParsingError(m,g,"invalid target duration",h)},S}();t.default=v},"./src/polyfills/number.ts":function(e,t,n){n.r(t),n.d(t,"isFiniteNumber",function(){return r}),n.d(t,"MAX_SAFE_INTEGER",function(){return a});var r=Number.isFinite||function(i){return typeof i=="number"&&isFinite(i)},a=Number.MAX_SAFE_INTEGER||9007199254740991},"./src/remux/aac-helper.ts":function(e,t,n){n.r(t);var r=function(){function a(){}return a.getSilentFrame=function(i,o){switch(i){case"mp4a.40.2":if(o===1)return new Uint8Array([0,200,0,128,35,128]);if(o===2)return new Uint8Array([33,0,73,144,2,25,0,35,128]);if(o===3)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,142]);if(o===4)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,128,44,128,8,2,56]);if(o===5)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,56]);if(o===6)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,0,178,0,32,8,224]);break;default:if(o===1)return new Uint8Array([1,64,34,128,163,78,230,128,186,8,0,0,0,28,6,241,193,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);if(o===2)return new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);if(o===3)return new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94])}},a}();t.default=r},"./src/remux/mp4-generator.ts":function(e,t,n){n.r(t);var r=Math.pow(2,32)-1,a=function(){function i(){}return i.init=function(){var o;for(o in i.types={avc1:[],avcC:[],btrt:[],dinf:[],dref:[],esds:[],ftyp:[],hdlr:[],mdat:[],mdhd:[],mdia:[],mfhd:[],minf:[],moof:[],moov:[],mp4a:[],".mp3":[],mvex:[],mvhd:[],pasp:[],sdtp:[],stbl:[],stco:[],stsc:[],stsd:[],stsz:[],stts:[],tfdt:[],tfhd:[],traf:[],trak:[],trun:[],trex:[],tkhd:[],vmhd:[],smhd:[]},i.types)i.types.hasOwnProperty(o)&&(i.types[o]=[o.charCodeAt(0),o.charCodeAt(1),o.charCodeAt(2),o.charCodeAt(3)]);var l=new Uint8Array([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0]),u=new Uint8Array([0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0]);i.HDLR_TYPES={video:l,audio:u};var s=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1]),c=new Uint8Array([0,0,0,0,0,0,0,0]);i.STTS=i.STSC=i.STCO=c,i.STSZ=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0]),i.VMHD=new Uint8Array([0,0,0,1,0,0,0,0,0,0,0,0]),i.SMHD=new Uint8Array([0,0,0,0,0,0,0,0]),i.STSD=new Uint8Array([0,0,0,0,0,0,0,1]);var f=new Uint8Array([105,115,111,109]),v=new Uint8Array([97,118,99,49]),S=new Uint8Array([0,0,0,1]);i.FTYP=i.box(i.types.ftyp,f,S,f,v),i.DINF=i.box(i.types.dinf,i.box(i.types.dref,s))},i.box=function(o){for(var l=8,u=arguments.length,s=new Array(u>1?u-1:0),c=1;c<u;c++)s[c-1]=arguments[c];for(var f=s.length,v=f;f--;)l+=s[f].byteLength;var S=new Uint8Array(l);for(S[0]=l>>24&255,S[1]=l>>16&255,S[2]=l>>8&255,S[3]=255&l,S.set(o,4),f=0,l=8;f<v;f++)S.set(s[f],l),l+=s[f].byteLength;return S},i.hdlr=function(o){return i.box(i.types.hdlr,i.HDLR_TYPES[o])},i.mdat=function(o){return i.box(i.types.mdat,o)},i.mdhd=function(o,l){l*=o;var u=Math.floor(l/(r+1)),s=Math.floor(l%(r+1));return i.box(i.types.mdhd,new Uint8Array([1,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,o>>24&255,o>>16&255,o>>8&255,255&o,u>>24,u>>16&255,u>>8&255,255&u,s>>24,s>>16&255,s>>8&255,255&s,85,196,0,0]))},i.mdia=function(o){return i.box(i.types.mdia,i.mdhd(o.timescale,o.duration),i.hdlr(o.type),i.minf(o))},i.mfhd=function(o){return i.box(i.types.mfhd,new Uint8Array([0,0,0,0,o>>24,o>>16&255,o>>8&255,255&o]))},i.minf=function(o){return o.type==="audio"?i.box(i.types.minf,i.box(i.types.smhd,i.SMHD),i.DINF,i.stbl(o)):i.box(i.types.minf,i.box(i.types.vmhd,i.VMHD),i.DINF,i.stbl(o))},i.moof=function(o,l,u){return i.box(i.types.moof,i.mfhd(o),i.traf(u,l))},i.moov=function(o){for(var l=o.length,u=[];l--;)u[l]=i.trak(o[l]);return i.box.apply(null,[i.types.moov,i.mvhd(o[0].timescale,o[0].duration)].concat(u).concat(i.mvex(o)))},i.mvex=function(o){for(var l=o.length,u=[];l--;)u[l]=i.trex(o[l]);return i.box.apply(null,[i.types.mvex].concat(u))},i.mvhd=function(o,l){l*=o;var u=Math.floor(l/(r+1)),s=Math.floor(l%(r+1)),c=new Uint8Array([1,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,o>>24&255,o>>16&255,o>>8&255,255&o,u>>24,u>>16&255,u>>8&255,255&u,s>>24,s>>16&255,s>>8&255,255&s,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255]);return i.box(i.types.mvhd,c)},i.sdtp=function(o){var l,u,s=o.samples||[],c=new Uint8Array(4+s.length);for(l=0;l<s.length;l++)u=s[l].flags,c[l+4]=u.dependsOn<<4|u.isDependedOn<<2|u.hasRedundancy;return i.box(i.types.sdtp,c)},i.stbl=function(o){return i.box(i.types.stbl,i.stsd(o),i.box(i.types.stts,i.STTS),i.box(i.types.stsc,i.STSC),i.box(i.types.stsz,i.STSZ),i.box(i.types.stco,i.STCO))},i.avc1=function(o){var l,u,s,c=[],f=[];for(l=0;l<o.sps.length;l++)s=(u=o.sps[l]).byteLength,c.push(s>>>8&255),c.push(255&s),c=c.concat(Array.prototype.slice.call(u));for(l=0;l<o.pps.length;l++)s=(u=o.pps[l]).byteLength,f.push(s>>>8&255),f.push(255&s),f=f.concat(Array.prototype.slice.call(u));var v=i.box(i.types.avcC,new Uint8Array([1,c[3],c[4],c[5],255,224|o.sps.length].concat(c).concat([o.pps.length]).concat(f))),S=o.width,E=o.height,m=o.pixelRatio[0],d=o.pixelRatio[1];return i.box(i.types.avc1,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,S>>8&255,255&S,E>>8&255,255&E,0,72,0,0,0,72,0,0,0,0,0,0,0,1,18,100,97,105,108,121,109,111,116,105,111,110,47,104,108,115,46,106,115,0,0,0,0,0,0,0,0,0,0,0,0,0,0,24,17,17]),v,i.box(i.types.btrt,new Uint8Array([0,28,156,128,0,45,198,192,0,45,198,192])),i.box(i.types.pasp,new Uint8Array([m>>24,m>>16&255,m>>8&255,255&m,d>>24,d>>16&255,d>>8&255,255&d])))},i.esds=function(o){var l=o.config.length;return new Uint8Array([0,0,0,0,3,23+l,0,1,0,4,15+l,64,21,0,0,0,0,0,0,0,0,0,0,0,5].concat([l]).concat(o.config).concat([6,1,2]))},i.mp4a=function(o){var l=o.samplerate;return i.box(i.types.mp4a,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,o.channelCount,0,16,0,0,0,0,l>>8&255,255&l,0,0]),i.box(i.types.esds,i.esds(o)))},i.mp3=function(o){var l=o.samplerate;return i.box(i.types[".mp3"],new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,o.channelCount,0,16,0,0,0,0,l>>8&255,255&l,0,0]))},i.stsd=function(o){return o.type==="audio"?o.isAAC||o.codec!=="mp3"?i.box(i.types.stsd,i.STSD,i.mp4a(o)):i.box(i.types.stsd,i.STSD,i.mp3(o)):i.box(i.types.stsd,i.STSD,i.avc1(o))},i.tkhd=function(o){var l=o.id,u=o.duration*o.timescale,s=o.width,c=o.height,f=Math.floor(u/(r+1)),v=Math.floor(u%(r+1));return i.box(i.types.tkhd,new Uint8Array([1,0,0,7,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,l>>24&255,l>>16&255,l>>8&255,255&l,0,0,0,0,f>>24,f>>16&255,f>>8&255,255&f,v>>24,v>>16&255,v>>8&255,255&v,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,s>>8&255,255&s,0,0,c>>8&255,255&c,0,0]))},i.traf=function(o,l){var u=i.sdtp(o),s=o.id,c=Math.floor(l/(r+1)),f=Math.floor(l%(r+1));return i.box(i.types.traf,i.box(i.types.tfhd,new Uint8Array([0,0,0,0,s>>24,s>>16&255,s>>8&255,255&s])),i.box(i.types.tfdt,new Uint8Array([1,0,0,0,c>>24,c>>16&255,c>>8&255,255&c,f>>24,f>>16&255,f>>8&255,255&f])),i.trun(o,u.length+16+20+8+16+8+8),u)},i.trak=function(o){return o.duration=o.duration||4294967295,i.box(i.types.trak,i.tkhd(o),i.mdia(o))},i.trex=function(o){var l=o.id;return i.box(i.types.trex,new Uint8Array([0,0,0,0,l>>24,l>>16&255,l>>8&255,255&l,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,1]))},i.trun=function(o,l){var u,s,c,f,v,S,E=o.samples||[],m=E.length,d=12+16*m,g=new Uint8Array(d);for(l+=8+d,g.set([0,0,15,1,m>>>24&255,m>>>16&255,m>>>8&255,255&m,l>>>24&255,l>>>16&255,l>>>8&255,255&l],0),u=0;u<m;u++)c=(s=E[u]).duration,f=s.size,v=s.flags,S=s.cts,g.set([c>>>24&255,c>>>16&255,c>>>8&255,255&c,f>>>24&255,f>>>16&255,f>>>8&255,255&f,v.isLeading<<2|v.dependsOn,v.isDependedOn<<6|v.hasRedundancy<<4|v.paddingValue<<1|v.isNonSync,61440&v.degradPrio,15&v.degradPrio,S>>>24&255,S>>>16&255,S>>>8&255,255&S],12+16*u);return i.box(i.types.trun,g)},i.initSegment=function(o){i.types||i.init();var l=i.moov(o),u=new Uint8Array(i.FTYP.byteLength+l.byteLength);return u.set(i.FTYP),u.set(l,i.FTYP.byteLength),u},i}();a.types=void 0,a.HDLR_TYPES=void 0,a.STTS=void 0,a.STSC=void 0,a.STCO=void 0,a.STSZ=void 0,a.VMHD=void 0,a.SMHD=void 0,a.STSD=void 0,a.FTYP=void 0,a.DINF=void 0,t.default=a},"./src/remux/mp4-remuxer.ts":function(e,t,n){n.r(t),n.d(t,"default",function(){return m}),n.d(t,"normalizePts",function(){return d});var r=n("./src/polyfills/number.ts"),a=n("./src/remux/aac-helper.ts"),i=n("./src/remux/mp4-generator.ts"),o=n("./src/events.ts"),l=n("./src/errors.ts"),u=n("./src/utils/logger.ts"),s=n("./src/types/loader.ts"),c=n("./src/utils/timescale-conversion.ts");function f(){return(f=Object.assign||function(p){for(var b=1;b<arguments.length;b++){var y=arguments[b];for(var C in y)Object.prototype.hasOwnProperty.call(y,C)&&(p[C]=y[C])}return p}).apply(this,arguments)}var v=null,S=null,E=!1,m=function(){function p(y,C,w,k){if(this.observer=void 0,this.config=void 0,this.typeSupported=void 0,this.ISGenerated=!1,this._initPTS=void 0,this._initDTS=void 0,this.nextAvcDts=null,this.nextAudioPts=null,this.isAudioContiguous=!1,this.isVideoContiguous=!1,this.observer=y,this.config=C,this.typeSupported=w,this.ISGenerated=!1,v===null){var _=(navigator.userAgent||"").match(/Chrome\/(\d+)/i);v=_?parseInt(_[1]):0}if(S===null){var T=navigator.userAgent.match(/Safari\/(\d+)/i);S=T?parseInt(T[1]):0}E=!!v&&v<75||!!S&&S<600}var b=p.prototype;return b.destroy=function(){},b.resetTimeStamp=function(y){u.logger.log("[mp4-remuxer]: initPTS & initDTS reset"),this._initPTS=this._initDTS=y},b.resetNextTimestamp=function(){u.logger.log("[mp4-remuxer]: reset next timestamp"),this.isVideoContiguous=!1,this.isAudioContiguous=!1},b.resetInitSegment=function(){u.logger.log("[mp4-remuxer]: ISGenerated flag reset"),this.ISGenerated=!1},b.getVideoStartPts=function(y){var C=!1,w=y.reduce(function(k,_){var T=_.pts-k;return T<-4294967296?(C=!0,d(k,_.pts)):T>0?k:_.pts},y[0].pts);return C&&u.logger.debug("PTS rollover detected"),w},b.remux=function(y,C,w,k,_,T,O,A){var P,D,I,x,L,$,M=_,N=_,F=y.pid>-1,U=C.pid>-1,B=C.samples.length,K=y.samples.length>0,V=B>1;if((!F||K)&&(!U||V)||this.ISGenerated||O){this.ISGenerated||(I=this.generateIS(y,C,_));var X=this.isVideoContiguous,Z=-1;if(V&&(Z=function(be){for(var G=0;G<be.length;G++)if(be[G].key)return G;return-1}(C.samples),!X&&this.config.forceKeyFrameOnDiscontinuity))if($=!0,Z>0){u.logger.warn("[mp4-remuxer]: Dropped "+Z+" out of "+B+" video samples due to a missing keyframe");var ne=this.getVideoStartPts(C.samples);C.samples=C.samples.slice(Z),C.dropped+=Z,N+=(C.samples[0].pts-ne)/(C.timescale||9e4)}else Z===-1&&(u.logger.warn("[mp4-remuxer]: No keyframe found out of "+B+" video samples"),$=!1);if(this.ISGenerated){if(K&&V){var ae=this.getVideoStartPts(C.samples),ye=(d(y.samples[0].pts,ae)-ae)/C.inputTimeScale;M+=Math.max(0,ye),N+=Math.max(0,-ye)}if(K){if(y.samplerate||(u.logger.warn("[mp4-remuxer]: regenerate InitSegment as audio detected"),I=this.generateIS(y,C,_)),D=this.remuxAudio(y,M,this.isAudioContiguous,T,U||V||A===s.PlaylistLevelType.AUDIO?N:void 0),V){var de=D?D.endPTS-D.startPTS:0;C.inputTimeScale||(u.logger.warn("[mp4-remuxer]: regenerate InitSegment as video detected"),I=this.generateIS(y,C,_)),P=this.remuxVideo(C,N,X,de)}}else V&&(P=this.remuxVideo(C,N,X,0));P&&(P.firstKeyFrame=Z,P.independent=Z!==-1)}}return this.ISGenerated&&(w.samples.length&&(L=this.remuxID3(w,_)),k.samples.length&&(x=this.remuxText(k,_))),{audio:D,video:P,initSegment:I,independent:$,text:x,id3:L}},b.generateIS=function(y,C,w){var k,_,T,O=y.samples,A=C.samples,P=this.typeSupported,D={},I=!Object(r.isFiniteNumber)(this._initPTS),x="audio/mp4";if(I&&(k=_=1/0),y.config&&O.length&&(y.timescale=y.samplerate,y.isAAC||(P.mpeg?(x="audio/mpeg",y.codec=""):P.mp3&&(y.codec="mp3")),D.audio={id:"audio",container:x,codec:y.codec,initSegment:!y.isAAC&&P.mpeg?new Uint8Array(0):i.default.initSegment([y]),metadata:{channelCount:y.channelCount}},I&&(T=y.inputTimeScale,k=_=O[0].pts-Math.round(T*w))),C.sps&&C.pps&&A.length&&(C.timescale=C.inputTimeScale,D.video={id:"main",container:"video/mp4",codec:C.codec,initSegment:i.default.initSegment([C]),metadata:{width:C.width,height:C.height}},I)){T=C.inputTimeScale;var L=this.getVideoStartPts(A),$=Math.round(T*w);_=Math.min(_,d(A[0].dts,L)-$),k=Math.min(k,L-$)}if(Object.keys(D).length)return this.ISGenerated=!0,I&&(this._initPTS=k,this._initDTS=_),{tracks:D,initPTS:k,timescale:T}},b.remuxVideo=function(y,C,w,k){var _,T,O,A=y.inputTimeScale,P=y.samples,D=[],I=P.length,x=this._initPTS,L=this.nextAvcDts,$=8,M=Number.POSITIVE_INFINITY,N=Number.NEGATIVE_INFINITY,F=0,U=!1;w&&L!==null||(L=C*A-(P[0].pts-d(P[0].dts,P[0].pts)));for(var B=0;B<I;B++){var K=P[B];K.pts=d(K.pts-x,L),K.dts=d(K.dts-x,L),K.dts>K.pts&&(F=Math.max(Math.min(F,K.pts-K.dts),-18e3)),K.dts<P[B>0?B-1:B].dts&&(U=!0)}U&&P.sort(function(Gn,na){var fC=Gn.dts-na.dts,hC=Gn.pts-na.pts;return fC||hC}),T=P[0].dts,O=P[P.length-1].dts;var V=Math.round((O-T)/(I-1));if(F<0){if(F<-2*V){u.logger.warn("PTS < DTS detected in video samples, offsetting DTS from PTS by "+Object(c.toMsFromMpegTsClock)(-V,!0)+" ms");for(var X=F,Z=0;Z<I;Z++)P[Z].dts=X=Math.max(X,P[Z].pts-V),P[Z].pts=Math.max(X,P[Z].pts)}else{u.logger.warn("PTS < DTS detected in video samples, shifting DTS by "+Object(c.toMsFromMpegTsClock)(F,!0)+" ms to overcome this issue");for(var ne=0;ne<I;ne++)P[ne].dts=P[ne].dts+F}T=P[0].dts}if(w){var ae=T-L,ye=ae>V;if(ye||ae<-1){ye?u.logger.warn("AVC: "+Object(c.toMsFromMpegTsClock)(ae,!0)+" ms ("+ae+"dts) hole between fragments detected, filling it"):u.logger.warn("AVC: "+Object(c.toMsFromMpegTsClock)(-ae,!0)+" ms ("+ae+"dts) overlapping between fragments detected"),T=L;var de=P[0].pts-ae;P[0].dts=T,P[0].pts=de,u.logger.log("Video: First PTS/DTS adjusted: "+Object(c.toMsFromMpegTsClock)(de,!0)+"/"+Object(c.toMsFromMpegTsClock)(T,!0)+", delta: "+Object(c.toMsFromMpegTsClock)(ae,!0)+" ms")}}E&&(T=Math.max(0,T));for(var be=0,G=0,Y=0;Y<I;Y++){for(var Q=P[Y],re=Q.units,ie=re.length,le=0,Se=0;Se<ie;Se++)le+=re[Se].data.length;G+=le,be+=ie,Q.length=le,Q.dts=Math.max(Q.dts,T),Q.pts=Math.max(Q.pts,Q.dts,0),M=Math.min(Q.pts,M),N=Math.max(Q.pts,N)}O=P[I-1].dts;var fe,me=G+4*be+8;try{fe=new Uint8Array(me)}catch{return void this.observer.emit(o.Events.ERROR,o.Events.ERROR,{type:l.ErrorTypes.MUX_ERROR,details:l.ErrorDetails.REMUX_ALLOC_ERROR,fatal:!1,bytes:me,reason:"fail allocating video mdat "+me})}var ue=new DataView(fe.buffer);ue.setUint32(0,me),fe.set(i.default.types.mdat,4);for(var ke=0;ke<I;ke++){for(var Ee=P[ke],Ie=Ee.units,$e=0,je=0,rt=Ie.length;je<rt;je++){var Xe=Ie[je],Ze=Xe.data,Ht=Xe.data.byteLength;ue.setUint32($,Ht),$+=4,fe.set(Ze,$),$+=Ht,$e+=4+Ht}if(ke<I-1)_=P[ke+1].dts-Ee.dts;else{var cn=this.config,bn=Ee.dts-P[ke>0?ke-1:ke].dts;if(cn.stretchShortVideoTrack&&this.nextAudioPts!==null){var kn=Math.floor(cn.maxBufferHole*A),or=(k?M+k*A:this.nextAudioPts)-Ee.pts;or>kn?((_=or-bn)<0&&(_=bn),u.logger.log("[mp4-remuxer]: It is approximately "+or/90+" ms to the next segment; using duration "+_/90+" ms for the last video frame.")):_=bn}else _=bn}var Tt=Math.round(Ee.pts-Ee.dts);D.push(new g(Ee.key,_,$e,Tt))}if(D.length&&v&&v<70){var Pt=D[0].flags;Pt.dependsOn=2,Pt.isNonSync=0}console.assert(_!==void 0,"mp4SampleDuration must be computed"),this.nextAvcDts=L=O+_,this.isVideoContiguous=!0;var zn={data1:i.default.moof(y.sequenceNumber++,T,f({},y,{samples:D})),data2:fe,startPTS:M/A,endPTS:(N+_)/A,startDTS:T/A,endDTS:L/A,type:"video",hasAudio:!1,hasVideo:!0,nb:D.length,dropped:y.dropped};return y.samples=[],y.dropped=0,console.assert(fe.length,"MDAT length must not be zero"),zn},b.remuxAudio=function(y,C,w,k,_){var T=y.inputTimeScale,O=T/(y.samplerate?y.samplerate:T),A=y.isAAC?1024:1152,P=A*O,D=this._initPTS,I=!y.isAAC&&this.typeSupported.mpeg,x=[],L=y.samples,$=I?0:8,M=this.nextAudioPts||-1,N=C*T;if(this.isAudioContiguous=w=w||L.length&&M>0&&(k&&Math.abs(N-M)<9e3||Math.abs(d(L[0].pts-D,N)-M)<20*P),L.forEach(function(Ze){Ze.pts=d(Ze.pts-D,N)}),!w||M<0){if(!(L=L.filter(function(Ze){return Ze.pts>=0})).length)return;M=_===0?0:k?Math.max(0,N):L[0].pts}if(y.isAAC)for(var F=_!==void 0,U=this.config.maxAudioFramesDrift,B=0,K=M;B<L.length;B++){var V=L[B],X=V.pts,Z=X-K,ne=Math.abs(1e3*Z/T);if(Z<=-U*P&&F)B===0&&(u.logger.warn("Audio frame @ "+(X/T).toFixed(3)+"s overlaps nextAudioPts by "+Math.round(1e3*Z/T)+" ms."),this.nextAudioPts=M=K=X);else if(Z>=U*P&&ne<1e4&&F){var ae=Math.round(Z/P);(K=X-ae*P)<0&&(ae--,K+=P),B===0&&(this.nextAudioPts=M=K),u.logger.warn("[mp4-remuxer]: Injecting "+ae+" audio frame @ "+(K/T).toFixed(3)+"s due to "+Math.round(1e3*Z/T)+" ms gap.");for(var ye=0;ye<ae;ye++){var de=Math.max(K,0),be=a.default.getSilentFrame(y.manifestCodec||y.codec,y.channelCount);be||(u.logger.log("[mp4-remuxer]: Unable to get silent frame for given audio codec; duplicating last frame instead."),be=V.unit.subarray()),L.splice(B,0,{unit:be,pts:de}),K+=P,B++}}V.pts=K,K+=P}for(var G,Y=null,Q=null,re=0,ie=L.length;ie--;)re+=L[ie].unit.byteLength;for(var le=0,Se=L.length;le<Se;le++){var fe=L[le],me=fe.unit,ue=fe.pts;if(Q!==null)x[le-1].duration=Math.round((ue-Q)/O);else{if(w&&y.isAAC&&(ue=M),Y=ue,!(re>0))return;re+=$;try{G=new Uint8Array(re)}catch{return void this.observer.emit(o.Events.ERROR,o.Events.ERROR,{type:l.ErrorTypes.MUX_ERROR,details:l.ErrorDetails.REMUX_ALLOC_ERROR,fatal:!1,bytes:re,reason:"fail allocating audio mdat "+re})}I||(new DataView(G.buffer).setUint32(0,re),G.set(i.default.types.mdat,4))}G.set(me,$);var ke=me.byteLength;$+=ke,x.push(new g(!0,A,ke,0)),Q=ue}var Ee=x.length;if(Ee){var Ie=x[x.length-1];this.nextAudioPts=M=Q+O*Ie.duration;var $e=I?new Uint8Array(0):i.default.moof(y.sequenceNumber++,Y/O,f({},y,{samples:x}));y.samples=[];var je=Y/T,rt=M/T,Xe={data1:$e,data2:G,startPTS:je,endPTS:rt,startDTS:je,endDTS:rt,type:"audio",hasAudio:!0,hasVideo:!1,nb:Ee};return this.isAudioContiguous=!0,console.assert(G.length,"MDAT length must not be zero"),Xe}},b.remuxEmptyAudio=function(y,C,w,k){var _=y.inputTimeScale,T=_/(y.samplerate?y.samplerate:_),O=this.nextAudioPts,A=(O!==null?O:k.startDTS*_)+this._initDTS,P=k.endDTS*_+this._initDTS,D=1024*T,I=Math.ceil((P-A)/D),x=a.default.getSilentFrame(y.manifestCodec||y.codec,y.channelCount);if(u.logger.warn("[mp4-remuxer]: remux empty Audio"),x){for(var L=[],$=0;$<I;$++){var M=A+$*D;L.push({unit:x,pts:M,dts:M})}return y.samples=L,this.remuxAudio(y,C,w,!1)}u.logger.trace("[mp4-remuxer]: Unable to remuxEmptyAudio since we were unable to get a silent frame for given audio codec")},b.remuxID3=function(y,C){var w=y.samples.length;if(w){for(var k=y.inputTimeScale,_=this._initPTS,T=this._initDTS,O=0;O<w;O++){var A=y.samples[O];A.pts=d(A.pts-_,C*k)/k,A.dts=d(A.dts-T,C*k)/k}var P=y.samples;return y.samples=[],{samples:P}}},b.remuxText=function(y,C){var w=y.samples.length;if(w){for(var k=y.inputTimeScale,_=this._initPTS,T=0;T<w;T++){var O=y.samples[T];O.pts=d(O.pts-_,C*k)/k}y.samples.sort(function(P,D){return P.pts-D.pts});var A=y.samples;return y.samples=[],{samples:A}}},p}();function d(p,b){var y;if(b===null)return p;for(y=b<p?-8589934592:8589934592;Math.abs(p-b)>4294967296;)p+=y;return p}var g=function(p,b,y,C){this.size=void 0,this.duration=void 0,this.cts=void 0,this.flags=void 0,this.duration=b,this.size=y,this.cts=C,this.flags=new h(p)},h=function(p){this.isLeading=0,this.isDependedOn=0,this.hasRedundancy=0,this.degradPrio=0,this.dependsOn=1,this.isNonSync=1,this.dependsOn=p?2:1,this.isNonSync=p?0:1}},"./src/remux/passthrough-remuxer.ts":function(e,t,n){n.r(t);var r=n("./src/polyfills/number.ts"),a=n("./src/utils/mp4-tools.ts"),i=n("./src/loader/fragment.ts"),o=n("./src/utils/logger.ts"),l=function(){function c(){this.emitInitSegment=!1,this.audioCodec=void 0,this.videoCodec=void 0,this.initData=void 0,this.initPTS=void 0,this.initTracks=void 0,this.lastEndDTS=null}var f=c.prototype;return f.destroy=function(){},f.resetTimeStamp=function(v){this.initPTS=v,this.lastEndDTS=null},f.resetNextTimestamp=function(){this.lastEndDTS=null},f.resetInitSegment=function(v,S,E){this.audioCodec=S,this.videoCodec=E,this.generateInitSegment(v),this.emitInitSegment=!0},f.generateInitSegment=function(v){var S=this.audioCodec,E=this.videoCodec;if(!v||!v.byteLength)return this.initTracks=void 0,void(this.initData=void 0);var m=this.initData=Object(a.parseInitSegment)(v);S||(S=s(m.audio,i.ElementaryStreamTypes.AUDIO)),E||(E=s(m.video,i.ElementaryStreamTypes.VIDEO));var d={};m.audio&&m.video?d.audiovideo={container:"video/mp4",codec:S+","+E,initSegment:v,id:"main"}:m.audio?d.audio={container:"audio/mp4",codec:S,initSegment:v,id:"audio"}:m.video?d.video={container:"video/mp4",codec:E,initSegment:v,id:"main"}:o.logger.warn("[passthrough-remuxer.ts]: initSegment does not contain moov or trak boxes."),this.initTracks=d},f.remux=function(v,S,E,m,d){var g=this.initPTS,h=this.lastEndDTS,p={audio:void 0,video:void 0,text:m,id3:E,initSegment:void 0};Object(r.isFiniteNumber)(h)||(h=this.lastEndDTS=d||0);var b=S.samples;if(!b||!b.length)return p;var y={initPTS:void 0,timescale:1},C=this.initData;if(C&&C.length||(this.generateInitSegment(b),C=this.initData),!C||!C.length)return o.logger.warn("[passthrough-remuxer.ts]: Failed to generate initSegment."),p;this.emitInitSegment&&(y.tracks=this.initTracks,this.emitInitSegment=!1),Object(r.isFiniteNumber)(g)||(this.initPTS=y.initPTS=g=u(C,b,h));var w=Object(a.getDuration)(b,C),k=h,_=w+k;Object(a.offsetStartDTS)(C,b,g),w>0?this.lastEndDTS=_:(o.logger.warn("Duration parsed from mp4 should be greater than zero"),this.resetNextTimestamp());var T=!!C.audio,O=!!C.video,A="";T&&(A+="audio"),O&&(A+="video");var P={data1:b,startPTS:k,startDTS:k,endPTS:_,endDTS:_,type:A,hasAudio:T,hasVideo:O,nb:1,dropped:0};return p.audio=P.type==="audio"?P:void 0,p.video=P.type!=="audio"?P:void 0,p.text=m,p.id3=E,p.initSegment=y,p},c}(),u=function(c,f,v){return Object(a.getStartDTS)(c,f)-v};function s(c,f){var v=c==null?void 0:c.codec;return v&&v.length>4?v:v==="hvc1"?"hvc1.1.c.L120.90":v==="av01"?"av01.0.04M.08":v==="avc1"||f===i.ElementaryStreamTypes.VIDEO?"avc1.42e01e":"mp4a.40.5"}t.default=l},"./src/task-loop.ts":function(e,t,n){n.r(t),n.d(t,"default",function(){return r});var r=function(){function a(){this._boundTick=void 0,this._tickTimer=null,this._tickInterval=null,this._tickCallCount=0,this._boundTick=this.tick.bind(this)}var i=a.prototype;return i.destroy=function(){this.onHandlerDestroying(),this.onHandlerDestroyed()},i.onHandlerDestroying=function(){this.clearNextTick(),this.clearInterval()},i.onHandlerDestroyed=function(){},i.hasInterval=function(){return!!this._tickInterval},i.hasNextTick=function(){return!!this._tickTimer},i.setInterval=function(o){return!this._tickInterval&&(this._tickInterval=self.setInterval(this._boundTick,o),!0)},i.clearInterval=function(){return!!this._tickInterval&&(self.clearInterval(this._tickInterval),this._tickInterval=null,!0)},i.clearNextTick=function(){return!!this._tickTimer&&(self.clearTimeout(this._tickTimer),this._tickTimer=null,!0)},i.tick=function(){this._tickCallCount++,this._tickCallCount===1&&(this.doTick(),this._tickCallCount>1&&this.tickImmediate(),this._tickCallCount=0)},i.tickImmediate=function(){this.clearNextTick(),this._tickTimer=self.setTimeout(this._boundTick,0)},i.doTick=function(){},a}()},"./src/types/level.ts":function(e,t,n){function r(s,c){for(var f=0;f<c.length;f++){var v=c[f];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(s,v.key,v)}}var a,i;function o(s,c){var f=s.canSkipUntil,v=s.canSkipDateRanges,S=s.endSN;return f&&(c!==void 0?c-S:0)<f?v?a.v2:a.Yes:a.No}n.r(t),n.d(t,"HlsSkip",function(){return a}),n.d(t,"getSkipValue",function(){return o}),n.d(t,"HlsUrlParameters",function(){return l}),n.d(t,"Level",function(){return u}),(i=a||(a={})).No="",i.Yes="YES",i.v2="v2";var l=function(){function s(c,f,v){this.msn=void 0,this.part=void 0,this.skip=void 0,this.msn=c,this.part=f,this.skip=v}return s.prototype.addDirectives=function(c){var f=new self.URL(c);return this.msn!==void 0&&f.searchParams.set("_HLS_msn",this.msn.toString()),this.part!==void 0&&f.searchParams.set("_HLS_part",this.part.toString()),this.skip&&f.searchParams.set("_HLS_skip",this.skip),f.toString()},s}(),u=function(){function s(v){this.attrs=void 0,this.audioCodec=void 0,this.bitrate=void 0,this.codecSet=void 0,this.height=void 0,this.id=void 0,this.name=void 0,this.videoCodec=void 0,this.width=void 0,this.unknownCodecs=void 0,this.audioGroupIds=void 0,this.details=void 0,this.fragmentError=0,this.loadError=0,this.loaded=void 0,this.realBitrate=0,this.textGroupIds=void 0,this.url=void 0,this._urlId=0,this.url=[v.url],this.attrs=v.attrs,this.bitrate=v.bitrate,v.details&&(this.details=v.details),this.id=v.id||0,this.name=v.name,this.width=v.width||0,this.height=v.height||0,this.audioCodec=v.audioCodec,this.videoCodec=v.videoCodec,this.unknownCodecs=v.unknownCodecs,this.codecSet=[v.videoCodec,v.audioCodec].filter(function(S){return S}).join(",").replace(/\.[^.,]+/g,"")}var c,f;return c=s,(f=[{key:"maxBitrate",get:function(){return Math.max(this.realBitrate,this.bitrate)}},{key:"uri",get:function(){return this.url[this._urlId]||""}},{key:"urlId",get:function(){return this._urlId},set:function(v){var S=v%this.url.length;this._urlId!==S&&(this.details=void 0,this._urlId=S)}}])&&r(c.prototype,f),s}()},"./src/types/loader.ts":function(e,t,n){var r,a,i,o;n.r(t),n.d(t,"PlaylistContextType",function(){return r}),n.d(t,"PlaylistLevelType",function(){return i}),(a=r||(r={})).MANIFEST="manifest",a.LEVEL="level",a.AUDIO_TRACK="audioTrack",a.SUBTITLE_TRACK="subtitleTrack",(o=i||(i={})).MAIN="main",o.AUDIO="audio",o.SUBTITLE="subtitle"},"./src/types/transmuxer.ts":function(e,t,n){n.r(t),n.d(t,"ChunkMetadata",function(){return r});var r=function(a,i,o,l,u,s){l===void 0&&(l=0),u===void 0&&(u=-1),s===void 0&&(s=!1),this.level=void 0,this.sn=void 0,this.part=void 0,this.id=void 0,this.size=void 0,this.partial=void 0,this.transmuxing={start:0,executeStart:0,executeEnd:0,end:0},this.buffering={audio:{start:0,executeStart:0,executeEnd:0,end:0},video:{start:0,executeStart:0,executeEnd:0,end:0},audiovideo:{start:0,executeStart:0,executeEnd:0,end:0}},this.level=a,this.sn=i,this.id=o,this.size=l,this.part=u,this.partial=s}},"./src/utils/attr-list.ts":function(e,t,n){n.r(t),n.d(t,"AttrList",function(){return i});var r=/^(\d+)x(\d+)$/,a=/\s*(.+?)\s*=((?:\".*?\")|.*?)(?:,|$)/g,i=function(){function o(u){for(var s in typeof u=="string"&&(u=o.parseAttrList(u)),u)u.hasOwnProperty(s)&&(this[s]=u[s])}var l=o.prototype;return l.decimalInteger=function(u){var s=parseInt(this[u],10);return s>Number.MAX_SAFE_INTEGER?1/0:s},l.hexadecimalInteger=function(u){if(this[u]){var s=(this[u]||"0x").slice(2);s=(1&s.length?"0":"")+s;for(var c=new Uint8Array(s.length/2),f=0;f<s.length/2;f++)c[f]=parseInt(s.slice(2*f,2*f+2),16);return c}return null},l.hexadecimalIntegerAsNumber=function(u){var s=parseInt(this[u],16);return s>Number.MAX_SAFE_INTEGER?1/0:s},l.decimalFloatingPoint=function(u){return parseFloat(this[u])},l.optionalFloat=function(u,s){var c=this[u];return c?parseFloat(c):s},l.enumeratedString=function(u){return this[u]},l.bool=function(u){return this[u]==="YES"},l.decimalResolution=function(u){var s=r.exec(this[u]);if(s!==null)return{width:parseInt(s[1],10),height:parseInt(s[2],10)}},o.parseAttrList=function(u){var s,c={};for(a.lastIndex=0;(s=a.exec(u))!==null;){var f=s[2];f.indexOf('"')===0&&f.lastIndexOf('"')===f.length-1&&(f=f.slice(1,-1)),c[s[1]]=f}return c},o}()},"./src/utils/binary-search.ts":function(e,t,n){n.r(t),t.default={search:function(r,a){for(var i=0,o=r.length-1,l=null,u=null;i<=o;){var s=a(u=r[l=(i+o)/2|0]);if(s>0)i=l+1;else{if(!(s<0))return u;o=l-1}}return null}}},"./src/utils/buffer-helper.ts":function(e,t,n){n.r(t),n.d(t,"BufferHelper",function(){return i});var r=n("./src/utils/logger.ts"),a={length:0,start:function(){return 0},end:function(){return 0}},i=function(){function o(){}return o.isBuffered=function(l,u){try{if(l){for(var s=o.getBuffered(l),c=0;c<s.length;c++)if(u>=s.start(c)&&u<=s.end(c))return!0}}catch{}return!1},o.bufferInfo=function(l,u,s){try{if(l){var c,f=o.getBuffered(l),v=[];for(c=0;c<f.length;c++)v.push({start:f.start(c),end:f.end(c)});return this.bufferedInfo(v,u,s)}}catch{}return{len:0,start:u,end:u,nextStart:void 0}},o.bufferedInfo=function(l,u,s){u=Math.max(0,u),l.sort(function(y,C){var w=y.start-C.start;return w||C.end-y.end});var c=[];if(s)for(var f=0;f<l.length;f++){var v=c.length;if(v){var S=c[v-1].end;l[f].start-S<s?l[f].end>S&&(c[v-1].end=l[f].end):c.push(l[f])}else c.push(l[f])}else c=l;for(var E,m=0,d=u,g=u,h=0;h<c.length;h++){var p=c[h].start,b=c[h].end;if(u+s>=p&&u<b)d=p,m=(g=b)-u;else if(u+s<p){E=p;break}}return{len:m,start:d||0,end:g||0,nextStart:E}},o.getBuffered=function(l){try{return l.buffered}catch(u){return r.logger.log("failed to get media.buffered",u),a}},o}()},"./src/utils/cea-608-parser.ts":function(e,t,n){n.r(t),n.d(t,"Row",function(){return p}),n.d(t,"CaptionScreen",function(){return b});var r,a,i=n("./src/utils/logger.ts"),o={42:225,92:233,94:237,95:243,96:250,123:231,124:247,125:209,126:241,127:9608,128:174,129:176,130:189,131:191,132:8482,133:162,134:163,135:9834,136:224,137:32,138:232,139:226,140:234,141:238,142:244,143:251,144:193,145:201,146:211,147:218,148:220,149:252,150:8216,151:161,152:42,153:8217,154:9473,155:169,156:8480,157:8226,158:8220,159:8221,160:192,161:194,162:199,163:200,164:202,165:203,166:235,167:206,168:207,169:239,170:212,171:217,172:249,173:219,174:171,175:187,176:195,177:227,178:205,179:204,180:236,181:210,182:242,183:213,184:245,185:123,186:125,187:92,188:94,189:95,190:124,191:8764,192:196,193:228,194:214,195:246,196:223,197:165,198:164,199:9475,200:197,201:229,202:216,203:248,204:9487,205:9491,206:9495,207:9499},l=function(_){var T=_;return o.hasOwnProperty(_)&&(T=o[_]),String.fromCharCode(T)},u=15,s=100,c={17:1,18:3,21:5,22:7,23:9,16:11,19:12,20:14},f={17:2,18:4,21:6,22:8,23:10,19:13,20:15},v={25:1,26:3,29:5,30:7,31:9,24:11,27:12,28:14},S={25:2,26:4,29:6,30:8,31:10,27:13,28:15},E=["white","green","blue","cyan","red","yellow","magenta","black","transparent"];(a=r||(r={}))[a.ERROR=0]="ERROR",a[a.TEXT=1]="TEXT",a[a.WARNING=2]="WARNING",a[a.INFO=2]="INFO",a[a.DEBUG=3]="DEBUG",a[a.DATA=3]="DATA";var m=function(){function _(){this.time=null,this.verboseLevel=r.ERROR}return _.prototype.log=function(T,O){this.verboseLevel>=T&&i.logger.log(this.time+" ["+T+"] "+O)},_}(),d=function(_){for(var T=[],O=0;O<_.length;O++)T.push(_[O].toString(16));return T},g=function(){function _(O,A,P,D,I){this.foreground=void 0,this.underline=void 0,this.italics=void 0,this.background=void 0,this.flash=void 0,this.foreground=O||"white",this.underline=A||!1,this.italics=P||!1,this.background=D||"black",this.flash=I||!1}var T=_.prototype;return T.reset=function(){this.foreground="white",this.underline=!1,this.italics=!1,this.background="black",this.flash=!1},T.setStyles=function(O){for(var A=["foreground","underline","italics","background","flash"],P=0;P<A.length;P++){var D=A[P];O.hasOwnProperty(D)&&(this[D]=O[D])}},T.isDefault=function(){return this.foreground==="white"&&!this.underline&&!this.italics&&this.background==="black"&&!this.flash},T.equals=function(O){return this.foreground===O.foreground&&this.underline===O.underline&&this.italics===O.italics&&this.background===O.background&&this.flash===O.flash},T.copy=function(O){this.foreground=O.foreground,this.underline=O.underline,this.italics=O.italics,this.background=O.background,this.flash=O.flash},T.toString=function(){return"color="+this.foreground+", underline="+this.underline+", italics="+this.italics+", background="+this.background+", flash="+this.flash},_}(),h=function(){function _(O,A,P,D,I,x){this.uchar=void 0,this.penState=void 0,this.uchar=O||" ",this.penState=new g(A,P,D,I,x)}var T=_.prototype;return T.reset=function(){this.uchar=" ",this.penState.reset()},T.setChar=function(O,A){this.uchar=O,this.penState.copy(A)},T.setPenState=function(O){this.penState.copy(O)},T.equals=function(O){return this.uchar===O.uchar&&this.penState.equals(O.penState)},T.copy=function(O){this.uchar=O.uchar,this.penState.copy(O.penState)},T.isEmpty=function(){return this.uchar===" "&&this.penState.isDefault()},_}(),p=function(){function _(O){this.chars=void 0,this.pos=void 0,this.currPenState=void 0,this.cueStartTime=void 0,this.logger=void 0,this.chars=[];for(var A=0;A<s;A++)this.chars.push(new h);this.logger=O,this.pos=0,this.currPenState=new g}var T=_.prototype;return T.equals=function(O){for(var A=!0,P=0;P<s;P++)if(!this.chars[P].equals(O.chars[P])){A=!1;break}return A},T.copy=function(O){for(var A=0;A<s;A++)this.chars[A].copy(O.chars[A])},T.isEmpty=function(){for(var O=!0,A=0;A<s;A++)if(!this.chars[A].isEmpty()){O=!1;break}return O},T.setCursor=function(O){this.pos!==O&&(this.pos=O),this.pos<0?(this.logger.log(r.DEBUG,"Negative cursor position "+this.pos),this.pos=0):this.pos>s&&(this.logger.log(r.DEBUG,"Too large cursor position "+this.pos),this.pos=s)},T.moveCursor=function(O){var A=this.pos+O;if(O>1)for(var P=this.pos+1;P<A+1;P++)this.chars[P].setPenState(this.currPenState);this.setCursor(A)},T.backSpace=function(){this.moveCursor(-1),this.chars[this.pos].setChar(" ",this.currPenState)},T.insertChar=function(O){O>=144&&this.backSpace();var A=l(O);this.pos>=s?this.logger.log(r.ERROR,"Cannot insert "+O.toString(16)+" ("+A+") at position "+this.pos+". Skipping it!"):(this.chars[this.pos].setChar(A,this.currPenState),this.moveCursor(1))},T.clearFromPos=function(O){var A;for(A=O;A<s;A++)this.chars[A].reset()},T.clear=function(){this.clearFromPos(0),this.pos=0,this.currPenState.reset()},T.clearToEndOfRow=function(){this.clearFromPos(this.pos)},T.getTextString=function(){for(var O=[],A=!0,P=0;P<s;P++){var D=this.chars[P].uchar;D!==" "&&(A=!1),O.push(D)}return A?"":O.join("")},T.setPenStyles=function(O){this.currPenState.setStyles(O),this.chars[this.pos].setPenState(this.currPenState)},_}(),b=function(){function _(O){this.rows=void 0,this.currRow=void 0,this.nrRollUpRows=void 0,this.lastOutputScreen=void 0,this.logger=void 0,this.rows=[];for(var A=0;A<u;A++)this.rows.push(new p(O));this.logger=O,this.currRow=14,this.nrRollUpRows=null,this.lastOutputScreen=null,this.reset()}var T=_.prototype;return T.reset=function(){for(var O=0;O<u;O++)this.rows[O].clear();this.currRow=14},T.equals=function(O){for(var A=!0,P=0;P<u;P++)if(!this.rows[P].equals(O.rows[P])){A=!1;break}return A},T.copy=function(O){for(var A=0;A<u;A++)this.rows[A].copy(O.rows[A])},T.isEmpty=function(){for(var O=!0,A=0;A<u;A++)if(!this.rows[A].isEmpty()){O=!1;break}return O},T.backSpace=function(){this.rows[this.currRow].backSpace()},T.clearToEndOfRow=function(){this.rows[this.currRow].clearToEndOfRow()},T.insertChar=function(O){this.rows[this.currRow].insertChar(O)},T.setPen=function(O){this.rows[this.currRow].setPenStyles(O)},T.moveCursor=function(O){this.rows[this.currRow].moveCursor(O)},T.setCursor=function(O){this.logger.log(r.INFO,"setCursor: "+O),this.rows[this.currRow].setCursor(O)},T.setPAC=function(O){this.logger.log(r.INFO,"pacData = "+JSON.stringify(O));var A=O.row-1;if(this.nrRollUpRows&&A<this.nrRollUpRows-1&&(A=this.nrRollUpRows-1),this.nrRollUpRows&&this.currRow!==A){for(var P=0;P<u;P++)this.rows[P].clear();var D=this.currRow+1-this.nrRollUpRows,I=this.lastOutputScreen;if(I){var x=I.rows[D].cueStartTime,L=this.logger.time;if(x&&L!==null&&x<L)for(var $=0;$<this.nrRollUpRows;$++)this.rows[A-this.nrRollUpRows+$+1].copy(I.rows[D+$])}}this.currRow=A;var M=this.rows[this.currRow];if(O.indent!==null){var N=O.indent,F=Math.max(N-1,0);M.setCursor(O.indent),O.color=M.chars[F].penState.foreground}var U={foreground:O.color,underline:O.underline,italics:O.italics,background:"black",flash:!1};this.setPen(U)},T.setBkgData=function(O){this.logger.log(r.INFO,"bkgData = "+JSON.stringify(O)),this.backSpace(),this.setPen(O),this.insertChar(32)},T.setRollUpRows=function(O){this.nrRollUpRows=O},T.rollUp=function(){if(this.nrRollUpRows!==null){this.logger.log(r.TEXT,this.getDisplayText());var O=this.currRow+1-this.nrRollUpRows,A=this.rows.splice(O,1)[0];A.clear(),this.rows.splice(this.currRow,0,A),this.logger.log(r.INFO,"Rolling up")}else this.logger.log(r.DEBUG,"roll_up but nrRollUpRows not set yet")},T.getDisplayText=function(O){O=O||!1;for(var A=[],P="",D=-1,I=0;I<u;I++){var x=this.rows[I].getTextString();x&&(D=I+1,O?A.push("Row "+D+": '"+x+"'"):A.push(x.trim()))}return A.length>0&&(P=O?"["+A.join(" | ")+"]":A.join(`
`)),P},T.getTextAndFormat=function(){return this.rows},_}(),y=function(){function _(O,A,P){this.chNr=void 0,this.outputFilter=void 0,this.mode=void 0,this.verbose=void 0,this.displayedMemory=void 0,this.nonDisplayedMemory=void 0,this.lastOutputScreen=void 0,this.currRollUpRow=void 0,this.writeScreen=void 0,this.cueStartTime=void 0,this.logger=void 0,this.chNr=O,this.outputFilter=A,this.mode=null,this.verbose=0,this.displayedMemory=new b(P),this.nonDisplayedMemory=new b(P),this.lastOutputScreen=new b(P),this.currRollUpRow=this.displayedMemory.rows[14],this.writeScreen=this.displayedMemory,this.mode=null,this.cueStartTime=null,this.logger=P}var T=_.prototype;return T.reset=function(){this.mode=null,this.displayedMemory.reset(),this.nonDisplayedMemory.reset(),this.lastOutputScreen.reset(),this.outputFilter.reset(),this.currRollUpRow=this.displayedMemory.rows[14],this.writeScreen=this.displayedMemory,this.mode=null,this.cueStartTime=null},T.getHandler=function(){return this.outputFilter},T.setHandler=function(O){this.outputFilter=O},T.setPAC=function(O){this.writeScreen.setPAC(O)},T.setBkgData=function(O){this.writeScreen.setBkgData(O)},T.setMode=function(O){O!==this.mode&&(this.mode=O,this.logger.log(r.INFO,"MODE="+O),this.mode==="MODE_POP-ON"?this.writeScreen=this.nonDisplayedMemory:(this.writeScreen=this.displayedMemory,this.writeScreen.reset()),this.mode!=="MODE_ROLL-UP"&&(this.displayedMemory.nrRollUpRows=null,this.nonDisplayedMemory.nrRollUpRows=null),this.mode=O)},T.insertChars=function(O){for(var A=0;A<O.length;A++)this.writeScreen.insertChar(O[A]);var P=this.writeScreen===this.displayedMemory?"DISP":"NON_DISP";this.logger.log(r.INFO,P+": "+this.writeScreen.getDisplayText(!0)),this.mode!=="MODE_PAINT-ON"&&this.mode!=="MODE_ROLL-UP"||(this.logger.log(r.TEXT,"DISPLAYED: "+this.displayedMemory.getDisplayText(!0)),this.outputDataUpdate())},T.ccRCL=function(){this.logger.log(r.INFO,"RCL - Resume Caption Loading"),this.setMode("MODE_POP-ON")},T.ccBS=function(){this.logger.log(r.INFO,"BS - BackSpace"),this.mode!=="MODE_TEXT"&&(this.writeScreen.backSpace(),this.writeScreen===this.displayedMemory&&this.outputDataUpdate())},T.ccAOF=function(){},T.ccAON=function(){},T.ccDER=function(){this.logger.log(r.INFO,"DER- Delete to End of Row"),this.writeScreen.clearToEndOfRow(),this.outputDataUpdate()},T.ccRU=function(O){this.logger.log(r.INFO,"RU("+O+") - Roll Up"),this.writeScreen=this.displayedMemory,this.setMode("MODE_ROLL-UP"),this.writeScreen.setRollUpRows(O)},T.ccFON=function(){this.logger.log(r.INFO,"FON - Flash On"),this.writeScreen.setPen({flash:!0})},T.ccRDC=function(){this.logger.log(r.INFO,"RDC - Resume Direct Captioning"),this.setMode("MODE_PAINT-ON")},T.ccTR=function(){this.logger.log(r.INFO,"TR"),this.setMode("MODE_TEXT")},T.ccRTD=function(){this.logger.log(r.INFO,"RTD"),this.setMode("MODE_TEXT")},T.ccEDM=function(){this.logger.log(r.INFO,"EDM - Erase Displayed Memory"),this.displayedMemory.reset(),this.outputDataUpdate(!0)},T.ccCR=function(){this.logger.log(r.INFO,"CR - Carriage Return"),this.writeScreen.rollUp(),this.outputDataUpdate(!0)},T.ccENM=function(){this.logger.log(r.INFO,"ENM - Erase Non-displayed Memory"),this.nonDisplayedMemory.reset()},T.ccEOC=function(){if(this.logger.log(r.INFO,"EOC - End Of Caption"),this.mode==="MODE_POP-ON"){var O=this.displayedMemory;this.displayedMemory=this.nonDisplayedMemory,this.nonDisplayedMemory=O,this.writeScreen=this.nonDisplayedMemory,this.logger.log(r.TEXT,"DISP: "+this.displayedMemory.getDisplayText())}this.outputDataUpdate(!0)},T.ccTO=function(O){this.logger.log(r.INFO,"TO("+O+") - Tab Offset"),this.writeScreen.moveCursor(O)},T.ccMIDROW=function(O){var A={flash:!1};if(A.underline=O%2==1,A.italics=O>=46,A.italics)A.foreground="white";else{var P=Math.floor(O/2)-16;A.foreground=["white","green","blue","cyan","red","yellow","magenta"][P]}this.logger.log(r.INFO,"MIDROW: "+JSON.stringify(A)),this.writeScreen.setPen(A)},T.outputDataUpdate=function(O){O===void 0&&(O=!1);var A=this.logger.time;A!==null&&this.outputFilter&&(this.cueStartTime!==null||this.displayedMemory.isEmpty()?this.displayedMemory.equals(this.lastOutputScreen)||(this.outputFilter.newCue(this.cueStartTime,A,this.lastOutputScreen),O&&this.outputFilter.dispatchCue&&this.outputFilter.dispatchCue(),this.cueStartTime=this.displayedMemory.isEmpty()?null:A):this.cueStartTime=A,this.lastOutputScreen.copy(this.displayedMemory))},T.cueSplitAtTime=function(O){this.outputFilter&&(this.displayedMemory.isEmpty()||(this.outputFilter.newCue&&this.outputFilter.newCue(this.cueStartTime,O,this.displayedMemory),this.cueStartTime=O))},_}(),C=function(){function _(O,A,P){this.channels=void 0,this.currentChannel=0,this.cmdHistory=void 0,this.logger=void 0;var D=new m;this.channels=[null,new y(O,A,D),new y(O+1,P,D)],this.cmdHistory={a:null,b:null},this.logger=D}var T=_.prototype;return T.getHandler=function(O){return this.channels[O].getHandler()},T.setHandler=function(O,A){this.channels[O].setHandler(A)},T.addData=function(O,A){var P,D,I,x=!1;this.logger.time=O;for(var L=0;L<A.length;L+=2)if(D=127&A[L],I=127&A[L+1],D!==0||I!==0){if(this.logger.log(r.DATA,"["+d([A[L],A[L+1]])+"] -> ("+d([D,I])+")"),(P=this.parseCmd(D,I))||(P=this.parseMidrow(D,I)),P||(P=this.parsePAC(D,I)),P||(P=this.parseBackgroundAttributes(D,I)),!P&&(x=this.parseChars(D,I))){var $=this.currentChannel;$&&$>0?this.channels[$].insertChars(x):this.logger.log(r.WARNING,"No channel found yet. TEXT-MODE?")}P||x||this.logger.log(r.WARNING,"Couldn't parse cleaned data "+d([D,I])+" orig: "+d([A[L],A[L+1]]))}},T.parseCmd=function(O,A){var P=this.cmdHistory;if(!((O===20||O===28||O===21||O===29)&&A>=32&&A<=47||(O===23||O===31)&&A>=33&&A<=35))return!1;if(k(O,A,P))return w(null,null,P),this.logger.log(r.DEBUG,"Repeated command ("+d([O,A])+") is dropped"),!0;var D=O===20||O===21||O===23?1:2,I=this.channels[D];return O===20||O===21||O===28||O===29?A===32?I.ccRCL():A===33?I.ccBS():A===34?I.ccAOF():A===35?I.ccAON():A===36?I.ccDER():A===37?I.ccRU(2):A===38?I.ccRU(3):A===39?I.ccRU(4):A===40?I.ccFON():A===41?I.ccRDC():A===42?I.ccTR():A===43?I.ccRTD():A===44?I.ccEDM():A===45?I.ccCR():A===46?I.ccENM():A===47&&I.ccEOC():I.ccTO(A-32),w(O,A,P),this.currentChannel=D,!0},T.parseMidrow=function(O,A){var P=0;if((O===17||O===25)&&A>=32&&A<=47){if((P=O===17?1:2)!==this.currentChannel)return this.logger.log(r.ERROR,"Mismatch channel in midrow parsing"),!1;var D=this.channels[P];return!!D&&(D.ccMIDROW(A),this.logger.log(r.DEBUG,"MIDROW ("+d([O,A])+")"),!0)}return!1},T.parsePAC=function(O,A){var P,D=this.cmdHistory;if(!((O>=17&&O<=23||O>=25&&O<=31)&&A>=64&&A<=127||(O===16||O===24)&&A>=64&&A<=95))return!1;if(k(O,A,D))return w(null,null,D),!0;var I=O<=23?1:2;P=A>=64&&A<=95?I===1?c[O]:v[O]:I===1?f[O]:S[O];var x=this.channels[I];return!!x&&(x.setPAC(this.interpretPAC(P,A)),w(O,A,D),this.currentChannel=I,!0)},T.interpretPAC=function(O,A){var P,D={color:null,italics:!1,indent:null,underline:!1,row:O};return P=A>95?A-96:A-64,D.underline=(1&P)==1,P<=13?D.color=["white","green","blue","cyan","red","yellow","magenta","white"][Math.floor(P/2)]:P<=15?(D.italics=!0,D.color="white"):D.indent=4*Math.floor((P-16)/2),D},T.parseChars=function(O,A){var P,D,I=null,x=null;if(O>=25?(P=2,x=O-8):(P=1,x=O),x>=17&&x<=19?(D=x===17?A+80:x===18?A+112:A+144,this.logger.log(r.INFO,"Special char '"+l(D)+"' in channel "+P),I=[D]):O>=32&&O<=127&&(I=A===0?[O]:[O,A]),I){var L=d(I);this.logger.log(r.DEBUG,"Char codes =  "+L.join(",")),w(O,A,this.cmdHistory)}return I},T.parseBackgroundAttributes=function(O,A){var P;if(!((O===16||O===24)&&A>=32&&A<=47||(O===23||O===31)&&A>=45&&A<=47))return!1;var D={};O===16||O===24?(P=Math.floor((A-32)/2),D.background=E[P],A%2==1&&(D.background=D.background+"_semi")):A===45?D.background="transparent":(D.foreground="black",A===47&&(D.underline=!0));var I=O<=23?1:2;return this.channels[I].setBkgData(D),w(O,A,this.cmdHistory),!0},T.reset=function(){for(var O=0;O<Object.keys(this.channels).length;O++){var A=this.channels[O];A&&A.reset()}this.cmdHistory={a:null,b:null}},T.cueSplitAtTime=function(O){for(var A=0;A<this.channels.length;A++){var P=this.channels[A];P&&P.cueSplitAtTime(O)}},_}();function w(_,T,O){O.a=_,O.b=T}function k(_,T,O){return O.a===_&&O.b===T}t.default=C},"./src/utils/codecs.ts":function(e,t,n){n.r(t),n.d(t,"isCodecType",function(){return a}),n.d(t,"isCodecSupportedInMp4",function(){return i});var r={audio:{a3ds:!0,"ac-3":!0,"ac-4":!0,alac:!0,alaw:!0,dra1:!0,"dts+":!0,"dts-":!0,dtsc:!0,dtse:!0,dtsh:!0,"ec-3":!0,enca:!0,g719:!0,g726:!0,m4ae:!0,mha1:!0,mha2:!0,mhm1:!0,mhm2:!0,mlpa:!0,mp4a:!0,"raw ":!0,Opus:!0,samr:!0,sawb:!0,sawp:!0,sevc:!0,sqcp:!0,ssmv:!0,twos:!0,ulaw:!0},video:{avc1:!0,avc2:!0,avc3:!0,avc4:!0,avcp:!0,av01:!0,drac:!0,dvav:!0,dvhe:!0,encv:!0,hev1:!0,hvc1:!0,mjp2:!0,mp4v:!0,mvc1:!0,mvc2:!0,mvc3:!0,mvc4:!0,resv:!0,rv60:!0,s263:!0,svc1:!0,svc2:!0,"vc-1":!0,vp08:!0,vp09:!0},text:{stpp:!0,wvtt:!0}};function a(o,l){var u=r[l];return!!u&&u[o.slice(0,4)]===!0}function i(o,l){return MediaSource.isTypeSupported((l||"video")+'/mp4;codecs="'+o+'"')}},"./src/utils/cues.ts":function(e,t,n){n.r(t);var r=n("./src/utils/vttparser.ts"),a=n("./src/utils/webvtt-parser.ts"),i=n("./src/utils/texttrack-utils.ts"),o=/\s/,l={newCue:function(u,s,c,f){for(var v,S,E,m,d,g=[],h=self.VTTCue||self.TextTrackCue,p=0;p<f.rows.length;p++)if(E=!0,m=0,d="",!(v=f.rows[p]).isEmpty()){for(var b=0;b<v.chars.length;b++)o.test(v.chars[b].uchar)&&E?m++:(d+=v.chars[b].uchar,E=!1);v.cueStartTime=s,s===c&&(c+=1e-4),m>=16?m--:m++;var y=Object(r.fixLineBreaks)(d.trim()),C=Object(a.generateCueId)(s,c,y);u&&u.cues&&u.cues.getCueById(C)||((S=new h(s,c,y)).id=C,S.line=p+1,S.align="left",S.position=10+Math.min(80,10*Math.floor(8*m/32)),g.push(S))}return u&&g.length&&(g.sort(function(w,k){return w.line==="auto"||k.line==="auto"?0:w.line>8&&k.line>8?k.line-w.line:w.line-k.line}),g.forEach(function(w){return Object(i.addCueToTrack)(u,w)})),g}};t.default=l},"./src/utils/discontinuities.ts":function(e,t,n){n.r(t),n.d(t,"findFirstFragWithCC",function(){return o}),n.d(t,"shouldAlignOnDiscontinuities",function(){return l}),n.d(t,"findDiscontinuousReferenceFrag",function(){return u}),n.d(t,"adjustSlidingStart",function(){return c}),n.d(t,"alignStream",function(){return f}),n.d(t,"alignPDT",function(){return v});var r=n("./src/polyfills/number.ts"),a=n("./src/utils/logger.ts"),i=n("./src/controller/level-helper.ts");function o(S,E){for(var m=null,d=0,g=S.length;d<g;d++){var h=S[d];if(h&&h.cc===E){m=h;break}}return m}function l(S,E,m){return!(!E.details||!(m.endCC>m.startCC||S&&S.cc<m.startCC))}function u(S,E){var m=S.fragments,d=E.fragments;if(d.length&&m.length){var g=o(m,d[0].cc);if(g&&(!g||g.startPTS))return g;a.logger.log("No frag in previous level to align on")}else a.logger.log("No fragments to align")}function s(S,E){if(S){var m=S.start+E;S.start=S.startPTS=m,S.endPTS=m+S.duration}}function c(S,E){for(var m=E.fragments,d=0,g=m.length;d<g;d++)s(m[d],S);E.fragmentHint&&s(E.fragmentHint,S),E.alignedSliding=!0}function f(S,E,m){E&&(function(d,g,h){if(l(d,h,g)){var p=u(h.details,g);p&&Object(r.isFiniteNumber)(p.start)&&(a.logger.log("Adjusting PTS using last level due to CC increase within current level "+g.url),c(p.start,g))}}(S,m,E),!m.alignedSliding&&E.details&&v(m,E.details),m.alignedSliding||!E.details||m.skippedSegments||Object(i.adjustSliding)(E.details,m))}function v(S,E){if(E.fragments.length&&S.hasProgramDateTime&&E.hasProgramDateTime){var m=E.fragments[0].programDateTime,d=S.fragments[0].programDateTime,g=(d-m)/1e3+E.fragments[0].start;g&&Object(r.isFiniteNumber)(g)&&(a.logger.log("Adjusting PTS using programDateTime delta "+(d-m)+"ms, sliding:"+g.toFixed(3)+" "+S.url+" "),c(g,S))}}},"./src/utils/ewma-bandwidth-estimator.ts":function(e,t,n){n.r(t);var r=n("./src/utils/ewma.ts"),a=function(){function i(l,u,s){this.defaultEstimate_=void 0,this.minWeight_=void 0,this.minDelayMs_=void 0,this.slow_=void 0,this.fast_=void 0,this.defaultEstimate_=s,this.minWeight_=.001,this.minDelayMs_=50,this.slow_=new r.default(l),this.fast_=new r.default(u)}var o=i.prototype;return o.update=function(l,u){var s=this.slow_,c=this.fast_;this.slow_.halfLife!==l&&(this.slow_=new r.default(l,s.getEstimate(),s.getTotalWeight())),this.fast_.halfLife!==u&&(this.fast_=new r.default(u,c.getEstimate(),c.getTotalWeight()))},o.sample=function(l,u){var s=(l=Math.max(l,this.minDelayMs_))/1e3,c=8*u/s;this.fast_.sample(s,c),this.slow_.sample(s,c)},o.canEstimate=function(){var l=this.fast_;return l&&l.getTotalWeight()>=this.minWeight_},o.getEstimate=function(){return this.canEstimate()?Math.min(this.fast_.getEstimate(),this.slow_.getEstimate()):this.defaultEstimate_},o.destroy=function(){},i}();t.default=a},"./src/utils/ewma.ts":function(e,t,n){n.r(t);var r=function(){function a(o,l,u){l===void 0&&(l=0),u===void 0&&(u=0),this.halfLife=void 0,this.alpha_=void 0,this.estimate_=void 0,this.totalWeight_=void 0,this.halfLife=o,this.alpha_=o?Math.exp(Math.log(.5)/o):0,this.estimate_=l,this.totalWeight_=u}var i=a.prototype;return i.sample=function(o,l){var u=Math.pow(this.alpha_,o);this.estimate_=l*(1-u)+u*this.estimate_,this.totalWeight_+=o},i.getTotalWeight=function(){return this.totalWeight_},i.getEstimate=function(){if(this.alpha_){var o=1-Math.pow(this.alpha_,this.totalWeight_);if(o)return this.estimate_/o}return this.estimate_},a}();t.default=r},"./src/utils/fetch-loader.ts":function(e,t,n){n.r(t),n.d(t,"fetchSupported",function(){return f});var r=n("./src/polyfills/number.ts"),a=n("./src/loader/load-stats.ts"),i=n("./src/demux/chunk-cache.ts");function o(m){var d=typeof Map=="function"?new Map:void 0;return(o=function(g){if(g===null||(h=g,Function.toString.call(h).indexOf("[native code]")===-1))return g;var h;if(typeof g!="function")throw new TypeError("Super expression must either be null or a function");if(d!==void 0){if(d.has(g))return d.get(g);d.set(g,p)}function p(){return l(g,arguments,c(this).constructor)}return p.prototype=Object.create(g.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}),s(p,g)})(m)}function l(m,d,g){return(l=u()?Reflect.construct:function(h,p,b){var y=[null];y.push.apply(y,p);var C=new(Function.bind.apply(h,y));return b&&s(C,b.prototype),C}).apply(null,arguments)}function u(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function s(m,d){return(s=Object.setPrototypeOf||function(g,h){return g.__proto__=h,g})(m,d)}function c(m){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(d){return d.__proto__||Object.getPrototypeOf(d)})(m)}function f(){if(self.fetch&&self.AbortController&&self.ReadableStream&&self.Request)try{return new self.ReadableStream({}),!0}catch{}return!1}var v=function(){function m(g){this.fetchSetup=void 0,this.requestTimeout=void 0,this.request=void 0,this.response=void 0,this.controller=void 0,this.context=void 0,this.config=null,this.callbacks=null,this.stats=void 0,this.loader=null,this.fetchSetup=g.fetchSetup||S,this.controller=new self.AbortController,this.stats=new a.LoadStats}var d=m.prototype;return d.destroy=function(){this.loader=this.callbacks=null,this.abortInternal()},d.abortInternal=function(){var g=this.response;g&&g.ok||(this.stats.aborted=!0,this.controller.abort())},d.abort=function(){var g;this.abortInternal(),(g=this.callbacks)!==null&&g!==void 0&&g.onAbort&&this.callbacks.onAbort(this.stats,this.context,this.response)},d.load=function(g,h,p){var b=this,y=this.stats;if(y.loading.start)throw new Error("Loader can only be used once.");y.loading.start=self.performance.now();var C=function(T,O){var A={method:"GET",mode:"cors",credentials:"same-origin",signal:O};return T.rangeEnd&&(A.headers=new self.Headers({Range:"bytes="+T.rangeStart+"-"+String(T.rangeEnd-1)})),A}(g,this.controller.signal),w=p.onProgress,k=g.responseType==="arraybuffer",_=k?"byteLength":"length";this.context=g,this.config=h,this.callbacks=p,this.request=this.fetchSetup(g,C),self.clearTimeout(this.requestTimeout),this.requestTimeout=self.setTimeout(function(){b.abortInternal(),p.onTimeout(y,g,b.response)},h.timeout),self.fetch(this.request).then(function(T){if(b.response=b.loader=T,!T.ok){var O=T.status,A=T.statusText;throw new E(A||"fetch, bad network response",O,T)}return y.loading.first=Math.max(self.performance.now(),y.loading.start),y.total=parseInt(T.headers.get("Content-Length")||"0"),w&&Object(r.isFiniteNumber)(h.highWaterMark)?b.loadProgressively(T,y,g,h.highWaterMark,w):k?T.arrayBuffer():T.text()}).then(function(T){var O=b.response;self.clearTimeout(b.requestTimeout),y.loading.end=Math.max(self.performance.now(),y.loading.first),y.loaded=y.total=T[_];var A={url:O.url,data:T};w&&!Object(r.isFiniteNumber)(h.highWaterMark)&&w(y,g,T,O),p.onSuccess(A,y,g,O)}).catch(function(T){if(self.clearTimeout(b.requestTimeout),!y.aborted){var O=T.code||0;p.onError({code:O,text:T.message},g,T.details)}})},d.getCacheAge=function(){var g=null;if(this.response){var h=this.response.headers.get("age");g=h?parseFloat(h):null}return g},d.loadProgressively=function(g,h,p,b,y){b===void 0&&(b=0);var C=new i.default,w=g.body.getReader();return function k(){return w.read().then(function(_){if(_.done)return C.dataLength&&y(h,p,C.flush(),g),Promise.resolve(new ArrayBuffer(0));var T=_.value,O=T.length;return h.loaded+=O,O<b||C.dataLength?(C.push(T),C.dataLength>=b&&y(h,p,C.flush(),g)):y(h,p,T,g),k()}).catch(function(){return Promise.reject()})}()},m}();function S(m,d){return new self.Request(m.url,d)}var E=function(m){var d,g;function h(p,b,y){var C;return(C=m.call(this,p)||this).code=void 0,C.details=void 0,C.code=b,C.details=y,C}return g=m,(d=h).prototype=Object.create(g.prototype),d.prototype.constructor=d,s(d,g),h}(o(Error));t.default=v},"./src/utils/imsc1-ttml-parser.ts":function(e,t,n){n.r(t),n.d(t,"IMSC1_CODEC",function(){return c}),n.d(t,"parseIMSC1",function(){return E});var r=n("./src/utils/mp4-tools.ts"),a=n("./src/utils/vttparser.ts"),i=n("./src/utils/vttcue.ts"),o=n("./src/demux/id3.ts"),l=n("./src/utils/timescale-conversion.ts"),u=n("./src/utils/webvtt-parser.ts");function s(){return(s=Object.assign||function(y){for(var C=1;C<arguments.length;C++){var w=arguments[C];for(var k in w)Object.prototype.hasOwnProperty.call(w,k)&&(y[k]=w[k])}return y}).apply(this,arguments)}var c="stpp.ttml.im1t",f=/^(\d{2,}):(\d{2}):(\d{2}):(\d{2})\.?(\d+)?$/,v=/^(\d*(?:\.\d*)?)(h|m|s|ms|f|t)$/,S={left:"start",center:"center",right:"end",start:"start",end:"end"};function E(y,C,w,k,_){var T=Object(r.findBox)(new Uint8Array(y),["mdat"]);if(T.length!==0){var O=T[0],A=Object(o.utf8ArrayToStr)(new Uint8Array(y,O.start,O.end-O.start)),P=Object(l.toTimescaleFromScale)(C,1,w);try{k(function(D,I){var x=new DOMParser().parseFromString(D,"text/xml").getElementsByTagName("tt")[0];if(!x)throw new Error("Invalid ttml");var L={frameRate:30,subFrameRate:1,frameRateMultiplier:0,tickRate:0},$=Object.keys(L).reduce(function(B,K){return B[K]=x.getAttribute("ttp:"+K)||L[K],B},{}),M=x.getAttribute("xml:space")!=="preserve",N=d(m(x,"styling","style")),F=d(m(x,"layout","region")),U=m(x,"body","[begin]");return[].map.call(U,function(B){var K=g(B,M);if(!K||!B.hasAttribute("begin"))return null;var V=b(B.getAttribute("begin"),$),X=b(B.getAttribute("dur"),$),Z=b(B.getAttribute("end"),$);if(V===null)throw p(B);if(Z===null){if(X===null)throw p(B);Z=V+X}var ne=new i.default(V-I,Z-I,K);ne.id=Object(u.generateCueId)(ne.startTime,ne.endTime,ne.text);var ae=F[B.getAttribute("region")],ye=N[B.getAttribute("style")];ne.position=10,ne.size=80;var de=function(Y,Q){var re="http://www.w3.org/ns/ttml#styling";return["displayAlign","textAlign","color","backgroundColor","fontSize","fontFamily"].reduce(function(ie,le){var Se=h(Q,re,le)||h(Y,re,le);return Se&&(ie[le]=Se),ie},{})}(ae,ye),be=de.textAlign;if(be){var G=S[be];G&&(ne.lineAlign=G),ne.align=be}return s(ne,de),ne}).filter(function(B){return B!==null})}(A,P))}catch(D){_(D)}}else _(new Error("Could not parse IMSC1 mdat"))}function m(y,C,w){var k=y.getElementsByTagName(C)[0];return k?[].slice.call(k.querySelectorAll(w)):[]}function d(y){return y.reduce(function(C,w){var k=w.getAttribute("xml:id");return k&&(C[k]=w),C},{})}function g(y,C){return[].slice.call(y.childNodes).reduce(function(w,k,_){var T;return k.nodeName==="br"&&_?w+`
`:(T=k.childNodes)!==null&&T!==void 0&&T.length?g(k,C):C?w+k.textContent.trim().replace(/\s+/g," "):w+k.textContent},"")}function h(y,C,w){return y.hasAttributeNS(C,w)?y.getAttributeNS(C,w):null}function p(y){return new Error("Could not parse ttml timestamp "+y)}function b(y,C){if(!y)return null;var w=Object(a.parseTimeStamp)(y);return w===null&&(f.test(y)?w=function(k,_){var T=f.exec(k),O=(0|T[4])+(0|T[5])/_.subFrameRate;return 3600*(0|T[1])+60*(0|T[2])+(0|T[3])+O/_.frameRate}(y,C):v.test(y)&&(w=function(k,_){var T=v.exec(k),O=Number(T[1]);switch(T[2]){case"h":return 3600*O;case"m":return 60*O;case"ms":return 1e3*O;case"f":return O/_.frameRate;case"t":return O/_.tickRate}return O}(y,C))),w}},"./src/utils/logger.ts":function(e,t,n){n.r(t),n.d(t,"enableLogs",function(){return l}),n.d(t,"logger",function(){return u});var r=function(){},a={trace:r,debug:r,log:r,warn:r,info:r,error:r},i=a;function o(s){var c=self.console[s];return c?c.bind(self.console,"["+s+"] >"):r}function l(s){if(self.console&&s===!0||typeof s=="object"){(function(c){for(var f=arguments.length,v=new Array(f>1?f-1:0),S=1;S<f;S++)v[S-1]=arguments[S];v.forEach(function(E){i[E]=c[E]?c[E].bind(c):o(E)})})(s,"debug","log","info","warn","error");try{i.log()}catch{i=a}}else i=a}var u=a},"./src/utils/mediakeys-helper.ts":function(e,t,n){var r,a;n.r(t),n.d(t,"KeySystems",function(){return r}),n.d(t,"requestMediaKeySystemAccess",function(){return i}),(a=r||(r={})).WIDEVINE="com.widevine.alpha",a.PLAYREADY="com.microsoft.playready";var i=typeof self!="undefined"&&self.navigator&&self.navigator.requestMediaKeySystemAccess?self.navigator.requestMediaKeySystemAccess.bind(self.navigator):null},"./src/utils/mediasource-helper.ts":function(e,t,n){function r(){return self.MediaSource||self.WebKitMediaSource}n.r(t),n.d(t,"getMediaSource",function(){return r})},"./src/utils/mp4-tools.ts":function(e,t,n){n.r(t),n.d(t,"bin2str",function(){return l}),n.d(t,"readUint16",function(){return u}),n.d(t,"readUint32",function(){return s}),n.d(t,"writeUint32",function(){return c}),n.d(t,"findBox",function(){return f}),n.d(t,"parseSegmentIndex",function(){return v}),n.d(t,"parseInitSegment",function(){return S}),n.d(t,"getStartDTS",function(){return E}),n.d(t,"getDuration",function(){return m}),n.d(t,"computeRawDurationFromSamples",function(){return d}),n.d(t,"offsetStartDTS",function(){return g}),n.d(t,"segmentValidRange",function(){return h}),n.d(t,"appendUint8Array",function(){return p});var r=n("./src/utils/typed-array.ts"),a=n("./src/loader/fragment.ts"),i=Math.pow(2,32)-1,o=[].push;function l(b){return String.fromCharCode.apply(null,b)}function u(b,y){"data"in b&&(y+=b.start,b=b.data);var C=b[y]<<8|b[y+1];return C<0?65536+C:C}function s(b,y){"data"in b&&(y+=b.start,b=b.data);var C=b[y]<<24|b[y+1]<<16|b[y+2]<<8|b[y+3];return C<0?4294967296+C:C}function c(b,y,C){"data"in b&&(y+=b.start,b=b.data),b[y]=C>>24,b[y+1]=C>>16&255,b[y+2]=C>>8&255,b[y+3]=255&C}function f(b,y){var C,w,k,_=[];if(!y.length)return _;"data"in b?(C=b.data,w=b.start,k=b.end):(w=0,k=(C=b).byteLength);for(var T=w;T<k;){var O=s(C,T),A=O>1?T+O:k;if(l(C.subarray(T+4,T+8))===y[0])if(y.length===1)_.push({data:C,start:T+8,end:A});else{var P=f({data:C,start:T+8,end:A},y.slice(1));P.length&&o.apply(_,P)}T=A}return _}function v(b){var y=f(b,["moov"])[0],C=y?y.end:null,w=f(b,["sidx"]);if(!w||!w[0])return null;var k=[],_=w[0],T=_.data[0],O=T===0?8:16,A=s(_,O);O+=4,O+=T===0?8:16,O+=2;var P=_.end+0,D=u(_,O);O+=2;for(var I=0;I<D;I++){var x=O,L=s(_,x);x+=4;var $=2147483647&L;if((2147483648&L)>>>31==1)return console.warn("SIDX has hierarchical references (not supported)"),null;var M=s(_,x);x+=4,k.push({referenceSize:$,subsegmentDuration:M,info:{duration:M/A,start:P,end:P+$-1}}),P+=$,O=x+=4}return{earliestPresentationTime:0,timescale:A,version:T,referencesCount:D,references:k,moovEndOffset:C}}function S(b){for(var y=[],C=f(b,["moov","trak"]),w=0;w<C.length;w++){var k=C[w],_=f(k,["tkhd"])[0];if(_){var T=_.data[_.start],O=T===0?12:20,A=s(_,O),P=f(k,["mdia","mdhd"])[0];if(P){var D=s(P,O=(T=P.data[P.start])===0?12:20),I=f(k,["mdia","hdlr"])[0];if(I){var x=l(I.data.subarray(I.start+8,I.start+12)),L={soun:a.ElementaryStreamTypes.AUDIO,vide:a.ElementaryStreamTypes.VIDEO}[x];if(L){var $=f(k,["mdia","minf","stbl","stsd"])[0],M=void 0;$&&(M=l($.data.subarray($.start+12,$.start+16))),y[A]={timescale:D,type:L},y[L]={timescale:D,id:A,codec:M}}}}}}return f(b,["moov","mvex","trex"]).forEach(function(N){var F=s(N,4),U=y[F];U&&(U.default={duration:s(N,12),flags:s(N,20)})}),y}function E(b,y){return f(y,["moof","traf"]).reduce(function(C,w){var k=f(w,["tfdt"])[0],_=k.data[k.start],T=f(w,["tfhd"]).reduce(function(O,A){var P=s(A,4),D=b[P];if(D){var I=s(k,4);_===1&&(I*=Math.pow(2,32),I+=s(k,8));var x=I/(D.timescale||9e4);if(isFinite(x)&&(O===null||x<O))return x}return O},null);return T!==null&&isFinite(T)&&(C===null||T<C)?T:C},null)||0}function m(b,y){for(var C=0,w=0,k=0,_=f(b,["moof","traf"]),T=0;T<_.length;T++){var O=_[T],A=f(O,["tfhd"])[0],P=y[s(A,4)];if(P){var D=P.default,I=s(A,0)|(D==null?void 0:D.flags),x=D==null?void 0:D.duration;8&I&&(x=s(A,2&I?12:8));for(var L=P.timescale||9e4,$=f(O,["trun"]),M=0;M<$.length;M++)C=x?x*s($[M],4):d($[M]),P.type===a.ElementaryStreamTypes.VIDEO?w+=C/L:P.type===a.ElementaryStreamTypes.AUDIO&&(k+=C/L)}}if(w===0&&k===0){var N=v(b);if(N!=null&&N.references)return N.references.reduce(function(F,U){return F+U.info.duration||0},0)}return w||k}function d(b){var y=s(b,0),C=8;1&y&&(C+=4),4&y&&(C+=4);for(var w=0,k=s(b,4),_=0;_<k;_++)256&y&&(w+=s(b,C),C+=4),512&y&&(C+=4),1024&y&&(C+=4),2048&y&&(C+=4);return w}function g(b,y,C){f(y,["moof","traf"]).forEach(function(w){f(w,["tfhd"]).forEach(function(k){var _=s(k,4),T=b[_];if(T){var O=T.timescale||9e4;f(w,["tfdt"]).forEach(function(A){var P=A.data[A.start],D=s(A,4);if(P===0)c(A,4,D-C*O);else{D*=Math.pow(2,32),D+=s(A,8),D-=C*O,D=Math.max(D,0);var I=Math.floor(D/(i+1)),x=Math.floor(D%(i+1));c(A,4,I),c(A,8,x)}})}})})}function h(b){var y={valid:null,remainder:null},C=f(b,["moof"]);if(!C)return y;if(C.length<2)return y.remainder=b,y;var w=C[C.length-1];return y.valid=Object(r.sliceUint8)(b,0,w.start-8),y.remainder=Object(r.sliceUint8)(b,w.start-8),y}function p(b,y){var C=new Uint8Array(b.length+y.length);return C.set(b),C.set(y,b.length),C}},"./src/utils/output-filter.ts":function(e,t,n){n.r(t),n.d(t,"default",function(){return r});var r=function(){function a(o,l){this.timelineController=void 0,this.cueRanges=[],this.trackName=void 0,this.startTime=null,this.endTime=null,this.screen=null,this.timelineController=o,this.trackName=l}var i=a.prototype;return i.dispatchCue=function(){this.startTime!==null&&(this.timelineController.addCues(this.trackName,this.startTime,this.endTime,this.screen,this.cueRanges),this.startTime=null)},i.newCue=function(o,l,u){(this.startTime===null||this.startTime>o)&&(this.startTime=o),this.endTime=l,this.screen=u,this.timelineController.createCaptionsTrack(this.trackName)},i.reset=function(){this.cueRanges=[]},a}()},"./src/utils/texttrack-utils.ts":function(e,t,n){n.r(t),n.d(t,"sendAddTrackEvent",function(){return a}),n.d(t,"addCueToTrack",function(){return i}),n.d(t,"clearCurrentCues",function(){return o}),n.d(t,"removeCuesInRange",function(){return l}),n.d(t,"getCuesInRange",function(){return u});var r=n("./src/utils/logger.ts");function a(s,c){var f;try{f=new Event("addtrack")}catch{(f=document.createEvent("Event")).initEvent("addtrack",!1,!1)}f.track=s,c.dispatchEvent(f)}function i(s,c){var f=s.mode;if(f==="disabled"&&(s.mode="hidden"),s.cues&&!s.cues.getCueById(c.id))try{if(s.addCue(c),!s.cues.getCueById(c.id))throw new Error("addCue is failed for: "+c)}catch(S){r.logger.debug("[texttrack-utils]: "+S);var v=new self.TextTrackCue(c.startTime,c.endTime,c.text);v.id=c.id,s.addCue(v)}f==="disabled"&&(s.mode=f)}function o(s){var c=s.mode;if(c==="disabled"&&(s.mode="hidden"),s.cues)for(var f=s.cues.length;f--;)s.removeCue(s.cues[f]);c==="disabled"&&(s.mode=c)}function l(s,c,f){var v=s.mode;if(v==="disabled"&&(s.mode="hidden"),s.cues&&s.cues.length>0)for(var S=u(s.cues,c,f),E=0;E<S.length;E++)s.removeCue(S[E]);v==="disabled"&&(s.mode=v)}function u(s,c,f){var v=[],S=function(g,h){if(h<g[0].startTime)return 0;var p=g.length-1;if(h>g[p].endTime)return-1;for(var b=0,y=p;b<=y;){var C=Math.floor((y+b)/2);if(h<g[C].startTime)y=C-1;else{if(!(h>g[C].startTime&&b<p))return C;b=C+1}}return g[b].startTime-h<h-g[y].startTime?b:y}(s,c);if(S>-1)for(var E=S,m=s.length;E<m;E++){var d=s[E];if(d.startTime>=c&&d.endTime<=f)v.push(d);else if(d.startTime>f)return v}return v}},"./src/utils/time-ranges.ts":function(e,t,n){n.r(t),t.default={toString:function(r){for(var a="",i=r.length,o=0;o<i;o++)a+="["+r.start(o).toFixed(3)+","+r.end(o).toFixed(3)+"]";return a}}},"./src/utils/timescale-conversion.ts":function(e,t,n){function r(l,u,s,c){s===void 0&&(s=1),c===void 0&&(c=!1);var f=l*u*s;return c?Math.round(f):f}function a(l,u,s,c){return s===void 0&&(s=1),c===void 0&&(c=!1),r(l,u,1/s,c)}function i(l,u){return u===void 0&&(u=!1),r(l,1e3,1/9e4,u)}function o(l,u){return u===void 0&&(u=1),r(l,9e4,1/u)}n.r(t),n.d(t,"toTimescaleFromBase",function(){return r}),n.d(t,"toTimescaleFromScale",function(){return a}),n.d(t,"toMsFromMpegTsClock",function(){return i}),n.d(t,"toMpegTsClockFromTimescale",function(){return o})},"./src/utils/typed-array.ts":function(e,t,n){function r(a,i,o){return Uint8Array.prototype.slice?a.slice(i,o):new Uint8Array(Array.prototype.slice.call(a,i,o))}n.r(t),n.d(t,"sliceUint8",function(){return r})},"./src/utils/vttcue.ts":function(e,t,n){n.r(t),t.default=function(){if(typeof self!="undefined"&&self.VTTCue)return self.VTTCue;var r=["","lr","rl"],a=["start","middle","end","left","right"];function i(s,c){if(typeof c!="string"||!Array.isArray(s))return!1;var f=c.toLowerCase();return!!~s.indexOf(f)&&f}function o(s){return i(a,s)}function l(s){for(var c=arguments.length,f=new Array(c>1?c-1:0),v=1;v<c;v++)f[v-1]=arguments[v];for(var S=1;S<arguments.length;S++){var E=arguments[S];for(var m in E)s[m]=E[m]}return s}function u(s,c,f){var v=this,S={enumerable:!0};v.hasBeenReset=!1;var E="",m=!1,d=s,g=c,h=f,p=null,b="",y=!0,C="auto",w="start",k=50,_="middle",T=50,O="middle";Object.defineProperty(v,"id",l({},S,{get:function(){return E},set:function(A){E=""+A}})),Object.defineProperty(v,"pauseOnExit",l({},S,{get:function(){return m},set:function(A){m=!!A}})),Object.defineProperty(v,"startTime",l({},S,{get:function(){return d},set:function(A){if(typeof A!="number")throw new TypeError("Start time must be set to a number.");d=A,this.hasBeenReset=!0}})),Object.defineProperty(v,"endTime",l({},S,{get:function(){return g},set:function(A){if(typeof A!="number")throw new TypeError("End time must be set to a number.");g=A,this.hasBeenReset=!0}})),Object.defineProperty(v,"text",l({},S,{get:function(){return h},set:function(A){h=""+A,this.hasBeenReset=!0}})),Object.defineProperty(v,"region",l({},S,{get:function(){return p},set:function(A){p=A,this.hasBeenReset=!0}})),Object.defineProperty(v,"vertical",l({},S,{get:function(){return b},set:function(A){var P=function(D){return i(r,D)}(A);if(P===!1)throw new SyntaxError("An invalid or illegal string was specified.");b=P,this.hasBeenReset=!0}})),Object.defineProperty(v,"snapToLines",l({},S,{get:function(){return y},set:function(A){y=!!A,this.hasBeenReset=!0}})),Object.defineProperty(v,"line",l({},S,{get:function(){return C},set:function(A){if(typeof A!="number"&&A!=="auto")throw new SyntaxError("An invalid number or illegal string was specified.");C=A,this.hasBeenReset=!0}})),Object.defineProperty(v,"lineAlign",l({},S,{get:function(){return w},set:function(A){var P=o(A);if(!P)throw new SyntaxError("An invalid or illegal string was specified.");w=P,this.hasBeenReset=!0}})),Object.defineProperty(v,"position",l({},S,{get:function(){return k},set:function(A){if(A<0||A>100)throw new Error("Position must be between 0 and 100.");k=A,this.hasBeenReset=!0}})),Object.defineProperty(v,"positionAlign",l({},S,{get:function(){return _},set:function(A){var P=o(A);if(!P)throw new SyntaxError("An invalid or illegal string was specified.");_=P,this.hasBeenReset=!0}})),Object.defineProperty(v,"size",l({},S,{get:function(){return T},set:function(A){if(A<0||A>100)throw new Error("Size must be between 0 and 100.");T=A,this.hasBeenReset=!0}})),Object.defineProperty(v,"align",l({},S,{get:function(){return O},set:function(A){var P=o(A);if(!P)throw new SyntaxError("An invalid or illegal string was specified.");O=P,this.hasBeenReset=!0}})),v.displayState=void 0}return u.prototype.getCueAsHTML=function(){return self.WebVTT.convertCueToDOMTree(self,this.text)},u}()},"./src/utils/vttparser.ts":function(e,t,n){n.r(t),n.d(t,"parseTimeStamp",function(){return i}),n.d(t,"fixLineBreaks",function(){return f}),n.d(t,"VTTParser",function(){return v});var r=n("./src/utils/vttcue.ts"),a=function(){function S(){}return S.prototype.decode=function(E,m){if(!E)return"";if(typeof E!="string")throw new Error("Error - expected string data.");return decodeURIComponent(encodeURIComponent(E))},S}();function i(S){function E(d,g,h,p){return 3600*(0|d)+60*(0|g)+(0|h)+parseFloat(p||0)}var m=S.match(/^(?:(\d+):)?(\d{2}):(\d{2})(\.\d+)?/);return m?parseFloat(m[2])>59?E(m[2],m[3],0,m[4]):E(m[1],m[2],m[3],m[4]):null}var o=function(){function S(){this.values=Object.create(null)}var E=S.prototype;return E.set=function(m,d){this.get(m)||d===""||(this.values[m]=d)},E.get=function(m,d,g){return g?this.has(m)?this.values[m]:d[g]:this.has(m)?this.values[m]:d},E.has=function(m){return m in this.values},E.alt=function(m,d,g){for(var h=0;h<g.length;++h)if(d===g[h]){this.set(m,d);break}},E.integer=function(m,d){/^-?\d+$/.test(d)&&this.set(m,parseInt(d,10))},E.percent=function(m,d){if(/^([\d]{1,3})(\.[\d]*)?%$/.test(d)){var g=parseFloat(d);if(g>=0&&g<=100)return this.set(m,g),!0}return!1},S}();function l(S,E,m,d){var g=d?S.split(d):[S];for(var h in g)if(typeof g[h]=="string"){var p=g[h].split(m);p.length===2&&E(p[0],p[1])}}var u=new r.default(0,0,""),s=u.align==="middle"?"middle":"center";function c(S,E,m){var d=S;function g(){var p=i(S);if(p===null)throw new Error("Malformed timestamp: "+d);return S=S.replace(/^[^\sa-zA-Z-]+/,""),p}function h(){S=S.replace(/^\s+/,"")}if(h(),E.startTime=g(),h(),S.substr(0,3)!=="-->")throw new Error("Malformed time stamp (time stamps must be separated by '-->'): "+d);S=S.substr(3),h(),E.endTime=g(),h(),function(p,b){var y=new o;l(p,function(k,_){var T;switch(k){case"region":for(var O=m.length-1;O>=0;O--)if(m[O].id===_){y.set(k,m[O].region);break}break;case"vertical":y.alt(k,_,["rl","lr"]);break;case"line":T=_.split(","),y.integer(k,T[0]),y.percent(k,T[0])&&y.set("snapToLines",!1),y.alt(k,T[0],["auto"]),T.length===2&&y.alt("lineAlign",T[1],["start",s,"end"]);break;case"position":T=_.split(","),y.percent(k,T[0]),T.length===2&&y.alt("positionAlign",T[1],["start",s,"end","line-left","line-right","auto"]);break;case"size":y.percent(k,_);break;case"align":y.alt(k,_,["start",s,"end","left","right"])}},/:/,/\s/),b.region=y.get("region",null),b.vertical=y.get("vertical","");var C=y.get("line","auto");C==="auto"&&u.line===-1&&(C=-1),b.line=C,b.lineAlign=y.get("lineAlign","start"),b.snapToLines=y.get("snapToLines",!0),b.size=y.get("size",100),b.align=y.get("align",s);var w=y.get("position","auto");w==="auto"&&u.position===50&&(w=b.align==="start"||b.align==="left"?0:b.align==="end"||b.align==="right"?100:50),b.position=w}(S,E)}function f(S){return S.replace(/<br(?: \/)?>/gi,`
`)}var v=function(){function S(){this.state="INITIAL",this.buffer="",this.decoder=new a,this.regionList=[],this.cue=null,this.oncue=void 0,this.onparsingerror=void 0,this.onflush=void 0}var E=S.prototype;return E.parse=function(m){var d=this;function g(){var C=d.buffer,w=0;for(C=f(C);w<C.length&&C[w]!=="\r"&&C[w]!==`
`;)++w;var k=C.substr(0,w);return C[w]==="\r"&&++w,C[w]===`
`&&++w,d.buffer=C.substr(w),k}m&&(d.buffer+=d.decoder.decode(m,{stream:!0}));try{var h="";if(d.state==="INITIAL"){if(!/\r\n|\n/.test(d.buffer))return this;var p=(h=g()).match(/^()?WEBVTT([ \t].*)?$/);if(!p||!p[0])throw new Error("Malformed WebVTT signature.");d.state="HEADER"}for(var b=!1;d.buffer;){if(!/\r\n|\n/.test(d.buffer))return this;switch(b?b=!1:h=g(),d.state){case"HEADER":/:/.test(h)?l(h,function(C,w){},/:/):h||(d.state="ID");continue;case"NOTE":h||(d.state="ID");continue;case"ID":if(/^NOTE($|[ \t])/.test(h)){d.state="NOTE";break}if(!h)continue;if(d.cue=new r.default(0,0,""),d.state="CUE",h.indexOf("-->")===-1){d.cue.id=h;continue}case"CUE":if(!d.cue){d.state="BADCUE";continue}try{c(h,d.cue,d.regionList)}catch{d.cue=null,d.state="BADCUE";continue}d.state="CUETEXT";continue;case"CUETEXT":var y=h.indexOf("-->")!==-1;if(!h||y&&(b=!0)){d.oncue&&d.cue&&d.oncue(d.cue),d.cue=null,d.state="ID";continue}if(d.cue===null)continue;d.cue.text&&(d.cue.text+=`
`),d.cue.text+=h;continue;case"BADCUE":h||(d.state="ID")}}}catch{d.state==="CUETEXT"&&d.cue&&d.oncue&&d.oncue(d.cue),d.cue=null,d.state=d.state==="INITIAL"?"BADWEBVTT":"BADCUE"}return this},E.flush=function(){var m=this;try{if((m.cue||m.state==="HEADER")&&(m.buffer+=`

`,m.parse()),m.state==="INITIAL"||m.state==="BADWEBVTT")throw new Error("Malformed WebVTT signature.")}catch(d){m.onparsingerror&&m.onparsingerror(d)}return m.onflush&&m.onflush(),this},S}()},"./src/utils/webvtt-parser.ts":function(e,t,n){n.r(t),n.d(t,"generateCueId",function(){return f}),n.d(t,"parseWebVTT",function(){return v});var r=n("./src/polyfills/number.ts"),a=n("./src/utils/vttparser.ts"),i=n("./src/demux/id3.ts"),o=n("./src/utils/timescale-conversion.ts"),l=n("./src/remux/mp4-remuxer.ts"),u=/\r\n|\n\r|\n|\r/g,s=function(S,E,m){return m===void 0&&(m=0),S.substr(m,E.length)===E},c=function(S){for(var E=5381,m=S.length;m;)E=33*E^S.charCodeAt(--m);return(E>>>0).toString()};function f(S,E,m){return c(S.toString())+c(E.toString())+c(m)}function v(S,E,m,d,g,h,p,b){var y,C=new a.VTTParser,w=Object(i.utf8ArrayToStr)(new Uint8Array(S)).trim().replace(u,`
`).split(`
`),k=[],_=Object(o.toMpegTsClockFromTimescale)(E,m),T="00:00.000",O=0,A=0,P=!0,D=!1;C.oncue=function(I){var x=d[g],L=d.ccOffset,$=(O-_)/9e4;if(x!=null&&x.new&&(A!==void 0?L=d.ccOffset=x.start:function(U,B,K){var V=U[B],X=U[V.prevCC];if(!X||!X.new&&V.new)return U.ccOffset=U.presentationOffset=V.start,void(V.new=!1);for(;(Z=X)!==null&&Z!==void 0&&Z.new;){var Z;U.ccOffset+=V.start-X.start,V.new=!1,X=U[(V=X).prevCC]}U.presentationOffset=K}(d,g,$)),$&&(L=$-d.presentationOffset),D){var M=I.endTime-I.startTime,N=Object(l.normalizePts)(9e4*(I.startTime+L-A),9e4*h)/9e4;I.startTime=N,I.endTime=N+M}var F=I.text.trim();I.text=decodeURIComponent(encodeURIComponent(F)),I.id||(I.id=f(I.startTime,I.endTime,F)),I.endTime>0&&k.push(I)},C.onparsingerror=function(I){y=I},C.onflush=function(){y?b(y):p(k)},w.forEach(function(I){if(P){if(s(I,"X-TIMESTAMP-MAP=")){P=!1,D=!0,I.substr(16).split(",").forEach(function(x){s(x,"LOCAL:")?T=x.substr(6):s(x,"MPEGTS:")&&(O=parseInt(x.substr(7)))});try{A=function(x){var L=parseInt(x.substr(-3)),$=parseInt(x.substr(-6,2)),M=parseInt(x.substr(-9,2)),N=x.length>9?parseInt(x.substr(0,x.indexOf(":"))):0;if(!(Object(r.isFiniteNumber)(L)&&Object(r.isFiniteNumber)($)&&Object(r.isFiniteNumber)(M)&&Object(r.isFiniteNumber)(N)))throw Error("Malformed X-TIMESTAMP-MAP: Local:"+x);return L+=1e3*$,(L+=6e4*M)+36e5*N}(T)/1e3}catch(x){D=!1,y=x}return}I===""&&(P=!1)}C.parse(I+`
`)}),C.flush()}},"./src/utils/xhr-loader.ts":function(e,t,n){n.r(t);var r=n("./src/utils/logger.ts"),a=n("./src/loader/load-stats.ts"),i=/^age:\s*[\d.]+\s*$/m,o=function(){function l(s){this.xhrSetup=void 0,this.requestTimeout=void 0,this.retryTimeout=void 0,this.retryDelay=void 0,this.config=null,this.callbacks=null,this.context=void 0,this.loader=null,this.stats=void 0,this.xhrSetup=s?s.xhrSetup:null,this.stats=new a.LoadStats,this.retryDelay=0}var u=l.prototype;return u.destroy=function(){this.callbacks=null,this.abortInternal(),this.loader=null,this.config=null},u.abortInternal=function(){var s=this.loader;self.clearTimeout(this.requestTimeout),self.clearTimeout(this.retryTimeout),s&&(s.onreadystatechange=null,s.onprogress=null,s.readyState!==4&&(this.stats.aborted=!0,s.abort()))},u.abort=function(){var s;this.abortInternal(),(s=this.callbacks)!==null&&s!==void 0&&s.onAbort&&this.callbacks.onAbort(this.stats,this.context,this.loader)},u.load=function(s,c,f){if(this.stats.loading.start)throw new Error("Loader can only be used once.");this.stats.loading.start=self.performance.now(),this.context=s,this.config=c,this.callbacks=f,this.retryDelay=c.retryDelay,this.loadInternal()},u.loadInternal=function(){var s=this.config,c=this.context;if(s){var f=this.loader=new self.XMLHttpRequest,v=this.stats;v.loading.first=0,v.loaded=0;var S=this.xhrSetup;try{if(S)try{S(f,c.url)}catch{f.open("GET",c.url,!0),S(f,c.url)}f.readyState||f.open("GET",c.url,!0)}catch(E){return void this.callbacks.onError({code:f.status,text:E.message},c,f)}c.rangeEnd&&f.setRequestHeader("Range","bytes="+c.rangeStart+"-"+(c.rangeEnd-1)),f.onreadystatechange=this.readystatechange.bind(this),f.onprogress=this.loadprogress.bind(this),f.responseType=c.responseType,self.clearTimeout(this.requestTimeout),this.requestTimeout=self.setTimeout(this.loadtimeout.bind(this),s.timeout),f.send()}},u.readystatechange=function(){var s=this.context,c=this.loader,f=this.stats;if(s&&c){var v=c.readyState,S=this.config;if(!f.aborted&&v>=2)if(self.clearTimeout(this.requestTimeout),f.loading.first===0&&(f.loading.first=Math.max(self.performance.now(),f.loading.start)),v===4){c.onreadystatechange=null,c.onprogress=null;var E=c.status;if(E>=200&&E<300){var m,d;if(f.loading.end=Math.max(self.performance.now(),f.loading.first),d=s.responseType==="arraybuffer"?(m=c.response).byteLength:(m=c.responseText).length,f.loaded=f.total=d,!this.callbacks)return;var g=this.callbacks.onProgress;if(g&&g(f,s,m,c),!this.callbacks)return;var h={url:c.responseURL,data:m};this.callbacks.onSuccess(h,f,s,c)}else f.retry>=S.maxRetry||E>=400&&E<499?(r.logger.error(E+" while loading "+s.url),this.callbacks.onError({code:E,text:c.statusText},s,c)):(r.logger.warn(E+" while loading "+s.url+", retrying in "+this.retryDelay+"..."),this.abortInternal(),this.loader=null,self.clearTimeout(this.retryTimeout),this.retryTimeout=self.setTimeout(this.loadInternal.bind(this),this.retryDelay),this.retryDelay=Math.min(2*this.retryDelay,S.maxRetryDelay),f.retry++)}else self.clearTimeout(this.requestTimeout),this.requestTimeout=self.setTimeout(this.loadtimeout.bind(this),S.timeout)}},u.loadtimeout=function(){r.logger.warn("timeout while loading "+this.context.url);var s=this.callbacks;s&&(this.abortInternal(),s.onTimeout(this.stats,this.context,this.loader))},u.loadprogress=function(s){var c=this.stats;c.loaded=s.loaded,s.lengthComputable&&(c.total=s.total)},u.getCacheAge=function(){var s=null;if(this.loader&&i.test(this.loader.getAllResponseHeaders())){var c=this.loader.getResponseHeader("age");s=c?parseFloat(c):null}return s},l}();t.default=o}}).default);var ec=BW(lC.exports);const NW={name:"d-icon"},Ln=Object.assign(NW,{props:{icon:String,size:[Number,String]},setup:function(e){const t=e,n=j(()=>({fontSize:/^\d+$/.test(t.size)?t.size+"px":t.size}));return(r,a)=>(H(),W("i",{class:z(["d-icon iconfont",e.icon]),style:Ae(he(n))},null,6))}});Ln.__scopeId="data-v-0c690e66";Hr("data-v-4cb76d59");const jW={class:"d-player-top"},UW={class:"top-title"},VW={class:"top-title"};zr();const HW={props:{title:{default:""}},setup(e){Date.prototype.format=function(r){let a={"h+":this.getHours(),"m+":this.getMinutes(),"s+":this.getSeconds()};for(var i in a)new RegExp("("+i+")").test(r)&&(r=r.replace(RegExp.$1,RegExp.$1.length==1?a[i]:("00"+a[i]).substr((""+a[i]).length)));return r};let t=q("00:00:00");t.value=new Date().format("hh:mm:ss");let n=null;return n=setInterval(()=>{t.value=new Date().format("hh:mm:ss")},1e3),Nn(()=>{clearInterval(n)}),(r,a)=>(H(),W("div",jW,[J("p",UW,_e(e.title||""),1),J("p",VW,_e(he(t)),1)]))},__scopeId:"data-v-4cb76d59"};Hr("data-v-ac2469ec");const zW={class:"d-status"},GW={class:"d-flex-center"},KW={class:"d-flex-center"},WW=et("5X\u901F\u64AD\u653E\u4E2D ");zr();var uC=ee({props:["state"],setup:e=>(t,n)=>Ge((H(),W("div",zW,[Ge(J("li",GW,[R(Ln,{size:"18",class:"d-status-icon",icon:"icon-volume-"+(e.state.volume==0?"mute":e.state.volume>.5?"up":"down")},null,8,["icon"]),et(" "+_e(~~(100*e.state.volume))+"% ",1)],512),[[qe,e.state.handleType=="volume"]]),Ge(J("li",KW,[R(Ln,{size:"12",icon:"icon-play"}),R(Ln,{size:"12",icon:"icon-play",style:{"margin-right":"5px"}}),WW],512),[[qe,e.state.handleType=="playbackRate"||e.state.isMultiplesPlay]])],512)),[[qe,e.state.handleType||e.state.isMultiplesPlay]])});uC.__scopeId="data-v-ac2469ec",Hr("data-v-385f7870");const YW=["checked","true-value","false-value"],qW=J("span",{class:"d-switch_action"},null,-1);zr();var Us=ee({props:{modelValue:{type:[Number,String,Boolean]},width:{type:String,default:"40px"},trueValue:{type:[Number,String,Boolean],default:!0},falseValue:{type:[Number,String,Boolean],default:!0},activeColor:{type:[String],default:"#409EFF"}},emits:["update:modelValue","change"],setup(e,{emit:t}){const n=e;Pd(o=>({"014e5dc0":e.width,e4e32852:e.activeColor}));const r=q(null),a=j(()=>n.modelValue===n.trueValue),i=()=>{Re(()=>{const o=r.value.checked;t("update:modelValue",o),t("change",o)})};return(o,l)=>(H(),W("div",{class:z(["d-switch",{"is-checked":he(a)}])},[J("input",{class:"d-switch__input",ref:r,type:"checkbox",checked:he(a),onChange:i,"true-value":e.trueValue,"false-value":e.falseValue},null,40,YW),qW],2))}});Us.__scopeId="data-v-385f7870",Hr("data-v-b2384226");const XW={key:0},ZW=J("i",{class:"rotating iconfont icon-loading f50"},null,-1),JW=[J("i",{class:"rotating iconfont icon-loading f50"},null,-1),J("p",null,"\u6B63\u5728\u7F13\u51B2...",-1)],QW=[J("i",{class:"iconfont icon-replay f24 mr5"},null,-1),et("\u91CD\u65B0\u64AD\u653E ")],eY=[J("i",{class:"iconfont icon-replay f24 mr5"},null,-1),et("\u8BF7\u6C42\u9519\u8BEF ")];zr();var cC=ee({props:{loadType:String,text:{type:String,default:""}},setup(e){const t=e,{proxy:n}=Be(),r=["loadstart","waiting","ended","error","stalled"],a=()=>{n.$parent.play()},i=j(()=>{let o="background: rgba(0, 0, 0, .1);z-index:1";return t.loadType=="loadstart"&&(o="background: rgba(0, 0, 0, 1);;z-index:3"),o});return(o,l)=>Ge((H(),W("div",{class:"d-loading",style:Ae(he(i))},[J("div",null,[e.loadType=="loadstart"?(H(),W("span",XW,[ZW,J("p",null,_e(e.text),1)])):se("",!0),Ge(J("span",null,JW,512),[[qe,e.loadType=="waiting"]]),Ge(J("span",null,[J("p",{onClick:a,class:"d-flex-x d-pointer"},QW)],512),[[qe,e.loadType=="ended"]]),Ge(J("span",null,[J("p",{onClick:a,class:"d-flex-x d-pointer"},eY)],512),[[qe,e.loadType=="error"||e.loadType=="stalled"]])])],4)),[[qe,r.includes(e.loadType)]])}});cC.__scopeId="data-v-b2384226";const pa=function(e,t,n,r=!1){e&&t&&n&&e.addEventListener(t,n,r)},hn=function(e,t,n,r=!1){e&&t&&n&&e.removeEventListener(t,n,r)};Hr("data-v-5a794390");const tY=["onMousedown"];zr();var fi=ee(ad(rd({},{name:"DSlider"}),{props:{modelValue:{required:!0,type:Number,default:0},disabled:{type:Boolean,default:!1},vertical:{type:Boolean,default:!1},hover:{type:Boolean,default:!0},hoverText:{type:String,default:""},preload:{type:Number,default:0},size:{type:String,default:"10px"}},emits:["update:modelValue","change","onMousemove"],setup:function(e,{emit:t}){const n=e;Pd(d=>({"5242b67b":e.size}));const r=q(null),a=q(null),i=Me({dragging:!1,hoverPosition:0,hoverTipsLeft:"50%"}),o=j(()=>{let d=n.modelValue<0?0:n.modelValue>1?1:n.modelValue;return n.vertical?`height:${100*d}%`:`width:${100*d}%`}),l=j(()=>{let d=n.preload<0?0:n.preload>1?1:n.preload;return n.vertical?`height:${100*d}%`:`width:${100*d}%`}),u=j(()=>{let d=i.hoverPosition<0?0:i.hoverPosition>1?1:i.hoverPosition;return n.vertical?`bottom:${100*d}%`:`left:${100*d}%`}),s=d=>{d.preventDefault()},c=d=>{n.disabled||(d.preventDefault(),i.dragging=!0,v(d),pa(window,"mousemove",E),pa(window,"touchmove",E),pa(window,"mouseup",m),pa(window,"touchend",m))},f=d=>{if(!n.hover)return;let g=S(d);if(t("onMousemove",d,g),i.hoverPosition=g,n.vertical)return;let h=r.value,p=a.value.clientWidth/2,b=d.clientX-h.getBoundingClientRect().left;b<p?i.hoverTipsLeft=p-b+"px":h.clientWidth-b<p?i.hoverTipsLeft=h.clientWidth-b-p+"px":i.hoverTipsLeft="50%"},v=d=>{let g=S(d);t("update:modelValue",g),t("change",d,g)},S=d=>{let g=r.value,h=0;if(n.vertical){let p=g.clientHeight;h=(g.getBoundingClientRect().bottom-d.clientY)/p}else h=(d.clientX-g.getBoundingClientRect().left)/g.clientWidth;return h<0?0:h>1?1:h},E=d=>{v(d)},m=d=>{i.dragging&&(hn(window,"mousemove",E),hn(window,"touchmove",E),hn(window,"mouseup",m),hn(window,"touchend",m),hn(window,"contextmenu",m),setTimeout(()=>{i.dragging=!1},0))};return(d,g)=>(H(),W("div",{ref:r,class:z(["d-slider",{"is-vertical":n.vertical}]),onMousedown:Qn(c,["stop"]),onContextmenu:s},[J("div",{class:"d-slider__runway",onMousemove:f},[Ge(J("div",{class:"d-slider__cursor",style:Ae(he(u))},[Ge(J("div",{class:"d-slider__tips",ref:a,style:Ae({left:he(i).hoverTipsLeft})},_e(n.hoverText),5),[[qe,n.hoverText]])],4),[[qe,n.hover]]),J("div",{class:"d-slider__preload",style:Ae(he(l))},null,4),J("div",{class:"d-slider__bar",style:Ae(he(o))},null,4)],32)],42,tY))}}));fi.__scopeId="data-v-5a794390";Hr("data-v-570fa0d1");const nY={key:0,class:"d-player-dialog"},rY={class:"d-player-dialog-body"},aY={class:"d-player-dialog-title"},iY={class:"d-player-hotkey-panel"},oY={class:"d-player-filter-panel"},sY={class:"d-player-filter-panel-item"},lY=J("span",null,"\u9971\u548C\u5EA6",-1),uY={class:"d-player-filter-panel-item"},cY=J("span",null,"\u4EAE\u5EA6",-1),dY={class:"d-player-filter-panel-item"},fY=J("span",null,"\u5BF9\u6BD4\u5EA6",-1),hY={key:0,class:"d-player-contextmenu"},vY=["dplayerKeyCode"],mY=J("input",{class:"d-player-copyText"},null,-1);zr();var dC=ee({setup(e){const t=Me({show:!1,dialogType:"",dialogTitle:"",version:"1.3.1-beta.6",mouseX:0,mouseY:0}),n=[{label:"\u89C6\u9891\u8272\u5F69\u8C03\u6574",key:"filter"},{label:"\u5FEB\u6377\u952E\u8BF4\u660E",key:"hotkey"},{label:"\u590D\u5236\u89C6\u9891\u7F51\u5740",key:"copy"},{label:"\u7248\u672C\uFF1A1.3.1-beta.6",key:"version"}],r=[{key:"Space",label:"\u64AD\u653E/\u6682\u505C"},{key:"\u2192",label:"\u5355\u6B21\u5FEB\u8FDB10s\uFF0C\u957F\u63095\u500D\u901F\u64AD\u653E"},{key:"\u2190",label:"\u5FEB\u90005s"},{key:"\u2191",label:"\u97F3\u91CF\u589E\u52A010%"},{key:"\u2193",label:"\u97F3\u91CF\u589E\u52A0\u964D\u4F4E10%"},{key:"Esc",label:"\u9000\u51FA\u5168\u5C4F/\u9000\u51FA\u7F51\u9875\u5168\u5C4F"},{key:"F",label:"\u5168\u5C4F/\u9000\u51FA\u5168\u5C4F"}],a=Me({saturate:.392,brightness:.392,contrast:.392}),i=j(()=>({left:t.mouseX+"px",top:t.mouseY+"px"}));oe(a,c=>{let f=document.querySelector("#dPlayerVideo"),v=(2.55*c.saturate).toFixed(2),S=(2.55*c.brightness).toFixed(2),E=(2.55*c.contrast).toFixed(2);f.style.filter=`saturate(${v}) brightness(${S}) contrast(${E})`});const o=()=>{a.saturate=.392,a.brightness=.392,a.contrast=.392},l=c=>{c.key=="Escape"&&s(0)},u=c=>{c.preventDefault(),pa(window,"keydown",l),pa(window,"click",s);let f=document.querySelector("#refPlayerWrap"),v=f.clientWidth;f.clientHeight,t.mouseX=c.clientX-f.getBoundingClientRect().left,v-t.mouseX<130&&(t.mouseX=t.mouseX+(v-t.mouseX-130)),t.mouseY=c.clientY-f.getBoundingClientRect().top,t.show=!0},s=c=>{let f=c.path[0].tagName=="LI",v=c.path[0].attributes.dplayerKeyCode&&c.path[0].attributes.dplayerKeyCode.value,S=n.map(E=>E.key);if(f&&S.includes(v))if(t.dialogTitle=c.path[0].innerText,t.dialogType=v,v=="copy"){let E=document.querySelector(".d-player-copyText");E.value=window.location.href,E.select(),document.execCommand("copy"),t.dialogType=""}else v=="version"&&(t.dialogType="");t.show=!1,hn(window,"keydown",l),hn(window,"click",s)};return tt(()=>{let c=document.querySelector("#refPlayerWrap");hn(window,"keydown",l),hn(window,"click",s),hn(c,"contextmenu",u),pa(c,"contextmenu",u)}),Nn(()=>{let c=document.querySelector("#refPlayerWrap");hn(window,"keydown",l),hn(window,"click",s),hn(c,"contextmenu",u)}),(c,f)=>(H(),W("div",null,[R(yn,{name:"d-fade-in"},{default:Ue(()=>[he(t).dialogType?(H(),W("div",nY,[J("div",rY,[J("h5",aY,[et(_e(he(t).dialogTitle)+" ",1),J("i",{onClick:f[0]||(f[0]=v=>he(t).dialogType=!1),class:"icon icon-close"},"X")]),Ge(J("ul",iY,[(H(),W(Te,null,Ne(r,v=>J("li",{class:"d-player-hotkey-panel-item",key:v.key},[J("span",null,_e(v.key),1),J("span",null,_e(v.label),1)])),64))],512),[[qe,he(t).dialogType=="hotkey"]]),Ge(J("ul",oY,[J("li",sY,[lY,R(fi,{class:"filter-panel-slider",size:"5px",modelValue:he(a).saturate,"onUpdate:modelValue":f[1]||(f[1]=v=>he(a).saturate=v)},null,8,["modelValue"]),J("span",null,_e(Math.round(255*he(a).saturate)),1)]),J("li",uY,[cY,R(fi,{class:"filter-panel-slider",size:"5px",modelValue:he(a).brightness,"onUpdate:modelValue":f[2]||(f[2]=v=>he(a).brightness=v)},null,8,["modelValue"]),J("span",null,_e(Math.round(255*he(a).brightness)),1)]),J("li",dY,[fY,R(fi,{class:"filter-panel-slider",size:"5px",modelValue:he(a).contrast,"onUpdate:modelValue":f[3]||(f[3]=v=>he(a).contrast=v)},null,8,["modelValue"]),J("span",null,_e(Math.round(255*he(a).contrast)),1)]),J("span",{onClick:o,title:"\u91CD\u7F6E","aria-label":"\u91CD\u7F6E",class:"d-player-filter-reset"},"\u91CD\u7F6E")],512),[[qe,he(t).dialogType=="filter"]])])])):se("",!0)]),_:1}),he(t).show?(H(),W("div",hY,[J("ul",{class:"d-player-contextmenu-body",style:Ae(he(i))},[(H(),W(Te,null,Ne(n,v=>J("li",{dplayerKeyCode:v.key,key:v.key},_e(v.label),9,vY)),64))],4),mY])):se("",!0)]))}});dC.__scopeId="data-v-570fa0d1";const tc=e=>{let t=~~(e/3600),n=~~(e%3600/60),r=~~(e%60);return t=t<10?"0"+t:t,n=n<10?"0"+n:n,r=r<10?"0"+r:r,`${t}:${n}:${r}`},fo="ontouchstart"in window,hy=["loadstart","play","pause","playing","seeking","seeked","waiting","durationchange","progress","canplay","timeupdate","ended","error","stalled"],gY={width:{type:String,default:"800px"},height:{type:String,default:"450px"},color:{type:String,default:"#409eff"},src:{required:!0,type:String,default:""},title:{type:String,default:""},type:{type:String,default:"video/mp4"},poster:{type:String,default:""},webFullScreen:{type:Boolean,default:!1},speed:{type:Boolean,default:!0},currentTime:{type:Number,default:0},playsinline:{type:Boolean,default:!1},muted:{type:Boolean,default:!1},speedRate:{type:Array,default:()=>["2.0","1.5","1.25","1.0","0.75","0.5"]},autoPlay:{type:Boolean,default:!1},loop:{type:Boolean,default:!1},mirror:{type:Boolean,default:!1},ligthOff:{type:Boolean,default:!1},volume:{type:[String,Number],default:.3},control:{type:Boolean,default:!0},controlBtns:{type:Array,default:["audioTrack","quality","speedRate","volume","setting","pip","pageFullScreen","fullScreen"]},preload:{type:String,default:"auto"}};Hr("data-v-01791e9e");const pY={class:"d-player-video",id:"dPlayerVideo"},yY=["controls","webkit-playsinline","playsinline","volume","muted","loop","preload","src","poster"],bY={class:"d-player-lightoff"},SY={key:1,class:"d-player-state"},TY={class:"d-play-btn"},CY=["onKeyup","onKeydown"],EY={class:"d-control-progress"},wY={class:"d-tool-bar"},OY={key:0,class:"d-tool-item d-tool-time audioTrack-btn"},kY=J("span",{style:{margin:"0 3px"}},"/",-1),_Y={class:"total-time"},AY={class:"d-tool-bar"},DY={key:0,class:"d-tool-item quality-btn"},PY={class:"d-tool-item-main"},IY={class:"speed-main",style:{"text-align":"center"}},LY=["onClick"],RY={key:1,class:"d-tool-item speedRate-btn"},xY={class:"d-tool-item-main"},$Y={class:"speed-main"},MY=["onClick"],FY={key:2,class:"d-tool-item volume-btn"},BY={class:"d-tool-item-main volume-box",style:{width:"52px"}},NY={class:"volume-text-size"},jY={key:3,class:"d-tool-item setting-btn"},UY={class:"d-tool-item-main"},VY={class:"speed-main"},HY=et(" \u955C\u50CF\u753B\u9762 "),zY=et(" \u5FAA\u73AF\u64AD\u653E "),GY=et(" \u5173\u706F\u6A21\u5F0F "),KY=J("div",{class:"d-tool-item-main"},"\u753B\u4E2D\u753B",-1),WY=J("div",{class:"d-tool-item-main"},"\u7F51\u9875\u5168\u5C4F",-1),YY=J("div",{class:"d-tool-item-main"},"\u5168\u5C4F",-1);zr();var Bo=ee(ad(rd({},{name:"vue3VideoPlay",inheritAttrs:!1}),{props:gY,emits:[...hy,"mirrorChange","loopChange","lightOffChange"],setup:function(e,{expose:t,emit:n}){const r=e;Pd(L=>({"51d4439c":he(S),"77e758a6":L.width,b8a1afc0:L.height}));const a=new ec({fragLoadingTimeOut:2e3}),i=q(null),o=q(null),l=q(null),u=q(null),s=Me(ad(rd({dVideo:null},r),{muted:r.muted,playBtnState:r.autoPlay?"pause":"play",loadStateType:"loadstart",fullScreen:!1,handleType:"",currentTime:"00:00:00",preloadBar:0,totalTime:"00:00:00",isVideoHovering:!0,speedActive:"1.0",playProgress:0,isMultiplesPlay:!1,longPressTimeout:null,progressCursorTime:"00:00:00",qualityLevels:[],currentLevel:0})),c=(...L)=>$=>L.reverse().reduce((M,N)=>N(M),$),f=hy.reduce((L,$)=>{var M;return L[`on${M=$,M.charAt(0).toUpperCase()+M.slice(1)}`]=N=>{s.loadStateType=$,n($,N)},L},{});f.onCanplay=c(f.onCanplay,()=>{s.playBtnState!="play"&&s.dVideo.play(),s.autoPlay&&(s.dVideo.play(),s.playBtnState="pause")}),f.onEnded=c(f.onEnded,()=>{s.playBtnState="replay"}),f.onDurationchange=L=>{n("durationchange",L),r.currentTime!=0&&(s.dVideo.currentTime=r.currentTime),f.onTimeupdate(L)},f.onProgress=L=>{console.log("\u7F13\u51B2\u4E2D..."),n("progress",L);let $=L.target.duration,M=L.target.buffered,N=L.target.buffered.length&&L.target.buffered.end(M-1);s.preloadBar=N/$},f.onTimeupdate=L=>{n("timeupdate",L);let $=L.duration||L.target.duration||0,M=L.currentTime||L.target.currentTime;s.playProgress=M/$,s.currentTime=tc(M),s.totalTime=tc($)},f.onError=c(f.onError,()=>{s.playBtnState="replay"});let v=pw();for(let L in v)f[L]=v[L];const S=(E=s.color,`${parseInt("0x"+E.slice(1,3))},${parseInt("0x"+E.slice(3,5))},${parseInt("0x"+E.slice(5,7))}`);var E;const m=fy(500,()=>{s.handleType=""}),d=L=>{L.preventDefault(),L.code=="ArrowUp"?s.volume=s.volume+.1>1?1:s.volume+.1:s.volume=s.volume-.1<0?0:s.volume-.1,s.muted=!1,s.handleType="volume",m()},g=L=>{r.speed&&(s.dVideo.currentTime=s.dVideo.currentTime<10?.1:s.dVideo.currentTime-10,f.onTimeupdate(s.dVideo),b())},h=L=>{L.preventDefault();let $=L.type;if(L.key=="ArrowRight"){if(b(),$=="keyup"){if(clearTimeout(s.longPressTimeout),!r.speed&&!s.longPressTimeout)return;s.isMultiplesPlay?(s.dVideo.playbackRate=s.speedActive,s.isMultiplesPlay=!1):(s.dVideo.currentTime=s.dVideo.currentTime+10,f.onTimeupdate(s.dVideo))}else if($=="keydown"){if(!r.speed)return;s.isMultiplesPlay&&clearTimeout(s.longPressTimeout),s.longPressTimeout=setTimeout(()=>{s.isMultiplesPlay=!0,s.dVideo.playbackRate=5,s.handleType="playbackRate",m()},500)}}},p=()=>{fo||u.value.focus()},b=()=>{s.loadStateType="play",s.dVideo.play().catch(()=>{setTimeout(()=>{s.playBtnState="replay",s.loadStateType="error"},500)}),s.playBtnState="pause"},y=()=>{s.dVideo.pause(),s.playBtnState="play"},C=L=>{L&&L.preventDefault(),s.playBtnState=="play"||s.playBtnState=="replay"?b():s.playBtnState=="pause"&&y()},w=()=>{s.muted=!s.muted,s.volume==0&&(s.volume=.05)},k=(L,$)=>{let M=s.dVideo.duration||s.dVideo.target.duration;s.dVideo.currentTime=M*$,s.playBtnState=="play"&&(s.dVideo.play(),s.playBtnState="pause")},_=(L,$)=>{s.progressCursorTime=tc(s.dVideo.duration*$)},T=fy(2500,()=>{s.isVideoHovering=!1}),O=L=>{s.isVideoHovering=!0,T()},A=L=>{n("mirrorChange",L,s.dVideo)},P=L=>{n("loopChange",L,s.dVideo)},D=L=>{n("lightOffChange",L,s.dVideo)},I=()=>{var L;L=s.dVideo,document.pictureInPictureElement?document.exitPictureInPicture().catch($=>{console.log($,"Video failed to leave Picture-in-Picture mode.")}):L.requestPictureInPicture().catch($=>{console.log($,"Video failed to enter Picture-in-Picture mode.")})},x=()=>{s.fullScreen=(L=>{let $=document,M=$.webkitIsFullScreen||$.fullscreen;return M?(document.exitFullscreen||$.webkitExitFullScreen).call($):(L.requestFullscreen||L.webkitRequestFullScreen).call(L),!M})(i.value)};return oe(()=>r.src,()=>{Re(()=>{s.dVideo.canPlayType(r.type)||s.dVideo.canPlayType("application/vnd.apple.mpegurl")?s.muted=r.autoPlay:ec.isSupported()&&(a.detachMedia(),a.attachMedia(s.dVideo),a.on(ec.Events.MEDIA_ATTACHED,()=>{a.loadSource(r.src),a.on("hlsManifestParsed",(L,$)=>{console.log($),s.currentLevel=$.level,s.qualityLevels=$.levels||[]})}),a.on("hlsLevelSwitching",(L,$)=>{console.log($),console.log("LEVEL_SWITCHING")}),a.on("hlsLevelSwitched",(L,$)=>{s.currentLevel=$.level,console.log("LEVEL_SWITCHED")}))})},{immediate:!0}),tt(()=>{s.dVideo=o,p()}),t({play:b,pause:y,togglePlay:C}),(L,$)=>(H(),W("div",{ref:i,id:"refPlayerWrap",class:z(["d-player-wrap",{"web-full-screen":he(s).webFullScreen,"is-lightoff":he(s).lightOff,"d-player-wrap-hover":he(s).playBtnState=="play"||he(s).isVideoHovering}]),onMousemove:O},[J("div",pY,[J("video",We({ref:o,class:["d-player-video-main",{"video-mirror":he(s).mirror}],id:"dPlayerVideoMain",controls:!(!he(fo)||!he(s).speed),"webkit-playsinline":r.playsinline,playsinline:r.playsinline},he(f),{volume:he(s).volume,muted:he(s).muted,loop:he(s).loop,preload:L.preload,width:"100%",height:"100%",src:r.src,poster:r.poster}),"\u60A8\u7684\u6D4F\u89C8\u5668\u4E0D\u652F\u6301Video\u6807\u7B7E\u3002",16,yY)]),R(yn,{name:"d-fade-in"},{default:Ue(()=>[Ge(J("div",bY,null,512),[[qe,he(s).lightOff]])]),_:1}),he(s).fullScreen?(H(),Oe(HW,{key:0,title:r.title},null,8,["title"])):se("",!0),he(fo)?se("",!0):(H(),W("div",SY,[R(yn,{name:"d-scale-out"},{default:Ue(()=>[Ge(J("div",TY,[R(Ln,{icon:"icon-play",size:40})],512),[[qe,he(s).playBtnState=="play"]])]),_:1}),R(uC,{state:he(s)},null,8,["state"])])),he(fo)?se("",!0):(H(),W("input",{key:2,type:"input",readonly:"readonly",ref:u,onDblclick:x,onKeyup:[ni(x,["f"]),$[0]||($[0]=ni(M=>he(s).webFullScreen=!1,["esc"])),h],onClick:C,onKeydown:[ni(C,["space"]),ni(g,["arrow-left"]),ni(d,["arrow-up","arrow-down"]),h],class:"d-player-input",maxlength:"0"},null,40,CY)),R(cC,{loadType:he(s).loadStateType},null,8,["loadType"]),R(dC),!he(fo)&&he(s).control?(H(),W("div",{key:3,class:"d-player-control",ref:l},[J("div",EY,[R(fi,{class:"d-progress-bar",onOnMousemove:_,onChange:k,disabled:!he(s).speed,hoverText:he(s).progressCursorTime,modelValue:he(s).playProgress,"onUpdate:modelValue":$[1]||($[1]=M=>he(s).playProgress=M),preload:he(s).preloadBar},null,8,["disabled","hoverText","modelValue","preload"])]),J("div",{class:"d-control-tool",onClick:p},[J("div",wY,[J("div",{class:"d-tool-item",onClick:C},[R(Ln,{size:"24",icon:`icon-${he(s).playBtnState}`},null,8,["icon"])]),r.controlBtns.includes("audioTrack")?(H(),W("div",OY,[J("span",null,_e(he(s).currentTime),1),kY,J("span",_Y,_e(he(s).totalTime),1)])):se("",!0)]),J("div",AY,[he(s).qualityLevels.length&&r.controlBtns.includes("quality")?(H(),W("div",DY,[et(_e(he(s).qualityLevels.length&&(he(s).qualityLevels[he(s).currentLevel]||{}).height)+"P ",1),J("div",PY,[J("ul",IY,[(H(!0),W(Te,null,Ne(he(s).qualityLevels,(M,N)=>(H(),W("li",{class:z({"speed-active":he(s).currentLevel==N}),onClick:F=>((U,B)=>{a.currentLevel=B,s.currentLevel=B})(0,N),key:M},_e(M.height)+"P",11,LY))),128))])])])):se("",!0),r.controlBtns.includes("speedRate")?(H(),W("div",RY,[et(_e(he(s).speedActive=="1.0"?"\u500D\u901F":he(s).speedActive+"x")+" ",1),J("div",xY,[J("ul",$Y,[(H(!0),W(Te,null,Ne(he(s).speedRate,M=>(H(),W("li",{class:z({"speed-active":he(s).speedActive==M}),onClick:N=>(F=>{s.speedActive=F,s.dVideo.playbackRate=F})(M),key:M},_e(M)+"x",11,MY))),128))])])])):se("",!0),r.controlBtns.includes("volume")?(H(),W("div",FY,[J("div",BY,[J("div",{class:z(["volume-main",{"is-muted":he(s).muted}])},[J("span",NY,_e(he(s).muted?0:~~(100*he(s).volume))+"%",1),R(fi,{onChange:$[2]||($[2]=M=>he(s).muted=!1),hover:!1,size:"5px",vertical:!0,modelValue:he(s).volume,"onUpdate:modelValue":$[3]||($[3]=M=>he(s).volume=M)},null,8,["modelValue"])],2)]),J("span",{onClick:w,style:{display:"flex"}},[R(Ln,{size:"20",icon:"icon-volume-"+(he(s).volume==0||he(s).muted?"mute":he(s).volume>.5?"up":"down")},null,8,["icon"])])])):se("",!0),r.controlBtns.includes("setting")?(H(),W("div",jY,[R(Ln,{size:"20",class:"rotateHover",icon:"icon-settings"}),J("div",UY,[J("ul",VY,[J("li",null,[HY,R(Us,{onChange:A,modelValue:he(s).mirror,"onUpdate:modelValue":$[4]||($[4]=M=>he(s).mirror=M)},null,8,["modelValue"])]),J("li",null,[zY,R(Us,{onChange:P,modelValue:he(s).loop,"onUpdate:modelValue":$[5]||($[5]=M=>he(s).loop=M)},null,8,["modelValue"])]),J("li",null,[GY,R(Us,{onChange:D,modelValue:he(s).lightOff,"onUpdate:modelValue":$[6]||($[6]=M=>he(s).lightOff=M)},null,8,["modelValue"])])])])])):se("",!0),r.controlBtns.includes("pip")?(H(),W("div",{key:4,class:"d-tool-item pip-btn",onClick:I},[R(Ln,{size:"20",icon:"icon-pip"}),KY])):se("",!0),r.controlBtns.includes("pageFullScreen")?(H(),W("div",{key:5,class:"d-tool-item pip-btn",onClick:$[7]||($[7]=M=>he(s).webFullScreen=!he(s).webFullScreen)},[R(Ln,{size:"20",icon:"icon-web-screen"}),WY])):se("",!0),r.controlBtns.includes("fullScreen")?(H(),W("div",{key:6,class:"d-tool-item fullScreen-btn",onClick:x},[YY,R(Ln,{size:"20",icon:"icon-screen"})])):se("",!0)])])],512)):se("",!0)],34))}}));function qY(e){e.component(Bo.name,Bo)}Bo.__scopeId="data-v-01791e9e",Bo.install=qY;const Bi=Uo(EO);Bi.use(h5);Bi.use(tK);Bi.use(IW);Bi.use(LW);Bi.use(Bo);Bi.mount("#app");export{q as A,tq as B,ZY as C,Ft as D,Re as E,Te as F,j as G,wt as H,$o as I,St as J,bt as K,Ge as L,_c as M,qe as N,CW as _,H as a,JY as b,W as c,R as d,J as e,m0 as f,u7 as g,et as h,ge as i,TW as j,ee as k,_e as l,Ne as m,se as n,tt as o,Oe as p,Qn as q,Me as r,nq as s,He as t,QY as u,eq as v,Ue as w,Ae as x,Hr as y,zr as z};
