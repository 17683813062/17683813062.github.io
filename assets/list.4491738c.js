var p=Object.defineProperty,v=Object.defineProperties;var w=Object.getOwnPropertyDescriptors;var A=Object.getOwnPropertySymbols;var y=Object.prototype.hasOwnProperty,L=Object.prototype.propertyIsEnumerable;var u=(s,e,t)=>e in s?p(s,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):s[e]=t,h=(s,e)=>{for(var t in e||(e={}))y.call(e,t)&&u(s,t,e[t]);if(A)for(var t of A(e))L.call(e,t)&&u(s,t,e[t]);return s},f=(s,e)=>v(s,w(e));import{_ as V,U as F,r as C,o as Q,t as S,a as m,c as d,g as i,F as R,z as U,f as O,L as z,n as B,ab as K,A as Z,$ as D,ae as G,af as M,j as W,ac as k}from"./index.5b1e4078.js";import{c as J}from"./utils.95e6bb58.js";var Y="data:image/png;base64,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";const x={components:{},setup(){let s=F(null),e=C({myVideoList:[],fxImg:Y,options:{width:"100%",height:"3.5rem",color:"#409eff",muted:!1,webFullScreen:!1,speedRate:["0.75","1.0","1.25","1.5","2.0"],autoPlay:!1,loop:!1,mirror:!1,ligthOff:!1,volume:.3,control:TextTrackCue,title:"",poster:""},shareFlag:!1,shareImg:"",codeURl:""}),t=n=>{e.shareFlag=!0;let o=document.createElement("video");o.style="width:0;height:0;position:fixed;right:-100%;",o.muted="muted",o.crossOrigin="Anonymous",o.autoplay="autoplay",o.onloadeddata=function(){let{width:a,height:r}=c(750,750,1375),l=document.createElement("canvas");l.width=a,l.height=r,l.getContext("2d").drawImage(this,0,0,a,r),e.shareImg=l.toDataURL("image/png"),document.body.removeChild(o)},o.src=JSON.parse(n.videoList)[0].url,e.codeURl=JSON.parse(n.videoList)[0].url,document.body.appendChild(o),D(async()=>{let a=await G({text:JSON.parse(n.videoList)[0].url,size:100}),r="data:image/png;base64,"+a.base64;e.codeURl=r});function c(a,r,l){return a>=r?{width:r,height:l}:{width:a,height:Math.floor(a/r*l)}}},g=async()=>{let o=(await M()).result;o.forEach((c,a)=>{o[a].timestamp=J(c.timestamp)}),e.myVideoList=o,console.log(e.myVideoList,"state.myVideoList")};return Q(()=>{g()}),f(h({},S(e)),{goShare:t,qrcodeRef:s})}},N={id:"myVideoBox"},q={style:{"margin-top":"0.1rem"}},T=["onClick","src"],b=["src"],E={key:0,class:"shareBox"},H={class:"main"},I=["src"],P=["src"];function X(s,e,t,g,n,o){const c=W("vue3VideoPlay");return m(),d("div",null,[i("ul",N,[(m(!0),d(R,null,U(s.myVideoList,(a,r)=>(m(),d("li",{key:"video_"+r},[O(c,z({class:"video_"+r,src:JSON.parse(a.videoList)[0].url},s.options),null,16,["class","src"]),i("p",q,"\u4E0A\u4F20\u4EBA\uFF1A"+B(JSON.parse(a.user).username),1),i("p",null,B(a.timestamp),1),i("img",{onClick:l=>g.goShare(a),class:"fxImg",src:s.fxImg,alt:""},null,8,T),K(i("video",{id:"shareB",src:JSON.parse(a.videoList)[0].url},null,8,b),[[k,!1]])]))),128))]),s.shareFlag?(m(),d("div",E,[i("div",H,[i("img",{class:"mainImg",src:s.shareImg,alt:""},null,8,I),i("img",{class:"codeImg",src:s.codeURl,alt:""},null,8,P)])])):Z("",!0)])}var ee=V(x,[["render",X],["__scopeId","data-v-68c7a916"]]);export{ee as default};
