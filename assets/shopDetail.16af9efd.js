var B=Object.defineProperty,M=Object.defineProperties;var $=Object.getOwnPropertyDescriptors;var j=Object.getOwnPropertySymbols;var D=Object.prototype.hasOwnProperty,I=Object.prototype.propertyIsEnumerable;var C=(e,o,t)=>o in e?B(e,o,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[o]=t,k=(e,o)=>{for(var t in o||(o={}))D.call(o,t)&&C(e,t,o[t]);if(j)for(var t of j(o))I.call(o,t)&&C(e,t,o[t]);return e},w=(e,o)=>M(e,$(o));import{_ as R,m as z,u as F,d as V,b as q,r as H,o as T,e as E,t as J,a as u,c as N,f as l,w as i,F as A,z as P,B as h,g as d,A as S,n as p,a5 as K,M as Q,a6 as U,a3 as W,i as v,j as s}from"./index.7ae61b15.js";const X=z({beforeRouteEnter(e,o,t){t(a=>{a.store.commit("changeFooter",!1)})},setup(){const e=F(),o=V(),t=q();let a=H({store:t,user:JSON.parse(localStorage.getItem("user")),goodObj:{_id:"",bannerList:[],title:"",desc:"",price:null,html:"",typeName:"",typeId:"",timestamp:"",time:""}}),y=()=>{},f=async()=>{let r=a.goodObj._id,n=await K({_id:r,username:a.user.username});console.log(n),n.code==1&&Q.success(n.msg)},_=()=>{o.push({path:"/shopcar"})},m=async()=>{let r=await U({_id:a.goodObj._id});console.log(r,"\u5220\u9664\u5546\u54C1"),o.push({path:"/shop"})},g=()=>{o.push({path:"/editgood",query:{_id:a.goodObj._id}})},b=async r=>{let n=await W({_id:r});a.goodObj.bannerList=JSON.parse(n.result[0].bannerList),a.goodObj.title=n.result[0].title,a.goodObj.desc=n.result[0].desc,a.goodObj.price=n.result[0].price,a.goodObj.html=n.result[0].html,a.goodObj.typeName=n.result[0].typeName,a.goodObj.typeId=n.result[0].typeId};return T(()=>{a.goodObj._id=e.query._id,b(e.query._id)}),E((r,n)=>{t.commit("changeFooter",!0)}),w(k({},J(a)),{editGoods:g,removeGoods:m,goShopCar:_,addShopCar:f,buyNow:y})}}),Y=v(" \u8BE6\u60C5 "),Z={class:"goodsMsg"},x=v("\u7F16\u8F91\u5546\u54C1 "),ee=v("\u5220\u9664\u5546\u54C1"),oe=["innerHTML"];function te(e,o,t,a,y,f){const _=s("sound-icon"),m=s("t-navbar"),g=s("van-image"),b=s("van-swipe-item"),r=s("van-swipe"),n=s("t-button"),L=s("van-action-bar-icon"),O=s("van-action-bar-button"),G=s("van-action-bar");return u(),N("div",null,[l(m,null,{right:i(()=>[l(_)]),default:i(()=>[Y]),_:1}),l(r,{autoplay:3e3,"lazy-render":""},{default:i(()=>[(u(!0),N(A,null,P(e.goodObj.bannerList,c=>(u(),h(b,{key:c},{default:i(()=>[l(g,{width:"100%",height:"7rem",fit:"cover",src:c.url},null,8,["src"])]),_:2},1024))),128))]),_:1}),d("div",Z,[e.user&&e.user.username=="admin"?(u(),h(n,{key:0,onClick:o[0]||(o[0]=c=>e.editGoods()),theme:"primary",size:"small"},{default:i(()=>[x]),_:1})):S("",!0),e.user&&e.user.username=="admin"?(u(),h(n,{key:1,style:{"margin-left":"0.2rem"},onClick:o[1]||(o[1]=c=>e.removeGoods()),theme:"primary",size:"small"},{default:i(()=>[ee]),_:1})):S("",!0),d("h6",null,"\uFFE5"+p(e.goodObj.price),1),d("p",null,p(e.goodObj.title),1),d("p",null,"\u7C7B\u578B\uFF1A"+p(e.goodObj.typeName),1),d("p",null,p(e.goodObj.desc),1),d("div",{class:"goodHtml",innerHTML:e.goodObj.html},null,8,oe)]),l(G,null,{default:i(()=>[l(L,{onClick:e.goShopCar,icon:"shop-o",text:"\u8D2D\u7269\u8F66"},null,8,["onClick"]),l(O,{onClick:e.addShopCar,color:"#be99ff",type:"warning",text:"\u52A0\u5165\u8D2D\u7269\u8F66"},null,8,["onClick"]),l(O,{onClick:e.buyNow,color:"#7232dd",type:"danger",text:"\u7ACB\u5373\u8D2D\u4E70"},null,8,["onClick"])]),_:1})])}var se=R(X,[["render",te],["__scopeId","data-v-68458048"]]);export{se as default};
