var M=Object.defineProperty,G=Object.defineProperties;var H=Object.getOwnPropertyDescriptors;var j=Object.getOwnPropertySymbols;var J=Object.prototype.hasOwnProperty,K=Object.prototype.propertyIsEnumerable;var y=(t,n,o)=>n in t?M(t,n,{enumerable:!0,configurable:!0,writable:!0,value:o}):t[n]=o,W=(t,n)=>{for(var o in n||(n={}))J.call(n,o)&&y(t,o,n[o]);if(j)for(var o of j(n))K.call(n,o)&&y(t,o,n[o]);return t},T=(t,n)=>G(t,H(n));import{_ as O,b as P,u as Q,d as X,r as Y,o as Z,e as x,t as $,a as ee,c as te,f as l,g as h,w as k,ag as b,ah as v,F as ie,ai as ne,D as oe,y as le,z as ae,A as re,j as s}from"./index.9ec2ea3d.js";import{f as ce}from"./utils.1c13dd23.js";const me={beforeRouteEnter(t,n,o){o(e=>{e.store.commit("changeFooter",!1)})},setup(){let t=P(),n=Q(),o=X(),e=Y({store:t,nicknameShow:!1,pickTimeShow:!1,pickWeightShow:!1,pickAttrShow:!1,signShow:!1,content:"\u6D4B\u8BD5",cancelButtonText:"\u53D6\u6D88",confirmButtonText:"\u786E\u8BA4",minDate:new Date(1980,0,1),maxDate:new Date(2004,12,31),customFieldName:{text:"height",children:"weight"},customFieldName_attr:{text:"attr"},columns:[],columns_attr:[{attr:"1"},{attr:"0.5"},{attr:"0"}],obj:{},edit:{nickname:"",birthday:"",heightWeight:"",attr:"",sign:""}}),S=async()=>{let{username:i,attr:a,sign:r,birthday:w,heightWeight:E,nickname:q}=e.obj,z=await ne({username:i,attr:a,sign:r,birthday:w,heightWeight:E,nickname:q});console.log(z,"\u4FEE\u6539\u4FE1\u606F\u6210\u529F"),o.go(-1)},_=()=>{oe.confirm({title:"\u63D0\u793A",message:"\u60A8\u6240\u4FEE\u6539\u7684\u5185\u5BB9\u8FD8\u6CA1\u6709\u63D0\u4EA4\uFF0C\u786E\u5B9A\u8FD4\u56DE\u5417\uFF1F"}).then(()=>{o.go(-1)}).catch(()=>{})},C=i=>{e.edit.attr=i.attr,e.obj.attr=i.attr,e.pickAttrShow=!1,console.log(i)},c=i=>{e.attr="",e.pickAttrShow=!1},d=i=>{e.edit.heightWeight=i[0].height+"/"+i[1],e.obj.heightWeight=i[0].height+"/"+i[1],e.pickWeightShow=!1},g=i=>{e.edit.heightWeight="",e.pickWeightShow=!1},f=()=>{let i=[],a=[];for(var r=160;r<=210;r++)i.push({height:r+"cm"});for(var r=40;r<=100;r++)a.push(r+"kg");i.forEach(w=>{w.weight=a}),console.log(i),e.columns=i},p=(i,a)=>i==="year"?a+"\u5E74":i==="month"?a+"\u6708":i==="day"?a+"\u65E5":a,u=()=>{let i=ce(e.edit.birthday);e.obj.birthday=i,e.pickTimeShow=!1},m=()=>{e.edit.birthday="",e.pickTimeShow=!1},D=()=>{e.nicknameShow=!0},A=()=>{e.pickTimeShow=!0},V=()=>{e.pickWeightShow=!0},B=()=>{e.pickAttrShow=!0},R=()=>{e.edit.sign=e.obj.sign,e.signShow=!0},F=async()=>{let i=n.query.username,a=await le({username:i});e.obj=a.reult[0],console.log(a)},N=i=>{e.nicknameShow=!1,e.obj.nickname=e.edit.nickname,console.log("dialog:confirm",i)},L=()=>{e.nicknameShow=!1,e.edit.nickname=""},I=()=>{e.obj.sign=e.edit.sign,e.signShow=!1},U=()=>{e.edit.sign="",e.signShow=!1};return Z(()=>{F(),f()}),x((i,a)=>{t.commit("changeFooter",!0)}),T(W({},$(e)),{onConfirm:N,onCancel:L,editNick:D,pickTimeConfirm:u,pickTimeCancel:m,formatter:p,editTime:A,pickWeightConfirm:d,pickWeightCancel:g,editWeight:V,pickAttrConfirm:C,pickAttrCancel:c,onSignConfirm:I,onSignCancel:U,editAttr:B,editSign:R,onClickLeft:_,onClickRight:S})}},se=t=>(ae("data-v-71e1a31a"),t=t(),re(),t),he={class:"edit"},de=se(()=>h("p",{style:{"text-align":"center",margin:"0","line-height":"1rem",color:"#bfbfbf"}},"\u57FA\u672C\u4FE1\u606F",-1)),ge={class:"pickTime"},fe={class:"pickTime"},ue={class:"pickTime"};function ke(t,n,o,e,S,_){const C=s("van-nav-bar"),c=s("van-cell"),d=s("van-cell-group"),g=s("van-field"),f=s("t-dialog"),p=s("van-datetime-picker"),u=s("van-picker");return ee(),te(ie,null,[l(C,{title:"\u7F16\u8F91\u4FE1\u606F","left-text":"\u8FD4\u56DE","right-text":"\u5B8C\u6210","left-arrow":"",onClickLeft:e.onClickLeft,onClickRight:e.onClickRight},null,8,["onClickLeft","onClickRight"]),h("div",he,[l(d,null,{default:k(()=>[l(c,{"is-link":"",title:"\u7528\u6237\u540D",value:t.obj.username?t.obj.username:""},null,8,["value"])]),_:1}),de,l(d,null,{default:k(()=>[l(c,{maxlength:"10","show-word-limit":"",onClick:e.editNick,"is-link":"",title:"\u6635\u79F0",value:t.obj.nickname?t.obj.nickname:""},null,8,["onClick","value"]),l(c,{onClick:e.editTime,"is-link":"",title:"\u51FA\u751F\u65E5\u671F",value:t.obj.birthday?t.obj.birthday:""},null,8,["onClick","value"]),l(c,{onClick:e.editWeight,"is-link":"",title:"\u8EAB\u9AD8\u4F53\u91CD",value:t.obj.heightWeight?t.obj.heightWeight:""},null,8,["onClick","value"]),l(c,{onClick:e.editAttr,"is-link":"",title:"\u5C5E\u6027",value:t.obj.attr?t.obj.attr:""},null,8,["onClick","value"]),l(c,{onClick:e.editSign,"is-link":"",title:"\u6211\u7684\u7B7E\u540D",value:t.obj.sign?t.obj.sign:""},null,8,["onClick","value"])]),_:1})]),l(f,{visible:t.nicknameShow,type:"confirm",title:"\u4FEE\u6539\u6635\u79F0",content:t.content,cancelBtn:"\u53D6\u6D88",confirmBtn:"\u786E\u8BA4",onConfirm:e.onConfirm,onCancel:e.onCancel},{content:k(()=>[l(g,{modelValue:t.edit.nickname,"onUpdate:modelValue":n[0]||(n[0]=m=>t.edit.nickname=m),placeholder:"\u8BF7\u8F93\u5165\u7528\u6237\u540D"},null,8,["modelValue"])]),_:1},8,["visible","content","onConfirm","onCancel"]),l(f,{visible:t.signShow,type:"confirm",title:"\u4FEE\u6539\u7B7E\u540D",content:t.content,cancelBtn:"\u53D6\u6D88",confirmBtn:"\u786E\u8BA4",onConfirm:e.onSignConfirm,onCancel:e.onSignCancel},{content:k(()=>[l(g,{modelValue:t.edit.sign,"onUpdate:modelValue":n[1]||(n[1]=m=>t.edit.sign=m),placeholder:"\u8BF7\u8F93\u5165\u7B7E\u540D"},null,8,["modelValue"])]),_:1},8,["visible","content","onConfirm","onCancel"]),b(h("div",ge,[l(p,{formatter:e.formatter,"item-height":"1.2rem",style:{width:"90%"},modelValue:t.edit.birthday,"onUpdate:modelValue":n[2]||(n[2]=m=>t.edit.birthday=m),type:"date",title:"\u9009\u62E9\u5E74\u6708\u65E5","min-date":t.minDate,"max-date":t.maxDate,onConfirm:e.pickTimeConfirm,onCancel:e.pickTimeCancel},null,8,["formatter","modelValue","min-date","max-date","onConfirm","onCancel"])],512),[[v,t.pickTimeShow]]),b(h("div",fe,[l(u,{onConfirm:e.pickWeightConfirm,onCancel:e.pickWeightCancel,style:{width:"90%"},title:"\u8EAB\u9AD8\u4F53\u91CD",columns:t.columns,"columns-field-names":t.customFieldName},null,8,["onConfirm","onCancel","columns","columns-field-names"])],512),[[v,t.pickWeightShow]]),b(h("div",ue,[l(u,{onConfirm:e.pickAttrConfirm,onCancel:e.pickAttrCancel,style:{width:"90%"},title:"\u5C5E\u6027",columns:t.columns_attr,"columns-field-names":t.customFieldName_attr},null,8,["onConfirm","onCancel","columns","columns-field-names"])],512),[[v,t.pickAttrShow]])],64)}var be=O(me,[["render",ke],["__scopeId","data-v-71e1a31a"]]);export{be as default};
