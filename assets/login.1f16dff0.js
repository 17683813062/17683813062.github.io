var R=Object.defineProperty,V=Object.defineProperties;var k=Object.getOwnPropertyDescriptors;var g=Object.getOwnPropertySymbols;var v=Object.prototype.hasOwnProperty,C=Object.prototype.propertyIsEnumerable;var c=(t,e,o)=>e in t?R(t,e,{enumerable:!0,configurable:!0,writable:!0,value:o}):t[e]=o,f=(t,e)=>{for(var o in e||(e={}))v.call(e,o)&&c(t,o,e[o]);if(g)for(var o of g(e))C.call(e,o)&&c(t,o,e[o]);return t},b=(t,e)=>V(t,k(e));import{_ as y,r as x,b as B,t as N,a as P,c as z,d as l,w as h,e as i,f as S,g as E,M as m,h as _,i as u}from"./index.aa338e25.js";import{l as F}from"./index.1fb92cbc.js";const M={beforeRouteEnter(t,e,o){o(s=>{s.store.commit("changeFooter",!1)})},setup(){const t=S(),e=E();let o=x({store:t,username:"",password:""}),s=()=>{e.push({path:"/phone_login"})},d=()=>{e.push({path:"/regist"})},p=async()=>{if(!o.username||!o.password)m.error("\u7528\u6237\u540D\u6216\u5BC6\u7801\u9519\u8BEF");else{let a={username:o.username,password:o.password},r=await F(a);m.success("\u767B\u5F55\u6210\u529F"),r.code==1?(e.push({path:"/home"}),localStorage.setItem("user",JSON.stringify(r.result[0]))):m.error(r.msg)}};return B((a,r)=>{t.commit("changeFooter",!0)}),b(f({},N(o)),{submit:p,goRegister:d,goPhoneRegister:s})}},U=_(" \u767B\u5F55 "),I=_("\u767B\u5F55");function J(t,e,o,s,d,p){const a=u("t-navbar"),r=u("t-input"),w=u("t-button");return P(),z("div",null,[l(a,{onClickRight:s.submit},{default:h(()=>[U]),_:1},8,["onClickRight"]),i("div",null,[l(r,{modelValue:t.username,"onUpdate:modelValue":e[0]||(e[0]=n=>t.username=n),label:"\u7528\u6237\u540D",type:"text",clearable:""},null,8,["modelValue"]),l(r,{modelValue:t.password,"onUpdate:modelValue":e[1]||(e[1]=n=>t.password=n),label:"\u5BC6\u7801",type:"password",clearable:""},null,8,["modelValue"])]),i("p",{onClick:e[2]||(e[2]=(...n)=>s.goRegister&&s.goRegister(...n)),style:{color:"green","font-size":"0.3rem","font-weight":"bold","text-indent":"0.3rem"}},"\u53BB\u6CE8\u518C"),i("p",{onClick:e[3]||(e[3]=(...n)=>s.goPhoneRegister&&s.goPhoneRegister(...n)),style:{color:"green","font-size":"0.3rem","font-weight":"bold","text-indent":"0.3rem"}},"\u624B\u673A\u53F7\u767B\u5F55"),l(w,{onClick:s.submit,theme:"primary",size:"large"},{default:h(()=>[I]),_:1},8,["onClick"])])}var j=y(M,[["render",J]]);export{j as default};
