var hC=Object.defineProperty,vC=Object.defineProperties;var mC=Object.getOwnPropertyDescriptors;var Lf=Object.getOwnPropertySymbols;var gC=Object.prototype.hasOwnProperty,pC=Object.prototype.propertyIsEnumerable;var Rf=(e,t,n)=>t in e?hC(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,xf=(e,t)=>{for(var n in t||(t={}))gC.call(t,n)&&Rf(e,n,t[n]);if(Lf)for(var n of Lf(t))pC.call(t,n)&&Rf(e,n,t[n]);return e},$f=(e,t)=>vC(e,mC(t));const yC=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerpolicy&&(i.referrerPolicy=a.referrerpolicy),a.crossorigin==="use-credentials"?i.credentials="include":a.crossorigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(a){if(a.ep)return;a.ep=!0;const i=n(a);fetch(a.href,i)}};yC();function id(e,t){const n=Object.create(null),r=e.split(",");for(let a=0;a<r.length;a++)n[r[a]]=!0;return t?a=>!!n[a.toLowerCase()]:a=>!!n[a]}const bC="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",SC=id(bC);function cy(e){return!!e||e===""}function De(e){if(Fe(e)){const t={};for(let n=0;n<e.length;n++){const r=e[n],a=wt(r)?EC(r):De(r);if(a)for(const i in a)t[i]=a[i]}return t}else{if(wt(e))return e;if(Dt(e))return e}}const TC=/;(?![^(]*\))/g,CC=/:(.+)/;function EC(e){const t={};return e.split(TC).forEach(n=>{if(n){const r=n.split(CC);r.length>1&&(t[r[0].trim()]=r[1].trim())}}),t}function z(e){let t="";if(wt(e))t=e;else if(Fe(e))for(let n=0;n<e.length;n++){const r=z(e[n]);r&&(t+=r+" ")}else if(Dt(e))for(const n in e)e[n]&&(t+=n+" ");return t.trim()}function wC(e){if(!e)return null;let{class:t,style:n}=e;return t&&!wt(t)&&(e.class=z(t)),n&&(e.style=De(n)),e}const Ae=e=>wt(e)?e:e==null?"":Fe(e)||Dt(e)&&(e.toString===vy||!Ve(e.toString))?JSON.stringify(e,dy,2):String(e),dy=(e,t)=>t&&t.__v_isRef?dy(e,t.value):li(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((n,[r,a])=>(n[`${r} =>`]=a,n),{})}:fy(t)?{[`Set(${t.size})`]:[...t.values()]}:Dt(t)&&!Fe(t)&&!my(t)?String(t):t,dt={},si=[],xn=()=>{},OC=()=>!1,kC=/^on[^a-z]/,cl=e=>kC.test(e),od=e=>e.startsWith("onUpdate:"),Wt=Object.assign,sd=(e,t)=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)},_C=Object.prototype.hasOwnProperty,Qe=(e,t)=>_C.call(e,t),Fe=Array.isArray,li=e=>dl(e)==="[object Map]",fy=e=>dl(e)==="[object Set]",Ve=e=>typeof e=="function",wt=e=>typeof e=="string",ld=e=>typeof e=="symbol",Dt=e=>e!==null&&typeof e=="object",hy=e=>Dt(e)&&Ve(e.then)&&Ve(e.catch),vy=Object.prototype.toString,dl=e=>vy.call(e),AC=e=>dl(e).slice(8,-1),my=e=>dl(e)==="[object Object]",ud=e=>wt(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,Ls=id(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),fl=e=>{const t=Object.create(null);return n=>t[n]||(t[n]=e(n))},DC=/-(\w)/g,er=fl(e=>e.replace(DC,(t,n)=>n?n.toUpperCase():"")),PC=/\B([A-Z])/g,Ca=fl(e=>e.replace(PC,"-$1").toLowerCase()),hl=fl(e=>e.charAt(0).toUpperCase()+e.slice(1)),au=fl(e=>e?`on${hl(e)}`:""),Ao=(e,t)=>!Object.is(e,t),Rs=(e,t)=>{for(let n=0;n<e.length;n++)e[n](t)},Hs=(e,t,n)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value:n})},zs=e=>{const t=parseFloat(e);return isNaN(t)?e:t};let Mf;const IC=()=>Mf||(Mf=typeof globalThis!="undefined"?globalThis:typeof self!="undefined"?self:typeof window!="undefined"?window:typeof global!="undefined"?global:{});let cn;class LC{constructor(t=!1){this.active=!0,this.effects=[],this.cleanups=[],!t&&cn&&(this.parent=cn,this.index=(cn.scopes||(cn.scopes=[])).push(this)-1)}run(t){if(this.active){const n=cn;try{return cn=this,t()}finally{cn=n}}}on(){cn=this}off(){cn=this.parent}stop(t){if(this.active){let n,r;for(n=0,r=this.effects.length;n<r;n++)this.effects[n].stop();for(n=0,r=this.cleanups.length;n<r;n++)this.cleanups[n]();if(this.scopes)for(n=0,r=this.scopes.length;n<r;n++)this.scopes[n].stop(!0);if(this.parent&&!t){const a=this.parent.scopes.pop();a&&a!==this&&(this.parent.scopes[this.index]=a,a.index=this.index)}this.active=!1}}}function RC(e,t=cn){t&&t.active&&t.effects.push(e)}function xC(){return cn}function $C(e){cn&&cn.cleanups.push(e)}const cd=e=>{const t=new Set(e);return t.w=0,t.n=0,t},gy=e=>(e.w&jr)>0,py=e=>(e.n&jr)>0,MC=({deps:e})=>{if(e.length)for(let t=0;t<e.length;t++)e[t].w|=jr},FC=e=>{const{deps:t}=e;if(t.length){let n=0;for(let r=0;r<t.length;r++){const a=t[r];gy(a)&&!py(a)?a.delete(e):t[n++]=a,a.w&=~jr,a.n&=~jr}t.length=n}},tc=new WeakMap;let ho=0,jr=1;const nc=30;let Ln;const pa=Symbol(""),rc=Symbol("");class dd{constructor(t,n=null,r){this.fn=t,this.scheduler=n,this.active=!0,this.deps=[],this.parent=void 0,RC(this,r)}run(){if(!this.active)return this.fn();let t=Ln,n=Fr;for(;t;){if(t===this)return;t=t.parent}try{return this.parent=Ln,Ln=this,Fr=!0,jr=1<<++ho,ho<=nc?MC(this):Ff(this),this.fn()}finally{ho<=nc&&FC(this),jr=1<<--ho,Ln=this.parent,Fr=n,this.parent=void 0,this.deferStop&&this.stop()}}stop(){Ln===this?this.deferStop=!0:this.active&&(Ff(this),this.onStop&&this.onStop(),this.active=!1)}}function Ff(e){const{deps:t}=e;if(t.length){for(let n=0;n<t.length;n++)t[n].delete(e);t.length=0}}let Fr=!0;const yy=[];function Ei(){yy.push(Fr),Fr=!1}function wi(){const e=yy.pop();Fr=e===void 0?!0:e}function mn(e,t,n){if(Fr&&Ln){let r=tc.get(e);r||tc.set(e,r=new Map);let a=r.get(n);a||r.set(n,a=cd()),by(a)}}function by(e,t){let n=!1;ho<=nc?py(e)||(e.n|=jr,n=!gy(e)):n=!e.has(Ln),n&&(e.add(Ln),Ln.deps.push(e))}function mr(e,t,n,r,a,i){const o=tc.get(e);if(!o)return;let l=[];if(t==="clear")l=[...o.values()];else if(n==="length"&&Fe(e))o.forEach((u,s)=>{(s==="length"||s>=r)&&l.push(u)});else switch(n!==void 0&&l.push(o.get(n)),t){case"add":Fe(e)?ud(n)&&l.push(o.get("length")):(l.push(o.get(pa)),li(e)&&l.push(o.get(rc)));break;case"delete":Fe(e)||(l.push(o.get(pa)),li(e)&&l.push(o.get(rc)));break;case"set":li(e)&&l.push(o.get(pa));break}if(l.length===1)l[0]&&ac(l[0]);else{const u=[];for(const s of l)s&&u.push(...s);ac(cd(u))}}function ac(e,t){for(const n of Fe(e)?e:[...e])(n!==Ln||n.allowRecurse)&&(n.scheduler?n.scheduler():n.run())}const BC=id("__proto__,__v_isRef,__isVue"),Sy=new Set(Object.getOwnPropertyNames(Symbol).map(e=>Symbol[e]).filter(ld)),NC=fd(),jC=fd(!1,!0),UC=fd(!0),Bf=VC();function VC(){const e={};return["includes","indexOf","lastIndexOf"].forEach(t=>{e[t]=function(...n){const r=ot(this);for(let i=0,o=this.length;i<o;i++)mn(r,"get",i+"");const a=r[t](...n);return a===-1||a===!1?r[t](...n.map(ot)):a}}),["push","pop","shift","unshift","splice"].forEach(t=>{e[t]=function(...n){Ei();const r=ot(this)[t].apply(this,n);return wi(),r}}),e}function fd(e=!1,t=!1){return function(r,a,i){if(a==="__v_isReactive")return!e;if(a==="__v_isReadonly")return e;if(a==="__v_isShallow")return t;if(a==="__v_raw"&&i===(e?t?aE:Oy:t?wy:Ey).get(r))return r;const o=Fe(r);if(!e&&o&&Qe(Bf,a))return Reflect.get(Bf,a,i);const l=Reflect.get(r,a,i);return(ld(a)?Sy.has(a):BC(a))||(e||mn(r,"get",a),t)?l:At(l)?!o||!ud(a)?l.value:l:Dt(l)?e?md(l):Me(l):l}}const HC=Ty(),zC=Ty(!0);function Ty(e=!1){return function(n,r,a,i){let o=n[r];if(Do(o)&&At(o)&&!At(a))return!1;if(!e&&!Do(a)&&(ky(a)||(a=ot(a),o=ot(o)),!Fe(n)&&At(o)&&!At(a)))return o.value=a,!0;const l=Fe(n)&&ud(r)?Number(r)<n.length:Qe(n,r),u=Reflect.set(n,r,a,i);return n===ot(i)&&(l?Ao(a,o)&&mr(n,"set",r,a):mr(n,"add",r,a)),u}}function GC(e,t){const n=Qe(e,t);e[t];const r=Reflect.deleteProperty(e,t);return r&&n&&mr(e,"delete",t,void 0),r}function KC(e,t){const n=Reflect.has(e,t);return(!ld(t)||!Sy.has(t))&&mn(e,"has",t),n}function WC(e){return mn(e,"iterate",Fe(e)?"length":pa),Reflect.ownKeys(e)}const Cy={get:NC,set:HC,deleteProperty:GC,has:KC,ownKeys:WC},YC={get:UC,set(e,t){return!0},deleteProperty(e,t){return!0}},qC=Wt({},Cy,{get:jC,set:zC}),hd=e=>e,vl=e=>Reflect.getPrototypeOf(e);function Yo(e,t,n=!1,r=!1){e=e.__v_raw;const a=ot(e),i=ot(t);t!==i&&!n&&mn(a,"get",t),!n&&mn(a,"get",i);const{has:o}=vl(a),l=r?hd:n?pd:Po;if(o.call(a,t))return l(e.get(t));if(o.call(a,i))return l(e.get(i));e!==a&&e.get(t)}function qo(e,t=!1){const n=this.__v_raw,r=ot(n),a=ot(e);return e!==a&&!t&&mn(r,"has",e),!t&&mn(r,"has",a),e===a?n.has(e):n.has(e)||n.has(a)}function Xo(e,t=!1){return e=e.__v_raw,!t&&mn(ot(e),"iterate",pa),Reflect.get(e,"size",e)}function Nf(e){e=ot(e);const t=ot(this);return vl(t).has.call(t,e)||(t.add(e),mr(t,"add",e,e)),this}function jf(e,t){t=ot(t);const n=ot(this),{has:r,get:a}=vl(n);let i=r.call(n,e);i||(e=ot(e),i=r.call(n,e));const o=a.call(n,e);return n.set(e,t),i?Ao(t,o)&&mr(n,"set",e,t):mr(n,"add",e,t),this}function Uf(e){const t=ot(this),{has:n,get:r}=vl(t);let a=n.call(t,e);a||(e=ot(e),a=n.call(t,e)),r&&r.call(t,e);const i=t.delete(e);return a&&mr(t,"delete",e,void 0),i}function Vf(){const e=ot(this),t=e.size!==0,n=e.clear();return t&&mr(e,"clear",void 0,void 0),n}function Zo(e,t){return function(r,a){const i=this,o=i.__v_raw,l=ot(o),u=t?hd:e?pd:Po;return!e&&mn(l,"iterate",pa),o.forEach((s,c)=>r.call(a,u(s),u(c),i))}}function Jo(e,t,n){return function(...r){const a=this.__v_raw,i=ot(a),o=li(i),l=e==="entries"||e===Symbol.iterator&&o,u=e==="keys"&&o,s=a[e](...r),c=n?hd:t?pd:Po;return!t&&mn(i,"iterate",u?rc:pa),{next(){const{value:d,done:v}=s.next();return v?{value:d,done:v}:{value:l?[c(d[0]),c(d[1])]:c(d),done:v}},[Symbol.iterator](){return this}}}}function Sr(e){return function(...t){return e==="delete"?!1:this}}function XC(){const e={get(i){return Yo(this,i)},get size(){return Xo(this)},has:qo,add:Nf,set:jf,delete:Uf,clear:Vf,forEach:Zo(!1,!1)},t={get(i){return Yo(this,i,!1,!0)},get size(){return Xo(this)},has:qo,add:Nf,set:jf,delete:Uf,clear:Vf,forEach:Zo(!1,!0)},n={get(i){return Yo(this,i,!0)},get size(){return Xo(this,!0)},has(i){return qo.call(this,i,!0)},add:Sr("add"),set:Sr("set"),delete:Sr("delete"),clear:Sr("clear"),forEach:Zo(!0,!1)},r={get(i){return Yo(this,i,!0,!0)},get size(){return Xo(this,!0)},has(i){return qo.call(this,i,!0)},add:Sr("add"),set:Sr("set"),delete:Sr("delete"),clear:Sr("clear"),forEach:Zo(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(i=>{e[i]=Jo(i,!1,!1),n[i]=Jo(i,!0,!1),t[i]=Jo(i,!1,!0),r[i]=Jo(i,!0,!0)}),[e,n,t,r]}const[ZC,JC,QC,eE]=XC();function vd(e,t){const n=t?e?eE:QC:e?JC:ZC;return(r,a,i)=>a==="__v_isReactive"?!e:a==="__v_isReadonly"?e:a==="__v_raw"?r:Reflect.get(Qe(n,a)&&a in r?n:r,a,i)}const tE={get:vd(!1,!1)},nE={get:vd(!1,!0)},rE={get:vd(!0,!1)},Ey=new WeakMap,wy=new WeakMap,Oy=new WeakMap,aE=new WeakMap;function iE(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function oE(e){return e.__v_skip||!Object.isExtensible(e)?0:iE(AC(e))}function Me(e){return Do(e)?e:gd(e,!1,Cy,tE,Ey)}function sE(e){return gd(e,!1,qC,nE,wy)}function md(e){return gd(e,!0,YC,rE,Oy)}function gd(e,t,n,r,a){if(!Dt(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const i=a.get(e);if(i)return i;const o=oE(e);if(o===0)return e;const l=new Proxy(e,o===2?r:n);return a.set(e,l),l}function ui(e){return Do(e)?ui(e.__v_raw):!!(e&&e.__v_isReactive)}function Do(e){return!!(e&&e.__v_isReadonly)}function ky(e){return!!(e&&e.__v_isShallow)}function _y(e){return ui(e)||Do(e)}function ot(e){const t=e&&e.__v_raw;return t?ot(t):e}function Ay(e){return Hs(e,"__v_skip",!0),e}const Po=e=>Dt(e)?Me(e):e,pd=e=>Dt(e)?md(e):e;function yd(e){Fr&&Ln&&(e=ot(e),by(e.dep||(e.dep=cd())))}function bd(e,t){e=ot(e),e.dep&&ac(e.dep)}function At(e){return!!(e&&e.__v_isRef===!0)}function q(e){return Dy(e,!1)}function lE(e){return Dy(e,!0)}function Dy(e,t){return At(e)?e:new uE(e,t)}class uE{constructor(t,n){this.__v_isShallow=n,this.dep=void 0,this.__v_isRef=!0,this._rawValue=n?t:ot(t),this._value=n?t:Po(t)}get value(){return yd(this),this._value}set value(t){t=this.__v_isShallow?t:ot(t),Ao(t,this._rawValue)&&(this._rawValue=t,this._value=this.__v_isShallow?t:Po(t),bd(this))}}function he(e){return At(e)?e.value:e}const cE={get:(e,t,n)=>he(Reflect.get(e,t,n)),set:(e,t,n,r)=>{const a=e[t];return At(a)&&!At(n)?(a.value=n,!0):Reflect.set(e,t,n,r)}};function Py(e){return ui(e)?e:new Proxy(e,cE)}class dE{constructor(t){this.dep=void 0,this.__v_isRef=!0;const{get:n,set:r}=t(()=>yd(this),()=>bd(this));this._get=n,this._set=r}get value(){return this._get()}set value(t){this._set(t)}}function fE(e){return new dE(e)}function ze(e){const t=Fe(e)?new Array(e.length):{};for(const n in e)t[n]=vE(e,n);return t}class hE{constructor(t,n,r){this._object=t,this._key=n,this._defaultValue=r,this.__v_isRef=!0}get value(){const t=this._object[this._key];return t===void 0?this._defaultValue:t}set value(t){this._object[this._key]=t}}function vE(e,t,n){const r=e[t];return At(r)?r:new hE(e,t,n)}class mE{constructor(t,n,r,a){this._setter=n,this.dep=void 0,this.__v_isRef=!0,this._dirty=!0,this.effect=new dd(t,()=>{this._dirty||(this._dirty=!0,bd(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!a,this.__v_isReadonly=r}get value(){const t=ot(this);return yd(t),(t._dirty||!t._cacheable)&&(t._dirty=!1,t._value=t.effect.run()),t._value}set value(t){this._setter(t)}}function gE(e,t,n=!1){let r,a;const i=Ve(e);return i?(r=e,a=xn):(r=e.get,a=e.set),new mE(r,a,i||!a,n)}function Br(e,t,n,r){let a;try{a=r?e(...r):e()}catch(i){ml(i,t,n)}return a}function Cn(e,t,n,r){if(Ve(e)){const i=Br(e,t,n,r);return i&&hy(i)&&i.catch(o=>{ml(o,t,n)}),i}const a=[];for(let i=0;i<e.length;i++)a.push(Cn(e[i],t,n,r));return a}function ml(e,t,n,r=!0){const a=t?t.vnode:null;if(t){let i=t.parent;const o=t.proxy,l=n;for(;i;){const s=i.ec;if(s){for(let c=0;c<s.length;c++)if(s[c](e,o,l)===!1)return}i=i.parent}const u=t.appContext.config.errorHandler;if(u){Br(u,null,10,[e,o,l]);return}}pE(e,n,a,r)}function pE(e,t,n,r=!0){console.error(e)}let Gs=!1,ic=!1;const hn=[];let fr=0;const yo=[];let vo=null,Ja=0;const bo=[];let Rr=null,Qa=0;const Iy=Promise.resolve();let Sd=null,oc=null;function Re(e){const t=Sd||Iy;return e?t.then(this?e.bind(this):e):t}function yE(e){let t=fr+1,n=hn.length;for(;t<n;){const r=t+n>>>1;Io(hn[r])<e?t=r+1:n=r}return t}function Ly(e){(!hn.length||!hn.includes(e,Gs&&e.allowRecurse?fr+1:fr))&&e!==oc&&(e.id==null?hn.push(e):hn.splice(yE(e.id),0,e),Ry())}function Ry(){!Gs&&!ic&&(ic=!0,Sd=Iy.then(My))}function bE(e){const t=hn.indexOf(e);t>fr&&hn.splice(t,1)}function xy(e,t,n,r){Fe(e)?n.push(...e):(!t||!t.includes(e,e.allowRecurse?r+1:r))&&n.push(e),Ry()}function SE(e){xy(e,vo,yo,Ja)}function TE(e){xy(e,Rr,bo,Qa)}function Td(e,t=null){if(yo.length){for(oc=t,vo=[...new Set(yo)],yo.length=0,Ja=0;Ja<vo.length;Ja++)vo[Ja]();vo=null,Ja=0,oc=null,Td(e,t)}}function $y(e){if(bo.length){const t=[...new Set(bo)];if(bo.length=0,Rr){Rr.push(...t);return}for(Rr=t,Rr.sort((n,r)=>Io(n)-Io(r)),Qa=0;Qa<Rr.length;Qa++)Rr[Qa]();Rr=null,Qa=0}}const Io=e=>e.id==null?1/0:e.id;function My(e){ic=!1,Gs=!0,Td(e),hn.sort((n,r)=>Io(n)-Io(r));const t=xn;try{for(fr=0;fr<hn.length;fr++){const n=hn[fr];n&&n.active!==!1&&Br(n,null,14)}}finally{fr=0,hn.length=0,$y(),Gs=!1,Sd=null,(hn.length||yo.length||bo.length)&&My(e)}}function CE(e,t,...n){if(e.isUnmounted)return;const r=e.vnode.props||dt;let a=n;const i=t.startsWith("update:"),o=i&&t.slice(7);if(o&&o in r){const c=`${o==="modelValue"?"model":o}Modifiers`,{number:d,trim:v}=r[c]||dt;v?a=n.map(S=>S.trim()):d&&(a=n.map(zs))}let l,u=r[l=au(t)]||r[l=au(er(t))];!u&&i&&(u=r[l=au(Ca(t))]),u&&Cn(u,e,6,a);const s=r[l+"Once"];if(s){if(!e.emitted)e.emitted={};else if(e.emitted[l])return;e.emitted[l]=!0,Cn(s,e,6,a)}}function Fy(e,t,n=!1){const r=t.emitsCache,a=r.get(e);if(a!==void 0)return a;const i=e.emits;let o={},l=!1;if(!Ve(e)){const u=s=>{const c=Fy(s,t,!0);c&&(l=!0,Wt(o,c))};!n&&t.mixins.length&&t.mixins.forEach(u),e.extends&&u(e.extends),e.mixins&&e.mixins.forEach(u)}return!i&&!l?(r.set(e,null),null):(Fe(i)?i.forEach(u=>o[u]=null):Wt(o,i),r.set(e,o),o)}function gl(e,t){return!e||!cl(t)?!1:(t=t.slice(2).replace(/Once$/,""),Qe(e,t[0].toLowerCase()+t.slice(1))||Qe(e,Ca(t))||Qe(e,t))}let Yt=null,pl=null;function Ks(e){const t=Yt;return Yt=e,pl=e&&e.type.__scopeId||null,t}function Vr(e){pl=e}function Hr(){pl=null}function Ue(e,t=Yt,n){if(!t||e._n)return e;const r=(...a)=>{r._d&&eh(-1);const i=Ks(t),o=e(...a);return Ks(i),r._d&&eh(1),o};return r._n=!0,r._c=!0,r._d=!0,r}function iu(e){const{type:t,vnode:n,proxy:r,withProxy:a,props:i,propsOptions:[o],slots:l,attrs:u,emit:s,render:c,renderCache:d,data:v,setupState:S,ctx:E,inheritAttrs:m}=e;let f,g;const h=Ks(e);try{if(n.shapeFlag&4){const b=a||r;f=qn(c.call(b,b,d,i,S,v,E)),g=u}else{const b=t;f=qn(b.length>1?b(i,{attrs:u,slots:l,emit:s}):b(i,null)),g=t.props?u:EE(u)}}catch(b){To.length=0,ml(b,e,1),f=R(En)}let y=f;if(g&&m!==!1){const b=Object.keys(g),{shapeFlag:p}=y;b.length&&p&7&&(o&&b.some(od)&&(g=wE(g,o)),y=Sa(y,g))}return n.dirs&&(y.dirs=y.dirs?y.dirs.concat(n.dirs):n.dirs),n.transition&&(y.transition=n.transition),f=y,Ks(h),f}const EE=e=>{let t;for(const n in e)(n==="class"||n==="style"||cl(n))&&((t||(t={}))[n]=e[n]);return t},wE=(e,t)=>{const n={};for(const r in e)(!od(r)||!(r.slice(9)in t))&&(n[r]=e[r]);return n};function OE(e,t,n){const{props:r,children:a,component:i}=e,{props:o,children:l,patchFlag:u}=t,s=i.emitsOptions;if(t.dirs||t.transition)return!0;if(n&&u>=0){if(u&1024)return!0;if(u&16)return r?Hf(r,o,s):!!o;if(u&8){const c=t.dynamicProps;for(let d=0;d<c.length;d++){const v=c[d];if(o[v]!==r[v]&&!gl(s,v))return!0}}}else return(a||l)&&(!l||!l.$stable)?!0:r===o?!1:r?o?Hf(r,o,s):!0:!!o;return!1}function Hf(e,t,n){const r=Object.keys(t);if(r.length!==Object.keys(e).length)return!0;for(let a=0;a<r.length;a++){const i=r[a];if(t[i]!==e[i]&&!gl(n,i))return!0}return!1}function kE({vnode:e,parent:t},n){for(;t&&t.subTree===e;)(e=t.vnode).el=n,t=t.parent}const _E=e=>e.__isSuspense;function AE(e,t){t&&t.pendingBranch?Fe(e)?t.effects.push(...e):t.effects.push(e):TE(e)}function ft(e,t){if(Bt){let n=Bt.provides;const r=Bt.parent&&Bt.parent.provides;r===n&&(n=Bt.provides=Object.create(r)),n[e]=t}}function et(e,t,n=!1){const r=Bt||Yt;if(r){const a=r.parent==null?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides;if(a&&e in a)return a[e];if(arguments.length>1)return n&&Ve(t)?t.call(r.proxy):t}}function yl(e,t){return bl(e,null,t)}function DE(e,t){return bl(e,null,{flush:"post"})}const zf={};function oe(e,t,n){return bl(e,t,n)}function bl(e,t,{immediate:n,deep:r,flush:a,onTrack:i,onTrigger:o}=dt){const l=Bt;let u,s=!1,c=!1;if(At(e)?(u=()=>e.value,s=ky(e)):ui(e)?(u=()=>e,r=!0):Fe(e)?(c=!0,s=e.some(ui),u=()=>e.map(g=>{if(At(g))return g.value;if(ui(g))return va(g);if(Ve(g))return Br(g,l,2)})):Ve(e)?t?u=()=>Br(e,l,2):u=()=>{if(!(l&&l.isUnmounted))return d&&d(),Cn(e,l,3,[v])}:u=xn,t&&r){const g=u;u=()=>va(g())}let d,v=g=>{d=f.onStop=()=>{Br(g,l,4)}};if(Lo)return v=xn,t?n&&Cn(t,l,3,[u(),c?[]:void 0,v]):u(),xn;let S=c?[]:zf;const E=()=>{if(!!f.active)if(t){const g=f.run();(r||s||(c?g.some((h,y)=>Ao(h,S[y])):Ao(g,S)))&&(d&&d(),Cn(t,l,3,[g,S===zf?void 0:S,v]),S=g)}else f.run()};E.allowRecurse=!!t;let m;a==="sync"?m=E:a==="post"?m=()=>en(E,l&&l.suspense):m=()=>{!l||l.isMounted?SE(E):E()};const f=new dd(u,m);return t?n?E():S=f.run():a==="post"?en(f.run.bind(f),l&&l.suspense):f.run(),()=>{f.stop(),l&&l.scope&&sd(l.scope.effects,f)}}function PE(e,t,n){const r=this.proxy,a=wt(e)?e.includes(".")?By(r,e):()=>r[e]:e.bind(r,r);let i;Ve(t)?i=t:(i=t.handler,n=t);const o=Bt;hi(this);const l=bl(a,i.bind(r),n);return o?hi(o):ba(),l}function By(e,t){const n=t.split(".");return()=>{let r=e;for(let a=0;a<n.length&&r;a++)r=r[n[a]];return r}}function va(e,t){if(!Dt(e)||e.__v_skip||(t=t||new Set,t.has(e)))return e;if(t.add(e),At(e))va(e.value,t);else if(Fe(e))for(let n=0;n<e.length;n++)va(e[n],t);else if(fy(e)||li(e))e.forEach(n=>{va(n,t)});else if(my(e))for(const n in e)va(e[n],t);return e}function IE(){const e={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return tt(()=>{e.isMounted=!0}),tr(()=>{e.isUnmounting=!0}),e}const yn=[Function,Array],LE={name:"BaseTransition",props:{mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:yn,onEnter:yn,onAfterEnter:yn,onEnterCancelled:yn,onBeforeLeave:yn,onLeave:yn,onAfterLeave:yn,onLeaveCancelled:yn,onBeforeAppear:yn,onAppear:yn,onAfterAppear:yn,onAppearCancelled:yn},setup(e,{slots:t}){const n=Be(),r=IE();let a;return()=>{const i=t.default&&Uy(t.default(),!0);if(!i||!i.length)return;let o=i[0];if(i.length>1){for(const m of i)if(m.type!==En){o=m;break}}const l=ot(e),{mode:u}=l;if(r.isLeaving)return ou(o);const s=Gf(o);if(!s)return ou(o);const c=sc(s,l,r,n);lc(s,c);const d=n.subTree,v=d&&Gf(d);let S=!1;const{getTransitionKey:E}=s.type;if(E){const m=E();a===void 0?a=m:m!==a&&(a=m,S=!0)}if(v&&v.type!==En&&(!fa(s,v)||S)){const m=sc(v,l,r,n);if(lc(v,m),u==="out-in")return r.isLeaving=!0,m.afterLeave=()=>{r.isLeaving=!1,n.update()},ou(o);u==="in-out"&&s.type!==En&&(m.delayLeave=(f,g,h)=>{const y=jy(r,v);y[String(v.key)]=v,f._leaveCb=()=>{g(),f._leaveCb=void 0,delete c.delayedLeave},c.delayedLeave=h})}return o}}},Ny=LE;function jy(e,t){const{leavingVNodes:n}=e;let r=n.get(t.type);return r||(r=Object.create(null),n.set(t.type,r)),r}function sc(e,t,n,r){const{appear:a,mode:i,persisted:o=!1,onBeforeEnter:l,onEnter:u,onAfterEnter:s,onEnterCancelled:c,onBeforeLeave:d,onLeave:v,onAfterLeave:S,onLeaveCancelled:E,onBeforeAppear:m,onAppear:f,onAfterAppear:g,onAppearCancelled:h}=t,y=String(e.key),b=jy(n,e),p=(w,k)=>{w&&Cn(w,r,9,k)},C={mode:i,persisted:o,beforeEnter(w){let k=l;if(!n.isMounted)if(a)k=m||l;else return;w._leaveCb&&w._leaveCb(!0);const _=b[y];_&&fa(e,_)&&_.el._leaveCb&&_.el._leaveCb(),p(k,[w])},enter(w){let k=u,_=s,T=c;if(!n.isMounted)if(a)k=f||u,_=g||s,T=h||c;else return;let O=!1;const A=w._enterCb=P=>{O||(O=!0,P?p(T,[w]):p(_,[w]),C.delayedLeave&&C.delayedLeave(),w._enterCb=void 0)};k?(k(w,A),k.length<=1&&A()):A()},leave(w,k){const _=String(e.key);if(w._enterCb&&w._enterCb(!0),n.isUnmounting)return k();p(d,[w]);let T=!1;const O=w._leaveCb=A=>{T||(T=!0,k(),A?p(E,[w]):p(S,[w]),w._leaveCb=void 0,b[_]===e&&delete b[_])};b[_]=e,v?(v(w,O),v.length<=1&&O()):O()},clone(w){return sc(w,t,n,r)}};return C}function ou(e){if(Sl(e))return e=Sa(e),e.children=null,e}function Gf(e){return Sl(e)?e.children?e.children[0]:void 0:e}function lc(e,t){e.shapeFlag&6&&e.component?lc(e.component.subTree,t):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function Uy(e,t=!1,n){let r=[],a=0;for(let i=0;i<e.length;i++){let o=e[i];const l=n==null?o.key:String(n)+String(o.key!=null?o.key:i);o.type===Ce?(o.patchFlag&128&&a++,r=r.concat(Uy(o.children,t,l))):(t||o.type!==En)&&r.push(l!=null?Sa(o,{key:l}):o)}if(a>1)for(let i=0;i<r.length;i++)r[i].patchFlag=-2;return r}function ee(e){return Ve(e)?{setup:e,name:e.name}:e}const Ws=e=>!!e.type.__asyncLoader,Sl=e=>e.type.__isKeepAlive;function Ea(e,t){Vy(e,"a",t)}function zr(e,t){Vy(e,"da",t)}function Vy(e,t,n=Bt){const r=e.__wdc||(e.__wdc=()=>{let a=n;for(;a;){if(a.isDeactivated)return;a=a.parent}return e()});if(Tl(t,r,n),n){let a=n.parent;for(;a&&a.parent;)Sl(a.parent.vnode)&&RE(r,t,n,a),a=a.parent}}function RE(e,t,n,r){const a=Tl(t,e,r,!0);Mn(()=>{sd(r[t],a)},n)}function Tl(e,t,n=Bt,r=!1){if(n){const a=n[e]||(n[e]=[]),i=t.__weh||(t.__weh=(...o)=>{if(n.isUnmounted)return;Ei(),hi(n);const l=Cn(t,n,e,o);return ba(),wi(),l});return r?a.unshift(i):a.push(i),i}}const yr=e=>(t,n=Bt)=>(!Lo||e==="sp")&&Tl(e,t,n),Cd=yr("bm"),tt=yr("m"),Hy=yr("bu"),Ed=yr("u"),tr=yr("bum"),Mn=yr("um"),xE=yr("sp"),$E=yr("rtg"),ME=yr("rtc");function FE(e,t=Bt){Tl("ec",e,t)}let uc=!0;function BE(e){const t=Gy(e),n=e.proxy,r=e.ctx;uc=!1,t.beforeCreate&&Kf(t.beforeCreate,e,"bc");const{data:a,computed:i,methods:o,watch:l,provide:u,inject:s,created:c,beforeMount:d,mounted:v,beforeUpdate:S,updated:E,activated:m,deactivated:f,beforeDestroy:g,beforeUnmount:h,destroyed:y,unmounted:b,render:p,renderTracked:C,renderTriggered:w,errorCaptured:k,serverPrefetch:_,expose:T,inheritAttrs:O,components:A,directives:P,filters:D}=t;if(s&&NE(s,r,null,e.appContext.config.unwrapInjectedRef),o)for(const L in o){const $=o[L];Ve($)&&(r[L]=$.bind(n))}if(a){const L=a.call(n,n);Dt(L)&&(e.data=Me(L))}if(uc=!0,i)for(const L in i){const $=i[L],M=Ve($)?$.bind(n,n):Ve($.get)?$.get.bind(n,n):xn,j=!Ve($)&&Ve($.set)?$.set.bind(n):xn,F=N({get:M,set:j});Object.defineProperty(r,L,{enumerable:!0,configurable:!0,get:()=>F.value,set:U=>F.value=U})}if(l)for(const L in l)zy(l[L],r,n,L);if(u){const L=Ve(u)?u.call(n):u;Reflect.ownKeys(L).forEach($=>{ft($,L[$])})}c&&Kf(c,e,"c");function x(L,$){Fe($)?$.forEach(M=>L(M.bind(n))):$&&L($.bind(n))}if(x(Cd,d),x(tt,v),x(Hy,S),x(Ed,E),x(Ea,m),x(zr,f),x(FE,k),x(ME,C),x($E,w),x(tr,h),x(Mn,b),x(xE,_),Fe(T))if(T.length){const L=e.exposed||(e.exposed={});T.forEach($=>{Object.defineProperty(L,$,{get:()=>n[$],set:M=>n[$]=M})})}else e.exposed||(e.exposed={});p&&e.render===xn&&(e.render=p),O!=null&&(e.inheritAttrs=O),A&&(e.components=A),P&&(e.directives=P)}function NE(e,t,n=xn,r=!1){Fe(e)&&(e=cc(e));for(const a in e){const i=e[a];let o;Dt(i)?"default"in i?o=et(i.from||a,i.default,!0):o=et(i.from||a):o=et(i),At(o)&&r?Object.defineProperty(t,a,{enumerable:!0,configurable:!0,get:()=>o.value,set:l=>o.value=l}):t[a]=o}}function Kf(e,t,n){Cn(Fe(e)?e.map(r=>r.bind(t.proxy)):e.bind(t.proxy),t,n)}function zy(e,t,n,r){const a=r.includes(".")?By(n,r):()=>n[r];if(wt(e)){const i=t[e];Ve(i)&&oe(a,i)}else if(Ve(e))oe(a,e.bind(n));else if(Dt(e))if(Fe(e))e.forEach(i=>zy(i,t,n,r));else{const i=Ve(e.handler)?e.handler.bind(n):t[e.handler];Ve(i)&&oe(a,i,e)}}function Gy(e){const t=e.type,{mixins:n,extends:r}=t,{mixins:a,optionsCache:i,config:{optionMergeStrategies:o}}=e.appContext,l=i.get(t);let u;return l?u=l:!a.length&&!n&&!r?u=t:(u={},a.length&&a.forEach(s=>Ys(u,s,o,!0)),Ys(u,t,o)),i.set(t,u),u}function Ys(e,t,n,r=!1){const{mixins:a,extends:i}=t;i&&Ys(e,i,n,!0),a&&a.forEach(o=>Ys(e,o,n,!0));for(const o in t)if(!(r&&o==="expose")){const l=jE[o]||n&&n[o];e[o]=l?l(e[o],t[o]):t[o]}return e}const jE={data:Wf,props:ca,emits:ca,methods:ca,computed:ca,beforeCreate:Jt,created:Jt,beforeMount:Jt,mounted:Jt,beforeUpdate:Jt,updated:Jt,beforeDestroy:Jt,beforeUnmount:Jt,destroyed:Jt,unmounted:Jt,activated:Jt,deactivated:Jt,errorCaptured:Jt,serverPrefetch:Jt,components:ca,directives:ca,watch:VE,provide:Wf,inject:UE};function Wf(e,t){return t?e?function(){return Wt(Ve(e)?e.call(this,this):e,Ve(t)?t.call(this,this):t)}:t:e}function UE(e,t){return ca(cc(e),cc(t))}function cc(e){if(Fe(e)){const t={};for(let n=0;n<e.length;n++)t[e[n]]=e[n];return t}return e}function Jt(e,t){return e?[...new Set([].concat(e,t))]:t}function ca(e,t){return e?Wt(Wt(Object.create(null),e),t):t}function VE(e,t){if(!e)return t;if(!t)return e;const n=Wt(Object.create(null),e);for(const r in t)n[r]=Jt(e[r],t[r]);return n}function HE(e,t,n,r=!1){const a={},i={};Hs(i,Cl,1),e.propsDefaults=Object.create(null),Ky(e,t,a,i);for(const o in e.propsOptions[0])o in a||(a[o]=void 0);n?e.props=r?a:sE(a):e.type.props?e.props=a:e.props=i,e.attrs=i}function zE(e,t,n,r){const{props:a,attrs:i,vnode:{patchFlag:o}}=e,l=ot(a),[u]=e.propsOptions;let s=!1;if((r||o>0)&&!(o&16)){if(o&8){const c=e.vnode.dynamicProps;for(let d=0;d<c.length;d++){let v=c[d];if(gl(e.emitsOptions,v))continue;const S=t[v];if(u)if(Qe(i,v))S!==i[v]&&(i[v]=S,s=!0);else{const E=er(v);a[E]=dc(u,l,E,S,e,!1)}else S!==i[v]&&(i[v]=S,s=!0)}}}else{Ky(e,t,a,i)&&(s=!0);let c;for(const d in l)(!t||!Qe(t,d)&&((c=Ca(d))===d||!Qe(t,c)))&&(u?n&&(n[d]!==void 0||n[c]!==void 0)&&(a[d]=dc(u,l,d,void 0,e,!0)):delete a[d]);if(i!==l)for(const d in i)(!t||!Qe(t,d)&&!0)&&(delete i[d],s=!0)}s&&mr(e,"set","$attrs")}function Ky(e,t,n,r){const[a,i]=e.propsOptions;let o=!1,l;if(t)for(let u in t){if(Ls(u))continue;const s=t[u];let c;a&&Qe(a,c=er(u))?!i||!i.includes(c)?n[c]=s:(l||(l={}))[c]=s:gl(e.emitsOptions,u)||(!(u in r)||s!==r[u])&&(r[u]=s,o=!0)}if(i){const u=ot(n),s=l||dt;for(let c=0;c<i.length;c++){const d=i[c];n[d]=dc(a,u,d,s[d],e,!Qe(s,d))}}return o}function dc(e,t,n,r,a,i){const o=e[n];if(o!=null){const l=Qe(o,"default");if(l&&r===void 0){const u=o.default;if(o.type!==Function&&Ve(u)){const{propsDefaults:s}=a;n in s?r=s[n]:(hi(a),r=s[n]=u.call(null,t),ba())}else r=u}o[0]&&(i&&!l?r=!1:o[1]&&(r===""||r===Ca(n))&&(r=!0))}return r}function Wy(e,t,n=!1){const r=t.propsCache,a=r.get(e);if(a)return a;const i=e.props,o={},l=[];let u=!1;if(!Ve(e)){const c=d=>{u=!0;const[v,S]=Wy(d,t,!0);Wt(o,v),S&&l.push(...S)};!n&&t.mixins.length&&t.mixins.forEach(c),e.extends&&c(e.extends),e.mixins&&e.mixins.forEach(c)}if(!i&&!u)return r.set(e,si),si;if(Fe(i))for(let c=0;c<i.length;c++){const d=er(i[c]);Yf(d)&&(o[d]=dt)}else if(i)for(const c in i){const d=er(c);if(Yf(d)){const v=i[c],S=o[d]=Fe(v)||Ve(v)?{type:v}:v;if(S){const E=Zf(Boolean,S.type),m=Zf(String,S.type);S[0]=E>-1,S[1]=m<0||E<m,(E>-1||Qe(S,"default"))&&l.push(d)}}}const s=[o,l];return r.set(e,s),s}function Yf(e){return e[0]!=="$"}function qf(e){const t=e&&e.toString().match(/^\s*function (\w+)/);return t?t[1]:e===null?"null":""}function Xf(e,t){return qf(e)===qf(t)}function Zf(e,t){return Fe(t)?t.findIndex(n=>Xf(n,e)):Ve(t)&&Xf(t,e)?0:-1}const Yy=e=>e[0]==="_"||e==="$stable",wd=e=>Fe(e)?e.map(qn):[qn(e)],GE=(e,t,n)=>{const r=Ue((...a)=>wd(t(...a)),n);return r._c=!1,r},qy=(e,t,n)=>{const r=e._ctx;for(const a in e){if(Yy(a))continue;const i=e[a];if(Ve(i))t[a]=GE(a,i,r);else if(i!=null){const o=wd(i);t[a]=()=>o}}},Xy=(e,t)=>{const n=wd(t);e.slots.default=()=>n},KE=(e,t)=>{if(e.vnode.shapeFlag&32){const n=t._;n?(e.slots=ot(t),Hs(t,"_",n)):qy(t,e.slots={})}else e.slots={},t&&Xy(e,t);Hs(e.slots,Cl,1)},WE=(e,t,n)=>{const{vnode:r,slots:a}=e;let i=!0,o=dt;if(r.shapeFlag&32){const l=t._;l?n&&l===1?i=!1:(Wt(a,t),!n&&l===1&&delete a._):(i=!t.$stable,qy(t,a)),o=t}else t&&(Xy(e,t),o={default:1});if(i)for(const l in a)!Yy(l)&&!(l in o)&&delete a[l]};function Ke(e,t){const n=Yt;if(n===null)return e;const r=El(n)||n.proxy,a=e.dirs||(e.dirs=[]);for(let i=0;i<t.length;i++){let[o,l,u,s=dt]=t[i];Ve(o)&&(o={mounted:o,updated:o}),o.deep&&va(l),a.push({dir:o,instance:r,value:l,oldValue:void 0,arg:u,modifiers:s})}return e}function na(e,t,n,r){const a=e.dirs,i=t&&t.dirs;for(let o=0;o<a.length;o++){const l=a[o];i&&(l.oldValue=i[o].value);let u=l.dir[r];u&&(Ei(),Cn(u,n,8,[e.el,l,e,t]),wi())}}function Zy(){return{app:null,config:{isNativeTag:OC,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let YE=0;function qE(e,t){return function(r,a=null){Ve(r)||(r=Object.assign({},r)),a!=null&&!Dt(a)&&(a=null);const i=Zy(),o=new Set;let l=!1;const u=i.app={_uid:YE++,_component:r,_props:a,_container:null,_context:i,_instance:null,version:yw,get config(){return i.config},set config(s){},use(s,...c){return o.has(s)||(s&&Ve(s.install)?(o.add(s),s.install(u,...c)):Ve(s)&&(o.add(s),s(u,...c))),u},mixin(s){return i.mixins.includes(s)||i.mixins.push(s),u},component(s,c){return c?(i.components[s]=c,u):i.components[s]},directive(s,c){return c?(i.directives[s]=c,u):i.directives[s]},mount(s,c,d){if(!l){const v=R(r,a);return v.appContext=i,c&&t?t(v,s):e(v,s,d),l=!0,u._container=s,s.__vue_app__=u,El(v.component)||v.component.proxy}},unmount(){l&&(e(null,u._container),delete u._container.__vue_app__)},provide(s,c){return i.provides[s]=c,u}};return u}}function fc(e,t,n,r,a=!1){if(Fe(e)){e.forEach((v,S)=>fc(v,t&&(Fe(t)?t[S]:t),n,r,a));return}if(Ws(r)&&!a)return;const i=r.shapeFlag&4?El(r.component)||r.component.proxy:r.el,o=a?null:i,{i:l,r:u}=e,s=t&&t.r,c=l.refs===dt?l.refs={}:l.refs,d=l.setupState;if(s!=null&&s!==u&&(wt(s)?(c[s]=null,Qe(d,s)&&(d[s]=null)):At(s)&&(s.value=null)),Ve(u))Br(u,l,12,[o,c]);else{const v=wt(u),S=At(u);if(v||S){const E=()=>{if(e.f){const m=v?c[u]:u.value;a?Fe(m)&&sd(m,i):Fe(m)?m.includes(i)||m.push(i):v?(c[u]=[i],Qe(d,u)&&(d[u]=c[u])):(u.value=[i],e.k&&(c[e.k]=u.value))}else v?(c[u]=o,Qe(d,u)&&(d[u]=o)):At(u)&&(u.value=o,e.k&&(c[e.k]=o))};o?(E.id=-1,en(E,n)):E()}}}const en=AE;function XE(e){return ZE(e)}function ZE(e,t){const n=IC();n.__VUE__=!0;const{insert:r,remove:a,patchProp:i,createElement:o,createText:l,createComment:u,setText:s,setElementText:c,parentNode:d,nextSibling:v,setScopeId:S=xn,cloneNode:E,insertStaticContent:m}=e,f=(G,Y,Q,re=null,ie=null,le=null,Se=!1,fe=null,me=!!Y.dynamicChildren)=>{if(G===Y)return;G&&!fa(G,Y)&&(re=ne(G),B(G,ie,le,!0),G=null),Y.patchFlag===-2&&(me=!1,Y.dynamicChildren=null);const{type:ue,ref:ke,shapeFlag:Ee}=Y;switch(ue){case Ad:g(G,Y,Q,re);break;case En:h(G,Y,Q,re);break;case xs:G==null&&y(Y,Q,re,Se);break;case Ce:P(G,Y,Q,re,ie,le,Se,fe,me);break;default:Ee&1?C(G,Y,Q,re,ie,le,Se,fe,me):Ee&6?D(G,Y,Q,re,ie,le,Se,fe,me):(Ee&64||Ee&128)&&ue.process(G,Y,Q,re,ie,le,Se,fe,me,ye)}ke!=null&&ie&&fc(ke,G&&G.ref,le,Y||G,!Y)},g=(G,Y,Q,re)=>{if(G==null)r(Y.el=l(Y.children),Q,re);else{const ie=Y.el=G.el;Y.children!==G.children&&s(ie,Y.children)}},h=(G,Y,Q,re)=>{G==null?r(Y.el=u(Y.children||""),Q,re):Y.el=G.el},y=(G,Y,Q,re)=>{[G.el,G.anchor]=m(G.children,Y,Q,re,G.el,G.anchor)},b=({el:G,anchor:Y},Q,re)=>{let ie;for(;G&&G!==Y;)ie=v(G),r(G,Q,re),G=ie;r(Y,Q,re)},p=({el:G,anchor:Y})=>{let Q;for(;G&&G!==Y;)Q=v(G),a(G),G=Q;a(Y)},C=(G,Y,Q,re,ie,le,Se,fe,me)=>{Se=Se||Y.type==="svg",G==null?w(Y,Q,re,ie,le,Se,fe,me):T(G,Y,ie,le,Se,fe,me)},w=(G,Y,Q,re,ie,le,Se,fe)=>{let me,ue;const{type:ke,props:Ee,shapeFlag:Ie,transition:$e,patchFlag:je,dirs:at}=G;if(G.el&&E!==void 0&&je===-1)me=G.el=E(G.el);else{if(me=G.el=o(G.type,le,Ee&&Ee.is,Ee),Ie&8?c(me,G.children):Ie&16&&_(G.children,me,null,re,ie,le&&ke!=="foreignObject",Se,fe),at&&na(G,null,re,"created"),Ee){for(const Je in Ee)Je!=="value"&&!Ls(Je)&&i(me,Je,null,Ee[Je],le,G.children,re,ie,Z);"value"in Ee&&i(me,"value",null,Ee.value),(ue=Ee.onVnodeBeforeMount)&&Hn(ue,re,G)}k(me,G,G.scopeId,Se,re)}at&&na(G,null,re,"beforeMount");const Ze=(!ie||ie&&!ie.pendingBranch)&&$e&&!$e.persisted;Ze&&$e.beforeEnter(me),r(me,Y,Q),((ue=Ee&&Ee.onVnodeMounted)||Ze||at)&&en(()=>{ue&&Hn(ue,re,G),Ze&&$e.enter(me),at&&na(G,null,re,"mounted")},ie)},k=(G,Y,Q,re,ie)=>{if(Q&&S(G,Q),re)for(let le=0;le<re.length;le++)S(G,re[le]);if(ie){let le=ie.subTree;if(Y===le){const Se=ie.vnode;k(G,Se,Se.scopeId,Se.slotScopeIds,ie.parent)}}},_=(G,Y,Q,re,ie,le,Se,fe,me=0)=>{for(let ue=me;ue<G.length;ue++){const ke=G[ue]=fe?xr(G[ue]):qn(G[ue]);f(null,ke,Y,Q,re,ie,le,Se,fe)}},T=(G,Y,Q,re,ie,le,Se)=>{const fe=Y.el=G.el;let{patchFlag:me,dynamicChildren:ue,dirs:ke}=Y;me|=G.patchFlag&16;const Ee=G.props||dt,Ie=Y.props||dt;let $e;Q&&ra(Q,!1),($e=Ie.onVnodeBeforeUpdate)&&Hn($e,Q,Y,G),ke&&na(Y,G,Q,"beforeUpdate"),Q&&ra(Q,!0);const je=ie&&Y.type!=="foreignObject";if(ue?O(G.dynamicChildren,ue,fe,Q,re,je,le):Se||M(G,Y,fe,null,Q,re,je,le,!1),me>0){if(me&16)A(fe,Y,Ee,Ie,Q,re,ie);else if(me&2&&Ee.class!==Ie.class&&i(fe,"class",null,Ie.class,ie),me&4&&i(fe,"style",Ee.style,Ie.style,ie),me&8){const at=Y.dynamicProps;for(let Ze=0;Ze<at.length;Ze++){const Je=at[Ze],Ht=Ee[Je],ln=Ie[Je];(ln!==Ht||Je==="value")&&i(fe,Je,Ht,ln,ie,G.children,Q,re,Z)}}me&1&&G.children!==Y.children&&c(fe,Y.children)}else!Se&&ue==null&&A(fe,Y,Ee,Ie,Q,re,ie);(($e=Ie.onVnodeUpdated)||ke)&&en(()=>{$e&&Hn($e,Q,Y,G),ke&&na(Y,G,Q,"updated")},re)},O=(G,Y,Q,re,ie,le,Se)=>{for(let fe=0;fe<Y.length;fe++){const me=G[fe],ue=Y[fe],ke=me.el&&(me.type===Ce||!fa(me,ue)||me.shapeFlag&70)?d(me.el):Q;f(me,ue,ke,null,re,ie,le,Se,!0)}},A=(G,Y,Q,re,ie,le,Se)=>{if(Q!==re){for(const fe in re){if(Ls(fe))continue;const me=re[fe],ue=Q[fe];me!==ue&&fe!=="value"&&i(G,fe,ue,me,Se,Y.children,ie,le,Z)}if(Q!==dt)for(const fe in Q)!Ls(fe)&&!(fe in re)&&i(G,fe,Q[fe],null,Se,Y.children,ie,le,Z);"value"in re&&i(G,"value",Q.value,re.value)}},P=(G,Y,Q,re,ie,le,Se,fe,me)=>{const ue=Y.el=G?G.el:l(""),ke=Y.anchor=G?G.anchor:l("");let{patchFlag:Ee,dynamicChildren:Ie,slotScopeIds:$e}=Y;$e&&(fe=fe?fe.concat($e):$e),G==null?(r(ue,Q,re),r(ke,Q,re),_(Y.children,Q,ke,ie,le,Se,fe,me)):Ee>0&&Ee&64&&Ie&&G.dynamicChildren?(O(G.dynamicChildren,Ie,Q,ie,le,Se,fe),(Y.key!=null||ie&&Y===ie.subTree)&&Od(G,Y,!0)):M(G,Y,Q,ke,ie,le,Se,fe,me)},D=(G,Y,Q,re,ie,le,Se,fe,me)=>{Y.slotScopeIds=fe,G==null?Y.shapeFlag&512?ie.ctx.activate(Y,Q,re,Se,me):I(Y,Q,re,ie,le,Se,me):x(G,Y,me)},I=(G,Y,Q,re,ie,le,Se)=>{const fe=G.component=cw(G,re,ie);if(Sl(G)&&(fe.ctx.renderer=ye),dw(fe),fe.asyncDep){if(ie&&ie.registerDep(fe,L),!G.el){const me=fe.subTree=R(En);h(null,me,Y,Q)}return}L(fe,G,Y,Q,ie,le,Se)},x=(G,Y,Q)=>{const re=Y.component=G.component;if(OE(G,Y,Q))if(re.asyncDep&&!re.asyncResolved){$(re,Y,Q);return}else re.next=Y,bE(re.update),re.update();else Y.component=G.component,Y.el=G.el,re.vnode=Y},L=(G,Y,Q,re,ie,le,Se)=>{const fe=()=>{if(G.isMounted){let{next:ke,bu:Ee,u:Ie,parent:$e,vnode:je}=G,at=ke,Ze;ra(G,!1),ke?(ke.el=je.el,$(G,ke,Se)):ke=je,Ee&&Rs(Ee),(Ze=ke.props&&ke.props.onVnodeBeforeUpdate)&&Hn(Ze,$e,ke,je),ra(G,!0);const Je=iu(G),Ht=G.subTree;G.subTree=Je,f(Ht,Je,d(Ht.el),ne(Ht),G,ie,le),ke.el=Je.el,at===null&&kE(G,Je.el),Ie&&en(Ie,ie),(Ze=ke.props&&ke.props.onVnodeUpdated)&&en(()=>Hn(Ze,$e,ke,je),ie)}else{let ke;const{el:Ee,props:Ie}=Y,{bm:$e,m:je,parent:at}=G,Ze=Ws(Y);if(ra(G,!1),$e&&Rs($e),!Ze&&(ke=Ie&&Ie.onVnodeBeforeMount)&&Hn(ke,at,Y),ra(G,!0),Ee&&be){const Je=()=>{G.subTree=iu(G),be(Ee,G.subTree,G,ie,null)};Ze?Y.type.__asyncLoader().then(()=>!G.isUnmounted&&Je()):Je()}else{const Je=G.subTree=iu(G);f(null,Je,Q,re,G,ie,le),Y.el=Je.el}if(je&&en(je,ie),!Ze&&(ke=Ie&&Ie.onVnodeMounted)){const Je=Y;en(()=>Hn(ke,at,Je),ie)}Y.shapeFlag&256&&G.a&&en(G.a,ie),G.isMounted=!0,Y=Q=re=null}},me=G.effect=new dd(fe,()=>Ly(G.update),G.scope),ue=G.update=me.run.bind(me);ue.id=G.uid,ra(G,!0),ue()},$=(G,Y,Q)=>{Y.component=G;const re=G.vnode.props;G.vnode=Y,G.next=null,zE(G,Y.props,re,Q),WE(G,Y.children,Q),Ei(),Td(void 0,G.update),wi()},M=(G,Y,Q,re,ie,le,Se,fe,me=!1)=>{const ue=G&&G.children,ke=G?G.shapeFlag:0,Ee=Y.children,{patchFlag:Ie,shapeFlag:$e}=Y;if(Ie>0){if(Ie&128){F(ue,Ee,Q,re,ie,le,Se,fe,me);return}else if(Ie&256){j(ue,Ee,Q,re,ie,le,Se,fe,me);return}}$e&8?(ke&16&&Z(ue,ie,le),Ee!==ue&&c(Q,Ee)):ke&16?$e&16?F(ue,Ee,Q,re,ie,le,Se,fe,me):Z(ue,ie,le,!0):(ke&8&&c(Q,""),$e&16&&_(Ee,Q,re,ie,le,Se,fe,me))},j=(G,Y,Q,re,ie,le,Se,fe,me)=>{G=G||si,Y=Y||si;const ue=G.length,ke=Y.length,Ee=Math.min(ue,ke);let Ie;for(Ie=0;Ie<Ee;Ie++){const $e=Y[Ie]=me?xr(Y[Ie]):qn(Y[Ie]);f(G[Ie],$e,Q,null,ie,le,Se,fe,me)}ue>ke?Z(G,ie,le,!0,!1,Ee):_(Y,Q,re,ie,le,Se,fe,me,Ee)},F=(G,Y,Q,re,ie,le,Se,fe,me)=>{let ue=0;const ke=Y.length;let Ee=G.length-1,Ie=ke-1;for(;ue<=Ee&&ue<=Ie;){const $e=G[ue],je=Y[ue]=me?xr(Y[ue]):qn(Y[ue]);if(fa($e,je))f($e,je,Q,null,ie,le,Se,fe,me);else break;ue++}for(;ue<=Ee&&ue<=Ie;){const $e=G[Ee],je=Y[Ie]=me?xr(Y[Ie]):qn(Y[Ie]);if(fa($e,je))f($e,je,Q,null,ie,le,Se,fe,me);else break;Ee--,Ie--}if(ue>Ee){if(ue<=Ie){const $e=Ie+1,je=$e<ke?Y[$e].el:re;for(;ue<=Ie;)f(null,Y[ue]=me?xr(Y[ue]):qn(Y[ue]),Q,je,ie,le,Se,fe,me),ue++}}else if(ue>Ie)for(;ue<=Ee;)B(G[ue],ie,le,!0),ue++;else{const $e=ue,je=ue,at=new Map;for(ue=je;ue<=Ie;ue++){const Ct=Y[ue]=me?xr(Y[ue]):qn(Y[ue]);Ct.key!=null&&at.set(Ct.key,ue)}let Ze,Je=0;const Ht=Ie-je+1;let ln=!1,pn=0;const On=new Array(Ht);for(ue=0;ue<Ht;ue++)On[ue]=0;for(ue=$e;ue<=Ee;ue++){const Ct=G[ue];if(Je>=Ht){B(Ct,ie,le,!0);continue}let Pt;if(Ct.key!=null)Pt=at.get(Ct.key);else for(Ze=je;Ze<=Ie;Ze++)if(On[Ze-je]===0&&fa(Ct,Y[Ze])){Pt=Ze;break}Pt===void 0?B(Ct,ie,le,!0):(On[Pt-je]=ue+1,Pt>=pn?pn=Pt:ln=!0,f(Ct,Y[Pt],Q,null,ie,le,Se,fe,me),Je++)}const ir=ln?JE(On):si;for(Ze=ir.length-1,ue=Ht-1;ue>=0;ue--){const Ct=je+ue,Pt=Y[Ct],Un=Ct+1<ke?Y[Ct+1].el:re;On[ue]===0?f(null,Pt,Q,Un,ie,le,Se,fe,me):ln&&(Ze<0||ue!==ir[Ze]?U(Pt,Q,Un,2):Ze--)}}},U=(G,Y,Q,re,ie=null)=>{const{el:le,type:Se,transition:fe,children:me,shapeFlag:ue}=G;if(ue&6){U(G.component.subTree,Y,Q,re);return}if(ue&128){G.suspense.move(Y,Q,re);return}if(ue&64){Se.move(G,Y,Q,ye);return}if(Se===Ce){r(le,Y,Q);for(let Ee=0;Ee<me.length;Ee++)U(me[Ee],Y,Q,re);r(G.anchor,Y,Q);return}if(Se===xs){b(G,Y,Q);return}if(re!==2&&ue&1&&fe)if(re===0)fe.beforeEnter(le),r(le,Y,Q),en(()=>fe.enter(le),ie);else{const{leave:Ee,delayLeave:Ie,afterLeave:$e}=fe,je=()=>r(le,Y,Q),at=()=>{Ee(le,()=>{je(),$e&&$e()})};Ie?Ie(le,je,at):at()}else r(le,Y,Q)},B=(G,Y,Q,re=!1,ie=!1)=>{const{type:le,props:Se,ref:fe,children:me,dynamicChildren:ue,shapeFlag:ke,patchFlag:Ee,dirs:Ie}=G;if(fe!=null&&fc(fe,null,Q,G,!0),ke&256){Y.ctx.deactivate(G);return}const $e=ke&1&&Ie,je=!Ws(G);let at;if(je&&(at=Se&&Se.onVnodeBeforeUnmount)&&Hn(at,Y,G),ke&6)X(G.component,Q,re);else{if(ke&128){G.suspense.unmount(Q,re);return}$e&&na(G,null,Y,"beforeUnmount"),ke&64?G.type.remove(G,Y,Q,ie,ye,re):ue&&(le!==Ce||Ee>0&&Ee&64)?Z(ue,Y,Q,!1,!0):(le===Ce&&Ee&384||!ie&&ke&16)&&Z(me,Y,Q),re&&K(G)}(je&&(at=Se&&Se.onVnodeUnmounted)||$e)&&en(()=>{at&&Hn(at,Y,G),$e&&na(G,null,Y,"unmounted")},Q)},K=G=>{const{type:Y,el:Q,anchor:re,transition:ie}=G;if(Y===Ce){V(Q,re);return}if(Y===xs){p(G);return}const le=()=>{a(Q),ie&&!ie.persisted&&ie.afterLeave&&ie.afterLeave()};if(G.shapeFlag&1&&ie&&!ie.persisted){const{leave:Se,delayLeave:fe}=ie,me=()=>Se(Q,le);fe?fe(G.el,le,me):me()}else le()},V=(G,Y)=>{let Q;for(;G!==Y;)Q=v(G),a(G),G=Q;a(Y)},X=(G,Y,Q)=>{const{bum:re,scope:ie,update:le,subTree:Se,um:fe}=G;re&&Rs(re),ie.stop(),le&&(le.active=!1,B(Se,G,Y,Q)),fe&&en(fe,Y),en(()=>{G.isUnmounted=!0},Y),Y&&Y.pendingBranch&&!Y.isUnmounted&&G.asyncDep&&!G.asyncResolved&&G.suspenseId===Y.pendingId&&(Y.deps--,Y.deps===0&&Y.resolve())},Z=(G,Y,Q,re=!1,ie=!1,le=0)=>{for(let Se=le;Se<G.length;Se++)B(G[Se],Y,Q,re,ie)},ne=G=>G.shapeFlag&6?ne(G.component.subTree):G.shapeFlag&128?G.suspense.next():v(G.anchor||G.el),ae=(G,Y,Q)=>{G==null?Y._vnode&&B(Y._vnode,null,null,!0):f(Y._vnode||null,G,Y,null,null,null,Q),$y(),Y._vnode=G},ye={p:f,um:B,m:U,r:K,mt:I,mc:_,pc:M,pbc:O,n:ne,o:e};let de,be;return t&&([de,be]=t(ye)),{render:ae,hydrate:de,createApp:qE(ae,de)}}function ra({effect:e,update:t},n){e.allowRecurse=t.allowRecurse=n}function Od(e,t,n=!1){const r=e.children,a=t.children;if(Fe(r)&&Fe(a))for(let i=0;i<r.length;i++){const o=r[i];let l=a[i];l.shapeFlag&1&&!l.dynamicChildren&&((l.patchFlag<=0||l.patchFlag===32)&&(l=a[i]=xr(a[i]),l.el=o.el),n||Od(o,l))}}function JE(e){const t=e.slice(),n=[0];let r,a,i,o,l;const u=e.length;for(r=0;r<u;r++){const s=e[r];if(s!==0){if(a=n[n.length-1],e[a]<s){t[r]=a,n.push(r);continue}for(i=0,o=n.length-1;i<o;)l=i+o>>1,e[n[l]]<s?i=l+1:o=l;s<e[n[i]]&&(i>0&&(t[r]=n[i-1]),n[i]=r)}}for(i=n.length,o=n[i-1];i-- >0;)n[i]=o,o=t[o];return n}const QE=e=>e.__isTeleport,So=e=>e&&(e.disabled||e.disabled===""),Jf=e=>typeof SVGElement!="undefined"&&e instanceof SVGElement,hc=(e,t)=>{const n=e&&e.to;return wt(n)?t?t(n):null:n},ew={__isTeleport:!0,process(e,t,n,r,a,i,o,l,u,s){const{mc:c,pc:d,pbc:v,o:{insert:S,querySelector:E,createText:m,createComment:f}}=s,g=So(t.props);let{shapeFlag:h,children:y,dynamicChildren:b}=t;if(e==null){const p=t.el=m(""),C=t.anchor=m("");S(p,n,r),S(C,n,r);const w=t.target=hc(t.props,E),k=t.targetAnchor=m("");w&&(S(k,w),o=o||Jf(w));const _=(T,O)=>{h&16&&c(y,T,O,a,i,o,l,u)};g?_(n,C):w&&_(w,k)}else{t.el=e.el;const p=t.anchor=e.anchor,C=t.target=e.target,w=t.targetAnchor=e.targetAnchor,k=So(e.props),_=k?n:C,T=k?p:w;if(o=o||Jf(C),b?(v(e.dynamicChildren,b,_,a,i,o,l),Od(e,t,!0)):u||d(e,t,_,T,a,i,o,l,!1),g)k||Qo(t,n,p,s,1);else if((t.props&&t.props.to)!==(e.props&&e.props.to)){const O=t.target=hc(t.props,E);O&&Qo(t,O,null,s,0)}else k&&Qo(t,C,w,s,1)}},remove(e,t,n,r,{um:a,o:{remove:i}},o){const{shapeFlag:l,children:u,anchor:s,targetAnchor:c,target:d,props:v}=e;if(d&&i(c),(o||!So(v))&&(i(s),l&16))for(let S=0;S<u.length;S++){const E=u[S];a(E,t,n,!0,!!E.dynamicChildren)}},move:Qo,hydrate:tw};function Qo(e,t,n,{o:{insert:r},m:a},i=2){i===0&&r(e.targetAnchor,t,n);const{el:o,anchor:l,shapeFlag:u,children:s,props:c}=e,d=i===2;if(d&&r(o,t,n),(!d||So(c))&&u&16)for(let v=0;v<s.length;v++)a(s[v],t,n,2);d&&r(l,t,n)}function tw(e,t,n,r,a,i,{o:{nextSibling:o,parentNode:l,querySelector:u}},s){const c=t.target=hc(t.props,u);if(c){const d=c._lpa||c.firstChild;t.shapeFlag&16&&(So(t.props)?(t.anchor=s(o(e),t,l(e),n,r,a,i),t.targetAnchor=d):(t.anchor=o(e),t.targetAnchor=s(d,t,c,n,r,a,i)),c._lpa=t.targetAnchor&&o(t.targetAnchor))}return t.anchor&&o(t.anchor)}const No=ew,kd="components",nw="directives";function ge(e,t){return _d(kd,e,!0,t)||e}const Jy=Symbol();function jo(e){return wt(e)?_d(kd,e,!1)||e:e||Jy}function rw(e){return _d(nw,e)}function _d(e,t,n=!0,r=!1){const a=Yt||Bt;if(a){const i=a.type;if(e===kd){const l=vw(i);if(l&&(l===t||l===er(t)||l===hl(er(t))))return i}const o=Qf(a[e]||i[e],t)||Qf(a.appContext[e],t);return!o&&r?i:o}}function Qf(e,t){return e&&(e[t]||e[er(t)]||e[hl(er(t))])}const Ce=Symbol(void 0),Ad=Symbol(void 0),En=Symbol(void 0),xs=Symbol(void 0),To=[];let ya=null;function H(e=!1){To.push(ya=e?null:[])}function aw(){To.pop(),ya=To[To.length-1]||null}let qs=1;function eh(e){qs+=e}function Qy(e){return e.dynamicChildren=qs>0?ya||si:null,aw(),qs>0&&ya&&ya.push(e),e}function W(e,t,n,r,a,i){return Qy(J(e,t,n,r,a,i,!0))}function Oe(e,t,n,r,a){return Qy(R(e,t,n,r,a,!0))}function fi(e){return e?e.__v_isVNode===!0:!1}function fa(e,t){return e.type===t.type&&e.key===t.key}const Cl="__vInternal",e0=({key:e})=>e!=null?e:null,$s=({ref:e,ref_key:t,ref_for:n})=>e!=null?wt(e)||At(e)||Ve(e)?{i:Yt,r:e,k:t,f:!!n}:e:null;function J(e,t=null,n=null,r=0,a=null,i=e===Ce?0:1,o=!1,l=!1){const u={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&e0(t),ref:t&&$s(t),scopeId:pl,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:i,patchFlag:r,dynamicProps:a,dynamicChildren:null,appContext:null};return l?(Dd(u,n),i&128&&e.normalize(u)):n&&(u.shapeFlag|=wt(n)?8:16),qs>0&&!o&&ya&&(u.patchFlag>0||i&6)&&u.patchFlag!==32&&ya.push(u),u}const R=iw;function iw(e,t=null,n=null,r=0,a=null,i=!1){if((!e||e===Jy)&&(e=En),fi(e)){const l=Sa(e,t,!0);return n&&Dd(l,n),l}if(mw(e)&&(e=e.__vccOpts),t){t=t0(t);let{class:l,style:u}=t;l&&!wt(l)&&(t.class=z(l)),Dt(u)&&(_y(u)&&!Fe(u)&&(u=Wt({},u)),t.style=De(u))}const o=wt(e)?1:_E(e)?128:QE(e)?64:Dt(e)?4:Ve(e)?2:0;return J(e,t,n,r,a,o,i,!0)}function t0(e){return e?_y(e)||Cl in e?Wt({},e):e:null}function Sa(e,t,n=!1){const{props:r,ref:a,patchFlag:i,children:o}=e,l=t?Ye(r||{},t):r;return{__v_isVNode:!0,__v_skip:!0,type:e.type,props:l,key:l&&e0(l),ref:t&&t.ref?n&&a?Fe(a)?a.concat($s(t)):[a,$s(t)]:$s(t):a,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:o,target:e.target,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==Ce?i===-1?16:i|16:i,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:e.transition,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&Sa(e.ssContent),ssFallback:e.ssFallback&&Sa(e.ssFallback),el:e.el,anchor:e.anchor}}function nt(e=" ",t=0){return R(Ad,null,e,t)}function se(e="",t=!1){return t?(H(),Oe(En,null,e)):R(En,null,e)}function qn(e){return e==null||typeof e=="boolean"?R(En):Fe(e)?R(Ce,null,e.slice()):typeof e=="object"?xr(e):R(Ad,null,String(e))}function xr(e){return e.el===null||e.memo?e:Sa(e)}function Dd(e,t){let n=0;const{shapeFlag:r}=e;if(t==null)t=null;else if(Fe(t))n=16;else if(typeof t=="object")if(r&65){const a=t.default;a&&(a._c&&(a._d=!1),Dd(e,a()),a._c&&(a._d=!0));return}else{n=32;const a=t._;!a&&!(Cl in t)?t._ctx=Yt:a===3&&Yt&&(Yt.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else Ve(t)?(t={default:t,_ctx:Yt},n=32):(t=String(t),r&64?(n=16,t=[nt(t)]):n=8);e.children=t,e.shapeFlag|=n}function Ye(...e){const t={};for(let n=0;n<e.length;n++){const r=e[n];for(const a in r)if(a==="class")t.class!==r.class&&(t.class=z([t.class,r.class]));else if(a==="style")t.style=De([t.style,r.style]);else if(cl(a)){const i=t[a],o=r[a];o&&i!==o&&!(Fe(i)&&i.includes(o))&&(t[a]=i?[].concat(i,o):o)}else a!==""&&(t[a]=r[a])}return t}function Hn(e,t,n,r=null){Cn(e,t,7,[n,r])}function Ne(e,t,n,r){let a;const i=n&&n[r];if(Fe(e)||wt(e)){a=new Array(e.length);for(let o=0,l=e.length;o<l;o++)a[o]=t(e[o],o,void 0,i&&i[o])}else if(typeof e=="number"){a=new Array(e);for(let o=0;o<e;o++)a[o]=t(o+1,o,void 0,i&&i[o])}else if(Dt(e))if(e[Symbol.iterator])a=Array.from(e,(o,l)=>t(o,l,void 0,i&&i[l]));else{const o=Object.keys(e);a=new Array(o.length);for(let l=0,u=o.length;l<u;l++){const s=o[l];a[l]=t(e[s],s,l,i&&i[l])}}else a=[];return n&&(n[r]=a),a}function ow(e,t){for(let n=0;n<t.length;n++){const r=t[n];if(Fe(r))for(let a=0;a<r.length;a++)e[r[a].name]=r[a].fn;else r&&(e[r.name]=r.fn)}return e}function qe(e,t,n={},r,a){if(Yt.isCE||Yt.parent&&Ws(Yt.parent)&&Yt.parent.isCE)return R("slot",t==="default"?null:{name:t},r&&r());let i=e[t];i&&i._c&&(i._d=!1),H();const o=i&&n0(i(n)),l=Oe(Ce,{key:n.key||`_${t}`},o||(r?r():[]),o&&e._===1?64:-2);return!a&&l.scopeId&&(l.slotScopeIds=[l.scopeId+"-s"]),i&&i._c&&(i._d=!0),l}function n0(e){return e.some(t=>fi(t)?!(t.type===En||t.type===Ce&&!n0(t.children)):!0)?e:null}const vc=e=>e?r0(e)?El(e)||e.proxy:vc(e.parent):null,Xs=Wt(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>vc(e.parent),$root:e=>vc(e.root),$emit:e=>e.emit,$options:e=>Gy(e),$forceUpdate:e=>()=>Ly(e.update),$nextTick:e=>Re.bind(e.proxy),$watch:e=>PE.bind(e)}),sw={get({_:e},t){const{ctx:n,setupState:r,data:a,props:i,accessCache:o,type:l,appContext:u}=e;let s;if(t[0]!=="$"){const S=o[t];if(S!==void 0)switch(S){case 1:return r[t];case 2:return a[t];case 4:return n[t];case 3:return i[t]}else{if(r!==dt&&Qe(r,t))return o[t]=1,r[t];if(a!==dt&&Qe(a,t))return o[t]=2,a[t];if((s=e.propsOptions[0])&&Qe(s,t))return o[t]=3,i[t];if(n!==dt&&Qe(n,t))return o[t]=4,n[t];uc&&(o[t]=0)}}const c=Xs[t];let d,v;if(c)return t==="$attrs"&&mn(e,"get",t),c(e);if((d=l.__cssModules)&&(d=d[t]))return d;if(n!==dt&&Qe(n,t))return o[t]=4,n[t];if(v=u.config.globalProperties,Qe(v,t))return v[t]},set({_:e},t,n){const{data:r,setupState:a,ctx:i}=e;return a!==dt&&Qe(a,t)?(a[t]=n,!0):r!==dt&&Qe(r,t)?(r[t]=n,!0):Qe(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(i[t]=n,!0)},has({_:{data:e,setupState:t,accessCache:n,ctx:r,appContext:a,propsOptions:i}},o){let l;return!!n[o]||e!==dt&&Qe(e,o)||t!==dt&&Qe(t,o)||(l=i[0])&&Qe(l,o)||Qe(r,o)||Qe(Xs,o)||Qe(a.config.globalProperties,o)},defineProperty(e,t,n){return n.get!=null?e._.accessCache[t]=0:Qe(n,"value")&&this.set(e,t,n.value,null),Reflect.defineProperty(e,t,n)}},lw=Zy();let uw=0;function cw(e,t,n){const r=e.type,a=(t?t.appContext:e.appContext)||lw,i={uid:uw++,vnode:e,type:r,parent:t,appContext:a,root:null,next:null,subTree:null,effect:null,update:null,scope:new LC(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(a.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Wy(r,a),emitsOptions:Fy(r,a),emit:null,emitted:null,propsDefaults:dt,inheritAttrs:r.inheritAttrs,ctx:dt,data:dt,props:dt,attrs:dt,slots:dt,refs:dt,setupState:dt,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return i.ctx={_:i},i.root=t?t.root:i,i.emit=CE.bind(null,i),e.ce&&e.ce(i),i}let Bt=null;const Be=()=>Bt||Yt,hi=e=>{Bt=e,e.scope.on()},ba=()=>{Bt&&Bt.scope.off(),Bt=null};function r0(e){return e.vnode.shapeFlag&4}let Lo=!1;function dw(e,t=!1){Lo=t;const{props:n,children:r}=e.vnode,a=r0(e);HE(e,n,a,t),KE(e,r);const i=a?fw(e,t):void 0;return Lo=!1,i}function fw(e,t){const n=e.type;e.accessCache=Object.create(null),e.proxy=Ay(new Proxy(e.ctx,sw));const{setup:r}=n;if(r){const a=e.setupContext=r.length>1?i0(e):null;hi(e),Ei();const i=Br(r,e,0,[e.props,a]);if(wi(),ba(),hy(i)){if(i.then(ba,ba),t)return i.then(o=>{th(e,o,t)}).catch(o=>{ml(o,e,0)});e.asyncDep=i}else th(e,i,t)}else a0(e,t)}function th(e,t,n){Ve(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:Dt(t)&&(e.setupState=Py(t)),a0(e,n)}let nh;function a0(e,t,n){const r=e.type;if(!e.render){if(!t&&nh&&!r.render){const a=r.template;if(a){const{isCustomElement:i,compilerOptions:o}=e.appContext.config,{delimiters:l,compilerOptions:u}=r,s=Wt(Wt({isCustomElement:i,delimiters:l},o),u);r.render=nh(a,s)}}e.render=r.render||xn}hi(e),Ei(),BE(e),wi(),ba()}function hw(e){return new Proxy(e.attrs,{get(t,n){return mn(e,"get","$attrs"),t[n]}})}function i0(e){const t=r=>{e.exposed=r||{}};let n;return{get attrs(){return n||(n=hw(e))},slots:e.slots,emit:e.emit,expose:t}}function El(e){if(e.exposed)return e.exposeProxy||(e.exposeProxy=new Proxy(Py(Ay(e.exposed)),{get(t,n){if(n in t)return t[n];if(n in Xs)return Xs[n](e)}}))}function vw(e){return Ve(e)&&e.displayName||e.name}function mw(e){return Ve(e)&&"__vccOpts"in e}const N=(e,t)=>gE(e,t,Lo);function gw(){return pw().attrs}function pw(){const e=Be();return e.setupContext||(e.setupContext=i0(e))}function yt(e,t,n){const r=arguments.length;return r===2?Dt(t)&&!Fe(t)?fi(t)?R(e,null,[t]):R(e,t):R(e,null,t):(r>3?n=Array.prototype.slice.call(arguments,2):r===3&&fi(n)&&(n=[n]),R(e,t,n))}const yw="3.2.33",bw="http://www.w3.org/2000/svg",ha=typeof document!="undefined"?document:null,rh=ha&&ha.createElement("template"),Sw={insert:(e,t,n)=>{t.insertBefore(e,n||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,n,r)=>{const a=t?ha.createElementNS(bw,e):ha.createElement(e,n?{is:n}:void 0);return e==="select"&&r&&r.multiple!=null&&a.setAttribute("multiple",r.multiple),a},createText:e=>ha.createTextNode(e),createComment:e=>ha.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>ha.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},cloneNode(e){const t=e.cloneNode(!0);return"_value"in e&&(t._value=e._value),t},insertStaticContent(e,t,n,r,a,i){const o=n?n.previousSibling:t.lastChild;if(a&&(a===i||a.nextSibling))for(;t.insertBefore(a.cloneNode(!0),n),!(a===i||!(a=a.nextSibling)););else{rh.innerHTML=r?`<svg>${e}</svg>`:e;const l=rh.content;if(r){const u=l.firstChild;for(;u.firstChild;)l.appendChild(u.firstChild);l.removeChild(u)}t.insertBefore(l,n)}return[o?o.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}};function Tw(e,t,n){const r=e._vtc;r&&(t=(t?[t,...r]:[...r]).join(" ")),t==null?e.removeAttribute("class"):n?e.setAttribute("class",t):e.className=t}function Cw(e,t,n){const r=e.style,a=wt(n);if(n&&!a){for(const i in n)mc(r,i,n[i]);if(t&&!wt(t))for(const i in t)n[i]==null&&mc(r,i,"")}else{const i=r.display;a?t!==n&&(r.cssText=n):t&&e.removeAttribute("style"),"_vod"in e&&(r.display=i)}}const ah=/\s*!important$/;function mc(e,t,n){if(Fe(n))n.forEach(r=>mc(e,t,r));else if(n==null&&(n=""),t.startsWith("--"))e.setProperty(t,n);else{const r=Ew(e,t);ah.test(n)?e.setProperty(Ca(r),n.replace(ah,""),"important"):e[r]=n}}const ih=["Webkit","Moz","ms"],su={};function Ew(e,t){const n=su[t];if(n)return n;let r=er(t);if(r!=="filter"&&r in e)return su[t]=r;r=hl(r);for(let a=0;a<ih.length;a++){const i=ih[a]+r;if(i in e)return su[t]=i}return t}const oh="http://www.w3.org/1999/xlink";function ww(e,t,n,r,a){if(r&&t.startsWith("xlink:"))n==null?e.removeAttributeNS(oh,t.slice(6,t.length)):e.setAttributeNS(oh,t,n);else{const i=SC(t);n==null||i&&!cy(n)?e.removeAttribute(t):e.setAttribute(t,i?"":n)}}function Ow(e,t,n,r,a,i,o){if(t==="innerHTML"||t==="textContent"){r&&o(r,a,i),e[t]=n==null?"":n;return}if(t==="value"&&e.tagName!=="PROGRESS"&&!e.tagName.includes("-")){e._value=n;const u=n==null?"":n;(e.value!==u||e.tagName==="OPTION")&&(e.value=u),n==null&&e.removeAttribute(t);return}let l=!1;if(n===""||n==null){const u=typeof e[t];u==="boolean"?n=cy(n):n==null&&u==="string"?(n="",l=!0):u==="number"&&(n=0,l=!0)}try{e[t]=n}catch{}l&&e.removeAttribute(t)}const[o0,kw]=(()=>{let e=Date.now,t=!1;if(typeof window!="undefined"){Date.now()>document.createEvent("Event").timeStamp&&(e=()=>performance.now());const n=navigator.userAgent.match(/firefox\/(\d+)/i);t=!!(n&&Number(n[1])<=53)}return[e,t]})();let gc=0;const _w=Promise.resolve(),Aw=()=>{gc=0},Dw=()=>gc||(_w.then(Aw),gc=o0());function ei(e,t,n,r){e.addEventListener(t,n,r)}function Pw(e,t,n,r){e.removeEventListener(t,n,r)}function Iw(e,t,n,r,a=null){const i=e._vei||(e._vei={}),o=i[t];if(r&&o)o.value=r;else{const[l,u]=Lw(t);if(r){const s=i[t]=Rw(r,a);ei(e,l,s,u)}else o&&(Pw(e,l,o,u),i[t]=void 0)}}const sh=/(?:Once|Passive|Capture)$/;function Lw(e){let t;if(sh.test(e)){t={};let n;for(;n=e.match(sh);)e=e.slice(0,e.length-n[0].length),t[n[0].toLowerCase()]=!0}return[Ca(e.slice(2)),t]}function Rw(e,t){const n=r=>{const a=r.timeStamp||o0();(kw||a>=n.attached-1)&&Cn(xw(r,n.value),t,5,[r])};return n.value=e,n.attached=Dw(),n}function xw(e,t){if(Fe(t)){const n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},t.map(r=>a=>!a._stopped&&r&&r(a))}else return t}const lh=/^on[a-z]/,$w=(e,t,n,r,a=!1,i,o,l,u)=>{t==="class"?Tw(e,r,a):t==="style"?Cw(e,n,r):cl(t)?od(t)||Iw(e,t,n,r,o):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):Mw(e,t,r,a))?Ow(e,t,r,i,o,l,u):(t==="true-value"?e._trueValue=r:t==="false-value"&&(e._falseValue=r),ww(e,t,r,a))};function Mw(e,t,n,r){return r?!!(t==="innerHTML"||t==="textContent"||t in e&&lh.test(t)&&Ve(n)):t==="spellcheck"||t==="draggable"||t==="translate"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA"||lh.test(t)&&wt(n)?!1:t in e}function Pd(e){const t=Be();if(!t)return;const n=()=>pc(t.subTree,e(t.proxy));DE(n),tt(()=>{const r=new MutationObserver(n);r.observe(t.subTree.el.parentNode,{childList:!0}),Mn(()=>r.disconnect())})}function pc(e,t){if(e.shapeFlag&128){const n=e.suspense;e=n.activeBranch,n.pendingBranch&&!n.isHydrating&&n.effects.push(()=>{pc(n.activeBranch,t)})}for(;e.component;)e=e.component.subTree;if(e.shapeFlag&1&&e.el)uh(e.el,t);else if(e.type===Ce)e.children.forEach(n=>pc(n,t));else if(e.type===xs){let{el:n,anchor:r}=e;for(;n&&(uh(n,t),n!==r);)n=n.nextSibling}}function uh(e,t){if(e.nodeType===1){const n=e.style;for(const r in t)n.setProperty(`--${r}`,t[r])}}const Tr="transition",Bi="animation",gn=(e,{slots:t})=>yt(Ny,Fw(e),t);gn.displayName="Transition";const s0={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String};gn.props=Wt({},Ny.props,s0);const aa=(e,t=[])=>{Fe(e)?e.forEach(n=>n(...t)):e&&e(...t)},ch=e=>e?Fe(e)?e.some(t=>t.length>1):e.length>1:!1;function Fw(e){const t={};for(const A in e)A in s0||(t[A]=e[A]);if(e.css===!1)return t;const{name:n="v",type:r,duration:a,enterFromClass:i=`${n}-enter-from`,enterActiveClass:o=`${n}-enter-active`,enterToClass:l=`${n}-enter-to`,appearFromClass:u=i,appearActiveClass:s=o,appearToClass:c=l,leaveFromClass:d=`${n}-leave-from`,leaveActiveClass:v=`${n}-leave-active`,leaveToClass:S=`${n}-leave-to`}=e,E=Bw(a),m=E&&E[0],f=E&&E[1],{onBeforeEnter:g,onEnter:h,onEnterCancelled:y,onLeave:b,onLeaveCancelled:p,onBeforeAppear:C=g,onAppear:w=h,onAppearCancelled:k=y}=t,_=(A,P,D)=>{Ia(A,P?c:l),Ia(A,P?s:o),D&&D()},T=(A,P)=>{Ia(A,S),Ia(A,v),P&&P()},O=A=>(P,D)=>{const I=A?w:h,x=()=>_(P,A,D);aa(I,[P,x]),dh(()=>{Ia(P,A?u:i),Cr(P,A?c:l),ch(I)||fh(P,r,m,x)})};return Wt(t,{onBeforeEnter(A){aa(g,[A]),Cr(A,i),Cr(A,o)},onBeforeAppear(A){aa(C,[A]),Cr(A,u),Cr(A,s)},onEnter:O(!1),onAppear:O(!0),onLeave(A,P){const D=()=>T(A,P);Cr(A,d),Uw(),Cr(A,v),dh(()=>{Ia(A,d),Cr(A,S),ch(b)||fh(A,r,f,D)}),aa(b,[A,D])},onEnterCancelled(A){_(A,!1),aa(y,[A])},onAppearCancelled(A){_(A,!0),aa(k,[A])},onLeaveCancelled(A){T(A),aa(p,[A])}})}function Bw(e){if(e==null)return null;if(Dt(e))return[lu(e.enter),lu(e.leave)];{const t=lu(e);return[t,t]}}function lu(e){return zs(e)}function Cr(e,t){t.split(/\s+/).forEach(n=>n&&e.classList.add(n)),(e._vtc||(e._vtc=new Set)).add(t)}function Ia(e,t){t.split(/\s+/).forEach(r=>r&&e.classList.remove(r));const{_vtc:n}=e;n&&(n.delete(t),n.size||(e._vtc=void 0))}function dh(e){requestAnimationFrame(()=>{requestAnimationFrame(e)})}let Nw=0;function fh(e,t,n,r){const a=e._endId=++Nw,i=()=>{a===e._endId&&r()};if(n)return setTimeout(i,n);const{type:o,timeout:l,propCount:u}=jw(e,t);if(!o)return r();const s=o+"end";let c=0;const d=()=>{e.removeEventListener(s,v),i()},v=S=>{S.target===e&&++c>=u&&d()};setTimeout(()=>{c<u&&d()},l+1),e.addEventListener(s,v)}function jw(e,t){const n=window.getComputedStyle(e),r=E=>(n[E]||"").split(", "),a=r(Tr+"Delay"),i=r(Tr+"Duration"),o=hh(a,i),l=r(Bi+"Delay"),u=r(Bi+"Duration"),s=hh(l,u);let c=null,d=0,v=0;t===Tr?o>0&&(c=Tr,d=o,v=i.length):t===Bi?s>0&&(c=Bi,d=s,v=u.length):(d=Math.max(o,s),c=d>0?o>s?Tr:Bi:null,v=c?c===Tr?i.length:u.length:0);const S=c===Tr&&/\b(transform|all)(,|$)/.test(n[Tr+"Property"]);return{type:c,timeout:d,propCount:v,hasTransform:S}}function hh(e,t){for(;e.length<t.length;)e=e.concat(e);return Math.max(...t.map((n,r)=>vh(n)+vh(e[r])))}function vh(e){return Number(e.slice(0,-1).replace(",","."))*1e3}function Uw(){return document.body.offsetHeight}const mh=e=>{const t=e.props["onUpdate:modelValue"];return Fe(t)?n=>Rs(t,n):t};function Vw(e){e.target.composing=!0}function gh(e){const t=e.target;t.composing&&(t.composing=!1,Hw(t,"input"))}function Hw(e,t){const n=document.createEvent("HTMLEvents");n.initEvent(t,!0,!0),e.dispatchEvent(n)}const l0={created(e,{modifiers:{lazy:t,trim:n,number:r}},a){e._assign=mh(a);const i=r||a.props&&a.props.type==="number";ei(e,t?"change":"input",o=>{if(o.target.composing)return;let l=e.value;n?l=l.trim():i&&(l=zs(l)),e._assign(l)}),n&&ei(e,"change",()=>{e.value=e.value.trim()}),t||(ei(e,"compositionstart",Vw),ei(e,"compositionend",gh),ei(e,"change",gh))},mounted(e,{value:t}){e.value=t==null?"":t},beforeUpdate(e,{value:t,modifiers:{lazy:n,trim:r,number:a}},i){if(e._assign=mh(i),e.composing||document.activeElement===e&&(n||r&&e.value.trim()===t||(a||e.type==="number")&&zs(e.value)===t))return;const o=t==null?"":t;e.value!==o&&(e.value=o)}},zw=["ctrl","shift","alt","meta"],Gw={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>zw.some(n=>e[`${n}Key`]&&!t.includes(n))},Xn=(e,t)=>(n,...r)=>{for(let a=0;a<t.length;a++){const i=Gw[t[a]];if(i&&i(n,t))return}return e(n,...r)},Kw={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},ti=(e,t)=>n=>{if(!("key"in n))return;const r=Ca(n.key);if(t.some(a=>a===r||Kw[a]===r))return e(n)},Xe={beforeMount(e,{value:t},{transition:n}){e._vod=e.style.display==="none"?"":e.style.display,n&&t?n.beforeEnter(e):Ni(e,t)},mounted(e,{value:t},{transition:n}){n&&t&&n.enter(e)},updated(e,{value:t,oldValue:n},{transition:r}){!t!=!n&&(r?t?(r.beforeEnter(e),Ni(e,!0),r.enter(e)):r.leave(e,()=>{Ni(e,!1)}):Ni(e,t))},beforeUnmount(e,{value:t}){Ni(e,t)}};function Ni(e,t){e.style.display=t?e._vod:"none"}const Ww=Wt({patchProp:$w},Sw);let ph;function Yw(){return ph||(ph=XE(Ww))}const Uo=(...e)=>{const t=Yw().createApp(...e),{mount:n}=t;return t.mount=r=>{const a=qw(r);if(!a)return;const i=t._component;!Ve(i)&&!i.render&&!i.template&&(i.template=a.innerHTML),a.innerHTML="";const o=n(a,!1,a instanceof SVGElement);return a instanceof Element&&(a.removeAttribute("v-cloak"),a.setAttribute("data-v-app","")),o},t};function qw(e){return wt(e)?document.querySelector(e):e}function Xw(){return u0().__VUE_DEVTOOLS_GLOBAL_HOOK__}function u0(){return typeof navigator!="undefined"&&typeof window!="undefined"?window:typeof global!="undefined"?global:{}}const Zw=typeof Proxy=="function",Jw="devtools-plugin:setup",Qw="plugin:settings:set";let La,yc;function eO(){var e;return La!==void 0||(typeof window!="undefined"&&window.performance?(La=!0,yc=window.performance):typeof global!="undefined"&&((e=global.perf_hooks)===null||e===void 0?void 0:e.performance)?(La=!0,yc=global.perf_hooks.performance):La=!1),La}function tO(){return eO()?yc.now():Date.now()}class nO{constructor(t,n){this.target=null,this.targetQueue=[],this.onQueue=[],this.plugin=t,this.hook=n;const r={};if(t.settings)for(const o in t.settings){const l=t.settings[o];r[o]=l.defaultValue}const a=`__vue-devtools-plugin-settings__${t.id}`;let i=Object.assign({},r);try{const o=localStorage.getItem(a),l=JSON.parse(o);Object.assign(i,l)}catch{}this.fallbacks={getSettings(){return i},setSettings(o){try{localStorage.setItem(a,JSON.stringify(o))}catch{}i=o},now(){return tO()}},n&&n.on(Qw,(o,l)=>{o===this.plugin.id&&this.fallbacks.setSettings(l)}),this.proxiedOn=new Proxy({},{get:(o,l)=>this.target?this.target.on[l]:(...u)=>{this.onQueue.push({method:l,args:u})}}),this.proxiedTarget=new Proxy({},{get:(o,l)=>this.target?this.target[l]:l==="on"?this.proxiedOn:Object.keys(this.fallbacks).includes(l)?(...u)=>(this.targetQueue.push({method:l,args:u,resolve:()=>{}}),this.fallbacks[l](...u)):(...u)=>new Promise(s=>{this.targetQueue.push({method:l,args:u,resolve:s})})})}async setRealTarget(t){this.target=t;for(const n of this.onQueue)this.target.on[n.method](...n.args);for(const n of this.targetQueue)n.resolve(await this.target[n.method](...n.args))}}function rO(e,t){const n=e,r=u0(),a=Xw(),i=Zw&&n.enableEarlyProxy;if(a&&(r.__VUE_DEVTOOLS_PLUGIN_API_AVAILABLE__||!i))a.emit(Jw,e,t);else{const o=i?new nO(n,a):null;(r.__VUE_DEVTOOLS_PLUGINS__=r.__VUE_DEVTOOLS_PLUGINS__||[]).push({pluginDescriptor:n,setupFn:t,proxy:o}),o&&t(o.proxiedTarget)}}/*!
 * vuex v4.0.2
 * (c) 2021 Evan You
 * @license MIT
 */var c0="store";function d0(e){return e===void 0&&(e=null),et(e!==null?e:c0)}function Oi(e,t){Object.keys(e).forEach(function(n){return t(e[n],n)})}function aO(e){return e!==null&&typeof e=="object"}function iO(e){return e&&typeof e.then=="function"}function oO(e,t){return function(){return e(t)}}function f0(e,t,n){return t.indexOf(e)<0&&(n&&n.prepend?t.unshift(e):t.push(e)),function(){var r=t.indexOf(e);r>-1&&t.splice(r,1)}}function h0(e,t){e._actions=Object.create(null),e._mutations=Object.create(null),e._wrappedGetters=Object.create(null),e._modulesNamespaceMap=Object.create(null);var n=e.state;wl(e,n,[],e._modules.root,!0),Id(e,n,t)}function Id(e,t,n){var r=e._state;e.getters={},e._makeLocalGettersCache=Object.create(null);var a=e._wrappedGetters,i={};Oi(a,function(o,l){i[l]=oO(o,e),Object.defineProperty(e.getters,l,{get:function(){return i[l]()},enumerable:!0})}),e._state=Me({data:t}),e.strict&&dO(e),r&&n&&e._withCommit(function(){r.data=null})}function wl(e,t,n,r,a){var i=!n.length,o=e._modules.getNamespace(n);if(r.namespaced&&(e._modulesNamespaceMap[o],e._modulesNamespaceMap[o]=r),!i&&!a){var l=Ld(t,n.slice(0,-1)),u=n[n.length-1];e._withCommit(function(){l[u]=r.state})}var s=r.context=sO(e,o,n);r.forEachMutation(function(c,d){var v=o+d;lO(e,v,c,s)}),r.forEachAction(function(c,d){var v=c.root?d:o+d,S=c.handler||c;uO(e,v,S,s)}),r.forEachGetter(function(c,d){var v=o+d;cO(e,v,c,s)}),r.forEachChild(function(c,d){wl(e,t,n.concat(d),c,a)})}function sO(e,t,n){var r=t==="",a={dispatch:r?e.dispatch:function(i,o,l){var u=Zs(i,o,l),s=u.payload,c=u.options,d=u.type;return(!c||!c.root)&&(d=t+d),e.dispatch(d,s)},commit:r?e.commit:function(i,o,l){var u=Zs(i,o,l),s=u.payload,c=u.options,d=u.type;(!c||!c.root)&&(d=t+d),e.commit(d,s,c)}};return Object.defineProperties(a,{getters:{get:r?function(){return e.getters}:function(){return v0(e,t)}},state:{get:function(){return Ld(e.state,n)}}}),a}function v0(e,t){if(!e._makeLocalGettersCache[t]){var n={},r=t.length;Object.keys(e.getters).forEach(function(a){if(a.slice(0,r)===t){var i=a.slice(r);Object.defineProperty(n,i,{get:function(){return e.getters[a]},enumerable:!0})}}),e._makeLocalGettersCache[t]=n}return e._makeLocalGettersCache[t]}function lO(e,t,n,r){var a=e._mutations[t]||(e._mutations[t]=[]);a.push(function(o){n.call(e,r.state,o)})}function uO(e,t,n,r){var a=e._actions[t]||(e._actions[t]=[]);a.push(function(o){var l=n.call(e,{dispatch:r.dispatch,commit:r.commit,getters:r.getters,state:r.state,rootGetters:e.getters,rootState:e.state},o);return iO(l)||(l=Promise.resolve(l)),e._devtoolHook?l.catch(function(u){throw e._devtoolHook.emit("vuex:error",u),u}):l})}function cO(e,t,n,r){e._wrappedGetters[t]||(e._wrappedGetters[t]=function(i){return n(r.state,r.getters,i.state,i.getters)})}function dO(e){oe(function(){return e._state.data},function(){},{deep:!0,flush:"sync"})}function Ld(e,t){return t.reduce(function(n,r){return n[r]},e)}function Zs(e,t,n){return aO(e)&&e.type&&(n=t,t=e,e=e.type),{type:e,payload:t,options:n}}var fO="vuex bindings",yh="vuex:mutations",uu="vuex:actions",Ra="vuex",hO=0;function vO(e,t){rO({id:"org.vuejs.vuex",app:e,label:"Vuex",homepage:"https://next.vuex.vuejs.org/",logo:"https://vuejs.org/images/icons/favicon-96x96.png",packageName:"vuex",componentStateTypes:[fO]},function(n){n.addTimelineLayer({id:yh,label:"Vuex Mutations",color:bh}),n.addTimelineLayer({id:uu,label:"Vuex Actions",color:bh}),n.addInspector({id:Ra,label:"Vuex",icon:"storage",treeFilterPlaceholder:"Filter stores..."}),n.on.getInspectorTree(function(r){if(r.app===e&&r.inspectorId===Ra)if(r.filter){var a=[];y0(a,t._modules.root,r.filter,""),r.rootNodes=a}else r.rootNodes=[p0(t._modules.root,"")]}),n.on.getInspectorState(function(r){if(r.app===e&&r.inspectorId===Ra){var a=r.nodeId;v0(t,a),r.state=pO(bO(t._modules,a),a==="root"?t.getters:t._makeLocalGettersCache,a)}}),n.on.editInspectorState(function(r){if(r.app===e&&r.inspectorId===Ra){var a=r.nodeId,i=r.path;a!=="root"&&(i=a.split("/").filter(Boolean).concat(i)),t._withCommit(function(){r.set(t._state.data,i,r.state.value)})}}),t.subscribe(function(r,a){var i={};r.payload&&(i.payload=r.payload),i.state=a,n.notifyComponentUpdate(),n.sendInspectorTree(Ra),n.sendInspectorState(Ra),n.addTimelineEvent({layerId:yh,event:{time:Date.now(),title:r.type,data:i}})}),t.subscribeAction({before:function(r,a){var i={};r.payload&&(i.payload=r.payload),r._id=hO++,r._time=Date.now(),i.state=a,n.addTimelineEvent({layerId:uu,event:{time:r._time,title:r.type,groupId:r._id,subtitle:"start",data:i}})},after:function(r,a){var i={},o=Date.now()-r._time;i.duration={_custom:{type:"duration",display:o+"ms",tooltip:"Action duration",value:o}},r.payload&&(i.payload=r.payload),i.state=a,n.addTimelineEvent({layerId:uu,event:{time:Date.now(),title:r.type,groupId:r._id,subtitle:"end",data:i}})}})})}var bh=8702998,mO=6710886,gO=16777215,m0={label:"namespaced",textColor:gO,backgroundColor:mO};function g0(e){return e&&e!=="root"?e.split("/").slice(-2,-1)[0]:"Root"}function p0(e,t){return{id:t||"root",label:g0(t),tags:e.namespaced?[m0]:[],children:Object.keys(e._children).map(function(n){return p0(e._children[n],t+n+"/")})}}function y0(e,t,n,r){r.includes(n)&&e.push({id:r||"root",label:r.endsWith("/")?r.slice(0,r.length-1):r||"Root",tags:t.namespaced?[m0]:[]}),Object.keys(t._children).forEach(function(a){y0(e,t._children[a],n,r+a+"/")})}function pO(e,t,n){t=n==="root"?t:t[n];var r=Object.keys(t),a={state:Object.keys(e.state).map(function(o){return{key:o,editable:!0,value:e.state[o]}})};if(r.length){var i=yO(t);a.getters=Object.keys(i).map(function(o){return{key:o.endsWith("/")?g0(o):o,editable:!1,value:bc(function(){return i[o]})}})}return a}function yO(e){var t={};return Object.keys(e).forEach(function(n){var r=n.split("/");if(r.length>1){var a=t,i=r.pop();r.forEach(function(o){a[o]||(a[o]={_custom:{value:{},display:o,tooltip:"Module",abstract:!0}}),a=a[o]._custom.value}),a[i]=bc(function(){return e[n]})}else t[n]=bc(function(){return e[n]})}),t}function bO(e,t){var n=t.split("/").filter(function(r){return r});return n.reduce(function(r,a,i){var o=r[a];if(!o)throw new Error('Missing module "'+a+'" for path "'+t+'".');return i===n.length-1?o:o._children},t==="root"?e:e.root._children)}function bc(e){try{return e()}catch(t){return t}}var Fn=function(t,n){this.runtime=n,this._children=Object.create(null),this._rawModule=t;var r=t.state;this.state=(typeof r=="function"?r():r)||{}},b0={namespaced:{configurable:!0}};b0.namespaced.get=function(){return!!this._rawModule.namespaced};Fn.prototype.addChild=function(t,n){this._children[t]=n};Fn.prototype.removeChild=function(t){delete this._children[t]};Fn.prototype.getChild=function(t){return this._children[t]};Fn.prototype.hasChild=function(t){return t in this._children};Fn.prototype.update=function(t){this._rawModule.namespaced=t.namespaced,t.actions&&(this._rawModule.actions=t.actions),t.mutations&&(this._rawModule.mutations=t.mutations),t.getters&&(this._rawModule.getters=t.getters)};Fn.prototype.forEachChild=function(t){Oi(this._children,t)};Fn.prototype.forEachGetter=function(t){this._rawModule.getters&&Oi(this._rawModule.getters,t)};Fn.prototype.forEachAction=function(t){this._rawModule.actions&&Oi(this._rawModule.actions,t)};Fn.prototype.forEachMutation=function(t){this._rawModule.mutations&&Oi(this._rawModule.mutations,t)};Object.defineProperties(Fn.prototype,b0);var wa=function(t){this.register([],t,!1)};wa.prototype.get=function(t){return t.reduce(function(n,r){return n.getChild(r)},this.root)};wa.prototype.getNamespace=function(t){var n=this.root;return t.reduce(function(r,a){return n=n.getChild(a),r+(n.namespaced?a+"/":"")},"")};wa.prototype.update=function(t){S0([],this.root,t)};wa.prototype.register=function(t,n,r){var a=this;r===void 0&&(r=!0);var i=new Fn(n,r);if(t.length===0)this.root=i;else{var o=this.get(t.slice(0,-1));o.addChild(t[t.length-1],i)}n.modules&&Oi(n.modules,function(l,u){a.register(t.concat(u),l,r)})};wa.prototype.unregister=function(t){var n=this.get(t.slice(0,-1)),r=t[t.length-1],a=n.getChild(r);!a||!a.runtime||n.removeChild(r)};wa.prototype.isRegistered=function(t){var n=this.get(t.slice(0,-1)),r=t[t.length-1];return n?n.hasChild(r):!1};function S0(e,t,n){if(t.update(n),n.modules)for(var r in n.modules){if(!t.getChild(r))return;S0(e.concat(r),t.getChild(r),n.modules[r])}}function SO(e){return new on(e)}var on=function(t){var n=this;t===void 0&&(t={});var r=t.plugins;r===void 0&&(r=[]);var a=t.strict;a===void 0&&(a=!1);var i=t.devtools;this._committing=!1,this._actions=Object.create(null),this._actionSubscribers=[],this._mutations=Object.create(null),this._wrappedGetters=Object.create(null),this._modules=new wa(t),this._modulesNamespaceMap=Object.create(null),this._subscribers=[],this._makeLocalGettersCache=Object.create(null),this._devtools=i;var o=this,l=this,u=l.dispatch,s=l.commit;this.dispatch=function(v,S){return u.call(o,v,S)},this.commit=function(v,S,E){return s.call(o,v,S,E)},this.strict=a;var c=this._modules.root.state;wl(this,c,[],this._modules.root),Id(this,c),r.forEach(function(d){return d(n)})},Rd={state:{configurable:!0}};on.prototype.install=function(t,n){t.provide(n||c0,this),t.config.globalProperties.$store=this;var r=this._devtools!==void 0?this._devtools:!1;r&&vO(t,this)};Rd.state.get=function(){return this._state.data};Rd.state.set=function(e){};on.prototype.commit=function(t,n,r){var a=this,i=Zs(t,n,r),o=i.type,l=i.payload,u={type:o,payload:l},s=this._mutations[o];!s||(this._withCommit(function(){s.forEach(function(d){d(l)})}),this._subscribers.slice().forEach(function(c){return c(u,a.state)}))};on.prototype.dispatch=function(t,n){var r=this,a=Zs(t,n),i=a.type,o=a.payload,l={type:i,payload:o},u=this._actions[i];if(!!u){try{this._actionSubscribers.slice().filter(function(c){return c.before}).forEach(function(c){return c.before(l,r.state)})}catch{}var s=u.length>1?Promise.all(u.map(function(c){return c(o)})):u[0](o);return new Promise(function(c,d){s.then(function(v){try{r._actionSubscribers.filter(function(S){return S.after}).forEach(function(S){return S.after(l,r.state)})}catch{}c(v)},function(v){try{r._actionSubscribers.filter(function(S){return S.error}).forEach(function(S){return S.error(l,r.state,v)})}catch{}d(v)})})}};on.prototype.subscribe=function(t,n){return f0(t,this._subscribers,n)};on.prototype.subscribeAction=function(t,n){var r=typeof t=="function"?{before:t}:t;return f0(r,this._actionSubscribers,n)};on.prototype.watch=function(t,n,r){var a=this;return oe(function(){return t(a.state,a.getters)},n,Object.assign({},r))};on.prototype.replaceState=function(t){var n=this;this._withCommit(function(){n._state.data=t})};on.prototype.registerModule=function(t,n,r){r===void 0&&(r={}),typeof t=="string"&&(t=[t]),this._modules.register(t,n),wl(this,this.state,t,this._modules.get(t),r.preserveState),Id(this,this.state)};on.prototype.unregisterModule=function(t){var n=this;typeof t=="string"&&(t=[t]),this._modules.unregister(t),this._withCommit(function(){var r=Ld(n.state,t.slice(0,-1));delete r[t[t.length-1]]}),h0(this)};on.prototype.hasModule=function(t){return typeof t=="string"&&(t=[t]),this._modules.isRegistered(t)};on.prototype.hotUpdate=function(t){this._modules.update(t),h0(this,!0)};on.prototype._withCommit=function(t){var n=this._committing;this._committing=!0,t(),this._committing=n};Object.defineProperties(on.prototype,Rd);const TO={id:"footer"},CO={setup(e){let t=d0(),n=q([{text:"\u9996\u9875",path:"/home",role:"all"},{text:"\u7F51\u76D8",path:"/wp",role:"all"},{text:"\u75AB\u60C5",path:"/hospital_list",role:"all"},{text:"\u529F\u80FD",path:"/func_list",role:"all"},{text:"\u6211\u7684",path:"/mine",role:"all"},{text:"\u5B57\u5178\u8868",path:"/diction_list",role:"111"},{text:"\u7559\u8A00",path:"/leaveList",role:"111"}]),r=Me(JSON.parse(localStorage.getItem("user")));return tt(()=>{console.log(t.state.footer,n)}),(a,i)=>{const o=ge("router-link"),l=ge("router-view");return H(),W(Ce,null,[Ke(J("ul",TO,[(H(!0),W(Ce,null,Ne(he(n),(u,s)=>(H(),W("li",{key:s},[he(r)&&he(r).username==u.role||u.role=="all"?(H(),Oe(o,{key:0,to:u.path},{default:Ue(()=>[nt(Ae(u.text),1)]),_:2},1032,["to"])):se("",!0)]))),128))],512),[[Xe,he(t).state.footer]]),R(l)],64)}}};function te(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function bt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Sh(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Th(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Sh(Object(n),!0).forEach(function(r){bt(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Sh(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function EO(e){var t=["fillOpacity","fillRule","clipRule"];return t.includes(e)?e.replace(/([a-z0-9]|(?=[A-Z]))([A-Z])/g,"$1-$2").toLowerCase():e}function St(e,t){var n=Object.keys(e.attrs).reduce((r,a)=>(r[EO(a)]=e.attrs[a],r),{});return yt(e.tag,Th(Th({},n),t),(e.children||[]).map(r=>St(r,{})))}var wO="t",OO="zh-CN",kO={classPrefix:wO,locale:OO};function _O(){var{classPrefix:e}=kO;return{SIZE:{default:"",xs:"".concat(e,"-size-xs"),small:"".concat(e,"-size-s"),middle:"".concat(e,"-size-m"),large:"".concat(e,"-size-l"),xl:"".concat(e,"-size-xl"),block:"".concat(e,"-size-full-width")},STATUS:{loading:"".concat(e,"-is-loading"),disabled:"".concat(e,"-is-disabled"),focused:"".concat(e,"-is-focused"),success:"".concat(e,"-is-success"),error:"".concat(e,"-is-error"),warning:"".concat(e,"-is-warning"),selected:"".concat(e,"-is-selected"),active:"".concat(e,"-is-active"),checked:"".concat(e,"-is-checked"),current:"".concat(e,"-is-current"),hidden:"".concat(e,"-is-hidden"),visible:"".concat(e,"-is-visible"),expanded:"".concat(e,"-is-expanded"),indeterminate:"".concat(e,"-is-indeterminate")}}}function Ot(e){var t=_O().SIZE,n=N(()=>e.value in t?t[e.value]:""),r=N(()=>e.value===void 0||e.value in t?{}:{fontSize:e.value});return{style:r,className:n}}function Ch(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Eh(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Ch(Object(n),!0).forEach(function(r){bt(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ch(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var AO={tag:"svg",attrs:{fill:"none",viewBox:"0 0 16 16",width:"1em",height:"1em"},children:[{tag:"path",attrs:{fill:"currentColor",d:"M7.35 8.65v3.85h1.3V8.65h3.85v-1.3H8.65V3.5h-1.3v3.85H3.5v1.3h3.85z",fillOpacity:.9}}]},T0=ee({name:"AddIcon",props:{size:{type:String},onClick:{type:Function}},setup(e,t){var{attrs:n}=t,r=N(()=>e.size),{className:a,style:i}=Ot(r),o=N(()=>["t-icon","t-icon-add",a.value]),l=N(()=>Eh(Eh({},i.value),n.style)),u=N(()=>({class:o.value,style:l.value,onClick:s=>{var c;return(c=e.onClick)===null||c===void 0?void 0:c.call(e,{e:s})}}));return()=>St(AO,u.value)}});function wh(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Oh(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?wh(Object(n),!0).forEach(function(r){bt(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):wh(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var DO={tag:"svg",attrs:{fill:"none",viewBox:"0 0 16 16",width:"1em",height:"1em"},children:[{tag:"path",attrs:{fill:"currentColor",d:"M2 3h12V2H2v1zM3.38 10.23l4.1-4.03v8.64H8.5V6.2l4.18 4.08.71-.7-5.05-4.93a.5.5 0 00-.7 0l-4.98 4.9.72.69z",fillOpacity:.9}}]},PO=ee({name:"BacktopIcon",props:{size:{type:String},onClick:{type:Function}},setup(e,t){var{attrs:n}=t,r=N(()=>e.size),{className:a,style:i}=Ot(r),o=N(()=>["t-icon","t-icon-backtop",a.value]),l=N(()=>Oh(Oh({},i.value),n.style)),u=N(()=>({class:o.value,style:l.value,onClick:s=>{var c;return(c=e.onClick)===null||c===void 0?void 0:c.call(e,{e:s})}}));return()=>St(DO,u.value)}});function kh(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function _h(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?kh(Object(n),!0).forEach(function(r){bt(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):kh(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var IO={tag:"svg",attrs:{fill:"none",viewBox:"0 0 16 16",width:"1em",height:"1em"},children:[{tag:"path",attrs:{fill:"currentColor",d:"M8 15A7 7 0 108 1a7 7 0 000 14zM4.5 8.2l.7-.7L7 9.3l3.8-3.8.7.7L7 10.7 4.5 8.2z",fillOpacity:.9}}]},xd=ee({name:"CheckCircleFilledIcon",props:{size:{type:String},onClick:{type:Function}},setup(e,t){var{attrs:n}=t,r=N(()=>e.size),{className:a,style:i}=Ot(r),o=N(()=>["t-icon","t-icon-check-circle-filled",a.value]),l=N(()=>_h(_h({},i.value),n.style)),u=N(()=>({class:o.value,style:l.value,onClick:s=>{var c;return(c=e.onClick)===null||c===void 0?void 0:c.call(e,{e:s})}}));return()=>St(IO,u.value)}});function Ah(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Dh(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Ah(Object(n),!0).forEach(function(r){bt(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ah(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var LO={tag:"svg",attrs:{fill:"none",viewBox:"0 0 16 16",width:"1em",height:"1em"},children:[{tag:"path",attrs:{fill:"currentColor",d:"M4.5 8.2L7 10.7l4.5-4.5-.7-.7L7 9.3 5.2 7.5l-.7.7z",fillOpacity:.9}},{tag:"path",attrs:{fill:"currentColor",d:"M4.11 2.18a7 7 0 117.78 11.64A7 7 0 014.1 2.18zm.56 10.8a6 6 0 106.66-9.97A6 6 0 004.67 13z",fillOpacity:.9}}]},RO=ee({name:"CheckCircleIcon",props:{size:{type:String},onClick:{type:Function}},setup(e,t){var{attrs:n}=t,r=N(()=>e.size),{className:a,style:i}=Ot(r),o=N(()=>["t-icon","t-icon-check-circle",a.value]),l=N(()=>Dh(Dh({},i.value),n.style)),u=N(()=>({class:o.value,style:l.value,onClick:s=>{var c;return(c=e.onClick)===null||c===void 0?void 0:c.call(e,{e:s})}}));return()=>St(LO,u.value)}});function Ph(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Ih(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Ph(Object(n),!0).forEach(function(r){bt(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ph(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var xO={tag:"svg",attrs:{fill:"none",viewBox:"0 0 16 16",width:"1em",height:"1em"},children:[{tag:"path",attrs:{fill:"currentColor",d:"M6.43 9.92l6.23-6.22.92.92-7.15 7.14L1.97 7.3l.92-.92 3.54 3.54z",fillOpacity:.9}}]},$d=ee({name:"CheckIcon",props:{size:{type:String},onClick:{type:Function}},setup(e,t){var{attrs:n}=t,r=N(()=>e.size),{className:a,style:i}=Ot(r),o=N(()=>["t-icon","t-icon-check",a.value]),l=N(()=>Ih(Ih({},i.value),n.style)),u=N(()=>({class:o.value,style:l.value,onClick:s=>{var c;return(c=e.onClick)===null||c===void 0?void 0:c.call(e,{e:s})}}));return()=>St(xO,u.value)}});function Lh(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Rh(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Lh(Object(n),!0).forEach(function(r){bt(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Lh(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var $O={tag:"svg",attrs:{fill:"none",viewBox:"0 0 16 16",width:"1em",height:"1em"},children:[{tag:"path",attrs:{fill:"currentColor",d:"M3.54 6.46l.92-.92L8 9.08l3.54-3.54.92.92L8 10.92 3.54 6.46z",fillOpacity:.9}}]},xh=ee({name:"ChevronDownIcon",props:{size:{type:String},onClick:{type:Function}},setup(e,t){var{attrs:n}=t,r=N(()=>e.size),{className:a,style:i}=Ot(r),o=N(()=>["t-icon","t-icon-chevron-down",a.value]),l=N(()=>Rh(Rh({},i.value),n.style)),u=N(()=>({class:o.value,style:l.value,onClick:s=>{var c;return(c=e.onClick)===null||c===void 0?void 0:c.call(e,{e:s})}}));return()=>St($O,u.value)}});function $h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Mh(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?$h(Object(n),!0).forEach(function(r){bt(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$h(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var MO={tag:"svg",attrs:{fill:"none",viewBox:"0 0 16 16",width:"1em",height:"1em"},children:[{tag:"path",attrs:{fill:"currentColor",d:"M9.54 3.54l.92.92L6.92 8l3.54 3.54-.92.92L5.08 8l4.46-4.46z",fillOpacity:.9}}]},C0=ee({name:"ChevronLeftIcon",props:{size:{type:String},onClick:{type:Function}},setup(e,t){var{attrs:n}=t,r=N(()=>e.size),{className:a,style:i}=Ot(r),o=N(()=>["t-icon","t-icon-chevron-left",a.value]),l=N(()=>Mh(Mh({},i.value),n.style)),u=N(()=>({class:o.value,style:l.value,onClick:s=>{var c;return(c=e.onClick)===null||c===void 0?void 0:c.call(e,{e:s})}}));return()=>St(MO,u.value)}});function Fh(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Bh(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Fh(Object(n),!0).forEach(function(r){bt(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Fh(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var FO={tag:"svg",attrs:{fill:"none",viewBox:"0 0 16 16",width:"1em",height:"1em"},children:[{tag:"path",attrs:{fill:"currentColor",d:"M6.46 12.46l-.92-.92L9.08 8 5.54 4.46l.92-.92L10.92 8l-4.46 4.46z",fillOpacity:.9}}]},E0=ee({name:"ChevronRightIcon",props:{size:{type:String},onClick:{type:Function}},setup(e,t){var{attrs:n}=t,r=N(()=>e.size),{className:a,style:i}=Ot(r),o=N(()=>["t-icon","t-icon-chevron-right",a.value]),l=N(()=>Bh(Bh({},i.value),n.style)),u=N(()=>({class:o.value,style:l.value,onClick:s=>{var c;return(c=e.onClick)===null||c===void 0?void 0:c.call(e,{e:s})}}));return()=>St(FO,u.value)}});function Nh(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function jh(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Nh(Object(n),!0).forEach(function(r){bt(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Nh(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var BO={tag:"svg",attrs:{fill:"none",viewBox:"0 0 16 16",width:"1em",height:"1em"},children:[{tag:"path",attrs:{fill:"currentColor",d:"M12.46 9.54l-.92.92L8 6.92l-3.54 3.54-.92-.92L8 5.08l4.46 4.46z",fillOpacity:.9}}]},Uh=ee({name:"ChevronUpIcon",props:{size:{type:String},onClick:{type:Function}},setup(e,t){var{attrs:n}=t,r=N(()=>e.size),{className:a,style:i}=Ot(r),o=N(()=>["t-icon","t-icon-chevron-up",a.value]),l=N(()=>jh(jh({},i.value),n.style)),u=N(()=>({class:o.value,style:l.value,onClick:s=>{var c;return(c=e.onClick)===null||c===void 0?void 0:c.call(e,{e:s})}}));return()=>St(BO,u.value)}});function Vh(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Hh(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Vh(Object(n),!0).forEach(function(r){bt(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Vh(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var NO={tag:"svg",attrs:{fill:"none",viewBox:"0 0 16 16",width:"1em",height:"1em"},children:[{tag:"path",attrs:{fill:"currentColor",d:"M8 1a7 7 0 110 14A7 7 0 018 1zm0 1a6 6 0 100 12A6 6 0 008 2z",opacity:.9,fillOpacity:.9}}]},w0=ee({name:"CircleIcon",props:{size:{type:String},onClick:{type:Function}},setup(e,t){var{attrs:n}=t,r=N(()=>e.size),{className:a,style:i}=Ot(r),o=N(()=>["t-icon","t-icon-circle",a.value]),l=N(()=>Hh(Hh({},i.value),n.style)),u=N(()=>({class:o.value,style:l.value,onClick:s=>{var c;return(c=e.onClick)===null||c===void 0?void 0:c.call(e,{e:s})}}));return()=>St(NO,u.value)}});function zh(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Gh(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?zh(Object(n),!0).forEach(function(r){bt(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):zh(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var jO={tag:"svg",attrs:{fill:"none",viewBox:"0 0 16 16",width:"1em",height:"1em"},children:[{tag:"path",attrs:{fill:"currentColor",d:"M15 8A7 7 0 101 8a7 7 0 0014 0zM5.67 4.95L8 7.29l2.33-2.34.7.7L8.7 8l2.34 2.35-.71.7L8 8.71l-2.33 2.34-.7-.7L7.3 8 4.96 5.65l.71-.7z",fillOpacity:.9}}]},O0=ee({name:"CloseCircleFilledIcon",props:{size:{type:String},onClick:{type:Function}},setup(e,t){var{attrs:n}=t,r=N(()=>e.size),{className:a,style:i}=Ot(r),o=N(()=>["t-icon","t-icon-close-circle-filled",a.value]),l=N(()=>Gh(Gh({},i.value),n.style)),u=N(()=>({class:o.value,style:l.value,onClick:s=>{var c;return(c=e.onClick)===null||c===void 0?void 0:c.call(e,{e:s})}}));return()=>St(jO,u.value)}});function Kh(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Wh(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Kh(Object(n),!0).forEach(function(r){bt(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Kh(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var UO={tag:"svg",attrs:{fill:"none",viewBox:"0 0 16 16",width:"1em",height:"1em"},children:[{tag:"path",attrs:{fill:"currentColor",d:"M8 8.92L11.08 12l.92-.92L8.92 8 12 4.92 11.08 4 8 7.08 4.92 4 4 4.92 7.08 8 4 11.08l.92.92L8 8.92z",fillOpacity:.9}}]},ki=ee({name:"CloseIcon",props:{size:{type:String},onClick:{type:Function}},setup(e,t){var{attrs:n}=t,r=N(()=>e.size),{className:a,style:i}=Ot(r),o=N(()=>["t-icon","t-icon-close",a.value]),l=N(()=>Wh(Wh({},i.value),n.style)),u=N(()=>({class:o.value,style:l.value,onClick:s=>{var c;return(c=e.onClick)===null||c===void 0?void 0:c.call(e,{e:s})}}));return()=>St(UO,u.value)}});function Yh(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function qh(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Yh(Object(n),!0).forEach(function(r){bt(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Yh(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var VO={tag:"svg",attrs:{fill:"none",viewBox:"0 0 16 16",width:"1em",height:"1em"},children:[{tag:"path",attrs:{fill:"currentColor",d:"M3 9a1 1 0 110-2 1 1 0 010 2zM7 8a1 1 0 102 0 1 1 0 00-2 0zM12 8a1 1 0 102 0 1 1 0 00-2 0z",fillOpacity:.9}}]},HO=ee({name:"EllipsisIcon",props:{size:{type:String},onClick:{type:Function}},setup(e,t){var{attrs:n}=t,r=N(()=>e.size),{className:a,style:i}=Ot(r),o=N(()=>["t-icon","t-icon-ellipsis",a.value]),l=N(()=>qh(qh({},i.value),n.style)),u=N(()=>({class:o.value,style:l.value,onClick:s=>{var c;return(c=e.onClick)===null||c===void 0?void 0:c.call(e,{e:s})}}));return()=>St(VO,u.value)}});function Xh(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Zh(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Xh(Object(n),!0).forEach(function(r){bt(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Xh(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var zO={tag:"svg",attrs:{fill:"none",viewBox:"0 0 16 16",width:"1em",height:"1em"},children:[{tag:"path",attrs:{fill:"currentColor",d:"M15 8A7 7 0 101 8a7 7 0 0014 0zM8.5 4v5.5h-1V4h1zm-1.1 7h1.2v1.2H7.4V11z",fillOpacity:.9}}]},GO=ee({name:"ErrorCircleFilledIcon",props:{size:{type:String},onClick:{type:Function}},setup(e,t){var{attrs:n}=t,r=N(()=>e.size),{className:a,style:i}=Ot(r),o=N(()=>["t-icon","t-icon-error-circle-filled",a.value]),l=N(()=>Zh(Zh({},i.value),n.style)),u=N(()=>({class:o.value,style:l.value,onClick:s=>{var c;return(c=e.onClick)===null||c===void 0?void 0:c.call(e,{e:s})}}));return()=>St(zO,u.value)}});function Jh(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Qh(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Jh(Object(n),!0).forEach(function(r){bt(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Jh(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var KO={tag:"svg",attrs:{fill:"none",viewBox:"0 0 16 16",width:"1em",height:"1em"},children:[{tag:"path",attrs:{fill:"currentColor",d:"M8.5 4v5.5h-1V4h1zM8.6 10.5H7.4v1.2h1.2v-1.2z",fillOpacity:.9}},{tag:"path",attrs:{fill:"currentColor",d:"M15 8A7 7 0 101 8a7 7 0 0014 0zm-1 0A6 6 0 112 8a6 6 0 0112 0z",fillOpacity:.9}}]},WO=ee({name:"ErrorCircleIcon",props:{size:{type:String},onClick:{type:Function}},setup(e,t){var{attrs:n}=t,r=N(()=>e.size),{className:a,style:i}=Ot(r),o=N(()=>["t-icon","t-icon-error-circle",a.value]),l=N(()=>Qh(Qh({},i.value),n.style)),u=N(()=>({class:o.value,style:l.value,onClick:s=>{var c;return(c=e.onClick)===null||c===void 0?void 0:c.call(e,{e:s})}}));return()=>St(KO,u.value)}});function ev(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function tv(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ev(Object(n),!0).forEach(function(r){bt(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ev(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var YO={tag:"svg",attrs:{fill:"none",viewBox:"0 0 16 16",width:"1em",height:"1em"},children:[{tag:"path",attrs:{fill:"currentColor",d:"M8 1.5a6.5 6.5 0 000 13v-1.63A4.87 4.87 0 1112.88 8h1.62A6.5 6.5 0 008 1.5z",fillOpacity:.9}}]},k0=ee({name:"LoadingIcon",props:{size:{type:String},onClick:{type:Function}},setup(e,t){var{attrs:n}=t,r=N(()=>e.size),{className:a,style:i}=Ot(r),o=N(()=>["t-icon","t-icon-loading",a.value]),l=N(()=>tv(tv({},i.value),n.style)),u=N(()=>({class:o.value,style:l.value,onClick:s=>{var c;return(c=e.onClick)===null||c===void 0?void 0:c.call(e,{e:s})}}));return()=>St(YO,u.value)}});function nv(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function rv(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?nv(Object(n),!0).forEach(function(r){bt(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):nv(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var qO={tag:"svg",attrs:{fill:"none",viewBox:"0 0 16 16",width:"1em",height:"1em"},children:[{tag:"path",attrs:{fill:"currentColor",d:"M8 15A7 7 0 108 1a7 7 0 000 14zm3.5-6.5h-7v-1h7v1z",fillOpacity:.9,fillRule:"evenodd",clipRule:"evenodd"}}]},XO=ee({name:"MinusCircleFilledIcon",props:{size:{type:String},onClick:{type:Function}},setup(e,t){var{attrs:n}=t,r=N(()=>e.size),{className:a,style:i}=Ot(r),o=N(()=>["t-icon","t-icon-minus-circle-filled",a.value]),l=N(()=>rv(rv({},i.value),n.style)),u=N(()=>({class:o.value,style:l.value,onClick:s=>{var c;return(c=e.onClick)===null||c===void 0?void 0:c.call(e,{e:s})}}));return()=>St(qO,u.value)}});function av(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function iv(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?av(Object(n),!0).forEach(function(r){bt(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):av(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var ZO={tag:"svg",attrs:{fill:"none",viewBox:"0 0 16 16",width:"1em",height:"1em"},children:[{tag:"path",attrs:{fill:"currentColor",d:"M8 2.71c2.9 0 5.25 2.36 5.25 5.29h.96a6.2 6.2 0 00-11.5-3.28V2.64h-.96v3.1c0 .29.22.5.5.5h3.09v-.96H3.49A5.25 5.25 0 018 2.71zM1.79 8h.96a5.25 5.25 0 009.76 2.71h-1.85v-.96h3.09c.28 0 .5.22.5.5v3.1h-.96v-2.07A6.2 6.2 0 011.8 8z",fillOpacity:.9}}]},JO=ee({name:"RefreshIcon",props:{size:{type:String},onClick:{type:Function}},setup(e,t){var{attrs:n}=t,r=N(()=>e.size),{className:a,style:i}=Ot(r),o=N(()=>["t-icon","t-icon-refresh",a.value]),l=N(()=>iv(iv({},i.value),n.style)),u=N(()=>({class:o.value,style:l.value,onClick:s=>{var c;return(c=e.onClick)===null||c===void 0?void 0:c.call(e,{e:s})}}));return()=>St(ZO,u.value)}});function ov(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function sv(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ov(Object(n),!0).forEach(function(r){bt(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ov(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var QO={tag:"svg",attrs:{fill:"none",viewBox:"0 0 16 16",width:"1em",height:"1em"},children:[{tag:"path",attrs:{fill:"currentColor",d:"M9.51 10.22a4.76 4.76 0 11.7-.7l3.54 3.52-.7.71-3.54-3.53zm.77-3.7a3.76 3.76 0 10-7.53 0 3.76 3.76 0 007.53 0z",fillOpacity:.9}}]},ek=ee({name:"SearchIcon",props:{size:{type:String},onClick:{type:Function}},setup(e,t){var{attrs:n}=t,r=N(()=>e.size),{className:a,style:i}=Ot(r),o=N(()=>["t-icon","t-icon-search",a.value]),l=N(()=>sv(sv({},i.value),n.style)),u=N(()=>({class:o.value,style:l.value,onClick:s=>{var c;return(c=e.onClick)===null||c===void 0?void 0:c.call(e,{e:s})}}));return()=>St(QO,u.value)}});function lv(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function uv(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?lv(Object(n),!0).forEach(function(r){bt(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):lv(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var tk={tag:"svg",attrs:{fill:"none",viewBox:"0 0 16 16",width:"1em",height:"1em"},children:[{tag:"path",attrs:{fill:"currentColor",d:"M7.73 1.55a.3.3 0 01.54 0l1.94 3.92 4.32.62a.3.3 0 01.17.52l-3.13 3.05.74 4.3a.3.3 0 01-.44.32L8 12.25l-3.87 2.03a.3.3 0 01-.43-.31l.73-4.31L1.3 6.6a.3.3 0 01.17-.52l4.33-.62 1.93-3.92z",fillOpacity:.9}}]},cv=ee({name:"StarFilledIcon",props:{size:{type:String},onClick:{type:Function}},setup(e,t){var{attrs:n}=t,r=N(()=>e.size),{className:a,style:i}=Ot(r),o=N(()=>["t-icon","t-icon-star-filled",a.value]),l=N(()=>uv(uv({},i.value),n.style)),u=N(()=>({class:o.value,style:l.value,onClick:s=>{var c;return(c=e.onClick)===null||c===void 0?void 0:c.call(e,{e:s})}}));return()=>St(tk,u.value)}});function dv(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function fv(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?dv(Object(n),!0).forEach(function(r){bt(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):dv(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var nk={tag:"svg",attrs:{fill:"none",viewBox:"0 0 16 16",width:"1em",height:"1em"},children:[{tag:"path",attrs:{fill:"currentColor",d:"M9.54 6.38L8 3.26 6.46 6.38l-3.44.5L5.5 9.31l-.59 3.43L8 11.12l3.08 1.62-.59-3.43L13 6.88l-3.45-.5zm5-.29a.3.3 0 01.16.52l-3.13 3.05.74 4.3a.3.3 0 01-.44.32L8 12.25l-3.87 2.03a.3.3 0 01-.43-.31l.73-4.31L1.3 6.6a.3.3 0 01.17-.52l4.33-.62 1.93-3.92a.3.3 0 01.54 0l1.94 3.92 4.32.62z",fillOpacity:.9}}]},hv=ee({name:"StarIcon",props:{size:{type:String},onClick:{type:Function}},setup(e,t){var{attrs:n}=t,r=N(()=>e.size),{className:a,style:i}=Ot(r),o=N(()=>["t-icon","t-icon-star",a.value]),l=N(()=>fv(fv({},i.value),n.style)),u=N(()=>({class:o.value,style:l.value,onClick:s=>{var c;return(c=e.onClick)===null||c===void 0?void 0:c.call(e,{e:s})}}));return()=>St(nk,u.value)}});/**
 * tdesign v0.8.4
 * (c) 2022 TDesign Group
 * @license MIT
 */var Js=function(){};/**
 * tdesign v0.8.4
 * (c) 2022 TDesign Group
 * @license MIT
 */function rk(e){return Array.isArray(e)}function vv(e){return Object.prototype.toString.call(e)==="[object Number]"}function mv(e){return e===null?!1:Object.prototype.toString.call(e)==="[object Object]"}function ji(e){return Object.prototype.toString.call(e)==="[object Function]"}function _0(e,t){var n=typeof t=="number";if(!e||e.length===0)return n?{length:0,characters:e}:0;for(var r=0,a=0;a<e.length;a++){var i=0;if(e.charCodeAt(a)>127||e.charCodeAt(a)===94?i=2:i=1,n&&r+i>t)return{length:r,characters:e.slice(0,a)};r+=i}return n?{length:r,characters:e}:r}/**
 * tdesign v0.8.4
 * (c) 2022 TDesign Group
 * @license MIT
 */var Le=function(t){var n=t;return n.install=function(r,a){var i=n.name;r.component(a||i,t)},n};function A0(e){var t=Be();t&&Object.assign(t.proxy,e)}/**
 * tdesign v0.8.4
 * (c) 2022 TDesign Group
 * @license MIT
 */var _e={prefix:"t"};/**
 * tdesign v0.8.4
 * (c) 2022 TDesign Group
 * @license MIT
 */var _t=_e.prefix,ak={small:"".concat(_t,"-size-s"),medium:"".concat(_t,"-size-m"),large:"".concat(_t,"-size-l"),default:"",xs:"".concat(_t,"-size-xs"),xl:"".concat(_t,"-size-xl"),block:"".concat(_t,"-size-full-width")},ik={loading:"".concat(_t,"-is-loading"),disabled:"".concat(_t,"-is-disabled"),focused:"".concat(_t,"-is-focused"),success:"".concat(_t,"-is-success"),error:"".concat(_t,"-is-error"),warning:"".concat(_t,"-is-warning"),selected:"".concat(_t,"-is-selected"),active:"".concat(_t,"-is-active"),checked:"".concat(_t,"-is-checked"),current:"".concat(_t,"-is-current"),hidden:"".concat(_t,"-is-hidden"),visible:"".concat(_t,"-is-visible"),expanded:"".concat(_t,"-is-expanded"),indeterminate:"".concat(_t,"-is-indeterminate")},$t={SIZE:ak,STATUS:ik};function jt(e){return jt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},jt(e)}/**
 * tdesign v0.8.4
 * (c) 2022 TDesign Group
 * @license MIT
 */var Ge=function(t,n,r){var a;if(t===null)return yt("",null);var i=jt(r)==="object"&&"params"in r?r.params:null,o=jt(r)==="object"&&"defaultNode"in r?r.defaultNode:r,l;if(n in t.props&&(l=t.props[n]),t.slots[n]){var u;return(u=t.slots[n])===null||u===void 0?void 0:u.call(i)}if(l===!0&&o){var s;return t.slots[n]?(s=t.slots[n])===null||s===void 0?void 0:s.call(i):o}if(typeof l=="function")return l(yt,i);var c=[void 0,i,""].includes(l);return c&&t.slots[n]?(a=t.slots[n])===null||a===void 0?void 0:a.call(i):l},qt=function(t,n,r,a){if(t===null)return yt("",null);var i=jt(a)==="object"&&"params"in a?a.params:null,o=jt(a)==="object"&&"defaultNode"in a?a.defaultNode:a,l=i?{params:i}:void 0,u=Ge(t,n,l),s=Ge(t,r,l),c=[void 0,null,""].includes(u)?s:u;return[void 0,null,""].includes(c)?o:c};/**
 * tdesign v0.8.4
 * (c) 2022 TDesign Group
 * @license MIT
 */var ut=function(t){return t.content};ut.props=["content"];/**
 * tdesign v0.8.4
 * (c) 2022 TDesign Group
 * @license MIT
 */function D0(e,t){var n=e||[!0,!1],r=q();t===void 0?r=q(n[1]):At(t)?r=t:r=q(t);var a=function(o){o!==void 0?r.value=o:r.value=r.value===n[1]?n[0]:n[1]};return{state:r,toggle:a}}function gv(e,t,n,r,a,i,o){try{var l=e[i](o),u=l.value}catch(s){n(s);return}l.done?t(u):Promise.resolve(u).then(r,a)}function Md(e){return function(){var t=this,n=arguments;return new Promise(function(r,a){var i=e.apply(t,n);function o(u){gv(i,r,a,o,l,"next",u)}function l(u){gv(i,r,a,o,l,"throw",u)}o(void 0)})}}var mo=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{};function XY(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var P0={exports:{}};(function(e){var t=function(n){var r=Object.prototype,a=r.hasOwnProperty,i,o=typeof Symbol=="function"?Symbol:{},l=o.iterator||"@@iterator",u=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function c($,M,j){return Object.defineProperty($,M,{value:j,enumerable:!0,configurable:!0,writable:!0}),$[M]}try{c({},"")}catch{c=function(M,j,F){return M[j]=F}}function d($,M,j,F){var U=M&&M.prototype instanceof h?M:h,B=Object.create(U.prototype),K=new I(F||[]);return B._invoke=O($,j,K),B}n.wrap=d;function v($,M,j){try{return{type:"normal",arg:$.call(M,j)}}catch(F){return{type:"throw",arg:F}}}var S="suspendedStart",E="suspendedYield",m="executing",f="completed",g={};function h(){}function y(){}function b(){}var p={};c(p,l,function(){return this});var C=Object.getPrototypeOf,w=C&&C(C(x([])));w&&w!==r&&a.call(w,l)&&(p=w);var k=b.prototype=h.prototype=Object.create(p);y.prototype=b,c(k,"constructor",b),c(b,"constructor",y),y.displayName=c(b,s,"GeneratorFunction");function _($){["next","throw","return"].forEach(function(M){c($,M,function(j){return this._invoke(M,j)})})}n.isGeneratorFunction=function($){var M=typeof $=="function"&&$.constructor;return M?M===y||(M.displayName||M.name)==="GeneratorFunction":!1},n.mark=function($){return Object.setPrototypeOf?Object.setPrototypeOf($,b):($.__proto__=b,c($,s,"GeneratorFunction")),$.prototype=Object.create(k),$},n.awrap=function($){return{__await:$}};function T($,M){function j(B,K,V,X){var Z=v($[B],$,K);if(Z.type==="throw")X(Z.arg);else{var ne=Z.arg,ae=ne.value;return ae&&typeof ae=="object"&&a.call(ae,"__await")?M.resolve(ae.__await).then(function(ye){j("next",ye,V,X)},function(ye){j("throw",ye,V,X)}):M.resolve(ae).then(function(ye){ne.value=ye,V(ne)},function(ye){return j("throw",ye,V,X)})}}var F;function U(B,K){function V(){return new M(function(X,Z){j(B,K,X,Z)})}return F=F?F.then(V,V):V()}this._invoke=U}_(T.prototype),c(T.prototype,u,function(){return this}),n.AsyncIterator=T,n.async=function($,M,j,F,U){U===void 0&&(U=Promise);var B=new T(d($,M,j,F),U);return n.isGeneratorFunction(M)?B:B.next().then(function(K){return K.done?K.value:B.next()})};function O($,M,j){var F=S;return function(B,K){if(F===m)throw new Error("Generator is already running");if(F===f){if(B==="throw")throw K;return L()}for(j.method=B,j.arg=K;;){var V=j.delegate;if(V){var X=A(V,j);if(X){if(X===g)continue;return X}}if(j.method==="next")j.sent=j._sent=j.arg;else if(j.method==="throw"){if(F===S)throw F=f,j.arg;j.dispatchException(j.arg)}else j.method==="return"&&j.abrupt("return",j.arg);F=m;var Z=v($,M,j);if(Z.type==="normal"){if(F=j.done?f:E,Z.arg===g)continue;return{value:Z.arg,done:j.done}}else Z.type==="throw"&&(F=f,j.method="throw",j.arg=Z.arg)}}}function A($,M){var j=$.iterator[M.method];if(j===i){if(M.delegate=null,M.method==="throw"){if($.iterator.return&&(M.method="return",M.arg=i,A($,M),M.method==="throw"))return g;M.method="throw",M.arg=new TypeError("The iterator does not provide a 'throw' method")}return g}var F=v(j,$.iterator,M.arg);if(F.type==="throw")return M.method="throw",M.arg=F.arg,M.delegate=null,g;var U=F.arg;if(!U)return M.method="throw",M.arg=new TypeError("iterator result is not an object"),M.delegate=null,g;if(U.done)M[$.resultName]=U.value,M.next=$.nextLoc,M.method!=="return"&&(M.method="next",M.arg=i);else return U;return M.delegate=null,g}_(k),c(k,s,"Generator"),c(k,l,function(){return this}),c(k,"toString",function(){return"[object Generator]"});function P($){var M={tryLoc:$[0]};1 in $&&(M.catchLoc=$[1]),2 in $&&(M.finallyLoc=$[2],M.afterLoc=$[3]),this.tryEntries.push(M)}function D($){var M=$.completion||{};M.type="normal",delete M.arg,$.completion=M}function I($){this.tryEntries=[{tryLoc:"root"}],$.forEach(P,this),this.reset(!0)}n.keys=function($){var M=[];for(var j in $)M.push(j);return M.reverse(),function F(){for(;M.length;){var U=M.pop();if(U in $)return F.value=U,F.done=!1,F}return F.done=!0,F}};function x($){if($){var M=$[l];if(M)return M.call($);if(typeof $.next=="function")return $;if(!isNaN($.length)){var j=-1,F=function U(){for(;++j<$.length;)if(a.call($,j))return U.value=$[j],U.done=!1,U;return U.value=i,U.done=!0,U};return F.next=F}}return{next:L}}n.values=x;function L(){return{value:i,done:!0}}return I.prototype={constructor:I,reset:function($){if(this.prev=0,this.next=0,this.sent=this._sent=i,this.done=!1,this.delegate=null,this.method="next",this.arg=i,this.tryEntries.forEach(D),!$)for(var M in this)M.charAt(0)==="t"&&a.call(this,M)&&!isNaN(+M.slice(1))&&(this[M]=i)},stop:function(){this.done=!0;var $=this.tryEntries[0],M=$.completion;if(M.type==="throw")throw M.arg;return this.rval},dispatchException:function($){if(this.done)throw $;var M=this;function j(X,Z){return B.type="throw",B.arg=$,M.next=X,Z&&(M.method="next",M.arg=i),!!Z}for(var F=this.tryEntries.length-1;F>=0;--F){var U=this.tryEntries[F],B=U.completion;if(U.tryLoc==="root")return j("end");if(U.tryLoc<=this.prev){var K=a.call(U,"catchLoc"),V=a.call(U,"finallyLoc");if(K&&V){if(this.prev<U.catchLoc)return j(U.catchLoc,!0);if(this.prev<U.finallyLoc)return j(U.finallyLoc)}else if(K){if(this.prev<U.catchLoc)return j(U.catchLoc,!0)}else if(V){if(this.prev<U.finallyLoc)return j(U.finallyLoc)}else throw new Error("try statement without catch or finally")}}},abrupt:function($,M){for(var j=this.tryEntries.length-1;j>=0;--j){var F=this.tryEntries[j];if(F.tryLoc<=this.prev&&a.call(F,"finallyLoc")&&this.prev<F.finallyLoc){var U=F;break}}U&&($==="break"||$==="continue")&&U.tryLoc<=M&&M<=U.finallyLoc&&(U=null);var B=U?U.completion:{};return B.type=$,B.arg=M,U?(this.method="next",this.next=U.finallyLoc,g):this.complete(B)},complete:function($,M){if($.type==="throw")throw $.arg;return $.type==="break"||$.type==="continue"?this.next=$.arg:$.type==="return"?(this.rval=this.arg=$.arg,this.method="return",this.next="end"):$.type==="normal"&&M&&(this.next=M),g},finish:function($){for(var M=this.tryEntries.length-1;M>=0;--M){var j=this.tryEntries[M];if(j.finallyLoc===$)return this.complete(j.completion,j.afterLoc),D(j),g}},catch:function($){for(var M=this.tryEntries.length-1;M>=0;--M){var j=this.tryEntries[M];if(j.tryLoc===$){var F=j.completion;if(F.type==="throw"){var U=F.arg;D(j)}return U}}throw new Error("illegal catch attempt")},delegateYield:function($,M,j){return this.delegate={iterator:x($),resultName:M,nextLoc:j},this.method==="next"&&(this.arg=i),g}},n}(e.exports);try{regeneratorRuntime=t}catch{typeof globalThis=="object"?globalThis.regeneratorRuntime=t:Function("r","regeneratorRuntime = r")(t)}})(P0);var vi=P0.exports;function Ol(e){return xC()?($C(e),!0):!1}const Vo=typeof window!="undefined",ok=e=>typeof e=="string",Nr=()=>{};function sk(e,t=!0){Be()?tt(e):t?e():Re(e)}function $n(e){var t;const n=he(e);return(t=n==null?void 0:n.$el)!=null?t:n}const Oa=Vo?window:void 0;Vo&&window.document;Vo&&window.navigator;Vo&&window.location;function Zn(...e){let t,n,r,a;if(ok(e[0])?([n,r,a]=e,t=Oa):[t,n,r,a]=e,!t)return Nr;let i=Nr;const o=oe(()=>$n(t),u=>{i(),u&&(u.addEventListener(n,r,a),i=()=>{u.removeEventListener(n,r,a),i=Nr})},{immediate:!0,flush:"post"}),l=()=>{o(),i()};return Ol(l),l}function lk(e,t,n={}){const{window:r=Oa,ignore:a,capture:i=!0}=n;if(!r)return;const o=q(!0),u=[Zn(r,"click",c=>{const d=$n(e),v=c.composedPath();!d||d===c.target||v.includes(d)||!o.value||a&&a.length>0&&a.some(S=>{const E=$n(S);return E&&(c.target===E||v.includes(E))})||t(c)},{passive:!0,capture:i}),Zn(r,"pointerdown",c=>{const d=$n(e);o.value=!!d&&!c.composedPath().includes(d)},{passive:!0})];return()=>u.forEach(c=>c())}function pv(e,t=null){const n=Be();let r=()=>{};const a=fE((i,o)=>(r=o,{get(){var l,u;return i(),(u=(l=n==null?void 0:n.proxy)==null?void 0:l.$refs[e])!=null?u:t},set(){}}));return sk(r),Ed(r),a}function uk(e={}){const{window:t=Oa}=e,n=q(0);return t&&(Zn(t,"blur",()=>n.value+=1,!0),Zn(t,"focus",()=>n.value+=1,!0)),N(()=>(n.value,t==null?void 0:t.document.activeElement))}const Sc=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{},Tc="__vueuse_ssr_handlers__";Sc[Tc]=Sc[Tc]||{};Sc[Tc];var yv=Object.getOwnPropertySymbols,ck=Object.prototype.hasOwnProperty,dk=Object.prototype.propertyIsEnumerable,fk=(e,t)=>{var n={};for(var r in e)ck.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&yv)for(var r of yv(e))t.indexOf(r)<0&&dk.call(e,r)&&(n[r]=e[r]);return n};function I0(e,t,n={}){const r=n,{window:a=Oa}=r,i=fk(r,["window"]);let o;const l=a&&"ResizeObserver"in a,u=()=>{o&&(o.disconnect(),o=void 0)},s=oe(()=>$n(e),d=>{u(),l&&a&&d&&(o=new ResizeObserver(t),o.observe(d,i))},{immediate:!0,flush:"post"}),c=()=>{u(),s()};return Ol(c),{isSupported:l,stop:c}}function Cc(e,t={}){const{reset:n=!0,windowResize:r=!0,windowScroll:a=!0}=t,i=q(0),o=q(0),l=q(0),u=q(0),s=q(0),c=q(0),d=q(0),v=q(0);function S(){const E=$n(e);if(!E){n&&(i.value=0,o.value=0,l.value=0,u.value=0,s.value=0,c.value=0,d.value=0,v.value=0);return}const m=E.getBoundingClientRect();i.value=m.height,o.value=m.bottom,l.value=m.left,u.value=m.right,s.value=m.top,c.value=m.width,d.value=m.x,v.value=m.y}return I0(e,S),oe(()=>$n(e),E=>!E&&S()),a&&Zn("scroll",S,{passive:!0}),r&&Zn("resize",S,{passive:!0}),{height:i,bottom:o,left:l,right:u,top:s,width:c,x:d,y:v,update:S}}function hk(e,t={}){const{immediate:n=!0,window:r=Oa}=t,a=q(!1);let i=null;function o(){!a.value||!r||(e(),i=r.requestAnimationFrame(o))}function l(){!a.value&&r&&(a.value=!0,o())}function u(){a.value=!1,i!=null&&r&&(r.cancelAnimationFrame(i),i=null)}return n&&l(),Ol(u),{isActive:a,pause:u,resume:l}}function bv(e,t={width:0,height:0},n={}){const r=q(t.width),a=q(t.height);return I0(e,([i])=>{r.value=i.contentRect.width,a.value=i.contentRect.height},n),oe(()=>$n(e),i=>{r.value=i?t.width:0,a.value=i?t.height:0}),{width:r,height:a}}function vk(e,t={}){const{initialValue:n=!1}=t,r=uk(t),a=N(()=>$n(e)),i=N({get(){return r.value===a.value},set(o){var l,u;!o&&i.value&&((l=a.value)==null||l.blur()),o&&!i.value&&((u=a.value)==null||u.focus())}});return oe(a,()=>{i.value=n},{immediate:!0,flush:"post"}),{focused:i}}function mk(e,t,n={}){const{root:r,rootMargin:a="0px",threshold:i=.1,window:o=Oa}=n,l=o&&"IntersectionObserver"in o;let u=Nr;const s=l?oe(()=>({el:$n(e),root:$n(r)}),({el:d,root:v})=>{if(u(),!d)return;const S=new IntersectionObserver(t,{root:v,rootMargin:a,threshold:i});S.observe(d),u=()=>{S.disconnect(),u=Nr}},{immediate:!0,flush:"post"}):Nr,c=()=>{u(),s()};return Ol(c),{isSupported:l,stop:c}}function L0(e,t={}){const{threshold:n=50,onSwipe:r,onSwipeEnd:a,onSwipeStart:i,passive:o=!0,window:l=Oa}=t,u=Me({x:0,y:0}),s=Me({x:0,y:0}),c=N(()=>u.x-s.x),d=N(()=>u.y-s.y),{max:v,abs:S}=Math,E=N(()=>v(S(c.value),S(d.value))>=n),m=q(!1),f=N(()=>E.value?S(c.value)>S(d.value)?c.value>0?"LEFT":"RIGHT":d.value>0?"UP":"DOWN":"NONE"),g=_=>[_.touches[0].clientX,_.touches[0].clientY],h=(_,T)=>{u.x=_,u.y=T},y=(_,T)=>{s.x=_,s.y=T};let b;const p=gk(l==null?void 0:l.document);o?b=p?{passive:!0}:{capture:!1}:b=p?{passive:!1,capture:!0}:{capture:!0};const C=_=>{m.value&&(a==null||a(_,f.value)),m.value=!1},w=[Zn(e,"touchstart",_=>{b.capture&&!b.passive&&_.preventDefault();const[T,O]=g(_);h(T,O),y(T,O),i==null||i(_)},b),Zn(e,"touchmove",_=>{const[T,O]=g(_);y(T,O),!m.value&&E.value&&(m.value=!0),m.value&&(r==null||r(_))},b),Zn(e,"touchend",C,b),Zn(e,"touchcancel",C,b)];return{isPassiveEventSupported:p,isSwiping:m,direction:f,coordsStart:u,coordsEnd:s,lengthX:c,lengthY:d,stop:()=>w.forEach(_=>_())}}function gk(e){if(!e)return!1;let t=!1;const n={get passive(){return t=!0,!1}};return e.addEventListener("x",Nr,n),e.removeEventListener("x",Nr),t}var Sv,Tv;Vo&&(window==null?void 0:window.navigator)&&((Sv=window==null?void 0:window.navigator)==null?void 0:Sv.platform)&&/iP(ad|hone|od)/.test((Tv=window==null?void 0:window.navigator)==null?void 0:Tv.platform);/**
 * tdesign v0.8.4
 * (c) 2022 TDesign Group
 * @license MIT
 */var Cv=function(t){if(!t)return{days:0,hours:0,minutes:0,seconds:0,milliseconds:0};var n=Math.floor(t/1e3);return{days:Math.floor(n/3600/24),hours:Math.floor(n/3600%24),minutes:Math.floor(n/60%60),seconds:n%60,milliseconds:t%1e3}},Ui=function(t){return t>=10?t:"0".concat(t)},Vi=function(t,n){var r,a,i,o,l;return t==null||(r=t.split)===null||r===void 0||(a=r.call(t,n))===null||a===void 0||(i=a[1])===null||i===void 0||(o=i.split)===null||o===void 0||(l=o.call(i,""))===null||l===void 0?void 0:l[0]},Ev=function(t,n){var r,a,i,o,l,u,s;n=(r=n||"DD:HH:mm:ss")===null||r===void 0||(a=r.toUpperCase)===null||a===void 0?void 0:a.call(r);var c=[];return((i=n)===null||i===void 0?void 0:i.indexOf("DD"))>-1&&(c==null||c.push({mark:Vi(n,"DD"),value:Ui(t==null?void 0:t.days)})),((o=n)===null||o===void 0?void 0:o.indexOf("HH"))>-1&&(c==null||c.push({mark:Vi(n,"HH"),value:Ui(t==null?void 0:t.hours)})),((l=n)===null||l===void 0?void 0:l.indexOf("MM"))>-1&&(c==null||c.push({mark:Vi(n,"MM"),value:Ui(t==null?void 0:t.minutes)})),((u=n)===null||u===void 0?void 0:u.indexOf("SS"))>-1&&(c==null||c.push({mark:Vi(n,"SS"),value:Ui(t==null?void 0:t.seconds)})),((s=n)===null||s===void 0?void 0:s.indexOf("SSS"))>-1&&(c==null||c.push({mark:Vi(n,"SSS"),value:Ui(t==null?void 0:t.milliseconds)})),c},cu=function(){var e,t,n=window,r=n.requestAnimationFrame,a=n.mozRequestAnimationFrame,i=n.webkitRequestAnimationFrame,o=(e=[r,a,i])===null||e===void 0||(t=e.find)===null||t===void 0?void 0:t.call(e,function(l){return l});if(!o){console.error("requestAnimationFrame is not supported!");return}return function(){var l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:50;if(!(l<1)){var u=0,s=Date.now();return new Promise(function(c){(function d(){o==null||o(function(){if(++u>=l){var v=Date.now()-s,S=u/v*1e3;return c(S)}d()})})()})}}}();/**
 * tdesign v0.8.4
 * (c) 2022 TDesign Group
 * @license MIT
 */function pk(e){var t=e||{},n=t.time,r=n===void 0?0:n,a=t.autoStart;t.millisecond;var i=t.format,o=i===void 0?"HH:mm:ss":i,l=t.onFinish,u=t.onChange,s=q(),c=q(Number(r)),d=Me(Ev(Cv(r),o)),v=hk(Md(vi.mark(function m(){var f,g,h,y;return vi.wrap(function(p){for(;;)switch(p.prev=p.next){case 0:if(s.value){p.next=5;break}return p.next=3,cu==null?void 0:cu();case 3:h=p.sent,s.value=h||60;case 5:c.value=parseInt("".concat(Number(c.value)-1e3/s.value),10),c.value<=0&&(S==null||S(),c.value=0),y=Cv(c.value),u==null||u(y),c.value===0&&(l==null||l()),(f=Ev(y,o))===null||f===void 0||(g=f.forEach)===null||g===void 0||g.call(f,function(C,w){return d[w].value=C==null?void 0:C.value});case 11:case"end":return p.stop()}},m)})),{immediate:a}),S=v.pause,E=v.resume;return{time:c,showTimes:d,pause:S,resume:E}}var yk=typeof mo=="object"&&mo&&mo.Object===Object&&mo,R0=yk,bk=R0,Sk=typeof self=="object"&&self&&self.Object===Object&&self,Tk=bk||Sk||Function("return this")(),br=Tk,Ck=br,Ek=Ck.Symbol,kl=Ek;function wk(e,t){for(var n=-1,r=e==null?0:e.length,a=Array(r);++n<r;)a[n]=t(e[n],n,e);return a}var Fd=wk,Ok=Array.isArray,Gr=Ok,wv=kl,x0=Object.prototype,kk=x0.hasOwnProperty,_k=x0.toString,Hi=wv?wv.toStringTag:void 0;function Ak(e){var t=kk.call(e,Hi),n=e[Hi];try{e[Hi]=void 0;var r=!0}catch{}var a=_k.call(e);return r&&(t?e[Hi]=n:delete e[Hi]),a}var Dk=Ak,Pk=Object.prototype,Ik=Pk.toString;function Lk(e){return Ik.call(e)}var Rk=Lk,Ov=kl,xk=Dk,$k=Rk,Mk="[object Null]",Fk="[object Undefined]",kv=Ov?Ov.toStringTag:void 0;function Bk(e){return e==null?e===void 0?Fk:Mk:kv&&kv in Object(e)?xk(e):$k(e)}var Ho=Bk;function Nk(e){return e!=null&&typeof e=="object"}var _i=Nk,jk=Ho,Uk=_i,Vk="[object Symbol]";function Hk(e){return typeof e=="symbol"||Uk(e)&&jk(e)==Vk}var _l=Hk,_v=kl,zk=Fd,Gk=Gr,Kk=_l,Wk=1/0,Av=_v?_v.prototype:void 0,Dv=Av?Av.toString:void 0;function $0(e){if(typeof e=="string")return e;if(Gk(e))return zk(e,$0)+"";if(Kk(e))return Dv?Dv.call(e):"";var t=e+"";return t=="0"&&1/e==-Wk?"-0":t}var Yk=$0,qk=Yk;function Xk(e){return e==null?"":qk(e)}var zo=Xk;function Zk(e,t,n){var r=-1,a=e.length;t<0&&(t=-t>a?0:a+t),n=n>a?a:n,n<0&&(n+=a),a=t>n?0:n-t>>>0,t>>>=0;for(var i=Array(a);++r<a;)i[r]=e[r+t];return i}var Jk=Zk,Qk=Jk;function e_(e,t,n){var r=e.length;return n=n===void 0?r:n,!t&&n>=r?e:Qk(e,t,n)}var t_=e_,n_="\\ud800-\\udfff",r_="\\u0300-\\u036f",a_="\\ufe20-\\ufe2f",i_="\\u20d0-\\u20ff",o_=r_+a_+i_,s_="\\ufe0e\\ufe0f",l_="\\u200d",u_=RegExp("["+l_+n_+o_+s_+"]");function c_(e){return u_.test(e)}var M0=c_;function d_(e){return e.split("")}var f_=d_,F0="\\ud800-\\udfff",h_="\\u0300-\\u036f",v_="\\ufe20-\\ufe2f",m_="\\u20d0-\\u20ff",g_=h_+v_+m_,p_="\\ufe0e\\ufe0f",y_="["+F0+"]",Ec="["+g_+"]",wc="\\ud83c[\\udffb-\\udfff]",b_="(?:"+Ec+"|"+wc+")",B0="[^"+F0+"]",N0="(?:\\ud83c[\\udde6-\\uddff]){2}",j0="[\\ud800-\\udbff][\\udc00-\\udfff]",S_="\\u200d",U0=b_+"?",V0="["+p_+"]?",T_="(?:"+S_+"(?:"+[B0,N0,j0].join("|")+")"+V0+U0+")*",C_=V0+U0+T_,E_="(?:"+[B0+Ec+"?",Ec,N0,j0,y_].join("|")+")",w_=RegExp(wc+"(?="+wc+")|"+E_+C_,"g");function O_(e){return e.match(w_)||[]}var k_=O_,__=f_,A_=M0,D_=k_;function P_(e){return A_(e)?D_(e):__(e)}var I_=P_,L_=t_,R_=M0,x_=I_,$_=zo;function M_(e){return function(t){t=$_(t);var n=R_(t)?x_(t):void 0,r=n?n[0]:t.charAt(0),a=n?L_(n,1).join(""):t.slice(1);return r[e]()+a}}var F_=M_,B_=F_,N_=B_("toUpperCase"),j_=N_,U_=zo,V_=j_;function H_(e){return V_(U_(e).toLowerCase())}var z_=H_;function G_(e,t,n,r){var a=-1,i=e==null?0:e.length;for(r&&i&&(n=e[++a]);++a<i;)n=t(n,e[a],a,e);return n}var K_=G_;function W_(e){return function(t){return e==null?void 0:e[t]}}var Y_=W_,q_=Y_,X_={\u00C0:"A",\u00C1:"A",\u00C2:"A",\u00C3:"A",\u00C4:"A",\u00C5:"A",\u00E0:"a",\u00E1:"a",\u00E2:"a",\u00E3:"a",\u00E4:"a",\u00E5:"a",\u00C7:"C",\u00E7:"c",\u00D0:"D",\u00F0:"d",\u00C8:"E",\u00C9:"E",\u00CA:"E",\u00CB:"E",\u00E8:"e",\u00E9:"e",\u00EA:"e",\u00EB:"e",\u00CC:"I",\u00CD:"I",\u00CE:"I",\u00CF:"I",\u00EC:"i",\u00ED:"i",\u00EE:"i",\u00EF:"i",\u00D1:"N",\u00F1:"n",\u00D2:"O",\u00D3:"O",\u00D4:"O",\u00D5:"O",\u00D6:"O",\u00D8:"O",\u00F2:"o",\u00F3:"o",\u00F4:"o",\u00F5:"o",\u00F6:"o",\u00F8:"o",\u00D9:"U",\u00DA:"U",\u00DB:"U",\u00DC:"U",\u00F9:"u",\u00FA:"u",\u00FB:"u",\u00FC:"u",\u00DD:"Y",\u00FD:"y",\u00FF:"y",\u00C6:"Ae",\u00E6:"ae",\u00DE:"Th",\u00FE:"th",\u00DF:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010A:"C",\u010C:"C",\u0107:"c",\u0109:"c",\u010B:"c",\u010D:"c",\u010E:"D",\u0110:"D",\u010F:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011A:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011B:"e",\u011C:"G",\u011E:"G",\u0120:"G",\u0122:"G",\u011D:"g",\u011F:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012A:"I",\u012C:"I",\u012E:"I",\u0130:"I",\u0129:"i",\u012B:"i",\u012D:"i",\u012F:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013B:"L",\u013D:"L",\u013F:"L",\u0141:"L",\u013A:"l",\u013C:"l",\u013E:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014A:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014B:"n",\u014C:"O",\u014E:"O",\u0150:"O",\u014D:"o",\u014F:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015A:"S",\u015C:"S",\u015E:"S",\u0160:"S",\u015B:"s",\u015D:"s",\u015F:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016A:"U",\u016C:"U",\u016E:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016B:"u",\u016D:"u",\u016F:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017B:"Z",\u017D:"Z",\u017A:"z",\u017C:"z",\u017E:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017F:"s"},Z_=q_(X_),J_=Z_,Q_=J_,eA=zo,tA=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,nA="\\u0300-\\u036f",rA="\\ufe20-\\ufe2f",aA="\\u20d0-\\u20ff",iA=nA+rA+aA,oA="["+iA+"]",sA=RegExp(oA,"g");function lA(e){return e=eA(e),e&&e.replace(tA,Q_).replace(sA,"")}var uA=lA,cA=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g;function dA(e){return e.match(cA)||[]}var fA=dA,hA=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;function vA(e){return hA.test(e)}var mA=vA,H0="\\ud800-\\udfff",gA="\\u0300-\\u036f",pA="\\ufe20-\\ufe2f",yA="\\u20d0-\\u20ff",bA=gA+pA+yA,z0="\\u2700-\\u27bf",G0="a-z\\xdf-\\xf6\\xf8-\\xff",SA="\\xac\\xb1\\xd7\\xf7",TA="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",CA="\\u2000-\\u206f",EA=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",K0="A-Z\\xc0-\\xd6\\xd8-\\xde",wA="\\ufe0e\\ufe0f",W0=SA+TA+CA+EA,Y0="['\u2019]",Pv="["+W0+"]",OA="["+bA+"]",q0="\\d+",kA="["+z0+"]",X0="["+G0+"]",Z0="[^"+H0+W0+q0+z0+G0+K0+"]",_A="\\ud83c[\\udffb-\\udfff]",AA="(?:"+OA+"|"+_A+")",DA="[^"+H0+"]",J0="(?:\\ud83c[\\udde6-\\uddff]){2}",Q0="[\\ud800-\\udbff][\\udc00-\\udfff]",ni="["+K0+"]",PA="\\u200d",Iv="(?:"+X0+"|"+Z0+")",IA="(?:"+ni+"|"+Z0+")",Lv="(?:"+Y0+"(?:d|ll|m|re|s|t|ve))?",Rv="(?:"+Y0+"(?:D|LL|M|RE|S|T|VE))?",eb=AA+"?",tb="["+wA+"]?",LA="(?:"+PA+"(?:"+[DA,J0,Q0].join("|")+")"+tb+eb+")*",RA="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",xA="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",$A=tb+eb+LA,MA="(?:"+[kA,J0,Q0].join("|")+")"+$A,FA=RegExp([ni+"?"+X0+"+"+Lv+"(?="+[Pv,ni,"$"].join("|")+")",IA+"+"+Rv+"(?="+[Pv,ni+Iv,"$"].join("|")+")",ni+"?"+Iv+"+"+Lv,ni+"+"+Rv,xA,RA,q0,MA].join("|"),"g");function BA(e){return e.match(FA)||[]}var NA=BA,jA=fA,UA=mA,VA=zo,HA=NA;function zA(e,t,n){return e=VA(e),t=n?void 0:t,t===void 0?UA(e)?HA(e):jA(e):e.match(t)||[]}var GA=zA,KA=K_,WA=uA,YA=GA,qA="['\u2019]",XA=RegExp(qA,"g");function ZA(e){return function(t){return KA(YA(WA(t).replace(XA,"")),e,"")}}var JA=ZA,QA=z_,eD=JA,tD=eD(function(e,t,n){return t=t.toLowerCase(),e+(n?QA(t):t)}),Bd=tD;/**
 * tdesign v0.8.4
 * (c) 2022 TDesign Group
 * @license MIT
 */function nD(e){var t=Bd(e);return"default".concat(t[0].toLocaleUpperCase()+t.slice(1))}function rD(e){var t=Bd(e);return"on".concat(t[0].toLocaleUpperCase()).concat(t.slice(1))}function Vt(e,t,n,r){var a="modelValue",i=nD(String(n)),o=e[a]!==void 0,l=e[n]!==void 0,u=q();l?u.value=e[n]:o?u.value=e[a]:u.value=e[i],yl(function(){o&&(u.value=e[a]),l&&(u.value=e[n])});function s(v){for(var S,E=arguments.length,m=new Array(E>1?E-1:0),f=1;f<E;f++)m[f-1]=arguments[f];var g=["update:".concat(n)];o&&g.push("update:modelValue"),g.forEach(function(y){t.apply(void 0,[y,v].concat(m))});var h=rD(r);(S=e[h])===null||S===void 0||S.call.apply(S,[e,v].concat(m))}function c(v){!l&&!o&&(u.value=v);for(var S=arguments.length,E=new Array(S>1?S-1:0),m=1;m<S;m++)E[m-1]=arguments[m];s.apply(void 0,[v].concat(E))}var d=N({get:function(){return u.value},set:function(S){c(S)}});return[d,c]}/**
 * tdesign v0.8.4
 * (c) 2022 TDesign Group
 * @license MIT
 */function Tt(e,t){return function(r){var a="";typeof r=="string"&&(a=Bd("on-".concat(r)));for(var i=arguments.length,o=new Array(i>1?i-1:0),l=1;l<i;l++)o[l-1]=arguments[l];typeof e[a]=="function"?e[a].apply(e,o):t.apply(void 0,[r].concat(o))}}function Oc(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function aD(e){if(Array.isArray(e))return Oc(e)}function iD(e){if(typeof Symbol!="undefined"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function nb(e,t){if(!!e){if(typeof e=="string")return Oc(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Oc(e,t)}}function oD(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Nt(e){return aD(e)||iD(e)||nb(e)||oD()}/**
 * tdesign v0.8.4
 * (c) 2022 TDesign Group
 * @license MIT
 */function sD(e,t){var n=function i(o){var l=[];return Array.isArray(o)&&o.forEach(function(u){if(fi(u)){var s;l.push(u),(s=u.component)!==null&&s!==void 0&&s.subTree&&(l.push(u.component.subTree),l.push.apply(l,Nt(i(u.component.subTree.children)))),u.children&&l.push.apply(l,Nt(i(u.children)))}}),l},r=[];if(t!==void 0)r.push.apply(r,Nt(n(t)));else{var a;r.push.apply(r,Nt(n((a=Be())===null||a===void 0?void 0:a.subTree.children)))}return r.filter(function(i){var o;return((o=i.type)===null||o===void 0?void 0:o.name)===e})}/**
 * tdesign v0.8.4
 * (c) 2022 TDesign Group
 * @license MIT
 */function lD(e,t,n,r){var a=Be(),i=a.emit,o=q();return o.value=n,typeof e.value!="undefined"?[e,r||function(){}]:typeof t.value!="undefined"?[t,function(l){for(var u=arguments.length,s=new Array(u>1?u-1:0),c=1;c<u;c++)s[c-1]=arguments[c];i==null||i.apply(void 0,["update:modelValue",l].concat(s)),r==null||r.apply(void 0,[l].concat(s))}]:[o,function(l){o.value=l;for(var u=arguments.length,s=new Array(u>1?u-1:0),c=1;c<u;c++)s[c-1]=arguments[c];r==null||r.apply(void 0,[l].concat(s))}]}/**
 * tdesign v0.8.4
 * (c) 2022 TDesign Group
 * @license MIT
 */var uD={block:Boolean,content:{type:[String,Function]},disabled:Boolean,ghost:Boolean,icon:{type:Function},loading:Boolean,shape:{type:String,default:"square",validator:function(t){return t?["square","round"].includes(t):!0}},size:{type:String,default:"medium",validator:function(t){return t?["small","medium","large"].includes(t):!0}},theme:{type:String,default:"default",validator:function(t){return t?["default","primary","danger"].includes(t):!0}},variant:{type:String,default:"base",validator:function(t){return t?["base","outline","text"].includes(t):!0}},onClick:Function};/**
 * tdesign v0.8.4
 * (c) 2022 TDesign Group
 * @license MIT
 */function xv(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function $v(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?xv(Object(n),!0).forEach(function(r){te(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xv(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var rb=_e.prefix,ia="".concat(rb,"-button"),ab=ee({name:ia,components:{TNode:ut},props:uD,emits:["click"],setup:function(t,n){var r=Tt(t,n.emit),a=Be(),i=N(function(){var s;return["".concat(ia),t.size?$t.SIZE[t.size]:"","".concat(ia,"--").concat(t.variant),(s={},te(s,"".concat(ia,"--").concat(t.theme),t.theme),te(s,"".concat(ia,"--").concat(t.shape),t.shape),te(s,"".concat(ia,"--ghost"),t.ghost),te(s,"".concat(rb,"-size-full-width"),t.block),te(s,$t.STATUS.disabled,t.disabled),te(s,$t.STATUS.loading,t.loading),s)]}),o=N(function(){return qt(a,"default","content")}),l=N(function(){return t.loading?yt(k0):Ge(a,"icon")}),u=function(c){!t.loading&&!t.disabled?r("click",c):c.stopPropagation()};return $v($v({name:ia},ze(t)),{},{buttonContent:o,iconContent:l,buttonClass:i,onClick:u})}}),cD=["disabled","aria-disabled"];function dD(e,t,n,r,a,i){var o=ge("t-node");return H(),W("button",{class:z(e.buttonClass),disabled:e.disabled,role:"button","aria-disabled":e.disabled,onClick:t[0]||(t[0]=function(){return e.onClick&&e.onClick.apply(e,arguments)})},[R(o,{content:e.iconContent},null,8,["content"]),J("span",{class:z("".concat(e.name,"__text"))},[R(o,{content:e.buttonContent},null,8,["content"])],2)],10,cD)}ab.render=dD;/**
 * tdesign v0.8.4
 * (c) 2022 TDesign Group
 * @license MIT
 */var ka=Le(ab);/**
 * tdesign v0.8.4
 * (c) 2022 TDesign Group
 * @license MIT
 */var fD=_e.prefix,du="".concat(fD,"-button-group"),ib=ee({name:du,props:{type:{type:String,default:"default"}},setup:function(t){var n=N(function(){return["".concat(du),"".concat(du,"--").concat(t.type)]});return{classes:n}}});function hD(e,t,n,r,a,i){return H(),W("div",{class:z(e.classes)},[qe(e.$slots,"default")],2)}ib.render=hD;/**
 * tdesign v0.8.4
 * (c) 2022 TDesign Group
 * @license MIT
 */var vD=Le(ib);/**
 * tdesign v0.8.4
 * (c) 2022 TDesign Group
 * @license MIT
 */var mD={align:{type:String,default:"center",validator:function(t){return t?["left","right","center"].includes(t):!0}},content:{type:[String,Function]},dashed:Boolean,default:{type:[String,Function]},layout:{type:String,default:"horizontal",validator:function(t){return t?["horizontal","vertical"].includes(t):!0}},lineColor:{type:String,default:""}};/**
 * tdesign v0.8.4
 * (c) 2022 TDesign Group
 * @license MIT
 */function Mv(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Fv(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Mv(Object(n),!0).forEach(function(r){te(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Mv(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var gD=_e.prefix,xa="".concat(gD,"-divider"),ob=ee({name:xa,components:{TNode:ut},props:mD,setup:function(t){var n=Be(),r=N(function(){return qt(n,"default","content")}),a=N(function(){var i;return["".concat(xa),"".concat(xa,"--hairline"),(i={},te(i,"".concat(xa,"--content-").concat(t.align),r.value),te(i,"".concat(xa,"--dashed"),t.dashed),te(i,"".concat(xa,"-vertical"),t.layout==="vertical"),i)]});return Fv(Fv({},ze(t)),{},{dividerContent:r,dividerClass:a})}});function pD(e,t,n,r,a,i){var o=ge("t-node");return H(),W("div",{role:"separator",class:z(e.dividerClass),style:De("border-color:".concat(e.lineColor))},[R(o,{content:e.dividerContent},null,8,["content"])],6)}ob.render=pD;/**
 * tdesign v0.8.4
 * (c) 2022 TDesign Group
 * @license MIT
 */var yD=Le(ob);/**
 * tdesign v0.8.4
 * (c) 2022 TDesign Group
 * @license MIT
 */var bD={align:{type:String,default:"middle",validator:function(t){return t?["top","middle","bottom"].includes(t):!0}},arrow:Boolean,bordered:{type:Boolean,default:!0},description:{type:[String,Function]},hover:Boolean,image:{type:[String,Function]},leftIcon:{type:Function},note:{type:[String,Function]},required:Boolean,rightIcon:{type:Function},title:{type:[String,Function]},onClick:Function};/**
 * tdesign v0.8.4
 * (c) 2022 TDesign Group
 * @license MIT
 */function Bv(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Nv(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Bv(Object(n),!0).forEach(function(r){te(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Bv(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var SD=_e.prefix,$a="".concat(SD,"-cell"),sb=ee({name:$a,components:{TNode:ut},props:bD,emits:["click"],setup:function(t,n){var r=Tt(t,n.emit),a=Be(),i=N(function(){return qt(a,"default","note")}),o=N(function(){return Ge(a,"title")}),l=N(function(){return Ge(a,"description")}),u=N(function(){return t.arrow?yt(E0):Ge(a,"rightIcon")}),s=N(function(){return Ge(a,"leftIcon")}),c=N(function(){var v;return["".concat($a),"".concat($a,"--").concat(t.align),(v={},te(v,"".concat($a,"--hover"),t.hover),te(v,"".concat($a,"--bordered"),t.bordered),v)]}),d=function(S){return r("click",S)};return Nv(Nv({},ze(t)),{},{name:$a,onClick:d,styleCell:c,rightIconContent:u,leftIconContent:s,noteContent:i,titleContent:o,descriptionContent:l})}});function TD(e,t,n,r,a,i){var o=ge("t-node");return H(),W("div",{class:z(e.styleCell),onClick:t[0]||(t[0]=function(){return e.onClick&&e.onClick.apply(e,arguments)})},[e.leftIconContent?(H(),W("div",{key:0,class:z("".concat(e.name,"__left-icon"))},[R(o,{content:e.leftIconContent},null,8,["content"])],2)):se("",!0),e.titleContent?(H(),W("div",{key:1,class:z("".concat(e.name,"__title"))},[R(o,{content:e.titleContent},null,8,["content"]),e.required?(H(),W("span",{key:0,class:z("".concat(e.name,"--required"))},"\xA0*",2)):se("",!0),e.descriptionContent?(H(),W("div",{key:1,class:z("".concat(e.name,"__description"))},[R(o,{content:e.descriptionContent},null,8,["content"])],2)):se("",!0)],2)):se("",!0),e.noteContent?(H(),W("div",{key:2,class:z("".concat(e.name,"__note"))},[R(o,{content:e.noteContent},null,8,["content"])],2)):se("",!0),e.rightIconContent?(H(),W("div",{key:3,class:z("".concat(e.name,"__right-icon"))},[R(o,{content:e.rightIconContent},null,8,["content"])],2)):se("",!0)],2)}sb.render=TD;/**
 * tdesign v0.8.4
 * (c) 2022 TDesign Group
 * @license MIT
 */var Nd=Le(sb);/**
 * tdesign v0.8.4
 * (c) 2022 TDesign Group
 * @license MIT
 */var CD={bordered:Boolean,title:{type:String,default:""}};/**
 * tdesign v0.8.4
 * (c) 2022 TDesign Group
 * @license MIT
 */var ED=_e.prefix,jv="".concat(ED,"-cell-group"),lb=ee({name:jv,props:CD,setup:function(){return{name:jv}}});function wD(e,t,n,r,a,i){var o;return H(),W("div",{class:z(e.name)},[e.title?(H(),W("div",{key:0,class:z("".concat(e.name,"__title"))},[qe(e.$slots,"title",{},function(){return[nt(Ae(e.title),1)]})],2)):se("",!0),J("div",{class:z((o={},te(o,"".concat(e.name,"__container"),!0),te(o,"border--top-bottom",e.bordered),o))},[qe(e.$slots,"default")],2)],2)}lb.render=wD;/**
 * tdesign v0.8.4
 * (c) 2022 TDesign Group
 * @license MIT
 */var ub=Le(lb);function OD(e){if(Array.isArray(e))return e}function kD(e,t){var n=e==null?null:typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r=[],a=!0,i=!1,o,l;try{for(n=n.call(e);!(a=(o=n.next()).done)&&(r.push(o.value),!(t&&r.length===t));a=!0);}catch(u){i=!0,l=u}finally{try{!a&&n.return!=null&&n.return()}finally{if(i)throw l}}return r}}function _D(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function kt(e,t){return OD(e)||kD(e,t)||nb(e,t)||_D()}/**
 * tdesign v0.8.4
 * (c) 2022 TDesign Group
 * @license MIT
 */var AD={align:{type:String,default:"left",validator:function(t){return t?["left","right"].includes(t):!0}},checkAll:Boolean,checked:{type:Boolean,default:void 0},modelValue:{type:Boolean,default:void 0},defaultChecked:Boolean,content:{type:[String,Function]},contentDisabled:Boolean,default:{type:[String,Function]},disabled:{type:Boolean,default:void 0},icon:{type:Array},indeterminate:Boolean,label:{type:[String,Function]},maxContentRow:{type:Number,default:5},maxLabelRow:{type:Number,default:3},name:{type:String,default:""},readonly:Boolean,value:{type:[String,Number]},onChange:Function};/**
 * tdesign v0.8.4
 * (c) 2022 TDesign Group
 * @license MIT
 */function Uv(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Vv(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Uv(Object(n),!0).forEach(function(r){te(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Uv(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var DD=_e.prefix,Hv="".concat(DD,"-checkbox"),jd=ee({name:Hv,components:{TNode:ut,MinusCircleFilledIcon:XO},props:AD,emits:["update:checked","update:modelValue","change"],setup:function(t,n){var r=Hv,a=t.icon||[yt(xd),yt(w0)],i=Vt(t,n.emit,"checked","change"),o=kt(i,2),l=o[0],u=o[1],s=Be(),c=et("checkboxGroup",void 0),d=N(function(){return qt(s,"label","default")}),v=N(function(){return t.checkAll&&c!==void 0?c.indeterminate.value:t.indeterminate}),S=N(function(){return t.checkAll?c==null?void 0:c.isCheckAll.value:c!==void 0&&t.value!==void 0?!!c.checkedMap.value[t.value]:l.value}),E=N(function(){return t.disabled!==void 0?t.disabled:!!(c!=null&&c.disabled.value)}),m=N(function(){var g;return["".concat(r),(g={},te(g,$t.STATUS.checked,S.value),te(g,$t.STATUS.disabled,E.value),te(g,$t.STATUS.indeterminate,v.value),g)]}),f=function(h,y){if(!E.value&&!(y==="content"&&t.contentDisabled)){var b=!S.value;u(b,{e:h}),h.stopPropagation(),c&&c!==null&&c!==void 0&&c.onCheckedChange&&c.onCheckedChange({checked:b,checkAll:t.checkAll,e:h,option:t})}};return Vv(Vv({},ze(t)),{},{isChecked:S,checkIcons:a,labelContent:d,isDisabled:E,flagName:r,componentClass:m,indeterminate:v,handleChange:f})}}),PD=["name","value","disabled","readonly","checked","indeterminate"],ID=["name","value","disabled","readonly","checked","indeterminate"];function LD(e,t,n,r,a,i){var o,l=ge("t-node"),u=ge("minus-circle-filled-icon");return H(),W("div",{class:z(e.componentClass)},[J("div",{class:z("".concat(e.flagName,"__content-wrap"))},[e.align==="left"?(H(),W("span",{key:0,class:z("".concat(e.flagName,"__icon-left"))},[J("input",{type:"checkbox",name:e.name,class:z("".concat(e.flagName,"__original-left")),value:e.value,disabled:e.isDisabled,readonly:e.readonly,checked:e.isChecked,indeterminate:e.indeterminate,onClick:t[0]||(t[0]=function(){return e.handleChange&&e.handleChange.apply(e,arguments)})},null,10,PD),e.indeterminate?(H(),Oe(u,{key:1})):(H(),Oe(l,{key:0,content:e.checkIcons[e.isChecked?0:1]},null,8,["content"]))],2)):se("",!0),e.labelContent?(H(),W("span",{key:1,class:z((o={},te(o,"".concat(e.flagName,"__label"),!0),te(o,"".concat(e.flagName,"__label-left"),e.align==="right"),o)),onClick:t[1]||(t[1]=function(s){return e.handleChange(s,"content")})},[R(l,{content:e.labelContent},null,8,["content"])],2)):se("",!0),e.align==="right"?(H(),W("span",{key:2,class:z("".concat(e.flagName,"__icon-right"))},[J("input",{type:"checkbox",name:e.name,class:z("".concat(e.flagName,"__original-right")),value:e.value,disabled:e.isDisabled,readonly:e.readonly,checked:e.isChecked,indeterminate:e.indeterminate,onClick:t[2]||(t[2]=function(){return e.handleChange&&e.handleChange.apply(e,arguments)})},null,10,ID),e.indeterminate?(H(),Oe(u,{key:1})):(H(),Oe(l,{key:0,content:e.checkIcons[e.isChecked?0:1]},null,8,["content"]))],2)):se("",!0)],2)],2)}jd.render=LD;/**
 * tdesign v0.8.4
 * (c) 2022 TDesign Group
 * @license MIT
 */var cb=Le(jd);function RD(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var Al=RD,xD=Ho,$D=Al,MD="[object AsyncFunction]",FD="[object Function]",BD="[object GeneratorFunction]",ND="[object Proxy]";function jD(e){if(!$D(e))return!1;var t=xD(e);return t==FD||t==BD||t==MD||t==ND}var db=jD,UD=br,VD=UD["__core-js_shared__"],HD=VD,fu=HD,zv=function(){var e=/[^.]+$/.exec(fu&&fu.keys&&fu.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function zD(e){return!!zv&&zv in e}var GD=zD,KD=Function.prototype,WD=KD.toString;function YD(e){if(e!=null){try{return WD.call(e)}catch{}try{return e+""}catch{}}return""}var fb=YD,qD=db,XD=GD,ZD=Al,JD=fb,QD=/[\\^$.*+?()[\]{}|]/g,eP=/^\[object .+?Constructor\]$/,tP=Function.prototype,nP=Object.prototype,rP=tP.toString,aP=nP.hasOwnProperty,iP=RegExp("^"+rP.call(aP).replace(QD,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function oP(e){if(!ZD(e)||XD(e))return!1;var t=qD(e)?iP:eP;return t.test(JD(e))}var sP=oP;function lP(e,t){return e==null?void 0:e[t]}var uP=lP,cP=sP,dP=uP;function fP(e,t){var n=dP(e,t);return cP(n)?n:void 0}var _a=fP,hP=_a,vP=hP(Object,"create"),Dl=vP,Gv=Dl;function mP(){this.__data__=Gv?Gv(null):{},this.size=0}var gP=mP;function pP(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var yP=pP,bP=Dl,SP="__lodash_hash_undefined__",TP=Object.prototype,CP=TP.hasOwnProperty;function EP(e){var t=this.__data__;if(bP){var n=t[e];return n===SP?void 0:n}return CP.call(t,e)?t[e]:void 0}var wP=EP,OP=Dl,kP=Object.prototype,_P=kP.hasOwnProperty;function AP(e){var t=this.__data__;return OP?t[e]!==void 0:_P.call(t,e)}var DP=AP,PP=Dl,IP="__lodash_hash_undefined__";function LP(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=PP&&t===void 0?IP:t,this}var RP=LP,xP=gP,$P=yP,MP=wP,FP=DP,BP=RP;function Ai(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Ai.prototype.clear=xP;Ai.prototype.delete=$P;Ai.prototype.get=MP;Ai.prototype.has=FP;Ai.prototype.set=BP;var NP=Ai;function jP(){this.__data__=[],this.size=0}var UP=jP;function VP(e,t){return e===t||e!==e&&t!==t}var hb=VP,HP=hb;function zP(e,t){for(var n=e.length;n--;)if(HP(e[n][0],t))return n;return-1}var Pl=zP,GP=Pl,KP=Array.prototype,WP=KP.splice;function YP(e){var t=this.__data__,n=GP(t,e);if(n<0)return!1;var r=t.length-1;return n==r?t.pop():WP.call(t,n,1),--this.size,!0}var qP=YP,XP=Pl;function ZP(e){var t=this.__data__,n=XP(t,e);return n<0?void 0:t[n][1]}var JP=ZP,QP=Pl;function eI(e){return QP(this.__data__,e)>-1}var tI=eI,nI=Pl;function rI(e,t){var n=this.__data__,r=nI(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this}var aI=rI,iI=UP,oI=qP,sI=JP,lI=tI,uI=aI;function Di(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Di.prototype.clear=iI;Di.prototype.delete=oI;Di.prototype.get=sI;Di.prototype.has=lI;Di.prototype.set=uI;var Il=Di,cI=_a,dI=br,fI=cI(dI,"Map"),Ud=fI,Kv=NP,hI=Il,vI=Ud;function mI(){this.size=0,this.__data__={hash:new Kv,map:new(vI||hI),string:new Kv}}var gI=mI;function pI(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var yI=pI,bI=yI;function SI(e,t){var n=e.__data__;return bI(t)?n[typeof t=="string"?"string":"hash"]:n.map}var Ll=SI,TI=Ll;function CI(e){var t=TI(this,e).delete(e);return this.size-=t?1:0,t}var EI=CI,wI=Ll;function OI(e){return wI(this,e).get(e)}var kI=OI,_I=Ll;function AI(e){return _I(this,e).has(e)}var DI=AI,PI=Ll;function II(e,t){var n=PI(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this}var LI=II,RI=gI,xI=EI,$I=kI,MI=DI,FI=LI;function Pi(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Pi.prototype.clear=RI;Pi.prototype.delete=xI;Pi.prototype.get=$I;Pi.prototype.has=MI;Pi.prototype.set=FI;var Vd=Pi,BI="__lodash_hash_undefined__";function NI(e){return this.__data__.set(e,BI),this}var jI=NI;function UI(e){return this.__data__.has(e)}var VI=UI,HI=Vd,zI=jI,GI=VI;function Qs(e){var t=-1,n=e==null?0:e.length;for(this.__data__=new HI;++t<n;)this.add(e[t])}Qs.prototype.add=Qs.prototype.push=zI;Qs.prototype.has=GI;var vb=Qs;function KI(e,t,n,r){for(var a=e.length,i=n+(r?1:-1);r?i--:++i<a;)if(t(e[i],i,e))return i;return-1}var mb=KI;function WI(e){return e!==e}var YI=WI;function qI(e,t,n){for(var r=n-1,a=e.length;++r<a;)if(e[r]===t)return r;return-1}var XI=qI,ZI=mb,JI=YI,QI=XI;function eL(e,t,n){return t===t?QI(e,t,n):ZI(e,JI,n)}var tL=eL,nL=tL;function rL(e,t){var n=e==null?0:e.length;return!!n&&nL(e,t,0)>-1}var aL=rL;function iL(e,t,n){for(var r=-1,a=e==null?0:e.length;++r<a;)if(n(t,e[r]))return!0;return!1}var oL=iL;function sL(e){return function(t){return e(t)}}var gb=sL;function lL(e,t){return e.has(t)}var pb=lL,uL=vb,cL=aL,dL=oL,fL=Fd,hL=gb,Wv=pb,vL=Math.min;function mL(e,t,n){for(var r=n?dL:cL,a=e[0].length,i=e.length,o=i,l=Array(i),u=1/0,s=[];o--;){var c=e[o];o&&t&&(c=fL(c,hL(t))),u=vL(c.length,u),l[o]=!n&&(t||a>=120&&c.length>=120)?new uL(o&&c):void 0}c=e[0];var d=-1,v=l[0];e:for(;++d<a&&s.length<u;){var S=c[d],E=t?t(S):S;if(S=n||S!==0?S:0,!(v?Wv(v,E):r(s,E,n))){for(o=i;--o;){var m=l[o];if(!(m?Wv(m,E):r(e[o],E,n)))continue e}v&&v.push(E),s.push(S)}}return s}var gL=mL;function pL(e){return e}var Hd=pL;function yL(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}var bL=yL,SL=bL,Yv=Math.max;function TL(e,t,n){return t=Yv(t===void 0?e.length-1:t,0),function(){for(var r=arguments,a=-1,i=Yv(r.length-t,0),o=Array(i);++a<i;)o[a]=r[t+a];a=-1;for(var l=Array(t+1);++a<t;)l[a]=r[a];return l[t]=n(o),SL(e,this,l)}}var CL=TL;function EL(e){return function(){return e}}var wL=EL,OL=_a,kL=function(){try{var e=OL(Object,"defineProperty");return e({},"",{}),e}catch{}}(),_L=kL,AL=wL,qv=_L,DL=Hd,PL=qv?function(e,t){return qv(e,"toString",{configurable:!0,enumerable:!1,value:AL(t),writable:!0})}:DL,IL=PL,LL=800,RL=16,xL=Date.now;function $L(e){var t=0,n=0;return function(){var r=xL(),a=RL-(r-n);if(n=r,a>0){if(++t>=LL)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var ML=$L,FL=IL,BL=ML,NL=BL(FL),jL=NL,UL=Hd,VL=CL,HL=jL;function zL(e,t){return HL(VL(e,t,UL),e+"")}var GL=zL,KL=9007199254740991;function WL(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=KL}var zd=WL,YL=db,qL=zd;function XL(e){return e!=null&&qL(e.length)&&!YL(e)}var yb=XL,ZL=yb,JL=_i;function QL(e){return JL(e)&&ZL(e)}var eR=QL,tR=eR;function nR(e){return tR(e)?e:[]}var rR=nR,aR=Fd,iR=gL,oR=GL,sR=rR,lR=oR(function(e){var t=aR(e,sR);return t.length&&t[0]===e[0]?iR(t):[]}),uR=lR;/**
 * tdesign v0.8.4
 * (c) 2022 TDesign Group
 * @license MIT
 */var cR={disabled:Boolean,max:{type:Number,default:void 0},name:{type:String,default:""},options:{type:Array,default:function(){return[]}},value:{type:Array,default:void 0},modelValue:{type:Array,default:void 0},defaultValue:{type:Array,default:function(){return[]}},onChange:Function};/**
 * tdesign v0.8.4
 * (c) 2022 TDesign Group
 * @license MIT
 */function Xv(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function hu(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Xv(Object(n),!0).forEach(function(r){te(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Xv(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var bb=_e.prefix,dR="".concat(bb,"-checkbox-group"),Sb=ee({name:dR,components:{Checkbox:jd},props:cR,emits:["update:value","update:modelValue","change"],setup:function(t,n){var r=ze(t),a=r.options,i=Vt(t,n.emit,"value","change"),o=kt(i,2),l=o[0],u=o[1],s=q({}),c=q([]),d=N(function(){var p,C=(p=c.value)===null||p===void 0?void 0:p.map(function(k){return k.value});if(l.value instanceof Array){var w=uR(l.value,C);return w.length}return 0}),v=N(function(){return l.value instanceof Array&&l.value.length!==c.value.length-1?!1:d.value===c.value.length-1}),S=N(function(){return!v.value&&d.value<c.value.length&&d.value!==0}),E=N(function(){return l.value instanceof Array?l.value.join():""});oe(E,function(){if(l.value instanceof Array){var p={};l.value.forEach(function(C){p[C]=!0}),s.value=p}},{immediate:!0}),oe(a,function(p){if(!p)return[];c.value=p.map(function(C){var w={};return jt(C)!=="object"?w={label:String(C),value:C}:(w=hu({},C),w.disabled=w.disabled===void 0?t.disabled:w.disabled),w})},{immediate:!0});var m=N(function(){return t.max!==void 0&&l.value.length===t.max}),f=function(C){var w=C.checked,k=C.checkAll,_=C.e;k?b(w,{e:_}):h(C)},g=function(C){var w=[];return C==null||C.forEach(function(k){var _=k.props;((_==null?void 0:_["check-all"])===""||(_==null?void 0:_["check-all"])===!0)&&(_.checkAll=!0),_&&w.push(_)}),w};tt(function(){var p=n.slots.default&&n.slots.default();p!==void 0&&(c.value=g(sD("t-checkbox")))});var h=function(C){var w=C.option.value;if(l.value instanceof Array){if(w===void 0)return;var k=Nt(l.value);if(C.checked)k.push(w);else{var _=k.indexOf(w);k.splice(_,1)}u(k,{e:C.e,current:C.option.value,type:C.checked?"check":"uncheck"})}else console.warn("TDesign CheckboxGroup Warn: `value` must be an array, instead of ".concat(jt(l.value)))},y=function(){for(var C=new Set,w=0,k=c.value.length;w<k;w++){var _=c.value[w];if(!_.checkAll&&_.value!==void 0&&(C.add(_.value),m.value))break}return Nt(C)},b=function(C,w){var k=C?y():[];u(k,{e:w.e,type:C?"check":"uncheck",current:void 0})};return ft("checkboxGroup",hu(hu({},ze(t)),{},{groupCheckValue:l,indeterminate:S,isCheckAll:v,checkedMap:s,onCheckedChange:f})),{prefix:bb,optionList:c}}}),fR={key:1};function hR(e,t,n,r,a,i){var o=ge("checkbox");return H(),W("div",{class:z("".concat(e.prefix,"-checkbox-group"))},[e.options&&e.options.length?(H(),W("span",fR,[(H(!0),W(Ce,null,Ne(e.optionList,function(l,u){return H(),Oe(o,{key:u,name:l.name,label:l.label,value:l.value,"check-all":l.checkAll},null,8,["name","label","value","check-all"])}),128))])):qe(e.$slots,"default",{key:0})],2)}Sb.render=hR;/**
 * tdesign v0.8.4
 * (c) 2022 TDesign Group
 * @license MIT
 */var Tb=Le(Sb);/**
 * tdesign v0.8.4
 * (c) 2022 TDesign Group
 * @license MIT
 */var vR={align:{type:String,default:"left",validator:function(t){return["left","center","right"].includes(t)}},autocomplete:Boolean,autofocus:Boolean,clearable:Boolean,disabled:Boolean,errorMessage:{type:String,default:""},label:{type:[String,Function]},maxcharacter:{type:Number},maxlength:{type:Number},name:{type:String,default:""},placeholder:{type:String,default:void 0},prefixIcon:{type:Function},readonly:Boolean,required:Boolean,size:{type:String,default:"small",validator:function(t){return["small","medium"].includes(t)}},suffix:{type:[String,Function]},suffixIcon:{type:Function},type:{type:String,default:"text",validator:function(t){return["text","number","url","tel","password","search","submit","hidden"].includes(t)}},value:{type:[String,Number]},modelValue:{type:[String,Number]},defaultValue:{type:[String,Number]},onBlur:Function,onChange:Function,onClear:Function,onFocus:Function};/**
 * tdesign v0.8.4
 * (c) 2022 TDesign Group
 * @license MIT
 */function Zv(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Jv(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Zv(Object(n),!0).forEach(function(r){te(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Zv(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var mR=_e.prefix,oa="".concat(mR,"-input"),Cb=ee({name:oa,components:{TNode:ut,TCell:Nd,CloseCircleFilledIcon:O0},props:vR,emits:["update:value","update:modelValue","click-icon","focus","blur","change","clear"],setup:function(t,n){var r=Tt(t,n.emit),a=q(),i=ze(t),o=i.autofocus,l=Be(),u=Vt(t,n.emit,"value","change"),s=kt(u,1),c=s[0],d=N(function(){var P;return P={},te(P,"".concat(oa,"--label"),!0),te(P,$t.STATUS.disabled,t.disabled),P}),v=vk(a,{initialValue:t.autofocus}),S=v.focused,E=N(function(){return Ge(l,"label")}),m=N(function(){return Ge(l,"suffixIcon")}),f=N(function(){return Ge(l,"prefixIcon")}),g=N(function(){return Ge(l,"suffix")}),h=N(function(){return["".concat(oa,"__control"),te({},"".concat(oa,"__control--").concat(t.align),t.align!=="left")]}),y=N(function(){var P;return P={},te(P,oa,!0),te(P,"".concat(oa,"__error"),!!t.errorMessage),P}),b=function(){var D=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",I=a.value,x=String(D);!I||I.value!==x&&(I.value=x)},p=function(D){var I=D.inputType&&D.inputType==="insertCompositionText";D.isComposing||I||C(D)},C=function(D){var I=D.target.value,x=t.maxcharacter;if(x&&x>0&&!Number.isNaN(x)){var L=_0(I,x);L.length;var $=L.characters,M=$===void 0?"":$;c.value=M}else c.value=I;Re(function(){return b(c.value)})},w=function(){S.value=!0},k=function(){var D;(D=a.value)===null||D===void 0||D.blur()};A0({focus:w,blur:k});var _=function(D){c.value="",S.value=!0,r("clear",{e:D})},T=function(D){r("focus",c.value,{e:D})},O=function(D){r("blur",c.value,{e:D})},A=function(D){C(D)};return oe(o,function(P,D){P===!0&&Re(function(){S.value=!0})}),Jv(Jv({componentName:oa},ze(t)),{},{styleLabel:d,styleWrapper:y,styleControl:h,suffixContent:g,suffixIconContent:m,prefixIconContent:f,labelContent:E,innerValue:c,inputRef:a,handleClear:_,handleFocus:T,handleBlur:O,handleInput:p,handleCompositionend:A})}}),gR=["value","name","type","disabled","autocomplete","placeholder","readonly","maxlength"];function pR(e,t,n,r,a,i){var o=ge("t-node"),l=ge("close-circle-filled-icon"),u=ge("t-cell");return H(),Oe(u,{required:e.required,class:z(e.styleWrapper)},ow({note:Ue(function(){return[J("div",{class:z("".concat(e.componentName,"__wrap"))},[J("input",{ref:"inputRef",value:e.innerValue,name:e.name,class:z(e.styleControl),type:e.type,disabled:e.disabled,autocomplete:e.autocomplete?"On":"Off",placeholder:e.placeholder,readonly:e.readonly,maxlength:e.maxlength||-1,onFocus:t[0]||(t[0]=function(){return e.handleFocus&&e.handleFocus.apply(e,arguments)}),onBlur:t[1]||(t[1]=function(){return e.handleBlur&&e.handleBlur.apply(e,arguments)}),onInput:t[2]||(t[2]=function(){return e.handleInput&&e.handleInput.apply(e,arguments)}),onCompositionend:t[3]||(t[3]=function(){return e.handleCompositionend&&e.handleCompositionend.apply(e,arguments)})},null,42,gR),e.clearable&&String(e.innerValue).length>0?(H(),W("div",{key:0,class:z("".concat(e.componentName,"__wrap--icon")),onClick:t[4]||(t[4]=function(){return e.handleClear&&e.handleClear.apply(e,arguments)})},[R(l)],2)):se("",!0),e.suffixContent?(H(),W("div",{key:1,class:z("".concat(e.componentName,"__wrap--suffix"))},[R(o,{content:e.suffixContent},null,8,["content"])],2)):se("",!0)],2),e.errorMessage?(H(),W("div",{key:0,class:z("".concat(e.componentName,"__error-msg"))},Ae(e.errorMessage),3)):se("",!0)]}),_:2},[e.labelContent?{name:"title",fn:Ue(function(){return[J("div",{class:z(e.styleLabel)},[R(o,{content:e.labelContent},null,8,["content"])],2)]})}:void 0,e.prefixIconContent?{name:"leftIcon",fn:Ue(function(){return[R(o,{content:e.prefixIconContent},null,8,["content"])]})}:void 0,e.suffixIconContent?{name:"rightIcon",fn:Ue(function(){return[R(o,{content:e.suffixIconContent},null,8,["content"])]})}:void 0]),1032,["required","class"])}Cb.render=pR;/**
 * tdesign v0.8.4
 * (c) 2022 TDesign Group
 * @license MIT
 */var Eb=Le(Cb);/**
 * tdesign v0.8.4
 * (c) 2022 TDesign Group
 * @license MIT
 */var yR={autofocus:Boolean,autosize:Boolean,disabled:Boolean,label:{type:[String,Function]},maxcharacter:{type:Number},maxlength:{type:Number},name:{type:String,default:""},placeholder:{type:String,default:void 0},value:{type:[String,Number],default:void 0},modelValue:{type:[String,Number],default:void 0},defaultValue:{type:[String,Number],default:void 0},onBlur:Function,onChange:Function,onFocus:Function};function bR(e,t){if(e==null)return{};var n={},r=Object.keys(e),a,i;for(i=0;i<r.length;i++)a=r[i],!(t.indexOf(a)>=0)&&(n[a]=e[a]);return n}function SR(e,t){if(e==null)return{};var n=bR(e,t),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],!(t.indexOf(r)>=0)&&(!Object.prototype.propertyIsEnumerable.call(e,r)||(n[r]=e[r]))}return n}/**
 * tdesign v0.8.4
 * (c) 2022 TDesign Group
 * @license MIT
 */function TR(){var e=navigator,t=e.userAgent,n=t.indexOf("compatible")>-1&&t.indexOf("MSIE")>-1,r=t.indexOf("Trident")>-1&&t.indexOf("rv:11.0")>-1;if(n){var a=new RegExp("MSIE (\\d+\\.\\d+);"),i=t.match(a);if(!i)return-1;var o=parseFloat(i[1]);return o<7?6:o}return r?11:Number.MAX_SAFE_INTEGER}var CR=["padding-top","padding-bottom","padding-left","padding-right","font-family","font-weight","font-size","font-variant","text-rendering","text-transform","width","text-indent","border-width","box-sizing","line-height","letter-spacing"];function ER(e){var t=window.getComputedStyle(e),n=t.getPropertyValue("box-sizing")||t.getPropertyValue("-moz-box-sizing")||t.getPropertyValue("-webkit-box-sizing"),r=parseFloat(t.getPropertyValue("padding-bottom"))+parseFloat(t.getPropertyValue("padding-top")),a=parseFloat(t.getPropertyValue("border-bottom-width"))+parseFloat(t.getPropertyValue("border-top-width")),i=CR.map(function(o){return"".concat(o,":").concat(t.getPropertyValue(o))}).join(";");return{paddingSize:r,borderSize:a,boxSizing:n,sizingStyle:i}}/**
 * tdesign v0.8.4
 * (c) 2022 TDesign Group
 * @license MIT
 */var wR=`
  min-height:0 !important;
  max-height:none !important;
  height:0 !important;
  visibility:hidden !important;
  overflow:hidden !important;
  position:absolute !important;
  z-index:-1000 !important;
  top:0 !important;
  right:0 !important
`,kn;function Qv(e){var t,n,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null;kn||(kn=document.createElement("textarea"),document.body.appendChild(kn));var i=ER(e),o=i.paddingSize,l=i.borderSize,u=i.boxSizing,s=i.sizingStyle;kn.setAttribute("style","".concat(s,";").concat(wR)),kn.value=e.value||e.placeholder||"";var c=kn.scrollHeight,d={},v=u==="border-box",S=u==="content-box";v?c+=l:S&&(c-=o),kn.value="";var E=kn.scrollHeight-o;(t=kn)===null||t===void 0||(n=t.parentNode)===null||n===void 0||n.removeChild(kn),kn=null;var m=function(h){var y=E*h;return v&&(y=y+o+l),y};if(r!==null){var f=m(r);c=Math.max(f,c),d.minHeight="".concat(f,"px")}return a!==null&&(c=Math.min(m(a),c)),d.height="".concat(c,"px"),d}/**
 * tdesign v0.8.4
 * (c) 2022 TDesign Group
 * @license MIT
 */function em(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function tm(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?em(Object(n),!0).forEach(function(r){te(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):em(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var OR=_e.prefix,nm="".concat(OR,"-textarea"),wb=ee({name:nm,props:yR,emits:["update:value","update:modelValue","click-icon","focus","blur","change","clear"],setup:function(t,n){var r=Tt(t,n.emit),a=q(null),i=q(),o=q(0),l=Vt(t,n.emit,"value","change"),u=kt(l,1),s=u[0];s.value=s.value||"";var c=function(){var y=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",b=a.value,p=String(y);!b||b.value!==p&&(b.value=p)},d=function(){if(t.autosize===!0)i.value=Qv(a.value);else if(jt(t.autosize)==="object"){var y=t.autosize,b=y.minRows,p=y.maxRows;i.value=Qv(a.value,b,p)}else n.attrs.rows&&(i.value={height:"auto",minHeight:"auto"});console.log("calc",i.value)},v=function(y){y.isComposing||y.inputType==="insertCompositionText"||S(y)},S=function(y){var b=y.target,p=b.value;if(t.maxcharacter&&t.maxcharacter>0&&!Number.isNaN(t.maxcharacter)){var C=_0(p,t.maxcharacter),w=C.length,k=w===void 0?0:w,_=C.characters,T=_===void 0?"":_;s.value=T,o.value=k}else s.value=p,o.value=String(s.value).length;Re(function(){return c(s.value)}),d()},E=function(y){S(y)},m=function(y){s.value="",r("clear",{e:y})},f=function(y){r("focus",s.value,{e:y})},g=function(y){r("blur",s.value,{e:y})};return tt(function(){if(t.autofocus){var h;(h=a.value)===null||h===void 0||h.focus()}d()}),tm(tm({componentName:nm},ze(t)),{},{innerValue:s,textareaRef:a,textareaStyle:i,textareaLength:o,handleClear:m,handleFocus:f,handleBlur:g,handleInput:v,handleCompositionend:E})}}),kR=["name","maxlength","disabled","placeholder"];function _R(e,t,n,r,a,i){return H(),W("div",{class:z(e.componentName)},[Ke(J("textarea",{ref:"textareaRef","onUpdate:modelValue":t[0]||(t[0]=function(o){return e.innerValue=o}),style:De(e.textareaStyle),name:e.name,maxlength:e.maxlength||-1,disabled:e.disabled,placeholder:e.placeholder,onFocus:t[1]||(t[1]=function(){return e.handleFocus&&e.handleFocus.apply(e,arguments)}),onBlur:t[2]||(t[2]=function(){return e.handleBlur&&e.handleBlur.apply(e,arguments)}),onInput:t[3]||(t[3]=function(){return e.handleInput&&e.handleInput.apply(e,arguments)}),onCompositionend:t[4]||(t[4]=function(){return e.handleCompositionend&&e.handleCompositionend.apply(e,arguments)})},null,44,kR),[[l0,e.innerValue]]),e.maxcharacter||e.maxlength?(H(),W("div",{key:0,class:z("".concat(e.componentName,"--count"))},Ae("".concat(e.textareaLength,"/").concat(e.maxcharacter||e.maxlength)),3)):se("",!0)],2)}wb.render=_R;/**
 * tdesign v0.8.4
 * (c) 2022 TDesign Group
 * @license MIT
 */var AR=Le(wb);/**
 * tdesign v0.8.4
 * (c) 2022 TDesign Group
 * @license MIT
 */var DR=_e.prefix,vu="".concat(DR,"-mask"),Ob=ee({name:vu,props:{transparent:{type:Boolean,default:!1}},emits:["click"],setup:function(t,n){var r=N(function(){var a;return a={},te(a,"".concat(vu),!t.transparent),te(a,"".concat(vu,"--transparent"),t.transparent),a});return{classes:r,handleClick:function(){return n.emit("click")}}}});function PR(e,t,n,r,a,i){return H(),W("div",{class:z(e.classes),onClick:t[0]||(t[0]=function(){return e.handleClick&&e.handleClick.apply(e,arguments)}),onTouchmove:t[1]||(t[1]=Xn(function(){},["prevent"]))},null,34)}Ob.render=PR;/**
 * tdesign v0.8.4
 * (c) 2022 TDesign Group
 * @license MIT
 */var Rl=Le(Ob);/**
 * tdesign v0.8.4
 * (c) 2022 TDesign Group
 * @license MIT
 */var IR={percentage:{type:Number,default:0},showText:{type:Boolean,default:!0},color:{type:String,default:""},bgColor:{type:String,default:""},textColor:{type:String,default:""},type:{type:String,default:"info"}};/**
 * tdesign v0.8.4
 * (c) 2022 TDesign Group
 * @license MIT
 */var LR=_e.prefix,zi="".concat(LR,"-progress"),kb=ee({name:zi,props:IR,setup:function(t,n){console.log("context",n);var r=N(function(){var u;return["".concat(zi),(u={},te(u,"".concat(zi,"--info"),t.type==="info"),te(u,"".concat(zi,"--error"),t.type==="error"),u)]}),a=N(function(){return t.showText}),i=N(function(){return{width:"".concat(t.percentage>0?"".concat(t.percentage,"%"):0),backgroundColor:"".concat(t.color?t.color:"")}}),o=N(function(){return{backgroundColor:"".concat(t.bgColor?t.bgColor:"")}}),l=N(function(){return{color:"".concat(t.textColor?t.textColor:"")}});return{name:zi,rootClasses:r,showTextPercentage:a,progressStyle:i,progressBgColorStyle:o,percentageTextStyle:l}}});function RR(e,t,n,r,a,i){return H(),W("div",{class:z(e.rootClasses)},[J("div",{class:z("".concat(e.name,"__inner"))},[J("div",{class:z("".concat(e.name,"__bd")),style:De(e.progressBgColorStyle)},[J("div",{class:z("".concat(e.name,"__percent")),style:De(e.progressStyle)},null,6)],6),e.showTextPercentage?(H(),W("div",{key:0,class:z("".concat(e.name,"__ft"))},[J("span",{class:z("".concat(e.name,"__text-percentage")),style:De(e.percentageTextStyle)},Ae(e.percentage)+"%",7)],2)):se("",!0)],2)],2)}kb.render=RR;/**
 * tdesign v0.8.4
 * (c) 2022 TDesign Group
 * @license MIT
 */var xR=Le(kb);/**
 * tdesign v0.8.4
 * (c) 2022 TDesign Group
 * @license MIT
 */var $R={align:{type:String,default:"left",validator:function(t){return["left","right"].includes(t)}},checked:{type:Boolean,default:void 0},modelValue:{type:Boolean,default:void 0},defaultChecked:Boolean,content:{type:[String,Function]},contentDisabled:Boolean,default:{type:[String,Function]},disabled:{type:Boolean,default:void 0},icon:{type:[String,Array],default:"fill-circle"},label:{type:[String,Function]},name:{type:String,default:""},value:{type:[String,Number,Boolean],default:!1},onChange:Function};/**
 * tdesign v0.8.4
 * (c) 2022 TDesign Group
 * @license MIT
 */var MR=_e.prefix,Gi="".concat(MR,"-radio"),FR={"fill-circle":[yt(xd),yt(w0)],"stroke-line":[yt($d),""]},Gd=ee({name:Gi,components:{TNode:ut},props:$R,emits:["update:checked","update:modelValue","change"],setup:function(t,n){var r=q(t.name),a=Vt(t,n.emit,"checked","change"),i=kt(a,2),o=i[0],l=i[1],u=et("rootGroupProps",{}),s=et("rootGroupValue"),c=et("rootGroupChange",Js),d=N(function(){return u.disabled!==void 0?u.disabled:t.disabled}),v=N(function(){return s!==void 0&&l(s.value===t.value),o.value}),S=Be(),E=N(function(){return qt(S,"default","label")}),m=N(function(){return Ge(S,"content")}),f=N(function(){if(!!t.icon){var p="",C=v.value?0:1,w=Array.isArray(t.icon);return w?p=t.icon[C]:p=FR[t.icon][C],p}}),g=N(function(){var p;return["".concat(Gi),(p={},te(p,$t.STATUS.checked,v.value),te(p,$t.STATUS.disabled,d.value),p)]}),h=N(function(){var p;return["".concat(Gi,"__content-title"),(p={},te(p,$t.STATUS.disabled,d.value),te(p,"".concat(Gi,"__content-right-title"),t.align==="right"),p)]}),y=function(C){t.contentDisabled||b(C)},b=function(C){d.value||(c!==Js&&t.value!==void 0?c(t.value,C):l(!v.value,C))};return{name:Gi,checked:v,radioName:r,radioContent:m,labelContent:E,iconContent:f,disabled:d,radioContentChange:y,radioOrgChange:b,radioClasses:g,titleClasses:h}}}),BR=["name","disabled","checked","value"],NR=["name","disabled","checked","value"];function jR(e,t,n,r,a,i){var o=ge("t-node");return H(),W("div",{class:z(e.radioClasses)},[J("span",{class:z(["".concat(e.name,"__content-wrap")])},[e.align==="left"?(H(),W("span",{key:0,class:z("".concat(e.name,"__icon-wrap"))},[J("input",{type:"radio",name:e.radioName,class:z("".concat(e.name,"__original-left")),disabled:e.disabled,checked:e.checked,value:e.value,onClick:t[0]||(t[0]=function(){return e.radioOrgChange&&e.radioOrgChange.apply(e,arguments)})},null,10,BR),R(o,{content:e.iconContent},null,8,["content"])],2)):se("",!0),e.labelContent||e.radioContent?(H(),W("span",{key:1,class:z(["".concat(e.name,"__label-wrap")])},[e.labelContent?(H(),W("span",{key:0,class:z(e.titleClasses),onClick:t[1]||(t[1]=function(){return e.radioOrgChange&&e.radioOrgChange.apply(e,arguments)})},[R(o,{content:e.labelContent},null,8,["content"])],2)):se("",!0),e.radioContent?(H(),W("div",{key:1,class:z("".concat(e.name,"__content-inner")),onClick:t[2]||(t[2]=function(){return e.radioContentChange&&e.radioContentChange.apply(e,arguments)})},[R(o,{content:e.radioContent},null,8,["content"])],2)):se("",!0)],2)):se("",!0),e.align==="right"?(H(),W("span",{key:2,class:z("".concat(e.name,"__icon-wrap ").concat(e.name,"__icon-right-wrap"))},[J("input",{type:"radio",name:e.radioName,class:z("".concat(e.name,"__original-right")),disabled:e.disabled,checked:e.checked,value:e.value,onClick:t[3]||(t[3]=function(){return e.radioOrgChange&&e.radioOrgChange.apply(e,arguments)})},null,10,NR),R(o,{content:e.iconContent},null,8,["content"])],2)):se("",!0)],2)],2)}Gd.render=jR;/**
 * tdesign v0.8.4
 * (c) 2022 TDesign Group
 * @license MIT
 */var _b=Le(Gd);/**
 * tdesign v0.8.4
 * (c) 2022 TDesign Group
 * @license MIT
 */var UR={disabled:{type:Boolean,default:void 0},name:{type:String,default:""},options:{type:Array},value:{type:[String,Number,Boolean],default:void 0},modelValue:{type:[String,Number,Boolean],default:void 0},defaultValue:{type:[String,Number,Boolean],default:!1},onChange:Function};/**
 * tdesign v0.8.4
 * (c) 2022 TDesign Group
 * @license MIT
 */function rm(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function am(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?rm(Object(n),!0).forEach(function(r){te(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):rm(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var VR=_e.prefix,im="".concat(VR,"-radio-group"),Ab=ee({name:im,components:{Radio:Gd},props:UR,emits:["update:value","update:modelValue","change"],setup:function(t,n){var r=Vt(t,n.emit,"value","change"),a=kt(r,2),i=a[0],o=a[1],l=N(function(){var s;return(s=t.options)===null||s===void 0?void 0:s.map(function(c){var d=c;return(typeof c=="string"||typeof c=="number")&&(d={value:c,label:c.toString()}),d})}),u=function(c,d){o(c,{e:d})};return ft("rootGroupProps",t),ft("rootGroupValue",i),ft("rootGroupChange",u),am(am({},ze(t)),{},{componentName:im,groupOptions:l})}});function HR(e,t,n,r,a,i){var o=ge("radio");return H(),W("div",{class:z(e.componentName),role:"radiogroup"},[e.options?(H(!0),W(Ce,{key:0},Ne(e.groupOptions,function(l,u){return H(),Oe(o,{key:"radio-group-options-".concat(u,"-").concat(Math.random()),name:e.name,checked:e.value===l.value,disabled:"disabled"in l?l.disabled:e.disabled,value:l.value,label:l.label},null,8,["name","checked","disabled","value","label"])}),128)):se("",!0),e.options?se("",!0):qe(e.$slots,"default",{key:1})],2)}Ab.render=HR;/**
 * tdesign v0.8.4
 * (c) 2022 TDesign Group
 * @license MIT
 */var Db=Le(Ab);/**
 * tdesign v0.8.4
 * (c) 2022 TDesign Group
 * @license MIT
 */var zR={allowHalf:Boolean,clearable:Boolean,color:{type:[String,Array]},count:{type:Number,default:5},disabled:Boolean,gap:{type:Number,default:6},showText:Boolean,size:{type:String,default:""},texts:{type:Array},value:{type:Number,default:void 0},modelValue:{type:Number,default:void 0},defaultValue:{type:Number,default:void 0},variant:{type:String,default:"filled",validator:function(t){return["outline","filled"].includes(t)}},onChange:Function};/**
 * tdesign v0.8.4
 * (c) 2022 TDesign Group
 * @license MIT
 */var GR=_e.prefix,Ki="".concat(GR,"-rate"),Pb=ee({name:Ki,components:{StarFilledIcon:cv,StarIcon:hv},props:zR,emits:["change"],setup:function(t,n){var r=q(null),a=Vt(t,n.emit,"value","change"),i=kt(a,1),o=i[0],l=N(function(){return Array.isArray(t.texts)&&t.texts.length>0?t.texts[o.value-1]:o.value>0?"".concat(o.value," \u5206"):""}),u=N(function(){return Array.isArray(t.color)?t.color:[t.color,null]}),s=function(h){return{color:o.value+.5===h||o.value>=h?u.value[0]:"transparent"}},c=function(h){return{color:o.value>=h?u.value[0]:"transparent"}},d=t.variant==="filled"?cv:hv,v=function(h){var y;return y={},te(y,"".concat(Ki,"--item"),!0),te(y,"".concat(Ki,"-full"),o.value>=h),te(y,"".concat(Ki,"-half"),o.value+.5===h),y};function S(g){t.disabled||(o.value=t.clearable&&o.value===g?0:g)}var E=[];function m(){if(E=[],r.value){var g=r.value.children;Array.from(g).forEach(function(h,y){var b=h.getBoundingClientRect(),p=b.left,C=b.width;t.allowHalf?E.push({score:y+.5,left:p},{score:y+1,left:p+C/2}):E.push({score:y+1,left:p})})}}function f(g){if(!t.disabled){for(var h=g.touches[0].clientX,y=t.allowHalf?.5:1,b=E.length-1;b>=0;b--)if(h>E[b].left){y=E[b].score;break}else y=0;o.value=y}}return{name:q(Ki),classes:v,rateWrapper:r,actualVal:o,iconHalfStyle:s,iconFullStyle:c,colors:u,startComponent:d,rateText:l,onClick:S,onTouchstart:m,onTouchmove:f}}}),KR=["onClick"],WR=["onClick"],YR=["onClick"];function qR(e,t,n,r,a,i){var o=ge("star-filled-icon");return H(),W("div",{class:z("".concat(e.name))},[J("ul",{ref:"rateWrapper",class:z("".concat(e.name,"--list")),onTouchstart:t[0]||(t[0]=function(){return e.onTouchstart&&e.onTouchstart.apply(e,arguments)}),onTouchmove:t[1]||(t[1]=function(){return e.onTouchmove&&e.onTouchmove.apply(e,arguments)})},[(H(!0),W(Ce,null,Ne(e.count,function(l){return H(),W("li",{key:l,class:z(e.classes(l))},[J("span",{class:z("".concat(e.name,"--placeholder"))},[(H(),Oe(jo(e.startComponent),{size:e.size,style:De({color:e.colors[1]})},null,8,["size","style"]))],2),e.allowHalf?(H(),W(Ce,{key:0},[J("span",{class:z("".concat(e.name,"--icon-left")),onClick:function(s){return e.onClick(l-.5)}},[R(o,{size:e.size,style:De(e.iconHalfStyle(l))},null,8,["size","style"])],10,KR),J("span",{class:z("".concat(e.name,"--icon-right")),onClick:function(s){return e.onClick(l)}},[R(o,{size:e.size,style:De(e.iconFullStyle(l))},null,8,["size","style"])],10,WR)],64)):(H(),W("span",{key:1,class:z("".concat(e.name,"--icon")),onClick:function(s){return e.onClick(l)}},[R(o,{size:e.size,style:De(e.iconFullStyle(l))},null,8,["size","style"])],10,YR))],2)}),128))],34),e.showText?(H(),W("span",{key:0,class:z("".concat(e.name,"--text"))},Ae(e.rateText),3)):se("",!0)],2)}Pb.render=qR;/**
 * tdesign v0.8.4
 * (c) 2022 TDesign Group
 * @license MIT
 */var XR=Le(Pb);/**
 * tdesign v0.8.4
 * (c) 2022 TDesign Group
 * @license MIT
 */var ZR={colors:{type:Array},customValue:{type:Array},disabled:Boolean,label:{type:String,default:""},value:{type:[String,Number,Boolean],default:void 0},modelValue:{type:[String,Number,Boolean],default:void 0},defaultValue:{type:[String,Number,Boolean],default:void 0},onChange:Function};/**
 * tdesign v0.8.4
 * (c) 2022 TDesign Group
 * @license MIT
 */function om(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function sm(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?om(Object(n),!0).forEach(function(r){te(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):om(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var JR=_e.prefix,mu="".concat(JR,"-switch"),Ib=ee({name:mu,props:ZR,emits:["change","update:value","update:modelValue"],setup:function(t,n){var r=t.customValue||[!0,!1],a=Vt(t,n.emit,"value","change"),i=kt(a,1),o=i[0],l=D0(r,o.value),u=l.state,s=l.toggle,c=N(function(){var S;return["".concat(mu),(S={},te(S,$t.STATUS.checked,o.value===r[0]),te(S,$t.STATUS.disabled,t.disabled),S)]}),d=N(function(){return!t.disabled&&t.colors?"background-color: ".concat(o.value===r[0]?t.colors[0]:t.colors[1]):""});function v(S){S.preventDefault(),!t.disabled&&(s(),o.value=u.value)}return sm(sm({name:mu,classes:c,backgroundColor:d},ze(t)),{},{handleToggle:v})}});function QR(e,t,n,r,a,i){return H(),W("span",{class:z(e.classes)},[e.label?(H(),W("span",{key:0,class:z("".concat(e.name,"__text"))},Ae(e.label),3)):se("",!0),J("span",{class:z("".concat(e.name,"__node")),style:De(e.backgroundColor),onClick:t[0]||(t[0]=function(){return e.handleToggle&&e.handleToggle.apply(e,arguments)})},null,6)],2)}Ib.render=QR;/**
 * tdesign v0.8.4
 * (c) 2022 TDesign Group
 * @license MIT
 */var ex=Le(Ib);/**
 * tdesign v0.8.4
 * (c) 2022 TDesign Group
 * @license MIT
 */var tx={disabled:Boolean,disableInput:Boolean,inputWidth:{type:Number},max:{type:Number,default:100},min:{type:Number,default:0},step:{type:Number,default:1},theme:{type:String,default:"normal",validator:function(t){return["normal","grey"].includes(t)}},value:{type:[String,Number],default:void 0},modelValue:{type:[String,Number],default:void 0},defaultValue:{type:[String,Number],default:0},onBlur:Function,onChange:Function,onOverlimit:Function};/**
 * tdesign v0.8.4
 * (c) 2022 TDesign Group
 * @license MIT
 */function lm(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function nx(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?lm(Object(n),!0).forEach(function(r){te(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):lm(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var rx=_e.prefix,um="".concat(rx,"-stepper"),ax=$t.STATUS.disabled,Lb=ee({name:um,props:tx,emits:["update:value","update:modelValue","blur","change","overlimit"],setup:function(t,n){var r=Vt(t,n.emit,"value","change"),a=kt(r,1),i=a[0],o=Tt(t,n.emit),l=ze(t),u=l.min,s=l.max,c=l.inputWidth,d=l.theme,v=d.value==="grey",S=c?{width:"".concat(c.value,"px")}:"",E=function(p){return Math.min(Math.max(u.value,p,Number.MIN_SAFE_INTEGER),s.value,Number.MAX_SAFE_INTEGER)},m=function(){i.value+t.step>t.max||t.disabled||(i.value+=t.step)},f=function(){i.value-t.step<t.min||t.disabled||(i.value-=t.step)},g=function(p){var C=p.target.value.split(".")[0].replace(/[^-0-9]/g,"");C.trim()===""?i.value=0:(y(Number(C)),i.value=E(Number(C)))},h=function(p){g(p),o("blur",i.value)},y=function(p){p<Math.max(u.value,Number.MIN_SAFE_INTEGER)&&o("overlimit","minus"),p>Math.min(s.value,Number.MAX_SAFE_INTEGER)&&o("overlimit","plus")};return nx({name:um,disabledClass:ax,minusValue:f,stepperValue:i,plusValue:m,changeValue:g,inputStyle:S,handleBlur:h,isPureMode:v},ze(t))}}),ix=["disabled","readonly"];function ox(e,t,n,r,a,i){return H(),W("div",{class:z(["".concat(e.name),"".concat(e.disabled?e.disabledClass:""),"".concat(e.isPureMode?"".concat(e.name,"__pure"):"")])},[J("span",{class:z(["".concat(e.name,"__minus"),"".concat(e.disabled||e.stepperValue<=e.min?"t-is-disabled":"")]),onClick:t[0]||(t[0]=function(){return e.minusValue&&e.minusValue.apply(e,arguments)})},null,2),Ke(J("input",{"onUpdate:modelValue":t[1]||(t[1]=function(o){return e.stepperValue=o}),class:z("".concat(e.name,"__input")),type:"tel",style:De(e.inputStyle),pattern:"[0-9]*",disabled:e.disableInput||e.disabled,readonly:e.disableInput,onBlur:t[2]||(t[2]=function(){return e.handleBlur&&e.handleBlur.apply(e,arguments)})},null,46,ix),[[l0,e.stepperValue]]),J("span",{class:z(["".concat(e.name,"__plus"),"".concat(e.disabled||e.stepperValue>=e.max?"t-is-disabled":"")]),onClick:t[3]||(t[3]=function(){return e.plusValue&&e.plusValue.apply(e,arguments)})},null,2)],2)}Lb.render=ox;/**
 * tdesign v0.8.4
 * (c) 2022 TDesign Group
 * @license MIT
 */var sx=Le(Lb);/**
 * tdesign v0.8.4
 * (c) 2022 TDesign Group
 * @license MIT
 */var Ms=_e.prefix,es="".concat(Ms,"-slider"),lx={range:{type:Boolean,default:!1},marks:Object,max:{type:Number,default:100},min:{type:Number,default:0},modelValue:{type:[Number,Array],default:0},showValue:{type:Boolean,default:!1},step:{type:Number,default:1},disabled:{type:Boolean,default:!1}},Rb=ee({name:es,props:lx,emits:["drag-start","drag-end","update:modelValue","change"],setup:function(t,n){var r=q(null),a=q(null),i=N(function(){var h;return["".concat(es,"-wrap"),(h={},te(h,"".concat(Ms,"-is-disabled"),t.disabled),te(h,"".concat(Ms,"-is-mark"),t.marks),te(h,"".concat(Ms,"-is-value"),t.showValue),h)]}),o=N(function(){return["".concat(es,"__handle")]}),l=N(function(){var h=[];return!t.range&&t.marks&&Object.keys(t.marks).forEach(function(y){h.push(parseInt(y,10))}),h.sort(function(y,b){return y-b})}),u=q(""),s=q([]),c=N({set:function(y){s.value=y},get:function(){var y;if(s!=null&&(y=s.value)!==null&&y!==void 0&&y.length)return s.value;var b=[];return t.range?b=t.modelValue:b=[t.modelValue],b}}),d=Me({startValue:0,newValue:0,startX:0,deltaX:0,offsetX:0});function v(h,y){t.disabled||(h.stopPropagation(),h.preventDefault(),d.deltaX=0,d.offsetX=0,d.startX=h.touches[0].clientX,d.startValue=f(c.value[y]),u.value="start")}function S(h,y){if(!t.disabled&&!!r.value){h.stopPropagation(),h.preventDefault(),u.value==="start"&&n.emit("drag-start");var b=h.touches[0];d.deltaX=b.clientX-d.startX,d.offsetX=Math.abs(d.deltaX),u.value="dragging";var p=r.value.getBoundingClientRect(),C=d.deltaX,w=p.width,k=C/w*(t.max-t.min);d.newValue=d.startValue+k,g(d.newValue,y)}}function E(h,y){t.disabled||(h.stopPropagation(),h.preventDefault(),u.value==="dragging"&&(g(d.newValue,y,!0),n.emit("drag-end")),u.value="")}function m(h){if(h.stopPropagation(),!t.disabled&&!!a.value){var y=a.value.getBoundingClientRect(),b=h.clientX-y.left,p=y.width,C=+t.min+b/p*(t.max-t.min),w=0;t.range&&Math.abs(C-c.value[0])>Math.abs(C-c.value[1])&&(w=1),d.startValue=c.value[w],g(C,w,!0)}}function f(h){var y=h;if(!t.range&&t.marks){var b;if(l!=null&&(b=l.value)!==null&&b!==void 0&&b.length){var p=l.value[0];l.value.forEach(function(C){Math.abs(C-h)<Math.abs(p-h)&&(p=C)}),y=p}}return Math.round(Math.max(t.min,Math.min(y,t.max))/t.step)*t.step}function g(h,y){var b=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,p=f(h);t.range?b&&p!==d.startValue?(c.value[y]=p,c.value=c.value.sort(function(C,w){return C-w}),n.emit("update:modelValue",c),n.emit("change",c)):p!==d.startValue&&(c.value[y]=p):b&&p!==d.startValue?(c.value=[p],n.emit("update:modelValue",p),n.emit("change",p)):p!==d.startValue&&(c.value=[p])}return{name:q(es),rootRef:r,barRef:a,value:c,classes:i,handleClass:o,onTouchStart:v,onTouchMove:S,onTouchEnd:E,onClick:m}}}),ux=["onTouchstart","onTouchmove","onTouchend"],cx=["textContent"],dx=["textContent"],fx=["onTouchstart","onTouchmove","onTouchend"],hx=["textContent"];function vx(e,t,n,r,a,i){return H(),W("div",{ref:"rootRef",class:z(e.classes)},[e.range?(H(),W("div",{key:1,class:z("".concat(e.name)),onClick:t[1]||(t[1]=function(){return e.onClick&&e.onClick.apply(e,arguments)})},[J("div",{ref:"barRef",class:z("".concat(e.name,"__bar"))},null,2),J("div",{class:z("".concat(e.name,"__track")),style:De("left:".concat(e.value[0],"%;width:").concat(e.value[1]-e.value[0],"%"))},null,6),(H(!0),W(Ce,null,Ne(e.value,function(o,l){return H(),W("div",{key:l+1,class:z(e.handleClass),style:De("left:".concat(e.value[l],"%")),onTouchstart:function(s){return e.onTouchStart(s,l)},onTouchmove:function(s){return e.onTouchMove(s,l)},onTouchend:function(s){return e.onTouchEnd(s,l)}},null,46,fx)}),128)),J("div",{class:z("".concat(e.name,"__mark"))},[(H(!0),W(Ce,null,Ne(e.value,function(o,l){return H(),W("div",{key:l,class:z("".concat(e.name,"__mark-text")),style:De("left:".concat(e.value[l],"%")),textContent:Ae(o)},null,14,hx)}),128))],2)],2)):(H(),W(Ce,{key:0},[J("div",{class:z("".concat(e.name)),onClick:t[0]||(t[0]=function(){return e.onClick&&e.onClick.apply(e,arguments)})},[J("div",{ref:"barRef",class:z("".concat(e.name,"__bar"))},null,2),J("div",{class:z("".concat(e.name,"__track")),style:De("width:".concat(e.value[0],"%"))},null,6),(H(!0),W(Ce,null,Ne(e.value,function(o,l){return H(),W("div",{key:l+1,class:z(e.handleClass),style:De("left:".concat(e.value[l],"%")),onTouchstart:function(s){return e.onTouchStart(s,l)},onTouchmove:function(s){return e.onTouchMove(s,l)},onTouchend:function(s){return e.onTouchEnd(s,l)}},null,46,ux)}),128)),e.marks?(H(),W("div",{key:0,class:z("".concat(e.name,"__mark"))},[(H(!0),W(Ce,null,Ne(e.marks,function(o,l){return H(),W("div",{key:l,class:z("".concat(e.name,"__mark-text")),style:De("left:".concat(l,"%")),textContent:Ae(o)},null,14,cx)}),128))],2)):se("",!0)],2),e.showValue?(H(!0),W(Ce,{key:0},Ne(e.value,function(o,l){return H(),W("div",{key:l,class:z("".concat(e.name,"-wrap__value")),textContent:Ae(o)},null,10,dx)}),128)):se("",!0)],64))],2)}Rb.render=vx;/**
 * tdesign v0.8.4
 * (c) 2022 TDesign Group
 * @license MIT
 */var mx=Le(Rb);/**
 * tdesign v0.8.4
 * (c) 2022 TDesign Group
 * @license MIT
 */var gx={lockScroll:{type:Boolean,default:!0},placement:{type:String,default:"top",validator:function(t){return["top","left","right","bottom","center"].includes(t)}},showOverlay:{type:Boolean,default:!0},to:String,transitionName:{type:String,default:""},visible:{type:Boolean,default:void 0},modelValue:{type:Boolean,default:void 0},defaultVisible:{type:Boolean,default:void 0},zIndex:{type:Number},onClose:Function,onClosed:Function,onOpen:Function,onOpened:Function,onVisibleChange:Function};/**
 * tdesign v0.8.4
 * (c) 2022 TDesign Group
 * @license MIT
 */var xb=_e.prefix,Wi="".concat(xb,"-popup"),$b=ee({name:Wi,components:{TMask:Rl},props:gx,emits:["open","close","opened","closed","visible-change","update:visible","update:modelValue"],setup:function(t,n){var r=Tt(t,n.emit),a=Vt(t,n.emit,"visible","visible-change"),i=kt(a,1),o=i[0],l=N(function(){return Wi}),u=N(function(){return{zIndex:t.zIndex}}),s=N(function(){var m;return m={},te(m,"".concat(Wi,"--content"),!0),te(m,"".concat(Wi,"--content-").concat(t.placement),!0),m}),c=N(function(){var m=t.transitionName,f=t.placement;return m||(f==="center"?"fade-zoom":"slide-".concat(f))});oe(function(){return o.value},function(m){var f="".concat(xb,"-overflow-hidden");m?(document.body.classList.add(f),r("open"),o.value=!0):document.body.classList.remove(f)});var d=function(){r("close"),o.value=!1},v=function(f){t.lockScroll&&f.preventDefault()},S=function(){return r("closed")},E=function(){return r("opened")};return{name:q(Wi),currentVisible:o,rootClasses:l,rootStyles:u,contentClasses:s,contentTransitionName:c,afterEnter:E,afterLeave:S,handleMaskClick:d,handleMove:v}}});function px(e,t,n,r,a,i){var o=ge("t-mask");return H(),Oe(No,{to:e.to,disabled:!e.to},[J("div",{class:z([e.rootClasses,e.$attrs.class]),style:De(e.rootStyles),onTouchmove:t[0]||(t[0]=function(){return e.handleMove&&e.handleMove.apply(e,arguments)})},[R(gn,{name:"fade"},{default:Ue(function(){return[Ke(R(o,{transparent:!e.showOverlay,onClick:e.handleMaskClick},null,8,["transparent","onClick"]),[[Xe,e.currentVisible]])]}),_:1}),R(gn,{name:e.contentTransitionName,onAfterEnter:e.afterEnter,onAfterLeave:e.afterLeave},{default:Ue(function(){return[Ke(J("div",{class:z(e.contentClasses)},[qe(e.$slots,"default")],2),[[Xe,e.currentVisible]])]}),_:3},8,["name","onAfterEnter","onAfterLeave"])],38)],8,["to","disabled"])}$b.render=px;/**
 * tdesign v0.8.4
 * (c) 2022 TDesign Group
 * @license MIT
 */var xl=Le($b);/**
 * tdesign v0.8.4
 * (c) 2022 TDesign Group
 * @license MIT
 */var yx={actions:{type:[Array,Function]},buttonLayout:{type:String,default:"horizontal",validator:function(t){return t?["horizontal","vertical"].includes(t):!0}},cancelBtn:{type:[String,Object,Function],default:""},closeOnOverlayClick:{type:Boolean,default:!0},confirmBtn:{type:[String,Object,Function],default:""},content:{type:[String,Function]},destroyOnClose:Boolean,preventScrollThrough:{type:Boolean,default:!0},showInAttachedElement:Boolean,showOverlay:{type:Boolean,default:!0},title:{type:[String,Function]},visible:Boolean,width:{type:[String,Number]},zIndex:{type:Number},onCancel:Function,onClose:Function,onConfirm:Function,onOverlayClick:Function};/**
 * tdesign v0.8.4
 * (c) 2022 TDesign Group
 * @license MIT
 */function cm(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function bx(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?cm(Object(n),!0).forEach(function(r){te(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):cm(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var Sx=_e.prefix,pt="".concat(Sx,"-dialog"),hr=ee({name:pt,components:{TPopup:xl,TNode:ut},props:yx,emits:["update:visible","confirm","overlay-click","cancel","change","close"],setup:function(t,n){var r=Be(),a=qt(r,"default","content"),i=q(""),o=N(function(){return"".concat(pt)}),l=N(function(){return"".concat(pt,"__box")}),u=N(function(){return["".concat(pt,"__header"),te({},"".concat(pt,"__header--has-content"),a)]}),s=N(function(){return"".concat(pt,"__title")}),c=N(function(){return"".concat(pt,"__body")}),d=N(function(){return"".concat(pt,"__text")}),v=N(function(){return"".concat(pt,"__input")}),S=N(function(){return"".concat(pt,"__footer")}),E=N(function(){return["".concat(pt,"__vertical-footer"),"".concat(pt,"__footer")]}),m=N(function(){return["".concat(pt,"__btn"),"".concat(pt,"__btn--default"),"".concat(pt,"__horizontal-btn")]}),f=N(function(){return["".concat(pt,"__btn"),"".concat(pt,"__btn--primary"),"".concat(pt,"__horizontal-btn")]}),g=N(function(){return["".concat(pt,"__btn"),"".concat(pt,"__btn--default"),"".concat(pt,"__vertical-btn")]}),h=N(function(){return["".concat(pt,"__btn"),"".concat(pt,"__btn--primary"),"".concat(pt,"__vertical-btn")]}),y=N(function(){return{zIndex:t.zIndex,width:typeof t.width=="string"?t.width:"".concat(t.width,"px")}}),b=function(){n.emit("update:visible",!1),n.emit("confirm")},p=function(){n.emit("update:visible",!1),n.emit("close","cancel"),n.emit("cancel")},C=function(){!t.closeOnOverlayClick||(n.emit("update:visible",!1),n.emit("close","overlay"),n.emit("overlay-click"))};return oe(function(){return t.visible},function(w){n.emit("change",w)}),bx({innerValue:i,dClassName:o,dBoxClassName:l,dHeaderClassName:u,dTitleClassName:s,dBodyClassName:c,dTextClassName:d,dInputClassName:v,dFooterClassName:S,dFooterVerticalClassName:E,dDefaultBtnClassName:m,dConformBtnClassName:f,dVerticalDefaultBtnClassName:g,dVerticalConformBtnClassName:h,dialogContent:a,handleConfirm:b,handleCancel:p,handleOverlayClick:C,rootStyles:y},ze(t))}});function Tx(e,t,n,r,a,i){var o=ge("t-node"),l=ge("t-popup");return H(),Oe(l,{visible:e.visible,placement:"center","mask-transparent":!e.showOverlay,"teleport-disabled":!0,onClose:e.handleOverlayClick},{default:Ue(function(){return[J("div",{id:"root",class:z(e.dClassName),style:De(e.rootStyles)},[e.title?(H(),W("div",{key:0,class:z(e.dHeaderClassName)},[qe(e.$slots,"header",{},function(){return[J("div",{class:z(e.dTitleClassName)},Ae(e.title),3)]})],2)):se("",!0),e.content?(H(),W("div",{key:1,class:z(e.dBodyClassName)},[J("div",{class:z(e.dTextClassName)},[R(o,{content:e.dialogContent},null,8,["content"])],2)],2)):se("",!0),e.buttonLayout!="vertical"?(H(),W("div",{key:2,class:z(e.dFooterClassName)},[e.cancelBtn?(H(),W("div",{key:0,class:z(e.dDefaultBtnClassName),onClick:t[0]||(t[0]=function(){return e.handleCancel&&e.handleCancel.apply(e,arguments)})},[qe(e.$slots,"footer-cancel",{},function(){return[nt(Ae(e.cancelBtn),1)]})],2)):se("",!0),e.confirmBtn?(H(),W("div",{key:1,class:z(e.dConformBtnClassName),onClick:t[1]||(t[1]=function(){return e.handleConfirm&&e.handleConfirm.apply(e,arguments)})},[qe(e.$slots,"footer-confirm",{},function(){return[nt(Ae(e.confirmBtn),1)]})],2)):se("",!0)],2)):se("",!0),e.buttonLayout=="vertical"?(H(),W("div",{key:3,class:z(e.dFooterVerticalClassName)},[e.confirmBtn?(H(),W("div",{key:0,class:z(e.dVerticalConformBtnClassName),onClick:t[2]||(t[2]=function(){return e.handleConfirm&&e.handleConfirm.apply(e,arguments)})},[qe(e.$slots,"footer-confirm",{},function(){return[nt(Ae(e.confirmBtn),1)]})],2)):se("",!0),e.cancelBtn?(H(),W("div",{key:1,class:z(e.dVerticalDefaultBtnClassName),onClick:t[3]||(t[3]=function(){return e.handleCancel&&e.handleCancel.apply(e,arguments)})},[qe(e.$slots,"footer-cancel",{},function(){return[nt(Ae(e.cancelBtn),1)]})],2)):se("",!0)],2)):se("",!0)],6)]}),_:3},8,["visible","mask-transparent","onClose"])}hr.render=Tx;/**
 * tdesign v0.8.4
 * (c) 2022 TDesign Group
 * @license MIT
 */function dm(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function ii(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?dm(Object(n),!0).forEach(function(r){te(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):dm(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var Cx={title:"\u6E29\u99A8\u63D0\u9192",content:"",type:"",confirmBtn:"\u786E\u8BA4",cancelBtn:"\u53D6\u6D88",visible:!1,zIndex:2500,showOverlay:!0,width:"320px",closeOnOverlayClick:!1},Ma;function Ex(e){var t=q(!1),n=document.createElement("div");document.body.appendChild(n);var r=ii(ii({},Cx),typeof e=="string"?{content:e}:e);return Ma&&Ma.clear(),Ma=ee({render:function(){return yt(hr,ii(ii({},r),{},{visible:t.value,onConfirm:function(o){typeof r.onConfirm=="function"&&r.onConfirm(o),t.value=!1},onCancel:function(o){typeof r.onCancel=="function"&&r.onCancel(o),t.value=!1},onOverlayClick:function(o){typeof r.onOverlayClick=="function"&&r.onOverlayClick(o),t.value=!1},onClose:function(o){n.remove(),typeof r.onClose=="function"&&r.onClose(o)}}))}}),Ma.clear=function(){n.remove()},Uo(Ma).mount(n),Re(function(){t.value=!0}),Ma}["show","alert","confirm"].forEach(function(e){hr[e]=function(t){var n={content:"",type:e};return typeof t=="string"?n.content=t:n=ii(ii({},n),t),Ex(n)}});hr.install=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";e.component(t||hr.name,hr),e.config.globalProperties.$dialog=hr,e.provide("$dialog",hr)};var wx=hr;/**
 * tdesign v0.8.4
 * (c) 2022 TDesign Group
 * @license MIT
 */var Ox=_e.prefix,kx="".concat(Ox,"-action-sheet"),Mb=ee({props:{items:{type:Array,required:!0}},emits:["selected"],setup:function(t,n){var r=function(i){n.emit("selected",i)};return{name:q(kx),handleSelected:r}}}),_x=["disabled","onClick"];function Ax(e,t,n,r,a,i){return H(),W("div",{class:z("".concat(e.name,"__menu"))},[(H(!0),W(Ce,null,Ne(e.items,function(o,l){return H(),W("button",{key:l,class:z("".concat(e.name,"__cell")),disabled:o.disabled,onClick:function(s){return e.handleSelected(l)}},[qe(e.$slots,"cell",{item:o},function(){return[J("div",{class:z("".concat(e.name,"__cell-text")),style:De({color:o.color})},Ae(o.label),7)]})],10,_x)}),128))],2)}Mb.render=Ax;/**
 * tdesign v0.8.4
 * (c) 2022 TDesign Group
 * @license MIT
 */var Dx=_e.prefix,Px="".concat(Dx,"-action-sheet"),Fb=ee({props:{items:{type:Array,required:!0},count:{type:Number,default:8}},emits:["selected"],setup:function(t,n){var r=q(null),a=q(0),i=q(0),o=q(!0),l=0,u=0,s=!0,c=N(function(){return{transform:"translate3d(".concat(a.value,"px, 0, 0)"),transition:o.value?"transform 300ms":"all"}}),d=N(function(){return Math.ceil(t.items.length/t.count)}),v=N(function(){for(var y=[],b=0;b<d.value;b++){var p=t.items.slice(b*t.count,(b+1)*t.count);y.push(p)}return y}),S=function(b){n.emit("selected",b)},E=function(b){o.value=!0,r.value&&(a.value=d.value>1?b*r.value.offsetWidth*-1:0)},m=function(){return r.value?(d.value-1)*r.value.offsetWidth:0},f=function(b){s=!0,o.value=!1,l=b.touches[0].clientX,u=l-a.value},g=function(b){var p=b.touches[0].clientX,C=0,w=m();Math.abs(p-l)<15||(a.value=p-u,a.value>C&&(a.value=C,s=!1),Math.abs(a.value)>=w&&(a.value=w*-1,s=!1))},h=function(b){if(!!s){var p=b.changedTouches[0].clientX-l,C=Math.abs(p)>50?i.value+(p<0?1:-1):i.value;i.value=C,E(C)}};return{name:q(Px),pageNum:d,actionItems:v,currentIndex:i,containerWrapper:r,wrapperStyle:c,handleSelected:S,handleTouchstart:f,handleTouchmove:g,handleTouchend:h}}}),Ix=["disabled","onClick"];function Lx(e,t,n,r,a,i){return H(),W("div",{ref:"containerWrapper",class:z("".concat(e.name,"__menu-wrapper"))},[J("div",{class:z("".concat(e.name,"__menu-slider")),style:De(e.wrapperStyle),onTouchstart:t[0]||(t[0]=function(){return e.handleTouchstart&&e.handleTouchstart.apply(e,arguments)}),onTouchmove:t[1]||(t[1]=function(){return e.handleTouchmove&&e.handleTouchmove.apply(e,arguments)}),onTouchend:t[2]||(t[2]=function(){return e.handleTouchend&&e.handleTouchend.apply(e,arguments)})},[(H(!0),W(Ce,null,Ne(e.actionItems,function(o,l){return H(),W("div",{key:l,class:z("".concat(e.name,"__menu"))},[J("div",{class:z("".concat(e.name,"__menu-page"))},[(H(!0),W(Ce,null,Ne(o,function(u,s){return H(),W("button",{key:s,class:z("".concat(e.name,"__cell")),disabled:u.disabled,onClick:function(d){return e.handleSelected(s)}},[qe(e.$slots,"cell",{item:u},function(){return[u.icon?(H(),W("div",{key:0,class:z("".concat(e.name,"__cell-icon")),style:De({backgroundImage:"url(".concat(u.icon,")")})},null,6)):se("",!0),J("div",{class:z("".concat(e.name,"__cell-text")),style:De({color:u.color})},Ae(u.label),7)]})],10,Ix)}),128))],2)],2)}),128))],38),e.pageNum>1?(H(),W("div",{key:0,class:z("".concat(e.name,"__indicator"))},[(H(!0),W(Ce,null,Ne(e.pageNum,function(o){var l;return H(),W("div",{key:o,class:z((l={},te(l,"".concat(e.name,"__indicator-item"),!0),te(l,"on",e.currentIndex===o-1),l))},null,2)}),128))],2)):se("",!0)],2)}Fb.render=Lx;/**
 * tdesign v0.8.4
 * (c) 2022 TDesign Group
 * @license MIT
 */var Rx=_e.prefix,Yi="".concat(Rx,"-action-sheet"),Bb=ee({name:Yi,components:{TPopup:xl,MenuList:Mb,MenuGrid:Fb},props:{modelValue:Boolean,visible:{type:Boolean,default:!1},items:{type:Array,required:!0},type:{type:String,default:"list"},count:{type:Number,default:8},showCancel:{type:Boolean,default:!0},cancelText:{type:String,default:"\u53D6\u6D88"}},emits:["selected","update:modelValue","cancel","close"],setup:function(t,n){var r=Tt(t,n.emit),a=q([]),i=N(function(){return t.modelValue||t.visible}),o=N(function(){var c;return c={},te(c,"".concat(Yi,"__panel"),!0),te(c,"".concat(Yi,"__panel-list"),t.type==="list"),te(c,"".concat(Yi,"__panel-grid"),t.type==="grid"),c});oe(function(){return t.items},function(c){var d=JSON.parse(JSON.stringify(c));d=d.map(function(v){return typeof v=="string"?{label:v}:v}),a.value=d},{immediate:!0,deep:!0});var l=function(){r("cancel"),n.emit("update:modelValue",!1)},u=function(d){r("selected",t.items[d],d)},s=function(){r("close"),n.emit("update:modelValue",!1)};return{name:q(Yi),rootClasses:o,actionItems:a,currentVisible:i,handleCancel:l,handleSelected:u,handleClose:s}}});function xx(e,t,n,r,a,i){var o=ge("menu-list"),l=ge("menu-grid"),u=ge("t-popup");return H(),Oe(u,{class:z(e.name),visible:e.currentVisible,placement:"bottom",onClose:e.handleClose},{default:Ue(function(){return[J("div",{class:z(e.rootClasses)},[e.type==="list"?(H(),Oe(o,{key:0,items:e.actionItems,onSelected:e.handleSelected},{cell:Ue(function(s){return[qe(e.$slots,"cell",{item:s.item})]}),_:3},8,["items","onSelected"])):(H(),Oe(l,{key:1,items:e.actionItems,count:e.count,onSelected:e.handleSelected},{cell:Ue(function(s){return[qe(e.$slots,"cell",{item:s.item})]}),_:3},8,["items","count","onSelected"])),e.showCancel?(H(),W(Ce,{key:2},[e.type==="list"?(H(),W("div",{key:0,class:z("".concat(e.name,"__separation"))},null,2)):se("",!0),J("button",{class:z("".concat(e.name,"__action")),onClick:t[0]||(t[0]=function(){return e.handleCancel&&e.handleCancel.apply(e,arguments)})},Ae(e.cancelText),3)],64)):se("",!0)],2)]}),_:3},8,["class","visible","onClose"])}Bb.render=xx;/**
 * tdesign v0.8.4
 * (c) 2022 TDesign Group
 * @license MIT
 */var $x=Le(Bb);/**
 * tdesign v0.8.4
 * (c) 2022 TDesign Group
 * @license MIT
 */var Mx={color:{type:String,default:""},content:{type:[String,Function]},count:{type:[String,Number,Function],default:0},dot:Boolean,maxCount:{type:Number,default:99},offset:{type:Array},shape:{type:String,default:"circle",validator:function(t){return t?["circle","round","ribbon"].includes(t):!0}},showZero:Boolean,size:{type:String,default:"medium",validator:function(t){return t?["small","medium"].includes(t):!0}}};/**
 * tdesign v0.8.4
 * (c) 2022 TDesign Group
 * @license MIT
 */function fm(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function hm(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?fm(Object(n),!0).forEach(function(r){te(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):fm(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var Er="".concat(_e.prefix,"-badge"),Nb=ee({name:Er,components:{TNode:ut},props:Mx,setup:function(t){var n=Be(),r=N(function(){return qt(n,"default","content")}),a=N(function(){return t.dot?"":Ge(n,"count")}),i=N(function(){return r.value===void 0}),o=N(function(){return r.value!==void 0||t.showZero||t.dot||t.count!==0}),l=N(function(){var c;return c={},te(c,"".concat(Er),!0),te(c,"".concat(Er,"__ribbon--outer"),t.shape==="ribbon"),c}),u=N(function(){var c;return c={},te(c,"".concat(Er,"__inner"),!0),te(c,"".concat(Er,"--has-children"),!i.value),te(c,"".concat(Er,"--").concat(t.size),t.size),te(c,"".concat(Er,"--").concat(t.shape),t.shape&&!t.dot),te(c,"".concat(Er,"--dot"),t.dot),c}),s=N(function(){if(!t.offset)return{};var c=kt(t.offset,2),d=c[0],v=c[1];return d=isNaN(Number(d))?d:"".concat(d,"px"),v=isNaN(Number(v))?v:"".concat(v,"px"),{background:t.color,right:d,top:v}});return hm(hm({badgeContent:r,showBadge:o,badgeStyles:s,badgeClasses:l,badgeInnerClasses:u},ze(t)),{},{countContent:a})}});function Fx(e,t,n,r,a,i){var o=ge("t-node");return e.showBadge?(H(),W("div",{key:0,class:z(e.badgeClasses)},[J("div",{class:z(e.badgeInnerClasses),style:De(e.badgeStyles)},[R(o,{content:e.countContent},null,8,["content"])],6),R(o,{content:e.badgeContent},null,8,["content"])],2)):se("",!0)}Nb.render=Fx;/**
 * tdesign v0.8.4
 * (c) 2022 TDesign Group
 * @license MIT
 */var $l=Le(Nb);/**
 * tdesign v0.8.4
 * (c) 2022 TDesign Group
 * @license MIT
 */var Bx=_e.prefix,ts="".concat(Bx,"-fab"),jb=ee({name:ts,components:{TButton:ka},props:{icon:{type:Function,default:function(){return T0}},text:{type:String,default:""}},emits:["click"],setup:function(t,n){var r=N(function(){var o;return o={},te(o,"".concat(ts),!0),te(o,"".concat(ts,"--icononly"),t.icon&&!t.text),o}),a=function(l){n.emit("click",l)},i=N(function(){var o;return typeof t.icon=="function"?t.icon():(o=n.slots)===null||o===void 0?void 0:o.icon});return{name:ts,classes:r,onClick:a,computedIcon:i}}});function Nx(e,t,n,r,a,i){var o=ge("t-button");return H(),Oe(o,{class:z(e.classes),theme:"primary",shape:"round",onClick:e.onClick},{default:Ue(function(){return[(H(),Oe(jo(e.computedIcon),{style:{color:"#fff"}})),e.text?(H(),W("span",{key:0,class:z("".concat(e.name,"__text"))},Ae(e.text),3)):se("",!0)]}),_:1},8,["class","onClick"])}jb.render=Nx;/**
 * tdesign v0.8.4
 * (c) 2022 TDesign Group
 * @license MIT
 */var jx=Le(jb);/**
 * tdesign v0.8.4
 * (c) 2022 TDesign Group
 * @license MIT
 */function vm(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function mm(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?vm(Object(n),!0).forEach(function(r){te(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):vm(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var dr=_e.prefix,gm="".concat(dr,"-image-viewer"),Ub=ee({name:gm,props:{modelValue:{type:Boolean,default:!1},images:{type:Array,default:function(){return[]}},visible:{type:Boolean,default:!1},showIndex:{type:Boolean,default:!0},initialIndex:{type:Number,default:0},backgroundColor:{type:String,default:"rgba(0, 0, 0, 0.6)"}},emits:["update:modelValue","change"],setup:function(t,n){var r=N(function(){return["".concat(gm)]}),a=Me({startTime:new Date().getTime(),startLeft:-1,startTop:-1,itemWidth:-1,itemHeight:-1,currentLeft:-1,currentTop:-1}),i,o=q(t.images),l=q(Math.min(t.initialIndex,o.value.length-1)+1),u=q(o.value.length),s=300,c=.5,d,v=function(C){d=C},S=N(function(){return t.modelValue||t.visible});oe([function(){return t.images},function(){return t.initialIndex}],function(){o.value=t.images,l.value=Math.min(t.initialIndex,o.value.length-1)+1,S.value&&Re(function(){i=d.querySelector(".".concat(dr,"-swiper-container")),E()})});function E(){var p="".concat(d.clientWidth,"px"),C=d.querySelector(".".concat(dr,"-swiper-container")),w=C.querySelectorAll(".".concat(dr,"-swiper-item"));if(w.forEach(function(A){A.style.width=p}),w.length>=1){var k=C.querySelector(".".concat(dr,"-swiper-item-first-copy")),_=C.querySelector(".".concat(dr,"-swiper-item-last-copy"));k&&C.lastElementChild===k&&C.removeChild(k),_&&C.firstElementChild===_&&C.removeChild(_);var T=C.firstElementChild;T=T.cloneNode(!0);var O=C.lastElementChild;O=O.cloneNode(!0),T.classList.add("".concat(dr,"-swiper-item-first-copy")),O.classList.add("".concat(dr,"-swiper-item-last-copy")),T.style.width=p,O.style.width=p,C.appendChild(T),C.insertBefore(O,C.firstElementChild),u.value=o.value.length+2,m(-d.clientWidth*l.value)}}function m(p){i.style.transform="translate3d(".concat(p,"px, 0px, 0px) scale(1)")}function f(p){var C=p.changedTouches[0];return C}var g=!0,h=function(C){var w=f(C);a.startTime=new Date().getTime(),a.startLeft=w.pageX,a.startTop=w.pageY,a.itemWidth=d.offsetWidth,a.itemHeight=d.offsetHeight,!(u.value<=1)&&(g=!1,i.style.transition="none")},y=function(C){if(!(u.value<=3||g)){var w=f(C);a.currentLeft=w.pageX,a.currentTop=w.pageY;var k=a.currentLeft-a.startLeft;a.currentTop-a.startTop,C.preventDefault();var _=Math.min(Math.max(-a.itemWidth+1,k),a.itemWidth-1),T=_-a.itemWidth*l.value;m(T)}},b=function(C){var w=f(C);if(a.startLeft===w.pageX){g=!0,n.emit("update:modelValue",!1);return}if(!(u.value<=3||g)){g=!0;var k=Math.min(new Date().getTime()-a.startTime,500),_=a.currentLeft-a.startLeft,T=a.itemWidth,O=k<s,A="";O&&a.currentLeft===-1||(Math.abs(_)>T*c||O?_<0?(m(-d.clientWidth*(l.value+1)),A="next"):(m(-d.clientWidth*(l.value-1)),A="prev"):m(-d.clientWidth*l.value),i.style.transition="".concat(k/1e3,"s"),setTimeout(function(){A&&(A==="next"?l.value+=1:l.value-=1),l.value===u.value-1?l.value=1:l.value===0&&(l.value=u.value-2),n.emit("change",l.value-1),m(-d.clientWidth*l.value),i.style.transition="none"},k),Object.assign(a,{startTime:new Date().getTime(),startLeft:0,startTop:0,itemWidth:0,itemHeight:0,currentLeft:0,currentTop:0}))}};return mm(mm({prefix:dr,showViewer:S,index:l,count:u,myRef:v,classes:r},ze(t)),{},{onTouchstart:h,onTouchMove:y,onTouchEnd:b})}}),Ux={class:"image-viewer-container"},Vx={class:"item"},Hx=["src"],zx={key:0,class:"image-viewer-index"};function Gx(e,t,n,r,a,i){return Ke((H(),W("div",{class:z("".concat(e.prefix,"-image-viewer"))},[J("div",{class:z("".concat(e.prefix,"-image-mask")),style:De({background:e.backgroundColor})},null,6),J("div",Ux,[J("div",{ref:e.myRef,class:z(e.classes),onTouchstart:t[0]||(t[0]=function(){return e.onTouchstart&&e.onTouchstart.apply(e,arguments)}),onTouchmove:t[1]||(t[1]=function(){return e.onTouchMove&&e.onTouchMove.apply(e,arguments)}),onTouchend:t[2]||(t[2]=function(){return e.onTouchEnd&&e.onTouchEnd.apply(e,arguments)}),onTouchcancel:t[3]||(t[3]=function(){return e.onTouchEnd&&e.onTouchEnd.apply(e,arguments)})},[J("div",{class:z("".concat(e.prefix,"-swiper-box"))},[J("div",{class:z("".concat(e.prefix,"-swiper-container"))},[(H(!0),W(Ce,null,Ne(e.images,function(o,l){return H(),W("div",{key:l,class:z("".concat(e.prefix,"-swiper-item image-viewer-item-wrap"))},[J("div",Vx,[J("img",{src:o},null,8,Hx)])],2)}),128))],2)],2)],34),e.showIndex?(H(),W("div",zx,Ae(e.index)+"/"+Ae(e.count>2?e.count-2:e.count),1)):se("",!0)])],2)),[[Xe,e.showViewer]])}Ub.render=Gx;/**
 * tdesign v0.8.4
 * (c) 2022 TDesign Group
 * @license MIT
 */var Kx=Le(Ub);/**
 * tdesign v0.8.4
 * (c) 2022 TDesign Group
 * @license MIT
 */var Wx=_e.prefix,qi="".concat(Wx,"-drawer"),Vb=ee({name:qi,components:{TPopup:xl},props:{modelValue:{type:Boolean,default:!1},sidebar:{type:Array,default:function(){return[]}}},emits:["update:modelValue"],setup:function(t,n){var r=Tt(t,n.emit),a=ze(t),i=a.modelValue,o=q(!1)||i,l=N(function(){return"".concat(qi,"__sidebar")}),u=N(function(){return"".concat(qi,"__sidebar-item")}),s=N(function(){return"".concat(qi,"__sidebar-item-icon")}),c=N(function(){return"".concat(qi,"__sidebar-item-name")}),d=function(S){S&&(window.location.href=S)};return oe(o,function(){r("update:modelValue",o.value)}),oe(i,function(){o.value=i.value}),{open:o,takePath:d,dSideBarClassName:l,dSideBarItemClassName:u,dSideBarItemIconClassName:s,dSideBarItemNameClassName:c}}}),Yx=["onClick"];function qx(e,t,n,r,a,i){var o=ge("t-popup");return H(),Oe(o,{modelValue:e.open,"onUpdate:modelValue":t[0]||(t[0]=function(l){return e.open=l}),placement:"left"},{default:Ue(function(){return[J("div",{class:z(e.dSideBarClassName)},[(H(!0),W(Ce,null,Ne(e.sidebar,function(l){return H(),W("div",{key:l.name,class:z(e.dSideBarItemClassName),onClick:function(s){return e.takePath(l.path)}},[J("div",{class:z(e.dSideBarItemNameClassName)},Ae(l.name),3)],10,Yx)}),128))],2)]}),_:1},8,["modelValue"])}Vb.render=qx;/**
 * tdesign v0.8.4
 * (c) 2022 TDesign Group
 * @license MIT
 */var Xx=Le(Vb);/**
 * tdesign v0.8.4
 * (c) 2022 TDesign Group
 * @license MIT
 */var Zx={leftArrow:{type:Boolean,default:!0},title:{type:String,default:"NavBar \u5BFC\u822A\u6761"},maxLen:{type:Number,default:6},rightShow:{type:Boolean,default:!0}};/**
 * tdesign v0.8.4
 * (c) 2022 TDesign Group
 * @license MIT
 */var Jx=_e.prefix,pm="".concat(Jx,"-navbar"),Hb=ee({name:pm,components:{TChevronLeftIcon:C0},props:Zx,emits:["click-right","click-text"],setup:function(t,n){var r=N(function(){var l=t.title,u=t.maxLen;return l&&l.trim().length>u?"".concat(l.slice(0,u),"..."):l}),a=function(){history.length>1&&history.back()},i=function(u){n.emit("click-right",u)},o=function(u){n.emit("click-text",u)};return{name:pm,nTitleContent:r,handleBack:a,handleMore:i,clickText:o}}}),Qx=J("svg",{t:"1614321969302",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"2091",width:"24",height:"24"},[J("path",{d:"M512 449.749333a64 64 0 1 1 0 128 64 64 0 0 1 0-128z m-318.805333-1.109333a64 64 0 1 1 0 128 64 64 0 0 1 0-128z m638.677333 0a64 64 0 1 1 0 128 64 64 0 0 1 0-128z",fill:"#444444","p-id":"2092"})],-1),e$=[Qx];function t$(e,t,n,r,a,i){var o=ge("t-chevron-left-icon");return H(),W("div",{class:z(e.name)},[J("div",{class:z("".concat(e.name,"__back"))},[e.leftArrow?(H(),W("span",{key:0,class:z("".concat(e.name,"__back--arrow")),onClick:t[0]||(t[0]=function(){return e.handleBack&&e.handleBack.apply(e,arguments)})},[R(o)],2)):se("",!0),qe(e.$slots,"left")],2),J("div",{class:z("".concat(e.name,"__text")),onClick:t[1]||(t[1]=function(){return e.clickText&&e.clickText.apply(e,arguments)})},[qe(e.$slots,"default",{},function(){return[nt(Ae(e.nTitleContent),1)]})],2),J("div",{class:z("".concat(e.name,"__right"))},[qe(e.$slots,"right"),e.rightShow?(H(),W("i",{key:0,class:z("".concat(e.name,"__right--more")),onClick:t[2]||(t[2]=function(){return e.handleMore&&e.handleMore.apply(e,arguments)})},e$,2)):se("",!0)],2)],2)}Hb.render=t$;/**
 * tdesign v0.8.4
 * (c) 2022 TDesign Group
 * @license MIT
 */var n$=Le(Hb);/**
 * tdesign v0.8.4
 * (c) 2022 TDesign Group
 * @license MIT
 */var r$={align:{type:String,default:"left",validator:function(t){return["left","center"].includes(t)}},closeBtn:{type:[String,Boolean,Function],default:void 0},content:{type:[String,Function]},duration:{type:Number,default:3e3},theme:{type:String,default:"info",validator:function(t){return["info","success","warning","error"].includes(t)}},visible:{type:Boolean,default:void 0},modelValue:{type:Boolean,default:void 0},zIndex:{type:Number},onClose:Function,onClosed:Function,onOpen:Function,onOpened:Function,onVisibleChange:Function};/**
 * tdesign v0.8.4
 * (c) 2022 TDesign Group
 * @license MIT
 */var a$=_e.prefix,Xi="".concat(a$,"-message"),Mr=ee({name:Xi,components:{CheckCircleFilledIcon:xd,ErrorCircleFilledIcon:GO,CloseIcon:ki,TNode:ut},props:r$,emits:["visible-change","open","opened","close","closed"],setup:function(t,n){var r=Tt(t,n.emit),a=q(null),i=Be(),o=N(function(){return Ge(i,"closeBtn")}),l=Vt(t,n.emit,"visible","visible-change"),u=kt(l,1),s=u[0],c=N(function(){var S;return S={},te(S,Xi,!0),te(S,"".concat(Xi,"--").concat(t.theme),!0),te(S,"".concat(Xi,"-align--").concat(t.align),!!t.align),S}),d=N(function(){return{zIndex:t.zIndex}}),v=function(){r("close"),s.value=!1};return oe(function(){return s.value},function(S){S!==!1&&(r("open"),s.value=!0,t.duration>0&&setTimeout(v,t.duration))}),{name:q(Xi),root:a,currentVisible:s,rootClasses:c,rootStyles:d,closeBtnContent:o,onClose:v,afterEnter:function(){return r("opened")},afterLeave:function(){return r("closed")}}}});function i$(e,t,n,r,a,i){var o=ge("check-circle-filled-icon"),l=ge("error-circle-filled-icon"),u=ge("close-icon"),s=ge("t-node");return H(),Oe(gn,{name:"message",onAfterLeave:e.afterLeave,onAfterEnter:e.afterEnter},{default:Ue(function(){return[e.currentVisible?(H(),W("div",{key:0,ref:"root",class:z(e.rootClasses),style:De(e.rootStyles)},[qe(e.$slots,"default",{},function(){return[qe(e.$slots,"icon",{},function(){return[e.theme==="success"?(H(),Oe(o,{key:0})):(H(),Oe(l,{key:1}))]}),J("span",{class:z("".concat(e.name,"--txt"))},Ae(e.content),3),e.closeBtn===!0?(H(),Oe(u,{key:0,onClick:e.onClose},null,8,["onClick"])):(H(),Oe(s,{key:1,content:e.closeBtnContent},null,8,["content"]))]})],6)):se("",!0)]}),_:3},8,["onAfterLeave","onAfterEnter"])}Mr.render=i$;/**
 * tdesign v0.8.4
 * (c) 2022 TDesign Group
 * @license MIT
 */function ym(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function oi(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ym(Object(n),!0).forEach(function(r){te(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ym(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function o$(e){var t=q(!1),n=document.createElement("div");document.body.appendChild(n);var r=ee({render:function(){return yt(Mr,oi(oi({},e),{},{visible:t.value,onClose:function(){t.value=!1},onClosed:function(){n.remove()}}))}});Uo(r).mount(n),Re(function(){t.value=!0})}var s$={align:"left",closeBtn:"",content:"",duration:3e3,theme:"info",visible:!1,zIndex:5e3,onClose:function(){},onClosed:function(){},onOpen:function(){},onOpened:function(){},onVisibleChange:function(){}};["info","success","warning","error"].forEach(function(e){Mr[e]=function(t){var n=oi(oi({},s$),{},{theme:e});typeof t=="string"?n.content=t:n=oi(oi({},n),t),o$(n)}});Mr.install=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";e.component(t||Mr.name,Mr),e.config.globalProperties.$message=Mr};var kc=Le(Mr),zb={exports:{}};(function(e,t){(function(n,r){e.exports=r()})(mo,function(){var n=1e3,r=6e4,a=36e5,i="millisecond",o="second",l="minute",u="hour",s="day",c="week",d="month",v="quarter",S="year",E="date",m="Invalid Date",f=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,g=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,h={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_")},y=function(P,D,I){var x=String(P);return!x||x.length>=D?P:""+Array(D+1-x.length).join(I)+P},b={s:y,z:function(P){var D=-P.utcOffset(),I=Math.abs(D),x=Math.floor(I/60),L=I%60;return(D<=0?"+":"-")+y(x,2,"0")+":"+y(L,2,"0")},m:function P(D,I){if(D.date()<I.date())return-P(I,D);var x=12*(I.year()-D.year())+(I.month()-D.month()),L=D.clone().add(x,d),$=I-L<0,M=D.clone().add(x+($?-1:1),d);return+(-(x+(I-L)/($?L-M:M-L))||0)},a:function(P){return P<0?Math.ceil(P)||0:Math.floor(P)},p:function(P){return{M:d,y:S,w:c,d:s,D:E,h:u,m:l,s:o,ms:i,Q:v}[P]||String(P||"").toLowerCase().replace(/s$/,"")},u:function(P){return P===void 0}},p="en",C={};C[p]=h;var w=function(P){return P instanceof O},k=function P(D,I,x){var L;if(!D)return p;if(typeof D=="string"){var $=D.toLowerCase();C[$]&&(L=$),I&&(C[$]=I,L=$);var M=D.split("-");if(!L&&M.length>1)return P(M[0])}else{var j=D.name;C[j]=D,L=j}return!x&&L&&(p=L),L||!x&&p},_=function(P,D){if(w(P))return P.clone();var I=typeof D=="object"?D:{};return I.date=P,I.args=arguments,new O(I)},T=b;T.l=k,T.i=w,T.w=function(P,D){return _(P,{locale:D.$L,utc:D.$u,x:D.$x,$offset:D.$offset})};var O=function(){function P(I){this.$L=k(I.locale,null,!0),this.parse(I)}var D=P.prototype;return D.parse=function(I){this.$d=function(x){var L=x.date,$=x.utc;if(L===null)return new Date(NaN);if(T.u(L))return new Date;if(L instanceof Date)return new Date(L);if(typeof L=="string"&&!/Z$/i.test(L)){var M=L.match(f);if(M){var j=M[2]-1||0,F=(M[7]||"0").substring(0,3);return $?new Date(Date.UTC(M[1],j,M[3]||1,M[4]||0,M[5]||0,M[6]||0,F)):new Date(M[1],j,M[3]||1,M[4]||0,M[5]||0,M[6]||0,F)}}return new Date(L)}(I),this.$x=I.x||{},this.init()},D.init=function(){var I=this.$d;this.$y=I.getFullYear(),this.$M=I.getMonth(),this.$D=I.getDate(),this.$W=I.getDay(),this.$H=I.getHours(),this.$m=I.getMinutes(),this.$s=I.getSeconds(),this.$ms=I.getMilliseconds()},D.$utils=function(){return T},D.isValid=function(){return this.$d.toString()!==m},D.isSame=function(I,x){var L=_(I);return this.startOf(x)<=L&&L<=this.endOf(x)},D.isAfter=function(I,x){return _(I)<this.startOf(x)},D.isBefore=function(I,x){return this.endOf(x)<_(I)},D.$g=function(I,x,L){return T.u(I)?this[x]:this.set(L,I)},D.unix=function(){return Math.floor(this.valueOf()/1e3)},D.valueOf=function(){return this.$d.getTime()},D.startOf=function(I,x){var L=this,$=!!T.u(x)||x,M=T.p(I),j=function(ne,ae){var ye=T.w(L.$u?Date.UTC(L.$y,ae,ne):new Date(L.$y,ae,ne),L);return $?ye:ye.endOf(s)},F=function(ne,ae){return T.w(L.toDate()[ne].apply(L.toDate("s"),($?[0,0,0,0]:[23,59,59,999]).slice(ae)),L)},U=this.$W,B=this.$M,K=this.$D,V="set"+(this.$u?"UTC":"");switch(M){case S:return $?j(1,0):j(31,11);case d:return $?j(1,B):j(0,B+1);case c:var X=this.$locale().weekStart||0,Z=(U<X?U+7:U)-X;return j($?K-Z:K+(6-Z),B);case s:case E:return F(V+"Hours",0);case u:return F(V+"Minutes",1);case l:return F(V+"Seconds",2);case o:return F(V+"Milliseconds",3);default:return this.clone()}},D.endOf=function(I){return this.startOf(I,!1)},D.$set=function(I,x){var L,$=T.p(I),M="set"+(this.$u?"UTC":""),j=(L={},L[s]=M+"Date",L[E]=M+"Date",L[d]=M+"Month",L[S]=M+"FullYear",L[u]=M+"Hours",L[l]=M+"Minutes",L[o]=M+"Seconds",L[i]=M+"Milliseconds",L)[$],F=$===s?this.$D+(x-this.$W):x;if($===d||$===S){var U=this.clone().set(E,1);U.$d[j](F),U.init(),this.$d=U.set(E,Math.min(this.$D,U.daysInMonth())).$d}else j&&this.$d[j](F);return this.init(),this},D.set=function(I,x){return this.clone().$set(I,x)},D.get=function(I){return this[T.p(I)]()},D.add=function(I,x){var L,$=this;I=Number(I);var M=T.p(x),j=function(B){var K=_($);return T.w(K.date(K.date()+Math.round(B*I)),$)};if(M===d)return this.set(d,this.$M+I);if(M===S)return this.set(S,this.$y+I);if(M===s)return j(1);if(M===c)return j(7);var F=(L={},L[l]=r,L[u]=a,L[o]=n,L)[M]||1,U=this.$d.getTime()+I*F;return T.w(U,this)},D.subtract=function(I,x){return this.add(-1*I,x)},D.format=function(I){var x=this,L=this.$locale();if(!this.isValid())return L.invalidDate||m;var $=I||"YYYY-MM-DDTHH:mm:ssZ",M=T.z(this),j=this.$H,F=this.$m,U=this.$M,B=L.weekdays,K=L.months,V=function(ae,ye,de,be){return ae&&(ae[ye]||ae(x,$))||de[ye].slice(0,be)},X=function(ae){return T.s(j%12||12,ae,"0")},Z=L.meridiem||function(ae,ye,de){var be=ae<12?"AM":"PM";return de?be.toLowerCase():be},ne={YY:String(this.$y).slice(-2),YYYY:this.$y,M:U+1,MM:T.s(U+1,2,"0"),MMM:V(L.monthsShort,U,K,3),MMMM:V(K,U),D:this.$D,DD:T.s(this.$D,2,"0"),d:String(this.$W),dd:V(L.weekdaysMin,this.$W,B,2),ddd:V(L.weekdaysShort,this.$W,B,3),dddd:B[this.$W],H:String(j),HH:T.s(j,2,"0"),h:X(1),hh:X(2),a:Z(j,F,!0),A:Z(j,F,!1),m:String(F),mm:T.s(F,2,"0"),s:String(this.$s),ss:T.s(this.$s,2,"0"),SSS:T.s(this.$ms,3,"0"),Z:M};return $.replace(g,function(ae,ye){return ye||ne[ae]||M.replace(":","")})},D.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},D.diff=function(I,x,L){var $,M=T.p(x),j=_(I),F=(j.utcOffset()-this.utcOffset())*r,U=this-j,B=T.m(this,j);return B=($={},$[S]=B/12,$[d]=B,$[v]=B/3,$[c]=(U-F)/6048e5,$[s]=(U-F)/864e5,$[u]=U/a,$[l]=U/r,$[o]=U/n,$)[M]||U,L?B:T.a(B)},D.daysInMonth=function(){return this.endOf(d).$D},D.$locale=function(){return C[this.$L]},D.locale=function(I,x){if(!I)return this.$L;var L=this.clone(),$=k(I,x,!0);return $&&(L.$L=$),L},D.clone=function(){return T.w(this.$d,this)},D.toDate=function(){return new Date(this.valueOf())},D.toJSON=function(){return this.isValid()?this.toISOString():null},D.toISOString=function(){return this.$d.toISOString()},D.toString=function(){return this.$d.toUTCString()},P}(),A=O.prototype;return _.prototype=A,[["$ms",i],["$s",o],["$m",l],["$H",u],["$W",s],["$M",d],["$y",S],["$D",E]].forEach(function(P){A[P[1]]=function(D){return this.$g(D,P[0],P[1])}}),_.extend=function(P,D){return P.$i||(P(D,O,_),P.$i=!0),_},_.locale=k,_.isDayjs=w,_.unix=function(P){return _(1e3*P)},_.en=C[p],_.Ls=C,_.p={},_})})(zb);var Ft=zb.exports,l$=/\s/;function u$(e){for(var t=e.length;t--&&l$.test(e.charAt(t)););return t}var c$=u$,d$=c$,f$=/^\s+/;function h$(e){return e&&e.slice(0,d$(e)+1).replace(f$,"")}var v$=h$,m$=v$,bm=Al,g$=_l,Sm=0/0,p$=/^[-+]0x[0-9a-f]+$/i,y$=/^0b[01]+$/i,b$=/^0o[0-7]+$/i,S$=parseInt;function T$(e){if(typeof e=="number")return e;if(g$(e))return Sm;if(bm(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=bm(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=m$(e);var n=y$.test(e);return n||b$.test(e)?S$(e.slice(2),n?2:8):p$.test(e)?Sm:+e}var _c=T$;/**
 * tdesign v0.8.4
 * (c) 2022 TDesign Group
 * @license MIT
 */var C$={cancelBtn:{type:String,default:"\u53D6\u6D88"},confirmBtn:{type:String,default:""},disableDate:{type:[Object,Array,Function]},format:{type:String,default:void 0},mode:{type:[String,Array],default:["year","month","date"]},showWeek:Boolean,title:{type:String,default:""},value:{type:[String,Number],default:void 0},modelValue:{type:[String,Number],default:void 0},defaultValue:{type:[String,Number]},onCancel:Function,onChange:Function,onColumnChange:Function,onConfirm:Function};/**
 * tdesign v0.8.4
 * (c) 2022 TDesign Group
 * @license MIT
 */var E$={cancelBtn:{type:String,default:"\u53D6\u6D88"},confirmBtn:{type:String,default:"\u786E\u8BA4"},title:{type:String,default:""},modelValue:{type:Array},defaultValue:{type:Array},visible:Boolean,onCancel:Function,onChange:Function,onConfirm:Function},w$={options:{type:Array,default:function(){return[]}},value:{type:[String,Number]},formatter:{type:Function,default:function(t){return String(t)}}};/**
 * tdesign v0.8.4
 * (c) 2022 TDesign Group
 * @license MIT
 */var O$=_e.prefix,zn="".concat(O$,"-picker"),Gb=ee({name:zn,components:{TButton:ka},props:E$,emits:["change","cancel","confirm","update:modelValue"],setup:function(t,n){var r=N(function(){return["".concat(zn)]}),a=N(function(){return"".concat(zn,"-item__group")}),i=N(function(){return"".concat(zn,"__mask")}),o=N(function(){return"".concat(zn,"__indicator")}),l=N(function(){return"".concat(zn,"__main")}),u=N(function(){return"".concat(zn,"__toolbar")}),s=N(function(){return"".concat(zn,"__title")}),c=N(function(){return"".concat(zn,"__cancel")}),d=N(function(){return"".concat(zn,"__confirm")}),v=N(function(){return t.confirmBtn||"\u786E\u5B9A"}),S=N(function(){return t.cancelBtn||"\u53D6\u6D88"}),E=[],m=function(){var y=n.slots.default?n.slots.default():[];return y=y.map(function(b,p){var C=b,w;Array.isArray(t.modelValue)&&(w=t.modelValue[p]),Array.isArray(t.defaultValue)&&(w=t.defaultValue[p]),!w&&C.props&&(w=C.props.modelValue||C.props.options[0]);var k=w;return jt(w)==="object"&&(k=w.value),E[p]||(E[p]=k),C.props=Ye(C.props,{value:k,onChange:function(T){E[p]=T.value;var O=[].concat(E);n.emit("change",O)}}),C}),y},f=function(y){var b=E.reduce(function(p,C){return p.push(C),p},[]);n.emit("update:modelValue",b),n.emit("confirm",b)},g=function(y){return n.emit("cancel",{e:y})};return{className:r,mainClassName:l,groupClassName:a,maskClassName:i,toolbarClassName:u,cancelClassName:c,confirmClassName:d,titleClassName:s,confirmButtonText:v,cancelButtonText:S,indicatorClassName:o,handleConfirm:f,handleCancel:g,pickerItems:m,curData:E}}});function k$(e,t,n,r,a,i){var o=ge("t-button");return H(),W("div",{class:z(e.className)},[J("div",{class:z(e.toolbarClassName)},[R(o,{class:z(e.cancelClassName),variant:"text",onClick:e.handleCancel},{default:Ue(function(){return[nt(Ae(e.cancelButtonText),1)]}),_:1},8,["class","onClick"]),J("div",{class:z(e.titleClassName)},Ae(e.title),3),R(o,{class:z(e.confirmClassName),variant:"text",onClick:e.handleConfirm},{default:Ue(function(){return[nt(Ae(e.confirmButtonText),1)]}),_:1},8,["class","onClick"])],2),J("div",{class:z(e.mainClassName)},[J("div",{class:z(e.groupClassName)},[(H(),Oe(jo(e.pickerItems)))],2),J("div",{class:z(e.maskClassName)},null,2),J("div",{class:z(e.indicatorClassName)},null,2)],2)],2)}Gb.render=k$;function Kb(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Tm(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Wb(e,t,n){return t&&Tm(e.prototype,t),n&&Tm(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}/**
 * tdesign v0.8.4
 * (c) 2022 TDesign Group
 * @license MIT
 */var Cm=_e.prefix,_$=function(t,n,r,a){var i=t;return-r*((i=i/a-1)*i*i*i-1)+n},gu=40,Em=200,Zi=60,A$=460,pu=150,D$=function(){function e(t){if(Kb(this,e),te(this,"holder",void 0),te(this,"options",void 0),te(this,"list",null),te(this,"elementItems",[]),te(this,"height",Em),te(this,"curIndex",0),te(this,"itemClassName",""),te(this,"itemSelectedClassName",""),te(this,"itemHeight",gu),te(this,"lastMoveTime",0),te(this,"lastMoveStart",0),te(this,"stopInertiaMove",!1),te(this,"startY",0),te(this,"isPicking",!1),te(this,"offsetYOfStartBound",Zi),te(this,"offsetYOfEndBound",-Zi),te(this,"offsetY",0),te(this,"offsetYOfStart",0),te(this,"offsetYOfEnd",0),te(this,"onChange",void 0),!t.el)throw new Error("options el needed!");this.holder=t.el,this.options=t||{},this.onChange=t.onChange,this.init()}return Wb(e,[{key:"init",value:function(){this.initScrollParams(),this.setSelectedClassName(),this.bindEvent()}},{key:"updateItems",value:function(){this.elementItems=Nt(this.holder.querySelectorAll("li"));var n=this.elementItems.length;this.offsetYOfEnd=-this.itemHeight*(n-3),this.offsetYOfEndBound=-(this.itemHeight*(n-3)+Zi)}},{key:"initScrollParams",value:function(){var n;this.list=this.holder.querySelector("ul"),this.elementItems=Nt(this.holder.querySelectorAll("li")),this.itemHeight=((n=this.holder.querySelector("li"))===null||n===void 0?void 0:n.offsetHeight)||gu,this.height=this.holder.offsetHeight||Em,this.curIndex=this.options.defaultIndex||0,this.itemClassName="".concat(Cm,"-picker-item__item"),this.itemSelectedClassName="".concat(Cm,"-picker-item__item--selected"),this.itemHeight=gu,this.startY=0,this.isPicking=!1,this.lastMoveTime=0,this.lastMoveStart=0,this.stopInertiaMove=!1;var r=(-this.curIndex+2)*this.itemHeight,a=this.elementItems.length;this.setOffsetY(r),this.offsetYOfStart=r,this.offsetYOfEnd=-this.itemHeight*(a-3),this.offsetYOfStartBound=this.itemHeight*2+Zi,this.offsetYOfEndBound=-(this.itemHeight*(a-3)+Zi)}},{key:"bindEvent",value:function(){var n=this;this.holder.addEventListener("touchstart",function(r){return n.touchStartHandler(r)},!1),this.holder.addEventListener("touchmove",function(r){return n.touchMoveHandler(r)},!1),this.holder.addEventListener("touchend",function(r){return n.touchEndHandler(r)},!1),this.holder.addEventListener("touchcancel",function(r){return n.touchEndHandler(r)},!1)}},{key:"touchStartHandler",value:function(n){n.preventDefault(),this.isPicking=!0,this.holder&&(this.list&&(this.list.style.transition=""),this.startY=n.changedTouches[0].pageY,this.updateInertiaParams(n,!0))}},{key:"touchMoveHandler",value:function(n){if(n.preventDefault(),!(!this.isPicking||!this.holder)){var r=n.changedTouches[0].pageY,a=r-this.startY;this.updateInertiaParams(n,!1);var i=(-this.curIndex+2)*this.itemHeight+a;this.setOffsetY(i)}}},{key:"touchEndHandler",value:function(n){if(n.preventDefault(),this.isPicking=!1,!!this.holder){var r=n.changedTouches[0],a=n.timeStamp||Date.now(),i=a-this.lastMoveTime;if(i>A$){this.stopInertiaMove=!1,this.endScroll();return}var o=(r.pageY-this.lastMoveStart)/i,l=o>0?-1:1,u=8e-4,s=-1*l*u,c=Math.abs(o/s),d=n.changedTouches[0].pageY,v=d-this.startY,S=o*c-Math.pow(c,2)*s/2+v;if(S===0){this.stopInertiaMove=!1,this.endScroll();return}this.scrollDist(a,this.offsetY,S,c)}}},{key:"updateInertiaParams",value:function(n,r){var a=n.changedTouches[0];r&&(this.lastMoveStart=a.pageY,this.lastMoveTime=n.timeStamp||Date.now()),this.stopInertiaMove=!0}},{key:"scrollDist",value:function(n,r,a,i){var o=this;this.stopInertiaMove=!1;var l=null,u=function s(c){if(!o.stopInertiaMove){l||(l=c);var d=c-l,v=_$(d,r,a,i);o.setOffsetY(v),d>i||v>o.offsetYOfStartBound||v<o.offsetYOfEndBound?o.endScroll():window.requestAnimationFrame(s)}};window.requestAnimationFrame(u)}},{key:"update",value:function(){this.updateItems();var n=this.curIndex>this.elementItems.length-1?0:this.curIndex;this.updateIndex(n)}},{key:"updateIndex",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:460;this.curIndex=n,this.setSelectedClassName();var a=(-n+2)*this.itemHeight;this.list&&(this.list.style.transform="translate(0,".concat(a,"px) translateZ(0)"),this.list.style.transitionDuration="".concat(r,"ms"),this.list.style.transitionTimingFunction="ease-out"),this.onChange(n)}},{key:"getCurIndex",value:function(){return this.curIndex}},{key:"fix3d",value:function(n){for(var r=0;r<this.elementItems.length;r++){var a=25*(-n+r);this.elementItems[r].style.transform="rotateX(".concat(a,"deg)"),this.elementItems[r].style.webkitTransform="rotateX(".concat(a,"deg)")}}},{key:"setSelectedClassName",value:function(){var n=this,r=new RegExp(this.itemClassName,"i"),a=new RegExp(this.itemSelectedClassName,"i");this.elementItems.forEach(function(i,o){var l=i,u=l.className;u===""||!u?l.className=n.itemClassName:(r.test(u)||l.classList.add(n.itemClassName),a.test(u)&&l.classList.remove(n.itemSelectedClassName)),n.curIndex===o&&l.classList.add(n.itemSelectedClassName)})}},{key:"setOffsetY",value:function(n){this.offsetY=n,this.list&&(this.list.style.transform="translate3d(0, ".concat(n,"px, 0)"))}},{key:"endScroll",value:function(){if(!this.stopInertiaMove){var n=0;this.offsetY>this.offsetYOfStartBound?(n=0,this.list&&(this.list.style.transition="".concat(pu,"ms ease-out"))):this.offsetY<this.offsetYOfEndBound?(n=this.elementItems.length-1,this.list&&(this.list.style.transition="".concat(pu,"ms ease-out"))):(this.list&&(this.list.style.transition="".concat(pu,"ms ease-out")),n=2-Math.round(this.offsetY/this.itemHeight),n<0&&(n=0),n>this.elementItems.length-1&&(n=this.elementItems.length-1));var r=(-n+2)*this.itemHeight;this.setOffsetY(r),n!==this.curIndex&&(this.curIndex=n,this.setSelectedClassName(),this.onChange(this.curIndex))}}},{key:"destroy",value:function(){delete this.holder}}]),e}();/**
 * tdesign v0.8.4
 * (c) 2022 TDesign Group
 * @license MIT
 */function wm(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function P$(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?wm(Object(n),!0).forEach(function(r){te(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):wm(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var I$=_e.prefix,ns="".concat(I$,"-picker-item"),Yb=ee({name:ns,props:w$,emits:["change"],setup:function(t,n){var r=null,a=document.createElement("div"),i=q(a),o=function(d){var v=0;return d!==void 0&&(v=jt(d)==="object"?t.options.findIndex(function(S){return S.value===d}):t.options.indexOf(d)),v<0?0:v},l=N(function(){return"".concat(ns)}),u=N(function(){return["".concat(ns,"__wrapper")]}),s=N(function(){return["".concat(ns,"__item")]});return oe(function(){return t.options},function(){Re(function(){r&&r.update()})}),oe(function(){return t.value},function(c){Re(function(){r&&r.updateIndex(o(c))})},{immediate:!0}),tt(function(){r=new D$({el:i.value,defaultIndex:o(t.value)||0,onChange:function(d){var v=t.options[d],S=jt(v)==="object"?v.value:v,E={value:S,index:d};n.emit("change",E)}})}),P$({root:i,className:l,wrapperClassName:u,itemClassName:s},ze(t))}});function L$(e,t,n,r,a,i){return H(),W("div",{ref:"root",class:z(e.className)},[J("ul",{class:z(e.wrapperClassName)},[(H(!0),W(Ce,null,Ne(e.options,function(o,l){return H(),W("li",{key:l,class:z(e.itemClassName)},Ae(e.formatter(jt(o)==="object"?o.label:o)),3)}),128))],2)],2)}Yb.render=L$;/**
 * tdesign v0.8.4
 * (c) 2022 TDesign Group
 * @license MIT
 */var qb=Le(Gb),Xb=Le(Yb);/**
 * tdesign v0.8.4
 * (c) 2022 TDesign Group
 * @license MIT
 */var Zb=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{},Ac={exports:{}};(function(e,t){(function(n,r){e.exports=r()})(Zb,function(){return function(n,r){r.prototype.weekday=function(a){var i=this.$locale().weekStart||0,o=this.$W,l=(o<i?o+7:o)-i;return this.$utils().u(a)?l:this.subtract(l,"day").add(a,"day")}}})})(Ac,Ac.exports);var R$=Ac.exports,Dc={exports:{}};(function(e,t){(function(n,r){e.exports=r()})(Zb,function(){var n={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},r=/(\[[^[]*\])|([-:/.()\s]+)|(A|a|YYYY|YY?|MM?M?M?|Do|DD?|hh?|HH?|mm?|ss?|S{1,3}|z|ZZ?)/g,a=/\d\d/,i=/\d\d?/,o=/\d*[^\s\d-_:/()]+/,l={},u=function(f){return(f=+f)+(f>68?1900:2e3)},s=function(f){return function(g){this[f]=+g}},c=[/[+-]\d\d:?(\d\d)?|Z/,function(m){(this.zone||(this.zone={})).offset=function(f){if(!f||f==="Z")return 0;var g=f.match(/([+-]|\d\d)/g),h=60*g[1]+(+g[2]||0);return h===0?0:g[0]==="+"?-h:h}(m)}],d=function(f){var g=l[f];return g&&(g.indexOf?g:g.s.concat(g.f))},v=function(f,g){var h,y=l.meridiem;if(y){for(var b=1;b<=24;b+=1)if(f.indexOf(y(b,0,g))>-1){h=b>12;break}}else h=f===(g?"pm":"PM");return h},S={A:[o,function(m){this.afternoon=v(m,!1)}],a:[o,function(m){this.afternoon=v(m,!0)}],S:[/\d/,function(m){this.milliseconds=100*+m}],SS:[a,function(m){this.milliseconds=10*+m}],SSS:[/\d{3}/,function(m){this.milliseconds=+m}],s:[i,s("seconds")],ss:[i,s("seconds")],m:[i,s("minutes")],mm:[i,s("minutes")],H:[i,s("hours")],h:[i,s("hours")],HH:[i,s("hours")],hh:[i,s("hours")],D:[i,s("day")],DD:[a,s("day")],Do:[o,function(m){var f=l.ordinal,g=m.match(/\d+/);if(this.day=g[0],f)for(var h=1;h<=31;h+=1)f(h).replace(/\[|\]/g,"")===m&&(this.day=h)}],M:[i,s("month")],MM:[a,s("month")],MMM:[o,function(m){var f=d("months"),g=(d("monthsShort")||f.map(function(h){return h.slice(0,3)})).indexOf(m)+1;if(g<1)throw new Error;this.month=g%12||g}],MMMM:[o,function(m){var f=d("months").indexOf(m)+1;if(f<1)throw new Error;this.month=f%12||f}],Y:[/[+-]?\d+/,s("year")],YY:[a,function(m){this.year=u(m)}],YYYY:[/\d{4}/,s("year")],Z:c,ZZ:c};function E(m){var f,g;f=m,g=l&&l.formats;for(var h=(m=f.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,function(_,T,O){var A=O&&O.toUpperCase();return T||g[O]||n[O]||g[A].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(P,D,I){return D||I.slice(1)})})).match(r),y=h.length,b=0;b<y;b+=1){var p=h[b],C=S[p],w=C&&C[0],k=C&&C[1];h[b]=k?{regex:w,parser:k}:p.replace(/^\[|\]$/g,"")}return function(_){for(var T={},O=0,A=0;O<y;O+=1){var P=h[O];if(typeof P=="string")A+=P.length;else{var D=P.regex,I=P.parser,x=_.slice(A),L=D.exec(x)[0];I.call(T,L),_=_.replace(L,"")}}return function($){var M=$.afternoon;if(M!==void 0){var j=$.hours;M?j<12&&($.hours+=12):j===12&&($.hours=0),delete $.afternoon}}(T),T}}return function(m,f,g){g.p.customParseFormat=!0,m&&m.parseTwoDigitYear&&(u=m.parseTwoDigitYear);var h=f.prototype,y=h.parse;h.parse=function(b){var p=b.date,C=b.utc,w=b.args;this.$u=C;var k=w[1];if(typeof k=="string"){var _=w[2]===!0,T=w[3]===!0,O=_||T,A=w[2];T&&(A=w[2]),l=this.$locale(),!_&&A&&(l=g.Ls[A]),this.$d=function(x,L,$){try{if(["x","X"].indexOf(L)>-1)return new Date((L==="X"?1e3:1)*x);var M=E(L)(x),j=M.year,F=M.month,U=M.day,B=M.hours,K=M.minutes,V=M.seconds,X=M.milliseconds,Z=M.zone,ne=new Date,ae=U||(j||F?1:ne.getDate()),ye=j||ne.getFullYear(),de=0;j&&!F||(de=F>0?F-1:ne.getMonth());var be=B||0,G=K||0,Y=V||0,Q=X||0;return Z?new Date(Date.UTC(ye,de,ae,be,G,Y,Q+60*Z.offset*1e3)):$?new Date(Date.UTC(ye,de,ae,be,G,Y,Q)):new Date(ye,de,ae,be,G,Y,Q)}catch{return new Date("")}}(p,k,C),this.init(),A&&A!==!0&&(this.$L=this.locale(A).$L),O&&p!=this.format(k)&&(this.$d=new Date("")),l={}}else if(k instanceof Array)for(var P=k.length,D=1;D<=P;D+=1){w[1]=k[D-1];var I=g.apply(this,w);if(I.isValid()){this.$d=I.$d,this.$L=I.$L,this.init();break}D===P&&(this.$d=new Date(""))}else y.call(this,b)}}})})(Dc,Dc.exports);var x$=Dc.exports;Ft.extend(R$);Ft.extend(x$);var $$=_e.prefix,Om="".concat($$,"-date-time-picker"),Jb=["year","month","date"],Qb=["hour","minute","second"],km=[].concat(Jb,Qb),eS=ee({name:Om,components:{TPicker:qb,TPickerItem:Xb},props:C$,emits:["change","update:value","update:modelValue","cancel","confirm","columnChange"],setup:function(t,n){var r=Tt(t,n.emit),a=Vt(t,n.emit,"value","change"),i=kt(a,1),o=i[0],l=N(function(){return["".concat(Om)]}),u=N(function(){var I=[].concat(Jb),x=[].concat(Qb);return[I,x].forEach(function(L){Nt(L).reverse().every(function($){return t.mode instanceof Array?t.mode.includes($)?!1:(L.pop(),!0):t.mode!==$?(L.pop(),!0):!1})}),[].concat(Nt(I),Nt(x))}),s=N(function(){var I="",x="";return u.value.includes("year")&&(I="YYYY"),u.value.includes("month")&&(I="YYYY-MM"),u.value.includes("date")&&(I="YYYY-MM-DD"),u.value.includes("hour")&&(x="HH"),u.value.includes("minute")&&(x="HH:mm"),u.value.includes("second")&&(x="HH:mm:ss"),"".concat(I," ").concat(x).trim()}),c=N(function(){var I=Ft(),x=[t.format,s.value],L=Ft(o.value,x,"es",!0),$=u.value.map(function(M){var j=L[M]();return(j===void 0||j==null||isNaN(j))&&(j=I[M]()),j});return $}),d=N(function(){var I=Ft(),x=[t.format,s.value],L=Ft(o.value,x,"es",!0),$=Object.create({});return km.forEach(function(M){$[M]=I[M]()}),u.value.forEach(function(M){var j=L[M]();(j===void 0||j==null||isNaN(j))&&($[M]=I[M]())}),$}),v=Me({pickerValue:c.value,year:d.value.year,month:d.value.month,date:d.value.date,hour:d.value.hour,minute:d.value.minute,second:d.value.second}),S=q(d.value.year);yl(function(){S.value=v.year});var E=N(function(){if(t.title!==void 0)return t.title;var I="\u9009\u62E9";return(u.value.includes("year")||u.value.includes("month")||u.value.includes("date"))&&(I+="\u65E5\u671F"),(u.value.includes("hour")||u.value.includes("minute")||u.value.includes("second"))&&(I+="\u65F6\u95F4"),I}),m=N(function(){return t.confirmBtn||"\u786E\u5B9A"}),f=N(function(){return t.cancelBtn||"\u53D6\u6D88"}),g=function(){if(!t.disableDate)return!0;for(var x=arguments.length,L=new Array(x),$=0;$<x;$++)L[$]=arguments[$];if(L.length===0)return!1;var M=L[0],j=M===void 0?Ft().year():M,F=L[1],U=F===void 0?0:F,B=L[2],K=B===void 0?1:B,V=L[3],X=V===void 0?0:V,Z=L[4],ne=Z===void 0?0:Z,ae=L[5],ye=ae===void 0?0:ae,de=km[L.length-1],be=Ft().year(j).month(U).date(K).hour(X).minute(ne).second(ye),G=typeof t.disableDate=="function"?!t.disableDate(k(be)):!0,Y=t.disableDate instanceof Array?t.disableDate.every(function(Se){return!be.isSame(Ft(Se),de)}):!0,Q=t.disableDate,re=!0;Q!=null&&Q.from&&Q!==null&&Q!==void 0&&Q.to?re=be.isBefore(Ft(Q==null?void 0:Q.from),de)||!be.isAfter(Ft(Q==null?void 0:Q.to),de):Q!=null&&Q.from?re=be.isBefore(Ft(Q==null?void 0:Q.from),de):Q!=null&&Q.to&&(re=be.isAfter(Ft(Q==null?void 0:Q.to),de));var ie=!0;Q!=null&&Q.before&&(ie=!be.isBefore(Ft(Q==null?void 0:Q.before),de));var le=!0;return Q!=null&&Q.after&&(le=!be.isAfter(Ft(Q==null?void 0:Q.after),de)),G&&Y&&re&&ie&&le},h=N(function(){return Array.from(new Array(200),function(I,x){return 1900+x}).filter(function(I){return g(I)})}),y=N(function(){return Array.from(new Array(12),function(I,x){return x}).filter(function(I){return g(v.year,I)})}),b=N(function(){var I=31;if(u.value.indexOf("year")>-1&&u.value.indexOf("month")>-1){var x=Ft().year(v.year).month(v.month);I=x.daysInMonth?x.daysInMonth():0}return Array.from(I?new Array(I):[],function(L,$){return $+1}).filter(function(L){return g(v.year,v.month,L)})}),p=N(function(){return Array.from(new Array(24),function(I,x){return x}).filter(function(I){return g(v.year,v.month,v.date,I)})}),C=N(function(){return Array.from(new Array(60),function(I,x){return x}).filter(function(I){return g(v.year,v.month,v.date,v.hour,I)})}),w=N(function(){return Array.from(new Array(60),function(I,x){return x}).filter(function(I){return g(v.year,v.month,v.date,v.hour,v.minute,I)})}),k=function(){var x=arguments.length>0&&arguments[0]!==void 0?arguments[0]:void 0,L=x;L===void 0&&(L=Ft().month(0).date(1).hour(0).minute(0).second(0),u.value.forEach(function(M,j){L&&(L=L[M](v.pickerValue[j]))}));var $="";return t.format?$=L.format(t.format):typeof t.value=="number"?$=L.unix():$=L.format(s.value),$},_=function(x){var L=x.e,$=k();o.value=$,r("confirm",{value:$,e:L})},T=function(x){r("cancel",{e:x})},O=function(x){JSON.stringify(v.pickerValue)!==JSON.stringify(x)&&(v.pickerValue=x.map(function(L){return _c(L)}),u.value.forEach(function(L,$){v[L]=_c(x[$])}))},A=function(x,L){n.emit("columnChange",{value:x,index:L})},P=function(x){var L=Ft().year(v.year).month(v.month).date(x).day(),$="";switch(L){case 0:$="\u65E5";break;case 1:$="\u4E00";break;case 2:$="\u4E8C";break;case 3:$="\u4E09";break;case 4:$="\u56DB";break;case 5:$="\u4E94";break;case 6:$="\u516D";break}return"(".concat($,")")},D=function(x){switch(x){case"year":return function(L){return"".concat(L,"\u5E74")};case"month":return function(L){return"".concat(L+1,"\u6708")};case"date":return function(L){return"".concat(L,"\u65E5").concat(t.showWeek?P(L):"")};case"hour":return function(L){return"".concat(L,"\u65F6")};case"minute":return function(L){return"".concat(L,"\u5206")};case"second":return function(L){return"".concat(L,"\u79D2")}}};return{className:l,confirmButtonText:m,cancelButtonText:f,onConfirm:_,onCancel:T,pickerColumns:u,yearOptions:h,monthOptions:y,dateOptions:b,hourOptions:p,minuteOptions:C,secondOptions:w,onColumnChange:A,onChange:O,defaultPickerValue:c,data:v,getWeekdayText:P,title:E,formatLabel:D}}});function M$(e,t,n,r,a,i){var o=ge("t-picker-item"),l=ge("t-picker");return H(),W("div",{class:z(e.className)},[e.pickerColumns.includes("year")||e.pickerColumns.includes("month")||e.pickerColumns.includes("date")?(H(),Oe(l,{key:0,"default-value":e.data.pickerValue,value:e.data.pickerValue,title:e.title,onChange:e.onChange,onConfirm:e.onConfirm,onCancel:e.onCancel},{default:Ue(function(){return[e.pickerColumns.includes("year")?(H(),Oe(o,{key:0,options:e.yearOptions,formatter:e.formatLabel("year"),onChange:e.onColumnChange},null,8,["options","formatter","onChange"])):se("",!0),e.pickerColumns.includes("month")?(H(),Oe(o,{key:1,options:e.monthOptions,formatter:e.formatLabel("month"),onChange:e.onColumnChange},null,8,["options","formatter","onChange"])):se("",!0),e.pickerColumns.includes("date")?(H(),Oe(o,{key:2,options:e.dateOptions,formatter:e.formatLabel("date"),onChange:e.onColumnChange},null,8,["options","formatter","onChange"])):se("",!0),e.pickerColumns.includes("hour")?(H(),Oe(o,{key:3,options:e.hourOptions,formatter:e.formatLabel("hour"),onChange:e.onColumnChange},null,8,["options","formatter","onChange"])):se("",!0),e.pickerColumns.includes("minute")?(H(),Oe(o,{key:4,options:e.minuteOptions,formatter:e.formatLabel("minute"),onChange:e.onColumnChange},null,8,["options","formatter","onChange"])):se("",!0),e.pickerColumns.includes("second")?(H(),Oe(o,{key:5,options:e.secondOptions,formatter:e.formatLabel("second"),onChange:e.onColumnChange},null,8,["options","formatter","onChange"])):se("",!0)]}),_:1},8,["default-value","value","title","onChange","onConfirm","onCancel"])):(H(),Oe(l,{key:1,"default-value":e.data.pickerValue,value:e.data.pickerValue,title:e.title,onChange:e.onChange,onConfirm:e.onConfirm,onCancel:e.onCancel},{default:Ue(function(){return[e.pickerColumns.includes("hour")?(H(),Oe(o,{key:0,options:e.hourOptions,formatter:e.formatLabel("hour"),onChange:e.onColumnChange},null,8,["options","formatter","onChange"])):se("",!0),e.pickerColumns.includes("minute")?(H(),Oe(o,{key:1,options:e.minuteOptions,formatter:e.formatLabel("minute"),onChange:e.onColumnChange},null,8,["options","formatter","onChange"])):se("",!0),e.pickerColumns.includes("second")?(H(),Oe(o,{key:2,options:e.secondOptions,formatter:e.formatLabel("second"),onChange:e.onColumnChange},null,8,["options","formatter","onChange"])):se("",!0)]}),_:1},8,["default-value","value","title","onChange","onConfirm","onCancel"]))],2)}eS.render=M$;/**
 * tdesign v0.8.4
 * (c) 2022 TDesign Group
 * @license MIT
 */var F$=Le(eS);/**
 * tdesign v0.8.4
 * (c) 2022 TDesign Group
 * @license MIT
 */var B$={direction:{type:String,default:"row",validator:function(t){return["row","column"].includes(t)}},duration:{type:Number,default:2e3},icon:{type:[String,Function]},message:{type:[String,Function]},placement:{type:String,default:"middle",validator:function(t){return["top","middle","bottom"].includes(t)}},preventScrollThrough:Boolean,theme:{type:String,validator:function(t){return["loading","success","fail"].includes(t)}}};/**
 * tdesign v0.8.4
 * (c) 2022 TDesign Group
 * @license MIT
 */function _m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function N$(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?_m(Object(n),!0).forEach(function(r){te(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_m(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var tS=_e.prefix,or="".concat(tS,"-toast"),nS=ee({name:or,components:{TMask:Rl,TNode:ut},props:B$,setup:function(t){var n={loading:k0,success:RO,fail:WO},r=Be(),a=N(function(){return Ge(r,"message")}),i=N(function(){var u=Ge(r,"icon");return u===void 0&&t.theme&&(u=yt(n[t.theme])),u}),o=N(function(){var u;return["".concat(or),(u={},te(u,"".concat(or,"--").concat(t.direction),t.direction),te(u,"".concat(or,"--text"),!i.value),te(u,"".concat(or,"--icononly"),!a.value&&i.value),te(u,"".concat(or,"--top"),t.placement==="top"),te(u,"".concat(or,"--middle"),t.placement==="middle"),te(u,"".concat(or,"--bottom"),t.placement==="bottom"),u)]}),l="".concat(tS,"-overflow-hidden");return tt(function(){t.preventScrollThrough&&document.body.classList.add(l)}),Mn(function(){t.preventScrollThrough&&document.body.classList.remove(l)}),N$({name:q(or),classes:o,iconContent:i,messageContent:a},ze(t))}});function j$(e,t,n,r,a,i){var o=ge("t-mask"),l=ge("t-node");return H(),W("div",null,[Ke(R(o,null,null,512),[[Xe,e.preventScrollThrough]]),J("div",{class:z(e.classes)},[R(l,{content:e.iconContent},null,8,["content"]),e.messageContent?(H(),W("div",{key:0,class:z("".concat(e.name,"__text"))},[R(l,{content:e.messageContent},null,8,["content"])],2)):se("",!0)],2)])}nS.render=j$;/**
 * tdesign v0.8.4
 * (c) 2022 TDesign Group
 * @license MIT
 */function Am(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function el(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Am(Object(n),!0).forEach(function(r){te(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Am(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var Pn=null,yu;function mi(e){var t=document.createElement("div");document.body.appendChild(t);var n=el({duration:2e3},U$(e));return Pn&&Pn.clear(),Pn=nS,Pn.clear=function(){clearTimeout(Pn.timer),yu.unmount(),t.remove()},n.duration&&n.duration>0&&(Pn.timer=setTimeout(Pn.clear,n.duration)),yu=Uo(Pn,el({},n)),yu.mount(t),Pn}mi.clear=function(){Pn&&Pn.clear()};["loading","success","fail"].forEach(function(e){!e||(mi[e]=function(t){var n={message:"",type:e};return typeof t=="string"?n.message=t:n=el(el({},n),t),mi(n)})});function U$(e){return typeof e=="string"?{message:e}:e}mi.install=function(e){e.config.globalProperties.$toast=mi};var V$=mi;/**
 * tdesign v0.8.4
 * (c) 2022 TDesign Group
 * @license MIT
 */function Dm(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Pm(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Dm(Object(n),!0).forEach(function(r){te(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Dm(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var rS=_e.prefix,bu="".concat(rS,"-search"),aS=ee({name:bu,components:{TIconSearch:ek,TCloseIcon:O0,TButton:ka,TInput:Eb},props:{autofocus:{type:Boolean,default:!1},clearable:{type:Boolean,default:!0},placeholder:{type:String,default:""},modelValue:{type:String,default:""},cancelButtonText:{type:String,default:"\u53D6\u6D88"}},emits:["change","update:modelValue","clear","cancel"],setup:function(t,n){var r=n.emit,a=N(function(){var E;return E={},te(E,"".concat(bu),!0),te(E,"".concat(rS,"-is-focused"),!o.labelActive),E}),i=q(),o=Me({labelActive:!0,inputVal:""}),l=N({get:function(){return o.labelActive},set:function(m){o.labelActive=!m}}),u=N({get:function(){return t.modelValue||o.inputVal},set:function(m){r("change",m),r("update:modelValue",m),o.inputVal=m}}),s=function(){var m;(m=i.value)===null||m===void 0||m.focus()},c=function(){var m;(m=i.value)===null||m===void 0||m.blur()},d=function(){l.value=o.labelActive,s()},v=function(m){l.value=o.labelActive,u.value="",c(),r("cancel",m)},S=function(m){u.value="",s(),r("clear",m)};return A0({focus:s,blur:c}),Pm(Pm({},ze(t)),{},{name:q(bu),classes:a,onClick:d,onCancel:v,onClear:S,state:o,currentValue:u,searchInput:i})}});function H$(e,t,n,r,a,i){var o=ge("t-icon-search"),l=ge("t-input"),u=ge("t-close-icon"),s=ge("t-button");return H(),W("div",{class:z(e.classes)},[J("div",{class:z("".concat(e.name,"__form"))},[J("div",{class:z("".concat(e.name,"__box"))},[J("div",{class:z("".concat(e.name,"__icon-search"))},[R(o)],2),R(l,{ref:"searchInput",modelValue:e.currentValue,"onUpdate:modelValue":t[0]||(t[0]=function(c){return e.currentValue=c}),class:z("".concat(e.name,"__input")),type:"search",autofocus:e.autofocus,placeholder:e.placeholder},null,8,["modelValue","class","autofocus","placeholder"]),J("div",{class:z("".concat(e.name,"__icon-close"))},[e.clearable&&e.currentValue.length>0?(H(),Oe(u,{key:0,onClick:e.onClear},null,8,["onClick"])):se("",!0)],2)],2),Ke(J("label",{class:z("".concat(e.name,"__label")),onClick:t[1]||(t[1]=function(){return e.onClick&&e.onClick.apply(e,arguments)})},[J("div",{class:z("".concat(e.name,"__label-icon-search"))},[R(o)],2),J("span",{class:z("".concat(e.name,"__label-text"))},Ae(e.placeholder),3)],2),[[Xe,e.state.labelActive]])],2),Ke(R(s,{variant:"text",class:z("".concat(e.name,"__cancel-button")),onClick:e.onCancel},{default:Ue(function(){return[nt(Ae(e.cancelButtonText),1)]}),_:1},8,["class","onClick"]),[[Xe,!e.state.labelActive]])],2)}aS.render=H$;/**
 * tdesign v0.8.4
 * (c) 2022 TDesign Group
 * @license MIT
 */var z$=Le(aS);/**
 * tdesign v0.8.4
 * (c) 2022 TDesign Group
 * @license MIT
 */var G$={current:{type:[String,Number],default:void 0},modelValue:{type:[String,Number],default:void 0},defaultCurrent:{type:[String,Number],default:0},layout:{type:String,default:"horizontal",validator:function(t){return["horizontal","vertical"].includes(t)}},options:{type:Array},readonly:Boolean,theme:{type:String,default:"default",validator:function(t){return["default","dot"].includes(t)}},onChange:Function};/**
 * tdesign v0.8.4
 * (c) 2022 TDesign Group
 * @license MIT
 */var K$={content:{type:[String,Function],default:""},icon:{type:[Boolean,Function],default:!0},status:{type:String,default:"default",validator:function(t){return["default","process","finish","error"].includes(t)}},title:{type:[String,Function],default:""}};/**
 * tdesign v0.8.4
 * (c) 2022 TDesign Group
 * @license MIT
 */var W$=_e.prefix,Gn="".concat(W$,"-step"),Kd=ee({name:Gn,components:{TNode:ut},props:K$,setup:function(t){var n=Be(),r=n.proxy,a=et("stepsProvide",void 0);a.relation(r);var i=N(function(){return a.state.children.indexOf(r)}),o=N(function(){return a.theme}),l=N(function(){return o.value==="dot"&&a.layout==="vertical"}),u=N(function(){return Ge(n,"icon")}),s=N(function(){return l.value?"":t.status==="error"?yt(ki):i.value<S.value&&m.value?yt($d):typeof u.value=="boolean"?u.value?i.value+1:"":u.value}),c=N(function(){return Ge(n,"title")}),d=N(function(){return Ge(n,"content")}),v=N(function(){return Ge(n,"extra")}),S=N(function(){return a.current.value||a.defaultCurrent||0}),E=N(function(){return a.status}),m=N(function(){return a.readonly}),f=N(function(){return[Gn,te({},"".concat(Gn,"--default"),!m.value),te({},"".concat(Gn,"--").concat(y.value),y.value)]}),g=N(function(){return typeof u.value=="boolean"?["".concat(Gn,"__inner")]:["".concat(Gn,"__inner"),"".concat(Gn,"__inner__icon")]}),h=N(function(){return["".concat(Gn,"-icon__number"),te({},"".concat(Gn,"-icon__dot"),l.value)]}),y=N(function(){var p=t.status;return p!=="default"?p:i.value<S.value?"finish":i.value===S.value?"process":""}),b=function(C){!m.value&&!l.value&&a.onClickItem(i.value,S.value,C)};return{dot:l,name:Gn,theme:o,index:i,current:S,readonly:m,iconNode:u,stepsStatus:E,descContent:d,iconContent:s,onClickIcon:b,titleContent:c,extraContent:v,rootClassName:f,currentStatus:y,iconClassName:h,innerClassName:g}}});function Y$(e,t,n,r,a,i){var o=ge("t-node");return H(),W("div",{class:z(e.rootClassName)},[J("div",{class:z(e.innerClassName),onClick:t[0]||(t[0]=function(){return e.onClickIcon&&e.onClickIcon.apply(e,arguments)})},[J("div",{class:z("".concat(e.name,"-icon"))},[J("div",{class:z(e.iconClassName)},[R(o,{content:e.iconContent},null,8,["content"])],2)],2),J("div",{class:z("".concat(e.name,"-content"))},[J("div",{class:z("".concat(e.name,"-title"))},[R(o,{content:e.titleContent},null,8,["content"])],2),J("div",{class:z("".concat(e.name,"-description"))},[R(o,{content:e.descContent},null,8,["content"])],2),J("div",{class:z("".concat(e.name,"-extra"))},[R(o,{content:e.extraContent},null,8,["content"])],2)],2)],2)],2)}Kd.render=Y$;/**
 * tdesign v0.8.4
 * (c) 2022 TDesign Group
 * @license MIT
 */function Im(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Su(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Im(Object(n),!0).forEach(function(r){te(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Im(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var q$=_e.prefix,Ji="".concat(q$,"-steps"),iS=ee({name:Ji,components:{TStepItem:Kd},props:G$,emits:["update:current","update:modelValue","change"],setup:function(t,n){var r=N(function(){return[Ji,"".concat(Ji,"--").concat(t.layout),te({},"".concat(Ji,"--readonly"),t.readonly),"".concat(Ji,"--").concat(t.theme,"-anchor")]}),a=Vt(t,n.emit,"current","change"),i=kt(a,2),o=i[0],l=i[1],u=Me({children:[]}),s=function(v){v&&u.children.push(v)},c=function(v,S,E){l(v,S,{e:E})};return ft("stepsProvide",Su(Su({},t),{},{state:u,current:o,relation:s,onClickItem:c})),Su({baseClass:r,onClickItem:c},ze(t))}});function X$(e,t,n,r,a,i){var o=ge("t-step-item");return H(),W("div",{class:z(e.baseClass)},[qe(e.$slots,"default",{},function(){return[(H(!0),W(Ce,null,Ne(e.options,function(l,u){return H(),Oe(o,{key:u,title:l.title,content:l.content,icon:l.icon,status:l.status},null,8,["title","content","icon","status"])}),128))]})],2)}iS.render=X$;/**
 * tdesign v0.8.4
 * (c) 2022 TDesign Group
 * @license MIT
 */var Z$=Le(Kd),J$=Le(iS);/**
 * tdesign v0.8.4
 * (c) 2022 TDesign Group
 * @license MIT
 */var Q$=_e.prefix,Tu=[],rs="".concat(Q$,"-indexes"),oS=ee({name:rs,props:{indexList:{type:Array,default:function(){return[]}}},setup:function(t,n){var r,a,i=!1,o=q(null),l=Me({componentName:rs,indexList:t.indexList,showCurrentSidebar:!1,currentSidebar:"",children:[]}),u=function b(){var p=o==null?void 0:o.value,C=p||{scrollTop:0},w=C.scrollTop;a&&clearTimeout(a),a=window.setTimeout(function(){var k=o==null?void 0:o.value,_=k||{scrollTop:0},T=_.scrollTop;w===T||(b(),c(w))},100)},s=function(){var p,C=d(),w=C.filter(function(k){var _=k.dataset;return _&&_.index===l.currentSidebar});(p=w[0])===null||p===void 0||p.scrollIntoView()},c=function(p){var C=d(),w="";C.forEach(function(k){var _=k.offsetTop,T=k.clientHeight,O=_-T;if(w===""&&O>0){var A;w=(A=C[0].dataset.index)!==null&&A!==void 0?A:""}else if(O<p){var P;w=(P=k.dataset.index)!==null&&P!==void 0?P:""}}),v(w)},d=function(){return Array.from(document.getElementsByClassName("".concat(rs,"__anchor"))).filter(function(p){return p instanceof HTMLElement})},v=function(p){l.currentSidebar=p,l.showCurrentSidebar=!0};yl(function(){l.showCurrentSidebar&&y()}),tt(function(){if(Tu=d(),Tu.length>0){var b=Tu[0].dataset.index;b!==void 0&&(l.currentSidebar=b)}});var S=function(p){v(p),s()},E=function(p){var C=p.touches;C[0].clientX,C[0].clientX},m=function(p){var C=p.touches,w=C[0],k=w.clientX,_=w.clientY,T=document.elementFromPoint(k,_);if(T&&T.className==="".concat(rs,"__sidebar-item")&&T instanceof HTMLElement){var O=T.dataset.index;O!==void 0&&l.currentSidebar!==O&&(v(O),s())}},f=function(p){!i||o.value&&c(o.value.scrollTop)},g=function(){i=!0},h=function(){i=!1,u()},y=function(){l.showCurrentSidebar&&l.currentSidebar&&(r&&clearTimeout(r),r=window.setTimeout(function(){l.showCurrentSidebar=!1},2e3))};return{state:l,indexesRoot:o,handleRootTouchend:h,handleRootTouchstart:g,handleSidebarItemClick:S,handleSidebarTouchmove:m,handleSidebarTouchstart:E,handleRootScroll:f}}}),e2=["data-index","onClick"];function t2(e,t,n,r,a,i){return H(),W("div",{ref:"indexesRoot",class:z(e.state.componentName),onTouchstart:t[2]||(t[2]=function(){return e.handleRootTouchstart&&e.handleRootTouchstart.apply(e,arguments)}),onTouchend:t[3]||(t[3]=function(){return e.handleRootTouchend&&e.handleRootTouchend.apply(e,arguments)}),onScroll:t[4]||(t[4]=function(){return e.handleRootScroll&&e.handleRootScroll.apply(e,arguments)})},[e.state.indexList.length>0?(H(),W("div",{key:0,class:z("".concat(e.state.componentName,"__sidebar")),onTouchstart:t[0]||(t[0]=function(){return e.handleSidebarTouchstart&&e.handleSidebarTouchstart.apply(e,arguments)}),onTouchmove:t[1]||(t[1]=function(){return e.handleSidebarTouchmove&&e.handleSidebarTouchmove.apply(e,arguments)})},[(H(!0),W(Ce,null,Ne(e.state.indexList,function(o){return H(),W("div",{key:o,class:z(["".concat(e.state.componentName,"__sidebar-item"),e.state.currentSidebar===o?"".concat(e.state.componentName,"__sidebar-item--active"):""]),"data-index":o,onClick:Xn(function(l){return e.handleSidebarItemClick(o)},["prevent"])},Ae(o),11,e2)}),128))],34)):se("",!0),e.state.showCurrentSidebar?(H(),W("div",{key:1,class:z("".concat(e.state.componentName,"__current"))},Ae(e.state.currentSidebar),3)):se("",!0),qe(e.$slots,"default")],34)}oS.render=t2;/**
 * tdesign v0.8.4
 * (c) 2022 TDesign Group
 * @license MIT
 */var n2=_e.prefix,r2="".concat(n2,"-indexes-cell"),sS=ee({name:r2,components:{TCell:Nd},props:{title:{type:String,default:""},key:{type:String,default:""},value:{type:String,default:""},link:{type:Boolean,default:!1}},setup:function(t,n){var r="",a=n.emit,i=Me({title:t.title,value:t.value,link:t.link,key:t.key}),o=function(){a("click",{key:t.key,value:t.value,title:t.title})};return{state:i,handleClick:o,currentSidebar:r}}});function a2(e,t,n,r,a,i){var o=ge("t-cell");return H(),Oe(o,{"data-key":e.state.key,title:e.state.title,value:e.state.value,link:e.state.link,onClick:e.handleClick},null,8,["data-key","title","value","link","onClick"])}sS.render=a2;/**
 * tdesign v0.8.4
 * (c) 2022 TDesign Group
 * @license MIT
 */var i2=_e.prefix,Lm="".concat(i2,"-indexes-anchor"),lS=ee({name:Lm,components:{TCellGroup:ub},props:{index:{type:String,default:""},title:{type:String,default:""}},setup:function(t){var n=Me({componentName:Lm,index:t.index||"",title:t.title?t.title:t.index});return{state:n}}});function o2(e,t,n,r,a,i){var o=ge("t-cell-group");return H(),Oe(o,{class:z(e.state.componentName),"data-index":e.state.index,title:e.state.title},null,8,["class","data-index","title"])}lS.render=o2;/**
 * tdesign v0.8.4
 * (c) 2022 TDesign Group
 * @license MIT
 */var s2=Le(oS),l2=Le(sS),u2=Le(lS);/**
 * tdesign v0.8.4
 * (c) 2022 TDesign Group
 * @license MIT
 */var c2={closable:Boolean,content:{type:[String,Number,Function]},disabled:Boolean,icon:{type:Function,default:void 0},maxWidth:{type:[String,Number]},shape:{type:String,default:"square",validator:function(t){return["square","round","mark"].includes(t)}},size:{type:String,default:"medium",validator:function(t){return["small","medium","large"].includes(t)}},theme:{type:String,default:"default",validator:function(t){return["default","primary","warning","danger","success"].includes(t)}},variant:{type:String,default:"dark",validator:function(t){return["dark","light","outline","light-outline"].includes(t)}},onClick:Function,onClose:Function};/**
 * tdesign v0.8.4
 * (c) 2022 TDesign Group
 * @license MIT
 */var ri=_e.prefix,Rm="".concat(ri,"-tag"),uS=ee({name:Rm,components:{CloseIcon:ki,TNode:ut},props:c2,emits:["close","click"],setup:function(t,n){var r=Tt(t,n.emit),a=Be(),i=N(function(){return qt(a,"default","content")}),o=N(function(){return Ge(a,"icon")}),l=Rm,u=ze(t),s=u.size,c=u.shape,d=u.theme,v=u.variant,S=u.maxWidth,E=u.disabled,m=u.closable,f={};S!=null&&S.value&&(f.maxWidth="".concat(S.value,"px"));var g=N(function(){var b;return["".concat(l),"".concat(l,"-").concat(d.value),"".concat(l,"--").concat(c.value),(b={},te(b,"".concat(l,"-").concat(v.value),v.value),te(b,"".concat(ri,"-is-error"),d.value==="danger"),te(b,"".concat(ri,"-is-success"),d.value==="success"),te(b,"".concat(ri,"-is-warning"),d.value==="warning"),te(b,"".concat(ri,"-is-closable ").concat(l,"--closable"),m.value),te(b,"".concat(ri,"-is-disabled ").concat(l,"--disabled"),E.value),te(b,"".concat(l,"--size-").concat(s.value),s.value),b)]});function h(b){t.disabled||r("close",b)}var y=function(p){t.disabled||r("click",p)};return{baseClass:l,classes:g,style:f,onClickClose:h,handleClick:y,iconContent:o,tagContent:i}}}),d2=["aria-disabled"];function f2(e,t,n,r,a,i){var o=ge("t-node"),l=ge("close-icon");return H(),W("span",{class:z(e.classes),style:De(e.style),"aria-disabled":e.disabled,role:"button",onClick:t[0]||(t[0]=function(){return e.handleClick&&e.handleClick.apply(e,arguments)})},[J("span",{class:z("".concat(e.baseClass,"__icon"))},[R(o,{content:e.iconContent},null,8,["content"])],2),J("span",{class:z("".concat(e.baseClass,"__text"))},[R(o,{content:e.tagContent},null,8,["content"])],2),e.closable&&!e.disabled?(H(),Oe(l,{key:0,class:z("".concat(e.baseClass,"__close")),onClick:e.onClickClose},null,8,["class","onClick"])):se("",!0)],14,d2)}uS.render=f2;/**
 * tdesign v0.8.4
 * (c) 2022 TDesign Group
 * @license MIT
 */var h2={checked:{type:Boolean,default:void 0},modelValue:{type:Boolean,default:void 0},defaultChecked:{type:Boolean,default:void 0},closable:Boolean,content:{type:[String,Number,Function]},disabled:Boolean,icon:{type:Function},shape:{type:String,default:"square",validator:function(t){return["square","round","mark"].includes(t)}},size:{type:String,default:"medium",validator:function(t){return["small","medium","large"].includes(t)}},onChange:Function,onClick:Function};/**
 * tdesign v0.8.4
 * (c) 2022 TDesign Group
 * @license MIT
 */var go=_e.prefix,v2="".concat(go,"-check-tag"),cS=ee({name:v2,components:{CloseIcon:ki,TNode:ut,TButton:ka},props:h2,emits:["change","click","update:checked","update:modelValue"],setup:function(t,n){var r=Tt(t,n.emit),a="".concat(go,"-tag"),i=ze(t),o=i.size,l=i.shape,u=i.disabled,s=i.closable,c=Vt(t,n.emit,"checked","change"),d=kt(c,1),v=d[0],S=[!0,!1],E=D0(S,v.value),m=E.state,f=E.toggle,g=Be(),h=N(function(){return qt(g,"default","content")}),y=N(function(){return Ge(g,"icon")}),b=N(function(){var w;return["".concat(a),"".concat(a,"--checkable"),"".concat(a,"--").concat(l.value),(w={},te(w,"".concat(a,"--size-").concat(o.value),o.value),te(w,"".concat(go,"-is-closable ").concat(a,"--closable"),s.value),te(w,"".concat(go,"-is-disabled ").concat(a,"--disabled"),u.value),te(w,"".concat(go,"-is-checked ").concat(a,"--checked"),v.value),w)]});function p(w){t.disabled?w.stopPropagation():r("close",w)}var C=function(k){u.value||(f(),r("click",{e:k}),v.value=m.value)};return{baseClass:a,classes:b,handleClickClose:p,handleClick:C,iconContent:y,tagContent:h,innerChecked:v}}});function m2(e,t,n,r,a,i){var o=ge("t-node"),l=ge("close-icon"),u=ge("t-button");return H(),Oe(u,{class:z(e.classes),disabled:e.disabled,role:"button","aria-disabled":e.disabled,"aria-checked":e.innerChecked,onClick:e.handleClick},{default:Ue(function(){return[J("div",{class:z("".concat(e.baseClass,"__icon"))},[R(o,{content:e.iconContent},null,8,["content"])],2),J("div",{class:z("".concat(e.baseClass,"__text"))},[R(o,{content:e.tagContent},null,8,["content"])],2),e.closable&&!e.disabled?(H(),Oe(l,{key:0,class:z("".concat(e.baseClass,"__close")),onClick:e.handleClickClose},null,8,["class","onClick"])):se("",!0)]}),_:1},8,["class","disabled","aria-disabled","aria-checked","onClick"])}cS.render=m2;/**
 * tdesign v0.8.4
 * (c) 2022 TDesign Group
 * @license MIT
 */var g2=Le(uS),p2=Le(cS);/**
 * tdesign v0.8.4
 * (c) 2022 TDesign Group
 * @license MIT
 */var y2={bordered:{type:Boolean,default:!0},fixed:{type:Boolean,default:!0},value:{type:[String,Number,Array],default:void 0},modelValue:{type:[String,Number,Array],default:void 0},defaultValue:{type:[String,Number,Array],default:void 0},onChange:Function};/**
 * tdesign v0.8.4
 * (c) 2022 TDesign Group
 * @license MIT
 */var b2=_e.prefix,as="".concat(b2,"-tab-bar"),dS=ee({name:as,props:y2,emits:["update:value","update:modelValue","change"],setup:function(t,n){var r=Vt(t,n.emit,"value","change"),a=kt(r,1),i=a[0],o=q(-1),l=function(c){i.value=c},u=N(function(){var s;return["".concat(as),(s={},te(s,"".concat(as,"--bordered"),t.bordered),te(s,"".concat(as,"--fixed"),t.fixed),s)]});return ft("tab-bar",{defaultIndex:o,activeValue:i,updateChild:l}),{tabbarClass:u}}});function S2(e,t,n,r,a,i){return H(),W("div",{class:z(e.tabbarClass),role:"tablist"},[qe(e.$slots,"default")],2)}dS.render=S2;/**
 * tdesign v0.8.4
 * (c) 2022 TDesign Group
 * @license MIT
 */var T2=function(t){var n,r=t,a=Be();if(typeof(a==null||(n=a.props)===null||n===void 0?void 0:n.value)!="undefined"){var i;return a==null||(i=a.props)===null||i===void 0?void 0:i.value}return r.value+=1,r.value};/**
 * tdesign v0.8.4
 * (c) 2022 TDesign Group
 * @license MIT
 */var C2={badgeProps:{type:Object},icon:{type:Function},subTabBar:{type:Array},value:{type:[String,Number]}};/**
 * tdesign v0.8.4
 * (c) 2022 TDesign Group
 * @license MIT
 */function xm(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function $m(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?xm(Object(n),!0).forEach(function(r){te(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xm(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var fS=_e.prefix,Mm="".concat(fS,"-tab-bar-item"),hS=ee({name:Mm,components:{TNode:ut,TBadge:$l},props:C2,setup:function(t){var n=et("tab-bar"),r=n.defaultIndex,a=n.activeValue,i=n.updateChild,o=T2(r),l=!!t.subTabBar,u=q(!1),s=N(function(){return l&&Array.isArray(a.value)?a.value.includes(o):o===a.value});oe(s,function(f){f||(u.value=!1)});var c=N(function(){return Array.isArray(a.value)&&a.value[0]===o}),d=function(){l&&(u.value=!u.value,c.value||i([o])),i(o)},v=function(g){Array.isArray(a.value)&&a.value[1]===g||i([o,g]),u.value=!1},S=Be(),E=N(function(){return qt(S,"default","content")}),m=N(function(){return Ge(S,"icon")});return $m($m({},ze(t)),{},{prefix:fS,componentName:Mm,isChecked:s,toggle:d,isSpread:u,selectChild:v,itemContent:E,iconContent:m})}}),E2=["aria-selected","aria-haspopup"],w2=["aria-label","onClick"];function O2(e,t,n,r,a,i){var o,l=ge("t-node"),u=ge("t-badge");return H(),W("div",{role:"tab","aria-label":"TabBar","aria-selected":e.isChecked,"aria-haspopup":e.subTabBar&&e.subTabBar.length>0,class:z([e.componentName,e.iconContent&&"".concat(e.prefix,"-no-border")])},[J("div",{class:z((o={},te(o,"".concat(e.componentName,"__content"),!0),te(o,"".concat(e.prefix,"-is-checked"),e.isChecked),te(o,"".concat(e.componentName,"--onlytext"),!e.iconContent),o)),onClick:t[0]||(t[0]=function(){return e.toggle&&e.toggle.apply(e,arguments)})},[e.iconContent?(H(),W("div",{key:0,class:z("".concat(e.componentName,"__icon"))},[e.badgeProps&&(e.badgeProps.dot||e.badgeProps.count)?(H(),Oe(u,{key:0,count:e.badgeProps.count,"max-count":e.badgeProps.maxCount||99,dot:e.badgeProps.dot,content:e.badgeProps.content,size:e.badgeProps.size,offset:e.badgeProps.offset||[0,5]},{default:Ue(function(){return[R(l,{content:e.iconContent},null,8,["content"])]}),_:1},8,["count","max-count","dot","content","size","offset"])):(H(),Oe(l,{key:1,content:e.iconContent},null,8,["content"]))],2)):se("",!0),e.itemContent?(H(),W("div",{key:1,class:z("".concat(e.componentName,"__text"))},[e.subTabBar&&e.subTabBar.length>0?(H(),W("div",{key:0,class:z("".concat(e.componentName,"__icon-menu"))},null,2)):se("",!0),R(l,{content:e.itemContent},null,8,["content"])],2)):se("",!0)],2),R(gn,{name:"spread"},{default:Ue(function(){return[e.subTabBar&&e.subTabBar.length>0&&e.isSpread?(H(),W("ul",{key:0,role:"menu",class:z("".concat(e.componentName,"__spread"))},[(H(!0),W(Ce,null,Ne(e.subTabBar,function(s,c){return H(),W("li",{key:s.value||c,role:"menuitem","aria-label":s.label,class:z("".concat(e.componentName,"__spread-item")),onClick:function(v){return e.selectChild(s.value||c)}},Ae(s.label),11,w2)}),128))],2)):se("",!0)]}),_:1})],10,E2)}hS.render=O2;/**
 * tdesign v0.8.4
 * (c) 2022 TDesign Group
 * @license MIT
 */var k2=Le(dS),_2=Le(hS);/**
 * tdesign v0.8.4
 * (c) 2022 TDesign Group
 * @license MIT
 */var Pc=function(e){return e.expanded="expanded",e.collapsed="collapsed",e}(Pc||{}),Qi=null,Fm={expandedMenuControl:null,recordMenuExpanded:function(t,n,r){var a=t;if(r==="expanded"){var i=this.expandedMenuControl;i&&i!==n&&i.collapseMenu(),this.expandedMenuControl=n,Qi===null&&(Qi=t.style.overflow,a.style.overflow="hidden")}else r==="collapsed"&&(this.expandedMenuControl===n&&(this.expandedMenuControl=null),!this.expandedMenuControl&&Qi!==null&&(a.style.overflow=Qi,Qi=null))}};/**
 * tdesign v0.8.4
 * (c) 2022 TDesign Group
 * @license MIT
 */var A2=function(){function e(){Kb(this,e),te(this,"timeout",void 0),te(this,"finallyDo",void 0),this.timeout=null,this.finallyDo=Js}return Wb(e,[{key:"setTo",value:function(n,r,a,i){var o=this;this.timeout&&(window.clearTimeout(this.timeout),this.finallyDo()),r(),Re(function(){return window.setTimeout(a,0)}),this.finallyDo=i,this.timeout=window.setTimeout(function(){o.finallyDo(),o.finallyDo=Js,o.timeout=0},n)}}]),e}();/**
 * tdesign v0.8.4
 * (c) 2022 TDesign Group
 * @license MIT
 */var Ic=function(t){for(var n=t;n&&n!==document.body;){var r=getComputedStyle(n),a=r.transform;if(!/matrix\([\d,\s]+\)/.test(a)){n=n.parentNode;continue}return n}return null},D2=function(t){var n=Ic(t),r=n?n.getBoundingClientRect():{top:0,left:0},a=t.getBoundingClientRect(),i=a.top,o=a.left,l=a.bottom,u=a.right,s=a.width,c=a.height;return{top:i-r.top,bottom:l-r.top,left:o-r.left,right:u-r.left,width:s,height:c}};/**
 * tdesign v0.8.4
 * (c) 2022 TDesign Group
 * @license MIT
 */var P2={activeColor:{type:String,default:""},closeOnClickOverlay:{type:Boolean,default:!0},duration:{type:[String,Number],default:200},overlay:{type:Boolean,default:!0},zIndex:{type:Number}};/**
 * tdesign v0.8.4
 * (c) 2022 TDesign Group
 * @license MIT
 */function Bm(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Nm(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Bm(Object(n),!0).forEach(function(r){te(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Bm(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var Fs=_e.prefix,sa="".concat(Fs,"-dropdown-menu"),vS=ee({name:sa,props:P2,setup:function(t,n){var r=n.slots,a=Me({activeId:null,barRect:{},childCount:0}),i=q([]),o=function(){if(r.default){var g="".concat(Fs,"-dropdown-item"),h=r.default();i.value=h.filter(function(y){var b,p=y==null||(b=y.type)===null||b===void 0?void 0:b.name;return(p==null?void 0:p.includes)&&p.includes(g)})}};Cd(o);var l=N(function(){return i.value.map(function(f){var g=f.props,h=g.label,y=g.disabled;return{label:h,disabled:y!==void 0&&y!==!1}})}),u=new A2;ft("dropdownMenuProps",t),ft("dropdownMenuState",a),ft("dropdownAniControl",u);var s=N(function(){return["".concat(sa)]}),c=q(null),d=N(function(){return["".concat(sa,"__bar"),te({},"".concat(sa,"__bar ").concat(sa,"__bar--open"),a.activeId)]}),v=N(function(){return function(f,g){var h;return["".concat(sa,"__item"),(h={},te(h,"".concat(Fs,"-is-disabled"),f.disabled),te(h,"".concat(Fs,"-is-active"),g===a.activeId),h)]}}),S=function(g,h){var y=g.disabled;if(!y){if(a.activeId===h){E();return}a.activeId=h;var b=c.value,p=D2(b);a.barRect=p;var C=Ic(b)||document.body;Fm.recordMenuExpanded(C,m,Pc.expanded)}},E=function(){a.activeId=null;var g=c.value,h=Ic(g)||document.body;Fm.recordMenuExpanded(h,m,Pc.collapsed)},m={expandMenu:S,collapseMenu:E};return ft("dropdownMenuControl",m),Nm(Nm({name:q(sa),classes:s},ze(t)),{},{refBar:c,state:a,styleBar:d,styleBarItem:v,menuItems:i,menuTitles:l,expandMenu:S})}}),I2=["onClick"];function L2(e,t,n,r,a,i){return H(),W("div",{class:z(e.classes)},[J("div",{ref:"refBar",class:z(e.styleBar)},[(H(!0),W(Ce,null,Ne(e.menuTitles,function(o,l){return H(),W("div",{key:l,class:z(e.styleBarItem(o,l)),onClick:function(s){return e.expandMenu(o,l)}},[J("div",{class:z("".concat(e.name,"__title"))},Ae(o.label),3)],10,I2)}),128))],2),qe(e.$slots,"default")],2)}vS.render=L2;/**
 * tdesign v0.8.4
 * (c) 2022 TDesign Group
 * @license MIT
 */var R2={disabled:Boolean,label:{type:String,default:""},multiple:Boolean,options:{type:Array},optionsColumns:{type:[String,Number]},optionsLayout:{type:String,default:"columns",validator:function(t){return["columns","tree"].includes(t)}},value:{type:[String,Number,Array],default:void 0},modelValue:{type:[String,Number,Array],default:void 0},defaultValue:{type:[String,Number,Array],default:void 0},onChange:Function};/**
 * tdesign v0.8.4
 * (c) 2022 TDesign Group
 * @license MIT
 */function jm(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Cu(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?jm(Object(n),!0).forEach(function(r){te(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):jm(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var Tn=_e.prefix,Fa="".concat(Tn,"-dropdown-item"),mS=ee({name:Fa,components:{TMask:Rl,TRadio:_b,TButton:ka,TCheckbox:cb,TRadioGroup:Db,TCheckboxGroup:Tb},props:R2,emits:["change","open","opened","close","closed","update:value","update:modelValue"],setup:function(t,n){var r=Tt(t,n.emit),a=Vt(t,n.emit,"value","change"),i=kt(a,2),o=i[0],l=i[1],u=et("dropdownMenuProps"),s=et("dropdownMenuState"),c=et("dropdownMenuControl"),d=c.expandMenu,v=c.collapseMenu,S=et("dropdownAniControl"),E=N(function(){return["".concat(Fa),te({},"".concat(Tn,"-is-expanded"),f.isExpanded)]}),m=q(0);Cd(function(){m.value=s.childCount,s.childCount+=1});var f=Me({showOverlay:N(function(){return u.overlay}),isShowItems:!1,isExpanded:!1,expandStyle:{},transitionStyle:N(function(){return{transition:"transform ".concat(u.duration,"ms ease"),"-webkit-transition":"transform ".concat(u.duration,"ms ease")}}),multiple:N(function(){return t.multiple}),optionsLayout:N(function(){return t.optionsLayout}),options:N(function(){return t.options})}),g=function(F){return F===p.value},h=function(F){var U;return["".concat(Fa,"__radio"),(U={},te(U,"".concat(Tn,"-is-tick"),!t.multiple),te(U,"".concat(Tn,"-is-checked"),g(F)),U)]},y=N(function(){var j,F,U=t.optionsLayout,B=+((j=t.optionsColumns)!==null&&j!==void 0?j:0),K=U==="tree",V=K?w.leafLevel+1:0;return["".concat(Fa,"__content"),(F={},te(F,"".concat(Tn,"-is-tree"),K),te(F,"".concat(Tn,"-is-single"),!K&&!t.multiple),te(F,"".concat(Tn,"-is-multi"),!K&&t.multiple),te(F,"".concat(Tn,"-is-col1"),B===1||V===1),te(F,"".concat(Tn,"-is-col2"),B===2||V===2),te(F,"".concat(Tn,"-is-col3"),B===3||V===3),F)]}),b=function(F){var U=s.barRect.bottom;f.expandStyle={zIndex:u.zIndex,top:"".concat(U,"px")};var B=u.duration;S.setTo(+(B!=null?B:200),function(){r(F?"open":"close"),F&&(f.isShowItems=F),f.isExpanded=!F},function(){f.isExpanded=F},function(){F||(f.isShowItems=F),r(F?"opened":"closed")})};oe(function(){return s.activeId===m.value},function(j){return b(j)});var p=q(),C=q([]),w=Me({leafLevel:0,selectList:[]}),k=N(function(){return function(j,F){var U;return["".concat(Fa,"__radio"),(U={},te(U,"".concat(Tn,"-is-tick"),F===w.leafLevel),te(U,"".concat(Tn,"-is-checked"),j===w.selectList[F]),U)]}}),_=function(F,U){var B=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,K=w.selectList.slice(0,F);K[F]=U,w.selectList=K,B&&O()},T=q([]),O=function(){for(var F=t.options,U=w.selectList,B=[],K=-1,V={title:"",value:"",disabled:!1,options:F},X=function(){var ye=V.options;B.push(Nt(ye)),K+=1;var de=U[K];if(de===void 0){var be=ye[0];if(be.options)_(K,be.value,!1),V=be;else return _(K,t.multiple?[]:void 0,!1),"break"}else if(Array.isArray(de))V=void 0;else{var G=ye.find(function(Y){return Y.value===de});V=G}};(Z=V)!==null&&Z!==void 0&&Z.options;){var Z,ne=X();if(ne==="break")break}w.leafLevel=Math.max(0,K),T.value=B};t.optionsLayout==="tree"&&(oe(function(){return JSON.stringify({options:t.options})},Md(vi.mark(function j(){return vi.wrap(function(U){for(;;)switch(U.prev=U.next){case 0:return U.next=2,Re();case 2:O();case 3:case"end":return U.stop()}},j)}))),O());var A=function(F){var U=t.optionsLayout;if(U==="tree")w.selectList=F!=null?F:[],O();else if(U==="columns")if(t.multiple)t.multiple&&t.optionsLayout==="columns"&&(C.value=F!=null?F:[]);else{var B,K=t.options,V=K==null?void 0:K[0],X=(B=F!=null?F:V==null?void 0:V.value)!==null&&B!==void 0?B:null;p.value=X}};A(o.value),oe(function(){return o.value},function(j){return A(j)});var P=N(function(){switch(t.optionsLayout){case"columns":return C.value.length<=0;case"tree":if(!t.multiple)return w.selectList[w.leafLevel]===void 0;if(t.multiple){var j=w.selectList[w.leafLevel];return j&&j.length<=0}}return!0}),D=function(){switch(t.optionsLayout){case"columns":C.value=[];break;case"tree":w.selectList=[];break}},I=function(){var F;switch(t.optionsLayout){case"columns":F=C.value;break;case"tree":F=w.selectList;break}F=JSON.parse(JSON.stringify(F)),l(F),v()};oe(p,function(j){if(!(t.multiple||t.optionsLayout==="tree")&&!!f.isShowItems){var F=o.value||[];F[0]!==j&&(j&&Array.isArray(j)&&l(j),v())}});var x=function(){u.closeOnClickOverlay&&v()},L=yt($d),$=function(F){return F},M=function(F){return F};return Cu(Cu(Cu({name:q(Fa)},ze(t)),ze(f)),{},{classes:E,styleContent:y,isBtnDisabled:P,radioSelect:p,checkSelect:C,treeOptions:T,treeState:w,styleTreeRadio:k,isCheckedRadio:g,selectTreeNode:_,styleDropRadio:h,expandMenu:d,collapseMenu:v,resetSelect:D,confirmSelect:I,onClickOverlay:x,renderCheckIcon:[L],convertTreeRadioType:$,convertTreeCheckType:M})}});function Um(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Vm(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Um(Object(n),!0).forEach(function(r){te(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Um(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var x2=["data-value"],$2=nt("\u91CD\u7F6E"),M2=nt("\u786E\u5B9A");function F2(e,t,n,r,a,i){var o=ge("t-mask"),l=ge("t-radio"),u=ge("t-radio-group"),s=ge("t-checkbox"),c=ge("t-checkbox-group"),d=ge("t-button");return e.isShowItems?(H(),W("div",{key:0,class:z(e.classes),style:De(Vm({},e.expandStyle))},[e.isShowItems&&e.showOverlay?(H(),Oe(o,{key:0,onClick:e.onClickOverlay},null,8,["onClick"])):se("",!0),J("div",{class:z(e.styleContent),style:De(Vm({},e.transitionStyle))},[J("div",{class:z("".concat(e.name,"__bd"))},[qe(e.$slots,"default",{},function(){return[e.optionsLayout==="columns"?(H(),W(Ce,{key:0},[e.multiple?(H(),Oe(c,{key:1,modelValue:e.checkSelect,"onUpdate:modelValue":t[1]||(t[1]=function(v){return e.checkSelect=v})},{default:Ue(function(){return[(H(!0),W(Ce,null,Ne(e.options,function(v){return H(),W("div",{key:v.value,class:z("".concat(e.name,"__cell"))},[R(s,{value:v.value,label:v.title,disabled:v.disabled},null,8,["value","label","disabled"])],2)}),128))]}),_:1},8,["modelValue"])):(H(),Oe(u,{key:0,modelValue:e.radioSelect,"onUpdate:modelValue":t[0]||(t[0]=function(v){return e.radioSelect=v})},{default:Ue(function(){return[(H(!0),W(Ce,null,Ne(e.options,function(v){return H(),W("div",{key:v.value,class:z("".concat(e.name,"__cell"))},[R(l,{value:v.value,label:v.title,disabled:v.disabled,class:z(e.styleDropRadio(v.value)),checked:e.isCheckedRadio(v.value)},null,8,["value","label","disabled","class","checked"])],2)}),128))]}),_:1},8,["modelValue"]))],64)):e.optionsLayout==="tree"?(H(!0),W(Ce,{key:1},Ne(e.treeOptions,function(v,S){return H(),W("div",{key:S,class:z("".concat(e.name,"__tree-group"))},[S<e.treeState.leafLevel?(H(),Oe(u,{key:0,"model-value":e.convertTreeRadioType(e.treeState.selectList[S]),"onUpdate:modelValue":function(m){return e.selectTreeNode(S,m)}},{default:Ue(function(){return[(H(!0),W(Ce,null,Ne(e.treeOptions[S],function(E){return H(),W("div",{key:E.value,"data-value":E.value,class:z("".concat(e.name,"__cell"))},[R(l,{class:z(e.styleTreeRadio(E.value,S)),value:E.value,label:E.title,disabled:E.disabled},null,8,["class","value","label","disabled"])],10,x2)}),128))]}),_:2},1032,["model-value","onUpdate:modelValue"])):(H(),W(Ce,{key:1},[e.multiple?(H(),Oe(c,{key:1,value:e.convertTreeCheckType(e.treeState.selectList[S]),"onUpdate:value":function(m){return e.selectTreeNode(S,m)}},{default:Ue(function(){return[(H(!0),W(Ce,null,Ne(e.treeOptions[S],function(E){return H(),W("div",{key:E.value,class:z("".concat(e.name,"__cell"))},[R(s,{value:E.value,label:E.title,disabled:E.disabled},null,8,["value","label","disabled"])],2)}),128))]}),_:2},1032,["value","onUpdate:value"])):(H(),Oe(u,{key:0,value:e.convertTreeRadioType(e.treeState.selectList[S]),"onUpdate:value":function(m){return e.selectTreeNode(S,m)}},{default:Ue(function(){return[(H(!0),W(Ce,null,Ne(e.treeOptions[S],function(E){return H(),W("div",{key:E.value,class:z("".concat(e.name,"__cell"))},[R(l,{value:E.value,label:E.title,disabled:E.disabled,class:z(e.styleTreeRadio(E.value,S)),icon:E.value===e.treeState.selectList[S]?e.renderCheckIcon:void 0},null,8,["value","label","disabled","class","icon"])],2)}),128))]}),_:2},1032,["value","onUpdate:value"]))],64))],2)}),128)):se("",!0)]})],2),e.multiple||e.optionsLayout==="tree"?(H(),W("div",{key:0,class:z("".concat(e.name,"__ft"))},[R(d,{variant:"outline",disabled:e.isBtnDisabled,onClick:e.resetSelect},{default:Ue(function(){return[$2]}),_:1},8,["disabled","onClick"]),R(d,{theme:"primary",disabled:e.isBtnDisabled,onClick:e.confirmSelect},{default:Ue(function(){return[M2]}),_:1},8,["disabled","onClick"])],2)):se("",!0)],6)],6)):se("",!0)}mS.render=F2;/**
 * tdesign v0.8.4
 * (c) 2022 TDesign Group
 * @license MIT
 */var B2=Le(vS),N2=Le(mS);/**
 * tdesign v0.8.4
 * (c) 2022 TDesign Group
 * @license MIT
 */var j2={value:[Array,String,Number],accordion:{type:Boolean,default:!1},title:String,expandAll:Boolean,labelWidth:Number},U2={name:[String,Number],title:[String,Number],extra:[String,Number],content:[String,Number,Array],disabled:Boolean,labelWidth:Number,headerClickable:{type:Boolean,default:!0}};/**
 * tdesign v0.8.4
 * (c) 2022 TDesign Group
 * @license MIT
 */function gS(e,t){var n=new RegExp("^".concat(!e&&e!==0?"":e,"$")),r=Wd(t);return r.findIndex(function(a){return n.test(a)})}function pS(e){return!e&&e!==0}function Wd(e){return pS(e)?[]:jt(e)==="object"?Array.from(e):[e]}function V2(e,t,n){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,a=!!n||!!t&&jt(t)==="object",i=function(c){return a?c:c[0]},o=Wd(t),l=o.length,u=gS(e,o);return u>-1?(l<2&&r||o.splice(u,1),i(o)):!n&&l>0?i([e]):(o.push(e),i(o))}/**
 * tdesign v0.8.4
 * (c) 2022 TDesign Group
 * @license MIT
 */function Hm(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function zm(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Hm(Object(n),!0).forEach(function(r){te(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Hm(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var H2=_e.prefix,Gm="".concat(H2,"-collapse"),yS=ee({name:Gm,props:j2,emits:["update:value","change"],setup:function(t,n){var r=Tt(t,n.emit),a=Me({className:Gm,curValue:t.value});oe(function(){return t.value},function(o){a.curValue=o});var i=function(l){var u=V2(l,a.curValue,!t.accordion);a.curValue=u,r("update:value",u),r("change",u)};return ft("collapseProps",t),ft("collapseState",a),ft("onPanelChange",i),zm(zm({},ze(a)),ze(t))}});function z2(e,t,n,r,a,i){return H(),W("div",{class:z(e.className)},[e.title?(H(),W("div",{key:0,class:z("".concat(e.className,"__title"))},Ae(e.title),3)):se("",!0),qe(e.$slots,"default")],2)}yS.render=z2;/**
 * tdesign v0.8.4
 * (c) 2022 TDesign Group
 * @license MIT
 */function Km(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Wm(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Km(Object(n),!0).forEach(function(r){te(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Km(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var G2=_e.prefix,la="".concat(G2,"-collapse-panel"),bS=ee({name:la,components:{ChevronDownIcon:xh,ChevronUpIcon:Uh},props:U2,emits:["click"],setup:function(t,n){var r=Tt(t,n.emit),a=et("collapseProps"),i=et("collapseState"),o=et("onPanelChange"),l=N(function(){return S.value?xh:Uh}),u=N(function(){return Wd(t.content)}),s=N(function(){var b;return b={},te(b,"".concat(la),!0),te(b,"".concat(la,"--active"),S.value),te(b,"".concat(la,"--disabled"),t.disabled),b}),c=N(function(){return t.labelWidth||a.labelWidth}),d=N(function(){return function(b){return["".concat(la,"__content"),jt(b)==="object"?"".concat(la,"-list__item"):""]}}),v=N(function(){return pS(c.value)?{}:{width:"".concat(c.value,"px")}}),S=N(function(){return gS(t.name,i.curValue)>-1}),E=Me({baseClass:la}),m=function(){var p=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,C=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";p==null||p.stopPropagation(),!t.disabled&&(r("click",t.name),!(/^header$/i.test(C)&&!t.headerClickable)&&o(t.name))},f=q(),g=q(),h=q(),y=function(){if(!g.value){console.log("[collapse] \u7EC4\u4EF6\u5C1A\u672A\u6302\u8F7D",g.value);return}var p=h.value.getBoundingClientRect(),C=p.height;if(!S.value){g.value.style.height="".concat(C,"px");return}var w=f.value.getBoundingClientRect(),k=w.height,_=C+k;g.value.style.height="".concat(_,"px")};return oe(S,function(){Re(function(){y()})}),tt(function(){a.expandAll&&!S.value&&m(),y()}),Wm(Wm({},ze(E)),{},{contList:u,headDOM:h,rightIcon:l,bodyDOM:f,wrapDOM:g,className:s,contentClassName:d,listLabelStyle:v,onChange:m})}});function K2(e,t,n,r,a,i){return H(),W("div",{ref:"wrapDOM",class:z(e.className)},[J("div",{ref:"headDOM",class:z("".concat(e.baseClass,"__header")),onClick:t[1]||(t[1]=function(o){return e.onChange(o,"header")})},[J("div",{class:z("".concat(e.baseClass,"__title"))},[qe(e.$slots,"title",{},function(){return[nt(Ae(e.title),1)]})],2),J("div",{class:z("".concat(e.baseClass,"__header-right")),onClick:t[0]||(t[0]=function(){return e.onChange&&e.onChange.apply(e,arguments)})},[e.extra||e.$slots.extra?(H(),W("div",{key:0,class:z("".concat(e.baseClass,"__header-extra"))},[qe(e.$slots,"extra",{},function(){return[nt(Ae(e.extra),1)]})],2)):se("",!0),(H(),Oe(jo(e.rightIcon),{class:z("".concat(e.baseClass,"__header-icon"))},null,8,["class"]))],2)],2),J("div",{ref:"bodyDOM",class:z("".concat(e.baseClass,"__body"))},[e.$slots.default?(H(),W("div",{key:0,class:z("".concat(e.baseClass,"__body-slot"))},[qe(e.$slots,"default")],2)):(H(!0),W(Ce,{key:1},Ne(e.contList,function(o,l){return H(),W("div",{key:l,class:z(e.contentClassName(o))},[jt(o)==="object"?(H(),W(Ce,{key:0},[J("div",{class:z("".concat(e.baseClass,"-list__label")),style:De(e.listLabelStyle)},Ae(o.label),7),J("div",{class:z("".concat(e.baseClass,"-list__content"))},Ae(o.content),3)],64)):(H(),W(Ce,{key:1},[nt(Ae(o),1)],64))],2)}),128))],2)],2)}bS.render=K2;/**
 * tdesign v0.8.4
 * (c) 2022 TDesign Group
 * @license MIT
 */var W2=Le(yS),Y2=Le(bS);/**
 * tdesign v0.8.4
 * (c) 2022 TDesign Group
 * @license MIT
 */var q2={animation:{type:Object},list:{type:Array},placement:{type:String,default:"top",validator:function(t){return t?["left","top"].includes(t):!0}},showBottomLine:{type:Boolean,default:!0},size:{type:String,default:"medium",validator:function(t){return t?["medium","large"].includes(t):!0}},stickyProps:{type:Object},value:{type:[String,Number],default:void 0},modelValue:{type:[String,Number],default:void 0},defaultValue:{type:[String,Number]},onChange:Function};/**
 * tdesign v0.8.4
 * (c) 2022 TDesign Group
 * @license MIT
 */var SS={destroyOnHide:{type:Boolean,default:!0},disabled:Boolean,label:{type:[String,Function]},panel:{type:[String,Function]},value:{type:[String,Number]}};/**
 * tdesign v0.8.4
 * (c) 2022 TDesign Group
 * @license MIT
 */var X2=_e.prefix,TS=ee({name:"".concat(X2,"-tab-nav"),components:{TNode:ut},props:{label:SS.label},setup:function(t){var n=Be(),r=N(function(){return qt(n,"default","label")});return{labelContent:r}}});function Z2(e,t,n,r,a,i){var o=ge("t-node");return H(),W("div",null,[R(o,{content:e.labelContent},null,8,["content"])])}TS.render=Z2;/**
 * tdesign v0.8.4
 * (c) 2022 TDesign Group
 * @license MIT
 */var J2={container:{type:Object},disabled:Boolean,offsetTop:{type:[String,Number],default:0},zIndex:{type:Number,default:99},onScroll:Function};/**
 * tdesign v0.8.4
 * (c) 2022 TDesign Group
 * @license MIT
 */var Ym="".concat(_e.prefix,"-sticky"),CS=ee({name:Ym,components:{TNode:ut},props:J2,setup:function(t,n){var r=Ym,a=N(function(){return qt(Be(),"default","")}),i=Tt(t,n.emit),o=pv("boxRef"),l=Cc(o),u=l.top,s=pv("contentRef"),c=Cc(s),d=c.top,v=c.height,S=N(function(){return"height:".concat(v.value,"px;")}),E,m=q(0),f=q(0);oe(u,function(){if(t.container){E=document.querySelector(t.container);var h=E.getBoundingClientRect(),y=h.top,b=h.height;m.value=b,f.value=y}});var g=N(function(){var h="z-index:".concat(t.zIndex,";"),y=!1;if(t.disabled)return h;var b=Number(t.offsetTop);return E&&m.value+f.value<b+v.value?h+="transform:translate3d(0, ".concat(m.value-v.value,"px, 0);"):u.value<=b&&(h+="position:fixed;top:".concat(b,"px;"),y=!0),i("scroll",{scrollTop:d.value,isFixed:y}),h});return{boxClasses:r,boxStyles:S,contentStyles:g,stickyContent:a}}});function Q2(e,t,n,r,a,i){var o=ge("t-node");return H(),W("div",{ref:"boxRef",class:z(e.boxClasses),style:De(e.boxStyles)},[J("div",{ref:"contentRef",style:De(e.contentStyles)},[R(o,{content:e.stickyContent},null,8,["content"])],4)],6)}CS.render=Q2;/**
 * tdesign v0.8.4
 * (c) 2022 TDesign Group
 * @license MIT
 */var ES=Le(CS);/**
 * tdesign v0.8.4
 * (c) 2022 TDesign Group
 * @license MIT
 */function qm(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Eu(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?qm(Object(n),!0).forEach(function(r){te(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qm(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var po=_e.prefix,is="".concat(po,"-tabs"),wS=ee({name:is,components:{TabNavItem:TS,TSticky:ES},props:q2,emits:["onChange"],setup:function(t,n){var r=n.emit,a=n.slots,i=N(function(){return t.placement}),o=N(function(){return t.showBottomLine}),l=N(function(){return Eu({disabled:!0},t.stickyProps)}),u=$t.STATUS.active,s=$t.STATUS.disabled,c=N(function(){return["".concat(is),"".concat(po,"-is-").concat(i.value),t.size?$t.SIZE[t.size]:""]}),d=q(["".concat(is,"__nav")]),v=q(!1),S=q(t.value?t.value:t.defaultValue);oe(function(){return t.value},function(w){w&&b(w),Re(function(){y()})});var E=N(function(){if(t.list)return t.list;var w=a.default?a.default():[],k=[],_=[];return w.forEach(function(T){var O;T.type===Ce?k.push.apply(k,Nt(T.children)):k.push(T),(O=T.children)!==null&&O!==void 0&&O.label&&_.push(T.children.label()[0]||null)}),w=k.filter(function(T){return T.type.name==="".concat(po,"-tab-panel")}),w.map(function(T,O){return Eu(Eu({},T.props),{},{label:function(){return _[O]||T.props.label}})})}),m=q(null),f=q(null),g=q(null),h=q(""),y=function(){if(f.value&&g.value&&o.value){var k=f.value.querySelector(".".concat(u));if(!k)return;var _=g.value;i.value==="left"?h.value="transform: translateY(".concat(k.offsetTop,"px);").concat(t.animation?"transition-duration:".concat(t.animation.duration,"ms"):""):h.value="transform: translateX(".concat(Number(k.offsetLeft)+Number(k.offsetWidth)/2-_.offsetWidth/2,"px);").concat(t.animation?"transition-duration:".concat(t.animation.duration,"ms"):"")}};tt(function(){var w,k;v.value=(((w=f.value)===null||w===void 0?void 0:w.offsetWidth)||0)>(((k=m.value)===null||k===void 0?void 0:k.offsetWidth)||0),v.value&&d.value.push("".concat(po,"-is-scrollable")),window.addEventListener("resize",y,!1),setTimeout(function(){y()},300)}),tr(function(){window.removeEventListener("resize",y)});var b=function(k){r("onChange",k),S.value=k},p=function(k,_){b(_)},C=function(k,_){var T=_.value,O=_.disabled;if(O||S.value===T)return!1;p(k,T),Re(function(){y()})};return ft("currentValue",md(S)),{name:is,prefix:po,classes:c,navClasses:d,activeClass:u,disabledClass:s,currentValue:S,tabClick:C,showBottomLine:o,itemProps:E,navScroll:m,navWrap:f,navLine:g,lineStyle:h,moveToActiveTab:y,stickyProps:l}}});function eM(e,t,n,r,a,i){var o=ge("tab-nav-item"),l=ge("t-sticky");return H(),W("div",{class:z(e.classes)},[R(l,wC(t0(e.stickyProps)),{default:Ue(function(){return[J("div",{class:z(e.navClasses)},[J("div",{ref:"navScroll",class:z("".concat(e.name,"__nav-container"))},[J("div",{ref:"navWrap",class:z("".concat(e.name,"__nav-wrap"))},[(H(!0),W(Ce,null,Ne(e.itemProps,function(u){var s;return H(),Oe(o,{key:u.value,label:u.label,class:z((s={},te(s,"".concat(e.name,"__nav-item"),!0),te(s,e.activeClass,u.value===e.currentValue),te(s,e.disabledClass,u.disabled),s)),onClick:function(d){return e.tabClick(d,u)}},null,8,["label","class","onClick"])}),128)),e.showBottomLine?(H(),W("div",{key:0,ref:"navLine",class:z("".concat(e.name,"__nav-line")),style:De(e.lineStyle)},null,6)):se("",!0)],2)],2)],2)]}),_:1},16),J("div",{class:z("".concat(e.name,"__content"))},[qe(e.$slots,"default")],2)],2)}wS.render=eM;/**
 * tdesign v0.8.4
 * (c) 2022 TDesign Group
 * @license MIT
 */function Xm(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function tM(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Xm(Object(n),!0).forEach(function(r){te(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Xm(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var Zm=_e.prefix,OS=ee({name:"".concat(Zm,"-tab-panel"),components:{TNode:ut},props:SS,setup:function(t){var n=et("currentValue",""),r=N(function(){return n.value===t.value}),a=Be(),i=N(function(){return qt(a,"default","panel")});return tM({prefix:Zm,isActive:r,panelContent:i},ze(t))}}),nM=["value"];function rM(e,t,n,r,a,i){var o=ge("t-node");return e.destroyOnHide||e.isActive?Ke((H(),W("div",{key:0,class:z("".concat(e.prefix,"-tabs__panel")),value:e.value},[qe(e.$slots,"default",{},function(){return[R(o,{content:e.panelContent},null,8,["content"])]})],10,nM)),[[Xe,e.isActive]]):se("",!0)}OS.render=rM;/**
 * tdesign v0.8.4
 * (c) 2022 TDesign Group
 * @license MIT
 */var aM=Le(wS),iM=Le(OS);/**
 * tdesign v0.8.4
 * (c) 2022 TDesign Group
 * @license MIT
 */var oM={animation:{type:String,default:"slide",validator:function(t){return t?["slide"].includes("".concat(t)):!0}},autoplay:{type:Boolean,default:!0},current:{type:Number,default:void 0},modelValue:{type:Number,default:void 0},defaultCurrent:{type:Number,default:0},direction:{type:String,default:"horizontal",validator:function(t){return["horizontal","vertical"].includes("".concat(t))}},duration:{type:Number,default:300},height:{type:Number},interval:{type:Number,default:5e3},loop:{type:Boolean,default:!0},navigation:{type:[Object,Function]},onChange:Function};/**
 * tdesign v0.8.4
 * (c) 2022 TDesign Group
 * @license MIT
 */var sM=_e.prefix,Jm="".concat(sM,"-swiper"),Qm=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"X";t.style.transform="translate".concat(r,"(").concat(n,"px)")},kS=ee({name:Jm,components:{ChevronLeftIcon:C0,ChevronRightIcon:E0,TNode:ut},props:oM,emits:["change","update:current","update:modelValue"],setup:function(t,n){var r=Vt(t,n.emit,"current","change"),a=kt(r,2);a[0];var i=a[1],o=Be(),l=q(null),u=N(function(){return Ge(o,"navigation")}),s=t.height||180,c=Me({activeIndex:0,itemLength:0,itemWidth:0,isControl:!1,btnDisabled:!1,children:[]}),d=N(function(){return new Array(c.itemLength).fill(1)}),v=N(function(){var x=c.activeIndex,L=c.itemLength;return x>L-1?L:x<0?1:x+1});N(function(){return c.children.length});var S=function(){var L;return o==null||(L=o.proxy)===null||L===void 0?void 0:L.$el.querySelector(".t-swiper__container")},E=function(){var L,$,M=S();M.querySelectorAll(".copy-item").forEach(function(K){M.removeChild(K)});var j=M.querySelectorAll(".t-swiper-item");c.itemLength=((L=M.children)===null||L===void 0?void 0:L.length)||0;var F=(($=M.querySelector(".t-swiper-item"))===null||$===void 0?void 0:$.getBoundingClientRect().width)||0;if(c.itemWidth=F,j.length<=0)return!1;var U=j[0].cloneNode(!0);U.classList.add("copy-item");var B=j[j.length-1].cloneNode(!0);B.classList.add("copy-item"),M.appendChild(U),M.insertBefore(B,j[0]),g(0),C(),typeof t.current=="number"&&(c.isControl=!0,_(t.current))};tt(function(){Re(function(){console.info("swiper mounted"),E()})}),oe(function(){return c.children.length},function(){Re(function(){console.info("swiper mounted"),E()})});var m=null,f=!0,g=function(L){var $=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,M=S(),j=(t==null?void 0:t.direction)==="horizontal"?"X":"Y",F=(t==null?void 0:t.direction)==="vertical"?s:c.itemWidth;f=$,M.dataset.isTrust="".concat($),M.style.transform="translate".concat(j,"(-").concat(F*(L+1),"px)")},h=function(){var L=S();L.style.transition="transform ".concat(t==null?void 0:t.duration,"ms")},y=function(){var L=S();L.style.transition="none"},b=function(){c.btnDisabled=!1,y(),c.activeIndex>=c.itemLength&&(c.activeIndex=0,g(0)),c.activeIndex<=-1&&(c.activeIndex=c.itemLength-1,g(c.itemLength-1)),setTimeout(function(){f&&w(c.activeIndex)},0)},p=function(){!m||(clearInterval(m),m=null)},C=function(){if(typeof t.current=="number"||!(t!=null&&t.autoplay)||m!==null)return!1;m=setInterval(function(){c.activeIndex+=1,h(),g(c.activeIndex)},t==null?void 0:t.interval)},w=function(L){if(!c.isControl)return!1;var $=L;L>=c.itemLength&&($=0),L<0&&($=c.itemLength-1),i($)},k=function(){var L=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1;if(c.btnDisabled)return!1;p(),c.activeIndex-=L,h(),g(c.activeIndex),C(),c.btnDisabled=!0},_=function(){var L=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1;if(c.btnDisabled)return!1;p(),c.activeIndex+=L,h(),g(c.activeIndex),C(),c.btnDisabled=!0},T=L0(l,{passive:!1,onSwipeStart:function(L){if(c.btnDisabled)return!1;p()},onSwipe:function(L){if(c.btnDisabled)return!1;P(L)},onSwipeEnd:function(){D()}}),O=T.lengthX,A=T.lengthY,P=function(L){L.preventDefault();var $=c.activeIndex,M=c.itemWidth,j=O.value,F=A.value,U=S();if(y(),(t==null?void 0:t.direction)==="horizontal")Qm(U,-(($+1)*M+j));else{var B=t.height,K=B===void 0?180:B;Qm(U,-(($+1)*K+F),"Y")}},D=function(){var L=O.value,$=A.value;h(),(t==null?void 0:t.direction)==="horizontal"&&L<-100||(t==null?void 0:t.direction)==="vertical"&&$<-100?k(1):(t==null?void 0:t.direction)==="horizontal"&&L>100||(t==null?void 0:t.direction)==="vertical"&&$>100?_(1):g(c.activeIndex),C()},I=function(L){L.proxy&&c.children.push(L.proxy)};return ft("parent",{props:t,relation:I}),oe(function(){return t.current},function(x,L){c.isControl&&(c.activeIndex=x||0,h(),g(c.activeIndex,!1))}),{swiperContainer:l,name:Jm,computedNavigation:u,onTouchMove:P,onTouchEnd:D,handleAnimationEnd:b,state:c,paginationList:d,showPageNum:v,prev:k,next:_}}}),lM={key:0},uM={key:1};function cM(e,t,n,r,a,i){var o=ge("chevron-left-icon"),l=ge("chevron-right-icon"),u=ge("t-node");return H(),W("div",{style:De({height:"".concat(e.height,"px"),overflow:"hidden"}),class:z("".concat(e.name))},[J("div",{ref:"swiperContainer",class:z("".concat(e.name,"__container")),style:De({height:"".concat(e.height,"px"),flexDirection:e.direction==="horizontal"?"row":"column"}),onTransitionend:t[0]||(t[0]=function(){return e.handleAnimationEnd&&e.handleAnimationEnd.apply(e,arguments)})},[qe(e.$slots,"default")],38),e.navigation?(H(),W(Ce,{key:0},[e.direction==="horizontal"&&"showSlideBtn"in e.navigation&&e.navigation.showSlideBtn?(H(),W("span",lM,[J("span",{class:z("".concat(e.name,"__btn btn-prev")),onClick:t[1]||(t[1]=function(s){return e.prev(1)})},[R(o,{size:"20px"})],2),J("span",{class:z("".concat(e.name,"__btn btn-next")),onClick:t[2]||(t[2]=function(s){return e.next(1)})},[R(l,{size:"20px"})],2)])):se("",!0),"type"in e.navigation?(H(),W("span",{key:1,class:z("".concat(e.name,"__pagination ").concat(e.name,"__pagination-").concat(e.navigation.type||""))},[["dots","dots-bar"].includes(e.navigation.type||"")?(H(!0),W(Ce,{key:0},Ne(e.state.children.length,function(s,c){var d;return H(),W("span",{key:"page"+c,class:z((d={},te(d,"".concat(e.name,"-dot"),!0),te(d,"".concat(e.name,"-dot--active"),c===e.state.activeIndex),d))},null,2)}),128)):se("",!0),e.navigation.type&&e.navigation.type==="fraction"?(H(),W("span",uM,Ae(e.showPageNum+"/"+e.state.children.length),1)):se("",!0)],2)):se("",!0)],64)):se("",!0),e.computedNavigation!==void 0?(H(),Oe(u,{key:1,content:e.computedNavigation,style:{}},null,8,["content"])):se("",!0)],6)}kS.render=cM;/**
 * tdesign v0.8.4
 * (c) 2022 TDesign Group
 * @license MIT
 */var dM=_e.prefix,eg="".concat(dM,"-swiper-item"),_S=ee({name:eg,setup:function(){var t=et("parent");return t.relation(Be()),{name:eg}}});function fM(e,t,n,r,a,i){return H(),W("div",{class:z(e.name)},[qe(e.$slots,"default")],2)}_S.render=fM;/**
 * tdesign v0.8.4
 * (c) 2022 TDesign Group
 * @license MIT
 */var hM=Le(kS),vM=Le(_S);/**
 * tdesign v0.8.4
 * (c) 2022 TDesign Group
 * @license MIT
 */var mM={autoStart:{type:Boolean,default:!0},content:{type:[String,Function],default:"default"},format:{type:String,default:"HH:mm:ss"},millisecond:Boolean,time:{type:Number,required:!0},size:{type:String,default:"small"},theme:{type:String,default:"default"},onChange:Function,onFinish:Function};/**
 * tdesign v0.8.4
 * (c) 2022 TDesign Group
 * @license MIT
 */var gM=["content","size","theme"];function tg(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function pM(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?tg(Object(n),!0).forEach(function(r){te(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tg(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var yM=_e.prefix,ng="".concat(yM,"-countdown"),AS=ee({name:ng,components:{TNode:ut},props:pM({},mM),setup:function(t){var n,r,a=t||{};a.content,a.size,a.theme;var i=SR(a,gM),o=pk(i),l=o.time,u=o.showTimes,s=Be(),c=(n=/.*[\u4e00-\u9fa5]+.*$/)===null||n===void 0||(r=n.test)===null||r===void 0?void 0:r.call(n,i==null?void 0:i.format),d=N(function(){return Ge(s,"content")});return{name:ng,time:l,showTimes:u,hasChinese:c,contentLayout:d}}});function bM(e,t,n,r,a,i){var o=ge("t-node");return H(),W(Ce,null,[e.time?se("",!0):(H(),Oe(o,{key:0,content:e.contentLayout},null,8,["content"])),J("span",{class:z("".concat(e.name," ").concat(e.name,"--").concat(e.theme," ").concat(e.name,"--").concat(e.size," ").concat(e.hasChinese?"".concat(e.name,"--split-with-unit"):""))},[e.time?(H(!0),W(Ce,{key:0},Ne(e.showTimes,function(l){return H(),W(Ce,{key:l.mark},[J("span",{class:z("".concat(e.name,"__digit"))},Ae(l.value),3),l.mark?(H(),W("span",{key:0,class:z("".concat(e.name,"__unit"))},Ae(l.mark),3)):se("",!0)],64)}),128)):se("",!0)],2)],64)}AS.render=bM;/**
 * tdesign v0.8.4
 * (c) 2022 TDesign Group
 * @license MIT
 */var SM=Le(AS);/**
 * tdesign v0.8.4
 * (c) 2022 TDesign Group
 * @license MIT
 */var TM={alt:{type:String,default:""},badgeProps:{type:Object},hideOnLoadFailed:Boolean,icon:{type:Function},image:{type:String,default:""},shape:{type:String,default:"circle",validator:function(t){return t?["circle","round"].includes(t):!0}},size:{type:String,default:""},onError:Function};/**
 * tdesign v0.8.4
 * (c) 2022 TDesign Group
 * @license MIT
 */function rg(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function ag(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?rg(Object(n),!0).forEach(function(r){te(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):rg(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var CM=_e.prefix,os="".concat(CM,"-avatar"),Yd=ee({name:os,components:{TNode:ut,TBadge:$l},props:TM,emits:["error"],setup:function(t,n){var r=Tt(t,n.emit),a=Be(),i=et("avatarGroup",{}),o=N(function(){return qt(a,"default","content")}),l=N(function(){return Ge(a,"icon")}),u=q(t.size||i&&i.size),s=N(function(){return["".concat(os),u.value?$t.SIZE[u.value]:"",te({},"".concat(os,"--").concat(t.shape),t.shape)]}),c=N(function(){return u.value&&!$t.SIZE[u.value]}),d=N(function(){return c.value?{height:u.value,width:u.value}:{}}),v=function(E){r("error",E)};return ag(ag({name:os},ze(t)),{},{avatarContent:o,iconContent:l,avatarClass:s,customSize:d,handleImgLoadError:v})}}),EM=["src","alt"],wM={key:2};function OM(e,t,n,r,a,i){var o=ge("t-node"),l=ge("t-badge");return H(),W("div",{class:z(e.avatarClass),style:De(e.customSize)},[J("div",{class:z("".concat(e.name,"__inner"))},[e.image&&!e.hideOnLoadFailed?(H(),W("img",{key:0,src:e.image,alt:e.alt,style:De(e.customSize),onError:t[0]||(t[0]=function(){return e.handleImgLoadError&&e.handleImgLoadError.apply(e,arguments)})},null,44,EM)):e.iconContent!==void 0?(H(),W("div",{key:1,class:z("".concat(e.name,"__icon"))},[R(o,{content:e.iconContent},null,8,["content"])],2)):(H(),W("span",wM,[R(o,{content:e.avatarContent},null,8,["content"])]))],2),e.badgeProps?(H(),W("div",{key:0,class:z("".concat(e.name,"__badge"))},[R(l,{count:e.badgeProps.count,"max-count":e.badgeProps.maxCount,dot:e.badgeProps.dot,content:e.badgeProps.content,size:e.badgeProps.size,offset:e.badgeProps.offset},null,8,["count","max-count","dot","content","size","offset"])],2)):se("",!0)],6)}Yd.render=OM;/**
 * tdesign v0.8.4
 * (c) 2022 TDesign Group
 * @license MIT
 */var kM={cascading:{type:String,default:"right-up",validator:function(t){return t?["left-up","right-up"].includes(t):!0}},collapseAvatar:{type:[String,Function]},max:{type:Number},size:{type:String,default:"medium"}};/**
 * tdesign v0.8.4
 * (c) 2022 TDesign Group
 * @license MIT
 */function ig(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function _M(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ig(Object(n),!0).forEach(function(r){te(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ig(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var Lc=_e.prefix,og="".concat(Lc,"-avatar-group"),DS=ee({name:og,components:{Avatar:Yd,TNode:ut},props:kM,setup:function(t,n){var r=n.slots;ft("avatarGroup",_M({},t));var a=Be(),i=N(function(){var d;return["".concat(og),(d={},te(d,"".concat(Lc,"-avatar--offset-right"),t.cascading==="right-up"),te(d,"".concat(Lc,"-avatar--offset-left"),t.cascading==="left-up"),d)]}),o=q(!1),l=q(null),u=q(t.size),s=N(function(){return Ge(a,"collapseAvatar")}),c=function(){var v=r.default?r.default():[],S=[];v.forEach(function(f){f.type===Ce?S.push.apply(S,Nt(f.children)):S.push(f)});var E=[],m=t.max||0;return m&&m<S.length?(E=S.slice(0,m),o.value=!0,l.value=s.value||"+".concat(S.length-m)):E=S,u.value=E[0].size||t.size,E};return{classes:i,size:u,isShowEllipsisContent:o,ellipsisContent:l,avatarItems:c}}});function AM(e,t,n,r,a,i){var o=ge("t-node"),l=ge("avatar");return H(),W("div",{class:z(e.classes)},[(H(),Oe(jo(e.avatarItems))),e.isShowEllipsisContent?(H(),Oe(l,{key:0,size:e.size},{default:Ue(function(){return[R(o,{content:e.ellipsisContent},null,8,["content"])]}),_:1},8,["size"])):se("",!0)],2)}DS.render=AM;/**
 * tdesign v0.8.4
 * (c) 2022 TDesign Group
 * @license MIT
 */var DM=Le(Yd),PM=Le(DS);/**
 * tdesign v0.8.4
 * (c) 2022 TDesign Group
 * @license MIT
 */var IM={alt:{type:String,default:""},error:{type:Function},fit:{type:String,default:"fill",validator:function(t){return t?["contain","cover","fill","none","scale-down"].includes(t):!0}},lazy:Boolean,loading:{type:Function},position:{type:String,default:"center"},shape:{type:String,default:"round",validator:function(t){return t?["circle","round","square"].includes(t):!0}},src:{type:String,default:""},onError:Function,onLoad:Function};/**
 * tdesign v0.8.4
 * (c) 2022 TDesign Group
 * @license MIT
 */var LM=_e.prefix,ss="".concat(LM,"-image"),PS=ee({name:ss,components:{TNode:ut},props:IM,setup:function(t,n){var r=Tt(t,n.emit),a=Be(),i=N(function(){var f,g,h,y;return(f=n.slots)!==null&&f!==void 0&&f.loading&&o.value?Ge(a,"loading"):!((g=n.slots)!==null&&g!==void 0&&g.loading)&&o.value?yt(HO):(h=n.slots)!==null&&h!==void 0&&h.error&&l.value?Ge(a,"error"):!((y=n.slots)!==null&&y!==void 0&&y.error)&&l.value?yt(ki):""}),o=q(!0),l=q(!1),u=N(function(){return{objectFit:t.fit,objectPosition:t.position}}),s=N(function(){var f;return f={},te(f,"".concat(ss),!0),te(f,"".concat(ss,"--").concat(t.shape),!0),f}),c=q(),d=q(t.lazy?"":t.src),v=mk(c,function(f,g){var h=kt(f,1),y=h[0].isIntersecting;y&&t.lazy&&(S(),d.value=t.src)}),S=v.stop,E=function(g){r("load",g),o.value=!1},m=function(g){d.value!==""&&(r("error",g),o.value=!1,l.value=!0)};return{imageDOM:c,statusContent:i,name:ss,classes:s,imageStyles:u,loadingValue:o,realSrc:d,errorValue:l,handleImgLoadCompleted:E,handleImgLoadError:m}}}),RM=["src","alt"];function xM(e,t,n,r,a,i){var o=ge("t-node");return H(),W("div",{class:z(e.classes)},[e.loadingValue||e.errorValue?(H(),W("div",{key:0,class:z("".concat(e.name,"__status"))},[R(o,{content:e.statusContent},null,8,["content"])],2)):se("",!0),J("img",{ref:"imageDOM",class:z("".concat(e.name,"__img")),style:De(e.imageStyles),src:e.realSrc,alt:e.alt,onLoad:t[0]||(t[0]=function(){return e.handleImgLoadCompleted&&e.handleImgLoadCompleted.apply(e,arguments)}),onError:t[1]||(t[1]=function(){return e.handleImgLoadError&&e.handleImgLoadError.apply(e,arguments)})},null,46,RM)],2)}PS.render=xM;/**
 * tdesign v0.8.4
 * (c) 2022 TDesign Group
 * @license MIT
 */var $M=Le(PS);/**
 * tdesign v0.8.4
 * (c) 2022 TDesign Group
 * @license MIT
 */var MM={content:{type:[String,Function]},default:{type:[String,Function]},disabled:Boolean,expanded:{type:String,validator:function(t){return["left","right"].includes(t)}},left:{type:[Array,Function]},right:{type:[Array,Function]},onChange:Function,onClick:Function};/**
 * tdesign v0.8.4
 * (c) 2022 TDesign Group
 * @license MIT
 */function sg(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function lg(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?sg(Object(n),!0).forEach(function(r){te(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):sg(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var FM=_e.prefix,ug="".concat(FM,"-swipe-cell"),IS=ee({name:ug,components:{TNode:ut,TButton:ka},props:MM,emits:["click","change"],setup:function(t,n){var r=Tt(t,n.emit),a=Be(),i=N(function(){return qt(a,"default","content")}),o=N(function(){return Ge(a,"left")}),l=N(function(){return Ge(a,"right")}),u=q(),s=q(),c=q(),d=L0(c,{threshold:0,onSwipeStart:function(k){f.moving=!0,f.pos=0},onSwipe:function(k){if(!t.disabled){f.moving&&f.status==="close"&&(f.moving=!1);var _=0;if(v.value<0){if(f.leftWidth===0){f.moving=!1;return}_=Math.min(Math.abs(v.value),f.leftWidth>0?f.leftWidth+m:0)}else{if(f.rightWidth===0){f.moving=!1;return}_=Math.max(-v.value,-(f.rightWidth>0?f.rightWidth+m:0))}f.status==="close"&&(f.pos=_)}},onSwipeEnd:function(k){y()}}),v=d.lengthX,S=0,E=.5,m=0,f=Me({moving:!1,leftWidth:0,rightWidth:0,pos:0,status:"close"}),g=N(function(){return["".concat(ug)]});tt(function(){var w,k,_=(w=u.value)===null||w===void 0?void 0:w.clientWidth,T=(k=s.value)===null||k===void 0?void 0:k.clientWidth;f.leftWidth=_>0?_+S:0,f.rightWidth=T>0?T+S:0,h()}),oe(function(){return t.expanded},function(){return h()}),lk(c,function(w){p()});var h=function(){t.expanded&&t.expanded==="left"&&f.leftWidth&&b("toRight"),t.expanded&&t.expanded==="right"&&f.rightWidth&&b("toLeft")},y=function(){t.disabled||(v.value<0&&f.pos>f.leftWidth*E?b("toRight"):v.value>0&&-f.pos>f.rightWidth*E?b("toLeft"):p("force"))},b=function(k){f.status!=="open"&&(f.moving=!0,f.status="open",k==="toLeft"?(f.pos=-f.rightWidth,f.rightWidth&&r("change","right")):(f.pos=f.leftWidth,f.leftWidth&&r("change","left")))},p=function(k){f.status==="close"&&k!=="force"||(f.moving=!0,f.status="close",f.pos=0,r("change",void 0))},C=function(k){var _=k.action,T=k.source;if(p(),_.onClick){_.onClick();return}r("click",{action:_,source:T})};return lg(lg({},ze(t)),{},{swipeContent:i,swipeLeftMenu:o,swipeRightMenu:l,initData:f,classes:g,swipeCell:c,leftRef:u,rightRef:s,handleClickBtn:C,end:y})}});function cg(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function dg(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?cg(Object(n),!0).forEach(function(r){te(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):cg(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var BM={ref:"swipeCell",class:"content"};function NM(e,t,n,r,a,i){var o,l=ge("t-node"),u=ge("t-button");return H(),W("div",{class:z(e.classes),onTouchend:t[2]||(t[2]=function(){return e.end&&e.end.apply(e,arguments)}),onTouchcancel:t[3]||(t[3]=function(){return e.end&&e.end.apply(e,arguments)}),onMouseup:t[4]||(t[4]=function(){return e.end&&e.end.apply(e,arguments)})},[J("div",{class:z((o={},te(o,e.classes+"__wrapper",!0),te(o,"moving",e.initData.moving),o)),style:De({transform:"translate3d(".concat(e.initData.pos,"px,0,0)")})},[J("div",{ref:"leftRef",class:z(e.classes+"__left"),style:De({width:e.initData.leftWidth?"".concat(e.initData.leftWidth,"px"):"auto"}),onTouchstartPassive:t[0]||(t[0]=Xn(function(){},["stop"]))},[R(l,{content:e.swipeLeftMenu},null,8,["content"]),(H(!0),W(Ce,null,Ne(e.left,function(s,c){return H(),Oe(u,{key:c,class:z(s.className||""),style:De(s.style||"height: 100%"),onClick:function(v){return e.handleClickBtn({action:dg({},s),source:"left"})}},{default:Ue(function(){return[nt(Ae(s.text),1)]}),_:2},1032,["class","style","onClick"])}),128))],38),J("div",BM,[R(l,{content:e.swipeContent},null,8,["content"])],512),J("div",{ref:"rightRef",class:z(e.classes+"__right"),style:De({width:e.initData.rightWidth?"".concat(e.initData.rightWidth,"px"):"auto"}),onTouchstartPassive:t[1]||(t[1]=Xn(function(){},["stop"]))},[R(l,{content:e.swipeRightMenu},null,8,["content"]),(H(!0),W(Ce,null,Ne(e.right,function(s,c){return H(),Oe(u,{key:c,class:z(s.className||""),style:De(s.style||"height: 100%"),onClick:function(v){return e.handleClickBtn({action:dg({},s),source:"right"})}},{default:Ue(function(){return[nt(Ae(s.text),1)]}),_:2},1032,["class","style","onClick"])}),128))],38)],6)],34)}IS.render=NM;/**
 * tdesign v0.8.4
 * (c) 2022 TDesign Group
 * @license MIT
 */var jM=Le(IS);/**
 * tdesign v0.8.4
 * (c) 2022 TDesign Group
 * @license MIT
 */var UM={animation:{type:String,validator:function(t){return t?["gradient","flashed"].includes(t):!0}},content:{type:[String,Function]},default:{type:[String,Function]},delay:{type:Number,default:0},loading:{type:Boolean,default:!0},rowCol:{type:Array,default:[1,1,1,{width:"70%"}]},theme:{type:String,default:"text",validator:function(t){return t?["text","avatar-text"].includes(t):!0}}};/**
 * tdesign v0.8.4
 * (c) 2022 TDesign Group
 * @license MIT
 */function fg(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function ls(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?fg(Object(n),!0).forEach(function(r){te(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):fg(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var VM=_e.prefix,wr="".concat(VM,"-skeleton"),hg=[1,1,1,{width:"70%"}],LS=ee({name:wr,components:{},props:UM,setup:function(t){var n=!t.loading,r=N(function(){return["".concat(wr),"".concat(wr,"--").concat(t.theme)]}),a=[];t.theme==="avatar-text"?a.push.apply(a,hg):t.rowCol?a.push.apply(a,Nt(t.rowCol)):a.push.apply(a,hg);var i="".concat(wr,"__row"),o=N(function(){return["".concat(wr,"__col"),te({},"".concat(wr,"--animation-").concat(t.animation),t.animation),"".concat(wr,"--type-text")]}),l=function(c){var d=["width","height","marginRight","marginLeft","margin","size","background","backgroundColor","borderRadius"],v={};return d.forEach(function(S){if(S in c){var E=vv(c[S])?"".concat(c[S],"px"):c[S];if(S==="size"){var m=[E,E];v.width=m[0],v.height=m[1]}else v[S]=E}}),v},u=a.map(function(s){if(vv(s))return[{type:"text",style:{}}];if(Array.isArray(s))return s.map(function(d){return ls(ls({},d),{},{style:l(d)})});var c=s;return[ls(ls({},c),{},{style:l(c)})]});return{name:wr,rootClasses:r,rowClass:i,colClass:o,parsedRowcols:u,showContent:n,defaultContent:t.default}}});function HM(e,t,n,r,a,i){return H(),W("div",{class:z(e.rootClasses)},[e.showContent?(H(),W(Ce,{key:0},[e.content?(H(),W(Ce,{key:0},[nt(Ae(e.content),1)],64)):e.defaultContent?(H(),W(Ce,{key:1},[nt(Ae(e.defaultContent),1)],64)):qe(e.$slots,"default",{key:2})],64)):e.theme==="text"?(H(!0),W(Ce,{key:1},Ne(e.parsedRowcols,function(o,l){return H(),W("div",{key:"".concat(e.rowClass,"-").concat(l),class:z(e.rowClass)},[(H(!0),W(Ce,null,Ne(o,function(u,s){return H(),W("div",{key:"".concat(e.colClass,"-").concat(s),class:z(e.colClass),style:De(u.style)},null,6)}),128))],2)}),128)):e.theme==="avatar-text"?(H(),W(Ce,{key:2},[J("div",{class:z("".concat(e.name,"__col ").concat(e.name,"--type-circle"))},null,2),J("div",{class:z("".concat(e.name,"__paragraph"))},[(H(!0),W(Ce,null,Ne(e.parsedRowcols,function(o,l){return H(),W("div",{key:"".concat(e.rowClass,"-").concat(l),class:z(e.rowClass)},[(H(!0),W(Ce,null,Ne(o,function(u,s){return H(),W("div",{key:"".concat(e.colClass,"-").concat(s),class:z(e.colClass),style:De(u.style)},null,6)}),128))],2)}),128))],2)],64)):se("",!0)],2)}LS.render=HM;/**
 * tdesign v0.8.4
 * (c) 2022 TDesign Group
 * @license MIT
 */var zM=Le(LS);/**
 * tdesign v0.8.4
 * (c) 2022 TDesign Group
 * @license MIT
 */var GM={align:{type:String,default:"center",validator:function(t){return t?["left","center"].includes(t):!0}},border:{type:[Boolean,Object],default:!1},column:{type:Number,default:4},gutter:{type:Number}};/**
 * tdesign v0.8.4
 * (c) 2022 TDesign Group
 * @license MIT
 */var KM=_e.prefix,vg="".concat(KM,"-grid"),RS=ee({name:vg,props:GM,setup:function(t){var n=ze(t),r=n.column,a=n.gutter,i=n.border,o=n.align;return ft("grid",{column:r,gutter:a,border:i,align:o}),{name:vg}}});function WM(e,t,n,r,a,i){return H(),W("div",{class:z("".concat(e.name))},[qe(e.$slots,"default")],2)}RS.render=WM;/**
 * tdesign v0.8.4
 * (c) 2022 TDesign Group
 * @license MIT
 */var YM={badgeProps:{type:Object},description:{type:[String,Function]},image:{type:[String,Function]},layout:{type:String,default:"vertical",validator:function(t){return t?["vertical","horizontal"].includes(t):!0}},text:{type:[String,Function]}};/**
 * tdesign v0.8.4
 * (c) 2022 TDesign Group
 * @license MIT
 */function mg(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function qM(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?mg(Object(n),!0).forEach(function(r){te(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):mg(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var XM=_e.prefix,us="".concat(XM,"-grid-item"),xS=ee({name:us,components:{TNode:ut,TBadge:$l},props:YM,setup:function(t){var n=Be(),r=t.layout==="horizontal",a=et("grid"),i=a.column,o=a.gutter,l=a.border,u=a.align,s=N(function(){return Ge(n,"image")}),c=N(function(){return Ge(n,"text")}),d=N(function(){return Ge(n,"description")}),v=N(function(){return["".concat(us),te({},"".concat(us,"--bordered"),l.value)]}),S=N(function(){var g="".concat(100/+i.value,"%"),h={};if(l.value&&typeof l.value!="boolean"){var y=l.color,b=l.width,p=l.style;return{borderColor:y,borderWidth:b,borderStyle:p}}var C=qM({flexBasis:g,flexDirection:r?"row":"column",paddingLeft:o.value?"".concat(o,"px"):0,paddingRight:o.value?"".concat(o,"px"):0,alignItems:"center",justifyContent:"center",textAlign:["center","left"].includes(u.value)?u.value:"center"},h);return C}),E=N(function(){var g=32;return i.value>=5?g=28:i.value<=3&&(g=48),{width:"".concat(g,"px"),height:"".concat(g,"px")}}),m=N(function(){return{paddingLeft:r?"12px":0}}),f=N(function(){return{paddingTop:r?0:"8px",marginBottom:"4px"}});return{name:us,rootStyle:S,rootClass:v,imgStyle:E,textStyle:m,titleStyle:f,imageContent:s,textContent:c,descContent:d}}}),ZM=["src"],JM=["src"];function QM(e,t,n,r,a,i){var o=ge("t-node"),l=ge("t-badge");return H(),W("div",{class:z(e.rootClass),style:De(e.rootStyle)},[J("div",{class:z("".concat(e.name,"__image-box"))},[e.badgeProps?(H(),Oe(l,{key:0,count:e.badgeProps.count,"max-count":e.badgeProps.maxCount,dot:e.badgeProps.dot,content:e.badgeProps.content,size:e.badgeProps.size,offset:e.badgeProps.offset},{default:Ue(function(){return[e.image?(H(),W(Ce,{key:0},[typeof e.image=="string"?(H(),W("img",{key:0,src:e.image,class:z("".concat(e.name,"__image")),style:De(e.imgStyle)},null,14,ZM)):(H(),Oe(o,{key:1,content:e.imageContent},null,8,["content"]))],64)):se("",!0)]}),_:1},8,["count","max-count","dot","content","size","offset"])):e.image?(H(),W(Ce,{key:1},[typeof e.image=="string"?(H(),W("img",{key:0,src:e.image,class:z("".concat(e.name,"__image")),style:De(e.imgStyle)},null,14,JM)):(H(),Oe(o,{key:1,content:e.imageContent},null,8,["content"]))],64)):se("",!0)],2),J("div",{class:z("".concat(e.name,"__text")),style:De(e.textStyle)},[J("div",{class:z("".concat(e.name,"__title")),style:De(e.titleStyle)},[R(o,{content:e.textContent},null,8,["content"])],6),J("div",{class:z("".concat(e.name,"__description"))},[R(o,{content:e.descContent},null,8,["content"])],2)],6)],6)}xS.render=QM;/**
 * tdesign v0.8.4
 * (c) 2022 TDesign Group
 * @license MIT
 */var eF=Le(RS),tF=Le(xS);/**
 * tdesign v0.8.4
 * (c) 2022 TDesign Group
 * @license MIT
 */function gg(e,t){var n=Object.keys(t);n.forEach(function(r){e.style[r]=t[r]})}/**
 * tdesign v0.8.4
 * (c) 2022 TDesign Group
 * @license MIT
 */function pg(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function cs(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?pg(Object(n),!0).forEach(function(r){te(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pg(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function nF(e){var t,n,r,a,i={};if(!!e){var o=(t=window)===null||t===void 0||(n=t.getComputedStyle)===null||n===void 0?void 0:n.call(t,e),l=o.color,u=o.fontSize,s=(r=window)===null||r===void 0||(a=r.navigator)===null||a===void 0?void 0:a.userAgent,c=/Safari/.test(s)&&!/Chrome/.test(s);if(c&&(i={transformOrigin:"-1px -1px",transform:"scale(".concat(parseInt(u,10)/14,")")}),l&&TR()>11){var d=l.match(/[\d.]+/g),v=d?"rgba(".concat(d[0],", ").concat(d[1],", ").concat(d[2],", 0)"):"";gg(e,cs(cs({},i),{},{background:"conic-gradient(from 90deg at 50% 50%,".concat(v," 0deg, ").concat(l," 360deg)")}))}else gg(e,cs(cs({},i),{},{background:""}))}}/**
 * tdesign v0.8.4
 * (c) 2022 TDesign Group
 * @license MIT
 */var $S=_e.prefix,wu="".concat($S,"-loading__gradient"),rF="".concat($S,"-icon-loading"),MS=ee({name:wu,setup:function(){var t=[wu,rF];return{name:wu,classes:t}},mounted:function(){var t=this;this.$nextTick(function(){t.updateColor()})},updated:function(){this.updateColor()},methods:{updateColor:function(){var t=this.$refs.circle;nF(t)}}}),aF={x:"1",y:"1",width:"12",height:"12"};function iF(e,t,n,r,a,i){return H(),W("svg",{class:z(e.classes),viewBox:"0 0 14 14",version:"1.1",width:"1em",height:"1em",xmlns:"http://www.w3.org/2000/svg"},[(H(),W("foreignObject",aF,[J("div",{ref:"circle",class:z("".concat(e.name,"-conic"))},null,2)]))],2)}MS.render=iF;/**
 * tdesign v0.8.4
 * (c) 2022 TDesign Group
 * @license MIT
 */var oF=_e.prefix,yg="".concat(oF,"-loading__spinner"),FS=ee({name:yg,setup:function(){return{name:yg}}});function sF(e,t,n,r,a,i){return H(),W("span",{class:z(e.name)},[(H(!0),W(Ce,null,Ne(new Array(12),function(o,l){return H(),W("i",{key:l,class:z(["".concat(e.name,"--line"),"".concat(e.name,"--line-").concat(l+1)])},null,2)}),128))],2)}FS.render=sF;/**
 * tdesign v0.8.4
 * (c) 2022 TDesign Group
 * @license MIT
 */var lF={default:{type:[String,Function]},content:{type:[String,Function]},delay:{type:Number,default:0},duration:{type:Number,default:800},indicator:{type:Boolean,default:!0},inheritColor:Boolean,layout:{type:String,default:"horizontal",validator:function(t){return t?["horizontal","vertical"].includes(t):!0}},loading:{type:Boolean,default:!0},pause:Boolean,progress:{type:Number},reverse:Boolean,size:{type:String,default:"40rpx"},text:{type:String},theme:{type:String,default:"circular",validator:function(t){return t?["circular","spinner","bar","error","dots"].includes(t):!0}}};/**
 * tdesign v0.8.4
 * (c) 2022 TDesign Group
 * @license MIT
 */var uF=_e.prefix,Or="".concat(uF,"-loading"),cF=function(t){return!t||t<=0?-100:t>1?0:(-1+t)*100},BS=ee({name:Or,components:{GradientIcon:MS,SpinnerIcon:FS,TNode:ut},props:lF,setup:function(t){var n=Be(),r=q(!1),a=function(){r.value=!1;var v=setTimeout(function(){r.value=!0,clearTimeout(v)},t.delay)},i=N(function(){return(!t.delay||r.value)&&t.loading});oe(function(){return t.loading},function(d){d&&t.delay&&a()},{immediate:!0});var o=N(function(){return[Or,te({},"".concat(Or,"--vertical"),t.layout==="vertical"),te({},"".concat(Or,"--bar"),t.theme==="bar"),t.size?$t.SIZE[t.size]:""]}),l=N(function(){return["".concat(Or,"__text"),te({},"".concat(Or,"__text--error"),t.theme==="error"),te({},"".concat(Or,"__text--only"),!t.indicator||t.theme==="error")]}),u=N(function(){return t.theme==="error"?"\u52A0\u8F7D\u5931\u8D25":Ge(n,"text")}),s=N(function(){return qt(n,"default","content")}),c=N(function(){return{transform:"translate3d(".concat(cF(t.progress),"%, 0px, 0px)")}});return{name:Or,rootClass:o,textClass:l,textContent:u,defaultContent:s,barStyle:c,realLoading:i}}});function dF(e,t,n,r,a,i){var o=ge("gradient-icon"),l=ge("spinner-icon"),u=ge("t-node");return H(),W("div",{class:z(e.rootClass)},[e.theme==="bar"&&e.progress&&![0,1].includes(e.progress)?(H(),W("div",{key:0,class:z("".concat(e.name,"__bar")),style:De(e.barStyle)},[J("div",{class:z("".concat(e.name,"__shadow"))},null,2)],6)):e.theme!=="bar"?(H(),W(Ce,{key:1},[e.indicator&&e.realLoading?(H(),W(Ce,{key:0},[e.theme==="circular"?(H(),Oe(o,{key:0})):e.theme==="spinner"?(H(),Oe(l,{key:1})):e.theme==="dots"?(H(),W("div",{key:2,class:z("".concat(e.name,"__dots"))},null,2)):se("",!0)],64)):se("",!0),e.textContent&&e.realLoading?(H(),W("span",{key:1,class:z(e.textClass)},[R(u,{content:e.textContent},null,8,["content"])],2)):se("",!0),R(u,{content:e.defaultContent},null,8,["content"])],64)):se("",!0)],2)}BS.render=dF;/**
 * tdesign v0.8.4
 * (c) 2022 TDesign Group
 * @license MIT
 */var qd=Le(BS);/**
 * tdesign v0.8.4
 * (c) 2022 TDesign Group
 * @license MIT
 */var fF={asyncLoading:{type:[String,Function]},footer:{type:[String,Function]},header:{type:[String,Function]},layout:{type:String,default:"horizontal",validator:function(t){return t?["horizontal","vertical"].includes(t):!0}},size:{type:String,default:"medium",validator:function(t){return t?["small","medium","large"].includes(t):!0}},split:Boolean,stripe:Boolean,onLoadMore:Function,onScroll:Function};/**
 * tdesign v0.8.4
 * (c) 2022 TDesign Group
 * @license MIT
 */var hF=_e.prefix,bg="".concat(hF,"-list"),vF={loading:"\u52A0\u8F7D\u4E2D...","loading-more":"\u70B9\u51FB\u52A0\u8F7D\u66F4\u591A"},NS=ee({name:bg,components:{TLoading:qd,TNode:ut},props:fF,emits:["load-more","scroll"],setup:function(t,n){var r=n.emit,a=q(),i=q(),o=Be(),l=N(function(){return Ge(o,"header")}),u=N(function(){return Ge(o,"footer")}),s=function(d){t.asyncLoading==="loading-more"&&(r("load-more",{e:d}),t.onLoadMore&&t.onLoadMore())};return{name:bg,root:a,empty:i,onLoadMore:s,headerContent:l,footerContent:u,LOADING_TEXT_MAP:vF}},methods:{handleScroll:function(t){var n=this.$el,r=n.scrollTop,a=n.scrollHeight,i=n.clientHeight;this.$emit("scroll",{$event:t,scrollTop:r,scrollBottom:a-i-r}),this.onScroll&&this.onScroll({e:t,scrollTop:r,scrollBottom:a-i-r})}}});function mF(e,t,n,r,a,i){var o=ge("t-node"),l=ge("t-loading");return H(),W("div",{ref:"root",class:z(e.name),onScroll:t[1]||(t[1]=function(){return e.handleScroll&&e.handleScroll.apply(e,arguments)})},[R(o,{content:e.headerContent},null,8,["content"]),qe(e.$slots,"default"),J("div",{onClick:t[0]||(t[0]=Xn(function(){return e.onLoadMore&&e.onLoadMore.apply(e,arguments)},["stop"]))},[typeof e.asyncLoading=="string"&&["loading","loadingMore"].includes(e.asyncLoading)?(H(),Oe(l,{key:0,loading:e.asyncLoading==="loading",content:typeof e.asyncLoading=="string"?e.LOADING_TEXT_MAP[e.asyncLoading]:"",class:z("".concat(e.name,"__loading"))},null,8,["loading","content","class"])):se("",!0)]),R(o,{content:e.footerContent},null,8,["content"])],34)}NS.render=mF;/**
 * tdesign v0.8.4
 * (c) 2022 TDesign Group
 * @license MIT
 */var gF=Le(NS);/**
 * tdesign v0.8.4
 * (c) 2022 TDesign Group
 * @license MIT
 */var pF={fixed:{type:Boolean,default:!0},icon:{type:Function,default:"backtop"},target:{type:Function},text:{type:String,default:""},theme:{type:String,default:"round",validator:function(t){return t?["round","half-round","round-dark","half-round-dark"].includes(t):!0}},onToTop:Function};/**
 * tdesign v0.8.4
 * (c) 2022 TDesign Group
 * @license MIT
 */var jS=_e.prefix,ds="".concat(jS,"-back-top"),US=ee({name:ds,components:{TNode:ut,TIconBackTop:PO},props:pF,setup:function(t,n){var r=Tt(t,n.emit),a=N(function(){return t.target?t.target():window.document.documentElement}),i=Cc(a),o=i.top,l=N(function(){var d;return d={},te(d,"".concat(ds),!0),te(d,"".concat(jS,"-is-fixed"),t.fixed),te(d,"".concat(ds,"--").concat(t.theme),!0),d}),u=Be(),s=N(function(){var d;return(d=n.slots)!==null&&d!==void 0&&d.icon||typeof t.icon=="function"?Ge(u,"icon"):!1}),c=function(){window.document.documentElement.scrollTop+=o.value,r("toTop")};return{name:ds,classes:l,iconTNode:s,el:a,top:o,clickBackBtn:c}}});function yF(e,t,n,r,a,i){var o=ge("t-node"),l=ge("t-icon-back-top");return H(),W("div",{class:z(e.classes),onClick:t[0]||(t[0]=function(){return e.clickBackBtn&&e.clickBackBtn.apply(e,arguments)})},[e.iconTNode?(H(),Oe(o,{key:0,content:e.iconTNode},null,8,["content"])):(H(),Oe(l,{key:1})),e.text?(H(),W("span",{key:2,class:z("".concat(e.name,"__text"))},Ae(e.text),3)):se("",!0)],2)}US.render=yF;/**
 * tdesign v0.8.4
 * (c) 2022 TDesign Group
 * @license MIT
 */var bF=Le(US);/**
 * tdesign v0.8.4
 * (c) 2022 TDesign Group
 * @license MIT
 */var SF={loadingBarHeight:{type:[String,Number],default:50},loadingProps:{type:Object},loadingTexts:{type:Array,default:function(){return[]}},maxBarHeight:{type:[String,Number],default:80},refreshTimeout:{type:Number,default:3e3},value:{type:Boolean,default:void 0},modelValue:{type:Boolean,default:void 0},defaultValue:Boolean,onChange:Function,onRefresh:Function,onTimeout:Function};/**
 * tdesign v0.8.4
 * (c) 2022 TDesign Group
 * @license MIT
 */var TF=function(t){var n=1;return t.tagName!=="HTML"&&t.tagName!=="BODY"&&t.nodeType===n};function CF(){var e=q(0),t=q(0),n=function(i){e.value=i.touches[0].clientY,t.value=0},r=function(i){var o=i.touches[0];t.value=o.clientY-e.value};return{startY:e,deltaY:t,start:n,move:r}}var EF=function(t,n){return t>n&&(t<n*2?t=n+(t-n)/2:t=n*1.5+(t-n*2)/4),Math.round(t)},wF=function(t){for(var n=t;n&&TF(n);){if(/auto|scroll/i.test(window.getComputedStyle(n).overflowY))return n;n=n.parentNode}},Ou=function(t){var n=wF(t.target);return!n||!n.scrollTop};/**
 * tdesign v0.8.4
 * (c) 2022 TDesign Group
 * @license MIT
 */function Sg(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function OF(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Sg(Object(n),!0).forEach(function(r){te(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Sg(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var kF=_e.prefix,Tg="".concat(kF,"-pull-down-refresh"),_F=300,AF=["pulling","loosing","loading","success","initial"],VS=ee({name:Tg,components:{TLoading:qd},props:SF,emits:["refresh","timeout"],setup:function(t,n){var r,a=Tt(t,n.emit),i=N(function(){return{transitionDuration:"".concat(_F,"ms"),transform:"translate3d(0, ".concat(c.value,"px, 0)")}}),o=N(function(){return{height:typeof t.loadingBarHeight=="number"?"".concat(t.loadingBarHeight,"px"):t.loadingBarHeight}}),l=N(function(){return{height:typeof t.maxBarHeight=="number"?"".concat(t.maxBarHeight,"px"):t.maxBarHeight}}),u=N(function(){return OF({},t.loadingProps)}),s=q(!1),c=q(0),d=ze(t),v=d.value,S=d.modelValue,E=lD(v,S,t.defaultValue,t.onChange),m=kt(E,2),f=m[0],g=m[1],h=N(function(){return!f.value&&s.value?"success":!f.value||c.value===0?"initial":c.value<_.value?"pulling":s.value?"loading":"loosing"});oe(h,function(x){(x==="success"||x==="initial")&&setTimeout(function(){c.value=0,s.value=!1},300)});var y=q((r=t.loadingTexts)!==null&&r!==void 0&&r.length?t.loadingTexts:["\u4E0B\u62C9\u5237\u65B0","\u677E\u624B\u5237\u65B0","\u6B63\u5728\u5237\u65B0","\u5237\u65B0\u5B8C\u6210"]),b=N(function(){var x=AF.indexOf(h.value);return x>=0?y.value[x]:""}),p=CF(),C=q(null),w=q(null),k=bv(C),_=k.height,T=bv(w),O=T.height,A=function(L){!Ou(L)||s.value||(g(!0),c.value=0,p.start(L))},P=function(L){if(!(!Ou(L)||s.value)){var $=p.deltaY,M=EF($.value,_.value);M>=0&&M<O.value&&(L.preventDefault(),c.value=M),p.move(L)}},D=null,I=function(L){!Ou(L)||s.value||(h.value==="loosing"?(c.value=_.value,s.value=!0,a("refresh"),D=setTimeout(function(){s.value&&(a("timeout"),g(!1))},t.refreshTimeout)):g(!1))};return Mn(function(){clearTimeout(D)}),{name:Tg,status:h,trackStyle:i,loadingText:b,maxBarStyles:l,loadingBarStyles:o,loadingIconProps:u,loadingBar:C,maxBar:w,onTouchStart:A,onTouchMove:P,onTouchEnd:I}}}),DF={key:0},PF={key:1};function IF(e,t,n,r,a,i){var o=ge("t-loading");return H(),W("div",{class:z(e.name)},[J("div",{class:z("".concat(e.name,"__track")),style:De(e.trackStyle),onTouchstart:t[0]||(t[0]=Xn(function(){return e.onTouchStart&&e.onTouchStart.apply(e,arguments)},["stop"])),onTouchmove:t[1]||(t[1]=Xn(function(){return e.onTouchMove&&e.onTouchMove.apply(e,arguments)},["stop"])),onTouchend:t[2]||(t[2]=Xn(function(){return e.onTouchEnd&&e.onTouchEnd.apply(e,arguments)},["stop"])),onTouchcancel:t[3]||(t[3]=Xn(function(){return e.onTouchEnd&&e.onTouchEnd.apply(e,arguments)},["stop"]))},[J("div",{ref:"maxBar",class:z("".concat(e.name,"__max")),style:De(e.maxBarStyles)},[J("div",{ref:"loadingBar",class:z("".concat(e.name,"__loading")),style:De(e.loadingBarStyles)},[e.status==="loading"?(H(),W("div",DF,[R(o,Ye({text:e.loadingText,class:"".concat(e.name,"__loading-icon")},e.loadingIconProps),null,16,["text","class"])])):(H(),W("div",PF,Ae(e.loadingText),1))],6)],6),qe(e.$slots,"default")],38)],2)}VS.render=IF;/**
 * tdesign v0.8.4
 * (c) 2022 TDesign Group
 * @license MIT
 */var LF=Le(VS),RF=Il;function xF(){this.__data__=new RF,this.size=0}var $F=xF;function MF(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}var FF=MF;function BF(e){return this.__data__.get(e)}var NF=BF;function jF(e){return this.__data__.has(e)}var UF=jF,VF=Il,HF=Ud,zF=Vd,GF=200;function KF(e,t){var n=this.__data__;if(n instanceof VF){var r=n.__data__;if(!HF||r.length<GF-1)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new zF(r)}return n.set(e,t),this.size=n.size,this}var WF=KF,YF=Il,qF=$F,XF=FF,ZF=NF,JF=UF,QF=WF;function Ii(e){var t=this.__data__=new YF(e);this.size=t.size}Ii.prototype.clear=qF;Ii.prototype.delete=XF;Ii.prototype.get=ZF;Ii.prototype.has=JF;Ii.prototype.set=QF;var HS=Ii;function eB(e,t){for(var n=-1,r=e==null?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}var tB=eB,nB=vb,rB=tB,aB=pb,iB=1,oB=2;function sB(e,t,n,r,a,i){var o=n&iB,l=e.length,u=t.length;if(l!=u&&!(o&&u>l))return!1;var s=i.get(e),c=i.get(t);if(s&&c)return s==t&&c==e;var d=-1,v=!0,S=n&oB?new nB:void 0;for(i.set(e,t),i.set(t,e);++d<l;){var E=e[d],m=t[d];if(r)var f=o?r(m,E,d,t,e,i):r(E,m,d,e,t,i);if(f!==void 0){if(f)continue;v=!1;break}if(S){if(!rB(t,function(g,h){if(!aB(S,h)&&(E===g||a(E,g,n,r,i)))return S.push(h)})){v=!1;break}}else if(!(E===m||a(E,m,n,r,i))){v=!1;break}}return i.delete(e),i.delete(t),v}var zS=sB,lB=br,uB=lB.Uint8Array,cB=uB;function dB(e){var t=-1,n=Array(e.size);return e.forEach(function(r,a){n[++t]=[a,r]}),n}var fB=dB;function hB(e){var t=-1,n=Array(e.size);return e.forEach(function(r){n[++t]=r}),n}var vB=hB,Cg=kl,Eg=cB,mB=hb,gB=zS,pB=fB,yB=vB,bB=1,SB=2,TB="[object Boolean]",CB="[object Date]",EB="[object Error]",wB="[object Map]",OB="[object Number]",kB="[object RegExp]",_B="[object Set]",AB="[object String]",DB="[object Symbol]",PB="[object ArrayBuffer]",IB="[object DataView]",wg=Cg?Cg.prototype:void 0,ku=wg?wg.valueOf:void 0;function LB(e,t,n,r,a,i,o){switch(n){case IB:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case PB:return!(e.byteLength!=t.byteLength||!i(new Eg(e),new Eg(t)));case TB:case CB:case OB:return mB(+e,+t);case EB:return e.name==t.name&&e.message==t.message;case kB:case AB:return e==t+"";case wB:var l=pB;case _B:var u=r&bB;if(l||(l=yB),e.size!=t.size&&!u)return!1;var s=o.get(e);if(s)return s==t;r|=SB,o.set(e,t);var c=gB(l(e),l(t),r,a,i,o);return o.delete(e),c;case DB:if(ku)return ku.call(e)==ku.call(t)}return!1}var RB=LB;function xB(e,t){for(var n=-1,r=t.length,a=e.length;++n<r;)e[a+n]=t[n];return e}var $B=xB,MB=$B,FB=Gr;function BB(e,t,n){var r=t(e);return FB(e)?r:MB(r,n(e))}var NB=BB;function jB(e,t){for(var n=-1,r=e==null?0:e.length,a=0,i=[];++n<r;){var o=e[n];t(o,n,e)&&(i[a++]=o)}return i}var UB=jB;function VB(){return[]}var HB=VB,zB=UB,GB=HB,KB=Object.prototype,WB=KB.propertyIsEnumerable,Og=Object.getOwnPropertySymbols,YB=Og?function(e){return e==null?[]:(e=Object(e),zB(Og(e),function(t){return WB.call(e,t)}))}:GB,qB=YB;function XB(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}var ZB=XB,JB=Ho,QB=_i,eN="[object Arguments]";function tN(e){return QB(e)&&JB(e)==eN}var nN=tN,kg=nN,rN=_i,GS=Object.prototype,aN=GS.hasOwnProperty,iN=GS.propertyIsEnumerable,oN=kg(function(){return arguments}())?kg:function(e){return rN(e)&&aN.call(e,"callee")&&!iN.call(e,"callee")},KS=oN,tl={exports:{}};function sN(){return!1}var lN=sN;(function(e,t){var n=br,r=lN,a=t&&!t.nodeType&&t,i=a&&!0&&e&&!e.nodeType&&e,o=i&&i.exports===a,l=o?n.Buffer:void 0,u=l?l.isBuffer:void 0,s=u||r;e.exports=s})(tl,tl.exports);var uN=9007199254740991,cN=/^(?:0|[1-9]\d*)$/;function dN(e,t){var n=typeof e;return t=t==null?uN:t,!!t&&(n=="number"||n!="symbol"&&cN.test(e))&&e>-1&&e%1==0&&e<t}var WS=dN,fN=Ho,hN=zd,vN=_i,mN="[object Arguments]",gN="[object Array]",pN="[object Boolean]",yN="[object Date]",bN="[object Error]",SN="[object Function]",TN="[object Map]",CN="[object Number]",EN="[object Object]",wN="[object RegExp]",ON="[object Set]",kN="[object String]",_N="[object WeakMap]",AN="[object ArrayBuffer]",DN="[object DataView]",PN="[object Float32Array]",IN="[object Float64Array]",LN="[object Int8Array]",RN="[object Int16Array]",xN="[object Int32Array]",$N="[object Uint8Array]",MN="[object Uint8ClampedArray]",FN="[object Uint16Array]",BN="[object Uint32Array]",vt={};vt[PN]=vt[IN]=vt[LN]=vt[RN]=vt[xN]=vt[$N]=vt[MN]=vt[FN]=vt[BN]=!0;vt[mN]=vt[gN]=vt[AN]=vt[pN]=vt[DN]=vt[yN]=vt[bN]=vt[SN]=vt[TN]=vt[CN]=vt[EN]=vt[wN]=vt[ON]=vt[kN]=vt[_N]=!1;function NN(e){return vN(e)&&hN(e.length)&&!!vt[fN(e)]}var jN=NN,Rc={exports:{}};(function(e,t){var n=R0,r=t&&!t.nodeType&&t,a=r&&!0&&e&&!e.nodeType&&e,i=a&&a.exports===r,o=i&&n.process,l=function(){try{var u=a&&a.require&&a.require("util").types;return u||o&&o.binding&&o.binding("util")}catch{}}();e.exports=l})(Rc,Rc.exports);var UN=jN,VN=gb,_g=Rc.exports,Ag=_g&&_g.isTypedArray,HN=Ag?VN(Ag):UN,YS=HN,zN=ZB,GN=KS,KN=Gr,WN=tl.exports,YN=WS,qN=YS,XN=Object.prototype,ZN=XN.hasOwnProperty;function JN(e,t){var n=KN(e),r=!n&&GN(e),a=!n&&!r&&WN(e),i=!n&&!r&&!a&&qN(e),o=n||r||a||i,l=o?zN(e.length,String):[],u=l.length;for(var s in e)(t||ZN.call(e,s))&&!(o&&(s=="length"||a&&(s=="offset"||s=="parent")||i&&(s=="buffer"||s=="byteLength"||s=="byteOffset")||YN(s,u)))&&l.push(s);return l}var QN=JN,ej=Object.prototype;function tj(e){var t=e&&e.constructor,n=typeof t=="function"&&t.prototype||ej;return e===n}var nj=tj;function rj(e,t){return function(n){return e(t(n))}}var aj=rj,ij=aj,oj=ij(Object.keys,Object),sj=oj,lj=nj,uj=sj,cj=Object.prototype,dj=cj.hasOwnProperty;function fj(e){if(!lj(e))return uj(e);var t=[];for(var n in Object(e))dj.call(e,n)&&n!="constructor"&&t.push(n);return t}var hj=fj,vj=QN,mj=hj,gj=yb;function pj(e){return gj(e)?vj(e):mj(e)}var qS=pj,yj=NB,bj=qB,Sj=qS;function Tj(e){return yj(e,Sj,bj)}var Cj=Tj,Dg=Cj,Ej=1,wj=Object.prototype,Oj=wj.hasOwnProperty;function kj(e,t,n,r,a,i){var o=n&Ej,l=Dg(e),u=l.length,s=Dg(t),c=s.length;if(u!=c&&!o)return!1;for(var d=u;d--;){var v=l[d];if(!(o?v in t:Oj.call(t,v)))return!1}var S=i.get(e),E=i.get(t);if(S&&E)return S==t&&E==e;var m=!0;i.set(e,t),i.set(t,e);for(var f=o;++d<u;){v=l[d];var g=e[v],h=t[v];if(r)var y=o?r(h,g,v,t,e,i):r(g,h,v,e,t,i);if(!(y===void 0?g===h||a(g,h,n,r,i):y)){m=!1;break}f||(f=v=="constructor")}if(m&&!f){var b=e.constructor,p=t.constructor;b!=p&&"constructor"in e&&"constructor"in t&&!(typeof b=="function"&&b instanceof b&&typeof p=="function"&&p instanceof p)&&(m=!1)}return i.delete(e),i.delete(t),m}var _j=kj,Aj=_a,Dj=br,Pj=Aj(Dj,"DataView"),Ij=Pj,Lj=_a,Rj=br,xj=Lj(Rj,"Promise"),$j=xj,Mj=_a,Fj=br,Bj=Mj(Fj,"Set"),Nj=Bj,jj=_a,Uj=br,Vj=jj(Uj,"WeakMap"),Hj=Vj,xc=Ij,$c=Ud,Mc=$j,Fc=Nj,Bc=Hj,XS=Ho,Li=fb,Pg="[object Map]",zj="[object Object]",Ig="[object Promise]",Lg="[object Set]",Rg="[object WeakMap]",xg="[object DataView]",Gj=Li(xc),Kj=Li($c),Wj=Li(Mc),Yj=Li(Fc),qj=Li(Bc),da=XS;(xc&&da(new xc(new ArrayBuffer(1)))!=xg||$c&&da(new $c)!=Pg||Mc&&da(Mc.resolve())!=Ig||Fc&&da(new Fc)!=Lg||Bc&&da(new Bc)!=Rg)&&(da=function(e){var t=XS(e),n=t==zj?e.constructor:void 0,r=n?Li(n):"";if(r)switch(r){case Gj:return xg;case Kj:return Pg;case Wj:return Ig;case Yj:return Lg;case qj:return Rg}return t});var Xj=da,_u=HS,Zj=zS,Jj=RB,Qj=_j,$g=Xj,Mg=Gr,Fg=tl.exports,e3=YS,t3=1,Bg="[object Arguments]",Ng="[object Array]",fs="[object Object]",n3=Object.prototype,jg=n3.hasOwnProperty;function r3(e,t,n,r,a,i){var o=Mg(e),l=Mg(t),u=o?Ng:$g(e),s=l?Ng:$g(t);u=u==Bg?fs:u,s=s==Bg?fs:s;var c=u==fs,d=s==fs,v=u==s;if(v&&Fg(e)){if(!Fg(t))return!1;o=!0,c=!1}if(v&&!c)return i||(i=new _u),o||e3(e)?Zj(e,t,n,r,a,i):Jj(e,t,u,n,r,a,i);if(!(n&t3)){var S=c&&jg.call(e,"__wrapped__"),E=d&&jg.call(t,"__wrapped__");if(S||E){var m=S?e.value():e,f=E?t.value():t;return i||(i=new _u),a(m,f,n,r,i)}}return v?(i||(i=new _u),Qj(e,t,n,r,a,i)):!1}var a3=r3,i3=a3,Ug=_i;function ZS(e,t,n,r,a){return e===t?!0:e==null||t==null||!Ug(e)&&!Ug(t)?e!==e&&t!==t:i3(e,t,n,r,ZS,a)}var JS=ZS,o3=HS,s3=JS,l3=1,u3=2;function c3(e,t,n,r){var a=n.length,i=a,o=!r;if(e==null)return!i;for(e=Object(e);a--;){var l=n[a];if(o&&l[2]?l[1]!==e[l[0]]:!(l[0]in e))return!1}for(;++a<i;){l=n[a];var u=l[0],s=e[u],c=l[1];if(o&&l[2]){if(s===void 0&&!(u in e))return!1}else{var d=new o3;if(r)var v=r(s,c,u,e,t,d);if(!(v===void 0?s3(c,s,l3|u3,r,d):v))return!1}}return!0}var d3=c3,f3=Al;function h3(e){return e===e&&!f3(e)}var QS=h3,v3=QS,m3=qS;function g3(e){for(var t=m3(e),n=t.length;n--;){var r=t[n],a=e[r];t[n]=[r,a,v3(a)]}return t}var p3=g3;function y3(e,t){return function(n){return n==null?!1:n[e]===t&&(t!==void 0||e in Object(n))}}var e1=y3,b3=d3,S3=p3,T3=e1;function C3(e){var t=S3(e);return t.length==1&&t[0][2]?T3(t[0][0],t[0][1]):function(n){return n===e||b3(n,e,t)}}var E3=C3,w3=Gr,O3=_l,k3=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,_3=/^\w*$/;function A3(e,t){if(w3(e))return!1;var n=typeof e;return n=="number"||n=="symbol"||n=="boolean"||e==null||O3(e)?!0:_3.test(e)||!k3.test(e)||t!=null&&e in Object(t)}var Xd=A3,t1=Vd,D3="Expected a function";function Zd(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(D3);var n=function(){var r=arguments,a=t?t.apply(this,r):r[0],i=n.cache;if(i.has(a))return i.get(a);var o=e.apply(this,r);return n.cache=i.set(a,o)||i,o};return n.cache=new(Zd.Cache||t1),n}Zd.Cache=t1;var P3=Zd,I3=P3,L3=500;function R3(e){var t=I3(e,function(r){return n.size===L3&&n.clear(),r}),n=t.cache;return t}var x3=R3,$3=x3,M3=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,F3=/\\(\\)?/g,B3=$3(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(M3,function(n,r,a,i){t.push(a?i.replace(F3,"$1"):r||n)}),t}),N3=B3,j3=Gr,U3=Xd,V3=N3,H3=zo;function z3(e,t){return j3(e)?e:U3(e,t)?[e]:V3(H3(e))}var n1=z3,G3=_l,K3=1/0;function W3(e){if(typeof e=="string"||G3(e))return e;var t=e+"";return t=="0"&&1/e==-K3?"-0":t}var Ml=W3,Y3=n1,q3=Ml;function X3(e,t){t=Y3(t,e);for(var n=0,r=t.length;e!=null&&n<r;)e=e[q3(t[n++])];return n&&n==r?e:void 0}var r1=X3,Z3=r1;function J3(e,t,n){var r=e==null?void 0:Z3(e,t);return r===void 0?n:r}var Q3=J3;function e4(e,t){return e!=null&&t in Object(e)}var t4=e4,n4=n1,r4=KS,a4=Gr,i4=WS,o4=zd,s4=Ml;function l4(e,t,n){t=n4(t,e);for(var r=-1,a=t.length,i=!1;++r<a;){var o=s4(t[r]);if(!(i=e!=null&&n(e,o)))break;e=e[o]}return i||++r!=a?i:(a=e==null?0:e.length,!!a&&o4(a)&&i4(o,a)&&(a4(e)||r4(e)))}var u4=l4,c4=t4,d4=u4;function f4(e,t){return e!=null&&d4(e,t,c4)}var h4=f4,v4=JS,m4=Q3,g4=h4,p4=Xd,y4=QS,b4=e1,S4=Ml,T4=1,C4=2;function E4(e,t){return p4(e)&&y4(t)?b4(S4(e),t):function(n){var r=m4(n,e);return r===void 0&&r===t?g4(n,e):v4(t,r,T4|C4)}}var w4=E4;function O4(e){return function(t){return t==null?void 0:t[e]}}var k4=O4,_4=r1;function A4(e){return function(t){return _4(t,e)}}var D4=A4,P4=k4,I4=D4,L4=Xd,R4=Ml;function x4(e){return L4(e)?P4(R4(e)):I4(e)}var $4=x4,M4=E3,F4=w4,B4=Hd,N4=Gr,j4=$4;function U4(e){return typeof e=="function"?e:e==null?B4:typeof e=="object"?N4(e)?F4(e[0],e[1]):M4(e):j4(e)}var V4=U4,H4=_c,Vg=1/0,z4=17976931348623157e292;function G4(e){if(!e)return e===0?e:0;if(e=H4(e),e===Vg||e===-Vg){var t=e<0?-1:1;return t*z4}return e===e?e:0}var K4=G4,W4=K4;function Y4(e){var t=W4(e),n=t%1;return t===t?n?t-n:t:0}var q4=Y4,X4=mb,Z4=V4,J4=q4,Q4=Math.max;function eU(e,t,n){var r=e==null?0:e.length;if(!r)return-1;var a=n==null?0:J4(n);return a<0&&(a=Q4(r+a,0)),X4(e,Z4(t),a)}var tU=eU;/**
 * tdesign v0.8.4
 * (c) 2022 TDesign Group
 * @license MIT
 */function nU(e){var t=e.method,n=t===void 0?"POST":t,r=e.action,a=e.withCredentials,i=a===void 0?!1:a,o=e.headers,l=o===void 0?{}:o,u=e.data,s=u===void 0?{}:u,c=e.file,d=e.files,v=e.name,S=v===void 0?"file":v,E=e.onError,m=e.onProgress,f=e.onSuccess,g=d||[],h=new XMLHttpRequest;i&&(h.withCredentials=!0);var y=new FormData,b=typeof s=="function"?s(c):s;return Object.keys(b).forEach(function(p){y.append(p,s[p])}),g.forEach(function(p){y.append(S,p&&p.raw)}),h.open(n,r,!0),Object.keys(l).forEach(function(p){h.setRequestHeader(p,l[p])}),h.onerror=function(p){return E({event:p,file:c,files:g})},h.upload&&(h.upload.onprogress=function(p){var C=0;p.total>0&&(C=Math.round(p.loaded/p.total*100)),m({event:p,percent:C,file:c,files:g})}),h.onload=function(p){var C,w=h.status<200||h.status>=300;if(w)return E({event:p,file:c,files:g,response:C});var k=h.responseText||h.response;try{C=JSON.parse(k)}catch{C=k}f({event:p,file:c,files:g,response:C})},h.send(y),h}/**
 * tdesign v0.8.4
 * (c) 2022 TDesign Group
 * @license MIT
 */var rU={accept:{type:String,default:""},action:{type:String,default:""},allowUploadDuplicateFile:Boolean,autoUpload:{type:Boolean,default:!0},beforeUpload:{type:Function},data:{type:Object},deleteBtn:{type:[String,Function]},disabled:Boolean,fileListDisplay:{type:Function},files:{type:Array},defaultFiles:{type:Array},format:{type:Function},formatResponse:{type:Function},gridConfig:{type:Object},headers:{type:Object},imageProps:{type:Object},max:{type:Number,default:0},method:{type:String,default:"POST",validator:function(t){return t?["POST","GET","PUT","OPTION","PATCH","post","get","put","option","patch"].includes(t):!0}},multiple:Boolean,requestMethod:{type:Function},sizeLimit:{type:[Number,Object]},trigger:{type:[String,Function]},useMockProgress:{type:Boolean,default:!0},withCredentials:Boolean,onCancelUpload:Function,onChange:Function,onFail:Function,onPreview:Function,onProgress:Function,onRemove:Function,onSelectChange:Function,onSuccess:Function};/**
 * tdesign v0.8.4
 * (c) 2022 TDesign Group
 * @license MIT
 */var aU={B:1024,KB:1,MB:1048576,GB:1073741824};function iU(e,t,n){var r=["B","KB","MB","GB"],a=1,i=r.indexOf(n);i===-1&&(console.warn("TDesign Upload Warn: `sizeLimit.unit` can only be one of ".concat(r.join())),i=a);var o=aU[n],l=i<a?t/o:t*o;return e<=l}/**
 * tdesign v0.8.4
 * (c) 2022 TDesign Group
 * @license MIT
 */function Hg(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function kr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Hg(Object(n),!0).forEach(function(r){te(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Hg(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var a1=_e.prefix,zg="".concat(a1,"-upload"),i1=ee({name:zg,components:{AddIcon:T0,TNode:ut,CloseIcon:ki,RefreshIcon:JO},props:rU,emits:["update:files","update:modelValue","change","fail","preview","progress","remove","success"],setup:function(t,n){var r=Tt(t,n.emit),a=Vt(t,n.emit,"files","change"),i=kt(a,2),o=i[0],l=i[1],u=Be(),s=N(function(){return Ge(u,"default")}),c=N(function(){return Ge(u,"deleteBtn")}),d=q([]),v=q(!1),S=q(0),E=zg,m=q(null),f=q([]),g=N(function(){return o.value&&rk(o.value)?o.value.filter(function(U){return U.status==="success"||U.status==="fail"}):[]}),h=q(""),y=q(null),b=N(function(){var U=ze(t),B=U.gridConfig,K=4;return mv(B.value)&&(K=B.value.column),{flexBasis:"".concat(100/+K,"%")}}),p=N(function(){var U=80,B=80,K=ze(t),V=K.gridConfig;if(mv(V.value)){var X=V.value;U=X.width,B=X.height}return{height:"".concat(B,"px"),width:"".concat(U,"px")}}),C=function(){var B=y.value;t.disabled||B.click()},w=function(B,K){v.value=!0,r("preview",{e:B,file:K})},k=function(B){P([B])},_=function(B){var K=B.target.files;if(!(t.disabled||!K)){var V=y.value;P(T(K)),V.value=""}},T=function(B){if(!t.format||!ji(t.format))return B;var K=Nt(B);return K.forEach(function(V){var X;V=(X=t.format)===null||X===void 0?void 0:X.call(t,V)}),K},O=function(B){if(t.beforeUpload&&ji(t.beforeUpload)){var K=t.beforeUpload(B);return K instanceof Promise?K:Promise.resolve(K)}return new Promise(function(V){t.sizeLimit&&V(A(B.size)),V(!0)})},A=function(B){var K;typeof t.sizeLimit=="number"?K={size:t.sizeLimit,unit:"KB"}:jt(t.sizeLimit)==="object"?K=t.sizeLimit:K={size:0,unit:"KB"};var V=iU(B,K.size,K.unit);return V&&(h.value=K.message?K.message:"TDesign Upoad Error: uploaded picture exceeds ".concat(t.sizeLimit).concat(K.unit," restrictions")),V},P=function(B){var K=ze(t),V=K.max,X=Nt(B);V.value&&(X=X.slice(0,V.value-g.value.length),X.length!==B.length&&console.warn("TDesign Upload Warn: you can only upload ".concat(V.value," files"))),X.forEach(function(Z){var ne=kr(kr({},Z),{},{lastModified:Z.lastModified,name:Z.name,size:Z.size,type:Z.type,percent:0,status:"waiting"}),ae=new FileReader;ae.readAsDataURL(Z),ae.onload=function(ye){var de;ne.url=(de=ye.target)===null||de===void 0?void 0:de.result},O(Z).then(function(ye){if(!!ye){var de=f.value.concat();de.push(ne),f.value=Nt(new Set(de)),t.autoUpload&&L(ne)}})})},D=function(B){var K=setInterval(function(){if(B.status==="success"||B.percent>=99){clearInterval(K);return}B.percent+=1,I({file:B,percent:B.percent,type:"mock"})},10)},I=function(B){var K=B.event,V=B.file,X=B.percent,Z=B.type,ne=Z===void 0?"real":Z;if(!V)throw new Error("Error file");V.percent=Math.min(X,100);var ae={percent:X,e:K,file:V,type:ne};r("progress",ae)},x=function(B,K,V){h.value="";var X=g.value.concat();X.splice(V,1),l(X,{e:B,trigger:"remove",index:V,file:K}),r("remove",{e:B,index:V,file:K}),d.value.splice(V,1)},L=function(){var U=Md(vi.mark(function B(K){var V;return vi.wrap(function(Z){for(;;)switch(Z.prev=Z.next){case 0:if(!(!t.action&&!t.requestMethod)){Z.next=3;break}return console.error("TDesign Upload Error: one of action and requestMethod must be exist."),Z.abrupt("return");case 3:h.value="",K.status="progress",t.requestMethod?$(K):(t.useMockProgress&&D(K),V=nU,m.value=V({action:t.action,data:t.data||{},method:t.method,file:K,headers:t.headers||{},withCredentials:t.withCredentials,onError:F,onProgress:I,onSuccess:j}));case 6:case"end":return Z.stop()}},B)}));return function(K){return U.apply(this,arguments)}}(),$=function(B){var K;if(!ji(t.requestMethod)){console.warn("TDesign Upload Warn: `requestMethod` must be a function.");return}(K=t.requestMethod)===null||K===void 0||K.call(t,B).then(function(V){if(!!M(V)){if(V.status==="success")j({file:B,response:V.response});else if(V.status==="fail"){var X=V.response||{};F({event:void 0,file:B,response:kr(kr({},X),{},{error:V.error})})}}})},M=function(B){return B?B.status?["success","fail"].includes(B.status)?(B.status==="success"&&(!B.response||!B.response.url)&&console.warn("TDesign Upoad Warn: `requestMethodResponse.response.url` is required, when `status` is `success`"),!0):(console.error("TDesign Upoad Error: `requestMethodResponse.status` must be `success` or `fail`"),!1):(console.error("TDesign Upoad Error: `requestMethodResponse.status` is missing, which value is `success` or `fail`"),!1):(console.error("TDesign Upoad Error: `requestMethodResponse` is required."),!1)},j=function(B){var K,V,X=B.event,Z=B.file,ne=B.response;if(!Z)throw new Error("Error file");Z.status="success";var ae=ne;if(t.formatResponse&&ji(t.formatResponse)&&(ae=t.formatResponse(ne,{file:Z})),(K=ae)!==null&&K!==void 0&&K.error){F({event:X,file:Z,response:ae,resFormatted:!0});return}Z.url=((V=ae)===null||V===void 0?void 0:V.url)||Z.url;var ye=tU(f.value,function(G){return G.name===Z.name});f.value.splice(ye,1);var de=kr(kr({},Z),{},{response:ae}),be=g.value.concat(de);l(be,{e:X,response:ae,trigger:"upload-success"}),r("success",{file:Z,fileList:be,e:X,response:ae}),d.value.push(de.url)},F=function(B){var K,V=B.event,X=B.file,Z=B.response,ne=B.resFormatted;X.status="fail";var ae=Z;if(!ne&&t.formatResponse&&ji(t.formatResponse)&&(ae=t.formatResponse(Z,{file:X})),h.value=(K=ae)===null||K===void 0?void 0:K.error,!g.value.find(function(de){return de.name===X.name})){var ye=g.value.concat(X);l(ye,{e:V,response:ae,trigger:"upload-fail"})}r("fail",{e:V,file:X})};return kr(kr({},ze(t)),{},{UPLOAD_NAME:E,images:d,showViewer:v,initialIndex:S,prefix:a1,innerFiles:o,xhrReq:m,toUploadFiles:f,errorMsg:h,inputRef:y,uploadedFiles:g,deleteBtnContent:c,defaultContent:s,itemStyle:b,itemContentStyle:p,emitEvent:r,setInnerFiles:l,triggerUpload:C,handleChange:_,handlePreview:w,handleReload:k,handleBeforeUpload:O,handleSizeLimit:A,uploadFiles:P,handleMockProgress:D,handleProgress:I,handleRemove:x,upload:L,handleRequestMethodResponse:M,handleSuccess:j,handleError:F})}}),oU=["onClick"],sU=["src","onClick"],lU=["value","multiple","accept"];function uU(e,t,n,r,a,i){var o=ge("t-node"),l=ge("close-icon"),u=ge("refresh-icon"),s=ge("add-icon"),c=ge("t-image-viewer");return H(),W("div",null,[J("ul",{class:z("".concat(e.UPLOAD_NAME,"__card"))},[(H(!0),W(Ce,null,Ne(e.uploadedFiles,function(d,v){return H(),W("li",{key:v,class:z("".concat(e.UPLOAD_NAME,"__card-item")),style:De(e.itemStyle)},[J("div",{class:z("".concat(e.UPLOAD_NAME,"__card-content ").concat(e.UPLOAD_NAME,"__card-box")),style:De(e.itemContentStyle)},[J("div",{key:"delete-icon",class:z("".concat(e.UPLOAD_NAME,"__card-delete-item")),onClick:function(E){return e.handleRemove(E,d,v)}},[e.deleteBtnContent?(H(),Oe(o,{key:0,content:e.deleteBtnContent},null,8,["content"])):(H(),Oe(l,{key:1,class:"close-icon"}))],10,oU),J("img",{class:z("".concat(e.UPLOAD_NAME,"__card-image")),src:d.url,onClick:function(E){return e.handlePreview(E,d)}},null,10,sU),d.status==="fail"?(H(),W("div",{key:0,class:z("".concat(e.UPLOAD_NAME,"__card-mask"))},[J("span",{key:"refresh-icon",class:z("".concat(e.UPLOAD_NAME,"__card-mask-item"))},[R(u,{onClick:function(E){return e.handleReload(d)}},null,8,["onClick"])],2)],2)):se("",!0)],6)],6)}),128)),e.defaultContent?(H(),W("div",{key:0,onClick:t[0]||(t[0]=function(){return e.triggerUpload&&e.triggerUpload.apply(e,arguments)})},[R(o,{content:e.defaultContent},null,8,["content"])])):(H(),W("li",{key:1,class:z("".concat(e.UPLOAD_NAME,"__card-item")),onClick:t[1]||(t[1]=function(){return e.triggerUpload&&e.triggerUpload.apply(e,arguments)})},[J("div",{class:z("".concat(e.UPLOAD_NAME,"__card-container ").concat(e.UPLOAD_NAME,"__card-box"))},[R(s)],2)],2))],2),J("input",{ref:"inputRef",value:e.files,type:"file",multiple:e.multiple,hidden:"",accept:e.accept,onChange:t[2]||(t[2]=function(){return e.handleChange&&e.handleChange.apply(e,arguments)})},null,40,lU),R(c,{images:e.images,"onUpdate:images":t[3]||(t[3]=function(d){return e.images=d}),modelValue:e.showViewer,"onUpdate:modelValue":t[4]||(t[4]=function(d){return e.showViewer=d}),"initial-index":e.initialIndex},null,8,["images","modelValue","initial-index"])])}i1.render=uU;/**
 * tdesign v0.8.4
 * (c) 2022 TDesign Group
 * @license MIT
 */var cU=Le(i1);/**
 * tdesign v0.8.4
 * (c) 2022 TDesign Group
 * @license MIT
 */var Gg=Object.freeze({__proto__:null,Button:ka,ButtonGroup:vD,Divider:yD,Cell:Nd,CellGroup:ub,Checkbox:cb,CheckboxGroup:Tb,Input:Eb,Textarea:AR,Mask:Rl,Progress:xR,Radio:_b,RadioGroup:Db,Rate:XR,Switch:ex,Stepper:sx,Slider:mx,Dialog:wx,Popup:xl,ActionSheet:$x,Badge:$l,Fab:jx,ImageViewer:Kx,Drawer:Xx,Navbar:n$,Message:kc,DateTimePicker:F$,Toast:V$,Search:z$,Steps:J$,Step:Z$,Indexes:s2,IndexesCell:l2,IndexesAnchor:u2,Picker:qb,PickerItem:Xb,Tag:g2,CheckTag:p2,TabBar:k2,TabBarItem:_2,DropdownMenu:B2,DropdownItem:N2,Collapse:W2,CollapsePanel:Y2,Tabs:aM,TabPanel:iM,Swiper:hM,SwiperItem:vM,Countdown:SM,Avatar:DM,AvatarGroup:PM,Image:$M,SwipeCell:jM,Skeleton:zM,Grid:eF,GridItem:tF,Sticky:ES,List:gF,Loading:qd,BackTop:bF,PullDownRefresh:LF,Upload:cU});/**
 * tdesign v0.8.4
 * (c) 2022 TDesign Group
 * @license MIT
 */var dU=function(t,n){Object.keys(Gg).forEach(function(r){t.use(Gg[r],n)})},fU="0.8.4",hU={install:dU,version:fU};function nl(){}const xe=Object.assign,Kr=typeof window!="undefined";function Kg(e,t){const n=t.split(".");let r=e;return n.forEach(a=>{var i;r=(i=r[a])!=null?i:""}),r}function mt(e,t,n){return t.reduce((r,a)=>((!n||e[a]!==void 0)&&(r[a]=e[a]),r),{})}const gt=null,pe=[Number,String],ce={type:Boolean,default:!0},xt=e=>({type:e,required:!0}),Ut=()=>({type:Array,default:()=>[]}),Qn=e=>({type:Number,default:e}),Pe=e=>({type:pe,default:e}),we=e=>({type:String,default:e});var Wr=typeof window!="undefined";function tn(e){return Wr?requestAnimationFrame(e):-1}function o1(e){Wr&&cancelAnimationFrame(e)}function ma(e){tn(()=>tn(e))}var vU=e=>e===window,Wg=(e,t)=>({top:0,left:0,right:e,bottom:t,width:e,height:t}),ht=e=>{const t=he(e);if(vU(t)){const n=t.innerWidth,r=t.innerHeight;return Wg(n,r)}return t!=null&&t.getBoundingClientRect?t.getBoundingClientRect():Wg(0,0)};function mU(e=!1){const t=q(e);return[t,(r=!t.value)=>{t.value=r}]}function Xt(e){const t=et(e,null);if(t){const n=Be(),{link:r,unlink:a,internalChildren:i}=t;r(n),Mn(()=>a(n));const o=N(()=>i.indexOf(n));return{parent:t,index:o}}return{parent:null,index:q(-1)}}function gU(e){const t=[],n=r=>{Array.isArray(r)&&r.forEach(a=>{var i;fi(a)&&(t.push(a),(i=a.component)!=null&&i.subTree&&(t.push(a.component.subTree),n(a.component.subTree.children)),a.children&&n(a.children))})};return n(e),t}function pU(e,t,n){const r=gU(e.subTree.children);n.sort((i,o)=>r.indexOf(i.vnode)-r.indexOf(o.vnode));const a=n.map(i=>i.proxy);t.sort((i,o)=>{const l=a.indexOf(i),u=a.indexOf(o);return l-u})}function Qt(e){const t=Me([]),n=Me([]),r=Be();return{children:t,linkChildren:i=>{ft(e,Object.assign({link:u=>{u.proxy&&(n.push(u),t.push(u.proxy),pU(r,t,n))},unlink:u=>{const s=n.indexOf(u);t.splice(s,1),n.splice(s,1)},children:t,internalChildren:n},i))}}}var Nc=1e3,jc=60*Nc,Uc=60*jc,Yg=24*Uc;function yU(e){const t=Math.floor(e/Yg),n=Math.floor(e%Yg/Uc),r=Math.floor(e%Uc/jc),a=Math.floor(e%jc/Nc),i=Math.floor(e%Nc);return{total:e,days:t,hours:n,minutes:r,seconds:a,milliseconds:i}}function bU(e,t){return Math.floor(e/1e3)===Math.floor(t/1e3)}function SU(e){let t,n,r,a;const i=q(e.time),o=N(()=>yU(i.value)),l=()=>{r=!1,o1(t)},u=()=>Math.max(n-Date.now(),0),s=m=>{var f,g;i.value=m,(f=e.onChange)==null||f.call(e,o.value),m===0&&(l(),(g=e.onFinish)==null||g.call(e))},c=()=>{t=tn(()=>{r&&(s(u()),i.value>0&&c())})},d=()=>{t=tn(()=>{if(r){const m=u();(!bU(m,i.value)||m===0)&&s(m),i.value>0&&d()}})},v=()=>{!Wr||(e.millisecond?c():d())},S=()=>{r||(n=Date.now()+i.value,r=!0,v())},E=(m=e.time)=>{l(),i.value=m};return tr(l),Ea(()=>{a&&(r=!0,a=!1,v())}),zr(()=>{r&&(l(),a=!0)}),{start:S,pause:l,reset:E,current:o}}function Ri(e){let t;tt(()=>{e(),Re(()=>{t=!0})}),Ea(()=>{t&&e()})}function Yr(e,t,n={}){if(!Wr)return;const{target:r=window,passive:a=!1,capture:i=!1}=n;let o;const l=s=>{const c=he(s);c&&!o&&(c.addEventListener(e,t,{capture:i,passive:a}),o=!0)},u=s=>{const c=he(s);c&&o&&(c.removeEventListener(e,t,i),o=!1)};Mn(()=>u(r)),zr(()=>u(r)),Ri(()=>l(r)),At(r)&&oe(r,(s,c)=>{u(c),l(s)})}function Fl(e,t,n={}){if(!Wr)return;const{eventName:r="click"}=n;Yr(r,i=>{const o=he(e);o&&!o.contains(i.target)&&t(i)},{target:document})}var hs,Au;function TU(){if(!hs&&(hs=q(0),Au=q(0),Wr)){const e=()=>{hs.value=window.innerWidth,Au.value=window.innerHeight};e(),window.addEventListener("resize",e,{passive:!0}),window.addEventListener("orientationchange",e,{passive:!0})}return{width:hs,height:Au}}var CU=/scroll|auto/i,s1=Wr?window:void 0;function EU(e){return e.tagName!=="HTML"&&e.tagName!=="BODY"&&e.nodeType===1}function l1(e,t=s1){let n=e;for(;n&&n!==t&&EU(n);){const{overflowY:r}=window.getComputedStyle(n);if(CU.test(r))return n;n=n.parentNode}return t}function xi(e,t=s1){const n=q();return tt(()=>{e.value&&(n.value=l1(e.value,t))}),n}var vs;function wU(){if(!vs&&(vs=q("visible"),Wr)){const e=()=>{vs.value=document.hidden?"hidden":"visible"};e(),window.addEventListener("visibilitychange",e)}return vs}var u1=Symbol("van-field");function qr(e){const t=et(u1,null);t&&!t.customValue.value&&(t.customValue.value=e,oe(e,()=>{t.resetValidation(),t.validateWithTrigger("onChange")}))}const rt=e=>e!=null,gi=e=>typeof e=="function",wn=e=>e!==null&&typeof e=="object",Jd=e=>wn(e)&&gi(e.then)&&gi(e.catch),Co=e=>Object.prototype.toString.call(e)==="[object Date]"&&!Number.isNaN(e.getTime());function c1(e){return e=e.replace(/[^-|\d]/g,""),/^((\+86)|(86))?(1)\d{10}$/.test(e)||/^0[0-9-]{10,13}$/.test(e)}const d1=e=>typeof e=="number"||/^\d+(\.\d+)?$/.test(e),OU=()=>Kr?/ios|iphone|ipad|ipod/.test(navigator.userAgent.toLowerCase()):!1;function Ur(e){const t="scrollTop"in e?e.scrollTop:e.pageYOffset;return Math.max(t,0)}function rl(e,t){"scrollTop"in e?e.scrollTop=t:e.scrollTo(e.scrollX,t)}function Go(){return window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0}function Bl(e){rl(window,e),rl(document.body,e)}function qg(e,t){if(e===window)return 0;const n=t?Ur(t):Go();return ht(e).top+n}const kU=OU();function f1(){kU&&Bl(Go())}const Qd=e=>e.stopPropagation();function Et(e,t){(typeof e.cancelable!="boolean"||e.cancelable)&&e.preventDefault(),t&&Qd(e)}function pi(e){const t=he(e);if(!t)return!1;const n=window.getComputedStyle(t),r=n.display==="none",a=t.offsetParent===null&&n.position!=="fixed";return r||a}const{width:Nl,height:yi}=TU();function it(e){if(rt(e))return d1(e)?`${e}px`:String(e)}function Xr(e){if(rt(e)){if(Array.isArray(e))return{width:it(e[0]),height:it(e[1])};const t=it(e);return{width:t,height:t}}}function Aa(e){const t={};return e!==void 0&&(t.zIndex=+e),t}let Du;function _U(){if(!Du){const e=document.documentElement,t=e.style.fontSize||window.getComputedStyle(e).fontSize;Du=parseFloat(t)}return Du}function AU(e){return e=e.replace(/rem/g,""),+e*_U()}function DU(e){return e=e.replace(/vw/g,""),+e*Nl.value/100}function PU(e){return e=e.replace(/vh/g,""),+e*yi.value/100}function ef(e){if(typeof e=="number")return e;if(Kr){if(e.includes("rem"))return AU(e);if(e.includes("vw"))return DU(e);if(e.includes("vh"))return PU(e)}return parseFloat(e)}const IU=/-(\w)/g,h1=e=>e.replace(IU,(t,n)=>n.toUpperCase()),LU=e=>e.replace(/([A-Z])/g,"-$1").toLowerCase().replace(/^-/,"");function Gt(e,t=2){let n=e+"";for(;n.length<t;)n="0"+n;return n}const Kt=(e,t,n)=>Math.min(Math.max(e,t),n);function Xg(e,t,n){const r=e.indexOf(t);return r===-1?e:t==="-"&&r!==0?e.slice(0,r):e.slice(0,r+1)+e.slice(r).replace(n,"")}function Vc(e,t=!0,n=!0){t?e=Xg(e,".",/\./g):e=e.split(".")[0],n?e=Xg(e,"-",/-/g):e=e.replace(/-/,"");const r=t?/[^-0-9.]/g:/[^-0-9]/g;return e.replace(r,"")}function v1(e,t){return Math.round((e+t)*1e10)/1e10}const{hasOwnProperty:RU}=Object.prototype;function xU(e,t,n){const r=t[n];!rt(r)||(!RU.call(e,n)||!wn(r)?e[n]=r:e[n]=m1(Object(e[n]),r))}function m1(e,t){return Object.keys(t).forEach(n=>{xU(e,t,n)}),e}var $U={name:"\u59D3\u540D",tel:"\u7535\u8BDD",save:"\u4FDD\u5B58",confirm:"\u786E\u8BA4",cancel:"\u53D6\u6D88",delete:"\u5220\u9664",loading:"\u52A0\u8F7D\u4E2D...",noCoupon:"\u6682\u65E0\u4F18\u60E0\u5238",nameEmpty:"\u8BF7\u586B\u5199\u59D3\u540D",addContact:"\u6DFB\u52A0\u8054\u7CFB\u4EBA",telInvalid:"\u8BF7\u586B\u5199\u6B63\u786E\u7684\u7535\u8BDD",vanCalendar:{end:"\u7ED3\u675F",start:"\u5F00\u59CB",title:"\u65E5\u671F\u9009\u62E9",weekdays:["\u65E5","\u4E00","\u4E8C","\u4E09","\u56DB","\u4E94","\u516D"],monthTitle:(e,t)=>`${e}\u5E74${t}\u6708`,rangePrompt:e=>`\u6700\u591A\u9009\u62E9 ${e} \u5929`},vanCascader:{select:"\u8BF7\u9009\u62E9"},vanPagination:{prev:"\u4E0A\u4E00\u9875",next:"\u4E0B\u4E00\u9875"},vanPullRefresh:{pulling:"\u4E0B\u62C9\u5373\u53EF\u5237\u65B0...",loosing:"\u91CA\u653E\u5373\u53EF\u5237\u65B0..."},vanSubmitBar:{label:"\u5408\u8BA1:"},vanCoupon:{unlimited:"\u65E0\u95E8\u69DB",discount:e=>`${e}\u6298`,condition:e=>`\u6EE1${e}\u5143\u53EF\u7528`},vanCouponCell:{title:"\u4F18\u60E0\u5238",count:e=>`${e}\u5F20\u53EF\u7528`},vanCouponList:{exchange:"\u5151\u6362",close:"\u4E0D\u4F7F\u7528",enable:"\u53EF\u7528",disabled:"\u4E0D\u53EF\u7528",placeholder:"\u8F93\u5165\u4F18\u60E0\u7801"},vanAddressEdit:{area:"\u5730\u533A",postal:"\u90AE\u653F\u7F16\u7801",areaEmpty:"\u8BF7\u9009\u62E9\u5730\u533A",addressEmpty:"\u8BF7\u586B\u5199\u8BE6\u7EC6\u5730\u5740",postalEmpty:"\u90AE\u653F\u7F16\u7801\u4E0D\u6B63\u786E",addressDetail:"\u8BE6\u7EC6\u5730\u5740",defaultAddress:"\u8BBE\u4E3A\u9ED8\u8BA4\u6536\u8D27\u5730\u5740"},vanAddressList:{add:"\u65B0\u589E\u5730\u5740"}};const Zg=q("zh-CN"),Jg=Me({"zh-CN":$U}),g1={messages(){return Jg[Zg.value]},use(e,t){Zg.value=e,this.add({[e]:t})},add(e={}){m1(Jg,e)}};var MU=g1;function FU(e){const t=h1(e)+".";return(n,...r)=>{const a=MU.messages(),i=Kg(a,t+n)||Kg(a,n);return gi(i)?i(...r):i}}function Hc(e,t){return t?typeof t=="string"?` ${e}--${t}`:Array.isArray(t)?t.reduce((n,r)=>n+Hc(e,r),""):Object.keys(t).reduce((n,r)=>n+(t[r]?Hc(e,r):""),""):""}function BU(e){return(t,n)=>(t&&typeof t!="string"&&(n=t,t=""),t=t?`${e}__${t}`:e,`${t}${Hc(t,n)}`)}function ve(e){const t=`van-${e}`;return[t,BU(t),FU(t)]}const Zr="van-hairline",p1=`${Zr}--top`,y1=`${Zr}--left`,tf=`${Zr}--bottom`,Eo=`${Zr}--surround`,jl=`${Zr}--top-bottom`,NU=`${Zr}-unset--top-bottom`,nn="van-haptics-feedback",b1=Symbol("van-form");function Jr(e,{args:t=[],done:n,canceled:r}){if(e){const a=e.apply(null,t);Jd(a)?a.then(i=>{i?n():r&&r()}).catch(nl):a?n():r&&r()}else n()}function Te(e){return e.install=t=>{const{name:n}=e;t.component(n,e),t.component(h1(`-${n}`),e)},e}const[S1,jU]=ve("action-bar"),nf=Symbol(S1),UU={safeAreaInsetBottom:ce};var VU=ee({name:S1,props:UU,setup(e,{slots:t}){const{linkChildren:n}=Qt(nf);return n(),()=>{var r;return R("div",{class:[jU(),{"van-safe-area-bottom":e.safeAreaInsetBottom}]},[(r=t.default)==null?void 0:r.call(t)])}}});const T1=Te(VU);function st(e){const t=Be();t&&xe(t.proxy,e)}const Qr={to:[String,Object],url:String,replace:Boolean};function C1({to:e,url:t,replace:n,$router:r}){e&&r?r[n?"replace":"push"](e):t&&(n?location.replace(t):location.href=t)}function Da(){const e=Be().proxy;return()=>C1(e)}const[HU,Qg]=ve("badge"),zU={dot:Boolean,max:pe,tag:we("div"),color:String,offset:Array,content:pe,showZero:ce,position:we("top-right")};var GU=ee({name:HU,props:zU,setup(e,{slots:t}){const n=()=>{if(t.content)return!0;const{content:o,showZero:l}=e;return rt(o)&&o!==""&&(l||o!==0)},r=()=>{const{dot:o,max:l,content:u}=e;if(!o&&n())return t.content?t.content():rt(l)&&d1(u)&&+u>l?`${l}+`:u},a=N(()=>{const o={background:e.color};if(e.offset){const[l,u]=e.offset;t.default?(o.top=it(u),typeof l=="number"?o.right=it(-l):o.right=l.startsWith("-")?l.replace("-",""):`-${l}`):(o.marginTop=it(u),o.marginLeft=it(l))}return o}),i=()=>{if(n()||e.dot)return R("div",{class:Qg([e.position,{dot:e.dot,fixed:!!t.default}]),style:a.value},[r()])};return()=>{if(t.default){const{tag:o}=e;return R(o,{class:Qg("wrapper")},{default:()=>[t.default(),i()]})}return i()}}});const Pa=Te(GU),[E1,KU]=ve("config-provider"),w1=Symbol(E1),WU={tag:we("div"),themeVars:Object,iconPrefix:String};function YU(e){const t={};return Object.keys(e).forEach(n=>{t[`--van-${LU(n)}`]=e[n]}),t}var qU=ee({name:E1,props:WU,setup(e,{slots:t}){const n=N(()=>{if(e.themeVars)return YU(e.themeVars)});return ft(w1,e),()=>R(e.tag,{class:KU(),style:n.value},{default:()=>{var r;return[(r=t.default)==null?void 0:r.call(t)]}})}});const[XU,ep]=ve("icon"),ZU=e=>e==null?void 0:e.includes("/"),JU={dot:Boolean,tag:we("i"),name:String,size:pe,badge:pe,color:String,badgeProps:Object,classPrefix:String};var QU=ee({name:XU,props:JU,setup(e,{slots:t}){const n=et(w1,null),r=N(()=>e.classPrefix||(n==null?void 0:n.iconPrefix)||ep());return()=>{const{tag:a,dot:i,name:o,size:l,badge:u,color:s}=e,c=ZU(o);return R(Pa,Ye({dot:i,tag:a,class:[r.value,c?"":`${r.value}-${o}`],style:{color:s,fontSize:it(l)},content:u},e.badgeProps),{default:()=>{var d;return[(d=t.default)==null?void 0:d.call(t),c&&R("img",{class:ep("image"),src:o},null)]}})}}});const We=Te(QU),[e5,wo]=ve("loading"),t5=Array(12).fill(null).map((e,t)=>R("i",{class:wo("line",String(t+1))},null)),n5=R("svg",{class:wo("circular"),viewBox:"25 25 50 50"},[R("circle",{cx:"50",cy:"50",r:"20",fill:"none"},null)]),r5={size:pe,type:we("circular"),color:String,vertical:Boolean,textSize:pe,textColor:String};var a5=ee({name:e5,props:r5,setup(e,{slots:t}){const n=N(()=>xe({color:e.color},Xr(e.size))),r=()=>{var a;if(t.default)return R("span",{class:wo("text"),style:{fontSize:it(e.textSize),color:(a=e.textColor)!=null?a:e.color}},[t.default()])};return()=>{const{type:a,vertical:i}=e;return R("div",{class:wo([a,{vertical:i}])},[R("span",{class:wo("spinner",a),style:n.value},[a==="spinner"?t5:n5]),r()])}}});const Bn=Te(a5),[i5,Ba]=ve("button"),o5=xe({},Qr,{tag:we("button"),text:String,icon:String,type:we("default"),size:we("normal"),color:String,block:Boolean,plain:Boolean,round:Boolean,square:Boolean,loading:Boolean,hairline:Boolean,disabled:Boolean,iconPrefix:String,nativeType:we("button"),loadingSize:pe,loadingText:String,loadingType:String,iconPosition:we("left")});var s5=ee({name:i5,props:o5,emits:["click"],setup(e,{emit:t,slots:n}){const r=Da(),a=()=>n.loading?n.loading():R(Bn,{size:e.loadingSize,type:e.loadingType,class:Ba("loading")},null),i=()=>{if(e.loading)return a();if(n.icon)return R("div",{class:Ba("icon")},[n.icon()]);if(e.icon)return R(We,{name:e.icon,class:Ba("icon"),classPrefix:e.iconPrefix},null)},o=()=>{let s;if(e.loading?s=e.loadingText:s=n.default?n.default():e.text,s)return R("span",{class:Ba("text")},[s])},l=()=>{const{color:s,plain:c}=e;if(s){const d={color:c?s:"white"};return c||(d.background=s),s.includes("gradient")?d.border=0:d.borderColor=s,d}},u=s=>{e.loading?Et(s):e.disabled||(t("click",s),r())};return()=>{const{tag:s,type:c,size:d,block:v,round:S,plain:E,square:m,loading:f,disabled:g,hairline:h,nativeType:y,iconPosition:b}=e,p=[Ba([c,d,{plain:E,block:v,round:S,square:m,loading:f,disabled:g,hairline:h}]),{[Eo]:h}];return R(s,{type:y,class:p,style:l(),disabled:g,onClick:u},{default:()=>[R("div",{class:Ba("content")},[b==="left"&&i(),o(),b==="right"&&i()])]})}}});const rn=Te(s5),[l5,u5]=ve("action-bar-button"),c5=xe({},Qr,{type:String,text:String,icon:String,color:String,loading:Boolean,disabled:Boolean});var d5=ee({name:l5,props:c5,setup(e,{slots:t}){const n=Da(),{parent:r,index:a}=Xt(nf),i=N(()=>{if(r){const l=r.children[a.value-1];return!(l&&"isButton"in l)}}),o=N(()=>{if(r){const l=r.children[a.value+1];return!(l&&"isButton"in l)}});return st({isButton:!0}),()=>{const{type:l,icon:u,text:s,color:c,loading:d,disabled:v}=e;return R(rn,{class:u5([l,{last:o.value,first:i.value}]),size:"large",type:l,icon:u,color:c,loading:d,disabled:v,onClick:n},{default:()=>[t.default?t.default():s]})}}});const zc=Te(d5),[f5,Pu]=ve("action-bar-icon"),h5=xe({},Qr,{dot:Boolean,text:String,icon:String,color:String,badge:pe,iconClass:gt,badgeProps:Object,iconPrefix:String});var v5=ee({name:f5,props:h5,setup(e,{slots:t}){const n=Da();Xt(nf);const r=()=>{const{dot:a,badge:i,icon:o,color:l,iconClass:u,badgeProps:s,iconPrefix:c}=e;return t.icon?R(Pa,Ye({dot:a,class:Pu("icon"),content:i},s),{default:t.icon}):R(We,{tag:"div",dot:a,name:o,badge:i,color:l,class:[Pu("icon"),u],badgeProps:s,classPrefix:c},null)};return()=>R("div",{role:"button",class:Pu(),tabindex:0,onClick:n},[r(),t.default?t.default():e.text])}});const m5=Te(v5),$i={show:Boolean,zIndex:pe,overlay:ce,duration:pe,teleport:[String,Object],lockScroll:ce,lazyRender:ce,beforeClose:Function,overlayStyle:Object,overlayClass:gt,transitionAppear:Boolean,closeOnClickOverlay:ce},rf=Object.keys($i);function g5(e,t){return e>t?"horizontal":t>e?"vertical":""}function nr(){const e=q(0),t=q(0),n=q(0),r=q(0),a=q(0),i=q(0),o=q(""),l=()=>o.value==="vertical",u=()=>o.value==="horizontal",s=()=>{n.value=0,r.value=0,a.value=0,i.value=0,o.value=""};return{move:v=>{const S=v.touches[0];n.value=(S.clientX<0?0:S.clientX)-e.value,r.value=S.clientY-t.value,a.value=Math.abs(n.value),i.value=Math.abs(r.value);const E=10;(!o.value||a.value<E&&i.value<E)&&(o.value=g5(a.value,i.value))},start:v=>{s(),e.value=v.touches[0].clientX,t.value=v.touches[0].clientY},reset:s,startX:e,startY:t,deltaX:n,deltaY:r,offsetX:a,offsetY:i,direction:o,isVertical:l,isHorizontal:u}}let eo=0;const tp="van-overflow-hidden";function p5(e,t){const n=nr(),r=u=>{n.move(u);const s=n.deltaY.value>0?"10":"01",c=l1(u.target,e.value),{scrollHeight:d,offsetHeight:v,scrollTop:S}=c;let E="11";S===0?E=v>=d?"00":"01":S+v>=d&&(E="10"),E!=="11"&&n.isVertical()&&!(parseInt(E,2)&parseInt(s,2))&&Et(u,!0)},a=()=>{document.addEventListener("touchstart",n.start),document.addEventListener("touchmove",r,{passive:!1}),eo||document.body.classList.add(tp),eo++},i=()=>{eo&&(document.removeEventListener("touchstart",n.start),document.removeEventListener("touchmove",r),eo--,eo||document.body.classList.remove(tp))},o=()=>t()&&a(),l=()=>t()&&i();Ri(o),zr(l),tr(l),oe(t,u=>{u?a():i()})}function af(e){const t=q(!1);return oe(e,n=>{n&&(t.value=n)},{immediate:!0}),n=>()=>t.value?n():null}const O1=Symbol();function of(e){const t=et(O1,null);t&&oe(t,n=>{n&&e()})}const[y5,b5]=ve("overlay"),S5={show:Boolean,zIndex:pe,duration:pe,className:gt,lockScroll:ce,lazyRender:ce,customStyle:Object};var T5=ee({name:y5,props:S5,setup(e,{slots:t}){const n=af(()=>e.show||!e.lazyRender),r=i=>{Et(i,!0)},a=n(()=>{var i;const o=xe(Aa(e.zIndex),e.customStyle);return rt(e.duration)&&(o.animationDuration=`${e.duration}s`),Ke(R("div",{style:o,class:[b5(),e.className],onTouchmove:e.lockScroll?r:nl},[(i=t.default)==null?void 0:i.call(t)]),[[Xe,e.show]])});return()=>R(gn,{name:"van-fade",appear:!0},{default:a})}});const k1=Te(T5),C5=xe({},$i,{round:Boolean,position:we("center"),closeIcon:we("cross"),closeable:Boolean,transition:String,iconPrefix:String,closeOnPopstate:Boolean,closeIconPosition:we("top-right"),safeAreaInsetTop:Boolean,safeAreaInsetBottom:Boolean}),[E5,np]=ve("popup");let rp=2e3;var w5=ee({name:E5,inheritAttrs:!1,props:C5,emits:["open","close","opened","closed","keydown","update:show","click-overlay","click-close-icon"],setup(e,{emit:t,attrs:n,slots:r}){let a,i;const o=q(),l=q(),u=af(()=>e.show||!e.lazyRender),s=N(()=>{const p={zIndex:o.value};if(rt(e.duration)){const C=e.position==="center"?"animationDuration":"transitionDuration";p[C]=`${e.duration}s`}return p}),c=()=>{a||(e.zIndex!==void 0&&(rp=+e.zIndex),a=!0,o.value=++rp,t("open"))},d=()=>{a&&Jr(e.beforeClose,{done(){a=!1,t("close"),t("update:show",!1)}})},v=p=>{t("click-overlay",p),e.closeOnClickOverlay&&d()},S=()=>{if(e.overlay)return R(k1,{show:e.show,class:e.overlayClass,zIndex:o.value,duration:e.duration,customStyle:e.overlayStyle,onClick:v},{default:r["overlay-content"]})},E=p=>{t("click-close-icon",p),d()},m=()=>{if(e.closeable)return R(We,{role:"button",tabindex:0,name:e.closeIcon,class:[np("close-icon",e.closeIconPosition),nn],classPrefix:e.iconPrefix,onClick:E},null)},f=()=>t("opened"),g=()=>t("closed"),h=p=>t("keydown",p),y=u(()=>{var p;const{round:C,position:w,safeAreaInsetTop:k,safeAreaInsetBottom:_}=e;return Ke(R("div",Ye({ref:l,style:s.value,class:[np({round:C,[w]:w}),{"van-safe-area-top":k,"van-safe-area-bottom":_}],onKeydown:h},n),[(p=r.default)==null?void 0:p.call(r),m()]),[[Xe,e.show]])}),b=()=>{const{position:p,transition:C,transitionAppear:w}=e,k=p==="center"?"van-fade":`van-popup-slide-${p}`;return R(gn,{name:C||k,appear:w,onAfterEnter:f,onAfterLeave:g},{default:y})};return oe(()=>e.show,p=>{p&&!a&&(c(),n.tabindex===0&&Re(()=>{var C;(C=l.value)==null||C.focus()})),!p&&a&&(a=!1,t("close"))}),st({popupRef:l}),p5(l,()=>e.show&&e.lockScroll),Yr("popstate",()=>{e.closeOnPopstate&&(d(),i=!1)}),tt(()=>{e.show&&c()}),Ea(()=>{i&&(t("update:show",!0),i=!1)}),zr(()=>{e.show&&(d(),i=!0)}),ft(O1,()=>e.show),()=>e.teleport?R(No,{to:e.teleport},{default:()=>[S(),b()]}):R(Ce,null,[S(),b()])}});const Nn=Te(w5),[O5,_n]=ve("action-sheet"),k5=xe({},$i,{title:String,round:ce,actions:Ut(),closeIcon:we("cross"),closeable:ce,cancelText:String,description:String,closeOnPopstate:ce,closeOnClickAction:Boolean,safeAreaInsetBottom:ce}),_5=[...rf,"round","closeOnPopstate","safeAreaInsetBottom"];var A5=ee({name:O5,props:k5,emits:["select","cancel","update:show"],setup(e,{slots:t,emit:n}){const r=c=>n("update:show",c),a=()=>{r(!1),n("cancel")},i=()=>{if(e.title)return R("div",{class:_n("header")},[e.title,e.closeable&&R(We,{name:e.closeIcon,class:[_n("close"),nn],onClick:a},null)])},o=()=>{if(t.cancel||e.cancelText)return[R("div",{class:_n("gap")},null),R("button",{type:"button",class:_n("cancel"),onClick:a},[t.cancel?t.cancel():e.cancelText])]},l=(c,d)=>c.loading?R(Bn,{class:_n("loading-icon")},null):t.action?t.action({action:c,index:d}):[R("span",{class:_n("name")},[c.name]),c.subname&&R("div",{class:_n("subname")},[c.subname])],u=(c,d)=>{const{color:v,loading:S,callback:E,disabled:m,className:f}=c,g=()=>{m||S||(E&&E(c),e.closeOnClickAction&&r(!1),Re(()=>n("select",c,d)))};return R("button",{type:"button",style:{color:v},class:[_n("item",{loading:S,disabled:m}),f],onClick:g},[l(c,d)])},s=()=>{if(e.description||t.description){const c=t.description?t.description():e.description;return R("div",{class:_n("description")},[c])}};return()=>R(Nn,Ye({class:_n(),position:"bottom","onUpdate:show":r},mt(e,_5)),{default:()=>{var c;return[i(),s(),R("div",{class:_n("content")},[e.actions.map(u),(c=t.default)==null?void 0:c.call(t)]),o()]}})}});const D5=Te(A5);function Ro(e){if(!rt(e))return e;if(Array.isArray(e))return e.map(t=>Ro(t));if(wn(e)){const t={};return Object.keys(e).forEach(n=>{t[n]=Ro(e[n])}),t}return e}const ap=200,ip=300,P5=15,[_1,Iu]=ve("picker-column");function I5(e){const{transform:t}=window.getComputedStyle(e),n=t.slice(7,t.length-1).split(", ")[5];return Number(n)}const A1=Symbol(_1),Lu=e=>wn(e)&&e.disabled;var L5=ee({name:_1,props:{textKey:xt(String),readonly:Boolean,allowHtml:Boolean,className:gt,itemHeight:xt(Number),defaultIndex:Qn(0),swipeDuration:xt(pe),initialOptions:Ut(),visibleItemCount:xt(pe)},emits:["change"],setup(e,{emit:t,slots:n}){let r,a,i,o,l;const u=q(),s=Me({index:e.defaultIndex,offset:0,duration:0,options:Ro(e.initialOptions)}),c=nr(),d=()=>s.options.length,v=()=>e.itemHeight*(+e.visibleItemCount-1)/2,S=O=>{O=Kt(O,0,d());for(let A=O;A<d();A++)if(!Lu(s.options[A]))return A;for(let A=O-1;A>=0;A--)if(!Lu(s.options[A]))return A},E=(O,A)=>{O=S(O)||0;const P=-O*e.itemHeight,D=()=>{O!==s.index&&(s.index=O,A&&t("change",O))};r&&P!==s.offset?l=D:D(),s.offset=P},m=O=>{JSON.stringify(O)!==JSON.stringify(s.options)&&(s.options=Ro(O),E(e.defaultIndex))},f=O=>{r||e.readonly||(l=null,s.duration=ap,E(O,!0))},g=O=>wn(O)&&e.textKey in O?O[e.textKey]:O,h=O=>Kt(Math.round(-O/e.itemHeight),0,d()-1),y=(O,A)=>{const P=Math.abs(O/A);O=s.offset+P/.003*(O<0?-1:1);const D=h(O);s.duration=+e.swipeDuration,E(D,!0)},b=()=>{r=!1,s.duration=0,l&&(l(),l=null)},p=O=>{if(!e.readonly){if(c.start(O),r){const A=I5(u.value);s.offset=Math.min(0,A-v()),a=s.offset}else a=s.offset;s.duration=0,i=Date.now(),o=a,l=null}},C=O=>{if(e.readonly)return;c.move(O),c.isVertical()&&(r=!0,Et(O,!0)),s.offset=Kt(a+c.deltaY.value,-(d()*e.itemHeight),e.itemHeight);const A=Date.now();A-i>ip&&(i=A,o=s.offset)},w=()=>{if(e.readonly)return;const O=s.offset-o,A=Date.now()-i;if(A<ip&&Math.abs(O)>P5){y(O,A);return}const D=h(s.offset);s.duration=ap,E(D,!0),setTimeout(()=>{r=!1},0)},k=()=>{const O={height:`${e.itemHeight}px`};return s.options.map((A,P)=>{const D=g(A),I=Lu(A),x={role:"button",style:O,tabindex:I?-1:0,class:Iu("item",{disabled:I,selected:P===s.index}),onClick:()=>f(P)},L={class:"van-ellipsis",[e.allowHtml?"innerHTML":"textContent"]:D};return R("li",x,[n.option?n.option(A):R("div",L,null)])})},_=O=>{const{options:A}=s;for(let P=0;P<A.length;P++)if(g(A[P])===O)return E(P)},T=()=>s.options[s.index];return E(s.index),Xt(A1),st({state:s,setIndex:E,getValue:T,setValue:_,setOptions:m,stopMomentum:b}),oe(()=>e.initialOptions,m),oe(()=>e.defaultIndex,O=>E(O)),()=>R("div",{class:[Iu(),e.className],onTouchstart:p,onTouchmove:C,onTouchend:w,onTouchcancel:w},[R("ul",{ref:u,style:{transform:`translate3d(0, ${s.offset+v()}px, 0)`,transitionDuration:`${s.duration}ms`,transitionProperty:s.duration?"all":"none"},class:Iu("wrapper"),onTransitionend:b},[k()])])}});const[R5,sr,op]=ve("picker"),Ul={title:String,loading:Boolean,readonly:Boolean,allowHtml:Boolean,itemHeight:Pe(44),showToolbar:ce,swipeDuration:Pe(1e3),visibleItemCount:Pe(6),cancelButtonText:String,confirmButtonText:String},x5=xe({},Ul,{columns:Ut(),valueKey:String,defaultIndex:Pe(0),toolbarPosition:we("top"),columnsFieldNames:Object});var $5=ee({name:R5,props:x5,emits:["confirm","cancel","change"],setup(e,{emit:t,slots:n}){const r=q(!1),a=q([]),{text:i,values:o,children:l}=xe({text:e.valueKey||"text",values:"values",children:"children"},e.columnsFieldNames),{children:u,linkChildren:s}=Qt(A1);s();const c=N(()=>ef(e.itemHeight)),d=N(()=>{const F=e.columns[0];if(typeof F=="object"){if(l in F)return"cascade";if(o in F)return"object"}return"plain"}),v=()=>{var F;const U=[];let B={[l]:e.columns};for(;B&&B[l];){const K=B[l];let V=(F=B.defaultIndex)!=null?F:+e.defaultIndex;for(;K[V]&&K[V].disabled;)if(V<K.length-1)V++;else{V=0;break}U.push({[o]:B[l],className:B.className,defaultIndex:V}),B=K[V]}a.value=U},S=()=>{const{columns:F}=e;d.value==="plain"?a.value=[{[o]:F}]:d.value==="cascade"?v():a.value=F,r.value=a.value.some(U=>U[o]&&U[o].length!==0)},E=()=>u.map(F=>F.state.index),m=(F,U)=>{const B=u[F];B&&(B.setOptions(U),r.value=!0)},f=F=>{let U={[l]:e.columns};const B=E();for(let K=0;K<=F;K++)U=U[l][B[K]];for(;U&&U[l];)F++,m(F,U[l]),U=U[l][U.defaultIndex||0]},g=F=>u[F],h=F=>{const U=g(F);if(U)return U.getValue()},y=(F,U)=>{const B=g(F);B&&(B.setValue(U),d.value==="cascade"&&f(F))},b=F=>{const U=g(F);if(U)return U.state.index},p=(F,U)=>{const B=g(F);B&&(B.setIndex(U),d.value==="cascade"&&f(F))},C=F=>{const U=g(F);if(U)return U.state.options},w=()=>u.map(F=>F.getValue()),k=F=>{F.forEach((U,B)=>{y(B,U)})},_=F=>{F.forEach((U,B)=>{p(B,U)})},T=F=>{d.value==="plain"?t(F,h(0),b(0)):t(F,w(),E())},O=F=>{d.value==="cascade"&&f(F),d.value==="plain"?t("change",h(0),b(0)):t("change",w(),F)},A=()=>{u.forEach(F=>F.stopMomentum()),T("confirm")},P=()=>T("cancel"),D=()=>{if(n.title)return n.title();if(e.title)return R("div",{class:[sr("title"),"van-ellipsis"]},[e.title])},I=()=>{const F=e.cancelButtonText||op("cancel");return R("button",{type:"button",class:[sr("cancel"),nn],onClick:P},[n.cancel?n.cancel():F])},x=()=>{const F=e.confirmButtonText||op("confirm");return R("button",{type:"button",class:[sr("confirm"),nn],onClick:A},[n.confirm?n.confirm():F])},L=()=>{if(e.showToolbar){const F=n.toolbar||n.default;return R("div",{class:sr("toolbar")},[F?F():[I(),D(),x()]])}},$=()=>a.value.map((F,U)=>{var B;return R(L5,{textKey:i,readonly:e.readonly,allowHtml:e.allowHtml,className:F.className,itemHeight:c.value,defaultIndex:(B=F.defaultIndex)!=null?B:+e.defaultIndex,swipeDuration:e.swipeDuration,initialOptions:F[o],visibleItemCount:e.visibleItemCount,onChange:()=>O(U)},{option:n.option})}),M=F=>{if(r.value){const U={height:`${c.value}px`},B={backgroundSize:`100% ${(F-c.value)/2}px`};return[R("div",{class:sr("mask"),style:B},null),R("div",{class:[NU,sr("frame")],style:U},null)]}},j=()=>{const F=c.value*+e.visibleItemCount,U={height:`${F}px`};return R("div",{class:sr("columns"),style:U,onTouchmove:Et},[$(),M(F)])};return oe(()=>e.columns,S,{immediate:!0}),st({confirm:A,getValues:w,setValues:k,getIndexes:E,setIndexes:_,getColumnIndex:b,setColumnIndex:p,getColumnValue:h,setColumnValue:y,getColumnValues:C,setColumnValues:m}),()=>{var F,U;return R("div",{class:sr()},[e.toolbarPosition==="top"?L():null,e.loading?R(Bn,{class:sr("loading")},null):null,(F=n["columns-top"])==null?void 0:F.call(n),j(),(U=n["columns-bottom"])==null?void 0:U.call(n),e.toolbarPosition==="bottom"?L():null])}}});const Vl=Te($5),[M5,F5]=ve("area"),Ru="000000",B5=["title","cancel","confirm","toolbar","columns-top","columns-bottom"],N5=["title","loading","readonly","itemHeight","swipeDuration","visibleItemCount","cancelButtonText","confirmButtonText"],j5=e=>e[0]==="9",U5=xe({},Ul,{value:String,columnsNum:Pe(3),columnsPlaceholder:Ut(),areaList:{type:Object,default:()=>({})},isOverseaCode:{type:Function,default:j5}});var V5=ee({name:M5,props:U5,emits:["change","confirm","cancel"],setup(e,{emit:t,slots:n}){const r=q(),a=Me({code:e.value,columns:[{values:[]},{values:[]},{values:[]}]}),i=N(()=>{const{areaList:h}=e;return{province:h.province_list||{},city:h.city_list||{},county:h.county_list||{}}}),o=N(()=>{const{columnsPlaceholder:h}=e;return{province:h[0]||"",city:h[1]||"",county:h[2]||""}}),l=()=>{if(e.columnsPlaceholder.length)return Ru;const{county:h,city:y}=i.value,b=Object.keys(h);if(b[0])return b[0];const p=Object.keys(y);return p[0]?p[0]:""},u=(h,y)=>{let b=[];if(h!=="province"&&!y)return b;const p=i.value[h];if(b=Object.keys(p).map(C=>({code:C,name:p[C]})),y&&(h==="city"&&e.isOverseaCode(y)&&(y="9"),b=b.filter(C=>C.code.indexOf(y)===0)),o.value[h]&&b.length){let C="";h==="city"?C=Ru.slice(2,4):h==="county"&&(C=Ru.slice(4,6)),b.unshift({code:y+C,name:o.value[h]})}return b},s=(h,y)=>{let b=y.length;h==="province"&&(b=e.isOverseaCode(y)?1:2),h==="city"&&(b=4),y=y.slice(0,b);const p=u(h,b>2?y.slice(0,b-2):"");for(let C=0;C<p.length;C++)if(p[C].code.slice(0,b)===y)return C;return 0},c=()=>{const h=r.value;if(!h)return;let y=a.code||l();const b=u("province"),p=u("city",y.slice(0,2));h.setColumnValues(0,b),h.setColumnValues(1,p),p.length&&y.slice(2,4)==="00"&&!e.isOverseaCode(y)&&([{code:y}]=p),h.setColumnValues(2,u("county",y.slice(0,4))),h.setIndexes([s("province",y),s("city",y),s("county",y)])},d=h=>h.map((y,b)=>(y&&(y=Ro(y),(!y.code||y.name===e.columnsPlaceholder[b])&&(y.code="",y.name="")),y)),v=()=>{if(r.value){const h=r.value.getValues().filter(Boolean);return d(h)}return[]},S=()=>{const h=v(),y={code:"",country:"",province:"",city:"",county:""};if(!h.length)return y;const b=h.map(C=>C.name),p=h.filter(C=>C.code);return y.code=p.length?p[p.length-1].code:"",e.isOverseaCode(y.code)?(y.country=b[1]||"",y.province=b[2]||""):(y.province=b[0]||"",y.city=b[1]||"",y.county=b[2]||""),y},E=(h="")=>{a.code=h,c()},m=(h,y)=>{if(a.code=h[y].code,c(),r.value){const b=d(r.value.getValues());t("change",b,y)}},f=(h,y)=>{c(),t("confirm",d(h),y)},g=(...h)=>t("cancel",...h);return tt(c),oe(()=>e.value,h=>{a.code=h,c()}),oe(()=>e.areaList,c,{deep:!0}),oe(()=>e.columnsNum,()=>{Re(c)}),st({reset:E,getArea:S,getValues:v}),()=>{const h=a.columns.slice(0,+e.columnsNum);return R(Vl,Ye({ref:r,class:F5(),columns:h,columnsFieldNames:{text:"name"},onChange:m,onCancel:g,onConfirm:f},mt(e,N5)),mt(n,B5))}}});const D1=Te(V5),[H5,Na]=ve("cell"),Hl={icon:String,size:String,title:pe,value:pe,label:pe,center:Boolean,isLink:Boolean,border:ce,required:Boolean,iconPrefix:String,valueClass:gt,labelClass:gt,titleClass:gt,titleStyle:null,arrowDirection:String,clickable:{type:Boolean,default:null}},z5=xe({},Hl,Qr);var G5=ee({name:H5,props:z5,setup(e,{slots:t}){const n=Da(),r=()=>{if(t.label||rt(e.label))return R("div",{class:[Na("label"),e.labelClass]},[t.label?t.label():e.label])},a=()=>{if(t.title||rt(e.title))return R("div",{class:[Na("title"),e.titleClass],style:e.titleStyle},[t.title?t.title():R("span",null,[e.title]),r()])},i=()=>{const u=t.value||t.default;if(u||rt(e.value)){const c=t.title||rt(e.title);return R("div",{class:[Na("value",{alone:!c}),e.valueClass]},[u?u():R("span",null,[e.value])])}},o=()=>{if(t.icon)return t.icon();if(e.icon)return R(We,{name:e.icon,class:Na("left-icon"),classPrefix:e.iconPrefix},null)},l=()=>{if(t["right-icon"])return t["right-icon"]();if(e.isLink){const u=e.arrowDirection?`arrow-${e.arrowDirection}`:"arrow";return R(We,{name:u,class:Na("right-icon")},null)}};return()=>{var u,s;const{size:c,center:d,border:v,isLink:S,required:E}=e,m=(u=e.clickable)!=null?u:S,f={center:d,required:E,clickable:m,borderless:!v};return c&&(f[c]=!!c),R("div",{class:Na(f),role:m?"button":void 0,tabindex:m?0:void 0,onClick:n},[o(),a(),i(),l(),(s=t.extra)==null?void 0:s.call(t)])}}});const jn=Te(G5),[K5,W5]=ve("form"),Y5={colon:Boolean,disabled:Boolean,readonly:Boolean,showError:Boolean,labelWidth:pe,labelAlign:String,inputAlign:String,scrollToError:Boolean,validateFirst:Boolean,submitOnEnter:ce,validateTrigger:we("onBlur"),showErrorMessage:ce,errorMessageAlign:String};var q5=ee({name:K5,props:Y5,emits:["submit","failed"],setup(e,{emit:t,slots:n}){const{children:r,linkChildren:a}=Qt(b1),i=m=>m?r.filter(f=>m.includes(f.name)):r,o=m=>new Promise((f,g)=>{const h=[];i(m).reduce((b,p)=>b.then(()=>{if(!h.length)return p.validate().then(C=>{C&&h.push(C)})}),Promise.resolve()).then(()=>{h.length?g(h):f()})}),l=m=>new Promise((f,g)=>{const h=i(m);Promise.all(h.map(y=>y.validate())).then(y=>{y=y.filter(Boolean),y.length?g(y):f()})}),u=m=>{const f=r.find(g=>g.name===m);return f?new Promise((g,h)=>{f.validate().then(y=>{y?h(y):g()})}):Promise.reject()},s=m=>typeof m=="string"?u(m):e.validateFirst?o(m):l(m),c=m=>{typeof m=="string"&&(m=[m]),i(m).forEach(g=>{g.resetValidation()})},d=(m,f)=>{r.some(g=>g.name===m?(g.$el.scrollIntoView(f),!0):!1)},v=()=>r.reduce((m,f)=>(m[f.name]=f.formValue.value,m),{}),S=()=>{const m=v();s().then(()=>t("submit",m)).catch(f=>{t("failed",{values:m,errors:f}),e.scrollToError&&f[0].name&&d(f[0].name)})},E=m=>{Et(m),S()};return a({props:e}),st({submit:S,validate:s,getValues:v,scrollToField:d,resetValidation:c}),()=>{var m;return R("form",{class:W5(),onSubmit:E},[(m=n.default)==null?void 0:m.call(n)])}}});const sf=Te(q5);function X5(e){return Array.isArray(e)?!e.length:e===0?!1:!e}function Z5(e,t){return!(t.required&&X5(e)||t.pattern&&!t.pattern.test(String(e)))}function J5(e,t){return new Promise(n=>{const r=t.validator(e,t);if(Jd(r)){r.then(n);return}n(r)})}function sp(e,t){const{message:n}=t;return gi(n)?n(e,t):n||""}function Q5({target:e}){e.composing=!0}function lp({target:e}){e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}function e8(e,t){const n=Go();e.style.height="auto";let r=e.scrollHeight;if(wn(t)){const{maxHeight:a,minHeight:i}=t;a!==void 0&&(r=Math.min(r,a)),i!==void 0&&(r=Math.max(r,i))}r&&(e.style.height=`${r}px`,Bl(n))}function t8(e){return e==="number"?{type:"text",inputmode:"decimal"}:e==="digit"?{type:"tel",inputmode:"numeric"}:{type:e}}function xu(e){return[...e].length}function n8(e,t){return[...e].slice(0,t).join("")}let r8=0;function Ko(){const e=Be(),{name:t="unknown"}=(e==null?void 0:e.type)||{};return`${t}-${++r8}`}const[a8,bn]=ve("field"),lf={id:String,name:String,leftIcon:String,rightIcon:String,autofocus:Boolean,clearable:Boolean,maxlength:pe,formatter:Function,clearIcon:we("clear"),modelValue:Pe(""),inputAlign:String,placeholder:String,autocomplete:String,errorMessage:String,enterkeyhint:String,clearTrigger:we("focus"),formatTrigger:we("onChange"),error:{type:Boolean,default:null},disabled:{type:Boolean,default:null},readonly:{type:Boolean,default:null}},i8=xe({},Hl,lf,{rows:pe,type:we("text"),rules:Array,autosize:[Boolean,Object],labelWidth:pe,labelClass:gt,labelAlign:String,showWordLimit:Boolean,errorMessageAlign:String,colon:{type:Boolean,default:null}});var o8=ee({name:a8,props:i8,emits:["blur","focus","clear","keypress","click-input","click-left-icon","click-right-icon","update:modelValue"],setup(e,{emit:t,slots:n}){const r=Ko(),a=Me({focused:!1,validateFailed:!1,validateMessage:""}),i=q(),o=q(),{parent:l}=Xt(b1),u=()=>{var B;return String((B=e.modelValue)!=null?B:"")},s=B=>{if(rt(e[B]))return e[B];if(l&&rt(l.props[B]))return l.props[B]},c=N(()=>{const B=s("readonly");if(e.clearable&&!B){const K=u()!=="",V=e.clearTrigger==="always"||e.clearTrigger==="focus"&&a.focused;return K&&V}return!1}),d=N(()=>o.value&&n.input?o.value():e.modelValue),v=B=>B.reduce((K,V)=>K.then(()=>{if(a.validateFailed)return;let{value:X}=d;if(V.formatter&&(X=V.formatter(X,V)),!Z5(X,V)){a.validateFailed=!0,a.validateMessage=sp(X,V);return}if(V.validator)return J5(X,V).then(Z=>{Z&&typeof Z=="string"?(a.validateFailed=!0,a.validateMessage=Z):Z===!1&&(a.validateFailed=!0,a.validateMessage=sp(X,V))})}),Promise.resolve()),S=()=>{a.validateFailed&&(a.validateFailed=!1,a.validateMessage="")},E=(B=e.rules)=>new Promise(K=>{S(),B?v(B).then(()=>{a.validateFailed?K({name:e.name,message:a.validateMessage}):K()}):K()}),m=B=>{if(l&&e.rules){const K=l.props.validateTrigger===B,V=e.rules.filter(X=>X.trigger?X.trigger===B:K);V.length&&E(V)}},f=B=>{const{maxlength:K}=e;if(rt(K)&&xu(B)>K){const V=u();return V&&xu(V)===+K?V:n8(B,+K)}return B},g=(B,K="onChange")=>{if(B=f(B),e.type==="number"||e.type==="digit"){const V=e.type==="number";B=Vc(B,V,V)}e.formatter&&K===e.formatTrigger&&(B=e.formatter(B)),i.value&&i.value.value!==B&&(i.value.value=B),B!==e.modelValue&&t("update:modelValue",B)},h=B=>{B.target.composing||g(B.target.value)},y=()=>{var B;return(B=i.value)==null?void 0:B.blur()},b=()=>{var B;return(B=i.value)==null?void 0:B.focus()},p=()=>{const B=i.value;e.type==="textarea"&&e.autosize&&B&&e8(B,e.autosize)},C=B=>{a.focused=!0,t("focus",B),Re(p),s("readonly")&&y()},w=B=>{s("readonly")||(a.focused=!1,g(u(),"onBlur"),t("blur",B),m("onBlur"),Re(p),f1())},k=B=>t("click-input",B),_=B=>t("click-left-icon",B),T=B=>t("click-right-icon",B),O=B=>{Et(B),t("update:modelValue",""),t("clear",B)},A=N(()=>{if(typeof e.error=="boolean")return e.error;if(l&&l.props.showError&&a.validateFailed)return!0}),P=N(()=>{const B=s("labelWidth");if(B)return{width:it(B)}}),D=B=>{B.keyCode===13&&(!(l&&l.props.submitOnEnter)&&e.type!=="textarea"&&Et(B),e.type==="search"&&y()),t("keypress",B)},I=()=>e.id||`${r}-input`,x=()=>{const B=bn("control",[s("inputAlign"),{error:A.value,custom:!!n.input,"min-height":e.type==="textarea"&&!e.autosize}]);if(n.input)return R("div",{class:B,onClick:k},[n.input()]);const K={id:I(),ref:i,name:e.name,rows:e.rows!==void 0?+e.rows:void 0,class:B,value:e.modelValue,disabled:s("disabled"),readonly:s("readonly"),autofocus:e.autofocus,placeholder:e.placeholder,autocomplete:e.autocomplete,enterkeyhint:e.enterkeyhint,"aria-labelledby":e.label?`${r}-label`:void 0,onBlur:w,onFocus:C,onInput:h,onClick:k,onChange:lp,onKeypress:D,onCompositionend:lp,onCompositionstart:Q5};return e.type==="textarea"?R("textarea",K,null):R("input",Ye(t8(e.type),K),null)},L=()=>{const B=n["left-icon"];if(e.leftIcon||B)return R("div",{class:bn("left-icon"),onClick:_},[B?B():R(We,{name:e.leftIcon,classPrefix:e.iconPrefix},null)])},$=()=>{const B=n["right-icon"];if(e.rightIcon||B)return R("div",{class:bn("right-icon"),onClick:T},[B?B():R(We,{name:e.rightIcon,classPrefix:e.iconPrefix},null)])},M=()=>{if(e.showWordLimit&&e.maxlength){const B=xu(u());return R("div",{class:bn("word-limit")},[R("span",{class:bn("word-num")},[B]),nt("/"),e.maxlength])}},j=()=>{if(l&&l.props.showErrorMessage===!1)return;const B=e.errorMessage||a.validateMessage;if(B){const K=n["error-message"],V=s("errorMessageAlign");return R("div",{class:bn("error-message",V)},[K?K({message:B}):B])}},F=()=>{const B=s("colon")?":":"";if(n.label)return[n.label(),B];if(e.label)return R("label",{id:`${r}-label`,for:I()},[e.label+B])},U=()=>[R("div",{class:bn("body")},[x(),c.value&&R(We,{name:e.clearIcon,class:bn("clear"),onTouchstart:O},null),$(),n.button&&R("div",{class:bn("button")},[n.button()])]),M(),j()];return st({blur:y,focus:b,validate:E,formValue:d,resetValidation:S}),ft(u1,{customValue:o,resetValidation:S,validateWithTrigger:m}),oe(()=>e.modelValue,()=>{g(u()),S(),m("onChange"),Re(p)}),tt(()=>{g(u(),e.formatTrigger),Re(p)}),()=>{const B=s("disabled"),K=s("labelAlign"),V=F(),X=L();return R(jn,{size:e.size,icon:e.leftIcon,class:bn({error:A.value,disabled:B,[`label-${K}`]:K}),center:e.center,border:e.border,isLink:e.isLink,clickable:e.clickable,titleStyle:P.value,valueClass:bn("value"),titleClass:[bn("label",[K,{required:e.required}]),e.labelClass],arrowDirection:e.arrowDirection},{icon:X?()=>X:null,title:V?()=>V:null,value:U,extra:n.extra})}}});const Jn=Te(o8);function zl(){const e=Me({show:!1}),t=a=>{e.show=a},n=a=>{xe(e,a,{transitionAppear:!0}),t(!0)},r=()=>t(!1);return st({open:n,close:r,toggle:t}),{open:n,close:r,state:e,toggle:t}}function Gl(e){const t=Uo(e),n=document.createElement("div");return document.body.appendChild(n),{instance:t.mount(n),unmount(){t.unmount(),document.body.removeChild(n)}}}let to=0;function s8(e){e?(to||document.body.classList.add("van-toast--unclickable"),to++):to&&(to--,to||document.body.classList.remove("van-toast--unclickable"))}const[l8,no]=ve("toast"),u8=["show","overlay","teleport","transition","overlayClass","overlayStyle","closeOnClickOverlay"],c8={icon:String,show:Boolean,type:we("text"),overlay:Boolean,message:pe,iconSize:pe,duration:Qn(2e3),position:we("middle"),teleport:[String,Object],className:gt,iconPrefix:String,transition:we("van-fade"),loadingType:String,forbidClick:Boolean,overlayClass:gt,overlayStyle:Object,closeOnClick:Boolean,closeOnClickOverlay:Boolean};var P1=ee({name:l8,props:c8,emits:["update:show"],setup(e,{emit:t}){let n,r=!1;const a=()=>{const c=e.show&&e.forbidClick;r!==c&&(r=c,s8(r))},i=c=>t("update:show",c),o=()=>{e.closeOnClick&&i(!1)},l=()=>clearTimeout(n),u=()=>{const{icon:c,type:d,iconSize:v,iconPrefix:S,loadingType:E}=e;if(c||d==="success"||d==="fail")return R(We,{name:c||d,size:v,class:no("icon"),classPrefix:S},null);if(d==="loading")return R(Bn,{class:no("loading"),size:v,type:E},null)},s=()=>{const{type:c,message:d}=e;if(rt(d)&&d!=="")return c==="html"?R("div",{key:0,class:no("text"),innerHTML:String(d)},null):R("div",{class:no("text")},[d])};return oe(()=>[e.show,e.forbidClick],a),oe(()=>[e.show,e.type,e.message,e.duration],()=>{l(),e.show&&e.duration>0&&(n=setTimeout(()=>{i(!1)},e.duration))}),tt(a),Mn(a),()=>R(Nn,Ye({class:[no([e.position,{[e.type]:!e.icon}]),e.className],lockScroll:!1,onClick:o,onClosed:l,"onUpdate:show":i},mt(e,u8)),{default:()=>[u(),s()]})}});const I1={icon:"",type:"text",message:"",className:"",overlay:!1,onClose:void 0,onOpened:void 0,duration:2e3,teleport:"body",iconSize:void 0,iconPrefix:void 0,position:"middle",transition:"van-fade",forbidClick:!1,loadingType:void 0,overlayClass:"",overlayStyle:void 0,closeOnClick:!1,closeOnClickOverlay:!1};let Rn=[],Kl=!1,al=xe({},I1);const il=new Map;function L1(e){return wn(e)?e:{message:e}}function d8(){const{instance:e,unmount:t}=Gl({setup(){const n=q(""),{open:r,state:a,close:i,toggle:o}=zl(),l=()=>{Kl&&(Rn=Rn.filter(s=>s!==e),t())},u=()=>R(P1,Ye(a,{onClosed:l,"onUpdate:show":o}),null);return oe(n,s=>{a.message=s}),Be().render=u,{open:r,clear:i,message:n}}});return e}function f8(){if(!Rn.length||Kl){const e=d8();Rn.push(e)}return Rn[Rn.length-1]}function an(e={}){if(!Kr)return{};const t=f8(),n=L1(e);return t.open(xe({},al,il.get(n.type||al.type),n)),t}const uf=e=>t=>an(xe({type:e},L1(t)));an.loading=uf("loading");an.success=uf("success");an.fail=uf("fail");an.clear=e=>{var t;Rn.length&&(e?(Rn.forEach(n=>{n.clear()}),Rn=[]):Kl?(t=Rn.shift())==null||t.clear():Rn[0].clear())};function h8(e,t){typeof e=="string"?il.set(e,t):xe(al,e)}an.setDefaultOptions=h8;an.resetDefaultOptions=e=>{typeof e=="string"?il.delete(e):(al=xe({},I1),il.clear())};an.allowMultiple=(e=!0)=>{Kl=e};an.install=e=>{e.use(Te(P1)),e.config.globalProperties.$toast=an};const[v8,$u]=ve("switch"),m8={size:pe,loading:Boolean,disabled:Boolean,modelValue:gt,activeColor:String,inactiveColor:String,activeValue:{type:gt,default:!0},inactiveValue:{type:gt,default:!1}};var g8=ee({name:v8,props:m8,emits:["change","update:modelValue"],setup(e,{emit:t}){const n=()=>e.modelValue===e.activeValue,r=()=>{if(!e.disabled&&!e.loading){const i=n()?e.inactiveValue:e.activeValue;t("update:modelValue",i),t("change",i)}},a=()=>{if(e.loading){const i=n()?e.activeColor:e.inactiveColor;return R(Bn,{class:$u("loading"),color:i},null)}};return qr(()=>e.modelValue),()=>{const{size:i,loading:o,disabled:l,activeColor:u,inactiveColor:s}=e,c=n(),d={fontSize:it(i),backgroundColor:c?u:s};return R("div",{role:"switch",class:$u({on:c,loading:o,disabled:l}),style:d,tabindex:l?void 0:0,"aria-checked":c,onClick:r},[R("div",{class:$u("node")},[a()])])}}});const cf=Te(g8),[p8,Mu]=ve("address-edit-detail"),up=ve("address-edit")[2];var y8=ee({name:p8,props:{show:Boolean,rows:pe,value:String,rules:Array,focused:Boolean,maxlength:pe,searchResult:Array,showSearchResult:Boolean},emits:["blur","focus","input","select-search"],setup(e,{emit:t}){const n=q(),r=()=>e.focused&&e.searchResult&&e.showSearchResult,a=c=>{t("select-search",c),t("input",`${c.address||""} ${c.name||""}`.trim())},i=c=>{if(c.name){const d=c.name.replace(e.value,`<span class=${Mu("keyword")}>${e.value}</span>`);return R("div",{innerHTML:d},null)}},o=()=>{if(!r())return;const{searchResult:c}=e;return c.map(d=>R(jn,{clickable:!0,key:d.name+d.address,icon:"location-o",label:d.address,class:Mu("search-item"),border:!1,onClick:()=>a(d)},{title:()=>i(d)}))},l=c=>t("blur",c),u=c=>t("focus",c),s=c=>t("input",c);return()=>{if(e.show)return R(Ce,null,[R(Jn,{autosize:!0,clearable:!0,ref:n,class:Mu(),rows:e.rows,type:"textarea",rules:e.rules,label:up("addressDetail"),border:!r(),maxlength:e.maxlength,modelValue:e.value,placeholder:up("addressDetail"),onBlur:l,onFocus:u,"onUpdate:modelValue":s},null),o()])}}});const[b8,ja,It]=ve("address-edit"),R1={name:"",tel:"",city:"",county:"",country:"",province:"",areaCode:"",isDefault:!1,postalCode:"",addressDetail:""},S8=e=>/^\d{6}$/.test(e),T8={areaList:Object,isSaving:Boolean,isDeleting:Boolean,validator:Function,showArea:ce,showDetail:ce,showDelete:Boolean,showPostal:Boolean,disableArea:Boolean,searchResult:Array,telMaxlength:pe,showSetDefault:Boolean,saveButtonText:String,areaPlaceholder:String,deleteButtonText:String,showSearchResult:Boolean,detailRows:Pe(1),detailMaxlength:Pe(200),areaColumnsPlaceholder:Ut(),addressInfo:{type:Object,default:()=>xe({},R1)},telValidator:{type:Function,default:c1},postalValidator:{type:Function,default:S8}};var C8=ee({name:b8,props:T8,emits:["save","focus","delete","click-area","change-area","change-detail","select-search","change-default"],setup(e,{emit:t,slots:n}){const r=q(),a=Me({}),i=q(!1),o=q(!1),l=N(()=>wn(e.areaList)&&Object.keys(e.areaList).length),u=N(()=>{const{country:C,province:w,city:k,county:_,areaCode:T}=a;if(T){const O=[C,w,k,_];return w&&w===k&&O.splice(1,1),O.filter(Boolean).join("/")}return""}),s=N(()=>{var C;return((C=e.searchResult)==null?void 0:C.length)&&o.value}),c=()=>{if(r.value){const C=r.value.getArea();C.areaCode=C.code,delete C.code,xe(a,C)}},d=C=>{o.value=C==="addressDetail",t("focus",C)},v=N(()=>{const{validator:C,telValidator:w,postalValidator:k}=e,_=(T,O)=>({validator:A=>{if(C){const P=C(T,A);if(P)return P}return A?!0:O}});return{name:[_("name",It("nameEmpty"))],tel:[_("tel",It("telInvalid")),{validator:w,message:It("telInvalid")}],areaCode:[_("areaCode",It("areaEmpty"))],addressDetail:[_("addressDetail",It("addressEmpty"))],postalCode:[_("addressDetail",It("postalEmpty")),{validator:k,message:It("postalEmpty")}]}}),S=()=>t("save",a),E=C=>{a.addressDetail=C,t("change-detail",C)},m=C=>{C=C.filter(Boolean),C.some(w=>!w.code)?an(It("areaEmpty")):(i.value=!1,c(),t("change-area",C))},f=()=>t("delete",a),g=()=>{var C;return((C=r.value)==null?void 0:C.getValues())||[]},h=C=>{a.areaCode=C||"",C&&Re(c)},y=()=>{setTimeout(()=>{o.value=!1})},b=C=>{a.addressDetail=C},p=()=>{if(e.showSetDefault){const C={"right-icon":()=>R(cf,{modelValue:a.isDefault,"onUpdate:modelValue":w=>a.isDefault=w,size:"24",onChange:w=>t("change-default",w)},null)};return Ke(R(jn,{center:!0,title:It("defaultAddress"),class:ja("default")},C),[[Xe,!s.value]])}};return st({getArea:g,setAreaCode:h,setAddressDetail:b}),oe(()=>e.areaList,()=>h(a.areaCode)),oe(()=>e.addressInfo,C=>{xe(a,R1,C),h(C.areaCode)},{deep:!0,immediate:!0}),()=>{const{disableArea:C}=e;return R(sf,{class:ja(),onSubmit:S},{default:()=>{var w;return[R("div",{class:ja("fields")},[R(Jn,{modelValue:a.name,"onUpdate:modelValue":k=>a.name=k,clearable:!0,label:It("name"),rules:v.value.name,placeholder:It("name"),onFocus:()=>d("name")},null),R(Jn,{modelValue:a.tel,"onUpdate:modelValue":k=>a.tel=k,clearable:!0,type:"tel",label:It("tel"),rules:v.value.tel,maxlength:e.telMaxlength,placeholder:It("tel"),onFocus:()=>d("tel")},null),Ke(R(Jn,{readonly:!0,label:It("area"),"is-link":!C,modelValue:u.value,rules:v.value.areaCode,placeholder:e.areaPlaceholder||It("area"),onFocus:()=>d("areaCode"),onClick:()=>{t("click-area"),i.value=!C}},null),[[Xe,e.showArea]]),R(y8,{show:e.showDetail,rows:e.detailRows,rules:v.value.addressDetail,value:a.addressDetail,focused:o.value,maxlength:e.detailMaxlength,searchResult:e.searchResult,showSearchResult:e.showSearchResult,onBlur:y,onFocus:()=>d("addressDetail"),onInput:E,"onSelect-search":k=>t("select-search",k)},null),e.showPostal&&Ke(R(Jn,{modelValue:a.postalCode,"onUpdate:modelValue":k=>a.postalCode=k,type:"tel",rules:v.value.postalCode,label:It("postal"),maxlength:"6",placeholder:It("postal"),onFocus:()=>d("postalCode")},null),[[Xe,!s.value]]),(w=n.default)==null?void 0:w.call(n)]),p(),Ke(R("div",{class:ja("buttons")},[R(rn,{block:!0,round:!0,type:"danger",text:e.saveButtonText||It("save"),class:ja("button"),loading:e.isSaving,nativeType:"submit"},null),e.showDelete&&R(rn,{block:!0,round:!0,class:ja("button"),loading:e.isDeleting,text:e.deleteButtonText||It("delete"),onClick:f},null)]),[[Xe,!s.value]]),R(Nn,{show:i.value,"onUpdate:show":k=>i.value=k,round:!0,teleport:"body",position:"bottom",lazyRender:!1},{default:()=>[R(D1,{ref:r,value:a.areaCode,loading:!l.value,areaList:e.areaList,columnsPlaceholder:e.areaColumnsPlaceholder,onConfirm:m,onCancel:()=>{i.value=!1}},null)]})]}})}}});const E8=Te(C8),[x1,w8]=ve("radio-group"),O8={disabled:Boolean,iconSize:pe,direction:String,modelValue:gt,checkedColor:String},$1=Symbol(x1);var k8=ee({name:x1,props:O8,emits:["change","update:modelValue"],setup(e,{emit:t,slots:n}){const{linkChildren:r}=Qt($1),a=i=>t("update:modelValue",i);return oe(()=>e.modelValue,i=>t("change",i)),r({props:e,updateValue:a}),qr(()=>e.modelValue),()=>{var i;return R("div",{class:w8([e.direction]),role:"radiogroup"},[(i=n.default)==null?void 0:i.call(n)])}}});const df=Te(k8),[_8,cp]=ve("tag"),A8={size:String,mark:Boolean,show:ce,type:we("default"),color:String,plain:Boolean,round:Boolean,textColor:String,closeable:Boolean};var D8=ee({name:_8,props:A8,emits:["close"],setup(e,{slots:t,emit:n}){const r=o=>{o.stopPropagation(),n("close",o)},a=()=>e.plain?{color:e.textColor||e.color,borderColor:e.color}:{color:e.textColor,background:e.color},i=()=>{var o;const{type:l,mark:u,plain:s,round:c,size:d,closeable:v}=e,S={mark:u,plain:s,round:c};d&&(S[d]=d);const E=v&&R(We,{name:"cross",class:[cp("close"),nn],onClick:r},null);return R("span",{style:a(),class:cp([S,l])},[(o=t.default)==null?void 0:o.call(t),E])};return()=>R(gn,{name:e.closeable?"van-fade":void 0},{default:()=>[e.show?i():null]})}});const Wl=Te(D8),ff={name:gt,shape:we("round"),disabled:Boolean,iconSize:pe,modelValue:gt,checkedColor:String,labelPosition:String,labelDisabled:Boolean};var M1=ee({props:xe({},ff,{bem:xt(Function),role:String,parent:Object,checked:Boolean,bindGroup:ce}),emits:["click","toggle"],setup(e,{emit:t,slots:n}){const r=q(),a=d=>{if(e.parent&&e.bindGroup)return e.parent.props[d]},i=N(()=>a("disabled")||e.disabled),o=N(()=>a("direction")),l=N(()=>{const d=e.checkedColor||a("checkedColor");if(d&&e.checked&&!i.value)return{borderColor:d,backgroundColor:d}}),u=d=>{const{target:v}=d,S=r.value,E=S===v||(S==null?void 0:S.contains(v));!i.value&&(E||!e.labelDisabled)&&t("toggle"),t("click",d)},s=()=>{const{bem:d,shape:v,checked:S}=e,E=e.iconSize||a("iconSize");return R("div",{ref:r,class:d("icon",[v,{disabled:i.value,checked:S}]),style:{fontSize:it(E)}},[n.icon?n.icon({checked:S,disabled:i.value}):R(We,{name:"success",style:l.value},null)])},c=()=>{if(n.default)return R("span",{class:e.bem("label",[e.labelPosition,{disabled:i.value}])},[n.default()])};return()=>{const d=e.labelPosition==="left"?[c(),s()]:[s(),c()];return R("div",{role:e.role,class:e.bem([{disabled:i.value,"label-disabled":e.labelDisabled},o.value]),tabindex:i.value?void 0:0,"aria-checked":e.checked,onClick:u},[d])}}});const[P8,I8]=ve("radio");var L8=ee({name:P8,props:ff,emits:["update:modelValue"],setup(e,{emit:t,slots:n}){const{parent:r}=Xt($1),a=()=>(r?r.props.modelValue:e.modelValue)===e.name,i=()=>{r?r.updateValue(e.name):t("update:modelValue",e.name)};return()=>R(M1,Ye({bem:I8,role:"radio",parent:r,checked:a(),onToggle:i},e),mt(n,["default","icon"]))}});const hf=Te(L8),[R8,Ua]=ve("address-item");var x8=ee({name:R8,props:{address:xt(Object),disabled:Boolean,switchable:Boolean,defaultTagText:String},emits:["edit","click","select"],setup(e,{slots:t,emit:n}){const r=()=>{e.switchable&&n("select"),n("click")},a=()=>R(We,{name:"edit",class:Ua("edit"),onClick:l=>{l.stopPropagation(),n("edit"),n("click")}},null),i=()=>{if(t.tag)return t.tag(e.address);if(e.address.isDefault&&e.defaultTagText)return R(Wl,{type:"danger",round:!0,class:Ua("tag")},{default:()=>[e.defaultTagText]})},o=()=>{const{address:l,disabled:u,switchable:s}=e,c=[R("div",{class:Ua("name")},[`${l.name} ${l.tel}`,i()]),R("div",{class:Ua("address")},[l.address])];return s&&!u?R(hf,{name:l.id,iconSize:18},{default:()=>[c]}):c};return()=>{var l;const{disabled:u}=e;return R("div",{class:Ua({disabled:u}),onClick:r},[R(jn,{border:!1,valueClass:Ua("value")},{value:o,"right-icon":a}),(l=t.bottom)==null?void 0:l.call(t,xe({},e.address,{disabled:u}))])}}});const[$8,ms,M8]=ve("address-list"),F8={list:Ut(),modelValue:pe,switchable:ce,disabledText:String,disabledList:Ut(),addButtonText:String,defaultTagText:String};var B8=ee({name:$8,props:F8,emits:["add","edit","select","click-item","edit-disabled","select-disabled","update:modelValue"],setup(e,{slots:t,emit:n}){const r=(o,l,u)=>{const s=()=>n(u?"edit-disabled":"edit",o,l),c=()=>n("click-item",o,l),d=()=>{n(u?"select-disabled":"select",o,l),u||n("update:modelValue",o.id)};return R(x8,{key:o.id,address:o,disabled:u,switchable:e.switchable,defaultTagText:e.defaultTagText,onEdit:s,onClick:c,onSelect:d},{bottom:t["item-bottom"],tag:t.tag})},a=(o,l)=>{if(o)return o.map((u,s)=>r(u,s,l))},i=()=>R("div",{class:[ms("bottom"),"van-safe-area-bottom"]},[R(rn,{round:!0,block:!0,type:"danger",text:e.addButtonText||M8("add"),class:ms("add"),onClick:()=>n("add")},null)]);return()=>{var o,l;const u=a(e.list),s=a(e.disabledList,!0),c=e.disabledText&&R("div",{class:ms("disabled-text")},[e.disabledText]);return R("div",{class:ms()},[(o=t.top)==null?void 0:o.call(t),R(df,{modelValue:e.modelValue},{default:()=>[u]}),c,s,(l=t.default)==null?void 0:l.call(t),i()])}}});const N8=Te(B8),[j8,Rt,vr]=ve("calendar"),U8=e=>vr("monthTitle",e.getFullYear(),e.getMonth()+1);function Gc(e,t){const n=e.getFullYear(),r=t.getFullYear();if(n===r){const a=e.getMonth(),i=t.getMonth();return a===i?0:a>i?1:-1}return n>r?1:-1}function fn(e,t){const n=Gc(e,t);if(n===0){const r=e.getDate(),a=t.getDate();return r===a?0:r>a?1:-1}return n}const ol=e=>new Date(e),dp=e=>Array.isArray(e)?e.map(ol):ol(e);function vf(e,t){const n=ol(e);return n.setDate(n.getDate()+t),n}const Kc=e=>vf(e,-1),F1=e=>vf(e,1),Wc=()=>{const e=new Date;return e.setHours(0,0,0,0),e};function V8(e){const t=e[0].getTime();return(e[1].getTime()-t)/(1e3*60*60*24)+1}function Yl(){const e=q([]),t=[];return Hy(()=>{e.value=[]}),[e,r=>(t[r]||(t[r]=a=>{e.value[r]=a}),t[r])]}const B1=xe({},Ul,{filter:Function,columnsOrder:Array,formatter:{type:Function,default:(e,t)=>t}}),N1=Object.keys(Ul);function j1(e,t){if(e<0)return[];const n=Array(e);let r=-1;for(;++r<e;)n[r]=t(r);return n}function H8(e){if(!e)return 0;for(;Number.isNaN(parseInt(e,10));)if(e.length>1)e=e.slice(1);else return 0;return parseInt(e,10)}const Yc=(e,t)=>32-new Date(e,t-1,32).getDate(),U1=(e,t)=>{const n=["setValues","setIndexes","setColumnIndex","setColumnValue"];return new Proxy(e,{get:(r,a)=>n.includes(a)?(...i)=>{r[a](...i),t()}:r[a]})},V1=e=>{const t=q(),n=()=>{t.value=ht(e).height};return tt(()=>{Re(n),setTimeout(n,100)}),t},[z8]=ve("calendar-day");var G8=ee({name:z8,props:{item:xt(Object),color:String,index:Number,offset:Qn(0),rowHeight:String},emits:["click"],setup(e,{emit:t,slots:n}){const r=N(()=>{var u;const{item:s,index:c,color:d,offset:v,rowHeight:S}=e,E={height:S};if(s.type==="placeholder")return E.width="100%",E;if(c===0&&(E.marginLeft=`${100*v/7}%`),d)switch(s.type){case"end":case"start":case"start-end":case"multiple-middle":case"multiple-selected":E.background=d;break;case"middle":E.color=d;break}return v+(((u=s.date)==null?void 0:u.getDate())||1)>28&&(E.marginBottom=0),E}),a=()=>{e.item.type!=="disabled"&&t("click",e.item)},i=()=>{const{topInfo:u}=e.item;if(u||n["top-info"])return R("div",{class:Rt("top-info")},[n["top-info"]?n["top-info"](e.item):u])},o=()=>{const{bottomInfo:u}=e.item;if(u||n["bottom-info"])return R("div",{class:Rt("bottom-info")},[n["bottom-info"]?n["bottom-info"](e.item):u])},l=()=>{const{item:u,color:s,rowHeight:c}=e,{type:d,text:v}=u,S=[i(),v,o()];return d==="selected"?R("div",{class:Rt("selected-day"),style:{width:c,height:c,background:s}},[S]):S};return()=>{const{type:u,className:s}=e.item;return u==="placeholder"?R("div",{class:Rt("day"),style:r.value},null):R("div",{role:"gridcell",style:r.value,class:[Rt("day",u),s],tabindex:u==="disabled"?void 0:-1,onClick:a},[l()])}}});const[K8]=ve("calendar-month"),W8={date:xt(Date),type:String,color:String,minDate:xt(Date),maxDate:xt(Date),showMark:Boolean,rowHeight:pe,formatter:Function,lazyRender:Boolean,currentDate:[Date,Array],allowSameDay:Boolean,showSubtitle:Boolean,showMonthTitle:Boolean,firstDayOfWeek:Number};var Y8=ee({name:K8,props:W8,emits:["click","update-height"],setup(e,{emit:t,slots:n}){const[r,a]=mU(),i=q(),o=q(),l=V1(o),u=N(()=>U8(e.date)),s=N(()=>it(e.rowHeight)),c=N(()=>{const T=e.date.getDay();return e.firstDayOfWeek?(T+7-e.firstDayOfWeek)%7:T}),d=N(()=>Yc(e.date.getFullYear(),e.date.getMonth()+1)),v=N(()=>r.value||!e.lazyRender),S=()=>u.value,E=T=>{const O=A=>e.currentDate.some(P=>fn(P,A)===0);if(O(T)){const A=Kc(T),P=F1(T),D=O(A),I=O(P);return D&&I?"multiple-middle":D?"end":I?"start":"multiple-selected"}return""},m=T=>{const[O,A]=e.currentDate;if(!O)return"";const P=fn(T,O);if(!A)return P===0?"start":"";const D=fn(T,A);return e.allowSameDay&&P===0&&D===0?"start-end":P===0?"start":D===0?"end":P>0&&D<0?"middle":""},f=T=>{const{type:O,minDate:A,maxDate:P,currentDate:D}=e;if(fn(T,A)<0||fn(T,P)>0)return"disabled";if(D===null)return"";if(Array.isArray(D)){if(O==="multiple")return E(T);if(O==="range")return m(T)}else if(O==="single")return fn(T,D)===0?"selected":"";return""},g=T=>{if(e.type==="range"){if(T==="start"||T==="end")return vr(T);if(T==="start-end")return`${vr("start")}/${vr("end")}`}},h=()=>{if(e.showMonthTitle)return R("div",{class:Rt("month-title")},[u.value])},y=()=>{if(e.showMark&&v.value)return R("div",{class:Rt("month-mark")},[e.date.getMonth()+1])},b=N(()=>{const T=Math.ceil((d.value+c.value)/7);return Array(T).fill({type:"placeholder"})}),p=N(()=>{const T=[],O=e.date.getFullYear(),A=e.date.getMonth();for(let P=1;P<=d.value;P++){const D=new Date(O,A,P),I=f(D);let x={date:D,type:I,text:P,bottomInfo:g(I)};e.formatter&&(x=e.formatter(x)),T.push(x)}return T}),C=N(()=>p.value.filter(T=>T.type==="disabled")),w=(T,O)=>{if(i.value){const A=ht(i.value),P=b.value.length,I=(Math.ceil((O.getDate()+c.value)/7)-1)*A.height/P;rl(T,A.top+I+T.scrollTop-ht(T).top)}},k=(T,O)=>R(G8,{item:T,index:O,color:e.color,offset:c.value,rowHeight:s.value,onClick:A=>t("click",A)},mt(n,["top-info","bottom-info"])),_=()=>R("div",{ref:i,role:"grid",class:Rt("days")},[y(),(v.value?p:b).value.map(k)]);return st({getTitle:S,getHeight:()=>l.value,setVisible:a,scrollToDate:w,disabledDays:C}),()=>R("div",{class:Rt("month"),ref:o},[h(),_()])}});const[q8]=ve("calendar-header");var X8=ee({name:q8,props:{title:String,subtitle:String,showTitle:Boolean,showSubtitle:Boolean,firstDayOfWeek:Number},emits:["click-subtitle"],setup(e,{slots:t,emit:n}){const r=()=>{if(e.showTitle){const l=e.title||vr("title"),u=t.title?t.title():l;return R("div",{class:Rt("header-title")},[u])}},a=l=>n("click-subtitle",l),i=()=>{if(e.showSubtitle){const l=t.subtitle?t.subtitle():e.subtitle;return R("div",{class:Rt("header-subtitle"),onClick:a},[l])}},o=()=>{const{firstDayOfWeek:l}=e,u=vr("weekdays"),s=[...u.slice(l,7),...u.slice(0,l)];return R("div",{class:Rt("weekdays")},[s.map(c=>R("span",{class:Rt("weekday")},[c]))])};return()=>R("div",{class:Rt("header")},[r(),i(),o()])}});const Z8={show:Boolean,type:we("single"),title:String,color:String,round:ce,readonly:Boolean,poppable:ce,maxRange:Pe(null),position:we("bottom"),teleport:[String,Object],showMark:ce,showTitle:ce,formatter:Function,rowHeight:pe,confirmText:String,rangePrompt:String,lazyRender:ce,showConfirm:ce,defaultDate:[Date,Array],allowSameDay:Boolean,showSubtitle:ce,closeOnPopstate:ce,showRangePrompt:ce,confirmDisabledText:String,closeOnClickOverlay:ce,safeAreaInsetTop:Boolean,safeAreaInsetBottom:ce,minDate:{type:Date,validator:Co,default:Wc},maxDate:{type:Date,validator:Co,default:()=>{const e=Wc();return new Date(e.getFullYear(),e.getMonth()+6,e.getDate())}},firstDayOfWeek:{type:pe,default:0,validator:e=>e>=0&&e<=6}};var J8=ee({name:j8,props:Z8,emits:["select","confirm","unselect","month-show","over-range","update:show","click-subtitle"],setup(e,{emit:t,slots:n}){const r=(D,I=e.minDate,x=e.maxDate)=>fn(D,I)===-1?I:fn(D,x)===1?x:D,a=(D=e.defaultDate)=>{const{type:I,minDate:x,maxDate:L}=e;if(D===null)return D;const $=Wc();if(I==="range"){Array.isArray(D)||(D=[]);const M=r(D[0]||$,x,Kc(L)),j=r(D[1]||$,F1(x));return[M,j]}return I==="multiple"?Array.isArray(D)?D.map(M=>r(M)):[r($)]:((!D||Array.isArray(D))&&(D=$),r(D))};let i;const o=q(),l=q(""),u=q(a()),[s,c]=Yl(),d=N(()=>e.firstDayOfWeek?+e.firstDayOfWeek%7:0),v=N(()=>{const D=[],I=new Date(e.minDate);I.setDate(1);do D.push(new Date(I)),I.setMonth(I.getMonth()+1);while(Gc(I,e.maxDate)!==1);return D}),S=N(()=>{if(u.value){if(e.type==="range")return!u.value[0]||!u.value[1];if(e.type==="multiple")return!u.value.length}return!u.value}),E=()=>{const D=Ur(o.value),I=D+i,x=v.value.map((F,U)=>s.value[U].getHeight()),L=x.reduce((F,U)=>F+U,0);if(I>L&&D>0)return;let $=0,M;const j=[-1,-1];for(let F=0;F<v.value.length;F++){const U=s.value[F];$<=I&&$+x[F]>=D&&(j[1]=F,M||(M=U,j[0]=F),s.value[F].showed||(s.value[F].showed=!0,t("month-show",{date:U.date,title:U.getTitle()}))),$+=x[F]}v.value.forEach((F,U)=>{const B=U>=j[0]-1&&U<=j[1]+1;s.value[U].setVisible(B)}),M&&(l.value=M.getTitle())},m=D=>{tn(()=>{v.value.some((I,x)=>Gc(I,D)===0?(o.value&&s.value[x].scrollToDate(o.value,D),!0):!1),E()})},f=()=>{if(!(e.poppable&&!e.show))if(u.value){const D=e.type==="single"?u.value:u.value[0];m(D)}else tn(E)},g=()=>{e.poppable&&!e.show||(tn(()=>{i=Math.floor(ht(o).height)}),f())},h=(D=a())=>{u.value=D,f()},y=D=>{const{maxRange:I,rangePrompt:x,showRangePrompt:L}=e;return I&&V8(D)>I?(L&&an(x||vr("rangePrompt",I)),t("over-range"),!1):!0},b=()=>{var D;return t("confirm",(D=u.value)!=null?D:dp(u.value))},p=(D,I)=>{const x=L=>{u.value=L,t("select",dp(L))};if(I&&e.type==="range"&&!y(D)){x([D[0],vf(D[0],+e.maxRange-1)]);return}x(D),I&&!e.showConfirm&&b()},C=(D,I,x)=>{var L;return(L=D.find($=>fn(I,$.date)===-1&&fn($.date,x)===-1))==null?void 0:L.date},w=N(()=>s.value.reduce((D,I)=>{var x,L;return D.push(...(L=(x=I.disabledDays)==null?void 0:x.value)!=null?L:[]),D},[])),k=D=>{if(e.readonly||!D.date)return;const{date:I}=D,{type:x}=e;if(x==="range"){if(!u.value){p([I]);return}const[L,$]=u.value;if(L&&!$){const M=fn(I,L);if(M===1){const j=C(w.value,L,I);if(j){const F=Kc(j);fn(L,F)===-1?p([L,F]):p([I])}else p([L,I],!0)}else M===-1?p([I]):e.allowSameDay&&p([I,I],!0)}else p([I])}else if(x==="multiple"){if(!u.value){p([I]);return}const L=u.value,$=L.findIndex(M=>fn(M,I)===0);if($!==-1){const[M]=L.splice($,1);t("unselect",ol(M))}else e.maxRange&&L.length>=e.maxRange?an(e.rangePrompt||vr("rangePrompt",e.maxRange)):p([...L,I])}else p(I,!0)},_=D=>t("update:show",D),T=(D,I)=>{const x=I!==0||!e.showSubtitle;return R(Y8,Ye({ref:c(I),date:D,currentDate:u.value,showMonthTitle:x,firstDayOfWeek:d.value},mt(e,["type","color","minDate","maxDate","showMark","formatter","rowHeight","lazyRender","showSubtitle","allowSameDay"]),{onClick:k}),mt(n,["top-info","bottom-info"]))},O=()=>{if(n.footer)return n.footer();if(e.showConfirm){const D=n["confirm-text"],I=S.value,x=I?e.confirmDisabledText:e.confirmText;return R(rn,{round:!0,block:!0,type:"danger",color:e.color,class:Rt("confirm"),disabled:I,nativeType:"button",onClick:b},{default:()=>[D?D({disabled:I}):x||vr("confirm")]})}},A=()=>R("div",{class:[Rt("footer"),{"van-safe-area-bottom":e.safeAreaInsetBottom}]},[O()]),P=()=>R("div",{class:Rt()},[R(X8,{title:e.title,subtitle:l.value,showTitle:e.showTitle,showSubtitle:e.showSubtitle,firstDayOfWeek:d.value,"onClick-subtitle":D=>t("click-subtitle",D)},mt(n,["title","subtitle"])),R("div",{ref:o,class:Rt("body"),onScroll:E},[v.value.map(T)]),A()]);return oe(()=>e.show,g),oe(()=>[e.type,e.minDate,e.maxDate],()=>h(a(u.value))),oe(()=>e.defaultDate,(D=null)=>{u.value=D,f()}),st({reset:h,scrollToDate:m}),Ri(g),()=>e.poppable?R(Nn,{show:e.show,class:Rt("popup"),round:e.round,position:e.position,closeable:e.showTitle||e.showSubtitle,teleport:e.teleport,closeOnPopstate:e.closeOnPopstate,safeAreaInsetTop:e.safeAreaInsetTop,closeOnClickOverlay:e.closeOnClickOverlay,"onUpdate:show":_},{default:P}):P()}});const Q8=Te(J8),[eV,Va]=ve("image"),tV={src:String,alt:String,fit:String,position:String,round:Boolean,width:pe,height:pe,radius:pe,lazyLoad:Boolean,iconSize:pe,showError:ce,errorIcon:we("photo-fail"),iconPrefix:String,showLoading:ce,loadingIcon:we("photo")};var nV=ee({name:eV,props:tV,emits:["load","error"],setup(e,{emit:t,slots:n}){const r=q(!1),a=q(!0),i=q(),{$Lazyload:o}=Be().proxy,l=N(()=>{const m={width:it(e.width),height:it(e.height)};return rt(e.radius)&&(m.overflow="hidden",m.borderRadius=it(e.radius)),m});oe(()=>e.src,()=>{r.value=!1,a.value=!0});const u=m=>{a.value=!1,t("load",m)},s=m=>{r.value=!0,a.value=!1,t("error",m)},c=(m,f,g)=>g?g():R(We,{name:m,size:e.iconSize,class:f,classPrefix:e.iconPrefix},null),d=()=>{if(a.value&&e.showLoading)return R("div",{class:Va("loading")},[c(e.loadingIcon,Va("loading-icon"),n.loading)]);if(r.value&&e.showError)return R("div",{class:Va("error")},[c(e.errorIcon,Va("error-icon"),n.error)])},v=()=>{if(r.value||!e.src)return;const m={alt:e.alt,class:Va("img"),style:{objectFit:e.fit,objectPosition:e.position}};return e.lazyLoad?Ke(R("img",Ye({ref:i},m),null),[[rw("lazy"),e.src]]):R("img",Ye({src:e.src,onLoad:u,onError:s},m),null)},S=({el:m})=>{const f=()=>{m===i.value&&a.value&&u()};i.value?f():Re(f)},E=({el:m})=>{m===i.value&&!r.value&&s()};return o&&Kr&&(o.$on("loaded",S),o.$on("error",E),tr(()=>{o.$off("loaded",S),o.$off("error",E)})),()=>{var m;return R("div",{class:Va({round:e.round}),style:l.value},[v(),d(),(m=n.default)==null?void 0:m.call(n)])}}});const ql=Te(nV),[rV,Zt]=ve("card"),aV={tag:String,num:pe,desc:String,thumb:String,title:String,price:pe,centered:Boolean,lazyLoad:Boolean,currency:we("\xA5"),thumbLink:String,originPrice:pe};var iV=ee({name:rV,props:aV,emits:["click-thumb"],setup(e,{slots:t,emit:n}){const r=()=>{if(t.title)return t.title();if(e.title)return R("div",{class:[Zt("title"),"van-multi-ellipsis--l2"]},[e.title])},a=()=>{if(t.tag||e.tag)return R("div",{class:Zt("tag")},[t.tag?t.tag():R(Wl,{mark:!0,type:"danger"},{default:()=>[e.tag]})])},i=()=>t.thumb?t.thumb():R(ql,{src:e.thumb,fit:"cover",width:"100%",height:"100%",lazyLoad:e.lazyLoad},null),o=()=>{if(t.thumb||e.thumb)return R("a",{href:e.thumbLink,class:Zt("thumb"),onClick:s=>n("click-thumb",s)},[i(),a()])},l=()=>{if(t.desc)return t.desc();if(e.desc)return R("div",{class:[Zt("desc"),"van-ellipsis"]},[e.desc])},u=()=>{const s=e.price.toString().split(".");return R("div",null,[R("span",{class:Zt("price-currency")},[e.currency]),R("span",{class:Zt("price-integer")},[s[0]]),nt("."),R("span",{class:Zt("price-decimal")},[s[1]])])};return()=>{var s,c,d;const v=t.num||rt(e.num),S=t.price||rt(e.price),E=t["origin-price"]||rt(e.originPrice),m=v||S||E||t.bottom,f=S&&R("div",{class:Zt("price")},[t.price?t.price():u()]),g=E&&R("div",{class:Zt("origin-price")},[t["origin-price"]?t["origin-price"]():`${e.currency} ${e.originPrice}`]),h=v&&R("div",{class:Zt("num")},[t.num?t.num():`x${e.num}`]),y=t.footer&&R("div",{class:Zt("footer")},[t.footer()]),b=m&&R("div",{class:Zt("bottom")},[(s=t["price-top"])==null?void 0:s.call(t),f,g,h,(c=t.bottom)==null?void 0:c.call(t)]);return R("div",{class:Zt()},[R("div",{class:Zt("header")},[o(),R("div",{class:Zt("content",{centered:e.centered})},[R("div",null,[r(),l(),(d=t.tags)==null?void 0:d.call(t)]),b])]),y])}}});const oV=Te(iV);function sV(e,t,n){let r=0;const a=e.scrollLeft,i=n===0?1:Math.round(n*1e3/16);function o(){e.scrollLeft+=(t-a)/i,++r<i&&tn(o)}o()}function lV(e,t,n,r){let a=Ur(e);const i=a<t,o=n===0?1:Math.round(n*1e3/16),l=(t-a)/o;function u(){a+=l,(i&&a>t||!i&&a<t)&&(a=t),rl(e,a),i&&a<t||!i&&a>t?tn(u):r&&tn(r)}u()}function uV(e,t){if(!Kr||!window.IntersectionObserver)return;const n=new IntersectionObserver(i=>{t(i[0].intersectionRatio>0)},{root:document.body}),r=()=>{e.value&&n.observe(e.value)},a=()=>{e.value&&n.unobserve(e.value)};zr(a),tr(a),Ri(r)}const[cV,dV]=ve("sticky"),fV={zIndex:pe,position:we("top"),container:Object,offsetTop:Pe(0),offsetBottom:Pe(0)};var hV=ee({name:cV,props:fV,emits:["scroll","change"],setup(e,{emit:t,slots:n}){const r=q(),a=xi(r),i=Me({fixed:!1,width:0,height:0,transform:0}),o=N(()=>ef(e.position==="top"?e.offsetTop:e.offsetBottom)),l=N(()=>{const{fixed:d,height:v,width:S}=i;if(d)return{width:`${S}px`,height:`${v}px`}}),u=N(()=>{if(!i.fixed)return;const d=xe(Aa(e.zIndex),{width:`${i.width}px`,height:`${i.height}px`,[e.position]:`${o.value}px`});return i.transform&&(d.transform=`translate3d(0, ${i.transform}px, 0)`),d}),s=d=>t("scroll",{scrollTop:d,isFixed:i.fixed}),c=()=>{if(!r.value||pi(r))return;const{container:d,position:v}=e,S=ht(r),E=Ur(window);if(i.width=S.width,i.height=S.height,v==="top")if(d){const m=ht(d),f=m.bottom-o.value-i.height;i.fixed=o.value>S.top&&m.bottom>0,i.transform=f<0?f:0}else i.fixed=o.value>S.top;else{const{clientHeight:m}=document.documentElement;if(d){const f=ht(d),g=m-f.top-o.value-i.height;i.fixed=m-o.value<S.bottom&&m>f.top,i.transform=g<0?-g:0}else i.fixed=m-o.value<S.bottom}s(E)};return oe(()=>i.fixed,d=>t("change",d)),Yr("scroll",c,{target:a}),uV(r,c),()=>{var d;return R("div",{ref:r,style:l.value},[R("div",{class:dV({fixed:i.fixed}),style:u.value},[(d=n.default)==null?void 0:d.call(n)])])}}});const H1=Te(hV),[vV,fp]=ve("tab");var mV=ee({name:vV,props:{id:String,dot:Boolean,type:String,color:String,title:String,badge:pe,shrink:Boolean,isActive:Boolean,disabled:Boolean,controls:String,scrollable:Boolean,activeColor:String,inactiveColor:String,showZeroBadge:ce},setup(e,{slots:t}){const n=N(()=>{const a={},{type:i,color:o,disabled:l,isActive:u,activeColor:s,inactiveColor:c}=e;o&&i==="card"&&(a.borderColor=o,l||(u?a.backgroundColor=o:a.color=o));const v=u?s:c;return v&&(a.color=v),a}),r=()=>{const a=R("span",{class:fp("text",{ellipsis:!e.scrollable})},[t.title?t.title():e.title]);return e.dot||rt(e.badge)&&e.badge!==""?R(Pa,{dot:e.dot,content:e.badge,showZero:e.showZeroBadge},{default:()=>[a]}):a};return()=>R("div",{id:e.id,role:"tab",class:[fp([e.type,{grow:e.scrollable&&!e.shrink,shrink:e.shrink,active:e.isActive,disabled:e.disabled}])],style:n.value,tabindex:e.disabled?void 0:e.isActive?0:-1,"aria-selected":e.isActive,"aria-disabled":e.disabled||void 0,"aria-controls":e.controls},[r()])}});const[z1,gs]=ve("swipe"),gV={loop:ce,width:pe,height:pe,vertical:Boolean,autoplay:Pe(0),duration:Pe(500),touchable:ce,lazyRender:Boolean,initialSwipe:Pe(0),indicatorColor:String,showIndicators:ce,stopPropagation:ce},G1=Symbol(z1);var pV=ee({name:z1,props:gV,emits:["change"],setup(e,{emit:t,slots:n}){const r=q(),a=Me({rect:null,width:0,height:0,offset:0,active:0,swiping:!1}),i=nr(),{children:o,linkChildren:l}=Qt(G1),u=N(()=>o.length),s=N(()=>a[e.vertical?"height":"width"]),c=N(()=>e.vertical?i.deltaY.value:i.deltaX.value),d=N(()=>a.rect?(e.vertical?a.rect.height:a.rect.width)-s.value*u.value:0),v=N(()=>Math.ceil(Math.abs(d.value)/s.value)),S=N(()=>u.value*s.value),E=N(()=>(a.active+u.value)%u.value),m=N(()=>{const M=e.vertical?"vertical":"horizontal";return i.direction.value===M}),f=N(()=>{const M={transitionDuration:`${a.swiping?0:e.duration}ms`,transform:`translate${e.vertical?"Y":"X"}(${a.offset}px)`};if(s.value){const j=e.vertical?"height":"width",F=e.vertical?"width":"height";M[j]=`${S.value}px`,M[F]=e[F]?`${e[F]}px`:""}return M}),g=M=>{const{active:j}=a;return M?e.loop?Kt(j+M,-1,u.value):Kt(j+M,0,v.value):j},h=(M,j=0)=>{let F=M*s.value;e.loop||(F=Math.min(F,-d.value));let U=j-F;return e.loop||(U=Kt(U,d.value,0)),U},y=({pace:M=0,offset:j=0,emitChange:F})=>{if(u.value<=1)return;const{active:U}=a,B=g(M),K=h(B,j);if(e.loop){if(o[0]&&K!==d.value){const V=K<d.value;o[0].setOffset(V?S.value:0)}if(o[u.value-1]&&K!==0){const V=K>0;o[u.value-1].setOffset(V?-S.value:0)}}a.active=B,a.offset=K,F&&B!==U&&t("change",E.value)},b=()=>{a.swiping=!0,a.active<=-1?y({pace:u.value}):a.active>=u.value&&y({pace:-u.value})},p=()=>{b(),i.reset(),ma(()=>{a.swiping=!1,y({pace:-1,emitChange:!0})})},C=()=>{b(),i.reset(),ma(()=>{a.swiping=!1,y({pace:1,emitChange:!0})})};let w;const k=()=>clearTimeout(w),_=()=>{k(),e.autoplay>0&&u.value>1&&(w=setTimeout(()=>{C(),_()},+e.autoplay))},T=(M=+e.initialSwipe)=>{if(!r.value)return;const j=()=>{var F,U;if(!pi(r)){const B={width:r.value.offsetWidth,height:r.value.offsetHeight};a.rect=B,a.width=+((F=e.width)!=null?F:B.width),a.height=+((U=e.height)!=null?U:B.height)}u.value&&(M=Math.min(u.value-1,M)),a.active=M,a.swiping=!0,a.offset=h(M),o.forEach(B=>{B.setOffset(0)}),_()};pi(r)?Re().then(j):j()},O=()=>T(a.active);let A;const P=M=>{!e.touchable||(i.start(M),A=Date.now(),k(),b())},D=M=>{e.touchable&&a.swiping&&(i.move(M),m.value&&(Et(M,e.stopPropagation),y({offset:c.value})))},I=()=>{if(!e.touchable||!a.swiping)return;const M=Date.now()-A,j=c.value/M;if((Math.abs(j)>.25||Math.abs(c.value)>s.value/2)&&m.value){const U=e.vertical?i.offsetY.value:i.offsetX.value;let B=0;e.loop?B=U>0?c.value>0?-1:1:0:B=-Math[c.value>0?"ceil":"floor"](c.value/s.value),y({pace:B,emitChange:!0})}else c.value&&y({pace:0});a.swiping=!1,_()},x=(M,j={})=>{b(),i.reset(),ma(()=>{let F;e.loop&&M===u.value?F=a.active===0?0:M:F=M%u.value,j.immediate?ma(()=>{a.swiping=!1}):a.swiping=!1,y({pace:F-a.active,emitChange:!0})})},L=(M,j)=>{const F=j===E.value,U=F?{backgroundColor:e.indicatorColor}:void 0;return R("i",{style:U,class:gs("indicator",{active:F})},null)},$=()=>{if(n.indicator)return n.indicator({active:E.value,total:u.value});if(e.showIndicators&&u.value>1)return R("div",{class:gs("indicators",{vertical:e.vertical})},[Array(u.value).fill("").map(L)])};return st({prev:p,next:C,state:a,resize:O,swipeTo:x}),l({size:s,props:e,count:u,activeIndicator:E}),oe(()=>e.initialSwipe,M=>T(+M)),oe(u,()=>T(a.active)),oe(()=>e.autoplay,_),oe([Nl,yi],O),oe(wU(),M=>{M==="visible"?_():k()}),tt(T),Ea(()=>T(a.active)),of(()=>T(a.active)),zr(k),tr(k),()=>{var M;return R("div",{ref:r,class:gs()},[R("div",{style:f.value,class:gs("track",{vertical:e.vertical}),onTouchstart:P,onTouchmove:D,onTouchend:I,onTouchcancel:I},[(M=n.default)==null?void 0:M.call(n)]),$()])}}});const mf=Te(pV),[yV,hp]=ve("tabs");var bV=ee({name:yV,props:{count:xt(Number),inited:Boolean,animated:Boolean,duration:xt(pe),swipeable:Boolean,lazyRender:Boolean,currentIndex:xt(Number)},emits:["change"],setup(e,{emit:t,slots:n}){const r=q(),a=l=>t("change",l),i=()=>{var l;const u=(l=n.default)==null?void 0:l.call(n);return e.animated||e.swipeable?R(mf,{ref:r,loop:!1,class:hp("track"),duration:+e.duration*1e3,touchable:e.swipeable,lazyRender:e.lazyRender,showIndicators:!1,onChange:a},{default:()=>[u]}):u},o=l=>{const u=r.value;u&&u.state.active!==l&&u.swipeTo(l,{immediate:!e.inited})};return oe(()=>e.currentIndex,o),tt(()=>{o(e.currentIndex)}),()=>R("div",{class:hp("content",{animated:e.animated||e.swipeable})},[i()])}});const[K1,ps]=ve("tabs"),SV={type:we("line"),color:String,border:Boolean,sticky:Boolean,shrink:Boolean,active:Pe(0),duration:Pe(.3),animated:Boolean,ellipsis:ce,swipeable:Boolean,scrollspy:Boolean,offsetTop:Pe(0),background:String,lazyRender:ce,lineWidth:pe,lineHeight:pe,beforeChange:Function,swipeThreshold:Pe(5),titleActiveColor:String,titleInactiveColor:String},W1=Symbol(K1);var TV=ee({name:K1,props:SV,emits:["click","change","scroll","disabled","rendered","click-tab","update:active"],setup(e,{emit:t,slots:n}){let r,a,i;const o=q(),l=q(),u=q(),s=Ko(),c=xi(o),[d,v]=Yl(),{children:S,linkChildren:E}=Qt(W1),m=Me({inited:!1,position:"",lineStyle:{},currentIndex:-1}),f=N(()=>S.length>e.swipeThreshold||!e.ellipsis||e.shrink),g=N(()=>({borderColor:e.color,background:e.background})),h=(U,B)=>{var K;return(K=U.name)!=null?K:B},y=N(()=>{const U=S[m.currentIndex];if(U)return h(U,m.currentIndex)}),b=N(()=>ef(e.offsetTop)),p=N(()=>e.sticky?b.value+r:0),C=U=>{const B=l.value,K=d.value;if(!f.value||!B||!K||!K[m.currentIndex])return;const V=K[m.currentIndex].$el,X=V.offsetLeft-(B.offsetWidth-V.offsetWidth)/2;sV(B,X,U?0:+e.duration)},w=()=>{const U=m.inited;Re(()=>{const B=d.value;if(!B||!B[m.currentIndex]||e.type!=="line"||pi(o.value))return;const K=B[m.currentIndex].$el,{lineWidth:V,lineHeight:X}=e,Z=K.offsetLeft+K.offsetWidth/2,ne={width:it(V),backgroundColor:e.color,transform:`translateX(${Z}px) translateX(-50%)`};if(U&&(ne.transitionDuration=`${e.duration}s`),rt(X)){const ae=it(X);ne.height=ae,ne.borderRadius=ae}m.lineStyle=ne})},k=U=>{const B=U<m.currentIndex?-1:1;for(;U>=0&&U<S.length;){if(!S[U].disabled)return U;U+=B}},_=U=>{const B=k(U);if(!rt(B))return;const K=S[B],V=h(K,B),X=m.currentIndex!==null;m.currentIndex=B,V!==e.active&&(t("update:active",V),X&&t("change",V,K.title))},T=U=>{const B=S.find((V,X)=>h(V,X)===U),K=B?S.indexOf(B):0;_(K)},O=(U=!1)=>{if(e.scrollspy){const B=S[m.currentIndex].$el;if(B&&c.value){const K=qg(B,c.value)-p.value;a=!0,lV(c.value,K,U?0:+e.duration,()=>{a=!1})}}},A=(U,B,K)=>{const{title:V,disabled:X}=S[B],Z=h(S[B],B);X?t("disabled",Z,V):(Jr(e.beforeChange,{args:[Z],done:()=>{_(B),O()}}),t("click",Z,V),C1(U)),t("click-tab",{name:Z,title:V,event:K,disabled:X})},P=U=>{i=U.isFixed,t("scroll",U)},D=U=>{Re(()=>{T(U),O(!0)})},I=()=>{for(let U=0;U<S.length;U++){const{top:B}=ht(S[U].$el);if(B>p.value)return U===0?0:U-1}return S.length-1},x=()=>{if(e.scrollspy&&!a){const U=I();_(U)}},L=()=>S.map((U,B)=>R(mV,Ye({key:U.id,id:`${s}-${B}`,ref:v(B),type:e.type,color:e.color,style:U.titleStyle,class:U.titleClass,shrink:e.shrink,isActive:B===m.currentIndex,controls:U.id,scrollable:f.value,activeColor:e.titleActiveColor,inactiveColor:e.titleInactiveColor,onClick:K=>A(U,B,K)},mt(U,["dot","badge","title","disabled","showZeroBadge"])),{title:U.$slots.title})),$=()=>{if(e.type==="line"&&S.length)return R("div",{class:ps("line"),style:m.lineStyle},null)},M=()=>{var U,B;const{type:K,border:V}=e;return R("div",{ref:u,class:[ps("wrap"),{[jl]:K==="line"&&V}]},[R("div",{ref:l,role:"tablist",class:ps("nav",[K,{shrink:e.shrink,complete:f.value}]),style:g.value,"aria-orientation":"horizontal"},[(U=n["nav-left"])==null?void 0:U.call(n),L(),$(),(B=n["nav-right"])==null?void 0:B.call(n)])])};oe([()=>e.color,Nl],w),oe(()=>e.active,U=>{U!==y.value&&T(U)}),oe(()=>S.length,()=>{m.inited&&(T(e.active),w(),Re(()=>{C(!0)}))}),oe(()=>m.currentIndex,()=>{C(),w(),i&&!e.scrollspy&&Bl(Math.ceil(qg(o.value)-b.value))});const j=()=>{T(e.active),Re(()=>{m.inited=!0,u.value&&(r=ht(u.value).height),C(!0)})},F=(U,B)=>t("rendered",U,B);return st({resize:w,scrollTo:D}),Ea(w),of(w),Ri(j),Yr("scroll",x,{target:c}),E({id:s,props:e,setLine:w,onRendered:F,currentName:y,scrollIntoView:C}),()=>{var U;return R("div",{ref:o,class:ps([e.type])},[e.sticky?R(H1,{container:o.value,offsetTop:b.value,onScroll:P},{default:()=>{var B;return[M(),(B=n["nav-bottom"])==null?void 0:B.call(n)]}}):[M(),(U=n["nav-bottom"])==null?void 0:U.call(n)],R(bV,{count:S.length,inited:m.inited,animated:e.animated,duration:e.duration,swipeable:e.swipeable,lazyRender:e.lazyRender,currentIndex:m.currentIndex,onChange:_},{default:()=>{var B;return[(B=n.default)==null?void 0:B.call(n)]}})])}}});const Y1=Symbol(),CV=()=>et(Y1,null),[EV,wV]=ve("swipe-item");var OV=ee({name:EV,setup(e,{slots:t}){let n;const r=Me({offset:0,inited:!1,mounted:!1}),{parent:a,index:i}=Xt(G1);if(!a)return;const o=N(()=>{const s={},{vertical:c}=a.props;return a.size.value&&(s[c?"height":"width"]=`${a.size.value}px`),r.offset&&(s.transform=`translate${c?"Y":"X"}(${r.offset}px)`),s}),l=N(()=>{const{loop:s,lazyRender:c}=a.props;if(!c||n)return!0;if(!r.mounted)return!1;const d=a.activeIndicator.value,v=a.count.value-1,S=d===0&&s?v:d-1,E=d===v&&s?0:d+1;return n=i.value===d||i.value===S||i.value===E,n}),u=s=>{r.offset=s};return tt(()=>{Re(()=>{r.mounted=!0})}),st({setOffset:u}),()=>{var s;return R("div",{class:wV(),style:o.value},[l.value?(s=t.default)==null?void 0:s.call(t):null])}}});const gf=Te(OV),[kV,Fu]=ve("tab"),_V=xe({},Qr,{dot:Boolean,name:pe,badge:pe,title:String,disabled:Boolean,titleClass:gt,titleStyle:[String,Object],showZeroBadge:ce});var AV=ee({name:kV,props:_V,setup(e,{slots:t}){const n=Ko(),r=q(!1),{parent:a,index:i}=Xt(W1);if(!a)return;const o=()=>{var s;return(s=e.name)!=null?s:i.value},l=()=>{r.value=!0,a.props.lazyRender&&Re(()=>{a.onRendered(o(),e.title)})},u=N(()=>{const s=o()===a.currentName.value;return s&&!r.value&&l(),s});return oe(()=>e.title,()=>{a.setLine(),a.scrollIntoView()}),ft(Y1,u),()=>{var s;const c=`${a.id}-${i.value}`,{animated:d,swipeable:v,scrollspy:S,lazyRender:E}=a.props;if(!t.default&&!d)return;const m=S||u.value;if(d||v)return R(gf,{id:n,role:"tabpanel",class:Fu("panel-wrapper",{inactive:!u.value}),tabindex:u.value?0:-1,"aria-hidden":!u.value,"aria-labelledby":c},{default:()=>{var h;return[R("div",{class:Fu("panel")},[(h=t.default)==null?void 0:h.call(t)])]}});const g=r.value||S||!E?(s=t.default)==null?void 0:s.call(t):null;return st({id:n}),Ke(R("div",{id:n,role:"tabpanel",class:Fu("panel"),tabindex:m?0:-1,"aria-labelledby":c},[g]),[[Xe,m]])}}});const sl=Te(AV),pf=Te(TV),[DV,lr,PV]=ve("cascader"),IV={title:String,options:Ut(),closeable:ce,swipeable:ce,closeIcon:we("cross"),showHeader:ce,modelValue:pe,fieldNames:Object,placeholder:String,activeColor:String};var LV=ee({name:DV,props:IV,emits:["close","change","finish","click-tab","update:modelValue"],setup(e,{slots:t,emit:n}){const r=q([]),a=q(0),{text:i,value:o,children:l}=xe({text:"text",value:"value",children:"children"},e.fieldNames),u=(h,y)=>{for(const b of h){if(b[o]===y)return[b];if(b[l]){const p=u(b[l],y);if(p)return[b,...p]}}},s=()=>{const{options:h,modelValue:y}=e;if(y!==void 0){const b=u(h,y);if(b){let p=h;r.value=b.map(C=>{const w={options:p,selected:C},k=p.find(_=>_[o]===C[o]);return k&&(p=k[l]),w}),p&&r.value.push({options:p,selected:null}),Re(()=>{a.value=r.value.length-1});return}}r.value=[{options:h,selected:null}]},c=(h,y)=>{if(h.disabled)return;if(r.value[y].selected=h,r.value.length>y+1&&(r.value=r.value.slice(0,y+1)),h[l]){const C={options:h[l],selected:null};r.value[y+1]?r.value[y+1]=C:r.value.push(C),Re(()=>{a.value++})}const b=r.value.map(C=>C.selected).filter(Boolean);n("update:modelValue",h[o]);const p={value:h[o],tabIndex:y,selectedOptions:b};n("change",p),h[l]||n("finish",p)},d=()=>n("close"),v=({name:h,title:y})=>n("click-tab",h,y),S=()=>e.showHeader?R("div",{class:lr("header")},[R("h2",{class:lr("title")},[t.title?t.title():e.title]),e.closeable?R(We,{name:e.closeIcon,class:[lr("close-icon"),nn],onClick:d},null):null]):null,E=(h,y,b)=>{const{disabled:p}=h,C=!!(y&&h[o]===y[o]),w=h.color||(C?e.activeColor:void 0),k=t.option?t.option({option:h,selected:C}):R("span",null,[h[i]]);return R("li",{role:"menuitemradio",class:[lr("option",{selected:C,disabled:p}),h.className],style:{color:w},tabindex:p?void 0:C?0:-1,"aria-checked":C,"aria-disabled":p||void 0,onClick:()=>c(h,b)},[k,C?R(We,{name:"success",class:lr("selected-icon")},null):null])},m=(h,y,b)=>R("ul",{role:"menu",class:lr("options")},[h.map(p=>E(p,y,b))]),f=(h,y)=>{const{options:b,selected:p}=h,C=e.placeholder||PV("select"),w=p?p[i]:C;return R(sl,{title:w,titleClass:lr("tab",{unselected:!p})},{default:()=>{var k,_;return[(k=t["options-top"])==null?void 0:k.call(t,{tabIndex:y}),m(b,p,y),(_=t["options-bottom"])==null?void 0:_.call(t,{tabIndex:y})]}})},g=()=>R(pf,{active:a.value,"onUpdate:active":h=>a.value=h,shrink:!0,animated:!0,class:lr("tabs"),color:e.activeColor,swipeable:e.swipeable,"onClick-tab":v},{default:()=>[r.value.map(f)]});return s(),oe(()=>e.options,s,{deep:!0}),oe(()=>e.modelValue,h=>{h!==void 0&&r.value.map(b=>{var p;return(p=b.selected)==null?void 0:p[o]}).includes(h)||s()}),()=>R("div",{class:lr()},[S(),g()])}});const RV=Te(LV),[xV,vp]=ve("cell-group"),$V={title:String,inset:Boolean,border:ce};var MV=ee({name:xV,inheritAttrs:!1,props:$V,setup(e,{slots:t,attrs:n}){const r=()=>{var i;return R("div",Ye({class:[vp({inset:e.inset}),{[jl]:e.border&&!e.inset}]},n),[(i=t.default)==null?void 0:i.call(t)])},a=()=>R("div",{class:vp("title",{inset:e.inset})},[t.title?t.title():e.title]);return()=>e.title||t.title?R(Ce,null,[a(),r()]):r()}});const FV=Te(MV),[q1,BV]=ve("checkbox-group"),NV={max:pe,disabled:Boolean,iconSize:pe,direction:String,modelValue:Ut(),checkedColor:String},X1=Symbol(q1);var jV=ee({name:q1,props:NV,emits:["change","update:modelValue"],setup(e,{emit:t,slots:n}){const{children:r,linkChildren:a}=Qt(X1),i=l=>t("update:modelValue",l),o=(l={})=>{typeof l=="boolean"&&(l={checked:l});const{checked:u,skipDisabled:s}=l,d=r.filter(v=>v.props.bindGroup?v.props.disabled&&s?v.checked.value:u!=null?u:!v.checked.value:!1).map(v=>v.name);i(d)};return oe(()=>e.modelValue,l=>t("change",l)),st({toggleAll:o}),qr(()=>e.modelValue),a({props:e,updateValue:i}),()=>{var l;return R("div",{class:BV([e.direction])},[(l=n.default)==null?void 0:l.call(n)])}}});const[UV,VV]=ve("checkbox"),HV=xe({},ff,{bindGroup:ce});var zV=ee({name:UV,props:HV,emits:["change","update:modelValue"],setup(e,{emit:t,slots:n}){const{parent:r}=Xt(X1),a=l=>{const{name:u}=e,{max:s,modelValue:c}=r.props,d=c.slice();if(l)!(s&&d.length>=s)&&!d.includes(u)&&(d.push(u),e.bindGroup&&r.updateValue(d));else{const v=d.indexOf(u);v!==-1&&(d.splice(v,1),e.bindGroup&&r.updateValue(d))}},i=N(()=>r&&e.bindGroup?r.props.modelValue.indexOf(e.name)!==-1:!!e.modelValue),o=(l=!i.value)=>{r&&e.bindGroup?a(l):t("update:modelValue",l)};return oe(()=>e.modelValue,l=>t("change",l)),st({toggle:o,props:e,checked:i}),qr(()=>e.modelValue),()=>R(M1,Ye({bem:VV,role:"checkbox",parent:r,checked:i.value,onToggle:o},e),mt(n,["default","icon"]))}});const Z1=Te(zV),GV=Te(jV),[KV,ys]=ve("circle");let WV=0;const mp=e=>Math.min(Math.max(+e,0),100);function YV(e,t){const n=e?1:0;return`M ${t/2} ${t/2} m 0, -500 a 500, 500 0 1, ${n} 0, 1000 a 500, 500 0 1, ${n} 0, -1000`}const qV={text:String,size:pe,fill:we("none"),rate:Pe(100),speed:Pe(0),color:[String,Object],clockwise:ce,layerColor:String,currentRate:Qn(0),strokeWidth:Pe(40),strokeLinecap:String,startPosition:we("top")};var XV=ee({name:KV,props:qV,emits:["update:currentRate"],setup(e,{emit:t,slots:n}){const r=`van-circle-${WV++}`,a=N(()=>+e.strokeWidth+1e3),i=N(()=>YV(e.clockwise,a.value)),o=N(()=>{const v={top:0,right:90,bottom:180,left:270}[e.startPosition];if(v)return{transform:`rotate(${v}deg)`}});oe(()=>e.rate,d=>{let v;const S=Date.now(),E=e.currentRate,m=mp(d),f=Math.abs((E-m)*1e3/+e.speed),g=()=>{const h=Date.now(),b=Math.min((h-S)/f,1)*(m-E)+E;t("update:currentRate",mp(parseFloat(b.toFixed(1)))),(m>E?b<m:b>m)&&(v=tn(g))};e.speed?(v&&o1(v),v=tn(g)):t("update:currentRate",m)},{immediate:!0});const l=()=>{const{strokeWidth:v,currentRate:S,strokeLinecap:E}=e,m=3140*S/100,f=wn(e.color)?`url(#${r})`:e.color,g={stroke:f,strokeWidth:`${+v+1}px`,strokeLinecap:E,strokeDasharray:`${m}px ${3140}px`};return R("path",{d:i.value,style:g,class:ys("hover"),stroke:f},null)},u=()=>{const d={fill:e.fill,stroke:e.layerColor,strokeWidth:`${e.strokeWidth}px`};return R("path",{class:ys("layer"),style:d,d:i.value},null)},s=()=>{const{color:d}=e;if(!wn(d))return;const v=Object.keys(d).sort((S,E)=>parseFloat(S)-parseFloat(E)).map((S,E)=>R("stop",{key:E,offset:S,"stop-color":d[S]},null));return R("defs",null,[R("linearGradient",{id:r,x1:"100%",y1:"0%",x2:"0%",y2:"0%"},[v])])},c=()=>{if(n.default)return n.default();if(e.text)return R("div",{class:ys("text")},[e.text])};return()=>R("div",{class:ys(),style:Xr(e.size)},[R("svg",{viewBox:`0 0 ${a.value} ${a.value}`,style:o.value},[s(),u(),l()]),c()])}});const ZV=Te(XV),[J1,JV]=ve("row"),Q1=Symbol(J1),QV={tag:we("div"),wrap:ce,align:String,gutter:Pe(0),justify:String};var e6=ee({name:J1,props:QV,setup(e,{slots:t}){const{children:n,linkChildren:r}=Qt(Q1),a=N(()=>{const o=[[]];let l=0;return n.forEach((u,s)=>{l+=Number(u.span),l>24?(o.push([s]),l-=24):o[o.length-1].push(s)}),o}),i=N(()=>{const o=Number(e.gutter),l=[];return o&&a.value.forEach(u=>{const s=o*(u.length-1)/u.length;u.forEach((c,d)=>{if(d===0)l.push({right:s});else{const v=o-l[c-1].right,S=s-v;l.push({left:v,right:S})}})}),l});return r({spaces:i}),()=>{const{tag:o,wrap:l,align:u,justify:s}=e;return R(o,{class:JV({[`align-${u}`]:u,[`justify-${s}`]:s,nowrap:!l})},{default:()=>{var c;return[(c=t.default)==null?void 0:c.call(t)]}})}}});const[t6,n6]=ve("col"),r6={tag:we("div"),span:Pe(0),offset:pe};var a6=ee({name:t6,props:r6,setup(e,{slots:t}){const{parent:n,index:r}=Xt(Q1),a=N(()=>{if(!n)return;const{spaces:i}=n;if(i&&i.value&&i.value[r.value]){const{left:o,right:l}=i.value[r.value];return{paddingLeft:o?`${o}px`:null,paddingRight:l?`${l}px`:null}}});return()=>{const{tag:i,span:o,offset:l}=e;return R(i,{style:a.value,class:n6({[o]:o,[`offset-${l}`]:l})},{default:()=>{var u;return[(u=t.default)==null?void 0:u.call(t)]}})}}});const i6=Te(a6),[eT,o6]=ve("collapse"),tT=Symbol(eT),s6={border:ce,accordion:Boolean,modelValue:{type:[String,Number,Array],default:""}};var l6=ee({name:eT,props:s6,emits:["change","update:modelValue"],setup(e,{emit:t,slots:n}){const{linkChildren:r}=Qt(tT),a=l=>{t("change",l),t("update:modelValue",l)};return r({toggle:(l,u)=>{const{accordion:s,modelValue:c}=e;a(s?l===c?"":l:u?c.concat(l):c.filter(d=>d!==l))},isExpanded:l=>{const{accordion:u,modelValue:s}=e;return u?s===l:s.includes(l)}}),()=>{var l;return R("div",{class:[o6(),{[jl]:e.border}]},[(l=n.default)==null?void 0:l.call(n)])}}});const u6=Te(l6),[c6,bs]=ve("collapse-item"),d6=["icon","title","value","label","right-icon"],f6=xe({},Hl,{name:pe,isLink:ce,disabled:Boolean,readonly:Boolean,lazyRender:ce});var h6=ee({name:c6,props:f6,setup(e,{slots:t}){const n=q(),r=q(),{parent:a,index:i}=Xt(tT);if(!a)return;const o=N(()=>{var m;return(m=e.name)!=null?m:i.value}),l=N(()=>a.isExpanded(o.value)),u=q(l.value),s=af(()=>u.value||!e.lazyRender),c=()=>{l.value?n.value&&(n.value.style.height=""):u.value=!1};oe(l,(m,f)=>{if(f===null)return;m&&(u.value=!0),(m?Re:tn)(()=>{if(!r.value||!n.value)return;const{offsetHeight:h}=r.value;if(h){const y=`${h}px`;n.value.style.height=m?"0":y,ma(()=>{n.value&&(n.value.style.height=m?y:"0")})}else c()})});const d=(m=!l.value)=>{a.toggle(o.value,m)},v=()=>{!e.disabled&&!e.readonly&&d()},S=()=>{const{border:m,disabled:f,readonly:g}=e,h=mt(e,Object.keys(Hl));return g&&(h.isLink=!1),(f||g)&&(h.clickable=!1),R(jn,Ye({role:"button",class:bs("title",{disabled:f,expanded:l.value,borderless:!m}),"aria-expanded":String(l.value),onClick:v},h),mt(t,d6))},E=s(()=>{var m;return Ke(R("div",{ref:n,class:bs("wrapper"),onTransitionend:c},[R("div",{ref:r,class:bs("content")},[(m=t.default)==null?void 0:m.call(t)])]),[[Xe,u.value]])});return st({toggle:d}),()=>R("div",{class:[bs({border:i.value&&e.border})]},[S(),E()])}});const v6=Te(h6),m6=Te(qU),[g6,gp,Bu]=ve("contact-card"),p6={tel:String,name:String,type:we("add"),addText:String,editable:ce};var y6=ee({name:g6,props:p6,emits:["click"],setup(e,{emit:t}){const n=a=>{e.editable&&t("click",a)},r=()=>e.type==="add"?e.addText||Bu("addContact"):[R("div",null,[`${Bu("name")}\uFF1A${e.name}`]),R("div",null,[`${Bu("tel")}\uFF1A${e.tel}`])];return()=>R(jn,{center:!0,icon:e.type==="edit"?"contact":"add-square",class:gp([e.type]),border:!1,isLink:e.editable,valueClass:gp("value"),onClick:n},{value:r})}});const b6=Te(y6),[S6,Ha,_r]=ve("contact-edit"),qc={tel:"",name:""},T6={isEdit:Boolean,isSaving:Boolean,isDeleting:Boolean,showSetDefault:Boolean,setDefaultLabel:String,contactInfo:{type:Object,default:()=>xe({},qc)},telValidator:{type:Function,default:c1}};var C6=ee({name:S6,props:T6,emits:["save","delete","change-default"],setup(e,{emit:t}){const n=Me(xe({},qc,e.contactInfo)),r=()=>{e.isSaving||t("save",n)},a=()=>t("delete",n),i=()=>R("div",{class:Ha("buttons")},[R(rn,{block:!0,round:!0,type:"danger",text:_r("save"),class:Ha("button"),loading:e.isSaving,nativeType:"submit"},null),e.isEdit&&R(rn,{block:!0,round:!0,text:_r("delete"),class:Ha("button"),loading:e.isDeleting,onClick:a},null)]),o=()=>R(cf,{modelValue:n.isDefault,"onUpdate:modelValue":u=>n.isDefault=u,size:24,onChange:u=>t("change-default",u)},null),l=()=>{if(e.showSetDefault)return R(jn,{title:e.setDefaultLabel,class:Ha("switch-cell"),border:!1},{"right-icon":o})};return oe(()=>e.contactInfo,u=>xe(n,qc,u)),()=>R(sf,{class:Ha(),onSubmit:r},{default:()=>[R("div",{class:Ha("fields")},[R(Jn,{modelValue:n.name,"onUpdate:modelValue":u=>n.name=u,clearable:!0,label:_r("name"),rules:[{required:!0,message:_r("nameEmpty")}],maxlength:"30",placeholder:_r("name")},null),R(Jn,{modelValue:n.tel,"onUpdate:modelValue":u=>n.tel=u,clearable:!0,type:"tel",label:_r("tel"),rules:[{validator:e.telValidator,message:_r("telInvalid")}],placeholder:_r("tel")},null)]),l(),i()]})}});const E6=Te(C6),[w6,ur,O6]=ve("contact-list"),k6={list:Array,addText:String,modelValue:gt,defaultTagText:String};var _6=ee({name:w6,props:k6,emits:["add","edit","select","update:modelValue"],setup(e,{emit:t}){const n=(r,a)=>{const i=()=>{t("update:modelValue",r.id),t("select",r,a)},o=()=>R(hf,{class:ur("radio"),name:r.id,iconSize:16},null),l=()=>R(We,{name:"edit",class:ur("edit"),onClick:s=>{s.stopPropagation(),t("edit",r,a)}},null),u=()=>{const s=[`${r.name}\uFF0C${r.tel}`];return r.isDefault&&e.defaultTagText&&s.push(R(Wl,{type:"danger",round:!0,class:ur("item-tag")},{default:()=>[e.defaultTagText]})),s};return R(jn,{key:r.id,isLink:!0,center:!0,class:ur("item"),valueClass:ur("item-value"),onClick:i},{icon:l,value:u,"right-icon":o})};return()=>R("div",{class:ur()},[R(df,{modelValue:e.modelValue,class:ur("group")},{default:()=>[e.list&&e.list.map(n)]}),R("div",{class:[ur("bottom"),"van-safe-area-bottom"]},[R(rn,{round:!0,block:!0,type:"danger",class:ur("add"),text:e.addText||O6("addContact"),onClick:()=>t("add")},null)])])}});const A6=Te(_6);function D6(e,t){const{days:n}=t;let{hours:r,minutes:a,seconds:i,milliseconds:o}=t;if(e.includes("DD")?e=e.replace("DD",Gt(n)):r+=n*24,e.includes("HH")?e=e.replace("HH",Gt(r)):a+=r*60,e.includes("mm")?e=e.replace("mm",Gt(a)):i+=a*60,e.includes("ss")?e=e.replace("ss",Gt(i)):o+=i*1e3,e.includes("S")){const l=Gt(o,3);e.includes("SSS")?e=e.replace("SSS",l):e.includes("SS")?e=e.replace("SS",l.slice(0,2)):e=e.replace("S",l.charAt(0))}return e}const[P6,I6]=ve("count-down"),L6={time:Pe(0),format:we("HH:mm:ss"),autoStart:ce,millisecond:Boolean};var R6=ee({name:P6,props:L6,emits:["change","finish"],setup(e,{emit:t,slots:n}){const{start:r,pause:a,reset:i,current:o}=SU({time:+e.time,millisecond:e.millisecond,onChange:s=>t("change",s),onFinish:()=>t("finish")}),l=N(()=>D6(e.format,o.value)),u=()=>{i(+e.time),e.autoStart&&r()};return oe(()=>e.time,u,{immediate:!0}),st({start:r,pause:a,reset:u}),()=>R("div",{role:"timer",class:I6()},[n.default?n.default(o.value):l.value])}});const x6=Te(R6);function pp(e){const t=new Date(e*1e3);return`${t.getFullYear()}.${Gt(t.getMonth()+1)}.${Gt(t.getDate())}`}const $6=e=>(e/10).toFixed(e%10===0?0:1),yp=e=>(e/100).toFixed(e%100===0?0:e%10===0?1:2),[M6,Kn,Nu]=ve("coupon");var F6=ee({name:M6,props:{chosen:Boolean,coupon:xt(Object),disabled:Boolean,currency:we("\xA5")},setup(e){const t=N(()=>{const{startAt:a,endAt:i}=e.coupon;return`${pp(a)} - ${pp(i)}`}),n=N(()=>{const{coupon:a,currency:i}=e;if(a.valueDesc)return[a.valueDesc,R("span",null,[a.unitDesc||""])];if(a.denominations){const o=yp(a.denominations);return[R("span",null,[i]),` ${o}`]}return a.discount?Nu("discount",$6(a.discount)):""}),r=N(()=>{const a=yp(e.coupon.originCondition||0);return a==="0"?Nu("unlimited"):Nu("condition",a)});return()=>{const{chosen:a,coupon:i,disabled:o}=e,l=o&&i.reason||i.description;return R("div",{class:Kn({disabled:o})},[R("div",{class:Kn("content")},[R("div",{class:Kn("head")},[R("h2",{class:Kn("amount")},[n.value]),R("p",{class:Kn("condition")},[i.condition||r.value])]),R("div",{class:Kn("body")},[R("p",{class:Kn("name")},[i.name]),R("p",{class:Kn("valid")},[t.value]),!o&&R(Z1,{class:Kn("corner"),modelValue:a},null)])]),l&&R("p",{class:Kn("description")},[l])])}}});const Xc=Te(F6),[B6,bp,Zc]=ve("coupon-cell"),N6={title:String,border:ce,editable:ce,coupons:Ut(),currency:we("\xA5"),chosenCoupon:Pe(-1)};function j6({coupons:e,chosenCoupon:t,currency:n}){const r=e[+t];if(r){let a=0;return rt(r.value)?{value:a}=r:rt(r.denominations)&&(a=r.denominations),`-${n} ${(a/100).toFixed(2)}`}return e.length===0?Zc("noCoupon"):Zc("count",e.length)}var U6=ee({name:B6,props:N6,setup(e){return()=>{const t=e.coupons[+e.chosenCoupon];return R(jn,{class:bp(),value:j6(e),title:e.title||Zc("title"),border:e.border,isLink:e.editable,valueClass:bp("value",{selected:t})},null)}}});const V6=Te(U6),Sn="van-empty-network-",Ar=(e,t,n)=>R("stop",{"stop-color":e,offset:`${t}%`,"stop-opacity":n},null),H6=R("svg",{viewBox:"0 0 160 160"},[R("defs",null,[R("linearGradient",{id:`${Sn}1`,x1:"64%",y1:"100%",x2:"64%"},[Ar("#FFF",0,.5),Ar("#F2F3F5",100)]),R("linearGradient",{id:`${Sn}2`,x1:"50%",x2:"50%",y2:"84%"},[Ar("#EBEDF0",0),Ar("#DCDEE0",100,0)]),R("linearGradient",{id:`${Sn}3`,x1:"100%",x2:"100%",y2:"100%"},[Ar("#EAEDF0",0),Ar("#DCDEE0",100)]),R("radialGradient",{id:`${Sn}4`,cx:"50%",cy:"0%",fx:"50%",fy:"0%",r:"100%",gradientTransform:"matrix(0 1 -.54 0 .5 -.5)"},[Ar("#EBEDF0",0),Ar("#FFF",100,0)])]),R("g",{fill:"none"},[R("g",{opacity:".8"},[R("path",{d:"M36 131V53H16v20H2v58h34z",fill:`url(#${Sn}1)`},null),R("path",{d:"M123 15h22v14h9v77h-31V15z",fill:`url(#${Sn}1)`},null)]),R("path",{fill:`url(#${Sn}4)`,d:"M0 139h160v21H0z"},null),R("path",{d:"M80 54a7 7 0 0 1 3 13v27l-2 2h-2a2 2 0 0 1-2-2V67a7 7 0 0 1 3-13z",fill:`url(#${Sn}2)`},null),R("g",{opacity:".6","stroke-linecap":"round","stroke-width":"7"},[R("path",{d:"M64 47a19 19 0 0 0-5 13c0 5 2 10 5 13",stroke:`url(#${Sn}3)`},null),R("path",{d:"M53 36a34 34 0 0 0 0 48",stroke:`url(#${Sn}3)`},null),R("path",{d:"M95 73a19 19 0 0 0 6-13c0-5-2-9-6-13",stroke:`url(#${Sn}3)`},null),R("path",{d:"M106 84a34 34 0 0 0 0-48",stroke:`url(#${Sn}3)`},null)]),R("g",{transform:"translate(31 105)"},[R("rect",{fill:"#EBEDF0",width:"98",height:"34",rx:"2"},null),R("rect",{fill:"#FFF",x:"9",y:"8",width:"80",height:"18",rx:"1.1"},null),R("rect",{fill:"#EBEDF0",x:"15",y:"12",width:"18",height:"6",rx:"1.1"},null)])])]),[z6,Ss]=ve("empty"),G6=["error","search","default"],K6={image:we("default"),imageSize:[Number,String,Array],description:String};var W6=ee({name:z6,props:K6,setup(e,{slots:t}){const n=()=>{if(t.image)return t.image();let{image:i}=e;return i==="network"?H6:(G6.includes(i)&&(i=`https://img.yzcdn.cn/vant/empty-image-${i}.png`),R("img",{src:i},null))},r=()=>{const i=t.description?t.description():e.description;if(i)return R("p",{class:Ss("description")},[i])},a=()=>{if(t.default)return R("div",{class:Ss("bottom")},[t.default()])};return()=>R("div",{class:Ss()},[R("div",{class:Ss("image"),style:Xr(e.imageSize)},[n()]),r(),a()])}});const nT=Te(W6),[Y6,Wn,za]=ve("coupon-list"),q6={code:we(""),coupons:Ut(),currency:we("\xA5"),showCount:ce,emptyImage:String,chosenCoupon:Qn(-1),enabledTitle:String,disabledTitle:String,disabledCoupons:Ut(),showExchangeBar:ce,showCloseButton:ce,closeButtonText:String,inputPlaceholder:String,exchangeMinLength:Qn(1),exchangeButtonText:String,displayedCouponIndex:Qn(-1),exchangeButtonLoading:Boolean,exchangeButtonDisabled:Boolean};var X6=ee({name:Y6,props:q6,emits:["change","exchange","update:code"],setup(e,{emit:t,slots:n}){const[r,a]=Yl(),i=q(),o=q(),l=q(0),u=q(0),s=q(e.code),c=N(()=>!e.exchangeButtonLoading&&(e.exchangeButtonDisabled||!s.value||s.value.length<e.exchangeMinLength)),d=()=>{const y=ht(i).height,b=ht(o).height+44;u.value=(y>b?y:yi.value)-b},v=()=>{t("exchange",s.value),e.code||(s.value="")},S=h=>{Re(()=>{var y;return(y=r.value[h])==null?void 0:y.scrollIntoView()})},E=()=>R(nT,{image:e.emptyImage},{default:()=>[R("p",{class:Wn("empty-tip")},[za("noCoupon")])]}),m=()=>{if(e.showExchangeBar)return R("div",{ref:o,class:Wn("exchange-bar")},[R(Jn,{modelValue:s.value,"onUpdate:modelValue":h=>s.value=h,clearable:!0,border:!1,class:Wn("field"),placeholder:e.inputPlaceholder||za("placeholder"),maxlength:"20"},null),R(rn,{plain:!0,type:"danger",class:Wn("exchange"),text:e.exchangeButtonText||za("exchange"),loading:e.exchangeButtonLoading,disabled:c.value,onClick:v},null)])},f=()=>{const{coupons:h}=e,y=e.showCount?` (${h.length})`:"",b=(e.enabledTitle||za("enable"))+y;return R(sl,{title:b},{default:()=>{var p;return[R("div",{class:Wn("list",{"with-bottom":e.showCloseButton}),style:{height:`${u.value}px`}},[h.map((C,w)=>R(Xc,{key:C.id,ref:a(w),coupon:C,chosen:w===e.chosenCoupon,currency:e.currency,onClick:()=>t("change",w)},null)),!h.length&&E(),(p=n["list-footer"])==null?void 0:p.call(n)])]}})},g=()=>{const{disabledCoupons:h}=e,y=e.showCount?` (${h.length})`:"",b=(e.disabledTitle||za("disabled"))+y;return R(sl,{title:b},{default:()=>{var p;return[R("div",{class:Wn("list",{"with-bottom":e.showCloseButton}),style:{height:`${u.value}px`}},[h.map(C=>R(Xc,{disabled:!0,key:C.id,coupon:C,currency:e.currency},null)),!h.length&&E(),(p=n["disabled-list-footer"])==null?void 0:p.call(n)])]}})};return oe(()=>e.code,h=>{s.value=h}),oe(yi,d),oe(s,h=>t("update:code",h)),oe(()=>e.displayedCouponIndex,S),tt(()=>{d(),S(e.displayedCouponIndex)}),()=>R("div",{ref:i,class:Wn()},[m(),R(pf,{active:l.value,"onUpdate:active":h=>l.value=h,class:Wn("tab")},{default:()=>[f(),g()]}),R("div",{class:Wn("bottom")},[Ke(R(rn,{round:!0,block:!0,type:"danger",class:Wn("close"),text:e.closeButtonText||za("close"),onClick:()=>t("change",-1)},null),[[Xe,e.showCloseButton]])])])}});const Z6=Te(X6),[J6]=ve("time-picker");var yf=ee({name:J6,props:xe({},B1,{minHour:Pe(0),maxHour:Pe(23),minMinute:Pe(0),maxMinute:Pe(59),modelValue:String}),emits:["confirm","cancel","change","update:modelValue"],setup(e,{emit:t,slots:n}){const r=E=>{const{minHour:m,maxHour:f,maxMinute:g,minMinute:h}=e;E||(E=`${Gt(m)}:${Gt(h)}`);let[y,b]=E.split(":");return y=Gt(Kt(+y,+m,+f)),b=Gt(Kt(+b,+h,+g)),`${y}:${b}`},a=q(),i=q(r(e.modelValue)),o=N(()=>[{type:"hour",range:[+e.minHour,+e.maxHour]},{type:"minute",range:[+e.minMinute,+e.maxMinute]}]),l=N(()=>o.value.map(({type:E,range:m})=>{let f=j1(m[1]-m[0]+1,g=>Gt(m[0]+g));return e.filter&&(f=e.filter(E,f)),{type:E,values:f}})),u=N(()=>l.value.map(E=>({values:E.values.map(m=>e.formatter(E.type,m))}))),s=()=>{const E=i.value.split(":"),m=[e.formatter("hour",E[0]),e.formatter("minute",E[1])];Re(()=>{var f;(f=a.value)==null||f.setValues(m)})},c=()=>{const[E,m]=a.value.getIndexes(),[f,g]=l.value,h=f.values[E]||f.values[0],y=g.values[m]||g.values[0];i.value=r(`${h}:${y}`),s()},d=()=>t("confirm",i.value),v=()=>t("cancel"),S=()=>{c(),Re(()=>{Re(()=>t("change",i.value))})};return tt(()=>{s(),Re(c)}),oe(u,s),oe(()=>[e.filter,e.maxHour,e.minMinute,e.maxMinute],c),oe(()=>e.minHour,()=>{Re(c)}),oe(i,E=>t("update:modelValue",E)),oe(()=>e.modelValue,E=>{E=r(E),E!==i.value&&(i.value=E,s())}),st({getPicker:()=>a.value&&U1(a.value,c)}),()=>R(Vl,Ye({ref:a,columns:u.value,onChange:S,onCancel:v,onConfirm:d},mt(e,N1)),n)}});const Sp=new Date().getFullYear(),[Q6]=ve("date-picker");var bf=ee({name:Q6,props:xe({},B1,{type:we("datetime"),modelValue:Date,minDate:{type:Date,default:()=>new Date(Sp-10,0,1),validator:Co},maxDate:{type:Date,default:()=>new Date(Sp+10,11,31),validator:Co}}),emits:["confirm","cancel","change","update:modelValue"],setup(e,{emit:t,slots:n}){const r=m=>{if(Co(m)){const f=Kt(m.getTime(),e.minDate.getTime(),e.maxDate.getTime());return new Date(f)}},a=q(),i=q(r(e.modelValue)),o=(m,f)=>{const g=e[`${m}Date`],h=g.getFullYear();let y=1,b=1,p=0,C=0;return m==="max"&&(y=12,b=Yc(f.getFullYear(),f.getMonth()+1),p=23,C=59),f.getFullYear()===h&&(y=g.getMonth()+1,f.getMonth()+1===y&&(b=g.getDate(),f.getDate()===b&&(p=g.getHours(),f.getHours()===p&&(C=g.getMinutes())))),{[`${m}Year`]:h,[`${m}Month`]:y,[`${m}Date`]:b,[`${m}Hour`]:p,[`${m}Minute`]:C}},l=N(()=>{const{maxYear:m,maxDate:f,maxMonth:g,maxHour:h,maxMinute:y}=o("max",i.value||e.minDate),{minYear:b,minDate:p,minMonth:C,minHour:w,minMinute:k}=o("min",i.value||e.minDate);let _=[{type:"year",range:[b,m]},{type:"month",range:[C,g]},{type:"day",range:[p,f]},{type:"hour",range:[w,h]},{type:"minute",range:[k,y]}];switch(e.type){case"date":_=_.slice(0,3);break;case"year-month":_=_.slice(0,2);break;case"month-day":_=_.slice(1,3);break;case"datehour":_=_.slice(0,4);break}if(e.columnsOrder){const T=e.columnsOrder.concat(_.map(O=>O.type));_.sort((O,A)=>T.indexOf(O.type)-T.indexOf(A.type))}return _}),u=N(()=>l.value.map(({type:m,range:f})=>{let g=j1(f[1]-f[0]+1,h=>Gt(f[0]+h));return e.filter&&(g=e.filter(m,g)),{type:m,values:g}})),s=N(()=>u.value.map(m=>({values:m.values.map(f=>e.formatter(m.type,f))}))),c=()=>{const m=i.value||e.minDate,{formatter:f}=e,g=u.value.map(h=>{switch(h.type){case"year":return f("year",`${m.getFullYear()}`);case"month":return f("month",Gt(m.getMonth()+1));case"day":return f("day",Gt(m.getDate()));case"hour":return f("hour",Gt(m.getHours()));case"minute":return f("minute",Gt(m.getMinutes()));default:return""}});Re(()=>{var h;(h=a.value)==null||h.setValues(g)})},d=()=>{const{type:m}=e,f=a.value.getIndexes(),g=_=>{let T=0;u.value.forEach((A,P)=>{_===A.type&&(T=P)});const{values:O}=u.value[T];return H8(O[f[T]])};let h,y,b;m==="month-day"?(h=(i.value||e.minDate).getFullYear(),y=g("month"),b=g("day")):(h=g("year"),y=g("month"),b=m==="year-month"?1:g("day"));const p=Yc(h,y);b=b>p?p:b;let C=0,w=0;m==="datehour"&&(C=g("hour")),m==="datetime"&&(C=g("hour"),w=g("minute"));const k=new Date(h,y-1,b,C,w);i.value=r(k)},v=()=>{t("update:modelValue",i.value),t("confirm",i.value)},S=()=>t("cancel"),E=()=>{d(),Re(()=>{d(),Re(()=>t("change",i.value))})};return tt(()=>{c(),Re(d)}),oe(s,c),oe(i,(m,f)=>t("update:modelValue",f?m:null)),oe(()=>[e.filter,e.minDate,e.maxDate],()=>{Re(d)}),oe(()=>e.modelValue,m=>{var f;m=r(m),m&&m.valueOf()!==((f=i.value)==null?void 0:f.valueOf())&&(i.value=m)}),st({getPicker:()=>a.value&&U1(a.value,d)}),()=>R(Vl,Ye({ref:a,columns:s.value,onChange:E,onCancel:S,onConfirm:v},mt(e,N1)),n)}});const[eH,tH]=ve("datetime-picker"),nH=Object.keys(yf.props),rH=Object.keys(bf.props),aH=xe({},yf.props,bf.props,{modelValue:[String,Date]});var iH=ee({name:eH,props:aH,setup(e,{attrs:t,slots:n}){const r=q();return st({getPicker:()=>{var a;return(a=r.value)==null?void 0:a.getPicker()}}),()=>{const a=e.type==="time",i=a?yf:bf,o=mt(e,a?nH:rH);return R(i,Ye({ref:r,class:tH()},o,t),n)}}});const oH=Te(iH),[sH,An,Ts]=ve("dialog"),lH=xe({},$i,{title:String,theme:String,width:pe,message:[String,Function],callback:Function,allowHtml:Boolean,className:gt,transition:we("van-dialog-bounce"),messageAlign:String,closeOnPopstate:ce,showCancelButton:Boolean,cancelButtonText:String,cancelButtonColor:String,confirmButtonText:String,confirmButtonColor:String,showConfirmButton:ce,closeOnClickOverlay:Boolean}),uH=[...rf,"transition","closeOnPopstate"];var rT=ee({name:sH,props:lH,emits:["confirm","cancel","keydown","update:show"],setup(e,{emit:t,slots:n}){const r=q(),a=Me({confirm:!1,cancel:!1}),i=g=>t("update:show",g),o=g=>{var h;i(!1),(h=e.callback)==null||h.call(e,g)},l=g=>()=>{!e.show||(t(g),e.beforeClose?(a[g]=!0,Jr(e.beforeClose,{args:[g],done(){o(g),a[g]=!1},canceled(){a[g]=!1}})):o(g))},u=l("cancel"),s=l("confirm"),c=ti(g=>{var h,y;if(g.target!==((y=(h=r.value)==null?void 0:h.popupRef)==null?void 0:y.value))return;({Enter:e.showConfirmButton?s:nl,Escape:e.showCancelButton?u:nl})[g.key](),t("keydown",g)},["enter","esc"]),d=()=>{const g=n.title?n.title():e.title;if(g)return R("div",{class:An("header",{isolated:!e.message&&!n.default})},[g])},v=g=>{const{message:h,allowHtml:y,messageAlign:b}=e,p=An("message",{"has-title":g,[b]:b}),C=gi(h)?h():h;return y&&typeof C=="string"?R("div",{class:p,innerHTML:C},null):R("div",{class:p},[C])},S=()=>{if(n.default)return R("div",{class:An("content")},[n.default()]);const{title:g,message:h,allowHtml:y}=e;if(h){const b=!!(g||n.title);return R("div",{key:y?1:0,class:An("content",{isolated:!b})},[v(b)])}},E=()=>R("div",{class:[p1,An("footer")]},[e.showCancelButton&&R(rn,{size:"large",text:e.cancelButtonText||Ts("cancel"),class:An("cancel"),style:{color:e.cancelButtonColor},loading:a.cancel,onClick:u},null),e.showConfirmButton&&R(rn,{size:"large",text:e.confirmButtonText||Ts("confirm"),class:[An("confirm"),{[y1]:e.showCancelButton}],style:{color:e.confirmButtonColor},loading:a.confirm,onClick:s},null)]),m=()=>R(T1,{class:An("footer")},{default:()=>[e.showCancelButton&&R(zc,{type:"warning",text:e.cancelButtonText||Ts("cancel"),class:An("cancel"),color:e.cancelButtonColor,loading:a.cancel,onClick:u},null),e.showConfirmButton&&R(zc,{type:"danger",text:e.confirmButtonText||Ts("confirm"),class:An("confirm"),color:e.confirmButtonColor,loading:a.confirm,onClick:s},null)]}),f=()=>n.footer?n.footer():e.theme==="round-button"?m():E();return()=>{const{width:g,title:h,theme:y,message:b,className:p}=e;return R(Nn,Ye({ref:r,role:"dialog",class:[An([y]),p],style:{width:it(g)},tabindex:0,"aria-labelledby":h||b,onKeydown:c,"onUpdate:show":i},mt(e,uH)),{default:()=>[d(),S(),f()]})}}});let xo;function cH(){({instance:xo}=Gl({setup(){const{state:t,toggle:n}=zl();return()=>R(rT,Ye(t,{"onUpdate:show":n}),null)}}))}function Mt(e){return Kr?new Promise((t,n)=>{xo||cH(),xo.open(xe({},Mt.currentOptions,e,{callback:r=>{(r==="confirm"?t:n)(r)}}))}):Promise.resolve()}Mt.defaultOptions={title:"",width:"",theme:null,message:"",overlay:!0,callback:null,teleport:"body",className:"",allowHtml:!1,lockScroll:!0,transition:void 0,beforeClose:null,overlayClass:"",overlayStyle:void 0,messageAlign:"",cancelButtonText:"",cancelButtonColor:null,confirmButtonText:"",confirmButtonColor:null,showConfirmButton:!0,showCancelButton:!1,closeOnPopstate:!0,closeOnClickOverlay:!1};Mt.currentOptions=xe({},Mt.defaultOptions);Mt.alert=Mt;Mt.confirm=e=>Mt(xe({showCancelButton:!0},e));Mt.close=()=>{xo&&xo.toggle(!1)};Mt.setDefaultOptions=e=>{xe(Mt.currentOptions,e)};Mt.resetDefaultOptions=()=>{Mt.currentOptions=xe({},Mt.defaultOptions)};Mt.Component=Te(rT);Mt.install=e=>{e.use(Mt.Component),e.config.globalProperties.$dialog=Mt};const[dH,fH]=ve("divider"),hH={dashed:Boolean,hairline:ce,contentPosition:we("center")};var vH=ee({name:dH,props:hH,setup(e,{slots:t}){return()=>{var n;return R("div",{role:"separator",class:fH({dashed:e.dashed,hairline:e.hairline,[`content-${e.contentPosition}`]:!!t.default})},[(n=t.default)==null?void 0:n.call(t)])}}});const mH=Te(vH),[aT,Cs]=ve("dropdown-menu"),gH={overlay:ce,zIndex:pe,duration:Pe(.2),direction:we("down"),activeColor:String,closeOnClickOutside:ce,closeOnClickOverlay:ce},iT=Symbol(aT);var pH=ee({name:aT,props:gH,setup(e,{slots:t}){const n=Ko(),r=q(),a=q(),i=q(0),{children:o,linkChildren:l}=Qt(iT),u=xi(r),s=N(()=>o.some(f=>f.state.showWrapper)),c=N(()=>{if(s.value&&rt(e.zIndex))return{zIndex:+e.zIndex+1}}),d=()=>{e.closeOnClickOutside&&o.forEach(f=>{f.toggle(!1)})},v=()=>{if(a.value){const f=ht(a);e.direction==="down"?i.value=f.bottom:i.value=yi.value-f.top}},S=()=>{s.value&&v()},E=f=>{o.forEach((g,h)=>{h===f?(v(),g.toggle()):g.state.showPopup&&g.toggle(!1,{immediate:!0})})},m=(f,g)=>{const{showPopup:h}=f.state,{disabled:y,titleClass:b}=f;return R("div",{id:`${n}-${g}`,role:"button",tabindex:y?void 0:0,class:[Cs("item",{disabled:y}),{[nn]:!y}],onClick:()=>{y||E(g)}},[R("span",{class:[Cs("title",{down:h===(e.direction==="down"),active:h}),b],style:{color:h?e.activeColor:""}},[R("div",{class:"van-ellipsis"},[f.renderTitle()])])])};return l({id:n,props:e,offset:i}),Fl(r,d),Yr("scroll",S,{target:u}),()=>{var f;return R("div",{ref:r,class:Cs()},[R("div",{ref:a,style:c.value,class:Cs("bar",{opened:s.value})},[o.map(m)]),(f=t.default)==null?void 0:f.call(t)])}}});const[yH,Es]=ve("dropdown-item"),bH={title:String,options:Ut(),disabled:Boolean,teleport:[String,Object],lazyRender:ce,modelValue:gt,titleClass:gt};var SH=ee({name:yH,props:bH,emits:["open","opened","close","closed","change","update:modelValue"],setup(e,{emit:t,slots:n}){const r=Me({showPopup:!1,transition:!0,showWrapper:!1}),{parent:a,index:i}=Xt(iT);if(!a)return;const o=f=>()=>t(f),l=o("open"),u=o("close"),s=o("opened"),c=()=>{r.showWrapper=!1,t("closed")},d=f=>{e.teleport&&f.stopPropagation()},v=(f=!r.showPopup,g={})=>{f!==r.showPopup&&(r.showPopup=f,r.transition=!g.immediate,f&&(r.showWrapper=!0))},S=()=>{if(n.title)return n.title();if(e.title)return e.title;const f=e.options.find(g=>g.value===e.modelValue);return f?f.text:""},E=f=>{const{activeColor:g}=a.props,h=f.value===e.modelValue,y=()=>{r.showPopup=!1,f.value!==e.modelValue&&(t("update:modelValue",f.value),t("change",f.value))},b=()=>{if(h)return R(We,{class:Es("icon"),color:g,name:"success"},null)};return R(jn,{role:"menuitem",key:f.value,icon:f.icon,title:f.text,class:Es("option",{active:h}),style:{color:h?g:""},tabindex:h?0:-1,clickable:!0,onClick:y},{value:b})},m=()=>{const{offset:f}=a,{zIndex:g,overlay:h,duration:y,direction:b,closeOnClickOverlay:p}=a.props,C=Aa(g);return b==="down"?C.top=`${f.value}px`:C.bottom=`${f.value}px`,Ke(R("div",{style:C,class:Es([b]),onClick:d},[R(Nn,{show:r.showPopup,"onUpdate:show":w=>r.showPopup=w,role:"menu",class:Es("content"),overlay:h,position:b==="down"?"top":"bottom",duration:r.transition?y:0,lazyRender:e.lazyRender,overlayStyle:{position:"absolute"},"aria-labelledby":`${a.id}-${i.value}`,closeOnClickOverlay:p,onOpen:l,onClose:u,onOpened:s,onClosed:c},{default:()=>{var w;return[e.options.map(E),(w=n.default)==null?void 0:w.call(n)]}})]),[[Xe,r.showWrapper]])};return st({state:r,toggle:v,renderTitle:S}),()=>e.teleport?R(No,{to:e.teleport},{default:()=>[m()]}):m()}});const TH=Te(SH),CH=Te(pH),[oT,EH]=ve("grid"),wH={square:Boolean,center:ce,border:ce,gutter:pe,reverse:Boolean,iconSize:pe,direction:String,clickable:Boolean,columnNum:Pe(4)},sT=Symbol(oT);var OH=ee({name:oT,props:wH,setup(e,{slots:t}){const{linkChildren:n}=Qt(sT);return n({props:e}),()=>{var r;return R("div",{style:{paddingLeft:it(e.gutter)},class:[EH(),{[p1]:e.border&&!e.gutter}]},[(r=t.default)==null?void 0:r.call(t)])}}});const kH=Te(OH),[_H,ws]=ve("grid-item"),AH=xe({},Qr,{dot:Boolean,text:String,icon:String,badge:pe,iconColor:String,iconPrefix:String,badgeProps:Object});var DH=ee({name:_H,props:AH,setup(e,{slots:t}){const{parent:n,index:r}=Xt(sT),a=Da();if(!n)return;const i=N(()=>{const{square:c,gutter:d,columnNum:v}=n.props,S=`${100/+v}%`,E={flexBasis:S};if(c)E.paddingTop=S;else if(d){const m=it(d);E.paddingRight=m,r.value>=v&&(E.marginTop=m)}return E}),o=N(()=>{const{square:c,gutter:d}=n.props;if(c&&d){const v=it(d);return{right:v,bottom:v,height:"auto"}}}),l=()=>{if(t.icon)return R(Pa,Ye({dot:e.dot,content:e.badge},e.badgeProps),{default:t.icon});if(e.icon)return R(We,{dot:e.dot,name:e.icon,size:n.props.iconSize,badge:e.badge,class:ws("icon"),color:e.iconColor,badgeProps:e.badgeProps,classPrefix:e.iconPrefix},null)},u=()=>{if(t.text)return t.text();if(e.text)return R("span",{class:ws("text")},[e.text])},s=()=>t.default?t.default():[l(),u()];return()=>{const{center:c,border:d,square:v,gutter:S,reverse:E,direction:m,clickable:f}=n.props,g=[ws("content",[m,{center:c,square:v,reverse:E,clickable:f,surround:d&&S}]),{[Zr]:d}];return R("div",{class:[ws({square:v})],style:i.value},[R("div",{role:f?"button":void 0,class:g,style:o.value,tabindex:f?0:void 0,onClick:a},[s()])])}}});const PH=Te(DH),Tp=e=>Math.sqrt((e[0].clientX-e[1].clientX)**2+(e[0].clientY-e[1].clientY)**2),Cp=ve("image-preview")[1];var IH=ee({props:{src:String,show:Boolean,active:Number,minZoom:xt(pe),maxZoom:xt(pe),rootWidth:xt(Number),rootHeight:xt(Number)},emits:["scale","close"],setup(e,{emit:t}){const n=Me({scale:1,moveX:0,moveY:0,moving:!1,zooming:!1,imageRatio:0,displayWidth:0,displayHeight:0}),r=nr(),a=N(()=>{const{rootWidth:w,rootHeight:k}=e,_=k/w;return n.imageRatio>_}),i=N(()=>{const{scale:w,moveX:k,moveY:_,moving:T,zooming:O}=n,A={transitionDuration:O||T?"0s":".3s"};if(w!==1){const P=k/w,D=_/w;A.transform=`scale(${w}, ${w}) translate(${P}px, ${D}px)`}return A}),o=N(()=>{if(n.imageRatio){const{rootWidth:w,rootHeight:k}=e,_=a.value?k/n.imageRatio:w;return Math.max(0,(n.scale*_-w)/2)}return 0}),l=N(()=>{if(n.imageRatio){const{rootWidth:w,rootHeight:k}=e,_=a.value?k:w*n.imageRatio;return Math.max(0,(n.scale*_-k)/2)}return 0}),u=w=>{w=Kt(w,+e.minZoom,+e.maxZoom+1),w!==n.scale&&(n.scale=w,t("scale",{scale:w,index:e.active}))},s=()=>{u(1),n.moveX=0,n.moveY=0},c=()=>{const w=n.scale>1?1:2;u(w),n.moveX=0,n.moveY=0};let d,v,S,E,m,f,g;const h=w=>{const{touches:k}=w,{offsetX:_}=r;r.start(w),d=k.length,v=n.moveX,S=n.moveY,g=Date.now(),n.moving=d===1&&n.scale!==1,n.zooming=d===2&&!_.value,n.zooming&&(E=n.scale,m=Tp(w.touches))},y=w=>{const{touches:k}=w;if(r.move(w),(n.moving||n.zooming)&&Et(w,!0),n.moving){const{deltaX:_,deltaY:T}=r,O=_.value+v,A=T.value+S;n.moveX=Kt(O,-o.value,o.value),n.moveY=Kt(A,-l.value,l.value)}if(n.zooming&&k.length===2){const _=Tp(k),T=E*_/m;u(T)}},b=()=>{if(d>1)return;const{offsetX:w,offsetY:k}=r,_=Date.now()-g,T=250,O=5;w.value<O&&k.value<O&&_<T&&(f?(clearTimeout(f),f=null,c()):f=setTimeout(()=>{t("close"),f=null},T))},p=w=>{let k=!1;(n.moving||n.zooming)&&(k=!0,n.moving&&v===n.moveX&&S===n.moveY&&(k=!1),w.touches.length||(n.zooming&&(n.moveX=Kt(n.moveX,-o.value,o.value),n.moveY=Kt(n.moveY,-l.value,l.value),n.zooming=!1),n.moving=!1,v=0,S=0,E=1,n.scale<1&&s(),n.scale>e.maxZoom&&(n.scale=+e.maxZoom))),Et(w,k),b(),r.reset()},C=w=>{const{naturalWidth:k,naturalHeight:_}=w.target;n.imageRatio=_/k};return oe(()=>e.active,s),oe(()=>e.show,w=>{w||s()}),()=>{const w={loading:()=>R(Bn,{type:"spinner"},null)};return R(gf,{class:Cp("swipe-item"),onTouchstart:h,onTouchmove:y,onTouchend:p,onTouchcancel:p},{default:()=>[R(ql,{src:e.src,fit:"contain",class:Cp("image",{vertical:a.value}),style:i.value,onLoad:C},w)]})}}});const[LH,Ga]=ve("image-preview"),RH=["show","transition","overlayStyle","closeOnPopstate"],xH={show:Boolean,loop:ce,images:Ut(),minZoom:Pe(1/3),maxZoom:Pe(3),overlay:ce,closeable:Boolean,showIndex:ce,className:gt,closeIcon:we("clear"),transition:String,beforeClose:Function,overlayClass:gt,overlayStyle:Object,swipeDuration:Pe(300),startPosition:Pe(0),showIndicators:Boolean,closeOnPopstate:ce,closeIconPosition:we("top-right")};var lT=ee({name:LH,props:xH,emits:["scale","close","closed","change","update:show"],setup(e,{emit:t,slots:n}){const r=q(),a=Me({active:0,rootWidth:0,rootHeight:0}),i=()=>{if(r.value){const f=ht(r.value.$el);a.rootWidth=f.width,a.rootHeight=f.height,r.value.resize()}},o=f=>t("scale",f),l=f=>t("update:show",f),u=()=>{Jr(e.beforeClose,{args:[a.active],done:()=>l(!1)})},s=f=>{f!==a.active&&(a.active=f,t("change",f))},c=()=>{if(e.showIndex)return R("div",{class:Ga("index")},[n.index?n.index({index:a.active}):`${a.active+1} / ${e.images.length}`])},d=()=>{if(n.cover)return R("div",{class:Ga("cover")},[n.cover()])},v=()=>R(mf,{ref:r,lazyRender:!0,loop:e.loop,class:Ga("swipe"),duration:e.swipeDuration,initialSwipe:e.startPosition,showIndicators:e.showIndicators,indicatorColor:"white",onChange:s},{default:()=>[e.images.map(f=>R(IH,{src:f,show:e.show,active:a.active,maxZoom:e.maxZoom,minZoom:e.minZoom,rootWidth:a.rootWidth,rootHeight:a.rootHeight,onScale:o,onClose:u},null))]}),S=()=>{if(e.closeable)return R(We,{role:"button",name:e.closeIcon,class:[Ga("close-icon",e.closeIconPosition),nn],onClick:u},null)},E=()=>t("closed"),m=(f,g)=>{var h;return(h=r.value)==null?void 0:h.swipeTo(f,g)};return st({swipeTo:m}),tt(i),oe([Nl,yi],i),oe(()=>e.startPosition,f=>s(+f)),oe(()=>e.show,f=>{const{images:g,startPosition:h}=e;f?(s(+h),Re(()=>{i(),m(+h,{immediate:!0})})):t("close",{index:a.active,url:g[a.active]})}),()=>R(Nn,Ye({class:[Ga(),e.className],overlayClass:[Ga("overlay"),e.overlayClass],onClosed:E,"onUpdate:show":l},mt(e,RH)),{default:()=>[S(),v(),c(),d()]})}});let Bs;const $H={loop:!0,images:[],maxZoom:3,minZoom:1/3,onScale:void 0,onClose:void 0,onChange:void 0,teleport:"body",className:"",showIndex:!0,closeable:!1,closeIcon:"clear",transition:void 0,beforeClose:void 0,overlayStyle:void 0,overlayClass:void 0,startPosition:0,swipeDuration:300,showIndicators:!1,closeOnPopstate:!0,closeIconPosition:"top-right"};function MH(){({instance:Bs}=Gl({setup(){const{state:e,toggle:t}=zl(),n=()=>{e.images=[]};return()=>R(lT,Ye(e,{onClosed:n,"onUpdate:show":t}),null)}}))}const $o=(e,t=0)=>{if(!!Kr)return Bs||MH(),e=Array.isArray(e)?{images:e,startPosition:t}:e,Bs.open(xe({},$H,e)),Bs};$o.Component=Te(lT);$o.install=e=>{e.use($o.Component)};function FH(){const e="A".charCodeAt(0);return Array(26).fill("").map((n,r)=>String.fromCharCode(e+r))}const[uT,ju]=ve("index-bar"),BH={sticky:ce,zIndex:pe,teleport:[String,Object],highlightColor:String,stickyOffsetTop:Qn(0),indexList:{type:Array,default:FH}},cT=Symbol(uT);var NH=ee({name:uT,props:BH,emits:["select","change"],setup(e,{emit:t,slots:n}){const r=q(),a=q(""),i=nr(),o=xi(r),{children:l,linkChildren:u}=Qt(cT);let s;u({props:e});const c=N(()=>{if(rt(e.zIndex))return{zIndex:+e.zIndex+1}}),d=N(()=>{if(e.highlightColor)return{color:e.highlightColor}}),v=(w,k)=>{for(let _=l.length-1;_>=0;_--){const T=_>0?k[_-1].height:0,O=e.sticky?T+e.stickyOffsetTop:0;if(w+O>=k[_].top)return _}return-1},S=w=>l.find(k=>String(k.index)===w),E=()=>{if(pi(r))return;const{sticky:w,indexList:k}=e,_=Ur(o.value),T=ht(o),O=l.map(P=>P.getRect(o.value,T));let A=-1;if(s){const P=S(s);if(P){const D=P.getRect(o.value,T);A=v(D.top,O)}}else A=v(_,O);a.value=k[A],w&&l.forEach((P,D)=>{const{state:I,$el:x}=P;if(D===A||D===A-1){const L=x.getBoundingClientRect();I.left=L.left,I.width=L.width}else I.left=null,I.width=null;if(D===A)I.active=!0,I.top=Math.max(e.stickyOffsetTop,O[D].top-_)+T.top;else if(D===A-1&&s===""){const L=O[A].top-_;I.active=L>0,I.top=L+T.top-O[D].height}else I.active=!1}),s=""},m=()=>{Re(E)};Yr("scroll",E,{target:o}),tt(m),oe(()=>e.indexList,m),oe(a,w=>{w&&t("change",w)});const f=()=>e.indexList.map(w=>{const k=w===a.value;return R("span",{class:ju("index",{active:k}),style:k?d.value:void 0,"data-index":w},[w])}),g=w=>{s=String(w);const k=S(s);if(k){const _=Ur(o.value),T=ht(o),{offsetHeight:O}=document.documentElement;if(_===O-T.height){E();return}k.$el.scrollIntoView(),e.sticky&&e.stickyOffsetTop&&Bl(Go()-e.stickyOffsetTop),t("select",k.index)}},h=w=>{const{index:k}=w.dataset;k&&g(k)},y=w=>{h(w.target)};let b;const p=w=>{if(i.move(w),i.isVertical()){Et(w);const{clientX:k,clientY:_}=w.touches[0],T=document.elementFromPoint(k,_);if(T){const{index:O}=T.dataset;O&&b!==O&&(b=O,h(T))}}},C=()=>R("div",{class:ju("sidebar"),style:c.value,onClick:y,onTouchstart:i.start,onTouchmove:p},[f()]);return st({scrollTo:g}),()=>{var w;return R("div",{ref:r,class:ju()},[e.teleport?R(No,{to:e.teleport},{default:()=>[C()]}):C(),(w=n.default)==null?void 0:w.call(n)])}}});const[jH,UH]=ve("index-anchor"),VH={index:pe};var HH=ee({name:jH,props:VH,setup(e,{slots:t}){const n=Me({top:0,left:null,rect:{top:0,height:0},width:null,active:!1}),r=q(),{parent:a}=Xt(cT);if(!a)return;const i=()=>n.active&&a.props.sticky,o=N(()=>{const{zIndex:u,highlightColor:s}=a.props;if(i())return xe(Aa(u),{left:n.left?`${n.left}px`:void 0,width:n.width?`${n.width}px`:void 0,transform:n.top?`translate3d(0, ${n.top}px, 0)`:void 0,color:s})});return st({state:n,getRect:(u,s)=>{const c=ht(r);return n.rect.height=c.height,u===window||u===document.body?n.rect.top=c.top+Go():n.rect.top=c.top+Ur(u)-s.top,n.rect}}),()=>{const u=i();return R("div",{ref:r,style:{height:u?`${n.rect.height}px`:void 0}},[R("div",{style:o.value,class:[UH({sticky:u}),{[tf]:u}]},[t.default?t.default():e.index])])}}});const zH=Te(HH),GH=Te(NH),[KH,Ka,WH]=ve("list"),YH={error:Boolean,offset:Pe(300),loading:Boolean,finished:Boolean,errorText:String,direction:we("down"),loadingText:String,finishedText:String,immediateCheck:ce};var qH=ee({name:KH,props:YH,emits:["load","update:error","update:loading"],setup(e,{emit:t,slots:n}){const r=q(!1),a=q(),i=q(),o=CV(),l=xi(a),u=()=>{Re(()=>{if(r.value||e.finished||e.error||(o==null?void 0:o.value)===!1)return;const{offset:S,direction:E}=e,m=ht(l);if(!m.height||pi(a))return;let f=!1;const g=ht(i);E==="up"?f=m.top-g.top<=S:f=g.bottom-m.bottom<=S,f&&(r.value=!0,t("update:loading",!0),t("load"))})},s=()=>{if(e.finished){const S=n.finished?n.finished():e.finishedText;if(S)return R("div",{class:Ka("finished-text")},[S])}},c=()=>{t("update:error",!1),u()},d=()=>{if(e.error){const S=n.error?n.error():e.errorText;if(S)return R("div",{role:"button",class:Ka("error-text"),tabindex:0,onClick:c},[S])}},v=()=>{if(r.value&&!e.finished)return R("div",{class:Ka("loading")},[n.loading?n.loading():R(Bn,{class:Ka("loading-icon")},{default:()=>[e.loadingText||WH("loading")]})])};return oe(()=>[e.loading,e.finished,e.error],u),o&&oe(o,S=>{S&&u()}),Ed(()=>{r.value=e.loading}),tt(()=>{e.immediateCheck&&u()}),st({check:u}),Yr("scroll",u,{target:l}),()=>{var S;const E=(S=n.default)==null?void 0:S.call(n),m=R("div",{ref:i,class:Ka("placeholder")},null);return R("div",{ref:a,role:"feed",class:Ka(),"aria-busy":r.value},[e.direction==="down"?E:m,v(),s(),d(),e.direction==="up"?E:m])}}});const XH=Te(qH);function dT(e,t){const n=V1(e);return r=>R("div",{class:t("placeholder"),style:{height:n.value?`${n.value}px`:void 0}},[r()])}const[ZH,cr]=ve("nav-bar"),JH={title:String,fixed:Boolean,zIndex:pe,border:ce,leftText:String,rightText:String,leftArrow:Boolean,placeholder:Boolean,safeAreaInsetTop:Boolean};var QH=ee({name:ZH,props:JH,emits:["click-left","click-right"],setup(e,{emit:t,slots:n}){const r=q(),a=dT(r,cr),i=c=>t("click-left",c),o=c=>t("click-right",c),l=()=>n.left?n.left():[e.leftArrow&&R(We,{class:cr("arrow"),name:"arrow-left"},null),e.leftText&&R("span",{class:cr("text")},[e.leftText])],u=()=>n.right?n.right():R("span",{class:cr("text")},[e.rightText]),s=()=>{const{title:c,fixed:d,border:v,zIndex:S}=e,E=Aa(S),m=e.leftArrow||e.leftText||n.left,f=e.rightText||n.right;return R("div",{ref:r,style:E,class:[cr({fixed:d}),{[tf]:v,"van-safe-area-top":e.safeAreaInsetTop}]},[R("div",{class:cr("content")},[m&&R("div",{class:[cr("left"),nn],onClick:i},[l()]),R("div",{class:[cr("title"),"van-ellipsis"]},[n.title?n.title():c]),f&&R("div",{class:[cr("right"),nn],onClick:o},[u()])])])};return()=>e.fixed&&e.placeholder?a(s):s()}});const ez=Te(QH),[tz,ro]=ve("notice-bar"),nz={text:String,mode:String,color:String,delay:Pe(1),speed:Pe(60),leftIcon:String,wrapable:Boolean,background:String,scrollable:{type:Boolean,default:null}};var rz=ee({name:tz,props:nz,emits:["close","replay"],setup(e,{emit:t,slots:n}){let r=0,a=0,i;const o=q(),l=q(),u=Me({show:!0,offset:0,duration:0}),s=()=>{if(n["left-icon"])return n["left-icon"]();if(e.leftIcon)return R(We,{class:ro("left-icon"),name:e.leftIcon},null)},c=()=>{if(e.mode==="closeable")return"cross";if(e.mode==="link")return"arrow"},d=f=>{e.mode==="closeable"&&(u.show=!1,t("close",f))},v=()=>{if(n["right-icon"])return n["right-icon"]();const f=c();if(f)return R(We,{name:f,class:ro("right-icon"),onClick:d},null)},S=()=>{u.offset=r,u.duration=0,tn(()=>{ma(()=>{u.offset=-a,u.duration=(a+r)/+e.speed,t("replay")})})},E=()=>{const f=e.scrollable===!1&&!e.wrapable,g={transform:u.offset?`translateX(${u.offset}px)`:"",transitionDuration:`${u.duration}s`};return R("div",{ref:o,role:"marquee",class:ro("wrap")},[R("div",{ref:l,style:g,class:[ro("content"),{"van-ellipsis":f}],onTransitionend:S},[n.default?n.default():e.text])])},m=()=>{const{delay:f,speed:g,scrollable:h}=e,y=rt(f)?+f*1e3:0;r=0,a=0,u.offset=0,u.duration=0,clearTimeout(i),i=setTimeout(()=>{if(!o.value||!l.value||h===!1)return;const b=ht(o).width,p=ht(l).width;(h||p>b)&&ma(()=>{r=b,a=p,u.offset=-a,u.duration=a/+g})},y)};return of(m),Ri(m),Yr("pageshow",m),st({reset:m}),oe(()=>[e.text,e.scrollable],m),()=>{const{color:f,wrapable:g,background:h}=e;return Ke(R("div",{role:"alert",class:ro({wrapable:g}),style:{color:f,background:h}},[s(),E(),v()]),[[Xe,u.show]])}}});const az=Te(rz),[iz,oz]=ve("notify"),sz=xe({},$i,{type:we("danger"),color:String,message:pe,position:we("top"),className:gt,background:String,lockScroll:Boolean});var fT=ee({name:iz,props:sz,emits:["update:show"],setup(e,{emit:t,slots:n}){const r=a=>t("update:show",a);return()=>R(Nn,{show:e.show,class:[oz([e.type]),e.className],style:{color:e.color,background:e.background},overlay:!1,position:e.position,duration:.2,lockScroll:e.lockScroll,"onUpdate:show":r},{default:()=>[n.default?n.default():e.message]})}});let Ep,ci;const lz=e=>wn(e)?e:{message:e};function uz(){({instance:ci}=Gl({setup(){const{state:e,toggle:t}=zl();return()=>R(fT,Ye(e,{"onUpdate:show":t}),null)}}))}function vn(e){if(!!Kr)return ci||uz(),e=xe({},vn.currentOptions,lz(e)),ci.open(e),clearTimeout(Ep),e.duration>0&&(Ep=window.setTimeout(vn.clear,e.duration)),ci}const hT=()=>({type:"danger",color:void 0,message:"",onClose:void 0,onClick:void 0,onOpened:void 0,duration:3e3,position:void 0,className:"",lockScroll:!1,background:void 0});vn.clear=()=>{ci&&ci.toggle(!1)};vn.currentOptions=hT();vn.setDefaultOptions=e=>{xe(vn.currentOptions,e)};vn.resetDefaultOptions=()=>{vn.currentOptions=hT()};vn.Component=Te(fT);vn.install=e=>{e.use(vn.Component),e.config.globalProperties.$notify=vn};const[cz,Oo]=ve("key"),dz=R("svg",{class:Oo("collapse-icon"),viewBox:"0 0 30 24"},[R("path",{d:"M26 13h-2v2h2v-2zm-8-3h2V8h-2v2zm2-4h2V4h-2v2zm2 4h4V4h-2v4h-2v2zm-7 14 3-3h-6l3 3zM6 13H4v2h2v-2zm16 0H8v2h14v-2zm-12-3h2V8h-2v2zM28 0l1 1 1 1v15l-1 2H1l-1-2V2l1-1 1-1zm0 2H2v15h26V2zM6 4v2H4V4zm10 2h2V4h-2v2zM8 9v1H4V8zm8 0v1h-2V8zm-6-5v2H8V4zm4 0v2h-2V4z",fill:"currentColor"},null)]),fz=R("svg",{class:Oo("delete-icon"),viewBox:"0 0 32 22"},[R("path",{d:"M28 0a4 4 0 0 1 4 4v14a4 4 0 0 1-4 4H10.4a2 2 0 0 1-1.4-.6L1 13.1c-.6-.5-.9-1.3-.9-2 0-1 .3-1.7.9-2.2L9 .6a2 2 0 0 1 1.4-.6zm0 2H10.4l-8.2 8.3a1 1 0 0 0-.3.7c0 .3.1.5.3.7l8.2 8.4H28a2 2 0 0 0 2-2V4c0-1.1-.9-2-2-2zm-5 4a1 1 0 0 1 .7.3 1 1 0 0 1 0 1.4L20.4 11l3.3 3.3c.2.2.3.5.3.7 0 .3-.1.5-.3.7a1 1 0 0 1-.7.3 1 1 0 0 1-.7-.3L19 12.4l-3.4 3.3a1 1 0 0 1-.6.3 1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7c0-.2.1-.5.3-.7l3.3-3.3-3.3-3.3A1 1 0 0 1 14 7c0-.3.1-.5.3-.7A1 1 0 0 1 15 6a1 1 0 0 1 .6.3L19 9.6l3.3-3.3A1 1 0 0 1 23 6z",fill:"currentColor"},null)]);var Uu=ee({name:cz,props:{type:String,text:pe,color:String,wider:Boolean,large:Boolean,loading:Boolean},emits:["press"],setup(e,{emit:t,slots:n}){const r=q(!1),a=nr(),i=s=>{a.start(s),r.value=!0},o=s=>{a.move(s),a.direction.value&&(r.value=!1)},l=s=>{r.value&&(n.default||Et(s),r.value=!1,t("press",e.text,e.type))},u=()=>{if(e.loading)return R(Bn,{class:Oo("loading-icon")},null);const s=n.default?n.default():e.text;switch(e.type){case"delete":return s||fz;case"extra":return s||dz;default:return s}};return()=>R("div",{class:Oo("wrapper",{wider:e.wider}),onTouchstart:i,onTouchmove:o,onTouchend:l,onTouchcancel:l},[R("div",{role:"button",tabindex:0,class:Oo([e.color,{large:e.large,active:r.value,delete:e.type==="delete"}])},[u()])])}});const[hz,Dr]=ve("number-keyboard"),vz={show:Boolean,title:String,theme:we("default"),zIndex:pe,teleport:[String,Object],maxlength:Pe(1/0),modelValue:we(""),transition:ce,blurOnClose:ce,showDeleteKey:ce,randomKeyOrder:Boolean,closeButtonText:String,deleteButtonText:String,closeButtonLoading:Boolean,hideOnClickOutside:ce,safeAreaInsetBottom:ce,extraKey:{type:[String,Array],default:""}};function mz(e){for(let t=e.length-1;t>0;t--){const n=Math.floor(Math.random()*(t+1)),r=e[t];e[t]=e[n],e[n]=r}return e}var gz=ee({name:hz,props:vz,emits:["show","hide","blur","input","close","delete","update:modelValue"],setup(e,{emit:t,slots:n}){const r=q(),a=()=>{const m=Array(9).fill("").map((f,g)=>({text:g+1}));return e.randomKeyOrder&&mz(m),m},i=()=>[...a(),{text:e.extraKey,type:"extra"},{text:0},{text:e.showDeleteKey?e.deleteButtonText:"",type:e.showDeleteKey?"delete":""}],o=()=>{const m=a(),{extraKey:f}=e,g=Array.isArray(f)?f:[f];return g.length===1?m.push({text:0,wider:!0},{text:g[0],type:"extra"}):g.length===2&&m.push({text:g[0],type:"extra"},{text:0},{text:g[1],type:"extra"}),m},l=N(()=>e.theme==="custom"?o():i()),u=()=>{e.show&&t("blur")},s=()=>{t("close"),e.blurOnClose&&u()},c=()=>t(e.show?"show":"hide"),d=(m,f)=>{if(m===""){f==="extra"&&u();return}const g=e.modelValue;f==="delete"?(t("delete"),t("update:modelValue",g.slice(0,g.length-1))):f==="close"?s():g.length<e.maxlength&&(t("input",m),t("update:modelValue",g+m))},v=()=>{const{title:m,theme:f,closeButtonText:g}=e,h=n["title-left"],y=g&&f==="default";if(!!(m||y||h))return R("div",{class:Dr("header")},[h&&R("span",{class:Dr("title-left")},[h()]),m&&R("h2",{class:Dr("title")},[m]),y&&R("button",{type:"button",class:[Dr("close"),nn],onClick:s},[g])])},S=()=>l.value.map(m=>{const f={};return m.type==="delete"&&(f.default=n.delete),m.type==="extra"&&(f.default=n["extra-key"]),R(Uu,{key:m.text,text:m.text,type:m.type,wider:m.wider,color:m.color,onPress:d},f)}),E=()=>{if(e.theme==="custom")return R("div",{class:Dr("sidebar")},[e.showDeleteKey&&R(Uu,{large:!0,text:e.deleteButtonText,type:"delete",onPress:d},{delete:n.delete}),R(Uu,{large:!0,text:e.closeButtonText,type:"close",color:"blue",loading:e.closeButtonLoading,onPress:d},null)])};return oe(()=>e.show,m=>{e.transition||t(m?"show":"hide")}),e.hideOnClickOutside&&Fl(r,u,{eventName:"touchstart"}),()=>{const m=v(),f=R(gn,{name:e.transition?"van-slide-up":""},{default:()=>[Ke(R("div",{ref:r,style:Aa(e.zIndex),class:Dr({unfit:!e.safeAreaInsetBottom,"with-title":!!m}),onTouchstart:Qd,onAnimationend:c,onWebkitAnimationEnd:c},[m,R("div",{class:Dr("body")},[R("div",{class:Dr("keys")},[S()]),E()])]),[[Xe,e.show]])]});return e.teleport?R(No,{to:e.teleport},{default:()=>[f]}):f}}});const pz=Te(gz),[yz,Wa,wp]=ve("pagination"),Vu=(e,t,n)=>({number:e,text:t,active:n}),bz={mode:we("multi"),prevText:String,nextText:String,pageCount:Pe(0),modelValue:Qn(0),totalItems:Pe(0),showPageSize:Pe(5),itemsPerPage:Pe(10),forceEllipses:Boolean};var Sz=ee({name:yz,props:bz,emits:["change","update:modelValue"],setup(e,{emit:t,slots:n}){const r=N(()=>{const{pageCount:c,totalItems:d,itemsPerPage:v}=e,S=+c||Math.ceil(+d/+v);return Math.max(1,S)}),a=N(()=>{const c=[],d=r.value,v=+e.showPageSize,{modelValue:S,forceEllipses:E}=e;let m=1,f=d;const g=v<d;g&&(m=Math.max(S-Math.floor(v/2),1),f=m+v-1,f>d&&(f=d,m=f-v+1));for(let h=m;h<=f;h++){const y=Vu(h,h,h===S);c.push(y)}if(g&&v>0&&E){if(m>1){const h=Vu(m-1,"...");c.unshift(h)}if(f<d){const h=Vu(f+1,"...");c.push(h)}}return c}),i=(c,d)=>{c=Kt(c,1,r.value),e.modelValue!==c&&(t("update:modelValue",c),d&&t("change",c))};yl(()=>i(e.modelValue));const o=()=>R("li",{class:Wa("page-desc")},[n.pageDesc?n.pageDesc():`${e.modelValue}/${r.value}`]),l=()=>{const{mode:c,modelValue:d}=e,v=n["prev-text"],S=d===1;return R("li",{class:[Wa("item",{disabled:S,border:c==="simple",prev:!0}),Eo]},[R("button",{type:"button",disabled:S,onClick:()=>i(d-1,!0)},[v?v():e.prevText||wp("prev")])])},u=()=>{const{mode:c,modelValue:d}=e,v=n["next-text"],S=d===r.value;return R("li",{class:[Wa("item",{disabled:S,border:c==="simple",next:!0}),Eo]},[R("button",{type:"button",disabled:S,onClick:()=>i(d+1,!0)},[v?v():e.nextText||wp("next")])])},s=()=>a.value.map(c=>R("li",{class:[Wa("item",{active:c.active,page:!0}),Eo]},[R("button",{type:"button","aria-current":c.active||void 0,onClick:()=>i(c.number,!0)},[n.page?n.page(c):c.text])]));return()=>R("nav",{role:"navigation",class:Wa()},[R("ul",{class:Wa("items")},[l(),e.mode==="simple"?o():s(),u()])])}});const Tz=Te(Sz),[Cz,ao]=ve("password-input"),Ez={info:String,mask:ce,value:we(""),gutter:pe,length:Pe(6),focused:Boolean,errorInfo:String};var wz=ee({name:Cz,props:Ez,emits:["focus"],setup(e,{emit:t}){const n=a=>{a.stopPropagation(),t("focus",a)},r=()=>{const a=[],{mask:i,value:o,length:l,gutter:u,focused:s}=e;for(let c=0;c<l;c++){const d=o[c],v=c!==0&&!u,S=s&&c===o.length;let E;c!==0&&u&&(E={marginLeft:it(u)}),a.push(R("li",{class:[{[y1]:v},ao("item",{focus:S})],style:E},[i?R("i",{style:{visibility:d?"visible":"hidden"}},null):d,S&&R("div",{class:ao("cursor")},null)]))}return a};return()=>{const a=e.errorInfo||e.info;return R("div",{class:ao()},[R("ul",{class:[ao("security"),{[Eo]:!e.gutter}],onTouchstart:n},[r()]),a&&R("div",{class:ao(e.errorInfo?"error-info":"info")},[a])])}}});const Oz=Te(wz);function ll(e){var t=e.getBoundingClientRect();return{width:t.width,height:t.height,top:t.top,right:t.right,bottom:t.bottom,left:t.left,x:t.left,y:t.top}}function rr(e){if(e==null)return window;if(e.toString()!=="[object Window]"){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function vT(e){var t=rr(e),n=t.pageXOffset,r=t.pageYOffset;return{scrollLeft:n,scrollTop:r}}function mT(e){var t=rr(e).Element;return e instanceof t||e instanceof Element}function gr(e){var t=rr(e).HTMLElement;return e instanceof t||e instanceof HTMLElement}function kz(e){if(typeof ShadowRoot=="undefined")return!1;var t=rr(e).ShadowRoot;return e instanceof t||e instanceof ShadowRoot}function _z(e){return{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}}function Az(e){return e===rr(e)||!gr(e)?vT(e):_z(e)}function pr(e){return e?(e.nodeName||"").toLowerCase():null}function Xl(e){return((mT(e)?e.ownerDocument:e.document)||window.document).documentElement}function Dz(e){return ll(Xl(e)).left+vT(e).scrollLeft}function Ta(e){return rr(e).getComputedStyle(e)}function Sf(e){var t=Ta(e),n=t.overflow,r=t.overflowX,a=t.overflowY;return/auto|scroll|overlay|hidden/.test(n+a+r)}function Pz(e,t,n){n===void 0&&(n=!1);var r=Xl(t),a=ll(e),i=gr(t),o={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(i||!i&&!n)&&((pr(t)!=="body"||Sf(r))&&(o=Az(t)),gr(t)?(l=ll(t),l.x+=t.clientLeft,l.y+=t.clientTop):r&&(l.x=Dz(r))),{x:a.left+o.scrollLeft-l.x,y:a.top+o.scrollTop-l.y,width:a.width,height:a.height}}function Iz(e){var t=ll(e),n=e.offsetWidth,r=e.offsetHeight;return Math.abs(t.width-n)<=1&&(n=t.width),Math.abs(t.height-r)<=1&&(r=t.height),{x:e.offsetLeft,y:e.offsetTop,width:n,height:r}}function Tf(e){return pr(e)==="html"?e:e.assignedSlot||e.parentNode||(kz(e)?e.host:null)||Xl(e)}function gT(e){return["html","body","#document"].indexOf(pr(e))>=0?e.ownerDocument.body:gr(e)&&Sf(e)?e:gT(Tf(e))}function Ns(e,t){var n;t===void 0&&(t=[]);var r=gT(e),a=r===((n=e.ownerDocument)==null?void 0:n.body),i=rr(r),o=a?[i].concat(i.visualViewport||[],Sf(r)?r:[]):r,l=t.concat(o);return a?l:l.concat(Ns(Tf(o)))}function Lz(e){return["table","td","th"].indexOf(pr(e))>=0}function Op(e){return!gr(e)||Ta(e).position==="fixed"?null:e.offsetParent}function Rz(e){var t=navigator.userAgent.toLowerCase().indexOf("firefox")!==-1,n=navigator.userAgent.indexOf("Trident")!==-1;if(n&&gr(e)){var r=Ta(e);if(r.position==="fixed")return null}for(var a=Tf(e);gr(a)&&["html","body"].indexOf(pr(a))<0;){var i=Ta(a);if(i.transform!=="none"||i.perspective!=="none"||i.contain==="paint"||["transform","perspective"].indexOf(i.willChange)!==-1||t&&i.willChange==="filter"||t&&i.filter&&i.filter!=="none")return a;a=a.parentNode}return null}function pT(e){for(var t=rr(e),n=Op(e);n&&Lz(n)&&Ta(n).position==="static";)n=Op(n);return n&&(pr(n)==="html"||pr(n)==="body"&&Ta(n).position==="static")?t:n||Rz(e)||t}var Mo="top",Cf="bottom",Zl="right",bi="left",xz="auto",$z=[Mo,Cf,Zl,bi],yT="start",bT="end",Mz=[].concat($z,[xz]).reduce(function(e,t){return e.concat([t,t+"-"+yT,t+"-"+bT])},[]),Fz="beforeRead",Bz="read",Nz="afterRead",jz="beforeMain",Uz="main",Vz="afterMain",Hz="beforeWrite",zz="write",Gz="afterWrite",Kz=[Fz,Bz,Nz,jz,Uz,Vz,Hz,zz,Gz];function Wz(e){var t=new Map,n=new Set,r=[];e.forEach(function(i){t.set(i.name,i)});function a(i){n.add(i.name);var o=[].concat(i.requires||[],i.requiresIfExists||[]);o.forEach(function(l){if(!n.has(l)){var u=t.get(l);u&&a(u)}}),r.push(i)}return e.forEach(function(i){n.has(i.name)||a(i)}),r}function Yz(e){var t=Wz(e);return Kz.reduce(function(n,r){return n.concat(t.filter(function(a){return a.phase===r}))},[])}function qz(e){var t;return function(){return t||(t=new Promise(function(n){Promise.resolve().then(function(){t=void 0,n(e())})})),t}}function Ef(e){return e.split("-")[0]}function Xz(e){var t=e.reduce(function(n,r){var a=n[r.name];return n[r.name]=a?Object.assign({},a,r,{options:Object.assign({},a.options,r.options),data:Object.assign({},a.data,r.data)}):r,n},{});return Object.keys(t).map(function(n){return t[n]})}var Os=Math.round;function Zz(e){return e.split("-")[1]}function Jz(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function Qz(e){var t=e.reference,n=e.element,r=e.placement,a=r?Ef(r):null,i=r?Zz(r):null,o=t.x+t.width/2-n.width/2,l=t.y+t.height/2-n.height/2,u;switch(a){case Mo:u={x:o,y:t.y-n.height};break;case Cf:u={x:o,y:t.y+t.height};break;case Zl:u={x:t.x+t.width,y:l};break;case bi:u={x:t.x-n.width,y:l};break;default:u={x:t.x,y:t.y}}var s=a?Jz(a):null;if(s!=null){var c=s==="y"?"height":"width";switch(i){case yT:u[s]=u[s]-(t[c]/2-n[c]/2);break;case bT:u[s]=u[s]+(t[c]/2-n[c]/2);break}}return u}var kp={placement:"bottom",modifiers:[],strategy:"absolute"};function _p(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return!t.some(function(r){return!(r&&typeof r.getBoundingClientRect=="function")})}function eG(e){e===void 0&&(e={});var t=e,n=t.defaultModifiers,r=n===void 0?[]:n,a=t.defaultOptions,i=a===void 0?kp:a;return function(l,u,s){s===void 0&&(s=i);var c={placement:"bottom",orderedModifiers:[],options:Object.assign({},kp,i),modifiersData:{},elements:{reference:l,popper:u},attributes:{},styles:{}},d=[],v=!1,S={state:c,setOptions:function(g){m(),c.options=Object.assign({},i,c.options,g),c.scrollParents={reference:mT(l)?Ns(l):l.contextElement?Ns(l.contextElement):[],popper:Ns(u)};var h=Yz(Xz([].concat(r,c.options.modifiers)));return c.orderedModifiers=h.filter(function(y){return y.enabled}),E(),S.update()},forceUpdate:function(){if(!v){var g=c.elements,h=g.reference,y=g.popper;if(!!_p(h,y)){c.rects={reference:Pz(h,pT(y),c.options.strategy==="fixed"),popper:Iz(y)},c.reset=!1,c.placement=c.options.placement,c.orderedModifiers.forEach(function(T){return c.modifiersData[T.name]=Object.assign({},T.data)});for(var b=0;b<c.orderedModifiers.length;b++){if(c.reset===!0){c.reset=!1,b=-1;continue}var p=c.orderedModifiers[b],C=p.fn,w=p.options,k=w===void 0?{}:w,_=p.name;typeof C=="function"&&(c=C({state:c,options:k,name:_,instance:S})||c)}}}},update:qz(function(){return new Promise(function(f){S.forceUpdate(),f(c)})}),destroy:function(){m(),v=!0}};if(!_p(l,u))return S;S.setOptions(s).then(function(f){!v&&s.onFirstUpdate&&s.onFirstUpdate(f)});function E(){c.orderedModifiers.forEach(function(f){var g=f.name,h=f.options,y=h===void 0?{}:h,b=f.effect;if(typeof b=="function"){var p=b({state:c,name:g,instance:S,options:y}),C=function(){};d.push(p||C)}})}function m(){d.forEach(function(f){return f()}),d=[]}return S}}var ks={passive:!0};function tG(e){var t=e.state,n=e.instance,r=e.options,a=r.scroll,i=a===void 0?!0:a,o=r.resize,l=o===void 0?!0:o,u=rr(t.elements.popper),s=[].concat(t.scrollParents.reference,t.scrollParents.popper);return i&&s.forEach(function(c){c.addEventListener("scroll",n.update,ks)}),l&&u.addEventListener("resize",n.update,ks),function(){i&&s.forEach(function(c){c.removeEventListener("scroll",n.update,ks)}),l&&u.removeEventListener("resize",n.update,ks)}}var nG={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:tG,data:{}};function rG(e){var t=e.state,n=e.name;t.modifiersData[n]=Qz({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})}var aG={name:"popperOffsets",enabled:!0,phase:"read",fn:rG,data:{}},iG={top:"auto",right:"auto",bottom:"auto",left:"auto"};function oG(e){var t=e.x,n=e.y,r=window,a=r.devicePixelRatio||1;return{x:Os(Os(t*a)/a)||0,y:Os(Os(n*a)/a)||0}}function Ap(e){var t,n=e.popper,r=e.popperRect,a=e.placement,i=e.offsets,o=e.position,l=e.gpuAcceleration,u=e.adaptive,s=e.roundOffsets,c=s===!0?oG(i):typeof s=="function"?s(i):i,d=c.x,v=d===void 0?0:d,S=c.y,E=S===void 0?0:S,m=i.hasOwnProperty("x"),f=i.hasOwnProperty("y"),g=bi,h=Mo,y=window;if(u){var b=pT(n),p="clientHeight",C="clientWidth";b===rr(n)&&(b=Xl(n),Ta(b).position!=="static"&&(p="scrollHeight",C="scrollWidth")),b=b,a===Mo&&(h=Cf,E-=b[p]-r.height,E*=l?1:-1),a===bi&&(g=Zl,v-=b[C]-r.width,v*=l?1:-1)}var w=Object.assign({position:o},u&&iG);if(l){var k;return Object.assign({},w,(k={},k[h]=f?"0":"",k[g]=m?"0":"",k.transform=(y.devicePixelRatio||1)<2?"translate("+v+"px, "+E+"px)":"translate3d("+v+"px, "+E+"px, 0)",k))}return Object.assign({},w,(t={},t[h]=f?E+"px":"",t[g]=m?v+"px":"",t.transform="",t))}function sG(e){var t=e.state,n=e.options,r=n.gpuAcceleration,a=r===void 0?!0:r,i=n.adaptive,o=i===void 0?!0:i,l=n.roundOffsets,u=l===void 0?!0:l,s={placement:Ef(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:a};t.modifiersData.popperOffsets!=null&&(t.styles.popper=Object.assign({},t.styles.popper,Ap(Object.assign({},s,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:o,roundOffsets:u})))),t.modifiersData.arrow!=null&&(t.styles.arrow=Object.assign({},t.styles.arrow,Ap(Object.assign({},s,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:u})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})}var lG={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:sG,data:{}};function uG(e){var t=e.state;Object.keys(t.elements).forEach(function(n){var r=t.styles[n]||{},a=t.attributes[n]||{},i=t.elements[n];!gr(i)||!pr(i)||(Object.assign(i.style,r),Object.keys(a).forEach(function(o){var l=a[o];l===!1?i.removeAttribute(o):i.setAttribute(o,l===!0?"":l)}))})}function cG(e){var t=e.state,n={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,n.popper),t.styles=n,t.elements.arrow&&Object.assign(t.elements.arrow.style,n.arrow),function(){Object.keys(t.elements).forEach(function(r){var a=t.elements[r],i=t.attributes[r]||{},o=Object.keys(t.styles.hasOwnProperty(r)?t.styles[r]:n[r]),l=o.reduce(function(u,s){return u[s]="",u},{});!gr(a)||!pr(a)||(Object.assign(a.style,l),Object.keys(i).forEach(function(u){a.removeAttribute(u)}))})}}var dG={name:"applyStyles",enabled:!0,phase:"write",fn:uG,effect:cG,requires:["computeStyles"]},fG=[nG,aG,lG,dG],hG=eG({defaultModifiers:fG});function vG(e,t,n){var r=Ef(e),a=[bi,Mo].indexOf(r)>=0?-1:1,i=typeof n=="function"?n(Object.assign({},t,{placement:e})):n,o=i[0],l=i[1];return o=o||0,l=(l||0)*a,[bi,Zl].indexOf(r)>=0?{x:l,y:o}:{x:o,y:l}}function mG(e){var t=e.state,n=e.options,r=e.name,a=n.offset,i=a===void 0?[0,0]:a,o=Mz.reduce(function(c,d){return c[d]=vG(d,t.rects,i),c},{}),l=o[t.placement],u=l.x,s=l.y;t.modifiersData.popperOffsets!=null&&(t.modifiersData.popperOffsets.x+=u,t.modifiersData.popperOffsets.y+=s),t.modifiersData[r]=o}var gG={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:mG};const[pG,ua]=ve("popover"),yG=["show","overlay","duration","teleport","overlayStyle","overlayClass","closeOnClickOverlay"],bG={show:Boolean,theme:we("light"),overlay:Boolean,actions:Ut(),trigger:we("click"),duration:pe,showArrow:ce,placement:we("bottom"),iconPrefix:String,overlayClass:gt,overlayStyle:Object,closeOnClickAction:ce,closeOnClickOverlay:ce,closeOnClickOutside:ce,offset:{type:Array,default:()=>[0,8]},teleport:{type:[String,Object],default:"body"}};var SG=ee({name:pG,props:bG,emits:["select","touchstart","update:show"],setup(e,{emit:t,slots:n,attrs:r}){let a;const i=q(),o=q(),l=()=>i.value&&o.value?hG(i.value,o.value.popupRef.value,{placement:e.placement,modifiers:[{name:"computeStyles",options:{adaptive:!1,gpuAcceleration:!1}},xe({},gG,{options:{offset:e.offset}})]}):null,u=()=>{Re(()=>{!e.show||(a?a.setOptions({placement:e.placement}):a=l())})},s=f=>t("update:show",f),c=()=>{e.trigger==="click"&&s(!e.show)},d=f=>{f.stopPropagation(),t("touchstart",f)},v=(f,g)=>{f.disabled||(t("select",f,g),e.closeOnClickAction&&s(!1))},S=()=>{e.closeOnClickOutside&&(!e.overlay||e.closeOnClickOverlay)&&s(!1)},E=(f,g)=>n.action?n.action({action:f,index:g}):[f.icon&&R(We,{name:f.icon,classPrefix:e.iconPrefix,class:ua("action-icon")},null),R("div",{class:[ua("action-text"),tf]},[f.text])],m=(f,g)=>{const{icon:h,color:y,disabled:b,className:p}=f;return R("div",{role:"menuitem",class:[ua("action",{disabled:b,"with-icon":h}),p],style:{color:y},tabindex:b?void 0:0,"aria-disabled":b||void 0,onClick:()=>v(f,g)},[E(f,g)])};return tt(u),tr(()=>{a&&(a.destroy(),a=null)}),oe(()=>[e.show,e.placement],u),Fl(i,S,{eventName:"touchstart"}),()=>{var f;return R(Ce,null,[R("span",{ref:i,class:ua("wrapper"),onClick:c},[(f=n.reference)==null?void 0:f.call(n)]),R(Nn,Ye({ref:o,class:ua([e.theme]),position:"",transition:"van-popover-zoom",lockScroll:!1,onTouchstart:d,"onUpdate:show":s},r,mt(e,yG)),{default:()=>[e.showArrow&&R("div",{class:ua("arrow")},null),R("div",{role:"menu",class:ua("content")},[n.default?n.default():e.actions.map(m)])]})])}}});const TG=Te(SG),[CG,Hu]=ve("progress"),EG={color:String,inactive:Boolean,pivotText:String,textColor:String,showPivot:ce,pivotColor:String,trackColor:String,strokeWidth:pe,percentage:{type:pe,default:0,validator:e=>e>=0&&e<=100}};var wG=ee({name:CG,props:EG,setup(e){const t=N(()=>e.inactive?void 0:e.color),n=()=>{const{textColor:r,pivotText:a,pivotColor:i,percentage:o}=e,l=a!=null?a:`${o}%`;if(e.showPivot&&l){const u={color:r,left:`${+o}%`,transform:`translate(-${+o}%,-50%)`,background:i||t.value};return R("span",{style:u,class:Hu("pivot",{inactive:e.inactive})},[l])}};return()=>{const{trackColor:r,percentage:a,strokeWidth:i}=e,o={background:r,height:it(i)},l={width:`${a}%`,background:t.value};return R("div",{class:Hu(),style:o},[R("span",{class:Hu("portion",{inactive:e.inactive}),style:l},null),n()])}}});const OG=Te(wG),[kG,io,_G]=ve("pull-refresh"),ST=50,AG=["pulling","loosing","success"],DG={disabled:Boolean,modelValue:Boolean,headHeight:Pe(ST),successText:String,pullingText:String,loosingText:String,loadingText:String,pullDistance:pe,successDuration:Pe(500),animationDuration:Pe(300)};var PG=ee({name:kG,props:DG,emits:["refresh","update:modelValue"],setup(e,{emit:t,slots:n}){let r;const a=q(),i=xi(a),o=Me({status:"normal",distance:0,duration:0}),l=nr(),u=()=>{if(e.headHeight!==ST)return{height:`${e.headHeight}px`}},s=()=>o.status!=="loading"&&o.status!=="success"&&!e.disabled,c=y=>{const b=+(e.pullDistance||e.headHeight);return y>b&&(y<b*2?y=b+(y-b)/2:y=b*1.5+(y-b*2)/4),Math.round(y)},d=(y,b)=>{const p=+(e.pullDistance||e.headHeight);o.distance=y,b?o.status="loading":y===0?o.status="normal":y<p?o.status="pulling":o.status="loosing"},v=()=>{const{status:y}=o;return y==="normal"?"":e[`${y}Text`]||_G(y)},S=()=>{const{status:y,distance:b}=o;if(n[y])return n[y]({distance:b});const p=[];return AG.includes(y)&&p.push(R("div",{class:io("text")},[v()])),y==="loading"&&p.push(R(Bn,{class:io("loading")},{default:v})),p},E=()=>{o.status="success",setTimeout(()=>{d(0)},+e.successDuration)},m=y=>{r=Ur(i.value)===0,r&&(o.duration=0,l.start(y))},f=y=>{s()&&m(y)},g=y=>{if(s()){r||m(y);const{deltaY:b}=l;l.move(y),r&&b.value>=0&&l.isVertical()&&(Et(y),d(c(b.value)))}},h=()=>{r&&l.deltaY.value&&s()&&(o.duration=+e.animationDuration,o.status==="loosing"?(d(+e.headHeight,!0),t("update:modelValue",!0),Re(()=>t("refresh"))):d(0))};return oe(()=>e.modelValue,y=>{o.duration=+e.animationDuration,y?d(+e.headHeight,!0):n.success||e.successText?E():d(0,!1)}),()=>{var y;const b={transitionDuration:`${o.duration}ms`,transform:o.distance?`translate3d(0,${o.distance}px, 0)`:""};return R("div",{ref:a,class:io()},[R("div",{class:io("track"),style:b,onTouchstart:f,onTouchmove:g,onTouchend:h,onTouchcancel:h},[R("div",{class:io("head"),style:u()},[S()]),(y=n.default)==null?void 0:y.call(n)])])}}});const IG=Te(PG),[LG,_s]=ve("rate");function RG(e,t,n,r){return e>=t?{status:"full",value:1}:e+.5>=t&&n&&!r?{status:"half",value:.5}:e+1>=t&&n&&r?{status:"half",value:Math.round((e-t+1)*1e10)/1e10}:{status:"void",value:0}}const xG={size:pe,icon:we("star"),color:String,count:Pe(5),gutter:pe,readonly:Boolean,disabled:Boolean,voidIcon:we("star-o"),allowHalf:Boolean,voidColor:String,touchable:ce,iconPrefix:String,modelValue:Qn(0),disabledColor:String};var $G=ee({name:LG,props:xG,emits:["change","update:modelValue"],setup(e,{emit:t}){const n=nr(),[r,a]=Yl(),i=q(),o=()=>e.readonly||e.disabled||!e.touchable,l=N(()=>Array(+e.count).fill("").map((h,y)=>RG(e.modelValue,y+1,e.allowHalf,e.readonly)));let u,s,c=Number.MAX_SAFE_INTEGER,d=Number.MIN_SAFE_INTEGER;const v=()=>{s=ht(i);const h=r.value.map(ht);u=[],h.forEach((y,b)=>{c=Math.min(y.top,c),d=Math.max(y.top,d),e.allowHalf?u.push({score:b+.5,left:y.left,top:y.top,height:y.height},{score:b+1,left:y.left+y.width/2,top:y.top,height:y.height}):u.push({score:b+1,left:y.left,top:y.top,height:y.height})})},S=(h,y)=>{for(let b=u.length-1;b>0;b--)if(y>=s.top&&y<=s.bottom){if(h>u[b].left&&y>=u[b].top&&y<=u[b].top+u[b].height)return u[b].score}else{const p=y<s.top?c:d;if(h>u[b].left&&u[b].top===p)return u[b].score}return e.allowHalf?.5:1},E=h=>{!e.disabled&&!e.readonly&&h!==e.modelValue&&(t("update:modelValue",h),t("change",h))},m=h=>{o()||(n.start(h),v())},f=h=>{if(!o()&&(n.move(h),n.isHorizontal())){const{clientX:y,clientY:b}=h.touches[0];Et(h),E(S(y,b))}},g=(h,y)=>{const{icon:b,size:p,color:C,count:w,gutter:k,voidIcon:_,disabled:T,voidColor:O,allowHalf:A,iconPrefix:P,disabledColor:D}=e,I=y+1,x=h.status==="full",L=h.status==="void",$=A&&h.value>0&&h.value<1;let M;k&&I!==+w&&(M={paddingRight:it(k)});const j=F=>{v(),E(A?S(F.clientX,F.clientY):I)};return R("div",{key:y,ref:a(y),role:"radio",style:M,class:_s("item"),tabindex:T?void 0:0,"aria-setsize":w,"aria-posinset":I,"aria-checked":!L,onClick:j},[R(We,{size:p,name:x?b:_,class:_s("icon",{disabled:T,full:x}),color:T?D:x?C:O,classPrefix:P},null),$&&R(We,{size:p,style:{width:h.value+"em"},name:L?_:b,class:_s("icon",["half",{disabled:T,full:!L}]),color:T?D:L?O:C,classPrefix:P},null)])};return qr(()=>e.modelValue),()=>R("div",{ref:i,role:"radiogroup",class:_s({readonly:e.readonly,disabled:e.disabled}),tabindex:e.disabled?void 0:0,"aria-disabled":e.disabled,"aria-readonly":e.readonly,onTouchstart:m,onTouchmove:f},[l.value.map(g)])}});const MG=Te($G),FG=Te(e6),[BG,oo,NG]=ve("search"),jG=xe({},lf,{label:String,shape:we("square"),leftIcon:we("search"),clearable:ce,actionText:String,background:String,showAction:Boolean});var UG=ee({name:BG,props:jG,emits:["blur","focus","clear","search","cancel","click-input","click-left-icon","click-right-icon","update:modelValue"],setup(e,{emit:t,slots:n,attrs:r}){const a=Ko(),i=q(),o=()=>{n.action||(t("update:modelValue",""),t("cancel"))},l=p=>{p.keyCode===13&&(Et(p),t("search",e.modelValue))},u=()=>e.id||`${a}-input`,s=()=>{if(n.label||e.label)return R("label",{class:oo("label"),for:u()},[n.label?n.label():e.label])},c=()=>{if(e.showAction){const p=e.actionText||NG("cancel");return R("div",{class:oo("action"),role:"button",tabindex:0,onClick:o},[n.action?n.action():p])}},d=()=>{var p;return(p=i.value)==null?void 0:p.blur()},v=()=>{var p;return(p=i.value)==null?void 0:p.focus()},S=p=>t("blur",p),E=p=>t("focus",p),m=p=>t("clear",p),f=p=>t("click-input",p),g=p=>t("click-left-icon",p),h=p=>t("click-right-icon",p),y=Object.keys(lf),b=()=>{const p=xe({},r,mt(e,y),{id:u()}),C=w=>t("update:modelValue",w);return R(Jn,Ye({ref:i,type:"search",class:oo("field"),border:!1,onBlur:S,onFocus:E,onClear:m,onKeypress:l,"onClick-input":f,"onClick-left-icon":g,"onClick-right-icon":h,"onUpdate:modelValue":C},p),mt(n,["left-icon","right-icon"]))};return st({focus:v,blur:d}),()=>{var p;return R("div",{class:oo({"show-action":e.showAction}),style:{background:e.background}},[(p=n.left)==null?void 0:p.call(n),R("div",{class:oo("content",e.shape)},[s(),b()]),c()])}}});const VG=Te(UG),HG=[...rf,"round","closeOnPopstate","safeAreaInsetBottom"],Dp={qq:"qq",link:"link-o",weibo:"weibo",qrcode:"qr",poster:"photo-o",wechat:"wechat","weapp-qrcode":"miniprogram-o","wechat-moments":"wechat-moments"},[zG,Dn,GG]=ve("share-sheet"),KG=xe({},$i,{title:String,round:ce,options:Ut(),cancelText:String,description:String,closeOnPopstate:ce,safeAreaInsetBottom:ce});var WG=ee({name:zG,props:KG,emits:["cancel","select","update:show"],setup(e,{emit:t,slots:n}){const r=v=>t("update:show",v),a=()=>{r(!1),t("cancel")},i=(v,S)=>t("select",v,S),o=()=>{const v=n.title?n.title():e.title,S=n.description?n.description():e.description;if(v||S)return R("div",{class:Dn("header")},[v&&R("h2",{class:Dn("title")},[v]),S&&R("span",{class:Dn("description")},[S])])},l=v=>Dp[v]?R("div",{class:Dn("icon",[v])},[R(We,{name:Dp[v]||v},null)]):R("img",{src:v,class:Dn("image-icon")},null),u=(v,S)=>{const{name:E,icon:m,className:f,description:g}=v;return R("div",{role:"button",tabindex:0,class:[Dn("option"),f,nn],onClick:()=>i(v,S)},[l(m),E&&R("span",{class:Dn("name")},[E]),g&&R("span",{class:Dn("option-description")},[g])])},s=(v,S)=>R("div",{class:Dn("options",{border:S})},[v.map(u)]),c=()=>{const{options:v}=e;return Array.isArray(v[0])?v.map((S,E)=>s(S,E!==0)):s(v)},d=()=>{var v;const S=(v=e.cancelText)!=null?v:GG("cancel");if(n.cancel||S)return R("button",{type:"button",class:Dn("cancel"),onClick:a},[n.cancel?n.cancel():S])};return()=>R(Nn,Ye({class:Dn(),position:"bottom","onUpdate:show":r},mt(e,HG)),{default:()=>[o(),c(),d()]})}});const YG=Te(WG),[TT,qG]=ve("sidebar"),CT=Symbol(TT),XG={modelValue:Pe(0)};var ZG=ee({name:TT,props:XG,emits:["change","update:modelValue"],setup(e,{emit:t,slots:n}){const{linkChildren:r}=Qt(CT),a=()=>+e.modelValue;return r({getActive:a,setActive:o=>{o!==a()&&(t("update:modelValue",o),t("change",o))}}),()=>{var o;return R("div",{role:"tablist",class:qG()},[(o=n.default)==null?void 0:o.call(n)])}}});const ET=Te(ZG),[JG,Pp]=ve("sidebar-item"),QG=xe({},Qr,{dot:Boolean,title:String,badge:pe,disabled:Boolean,badgeProps:Object});var e9=ee({name:JG,props:QG,emits:["click"],setup(e,{emit:t,slots:n}){const r=Da(),{parent:a,index:i}=Xt(CT);if(!a)return;const o=()=>{e.disabled||(t("click",i.value),a.setActive(i.value),r())};return()=>{const{dot:l,badge:u,title:s,disabled:c}=e,d=i.value===a.getActive();return R("div",{role:"tab",class:Pp({select:d,disabled:c}),tabindex:c?void 0:0,"aria-selected":d,onClick:o},[R(Pa,Ye({dot:l,class:Pp("text"),content:u},e.badgeProps),{default:()=>[n.title?n.title():s]})])}}});const wT=Te(e9),[t9,so]=ve("skeleton"),OT="100%",n9="60%",r9={row:Pe(0),title:Boolean,round:Boolean,avatar:Boolean,loading:ce,animate:ce,avatarSize:pe,titleWidth:pe,avatarShape:we("round"),rowWidth:{type:[Number,String,Array],default:OT}};var a9=ee({name:t9,inheritAttrs:!1,props:r9,setup(e,{slots:t,attrs:n}){const r=()=>{if(e.avatar)return R("div",{class:so("avatar",e.avatarShape),style:Xr(e.avatarSize)},null)},a=()=>{if(e.title)return R("h3",{class:so("title"),style:{width:it(e.titleWidth)}},null)},i=l=>{const{rowWidth:u}=e;return u===OT&&l===+e.row-1?n9:Array.isArray(u)?u[l]:u},o=()=>Array(+e.row).fill("").map((l,u)=>R("div",{class:so("row"),style:{width:it(i(u))}},null));return()=>{var l;return e.loading?R("div",Ye({class:so({animate:e.animate,round:e.round})},n),[r(),R("div",{class:so("content")},[a(),o()])]):(l=t.default)==null?void 0:l.call(t)}}});const i9=Te(a9),[o9,lo]=ve("slider"),s9={min:Pe(0),max:Pe(100),step:Pe(1),range:Boolean,reverse:Boolean,disabled:Boolean,readonly:Boolean,vertical:Boolean,barHeight:pe,buttonSize:pe,activeColor:String,inactiveColor:String,modelValue:{type:[Number,Array],default:0}};var l9=ee({name:o9,props:s9,emits:["change","drag-end","drag-start","update:modelValue"],setup(e,{emit:t,slots:n}){let r,a,i;const o=q(),l=q(),u=nr(),s=N(()=>Number(e.max)-Number(e.min)),c=N(()=>{const T=e.vertical?"width":"height";return{background:e.inactiveColor,[T]:it(e.barHeight)}}),d=T=>e.range&&Array.isArray(T),v=()=>{const{modelValue:T,min:O}=e;return d(T)?`${(T[1]-T[0])*100/s.value}%`:`${(T-Number(O))*100/s.value}%`},S=()=>{const{modelValue:T,min:O}=e;return d(T)?`${(T[0]-Number(O))*100/s.value}%`:"0%"},E=N(()=>{const O={[e.vertical?"height":"width"]:v(),background:e.activeColor};l.value&&(O.transition="none");const A=()=>e.vertical?e.reverse?"bottom":"top":e.reverse?"right":"left";return O[A()]=S(),O}),m=T=>{const O=+e.min,A=+e.max,P=+e.step;T=Kt(T,O,A);const D=Math.round((T-O)/P)*P;return v1(O,D)},f=(T,O)=>JSON.stringify(T)===JSON.stringify(O),g=T=>{var O,A;const P=(O=T[0])!=null?O:Number(e.min),D=(A=T[1])!=null?A:Number(e.max);return P>D?[D,P]:[P,D]},h=(T,O)=>{d(T)?T=g(T).map(m):T=m(T),f(T,e.modelValue)||t("update:modelValue",T),O&&!f(T,i)&&t("change",T)},y=T=>{if(T.stopPropagation(),e.disabled||e.readonly)return;const{min:O,reverse:A,vertical:P,modelValue:D}=e,I=ht(o),x=()=>P?A?I.bottom-T.clientY:T.clientY-I.top:A?I.right-T.clientX:T.clientX-I.left,L=P?I.height:I.width,$=Number(O)+x()/L*s.value;if(d(D)){const[M,j]=D,F=(M+j)/2;$<=F?h([$,j],!0):h([M,$],!0)}else h($,!0)},b=T=>{e.disabled||e.readonly||(u.start(T),a=e.modelValue,d(a)?i=a.map(m):i=m(a),l.value="start")},p=T=>{if(e.disabled||e.readonly)return;l.value==="start"&&t("drag-start",T),Et(T,!0),u.move(T),l.value="dragging";const O=ht(o),A=e.vertical?u.deltaY.value:u.deltaX.value,P=e.vertical?O.height:O.width;let D=A/P*s.value;if(e.reverse&&(D=-D),d(i)){const I=e.reverse?1-r:r;a[I]=i[I]+D}else a=i+D;h(a)},C=T=>{e.disabled||e.readonly||(l.value==="dragging"&&(h(a,!0),t("drag-end",T)),l.value="")},w=T=>typeof T=="number"?lo("button-wrapper",["left","right"][T]):lo("button-wrapper",e.reverse?"left":"right"),k=(T,O)=>{if(typeof O=="number"){const A=n[O===0?"left-button":"right-button"];if(A)return A({value:T})}return n.button?n.button({value:T}):R("div",{class:lo("button"),style:Xr(e.buttonSize)},null)},_=T=>{const O=typeof T=="number"?e.modelValue[T]:e.modelValue;return R("div",{role:"slider",class:w(T),tabindex:e.disabled?void 0:0,"aria-valuemin":e.min,"aria-valuenow":O,"aria-valuemax":e.max,"aria-disabled":e.disabled||void 0,"aria-readonly":e.readonly||void 0,"aria-orientation":e.vertical?"vertical":"horizontal",onTouchstart:A=>{typeof T=="number"&&(r=T),b(A)},onTouchmove:p,onTouchend:C,onTouchcancel:C,onClick:Qd},[k(O,T)])};return h(e.modelValue),qr(()=>e.modelValue),()=>R("div",{ref:o,style:c.value,class:lo({vertical:e.vertical,disabled:e.disabled}),onClick:y},[R("div",{class:lo("bar"),style:E.value},[e.range?[_(0),_(1)]:_()])])}});const u9=Te(l9),[kT,Ip]=ve("steps"),c9={active:Pe(0),direction:we("horizontal"),activeIcon:we("checked"),iconPrefix:String,finishIcon:String,activeColor:String,inactiveIcon:String,inactiveColor:String},_T=Symbol(kT);var d9=ee({name:kT,props:c9,emits:["click-step"],setup(e,{emit:t,slots:n}){const{linkChildren:r}=Qt(_T);return r({props:e,onClickStep:i=>t("click-step",i)}),()=>{var i;return R("div",{class:Ip([e.direction])},[R("div",{class:Ip("items")},[(i=n.default)==null?void 0:i.call(n)])])}}});const[f9,Pr]=ve("step");var h9=ee({name:f9,setup(e,{slots:t}){const{parent:n,index:r}=Xt(_T);if(!n)return;const a=n.props,i=()=>{const d=+a.active;return r.value<d?"finish":r.value===d?"process":"waiting"},o=()=>i()==="process",l=N(()=>({background:i()==="finish"?a.activeColor:a.inactiveColor})),u=N(()=>{if(o())return{color:a.activeColor};if(i()==="waiting")return{color:a.inactiveColor}}),s=()=>n.onClickStep(r.value),c=()=>{const{iconPrefix:d,finishIcon:v,activeIcon:S,activeColor:E,inactiveIcon:m}=a;return o()?t["active-icon"]?t["active-icon"]():R(We,{class:Pr("icon","active"),name:S,color:E,classPrefix:d},null):i()==="finish"&&(v||t["finish-icon"])?t["finish-icon"]?t["finish-icon"]():R(We,{class:Pr("icon","finish"),name:v,color:E,classPrefix:d},null):t["inactive-icon"]?t["inactive-icon"]():m?R(We,{class:Pr("icon"),name:m,classPrefix:d},null):R("i",{class:Pr("circle"),style:l.value},null)};return()=>{var d;const v=i();return R("div",{class:[Zr,Pr([a.direction,{[v]:v}])]},[R("div",{class:Pr("title",{active:o()}),style:u.value,onClick:s},[(d=t.default)==null?void 0:d.call(t)]),R("div",{class:Pr("circle-container"),onClick:s},[c()]),R("div",{class:Pr("line"),style:l.value},null)])}}});const v9=Te(h9),[m9,As]=ve("stepper"),g9=200,p9=600,Ds=(e,t)=>String(e)===String(t),y9={min:Pe(1),max:Pe(1/0),name:Pe(""),step:Pe(1),theme:String,integer:Boolean,disabled:Boolean,showPlus:ce,showMinus:ce,showInput:ce,longPress:ce,allowEmpty:Boolean,modelValue:pe,inputWidth:pe,buttonSize:pe,placeholder:String,disablePlus:Boolean,disableMinus:Boolean,disableInput:Boolean,beforeChange:Function,defaultValue:Pe(1),decimalLength:pe};var b9=ee({name:m9,props:y9,emits:["plus","blur","minus","focus","change","overlimit","update:modelValue"],setup(e,{emit:t}){const n=k=>{const{min:_,max:T,allowEmpty:O,decimalLength:A}=e;return O&&k===""||(k=Vc(String(k),!e.integer),k=k===""?0:+k,k=Number.isNaN(k)?+_:k,k=Math.max(Math.min(+T,k),+_),rt(A)&&(k=k.toFixed(+A))),k},r=()=>{var k;const _=(k=e.modelValue)!=null?k:e.defaultValue,T=n(_);return Ds(T,e.modelValue)||t("update:modelValue",T),T};let a;const i=q(),o=q(r()),l=N(()=>e.disabled||e.disableMinus||o.value<=+e.min),u=N(()=>e.disabled||e.disablePlus||o.value>=+e.max),s=N(()=>({width:it(e.inputWidth),height:it(e.buttonSize)})),c=N(()=>Xr(e.buttonSize)),d=()=>{const k=n(o.value);Ds(k,o.value)||(o.value=k)},v=k=>{e.beforeChange?Jr(e.beforeChange,{args:[k],done(){o.value=k}}):o.value=k},S=()=>{if(a==="plus"&&u.value||a==="minus"&&l.value){t("overlimit",a);return}const k=a==="minus"?-e.step:+e.step,_=n(v1(+o.value,k));v(_),t(a)},E=k=>{const _=k.target,{value:T}=_,{decimalLength:O}=e;let A=Vc(String(T),!e.integer);if(rt(O)&&A.includes(".")){const D=A.split(".");A=`${D[0]}.${D[1].slice(0,+O)}`}e.beforeChange?_.value=String(o.value):Ds(T,A)||(_.value=A);const P=A===String(+A);v(P?+A:A)},m=k=>{var _;e.disableInput?(_=i.value)==null||_.blur():t("focus",k)},f=k=>{const _=k.target,T=n(_.value);_.value=String(T),o.value=T,Re(()=>{t("blur",k),f1()})};let g,h;const y=()=>{h=setTimeout(()=>{S(),y()},g9)},b=()=>{e.longPress&&(g=!1,clearTimeout(h),h=setTimeout(()=>{g=!0,S(),y()},p9))},p=k=>{e.longPress&&(clearTimeout(h),g&&Et(k))},C=k=>{e.disableInput&&Et(k)},w=k=>({onClick:_=>{Et(_),a=k,S()},onTouchstart:()=>{a=k,b()},onTouchend:p,onTouchcancel:p});return oe(()=>[e.max,e.min,e.integer,e.decimalLength],d),oe(()=>e.modelValue,k=>{Ds(k,o.value)||(o.value=n(k))}),oe(o,k=>{t("update:modelValue",k),t("change",k,{name:e.name})}),qr(()=>e.modelValue),()=>R("div",{role:"group",class:As([e.theme])},[Ke(R("button",Ye({type:"button",style:c.value,class:[As("minus",{disabled:l.value}),{[nn]:!l.value}],"aria-disabled":l.value||void 0},w("minus")),null),[[Xe,e.showMinus]]),Ke(R("input",{ref:i,type:e.integer?"tel":"text",role:"spinbutton",class:As("input"),value:o.value,style:s.value,disabled:e.disabled,readonly:e.disableInput,inputmode:e.integer?"numeric":"decimal",placeholder:e.placeholder,"aria-valuemax":e.max,"aria-valuemin":e.min,"aria-valuenow":o.value,onBlur:f,onInput:E,onFocus:m,onMousedown:C},null),[[Xe,e.showInput]]),Ke(R("button",Ye({type:"button",style:c.value,class:[As("plus",{disabled:u.value}),{[nn]:!u.value}],"aria-disabled":u.value||void 0},w("plus")),null),[[Xe,e.showPlus]])])}});const S9=Te(b9),T9=Te(d9),[C9,Yn,E9]=ve("submit-bar"),w9={tip:String,label:String,price:Number,tipIcon:String,loading:Boolean,currency:we("\xA5"),disabled:Boolean,textAlign:String,buttonText:String,buttonType:we("danger"),buttonColor:String,suffixLabel:String,decimalLength:Pe(2),safeAreaInsetBottom:ce};var O9=ee({name:C9,props:w9,emits:["submit"],setup(e,{emit:t,slots:n}){const r=()=>{const{price:l,label:u,currency:s,textAlign:c,suffixLabel:d,decimalLength:v}=e;if(typeof l=="number"){const S=(l/100).toFixed(+v).split("."),E=v?`.${S[1]}`:"";return R("div",{class:Yn("text"),style:{textAlign:c}},[R("span",null,[u||E9("label")]),R("span",{class:Yn("price")},[s,R("span",{class:Yn("price-integer")},[S[0]]),E]),d&&R("span",{class:Yn("suffix-label")},[d])])}},a=()=>{var l;const{tip:u,tipIcon:s}=e;if(n.tip||u)return R("div",{class:Yn("tip")},[s&&R(We,{class:Yn("tip-icon"),name:s},null),u&&R("span",{class:Yn("tip-text")},[u]),(l=n.tip)==null?void 0:l.call(n)])},i=()=>t("submit"),o=()=>n.button?n.button():R(rn,{round:!0,type:e.buttonType,text:e.buttonText,class:Yn("button",e.buttonType),color:e.buttonColor,loading:e.loading,disabled:e.disabled,onClick:i},null);return()=>{var l,u;return R("div",{class:[Yn(),{"van-safe-area-bottom":e.safeAreaInsetBottom}]},[(l=n.top)==null?void 0:l.call(n),a(),R("div",{class:Yn("bar")},[(u=n.default)==null?void 0:u.call(n),r(),o()])])}}});const k9=Te(O9),[_9,zu]=ve("swipe-cell"),A9={name:Pe(""),disabled:Boolean,leftWidth:pe,rightWidth:pe,beforeClose:Function,stopPropagation:Boolean};var D9=ee({name:_9,props:A9,emits:["open","close","click"],setup(e,{emit:t,slots:n}){let r,a,i;const o=q(),l=q(),u=q(),s=Me({offset:0,dragging:!1}),c=nr(),d=w=>w.value?ht(w).width:0,v=N(()=>rt(e.leftWidth)?+e.leftWidth:d(l)),S=N(()=>rt(e.rightWidth)?+e.rightWidth:d(u)),E=w=>{s.offset=w==="left"?v.value:-S.value,r||(r=!0,t("open",{name:e.name,position:w}))},m=w=>{s.offset=0,r&&(r=!1,t("close",{name:e.name,position:w}))},f=w=>{const k=Math.abs(s.offset),_=.15,T=r?1-_:_,O=w==="left"?v.value:S.value;O&&k>O*T?E(w):m(w)},g=w=>{e.disabled||(i=s.offset,c.start(w))},h=w=>{if(e.disabled)return;const{deltaX:k}=c;c.move(w),c.isHorizontal()&&(a=!0,s.dragging=!0,(!r||k.value*i<0)&&Et(w,e.stopPropagation),s.offset=Kt(k.value+i,-S.value,v.value))},y=()=>{s.dragging&&(s.dragging=!1,f(s.offset>0?"left":"right"),setTimeout(()=>{a=!1},0))},b=(w="outside")=>{t("click",w),r&&!a&&Jr(e.beforeClose,{args:[{name:e.name,position:w}],done:()=>m(w)})},p=(w,k)=>_=>{k&&_.stopPropagation(),b(w)},C=(w,k)=>{const _=n[w];if(_)return R("div",{ref:k,class:zu(w),onClick:p(w,!0)},[_()])};return st({open:E,close:m}),Fl(o,()=>b("outside"),{eventName:"touchstart"}),()=>{var w;const k={transform:`translate3d(${s.offset}px, 0, 0)`,transitionDuration:s.dragging?"0s":".6s"};return R("div",{ref:o,class:zu(),onClick:p("cell",a),onTouchstart:g,onTouchmove:h,onTouchend:y,onTouchcancel:y},[R("div",{class:zu("wrapper"),style:k},[C("left",l),(w=n.default)==null?void 0:w.call(n),C("right",u)])])}}});const P9=Te(D9),[AT,Lp]=ve("tabbar"),I9={route:Boolean,fixed:ce,border:ce,zIndex:pe,placeholder:Boolean,activeColor:String,beforeChange:Function,inactiveColor:String,modelValue:Pe(0),safeAreaInsetBottom:{type:Boolean,default:null}},DT=Symbol(AT);var L9=ee({name:AT,props:I9,emits:["change","update:modelValue"],setup(e,{emit:t,slots:n}){const r=q(),{linkChildren:a}=Qt(DT),i=dT(r,Lp),o=()=>{var s;return(s=e.safeAreaInsetBottom)!=null?s:e.fixed},l=()=>{var s;const{fixed:c,zIndex:d,border:v}=e;return R("div",{ref:r,role:"tablist",style:Aa(d),class:[Lp({fixed:c}),{[jl]:v,"van-safe-area-bottom":o()}]},[(s=n.default)==null?void 0:s.call(n)])};return a({props:e,setActive:(s,c)=>{Jr(e.beforeChange,{args:[s],done(){t("update:modelValue",s),t("change",s),c()}})}}),()=>e.fixed&&e.placeholder?i(l):l()}});const R9=Te(L9),[x9,Gu]=ve("tabbar-item"),$9=xe({},Qr,{dot:Boolean,icon:String,name:pe,badge:pe,badgeProps:Object,iconPrefix:String});var M9=ee({name:x9,props:$9,emits:["click"],setup(e,{emit:t,slots:n}){const r=Da(),a=Be().proxy,{parent:i,index:o}=Xt(DT);if(!i)return;const l=N(()=>{var c;const{route:d,modelValue:v}=i.props;if(d&&"$route"in a){const{$route:S}=a,{to:E}=e,m=wn(E)?E:{path:E};return!!S.matched.find(f=>{const g="path"in m&&m.path===f.path,h="name"in m&&m.name===f.name;return g||h})}return((c=e.name)!=null?c:o.value)===v}),u=c=>{var d;l.value||i.setActive((d=e.name)!=null?d:o.value,r),t("click",c)},s=()=>{if(n.icon)return n.icon({active:l.value});if(e.icon)return R(We,{name:e.icon,classPrefix:e.iconPrefix},null)};return()=>{var c;const{dot:d,badge:v}=e,{activeColor:S,inactiveColor:E}=i.props,m=l.value?S:E;return R("div",{role:"tab",class:Gu({active:l.value}),style:{color:m},tabindex:0,"aria-selected":l.value,onClick:u},[R(Pa,Ye({dot:d,class:Gu("icon"),content:v},e.badgeProps),{default:s}),R("div",{class:Gu("text")},[(c=n.default)==null?void 0:c.call(n,{active:l.value})])])}}});const F9=Te(M9),[B9,Ya]=ve("tree-select"),N9={max:Pe(1/0),items:Ut(),height:Pe(300),selectedIcon:we("success"),mainActiveIndex:Pe(0),activeId:{type:[Number,String,Array],default:0}};var j9=ee({name:B9,props:N9,emits:["click-nav","click-item","update:activeId","update:mainActiveIndex"],setup(e,{emit:t,slots:n}){const r=s=>Array.isArray(e.activeId)?e.activeId.includes(s):e.activeId===s,a=s=>{const c=()=>{if(s.disabled)return;let d;if(Array.isArray(e.activeId)){d=e.activeId.slice();const v=d.indexOf(s.id);v!==-1?d.splice(v,1):d.length<e.max&&d.push(s.id)}else d=s.id;t("update:activeId",d),t("click-item",s)};return R("div",{key:s.id,class:["van-ellipsis",Ya("item",{active:r(s.id),disabled:s.disabled})],onClick:c},[s.text,r(s.id)&&R(We,{name:e.selectedIcon,class:Ya("selected")},null)])},i=s=>{t("update:mainActiveIndex",s)},o=s=>t("click-nav",s),l=()=>{const s=e.items.map(c=>R(wT,{dot:c.dot,title:c.text,badge:c.badge,class:[Ya("nav-item"),c.className],disabled:c.disabled,onClick:o},null));return R(ET,{class:Ya("nav"),modelValue:e.mainActiveIndex,onChange:i},{default:()=>[s]})},u=()=>{if(n.content)return n.content();const s=e.items[+e.mainActiveIndex]||{};if(s.children)return s.children.map(a)};return()=>R("div",{class:Ya(),style:{height:it(e.height)}},[l(),R("div",{class:Ya("content")},[u()])])}});const U9=Te(j9),[V9,Lt,H9]=ve("uploader"),PT=e=>Array.isArray(e)?e:[e];function Rp(e,t){return new Promise(n=>{if(t==="file"){n();return}const r=new FileReader;r.onload=a=>{n(a.target.result)},t==="dataUrl"?r.readAsDataURL(e):t==="text"&&r.readAsText(e)})}function IT(e,t){return PT(e).some(n=>n.file?gi(t)?t(n.file):n.file.size>t:!1)}function z9(e,t){const n=[],r=[];return e.forEach(a=>{IT(a,t)?r.push(a):n.push(a)}),{valid:n,invalid:r}}const G9=/\.(jpeg|jpg|gif|png|svg|webp|jfif|bmp|dpg)/i,K9=e=>G9.test(e);function LT(e){return e.isImage?!0:e.file&&e.file.type?e.file.type.indexOf("image")===0:e.url?K9(e.url):typeof e.content=="string"?e.content.indexOf("data:image")===0:!1}var W9=ee({props:{name:pe,item:xt(Object),index:Number,imageFit:String,lazyLoad:Boolean,deletable:Boolean,previewSize:[Number,String,Array],beforeDelete:Function},emits:["delete","preview"],setup(e,{emit:t,slots:n}){const r=()=>{const{status:s,message:c}=e.item;if(s==="uploading"||s==="failed"){const d=s==="failed"?R(We,{name:"close",class:Lt("mask-icon")},null):R(Bn,{class:Lt("loading")},null),v=rt(c)&&c!=="";return R("div",{class:Lt("mask")},[d,v&&R("div",{class:Lt("mask-message")},[c])])}},a=s=>{const{name:c,item:d,index:v,beforeDelete:S}=e;s.stopPropagation(),Jr(S,{args:[d,{name:c,index:v}],done:()=>t("delete")})},i=()=>t("preview"),o=()=>{if(e.deletable&&e.item.status!=="uploading")return R("div",{role:"button",class:Lt("preview-delete"),tabindex:0,"aria-label":H9("delete"),onClick:a},[R(We,{name:"cross",class:Lt("preview-delete-icon")},null)])},l=()=>{if(n["preview-cover"]){const{index:s,item:c}=e;return R("div",{class:Lt("preview-cover")},[n["preview-cover"](xe({index:s},c))])}},u=()=>{const{item:s,lazyLoad:c,imageFit:d,previewSize:v}=e;return LT(s)?R(ql,{fit:d,src:s.content||s.url,class:Lt("preview-image"),width:Array.isArray(v)?v[0]:v,height:Array.isArray(v)?v[1]:v,lazyLoad:c,onClick:i},{default:l}):R("div",{class:Lt("file"),style:Xr(e.previewSize)},[R(We,{class:Lt("file-icon"),name:"description"},null),R("div",{class:[Lt("file-name"),"van-ellipsis"]},[s.file?s.file.name:s.url]),l()])};return()=>R("div",{class:Lt("preview")},[u(),r(),o()])}});const Y9={name:Pe(""),accept:we("image/*"),capture:String,multiple:Boolean,disabled:Boolean,readonly:Boolean,lazyLoad:Boolean,maxCount:Pe(1/0),imageFit:we("cover"),resultType:we("dataUrl"),uploadIcon:we("photograph"),uploadText:String,deletable:ce,afterRead:Function,showUpload:ce,modelValue:Ut(),beforeRead:Function,beforeDelete:Function,previewSize:[Number,String,Array],previewImage:ce,previewOptions:Object,previewFullImage:ce,maxSize:{type:[Number,String,Function],default:1/0}};var q9=ee({name:V9,props:Y9,emits:["delete","oversize","click-upload","close-preview","click-preview","update:modelValue"],setup(e,{emit:t,slots:n}){const r=q(),a=[],i=(b=e.modelValue.length)=>({name:e.name,index:b}),o=()=>{r.value&&(r.value.value="")},l=b=>{if(o(),IT(b,e.maxSize))if(Array.isArray(b)){const p=z9(b,e.maxSize);if(b=p.valid,t("oversize",p.invalid,i()),!b.length)return}else{t("oversize",b,i());return}b=Me(b),t("update:modelValue",[...e.modelValue,...PT(b)]),e.afterRead&&e.afterRead(b,i())},u=b=>{const{maxCount:p,modelValue:C,resultType:w}=e;if(Array.isArray(b)){const k=+p-C.length;b.length>k&&(b=b.slice(0,k)),Promise.all(b.map(_=>Rp(_,w))).then(_=>{const T=b.map((O,A)=>{const P={file:O,status:"",message:""};return _[A]&&(P.content=_[A]),P});l(T)})}else Rp(b,w).then(k=>{const _={file:b,status:"",message:""};k&&(_.content=k),l(_)})},s=b=>{const{files:p}=b.target;if(e.disabled||!p||!p.length)return;const C=p.length===1?p[0]:[].slice.call(p);if(e.beforeRead){const w=e.beforeRead(C,i());if(!w){o();return}if(Jd(w)){w.then(k=>{u(k||C)}).catch(o);return}}u(C)};let c;const d=()=>t("close-preview"),v=b=>{if(e.previewFullImage){const p=e.modelValue.filter(LT),C=p.map(w=>(w.file&&!w.url&&(w.url=URL.createObjectURL(w.file),a.push(w.url)),w.url)).filter(Boolean);c=$o(xe({images:C,startPosition:p.indexOf(b),onClose:d},e.previewOptions))}},S=()=>{c&&c.close()},E=(b,p)=>{const C=e.modelValue.slice(0);C.splice(p,1),t("update:modelValue",C),t("delete",b,i(p))},m=(b,p)=>{const C=["imageFit","deletable","previewSize","beforeDelete"],w=xe(mt(e,C),mt(b,C,!0));return R(W9,Ye({item:b,index:p,onClick:()=>t("click-preview",b,i(p)),onDelete:()=>E(b,p),onPreview:()=>v(b)},mt(e,["name","lazyLoad"]),w),{"preview-cover":n["preview-cover"]})},f=()=>{if(e.previewImage)return e.modelValue.map(m)},g=b=>t("click-upload",b),h=()=>{if(e.modelValue.length>=e.maxCount||!e.showUpload)return;const b=e.readonly?null:R("input",{ref:r,type:"file",class:Lt("input"),accept:e.accept,capture:e.capture,multiple:e.multiple,disabled:e.disabled,onChange:s},null);return n.default?R("div",{class:Lt("input-wrapper"),onClick:g},[n.default(),b]):R("div",{class:Lt("upload",{readonly:e.readonly}),style:Xr(e.previewSize),onClick:g},[R(We,{name:e.uploadIcon,class:Lt("upload-icon")},null),e.uploadText&&R("span",{class:Lt("upload-text")},[e.uploadText]),b])},y=()=>{r.value&&!e.disabled&&r.value.click()};return tr(()=>{a.forEach(b=>URL.revokeObjectURL(b))}),st({chooseFile:y,closeImagePreview:S}),qr(()=>e.modelValue),()=>R("div",{class:Lt()},[R("div",{class:Lt("wrapper",{disabled:e.disabled})},[f(),h()])])}});const X9=Te(q9),Z9="3.4.8";function J9(e){[T1,zc,m5,D5,E8,N8,D1,Pa,rn,Q8,oV,RV,jn,FV,Z1,GV,ZV,i6,u6,v6,m6,b6,E6,A6,x6,Xc,V6,Z6,oH,Mt,mH,TH,CH,nT,Jn,sf,kH,PH,We,ql,$o,zH,GH,XH,Bn,g1,ez,az,vn,pz,k1,Tz,Oz,Vl,TG,Nn,OG,IG,hf,df,MG,FG,VG,YG,ET,wT,i9,u9,v9,S9,T9,H1,k9,mf,P9,gf,cf,sl,R9,F9,pf,Wl,an,U9,X9].forEach(n=>{n.install?e.use(n):n.name&&e.component(n.name,n)})}var Q9={install:J9,version:Z9};const eK="modulepreload",xp={},tK="./",lt=function(t,n){return!n||n.length===0?t():Promise.all(n.map(r=>{if(r=`${tK}${r}`,r in xp)return;xp[r]=!0;const a=r.endsWith(".css"),i=a?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${r}"]${i}`))return;const o=document.createElement("link");if(o.rel=a?"stylesheet":eK,a||(o.as="script",o.crossOrigin=""),o.href=r,document.head.appendChild(o),a)return new Promise((l,u)=>{o.addEventListener("load",l),o.addEventListener("error",()=>u(new Error(`Unable to preload CSS for ${r}`)))})})).then(()=>t())};/*!
  * vue-router v4.0.14
  * (c) 2022 Eduardo San Martin Morote
  * @license MIT
  */const RT=typeof Symbol=="function"&&typeof Symbol.toStringTag=="symbol",Mi=e=>RT?Symbol(e):"_vr_"+e,xT=Mi("rvlm"),$p=Mi("rvd"),Jl=Mi("r"),wf=Mi("rl"),Jc=Mi("rvl"),ai=typeof window!="undefined";function nK(e){return e.__esModule||RT&&e[Symbol.toStringTag]==="Module"}const ct=Object.assign;function Ku(e,t){const n={};for(const r in t){const a=t[r];n[r]=Array.isArray(a)?a.map(e):e(a)}return n}const ko=()=>{},rK=/\/$/,aK=e=>e.replace(rK,"");function Wu(e,t,n="/"){let r,a={},i="",o="";const l=t.indexOf("?"),u=t.indexOf("#",l>-1?l:0);return l>-1&&(r=t.slice(0,l),i=t.slice(l+1,u>-1?u:t.length),a=e(i)),u>-1&&(r=r||t.slice(0,u),o=t.slice(u,t.length)),r=lK(r!=null?r:t,n),{fullPath:r+(i&&"?")+i+o,path:r,query:a,hash:o}}function iK(e,t){const n=t.query?e(t.query):"";return t.path+(n&&"?")+n+(t.hash||"")}function Mp(e,t){return!t||!e.toLowerCase().startsWith(t.toLowerCase())?e:e.slice(t.length)||"/"}function oK(e,t,n){const r=t.matched.length-1,a=n.matched.length-1;return r>-1&&r===a&&Si(t.matched[r],n.matched[a])&&$T(t.params,n.params)&&e(t.query)===e(n.query)&&t.hash===n.hash}function Si(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function $T(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(!sK(e[n],t[n]))return!1;return!0}function sK(e,t){return Array.isArray(e)?Fp(e,t):Array.isArray(t)?Fp(t,e):e===t}function Fp(e,t){return Array.isArray(t)?e.length===t.length&&e.every((n,r)=>n===t[r]):e.length===1&&e[0]===t}function lK(e,t){if(e.startsWith("/"))return e;if(!e)return t;const n=t.split("/"),r=e.split("/");let a=n.length-1,i,o;for(i=0;i<r.length;i++)if(o=r[i],!(a===1||o==="."))if(o==="..")a--;else break;return n.slice(0,a).join("/")+"/"+r.slice(i-(i===r.length?1:0)).join("/")}var Fo;(function(e){e.pop="pop",e.push="push"})(Fo||(Fo={}));var _o;(function(e){e.back="back",e.forward="forward",e.unknown=""})(_o||(_o={}));function uK(e){if(!e)if(ai){const t=document.querySelector("base");e=t&&t.getAttribute("href")||"/",e=e.replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return e[0]!=="/"&&e[0]!=="#"&&(e="/"+e),aK(e)}const cK=/^[^#]+#/;function dK(e,t){return e.replace(cK,"#")+t}function fK(e,t){const n=document.documentElement.getBoundingClientRect(),r=e.getBoundingClientRect();return{behavior:t.behavior,left:r.left-n.left-(t.left||0),top:r.top-n.top-(t.top||0)}}const Ql=()=>({left:window.pageXOffset,top:window.pageYOffset});function hK(e){let t;if("el"in e){const n=e.el,r=typeof n=="string"&&n.startsWith("#"),a=typeof n=="string"?r?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!a)return;t=fK(a,e)}else t=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(t.left!=null?t.left:window.pageXOffset,t.top!=null?t.top:window.pageYOffset)}function Bp(e,t){return(history.state?history.state.position-t:-1)+e}const Qc=new Map;function vK(e,t){Qc.set(e,t)}function mK(e){const t=Qc.get(e);return Qc.delete(e),t}let gK=()=>location.protocol+"//"+location.host;function MT(e,t){const{pathname:n,search:r,hash:a}=t,i=e.indexOf("#");if(i>-1){let l=a.includes(e.slice(i))?e.slice(i).length:1,u=a.slice(l);return u[0]!=="/"&&(u="/"+u),Mp(u,"")}return Mp(n,e)+r+a}function pK(e,t,n,r){let a=[],i=[],o=null;const l=({state:v})=>{const S=MT(e,location),E=n.value,m=t.value;let f=0;if(v){if(n.value=S,t.value=v,o&&o===E){o=null;return}f=m?v.position-m.position:0}else r(S);a.forEach(g=>{g(n.value,E,{delta:f,type:Fo.pop,direction:f?f>0?_o.forward:_o.back:_o.unknown})})};function u(){o=n.value}function s(v){a.push(v);const S=()=>{const E=a.indexOf(v);E>-1&&a.splice(E,1)};return i.push(S),S}function c(){const{history:v}=window;!v.state||v.replaceState(ct({},v.state,{scroll:Ql()}),"")}function d(){for(const v of i)v();i=[],window.removeEventListener("popstate",l),window.removeEventListener("beforeunload",c)}return window.addEventListener("popstate",l),window.addEventListener("beforeunload",c),{pauseListeners:u,listen:s,destroy:d}}function Np(e,t,n,r=!1,a=!1){return{back:e,current:t,forward:n,replaced:r,position:window.history.length,scroll:a?Ql():null}}function yK(e){const{history:t,location:n}=window,r={value:MT(e,n)},a={value:t.state};a.value||i(r.value,{back:null,current:r.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0);function i(u,s,c){const d=e.indexOf("#"),v=d>-1?(n.host&&document.querySelector("base")?e:e.slice(d))+u:gK()+e+u;try{t[c?"replaceState":"pushState"](s,"",v),a.value=s}catch(S){console.error(S),n[c?"replace":"assign"](v)}}function o(u,s){const c=ct({},t.state,Np(a.value.back,u,a.value.forward,!0),s,{position:a.value.position});i(u,c,!0),r.value=u}function l(u,s){const c=ct({},a.value,t.state,{forward:u,scroll:Ql()});i(c.current,c,!0);const d=ct({},Np(r.value,u,null),{position:c.position+1},s);i(u,d,!1),r.value=u}return{location:r,state:a,push:l,replace:o}}function bK(e){e=uK(e);const t=yK(e),n=pK(e,t.state,t.location,t.replace);function r(i,o=!0){o||n.pauseListeners(),history.go(i)}const a=ct({location:"",base:e,go:r,createHref:dK.bind(null,e)},t,n);return Object.defineProperty(a,"location",{enumerable:!0,get:()=>t.location.value}),Object.defineProperty(a,"state",{enumerable:!0,get:()=>t.state.value}),a}function SK(e){return e=location.host?e||location.pathname+location.search:"",e.includes("#")||(e+="#"),bK(e)}function TK(e){return typeof e=="string"||e&&typeof e=="object"}function FT(e){return typeof e=="string"||typeof e=="symbol"}const Ir={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},BT=Mi("nf");var jp;(function(e){e[e.aborted=4]="aborted",e[e.cancelled=8]="cancelled",e[e.duplicated=16]="duplicated"})(jp||(jp={}));function Ti(e,t){return ct(new Error,{type:e,[BT]:!0},t)}function Lr(e,t){return e instanceof Error&&BT in e&&(t==null||!!(e.type&t))}const Up="[^/]+?",CK={sensitive:!1,strict:!1,start:!0,end:!0},EK=/[.+*?^${}()[\]/\\]/g;function wK(e,t){const n=ct({},CK,t),r=[];let a=n.start?"^":"";const i=[];for(const s of e){const c=s.length?[]:[90];n.strict&&!s.length&&(a+="/");for(let d=0;d<s.length;d++){const v=s[d];let S=40+(n.sensitive?.25:0);if(v.type===0)d||(a+="/"),a+=v.value.replace(EK,"\\$&"),S+=40;else if(v.type===1){const{value:E,repeatable:m,optional:f,regexp:g}=v;i.push({name:E,repeatable:m,optional:f});const h=g||Up;if(h!==Up){S+=10;try{new RegExp(`(${h})`)}catch(b){throw new Error(`Invalid custom RegExp for param "${E}" (${h}): `+b.message)}}let y=m?`((?:${h})(?:/(?:${h}))*)`:`(${h})`;d||(y=f&&s.length<2?`(?:/${y})`:"/"+y),f&&(y+="?"),a+=y,S+=20,f&&(S+=-8),m&&(S+=-20),h===".*"&&(S+=-50)}c.push(S)}r.push(c)}if(n.strict&&n.end){const s=r.length-1;r[s][r[s].length-1]+=.7000000000000001}n.strict||(a+="/?"),n.end?a+="$":n.strict&&(a+="(?:/|$)");const o=new RegExp(a,n.sensitive?"":"i");function l(s){const c=s.match(o),d={};if(!c)return null;for(let v=1;v<c.length;v++){const S=c[v]||"",E=i[v-1];d[E.name]=S&&E.repeatable?S.split("/"):S}return d}function u(s){let c="",d=!1;for(const v of e){(!d||!c.endsWith("/"))&&(c+="/"),d=!1;for(const S of v)if(S.type===0)c+=S.value;else if(S.type===1){const{value:E,repeatable:m,optional:f}=S,g=E in s?s[E]:"";if(Array.isArray(g)&&!m)throw new Error(`Provided param "${E}" is an array but it is not repeatable (* or + modifiers)`);const h=Array.isArray(g)?g.join("/"):g;if(!h)if(f)v.length<2&&(c.endsWith("/")?c=c.slice(0,-1):d=!0);else throw new Error(`Missing required param "${E}"`);c+=h}}return c}return{re:o,score:r,keys:i,parse:l,stringify:u}}function OK(e,t){let n=0;for(;n<e.length&&n<t.length;){const r=t[n]-e[n];if(r)return r;n++}return e.length<t.length?e.length===1&&e[0]===40+40?-1:1:e.length>t.length?t.length===1&&t[0]===40+40?1:-1:0}function kK(e,t){let n=0;const r=e.score,a=t.score;for(;n<r.length&&n<a.length;){const i=OK(r[n],a[n]);if(i)return i;n++}return a.length-r.length}const _K={type:0,value:""},AK=/[a-zA-Z0-9_]/;function DK(e){if(!e)return[[]];if(e==="/")return[[_K]];if(!e.startsWith("/"))throw new Error(`Invalid path "${e}"`);function t(S){throw new Error(`ERR (${n})/"${s}": ${S}`)}let n=0,r=n;const a=[];let i;function o(){i&&a.push(i),i=[]}let l=0,u,s="",c="";function d(){!s||(n===0?i.push({type:0,value:s}):n===1||n===2||n===3?(i.length>1&&(u==="*"||u==="+")&&t(`A repeatable param (${s}) must be alone in its segment. eg: '/:ids+.`),i.push({type:1,value:s,regexp:c,repeatable:u==="*"||u==="+",optional:u==="*"||u==="?"})):t("Invalid state to consume buffer"),s="")}function v(){s+=u}for(;l<e.length;){if(u=e[l++],u==="\\"&&n!==2){r=n,n=4;continue}switch(n){case 0:u==="/"?(s&&d(),o()):u===":"?(d(),n=1):v();break;case 4:v(),n=r;break;case 1:u==="("?n=2:AK.test(u)?v():(d(),n=0,u!=="*"&&u!=="?"&&u!=="+"&&l--);break;case 2:u===")"?c[c.length-1]=="\\"?c=c.slice(0,-1)+u:n=3:c+=u;break;case 3:d(),n=0,u!=="*"&&u!=="?"&&u!=="+"&&l--,c="";break;default:t("Unknown state");break}}return n===2&&t(`Unfinished custom RegExp for param "${s}"`),d(),o(),a}function PK(e,t,n){const r=wK(DK(e.path),n),a=ct(r,{record:e,parent:t,children:[],alias:[]});return t&&!a.record.aliasOf==!t.record.aliasOf&&t.children.push(a),a}function IK(e,t){const n=[],r=new Map;t=Hp({strict:!1,end:!0,sensitive:!1},t);function a(c){return r.get(c)}function i(c,d,v){const S=!v,E=RK(c);E.aliasOf=v&&v.record;const m=Hp(t,c),f=[E];if("alias"in c){const y=typeof c.alias=="string"?[c.alias]:c.alias;for(const b of y)f.push(ct({},E,{components:v?v.record.components:E.components,path:b,aliasOf:v?v.record:E}))}let g,h;for(const y of f){const{path:b}=y;if(d&&b[0]!=="/"){const p=d.record.path,C=p[p.length-1]==="/"?"":"/";y.path=d.record.path+(b&&C+b)}if(g=PK(y,d,m),v?v.alias.push(g):(h=h||g,h!==g&&h.alias.push(g),S&&c.name&&!Vp(g)&&o(c.name)),"children"in E){const p=E.children;for(let C=0;C<p.length;C++)i(p[C],g,v&&v.children[C])}v=v||g,u(g)}return h?()=>{o(h)}:ko}function o(c){if(FT(c)){const d=r.get(c);d&&(r.delete(c),n.splice(n.indexOf(d),1),d.children.forEach(o),d.alias.forEach(o))}else{const d=n.indexOf(c);d>-1&&(n.splice(d,1),c.record.name&&r.delete(c.record.name),c.children.forEach(o),c.alias.forEach(o))}}function l(){return n}function u(c){let d=0;for(;d<n.length&&kK(c,n[d])>=0&&(c.record.path!==n[d].record.path||!NT(c,n[d]));)d++;n.splice(d,0,c),c.record.name&&!Vp(c)&&r.set(c.record.name,c)}function s(c,d){let v,S={},E,m;if("name"in c&&c.name){if(v=r.get(c.name),!v)throw Ti(1,{location:c});m=v.record.name,S=ct(LK(d.params,v.keys.filter(h=>!h.optional).map(h=>h.name)),c.params),E=v.stringify(S)}else if("path"in c)E=c.path,v=n.find(h=>h.re.test(E)),v&&(S=v.parse(E),m=v.record.name);else{if(v=d.name?r.get(d.name):n.find(h=>h.re.test(d.path)),!v)throw Ti(1,{location:c,currentLocation:d});m=v.record.name,S=ct({},d.params,c.params),E=v.stringify(S)}const f=[];let g=v;for(;g;)f.unshift(g.record),g=g.parent;return{name:m,path:E,params:S,matched:f,meta:$K(f)}}return e.forEach(c=>i(c)),{addRoute:i,resolve:s,removeRoute:o,getRoutes:l,getRecordMatcher:a}}function LK(e,t){const n={};for(const r of t)r in e&&(n[r]=e[r]);return n}function RK(e){return{path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:void 0,beforeEnter:e.beforeEnter,props:xK(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||{}:{default:e.component}}}function xK(e){const t={},n=e.props||!1;if("component"in e)t.default=n;else for(const r in e.components)t[r]=typeof n=="boolean"?n:n[r];return t}function Vp(e){for(;e;){if(e.record.aliasOf)return!0;e=e.parent}return!1}function $K(e){return e.reduce((t,n)=>ct(t,n.meta),{})}function Hp(e,t){const n={};for(const r in e)n[r]=r in t?t[r]:e[r];return n}function NT(e,t){return t.children.some(n=>n===e||NT(e,n))}const jT=/#/g,MK=/&/g,FK=/\//g,BK=/=/g,NK=/\?/g,UT=/\+/g,jK=/%5B/g,UK=/%5D/g,VT=/%5E/g,VK=/%60/g,HT=/%7B/g,HK=/%7C/g,zT=/%7D/g,zK=/%20/g;function Of(e){return encodeURI(""+e).replace(HK,"|").replace(jK,"[").replace(UK,"]")}function GK(e){return Of(e).replace(HT,"{").replace(zT,"}").replace(VT,"^")}function ed(e){return Of(e).replace(UT,"%2B").replace(zK,"+").replace(jT,"%23").replace(MK,"%26").replace(VK,"`").replace(HT,"{").replace(zT,"}").replace(VT,"^")}function KK(e){return ed(e).replace(BK,"%3D")}function WK(e){return Of(e).replace(jT,"%23").replace(NK,"%3F")}function YK(e){return e==null?"":WK(e).replace(FK,"%2F")}function ul(e){try{return decodeURIComponent(""+e)}catch{}return""+e}function qK(e){const t={};if(e===""||e==="?")return t;const r=(e[0]==="?"?e.slice(1):e).split("&");for(let a=0;a<r.length;++a){const i=r[a].replace(UT," "),o=i.indexOf("="),l=ul(o<0?i:i.slice(0,o)),u=o<0?null:ul(i.slice(o+1));if(l in t){let s=t[l];Array.isArray(s)||(s=t[l]=[s]),s.push(u)}else t[l]=u}return t}function zp(e){let t="";for(let n in e){const r=e[n];if(n=KK(n),r==null){r!==void 0&&(t+=(t.length?"&":"")+n);continue}(Array.isArray(r)?r.map(i=>i&&ed(i)):[r&&ed(r)]).forEach(i=>{i!==void 0&&(t+=(t.length?"&":"")+n,i!=null&&(t+="="+i))})}return t}function XK(e){const t={};for(const n in e){const r=e[n];r!==void 0&&(t[n]=Array.isArray(r)?r.map(a=>a==null?null:""+a):r==null?r:""+r)}return t}function uo(){let e=[];function t(r){return e.push(r),()=>{const a=e.indexOf(r);a>-1&&e.splice(a,1)}}function n(){e=[]}return{add:t,list:()=>e,reset:n}}function ZK(e,t,n){const r=()=>{e[t].delete(n)};Mn(r),zr(r),Ea(()=>{e[t].add(n)}),e[t].add(n)}function ZY(e){const t=et(xT,{}).value;!t||ZK(t,"leaveGuards",e)}function $r(e,t,n,r,a){const i=r&&(r.enterCallbacks[a]=r.enterCallbacks[a]||[]);return()=>new Promise((o,l)=>{const u=d=>{d===!1?l(Ti(4,{from:n,to:t})):d instanceof Error?l(d):TK(d)?l(Ti(2,{from:t,to:d})):(i&&r.enterCallbacks[a]===i&&typeof d=="function"&&i.push(d),o())},s=e.call(r&&r.instances[a],t,n,u);let c=Promise.resolve(s);e.length<3&&(c=c.then(u)),c.catch(d=>l(d))})}function Yu(e,t,n,r){const a=[];for(const i of e)for(const o in i.components){let l=i.components[o];if(!(t!=="beforeRouteEnter"&&!i.instances[o]))if(JK(l)){const s=(l.__vccOpts||l)[t];s&&a.push($r(s,n,r,i,o))}else{let u=l();a.push(()=>u.then(s=>{if(!s)return Promise.reject(new Error(`Couldn't resolve component "${o}" at "${i.path}"`));const c=nK(s)?s.default:s;i.components[o]=c;const v=(c.__vccOpts||c)[t];return v&&$r(v,n,r,i,o)()}))}}return a}function JK(e){return typeof e=="object"||"displayName"in e||"props"in e||"__vccOpts"in e}function Gp(e){const t=et(Jl),n=et(wf),r=N(()=>t.resolve(he(e.to))),a=N(()=>{const{matched:u}=r.value,{length:s}=u,c=u[s-1],d=n.matched;if(!c||!d.length)return-1;const v=d.findIndex(Si.bind(null,c));if(v>-1)return v;const S=Kp(u[s-2]);return s>1&&Kp(c)===S&&d[d.length-1].path!==S?d.findIndex(Si.bind(null,u[s-2])):v}),i=N(()=>a.value>-1&&n7(n.params,r.value.params)),o=N(()=>a.value>-1&&a.value===n.matched.length-1&&$T(n.params,r.value.params));function l(u={}){return t7(u)?t[he(e.replace)?"replace":"push"](he(e.to)).catch(ko):Promise.resolve()}return{route:r,href:N(()=>r.value.href),isActive:i,isExactActive:o,navigate:l}}const QK=ee({name:"RouterLink",props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:Gp,setup(e,{slots:t}){const n=Me(Gp(e)),{options:r}=et(Jl),a=N(()=>({[Wp(e.activeClass,r.linkActiveClass,"router-link-active")]:n.isActive,[Wp(e.exactActiveClass,r.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const i=t.default&&t.default(n);return e.custom?i:yt("a",{"aria-current":n.isExactActive?e.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:a.value},i)}}}),e7=QK;function t7(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)&&!e.defaultPrevented&&!(e.button!==void 0&&e.button!==0)){if(e.currentTarget&&e.currentTarget.getAttribute){const t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return e.preventDefault&&e.preventDefault(),!0}}function n7(e,t){for(const n in t){const r=t[n],a=e[n];if(typeof r=="string"){if(r!==a)return!1}else if(!Array.isArray(a)||a.length!==r.length||r.some((i,o)=>i!==a[o]))return!1}return!0}function Kp(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}const Wp=(e,t,n)=>e!=null?e:t!=null?t:n,r7=ee({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},setup(e,{attrs:t,slots:n}){const r=et(Jc),a=N(()=>e.route||r.value),i=et($p,0),o=N(()=>a.value.matched[i]);ft($p,i+1),ft(xT,o),ft(Jc,a);const l=q();return oe(()=>[l.value,o.value,e.name],([u,s,c],[d,v,S])=>{s&&(s.instances[c]=u,v&&v!==s&&u&&u===d&&(s.leaveGuards.size||(s.leaveGuards=v.leaveGuards),s.updateGuards.size||(s.updateGuards=v.updateGuards))),u&&s&&(!v||!Si(s,v)||!d)&&(s.enterCallbacks[c]||[]).forEach(E=>E(u))},{flush:"post"}),()=>{const u=a.value,s=o.value,c=s&&s.components[e.name],d=e.name;if(!c)return Yp(n.default,{Component:c,route:u});const v=s.props[e.name],S=v?v===!0?u.params:typeof v=="function"?v(u):v:null,m=yt(c,ct({},S,t,{onVnodeUnmounted:f=>{f.component.isUnmounted&&(s.instances[d]=null)},ref:l}));return Yp(n.default,{Component:m,route:u})||m}}});function Yp(e,t){if(!e)return null;const n=e(t);return n.length===1?n[0]:n}const a7=r7;function i7(e){const t=IK(e.routes,e),n=e.parseQuery||qK,r=e.stringifyQuery||zp,a=e.history,i=uo(),o=uo(),l=uo(),u=lE(Ir);let s=Ir;ai&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const c=Ku.bind(null,V=>""+V),d=Ku.bind(null,YK),v=Ku.bind(null,ul);function S(V,X){let Z,ne;return FT(V)?(Z=t.getRecordMatcher(V),ne=X):ne=V,t.addRoute(ne,Z)}function E(V){const X=t.getRecordMatcher(V);X&&t.removeRoute(X)}function m(){return t.getRoutes().map(V=>V.record)}function f(V){return!!t.getRecordMatcher(V)}function g(V,X){if(X=ct({},X||u.value),typeof V=="string"){const be=Wu(n,V,X.path),G=t.resolve({path:be.path},X),Y=a.createHref(be.fullPath);return ct(be,G,{params:v(G.params),hash:ul(be.hash),redirectedFrom:void 0,href:Y})}let Z;if("path"in V)Z=ct({},V,{path:Wu(n,V.path,X.path).path});else{const be=ct({},V.params);for(const G in be)be[G]==null&&delete be[G];Z=ct({},V,{params:d(V.params)}),X.params=d(X.params)}const ne=t.resolve(Z,X),ae=V.hash||"";ne.params=c(v(ne.params));const ye=iK(r,ct({},V,{hash:GK(ae),path:ne.path})),de=a.createHref(ye);return ct({fullPath:ye,hash:ae,query:r===zp?XK(V.query):V.query||{}},ne,{redirectedFrom:void 0,href:de})}function h(V){return typeof V=="string"?Wu(n,V,u.value.path):ct({},V)}function y(V,X){if(s!==V)return Ti(8,{from:X,to:V})}function b(V){return w(V)}function p(V){return b(ct(h(V),{replace:!0}))}function C(V){const X=V.matched[V.matched.length-1];if(X&&X.redirect){const{redirect:Z}=X;let ne=typeof Z=="function"?Z(V):Z;return typeof ne=="string"&&(ne=ne.includes("?")||ne.includes("#")?ne=h(ne):{path:ne},ne.params={}),ct({query:V.query,hash:V.hash,params:V.params},ne)}}function w(V,X){const Z=s=g(V),ne=u.value,ae=V.state,ye=V.force,de=V.replace===!0,be=C(Z);if(be)return w(ct(h(be),{state:ae,force:ye,replace:de}),X||Z);const G=Z;G.redirectedFrom=X;let Y;return!ye&&oK(r,ne,Z)&&(Y=Ti(16,{to:G,from:ne}),j(ne,ne,!0,!1)),(Y?Promise.resolve(Y):_(G,ne)).catch(Q=>Lr(Q)?Lr(Q,2)?Q:M(Q):L(Q,G,ne)).then(Q=>{if(Q){if(Lr(Q,2))return w(ct(h(Q.to),{state:ae,force:ye,replace:de}),X||G)}else Q=O(G,ne,!0,de,ae);return T(G,ne,Q),Q})}function k(V,X){const Z=y(V,X);return Z?Promise.reject(Z):Promise.resolve()}function _(V,X){let Z;const[ne,ae,ye]=o7(V,X);Z=Yu(ne.reverse(),"beforeRouteLeave",V,X);for(const be of ne)be.leaveGuards.forEach(G=>{Z.push($r(G,V,X))});const de=k.bind(null,V,X);return Z.push(de),qa(Z).then(()=>{Z=[];for(const be of i.list())Z.push($r(be,V,X));return Z.push(de),qa(Z)}).then(()=>{Z=Yu(ae,"beforeRouteUpdate",V,X);for(const be of ae)be.updateGuards.forEach(G=>{Z.push($r(G,V,X))});return Z.push(de),qa(Z)}).then(()=>{Z=[];for(const be of V.matched)if(be.beforeEnter&&!X.matched.includes(be))if(Array.isArray(be.beforeEnter))for(const G of be.beforeEnter)Z.push($r(G,V,X));else Z.push($r(be.beforeEnter,V,X));return Z.push(de),qa(Z)}).then(()=>(V.matched.forEach(be=>be.enterCallbacks={}),Z=Yu(ye,"beforeRouteEnter",V,X),Z.push(de),qa(Z))).then(()=>{Z=[];for(const be of o.list())Z.push($r(be,V,X));return Z.push(de),qa(Z)}).catch(be=>Lr(be,8)?be:Promise.reject(be))}function T(V,X,Z){for(const ne of l.list())ne(V,X,Z)}function O(V,X,Z,ne,ae){const ye=y(V,X);if(ye)return ye;const de=X===Ir,be=ai?history.state:{};Z&&(ne||de?a.replace(V.fullPath,ct({scroll:de&&be&&be.scroll},ae)):a.push(V.fullPath,ae)),u.value=V,j(V,X,Z,de),M()}let A;function P(){A=a.listen((V,X,Z)=>{const ne=g(V),ae=C(ne);if(ae){w(ct(ae,{replace:!0}),ne).catch(ko);return}s=ne;const ye=u.value;ai&&vK(Bp(ye.fullPath,Z.delta),Ql()),_(ne,ye).catch(de=>Lr(de,12)?de:Lr(de,2)?(w(de.to,ne).then(be=>{Lr(be,20)&&!Z.delta&&Z.type===Fo.pop&&a.go(-1,!1)}).catch(ko),Promise.reject()):(Z.delta&&a.go(-Z.delta,!1),L(de,ne,ye))).then(de=>{de=de||O(ne,ye,!1),de&&(Z.delta?a.go(-Z.delta,!1):Z.type===Fo.pop&&Lr(de,20)&&a.go(-1,!1)),T(ne,ye,de)}).catch(ko)})}let D=uo(),I=uo(),x;function L(V,X,Z){M(V);const ne=I.list();return ne.length?ne.forEach(ae=>ae(V,X,Z)):console.error(V),Promise.reject(V)}function $(){return x&&u.value!==Ir?Promise.resolve():new Promise((V,X)=>{D.add([V,X])})}function M(V){return x||(x=!V,P(),D.list().forEach(([X,Z])=>V?Z(V):X()),D.reset()),V}function j(V,X,Z,ne){const{scrollBehavior:ae}=e;if(!ai||!ae)return Promise.resolve();const ye=!Z&&mK(Bp(V.fullPath,0))||(ne||!Z)&&history.state&&history.state.scroll||null;return Re().then(()=>ae(V,X,ye)).then(de=>de&&hK(de)).catch(de=>L(de,V,X))}const F=V=>a.go(V);let U;const B=new Set;return{currentRoute:u,addRoute:S,removeRoute:E,hasRoute:f,getRoutes:m,resolve:g,options:e,push:b,replace:p,go:F,back:()=>F(-1),forward:()=>F(1),beforeEach:i.add,beforeResolve:o.add,afterEach:l.add,onError:I.add,isReady:$,install(V){const X=this;V.component("RouterLink",e7),V.component("RouterView",a7),V.config.globalProperties.$router=X,Object.defineProperty(V.config.globalProperties,"$route",{enumerable:!0,get:()=>he(u)}),ai&&!U&&u.value===Ir&&(U=!0,b(a.location).catch(ae=>{}));const Z={};for(const ae in Ir)Z[ae]=N(()=>u.value[ae]);V.provide(Jl,X),V.provide(wf,Me(Z)),V.provide(Jc,u);const ne=V.unmount;B.add(V),V.unmount=function(){B.delete(V),B.size<1&&(s=Ir,A&&A(),u.value=Ir,U=!1,x=!1),ne()}}}}function qa(e){return e.reduce((t,n)=>t.then(()=>n()),Promise.resolve())}function o7(e,t){const n=[],r=[],a=[],i=Math.max(t.matched.length,e.matched.length);for(let o=0;o<i;o++){const l=t.matched[o];l&&(e.matched.find(s=>Si(s,l))?r.push(l):n.push(l));const u=e.matched[o];u&&(t.matched.find(s=>Si(s,u))||a.push(u))}return[n,r,a]}function s7(){return et(Jl)}function JY(){return et(wf)}const l7="http://101.35.30.21:4399/html/chick/index.html",QY="http://101.35.30.21:4399/html/tmm/index.html",eq="http://101.35.30.21:4399/upload/",tq="http://101.35.30.21:4399",nq="http://101.35.30.21:5200";var kf={exports:{}},GT=function(t,n){return function(){for(var a=new Array(arguments.length),i=0;i<a.length;i++)a[i]=arguments[i];return t.apply(n,a)}},u7=GT,ea=Object.prototype.toString;function _f(e){return Array.isArray(e)}function td(e){return typeof e=="undefined"}function c7(e){return e!==null&&!td(e)&&e.constructor!==null&&!td(e.constructor)&&typeof e.constructor.isBuffer=="function"&&e.constructor.isBuffer(e)}function KT(e){return ea.call(e)==="[object ArrayBuffer]"}function d7(e){return ea.call(e)==="[object FormData]"}function f7(e){var t;return typeof ArrayBuffer!="undefined"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&KT(e.buffer),t}function h7(e){return typeof e=="string"}function v7(e){return typeof e=="number"}function WT(e){return e!==null&&typeof e=="object"}function js(e){if(ea.call(e)!=="[object Object]")return!1;var t=Object.getPrototypeOf(e);return t===null||t===Object.prototype}function m7(e){return ea.call(e)==="[object Date]"}function g7(e){return ea.call(e)==="[object File]"}function p7(e){return ea.call(e)==="[object Blob]"}function YT(e){return ea.call(e)==="[object Function]"}function y7(e){return WT(e)&&YT(e.pipe)}function b7(e){return ea.call(e)==="[object URLSearchParams]"}function S7(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}function T7(){return typeof navigator!="undefined"&&(navigator.product==="ReactNative"||navigator.product==="NativeScript"||navigator.product==="NS")?!1:typeof window!="undefined"&&typeof document!="undefined"}function Af(e,t){if(!(e===null||typeof e=="undefined"))if(typeof e!="object"&&(e=[e]),_f(e))for(var n=0,r=e.length;n<r;n++)t.call(null,e[n],n,e);else for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.call(null,e[a],a,e)}function nd(){var e={};function t(a,i){js(e[i])&&js(a)?e[i]=nd(e[i],a):js(a)?e[i]=nd({},a):_f(a)?e[i]=a.slice():e[i]=a}for(var n=0,r=arguments.length;n<r;n++)Af(arguments[n],t);return e}function C7(e,t,n){return Af(t,function(a,i){n&&typeof a=="function"?e[i]=u7(a,n):e[i]=a}),e}function E7(e){return e.charCodeAt(0)===65279&&(e=e.slice(1)),e}var sn={isArray:_f,isArrayBuffer:KT,isBuffer:c7,isFormData:d7,isArrayBufferView:f7,isString:h7,isNumber:v7,isObject:WT,isPlainObject:js,isUndefined:td,isDate:m7,isFile:g7,isBlob:p7,isFunction:YT,isStream:y7,isURLSearchParams:b7,isStandardBrowserEnv:T7,forEach:Af,merge:nd,extend:C7,trim:S7,stripBOM:E7},Xa=sn;function qp(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}var qT=function(t,n,r){if(!n)return t;var a;if(r)a=r(n);else if(Xa.isURLSearchParams(n))a=n.toString();else{var i=[];Xa.forEach(n,function(u,s){u===null||typeof u=="undefined"||(Xa.isArray(u)?s=s+"[]":u=[u],Xa.forEach(u,function(d){Xa.isDate(d)?d=d.toISOString():Xa.isObject(d)&&(d=JSON.stringify(d)),i.push(qp(s)+"="+qp(d))}))}),a=i.join("&")}if(a){var o=t.indexOf("#");o!==-1&&(t=t.slice(0,o)),t+=(t.indexOf("?")===-1?"?":"&")+a}return t},w7=sn;function eu(){this.handlers=[]}eu.prototype.use=function(t,n,r){return this.handlers.push({fulfilled:t,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1};eu.prototype.eject=function(t){this.handlers[t]&&(this.handlers[t]=null)};eu.prototype.forEach=function(t){w7.forEach(this.handlers,function(r){r!==null&&t(r)})};var O7=eu,k7=sn,_7=function(t,n){k7.forEach(t,function(a,i){i!==n&&i.toUpperCase()===n.toUpperCase()&&(t[n]=a,delete t[i])})},XT=function(t,n,r,a,i){return t.config=n,r&&(t.code=r),t.request=a,t.response=i,t.isAxiosError=!0,t.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}},t},ZT={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},A7=XT,JT=function(t,n,r,a,i){var o=new Error(t);return A7(o,n,r,a,i)},D7=JT,P7=function(t,n,r){var a=r.config.validateStatus;!r.status||!a||a(r.status)?t(r):n(D7("Request failed with status code "+r.status,r.config,null,r.request,r))},Ps=sn,I7=Ps.isStandardBrowserEnv()?function(){return{write:function(n,r,a,i,o,l){var u=[];u.push(n+"="+encodeURIComponent(r)),Ps.isNumber(a)&&u.push("expires="+new Date(a).toGMTString()),Ps.isString(i)&&u.push("path="+i),Ps.isString(o)&&u.push("domain="+o),l===!0&&u.push("secure"),document.cookie=u.join("; ")},read:function(n){var r=document.cookie.match(new RegExp("(^|;\\s*)("+n+")=([^;]*)"));return r?decodeURIComponent(r[3]):null},remove:function(n){this.write(n,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}(),L7=function(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)},R7=function(t,n){return n?t.replace(/\/+$/,"")+"/"+n.replace(/^\/+/,""):t},x7=L7,$7=R7,M7=function(t,n){return t&&!x7(n)?$7(t,n):n},qu=sn,F7=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"],B7=function(t){var n={},r,a,i;return t&&qu.forEach(t.split(`
`),function(l){if(i=l.indexOf(":"),r=qu.trim(l.substr(0,i)).toLowerCase(),a=qu.trim(l.substr(i+1)),r){if(n[r]&&F7.indexOf(r)>=0)return;r==="set-cookie"?n[r]=(n[r]?n[r]:[]).concat([a]):n[r]=n[r]?n[r]+", "+a:a}}),n},Xp=sn,N7=Xp.isStandardBrowserEnv()?function(){var t=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a"),r;function a(i){var o=i;return t&&(n.setAttribute("href",o),o=n.href),n.setAttribute("href",o),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:n.pathname.charAt(0)==="/"?n.pathname:"/"+n.pathname}}return r=a(window.location.href),function(o){var l=Xp.isString(o)?a(o):o;return l.protocol===r.protocol&&l.host===r.host}}():function(){return function(){return!0}}();function Df(e){this.message=e}Df.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")};Df.prototype.__CANCEL__=!0;var tu=Df,Is=sn,j7=P7,U7=I7,V7=qT,H7=M7,z7=B7,G7=N7,Xu=JT,K7=ZT,W7=tu,Zp=function(t){return new Promise(function(r,a){var i=t.data,o=t.headers,l=t.responseType,u;function s(){t.cancelToken&&t.cancelToken.unsubscribe(u),t.signal&&t.signal.removeEventListener("abort",u)}Is.isFormData(i)&&delete o["Content-Type"];var c=new XMLHttpRequest;if(t.auth){var d=t.auth.username||"",v=t.auth.password?unescape(encodeURIComponent(t.auth.password)):"";o.Authorization="Basic "+btoa(d+":"+v)}var S=H7(t.baseURL,t.url);c.open(t.method.toUpperCase(),V7(S,t.params,t.paramsSerializer),!0),c.timeout=t.timeout;function E(){if(!!c){var f="getAllResponseHeaders"in c?z7(c.getAllResponseHeaders()):null,g=!l||l==="text"||l==="json"?c.responseText:c.response,h={data:g,status:c.status,statusText:c.statusText,headers:f,config:t,request:c};j7(function(b){r(b),s()},function(b){a(b),s()},h),c=null}}if("onloadend"in c?c.onloadend=E:c.onreadystatechange=function(){!c||c.readyState!==4||c.status===0&&!(c.responseURL&&c.responseURL.indexOf("file:")===0)||setTimeout(E)},c.onabort=function(){!c||(a(Xu("Request aborted",t,"ECONNABORTED",c)),c=null)},c.onerror=function(){a(Xu("Network Error",t,null,c)),c=null},c.ontimeout=function(){var g=t.timeout?"timeout of "+t.timeout+"ms exceeded":"timeout exceeded",h=t.transitional||K7;t.timeoutErrorMessage&&(g=t.timeoutErrorMessage),a(Xu(g,t,h.clarifyTimeoutError?"ETIMEDOUT":"ECONNABORTED",c)),c=null},Is.isStandardBrowserEnv()){var m=(t.withCredentials||G7(S))&&t.xsrfCookieName?U7.read(t.xsrfCookieName):void 0;m&&(o[t.xsrfHeaderName]=m)}"setRequestHeader"in c&&Is.forEach(o,function(g,h){typeof i=="undefined"&&h.toLowerCase()==="content-type"?delete o[h]:c.setRequestHeader(h,g)}),Is.isUndefined(t.withCredentials)||(c.withCredentials=!!t.withCredentials),l&&l!=="json"&&(c.responseType=t.responseType),typeof t.onDownloadProgress=="function"&&c.addEventListener("progress",t.onDownloadProgress),typeof t.onUploadProgress=="function"&&c.upload&&c.upload.addEventListener("progress",t.onUploadProgress),(t.cancelToken||t.signal)&&(u=function(f){!c||(a(!f||f&&f.type?new W7("canceled"):f),c.abort(),c=null)},t.cancelToken&&t.cancelToken.subscribe(u),t.signal&&(t.signal.aborted?u():t.signal.addEventListener("abort",u))),i||(i=null),c.send(i)})},zt=sn,Jp=_7,Y7=XT,q7=ZT,X7={"Content-Type":"application/x-www-form-urlencoded"};function Qp(e,t){!zt.isUndefined(e)&&zt.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}function Z7(){var e;return(typeof XMLHttpRequest!="undefined"||typeof process!="undefined"&&Object.prototype.toString.call(process)==="[object process]")&&(e=Zp),e}function J7(e,t,n){if(zt.isString(e))try{return(t||JSON.parse)(e),zt.trim(e)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(e)}var nu={transitional:q7,adapter:Z7(),transformRequest:[function(t,n){return Jp(n,"Accept"),Jp(n,"Content-Type"),zt.isFormData(t)||zt.isArrayBuffer(t)||zt.isBuffer(t)||zt.isStream(t)||zt.isFile(t)||zt.isBlob(t)?t:zt.isArrayBufferView(t)?t.buffer:zt.isURLSearchParams(t)?(Qp(n,"application/x-www-form-urlencoded;charset=utf-8"),t.toString()):zt.isObject(t)||n&&n["Content-Type"]==="application/json"?(Qp(n,"application/json"),J7(t)):t}],transformResponse:[function(t){var n=this.transitional||nu.transitional,r=n&&n.silentJSONParsing,a=n&&n.forcedJSONParsing,i=!r&&this.responseType==="json";if(i||a&&zt.isString(t)&&t.length)try{return JSON.parse(t)}catch(o){if(i)throw o.name==="SyntaxError"?Y7(o,this,"E_JSON_PARSE"):o}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};zt.forEach(["delete","get","head"],function(t){nu.headers[t]={}});zt.forEach(["post","put","patch"],function(t){nu.headers[t]=zt.merge(X7)});var Pf=nu,Q7=sn,eW=Pf,tW=function(t,n,r){var a=this||eW;return Q7.forEach(r,function(o){t=o.call(a,t,n)}),t},QT=function(t){return!!(t&&t.__CANCEL__)},ey=sn,Zu=tW,nW=QT,rW=Pf,aW=tu;function Ju(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new aW("canceled")}var iW=function(t){Ju(t),t.headers=t.headers||{},t.data=Zu.call(t,t.data,t.headers,t.transformRequest),t.headers=ey.merge(t.headers.common||{},t.headers[t.method]||{},t.headers),ey.forEach(["delete","get","head","post","put","patch","common"],function(a){delete t.headers[a]});var n=t.adapter||rW.adapter;return n(t).then(function(a){return Ju(t),a.data=Zu.call(t,a.data,a.headers,t.transformResponse),a},function(a){return nW(a)||(Ju(t),a&&a.response&&(a.response.data=Zu.call(t,a.response.data,a.response.headers,t.transformResponse))),Promise.reject(a)})},un=sn,eC=function(t,n){n=n||{};var r={};function a(c,d){return un.isPlainObject(c)&&un.isPlainObject(d)?un.merge(c,d):un.isPlainObject(d)?un.merge({},d):un.isArray(d)?d.slice():d}function i(c){if(un.isUndefined(n[c])){if(!un.isUndefined(t[c]))return a(void 0,t[c])}else return a(t[c],n[c])}function o(c){if(!un.isUndefined(n[c]))return a(void 0,n[c])}function l(c){if(un.isUndefined(n[c])){if(!un.isUndefined(t[c]))return a(void 0,t[c])}else return a(void 0,n[c])}function u(c){if(c in n)return a(t[c],n[c]);if(c in t)return a(void 0,t[c])}var s={url:o,method:o,data:o,baseURL:l,transformRequest:l,transformResponse:l,paramsSerializer:l,timeout:l,timeoutMessage:l,withCredentials:l,adapter:l,responseType:l,xsrfCookieName:l,xsrfHeaderName:l,onUploadProgress:l,onDownloadProgress:l,decompress:l,maxContentLength:l,maxBodyLength:l,transport:l,httpAgent:l,httpsAgent:l,cancelToken:l,socketPath:l,responseEncoding:l,validateStatus:u};return un.forEach(Object.keys(t).concat(Object.keys(n)),function(d){var v=s[d]||i,S=v(d);un.isUndefined(S)&&v!==u||(r[d]=S)}),r},tC={version:"0.26.1"},oW=tC.version,If={};["object","boolean","number","function","string","symbol"].forEach(function(e,t){If[e]=function(r){return typeof r===e||"a"+(t<1?"n ":" ")+e}});var ty={};If.transitional=function(t,n,r){function a(i,o){return"[Axios v"+oW+"] Transitional option '"+i+"'"+o+(r?". "+r:"")}return function(i,o,l){if(t===!1)throw new Error(a(o," has been removed"+(n?" in "+n:"")));return n&&!ty[o]&&(ty[o]=!0,console.warn(a(o," has been deprecated since v"+n+" and will be removed in the near future"))),t?t(i,o,l):!0}};function sW(e,t,n){if(typeof e!="object")throw new TypeError("options must be an object");for(var r=Object.keys(e),a=r.length;a-- >0;){var i=r[a],o=t[i];if(o){var l=e[i],u=l===void 0||o(l,i,e);if(u!==!0)throw new TypeError("option "+i+" must be "+u);continue}if(n!==!0)throw Error("Unknown option "+i)}}var lW={assertOptions:sW,validators:If},nC=sn,uW=qT,ny=O7,ry=iW,ru=eC,rC=lW,Za=rC.validators;function Wo(e){this.defaults=e,this.interceptors={request:new ny,response:new ny}}Wo.prototype.request=function(t,n){typeof t=="string"?(n=n||{},n.url=t):n=t||{},n=ru(this.defaults,n),n.method?n.method=n.method.toLowerCase():this.defaults.method?n.method=this.defaults.method.toLowerCase():n.method="get";var r=n.transitional;r!==void 0&&rC.assertOptions(r,{silentJSONParsing:Za.transitional(Za.boolean),forcedJSONParsing:Za.transitional(Za.boolean),clarifyTimeoutError:Za.transitional(Za.boolean)},!1);var a=[],i=!0;this.interceptors.request.forEach(function(S){typeof S.runWhen=="function"&&S.runWhen(n)===!1||(i=i&&S.synchronous,a.unshift(S.fulfilled,S.rejected))});var o=[];this.interceptors.response.forEach(function(S){o.push(S.fulfilled,S.rejected)});var l;if(!i){var u=[ry,void 0];for(Array.prototype.unshift.apply(u,a),u=u.concat(o),l=Promise.resolve(n);u.length;)l=l.then(u.shift(),u.shift());return l}for(var s=n;a.length;){var c=a.shift(),d=a.shift();try{s=c(s)}catch(v){d(v);break}}try{l=ry(s)}catch(v){return Promise.reject(v)}for(;o.length;)l=l.then(o.shift(),o.shift());return l};Wo.prototype.getUri=function(t){return t=ru(this.defaults,t),uW(t.url,t.params,t.paramsSerializer).replace(/^\?/,"")};nC.forEach(["delete","get","head","options"],function(t){Wo.prototype[t]=function(n,r){return this.request(ru(r||{},{method:t,url:n,data:(r||{}).data}))}});nC.forEach(["post","put","patch"],function(t){Wo.prototype[t]=function(n,r,a){return this.request(ru(a||{},{method:t,url:n,data:r}))}});var cW=Wo,dW=tu;function Ci(e){if(typeof e!="function")throw new TypeError("executor must be a function.");var t;this.promise=new Promise(function(a){t=a});var n=this;this.promise.then(function(r){if(!!n._listeners){var a,i=n._listeners.length;for(a=0;a<i;a++)n._listeners[a](r);n._listeners=null}}),this.promise.then=function(r){var a,i=new Promise(function(o){n.subscribe(o),a=o}).then(r);return i.cancel=function(){n.unsubscribe(a)},i},e(function(a){n.reason||(n.reason=new dW(a),t(n.reason))})}Ci.prototype.throwIfRequested=function(){if(this.reason)throw this.reason};Ci.prototype.subscribe=function(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]};Ci.prototype.unsubscribe=function(t){if(!!this._listeners){var n=this._listeners.indexOf(t);n!==-1&&this._listeners.splice(n,1)}};Ci.source=function(){var t,n=new Ci(function(a){t=a});return{token:n,cancel:t}};var fW=Ci,hW=function(t){return function(r){return t.apply(null,r)}},vW=sn,mW=function(t){return vW.isObject(t)&&t.isAxiosError===!0},ay=sn,gW=GT,Us=cW,pW=eC,yW=Pf;function aC(e){var t=new Us(e),n=gW(Us.prototype.request,t);return ay.extend(n,Us.prototype,t),ay.extend(n,t),n.create=function(a){return aC(pW(e,a))},n}var ar=aC(yW);ar.Axios=Us;ar.Cancel=tu;ar.CancelToken=fW;ar.isCancel=QT;ar.VERSION=tC.version;ar.all=function(t){return Promise.all(t)};ar.spread=hW;ar.isAxiosError=mW;kf.exports=ar;kf.exports.default=ar;var iC=kf.exports,co="./assets/icon.d0eadf8f.png";var bW=(e,t)=>{const n=e.__vccOpts||e;for(const[r,a]of t)n[r]=a;return n};const SW=ee({setup(){d0();const e=s7();let t=Me({navList:[{text:"\u77E5\u8BC6\u6E05\u5355",imgUrl:co,path:"/study"},{text:"\u5546\u57CE",imgUrl:co,path:"/shop"},{text:"\u52A8\u6001",imgUrl:co,path:"/movecase"},{text:"\u804A\u5929\u5BA4",imgUrl:co,path:"/chat_list"},{text:"\u5C0F\u9E21",imgUrl:co,path:"/chick"}],active:0,zoneid:null,n:null,u:null,sideActive:0,options:{width:"100%",height:"3.5rem",color:"#409eff",title:"",src:"https://v95-a.douyinvod.com/f390f9b43b1cc4a0503fd44b8416e8e3/62760d44/video/tos/cn/tos-cn-ve-15c001-alinc2/69843b81aae04aba93e017b1a85b03bd/?a=1128&amp;ch=0&amp;cr=0&amp;dr=0&amp;cd=0%7C0%7C0%7C0&amp;cv=1&amp;br=2880&amp;bt=2880&amp;cs=0&amp;ds=3&amp;ft=6klTKjjM95MxrKqoZmCTeK_ScoAw0XqVAtaVJERBwjfvPD&amp;mime_type=video_mp4&amp;qs=0&amp;rc=N2ZpOjMzPDtpNTtoN2lnaUBpM244ODo6Zjc4PDMzNGkzM0A0YC8yLmE1Xy8xYi9hNTEyYSNoLmhwcjRnZG1gLS1kLS9zcw%3D%3D&amp;l=2022050713095901021207507626069DF1",muted:!1,webFullScreen:!1,speedRate:["0.75","1.0","1.25","1.5","2.0"],autoPlay:!1,loop:!1,mirror:!1,ligthOff:!1,volume:.3,control:!0,controlBtns:["audioTrack","quality","speedRate","volume","setting","pip","pageFullScreen","fullScreen"]},videoFlag:!0,dyurl:"",videoObj:{music:"",nickname:"",play:"",title:""}});tt(()=>{});let n=()=>{window.location.href=t.options.src},r=async()=>{if(!t.dyurl){kc.error("\u8BF7\u586B\u5199\u6296\u97F3\u5730\u5740");return}let o=await iC({url:"/new/douyin/api.php?url="+t.dyurl,method:"GET"});t.videoFlag=!0,t.videoObj=o.data,console.log(o,"\u6296\u97F3\u53BB\u6C34\u5370")},a=()=>{let{zoneid:o,n:l,u}=t;if(!o||!l||!u){kc.error("\u8BF7\u6B63\u786E\u586B\u5199\uFF01\uFF01\uFF01");return}location.href=`
      https://pay.qq.com/h5/index.shtml?m=buy&c=game&dialog=0&midasApiVersion=5&transactionid=CC8E5656-EEC9-4ADD-865E-D4D81C258D691558348901265&dh=1&pf=mds_storeopen_qb-_mds_default_v1_0_0.navgame_v1.0-android&appid=1450002258&zoneid=${1010+Number(o)}&n=${l}&as=1&aid=''&wxAppid2=wx1d5858390bbb31e6&u=${u}
      `},i=o=>{o=="/chick"?location.href=l7:e.push({path:o})};return $f(xf({},ze(t)),{goPage:i,goPayFor:a,getDyUrl:r,seeDyVideo:n})}}),oC=e=>(Vr("data-v-1eb37da4"),e=e(),Hr(),e),TW={class:"navBox"},CW=oC(()=>J("p",{style:{"line-height":"0.6rem","font-size":"0.28rem","font-weight":"bold",color:"red",padding:"0",pading:"0","text-indent":"0.3rem"}}," \u738B\u8005\u8363\u8000 \u5B89\u5353QQ\u533A \u70B9\u5238\u5145\u503C",-1)),EW=oC(()=>J("p",{style:{"line-height":"0.3rem","font-size":"0.28rem",color:"#ccc",padding:"0",pading:"0","text-indent":"0.3rem"}}," \u6700\u4F4E\u514510\u70B9\u5238",-1)),wW=nt("\u5145\u503C");function OW(e,t,n,r,a,i){const o=ge("t-input"),l=ge("t-button"),u=ge("van-tab"),s=ge("van-tabs"),c=ge("van-divider"),d=ge("t-grid-item"),v=ge("t-grid");return H(),W(Ce,null,[R(s,{active:e.active,"onUpdate:active":t[3]||(t[3]=S=>e.active=S)},{default:Ue(()=>[R(u,{title:"\u738B\u8005\u70B9\u5238\u5145\u503C"},{default:Ue(()=>[J("div",TW,[CW,EW,J("div",null,[R(o,{type:"number",placeholder:"\u8BF7\u8F93\u5165\u533A\u57DF\u53F7",modelValue:e.zoneid,"onUpdate:modelValue":t[0]||(t[0]=S=>e.zoneid=S),label:"\u5927\u533A"},null,8,["modelValue"]),R(o,{type:"number",placeholder:"\u8BF7\u8F93\u5165\u70B9\u5238\u6570",modelValue:e.n,"onUpdate:modelValue":t[1]||(t[1]=S=>e.n=S),label:"\u70B9\u5238\u6570"},null,8,["modelValue"]),R(o,{type:"number",placeholder:"\u8BF7\u8F93\u5165QQ\u53F7",modelValue:e.u,"onUpdate:modelValue":t[2]||(t[2]=S=>e.u=S),label:"QQ\u53F7"},null,8,["modelValue"]),R(l,{onClick:e.goPayFor,size:"large",theme:"primary"},{default:Ue(()=>[wW]),_:1},8,["onClick"])])])]),_:1})]),_:1},8,["active"]),R(c),R(v,{column:5},{default:Ue(()=>[(H(!0),W(Ce,null,Ne(e.navList,(S,E)=>(H(),Oe(d,{onClick:m=>e.goPage(S.path),key:E,text:S.text,image:S.imgUrl},null,8,["onClick","text","image"]))),128))]),_:1})],64)}var kW=bW(SW,[["render",OW],["__scopeId","data-v-1eb37da4"]]);const _W=[{path:"/",redirect:"/home"},{path:"/home",component:kW},{path:"/pay",name:"pay",component:()=>lt(()=>import("./pay.171d23a8.js"),["assets/pay.171d23a8.js","assets/pay.88decf90.css"])},{path:"/login",name:"\u767B\u5F55",component:()=>lt(()=>import("./login.59c26f6d.js"),[])},{path:"/regist",name:"\u6CE8\u518C",component:()=>lt(()=>import("./regist.e4b3fe60.js"),[])},{path:"/mine",name:"\u6211\u7684",component:()=>lt(()=>import("./mine.27cb2576.js"),[])},{path:"/wp",name:"\u7F51\u76D8",component:()=>lt(()=>import("./wp.1f152174.js"),["assets/wp.1f152174.js","assets/wp.2543b280.css","assets/dot.c90e5658.js"])},{path:"/wpdir/:dir",name:"wpdir",component:()=>lt(()=>import("./wpdir.b6c2fb6b.js"),["assets/wpdir.b6c2fb6b.js","assets/wpdir.2d3e959e.css","assets/dot.c90e5658.js"])},{path:"/tmm",component:()=>lt(()=>import("./tmm.eb10f1a0.js"),["assets/tmm.eb10f1a0.js","assets/tmm.8bcbbef9.css"])},{path:"/movecase",name:"\u52A8\u6001",component:()=>lt(()=>import("./list.a4a9ded1.js"),["assets/list.a4a9ded1.js","assets/list.b20cef2b.css"])},{path:"/addcase",name:"\u6DFB\u52A0\u52A8\u6001",component:()=>lt(()=>import("./add.baac7d7c.js"),["assets/add.baac7d7c.js","assets/add.6c940720.css"])},{path:"/shop",component:()=>lt(()=>import("./shop.5fc92e4f.js"),["assets/shop.5fc92e4f.js","assets/shop.5d7c74bb.css"])},{path:"/editgood",component:()=>lt(()=>import("./editGood.85718780.js"),["assets/editGood.85718780.js","assets/editGood.8b9fa76c.css","assets/wangEditor.840faf33.js"])},{path:"/shopdetail",name:"\u7F16\u8F91\u5546\u54C1",component:()=>lt(()=>import("./shopDetail.69b2a5fd.js"),["assets/shopDetail.69b2a5fd.js","assets/shopDetail.8de737b1.css"])},{path:"/leaveword",name:"\u7559\u8A00",component:()=>lt(()=>import("./leaveword.26cba740.js"),["assets/leaveword.26cba740.js","assets/leaveword.8d49a176.css"])},{path:"/leaveList",name:"\u7559\u8A00",component:()=>lt(()=>import("./leaveList.9e48ef82.js"),["assets/leaveList.9e48ef82.js","assets/leaveList.2babfb40.css"])},{path:"/nearMan",name:"\u9644\u8FD1\u7684\u4EBA",component:()=>lt(()=>import("./nearMan.bccdd222.js"),["assets/nearMan.bccdd222.js","assets/nearMan.e5d330fd.css"])},{path:"/diction_list",component:()=>lt(()=>import("./list.786a123b.js"),["assets/list.786a123b.js","assets/list.d9bd9dbc.css"])},{path:"/getOnlinePath",name:"\u83B7\u53D6\u5728\u7EBF\u94FE\u63A5",component:()=>lt(()=>import("./getOnlinePath.89420afa.js"),["assets/getOnlinePath.89420afa.js","assets/getOnlinePath.1b1c1419.css"])},{path:"/editMovice",name:"\u7F16\u8F91\u5F71\u89C6",component:()=>lt(()=>import("./editMovice.413ddf7e.js"),[])},{path:"/study",component:()=>lt(()=>import("./Study.6014422e.js"),["assets/Study.6014422e.js","assets/Study.e889a830.css"])},{path:"/studyAdd",component:()=>lt(()=>import("./add.543aa13e.js"),["assets/add.543aa13e.js","assets/add.a89ce5a5.css","assets/wangEditor.840faf33.js"])},{path:"/studydetail",name:"studydetail",component:()=>lt(()=>import("./detail.82a41059.js"),["assets/detail.82a41059.js","assets/detail.ae35afe6.css"])},{path:"/phone_login",name:"\u624B\u673A\u53F7\u767B\u5F55",component:()=>lt(()=>import("./phone_login.8aaa7666.js"),[])},{path:"/phone_regist",name:"\u624B\u673A\u53F7\u6CE8\u518C",component:()=>lt(()=>import("./phone_regist.f05795ae.js"),[])},{path:"/hospital_list",name:"\u75AB\u60C5",component:()=>lt(()=>import("./list.6cc00756.js"),["assets/list.6cc00756.js","assets/list.0699fd3b.css"])},{path:"/share",name:"\u5206\u4EAB",component:()=>lt(()=>import("./share.a03231f1.js"),["assets/share.a03231f1.js","assets/share.a048bde0.css"])},{path:"/tanslate",name:"\u529F\u80FD",component:()=>lt(()=>import("./tanslate.5d10d22f.js"),["assets/tanslate.5d10d22f.js","assets/tanslate.3ba56ac7.css"])},{path:"/func_list",name:"\u7FFB\u8BD1",component:()=>lt(()=>import("./home.5575b911.js"),[])},{path:"/chat_list",name:"\u804A\u5929\u5BA4\u5217\u8868",component:()=>lt(()=>import("./list.03a798c2.js"),[])},{path:"/chat_detail",name:"\u804A\u5929\u5BA4\u8BE6\u60C5",component:()=>lt(()=>import("./chatroom.223e6f3d.js"),["assets/chatroom.223e6f3d.js","assets/chatroom.acd15c7a.css","assets/wangEditor.840faf33.js"])},{path:"/:pathMatch(.*)*",name:"NotFound",component:()=>lt(()=>import("./notFound.575a874e.js"),[])}],AW=i7({history:SK(),routes:_W});var He=iC.create({baseURL:"http://101.35.30.21:4399","content-type":"application/json"});He.interceptors.request.use(e=>e);He.interceptors.response.use(e=>e.data);const rq=e=>He.post("/addStudy",e),aq=()=>He.post("/getStudy",{}),iq=e=>He.post("/findStudy",e),oq=e=>He.post("/removeStudy",e),sq=e=>{let t={headers:{"Content-Type":"multipart/form-data"}};return He.post("/upload",e,t)},lq=e=>{let t={headers:{"Content-Type":"multipart/form-data"}};return He.post("/upload1",e,t)},uq=e=>He({url:"/users/upload_img",method:"POST",headers:{"Content-Type":"application/json;charset=utf-8"},data:e}),cq=e=>He.post("/addGoods",e),dq=()=>He.get("/getGoods"),fq=e=>He.post("/getGoodDetail",e),hq=e=>He.post("/editgood",e),vq=e=>He.post("/editEditor",e),mq=e=>He.post("/addGoodType",e),gq=()=>He.get("/getGoodType"),pq=e=>He.post("/getGoodFilter",e),yq=e=>He.post("/login",e),bq=e=>He.post("/regist",e),Sq=e=>He.post("/leaveword",e),Tq=e=>He.post("/findLeaveword",e),Cq=e=>He.post("/removeGoods",e),Eq=e=>He.post("/users/savePeopleMsg",e),wq=e=>He.post("/users/getPeopleLocation",e),Oq=e=>He.post("/users/saveMoveCase",e),kq=()=>He.post("/users/getMoveCase"),_q=e=>He.post("/users/addTalkText",e),Aq=e=>He.post("/users/findTalkText",e),Dq=e=>He.post("/users/getUser",e),Pq=()=>He({url:"/users/getHospital",method:"POST",headers:{}}),Iq=()=>He({url:"/users/geterwm",method:"GET",headers:{}}),Lq=()=>He({url:"/users/getHeadImg",method:"GET"}),Rq=e=>He({url:"/users/translate",method:"POST",data:e}),xq=e=>He({url:"/users/createChatRoom",method:"POST",data:e}),$q=()=>He({url:"/users/getChatRoomList",method:"GET"}),Mq=e=>He({url:"/users/getChatRoomDetail",method:"POST",data:e}),DW=e=>He({url:"/users/removeChatRoomMan",method:"POST",data:e}),PW=e=>He({url:"/users/addChatRoomMan",method:"POST",data:e}),Fq=e=>He({url:"/addMoviceInit",method:"POST",data:e}),Bq=e=>He({url:"/addMoviceNum",method:"POST",data:e}),Nq=()=>He({url:"/getMoviceList",method:"POST"});var IW=SO({state:{footer:!0,theme:{},chatRoom:[{chatId:"",msgList:[{text:"",type:"",user:{},chatId:""}],manList:[]}]},getters:{getTheme(e){return e.theme},getChatRoomList(e){return e.chatRoom}},mutations:{saveChatList(e,t){let{chatId:n,text:r,type:a,user:i}=t;if(!n)return;let o=e.chatRoom;o.forEach((l,u)=>{l.chatId==n&&o[u].msgList.push({type:"text",text:r,user:i,chatId:n})}),e.chatRoom=o},leaveRoom(e,t){let{chatId:n,user:r}=t,a=e.chatRoom,i=[];a.forEach((l,u)=>{l.chatId==n&&(a[u].msgList.push({type:"broadcast",text:r.username+"\u9000\u51FA\u623F\u95F4",user:r,chatId:n}),i=a[u].manList)}),i.forEach((l,u)=>{l.username==r.username&&i.splice(u,1)}),a.forEach((l,u)=>{l.chatId==n&&(a[u].manList=i)}),DW({chatId:n,user:r}).then(l=>{console.log("\u79FB\u9664\u623F\u95F4\u6210\u529F",l)}),e.chatRoom=a},joinRoom(e,t){let{chatId:n,user:r}=t;if(!n)return;let a=e.chatRoom;a.filter(l=>l.chatId==n).length==0?a.push({chatId:n,msgList:[{type:"broadcast",text:r.username+"\u52A0\u5165\u623F\u95F4",user:r,chatId:n}],manList:[r]}):a.forEach((l,u)=>{l.chatId==n&&(a[u].msgList.push({type:"broadcast",text:r.username+"\u52A0\u5165\u623F\u95F4",user:r,chatId:n}),a[u].manList.push({user:r}))}),PW({chatId:n,user:r}).then(l=>{console.log("\u52A0\u5165\u623F\u95F4\u6210\u529F",l)}),e.chatRoom=a},changeTheme(e,t){switch(t){case"default":e.theme={};break;case"new":e.theme={rateIconFullColor:"#07c160",sliderBarHeight:"4px",sliderButtonWidth:"20px",sliderButtonHeight:"20px",sliderActiveBackgroundColor:"#07c160",buttonPrimaryBorderColor:"#07c160",buttonPrimaryBackgroundColor:"#07c160"};break}},changeFooter(e,t){e.footer=t}},actions:{},modules:{}}),LW=Object.defineProperty,RW=Object.defineProperties,xW=Object.getOwnPropertyDescriptors,iy=Object.getOwnPropertySymbols,$W=Object.prototype.hasOwnProperty,MW=Object.prototype.propertyIsEnumerable,oy=(e,t,n)=>t in e?LW(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,rd=(e,t)=>{for(var n in t||(t={}))$W.call(t,n)&&oy(e,n,t[n]);if(iy)for(var n of iy(t))MW.call(t,n)&&oy(e,n,t[n]);return e},ad=(e,t)=>RW(e,xW(t));function sy(e,t,n,r){var a,i=!1,o=0;function l(){a&&clearTimeout(a)}function u(){for(var s=arguments.length,c=new Array(s),d=0;d<s;d++)c[d]=arguments[d];var v=this,S=Date.now()-o;function E(){o=Date.now(),n.apply(v,c)}function m(){a=void 0}i||(r&&!a&&E(),l(),r===void 0&&S>e?E():t!==!0&&(a=setTimeout(r?m:E,r===void 0?e-S:e)))}return typeof t!="boolean"&&(r=n,n=t,t=void 0),u.cancel=function(){l(),i=!0},u}function ly(e,t,n){return n===void 0?sy(e,t,!1):sy(e,n,t!==!1)}function FW(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var sC={exports:{}};typeof window!="undefined"&&(sC.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var a=t[r]={i:r,l:!1,exports:{}};return e[r].call(a.exports,a,a.exports,n),a.l=!0,a.exports}return n.m=e,n.c=t,n.d=function(r,a,i){n.o(r,a)||Object.defineProperty(r,a,{enumerable:!0,get:i})},n.r=function(r){typeof Symbol!="undefined"&&Symbol.toStringTag&&Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(r,"__esModule",{value:!0})},n.t=function(r,a){if(1&a&&(r=n(r)),8&a||4&a&&typeof r=="object"&&r&&r.__esModule)return r;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:r}),2&a&&typeof r!="string")for(var o in r)n.d(i,o,function(l){return r[l]}.bind(null,o));return i},n.n=function(r){var a=r&&r.__esModule?function(){return r.default}:function(){return r};return n.d(a,"a",a),a},n.o=function(r,a){return Object.prototype.hasOwnProperty.call(r,a)},n.p="/dist/",n(n.s="./src/hls.ts")}({"./node_modules/eventemitter3/index.js":function(e,t,n){var r=Object.prototype.hasOwnProperty,a="~";function i(){}function o(c,d,v){this.fn=c,this.context=d,this.once=v||!1}function l(c,d,v,S,E){if(typeof v!="function")throw new TypeError("The listener must be a function");var m=new o(v,S||c,E),f=a?a+d:d;return c._events[f]?c._events[f].fn?c._events[f]=[c._events[f],m]:c._events[f].push(m):(c._events[f]=m,c._eventsCount++),c}function u(c,d){--c._eventsCount==0?c._events=new i:delete c._events[d]}function s(){this._events=new i,this._eventsCount=0}Object.create&&(i.prototype=Object.create(null),new i().__proto__||(a=!1)),s.prototype.eventNames=function(){var c,d,v=[];if(this._eventsCount===0)return v;for(d in c=this._events)r.call(c,d)&&v.push(a?d.slice(1):d);return Object.getOwnPropertySymbols?v.concat(Object.getOwnPropertySymbols(c)):v},s.prototype.listeners=function(c){var d=a?a+c:c,v=this._events[d];if(!v)return[];if(v.fn)return[v.fn];for(var S=0,E=v.length,m=new Array(E);S<E;S++)m[S]=v[S].fn;return m},s.prototype.listenerCount=function(c){var d=a?a+c:c,v=this._events[d];return v?v.fn?1:v.length:0},s.prototype.emit=function(c,d,v,S,E,m){var f=a?a+c:c;if(!this._events[f])return!1;var g,h,y=this._events[f],b=arguments.length;if(y.fn){switch(y.once&&this.removeListener(c,y.fn,void 0,!0),b){case 1:return y.fn.call(y.context),!0;case 2:return y.fn.call(y.context,d),!0;case 3:return y.fn.call(y.context,d,v),!0;case 4:return y.fn.call(y.context,d,v,S),!0;case 5:return y.fn.call(y.context,d,v,S,E),!0;case 6:return y.fn.call(y.context,d,v,S,E,m),!0}for(h=1,g=new Array(b-1);h<b;h++)g[h-1]=arguments[h];y.fn.apply(y.context,g)}else{var p,C=y.length;for(h=0;h<C;h++)switch(y[h].once&&this.removeListener(c,y[h].fn,void 0,!0),b){case 1:y[h].fn.call(y[h].context);break;case 2:y[h].fn.call(y[h].context,d);break;case 3:y[h].fn.call(y[h].context,d,v);break;case 4:y[h].fn.call(y[h].context,d,v,S);break;default:if(!g)for(p=1,g=new Array(b-1);p<b;p++)g[p-1]=arguments[p];y[h].fn.apply(y[h].context,g)}}return!0},s.prototype.on=function(c,d,v){return l(this,c,d,v,!1)},s.prototype.once=function(c,d,v){return l(this,c,d,v,!0)},s.prototype.removeListener=function(c,d,v,S){var E=a?a+c:c;if(!this._events[E])return this;if(!d)return u(this,E),this;var m=this._events[E];if(m.fn)m.fn!==d||S&&!m.once||v&&m.context!==v||u(this,E);else{for(var f=0,g=[],h=m.length;f<h;f++)(m[f].fn!==d||S&&!m[f].once||v&&m[f].context!==v)&&g.push(m[f]);g.length?this._events[E]=g.length===1?g[0]:g:u(this,E)}return this},s.prototype.removeAllListeners=function(c){var d;return c?(d=a?a+c:c,this._events[d]&&u(this,d)):(this._events=new i,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=a,s.EventEmitter=s,e.exports=s},"./node_modules/url-toolkit/src/url-toolkit.js":function(e,t,n){var r,a,i,o,l;r=/^((?:[a-zA-Z0-9+\-.]+:)?)(\/\/[^\/?#]*)?((?:[^\/?#]*\/)*[^;?#]*)?(;[^?#]*)?(\?[^#]*)?(#[^]*)?$/,a=/^([^\/?#]*)([^]*)$/,i=/(?:\/|^)\.(?=\/)/g,o=/(?:\/|^)\.\.\/(?!\.\.\/)[^\/]*(?=\/)/g,l={buildAbsoluteURL:function(u,s,c){if(c=c||{},u=u.trim(),!(s=s.trim())){if(!c.alwaysNormalize)return u;var d=l.parseURL(u);if(!d)throw new Error("Error trying to parse base URL.");return d.path=l.normalizePath(d.path),l.buildURLFromParts(d)}var v=l.parseURL(s);if(!v)throw new Error("Error trying to parse relative URL.");if(v.scheme)return c.alwaysNormalize?(v.path=l.normalizePath(v.path),l.buildURLFromParts(v)):s;var S=l.parseURL(u);if(!S)throw new Error("Error trying to parse base URL.");if(!S.netLoc&&S.path&&S.path[0]!=="/"){var E=a.exec(S.path);S.netLoc=E[1],S.path=E[2]}S.netLoc&&!S.path&&(S.path="/");var m={scheme:S.scheme,netLoc:v.netLoc,path:null,params:v.params,query:v.query,fragment:v.fragment};if(!v.netLoc&&(m.netLoc=S.netLoc,v.path[0]!=="/"))if(v.path){var f=S.path,g=f.substring(0,f.lastIndexOf("/")+1)+v.path;m.path=l.normalizePath(g)}else m.path=S.path,v.params||(m.params=S.params,v.query||(m.query=S.query));return m.path===null&&(m.path=c.alwaysNormalize?l.normalizePath(v.path):v.path),l.buildURLFromParts(m)},parseURL:function(u){var s=r.exec(u);return s?{scheme:s[1]||"",netLoc:s[2]||"",path:s[3]||"",params:s[4]||"",query:s[5]||"",fragment:s[6]||""}:null},normalizePath:function(u){for(u=u.split("").reverse().join("").replace(i,"");u.length!==(u=u.replace(o,"")).length;);return u.split("").reverse().join("")},buildURLFromParts:function(u){return u.scheme+u.netLoc+u.path+u.params+u.query+u.fragment}},e.exports=l},"./node_modules/webworkify-webpack/index.js":function(e,t,n){function r(s){var c={};function d(S){if(c[S])return c[S].exports;var E=c[S]={i:S,l:!1,exports:{}};return s[S].call(E.exports,E,E.exports,d),E.l=!0,E.exports}d.m=s,d.c=c,d.i=function(S){return S},d.d=function(S,E,m){d.o(S,E)||Object.defineProperty(S,E,{configurable:!1,enumerable:!0,get:m})},d.r=function(S){Object.defineProperty(S,"__esModule",{value:!0})},d.n=function(S){var E=S&&S.__esModule?function(){return S.default}:function(){return S};return d.d(E,"a",E),E},d.o=function(S,E){return Object.prototype.hasOwnProperty.call(S,E)},d.p="/",d.oe=function(S){throw console.error(S),S};var v=d(d.s=ENTRY_MODULE);return v.default||v}var a="[\\.|\\-|\\+|\\w|/|@]+",i="\\(\\s*(/\\*.*?\\*/)?\\s*.*?([\\.|\\-|\\+|\\w|/|@]+).*?\\)";function o(s){return(s+"").replace(/[.?*+^$[\]\\(){}|-]/g,"\\$&")}function l(s,c,d){var v={};v[d]=[];var S=c.toString(),E=S.match(/^function\s?\w*\(\w+,\s*\w+,\s*(\w+)\)/);if(!E)return v;for(var m,f=E[1],g=new RegExp("(\\\\n|\\W)"+o(f)+i,"g");m=g.exec(S);)m[3]!=="dll-reference"&&v[d].push(m[3]);for(g=new RegExp("\\("+o(f)+'\\("(dll-reference\\s('+a+'))"\\)\\)'+i,"g");m=g.exec(S);)s[m[2]]||(v[d].push(m[1]),s[m[2]]=n(m[1]).m),v[m[2]]=v[m[2]]||[],v[m[2]].push(m[4]);for(var h,y=Object.keys(v),b=0;b<y.length;b++)for(var p=0;p<v[y[b]].length;p++)h=v[y[b]][p],isNaN(1*h)||(v[y[b]][p]=1*v[y[b]][p]);return v}function u(s){return Object.keys(s).reduce(function(c,d){return c||s[d].length>0},!1)}e.exports=function(s,c){c=c||{};var d={main:n.m},v=c.all?{main:Object.keys(d.main)}:function(g,h){for(var y={main:[h]},b={main:[]},p={main:{}};u(y);)for(var C=Object.keys(y),w=0;w<C.length;w++){var k=C[w],_=y[k].pop();if(p[k]=p[k]||{},!p[k][_]&&g[k][_]){p[k][_]=!0,b[k]=b[k]||[],b[k].push(_);for(var T=l(g,g[k][_],k),O=Object.keys(T),A=0;A<O.length;A++)y[O[A]]=y[O[A]]||[],y[O[A]]=y[O[A]].concat(T[O[A]])}}return b}(d,s),S="";Object.keys(v).filter(function(g){return g!=="main"}).forEach(function(g){for(var h=0;v[g][h];)h++;v[g].push(h),d[g][h]="(function(module, exports, __webpack_require__) { module.exports = __webpack_require__; })",S=S+"var "+g+" = ("+r.toString().replace("ENTRY_MODULE",JSON.stringify(h))+")({"+v[g].map(function(y){return JSON.stringify(y)+": "+d[g][y].toString()}).join(",")+`});
`}),S=S+"new (("+r.toString().replace("ENTRY_MODULE",JSON.stringify(s))+")({"+v.main.map(function(g){return JSON.stringify(g)+": "+d.main[g].toString()}).join(",")+"}))(self);";var E=new window.Blob([S],{type:"text/javascript"});if(c.bare)return E;var m=(window.URL||window.webkitURL||window.mozURL||window.msURL).createObjectURL(E),f=new window.Worker(m);return f.objectURL=m,f}},"./src/config.ts":function(e,t,n){n.r(t),n.d(t,"hlsDefaultConfig",function(){return C}),n.d(t,"mergeConfig",function(){return w}),n.d(t,"enableStreamingMode",function(){return k});var r=n("./src/controller/abr-controller.ts"),a=n("./src/controller/audio-stream-controller.ts"),i=n("./src/controller/audio-track-controller.ts"),o=n("./src/controller/subtitle-stream-controller.ts"),l=n("./src/controller/subtitle-track-controller.ts"),u=n("./src/controller/buffer-controller.ts"),s=n("./src/controller/timeline-controller.ts"),c=n("./src/controller/cap-level-controller.ts"),d=n("./src/controller/fps-controller.ts"),v=n("./src/controller/eme-controller.ts"),S=n("./src/utils/xhr-loader.ts"),E=n("./src/utils/fetch-loader.ts"),m=n("./src/utils/cues.ts"),f=n("./src/utils/mediakeys-helper.ts"),g=n("./src/utils/logger.ts");function h(){return(h=Object.assign||function(_){for(var T=1;T<arguments.length;T++){var O=arguments[T];for(var A in O)Object.prototype.hasOwnProperty.call(O,A)&&(_[A]=O[A])}return _}).apply(this,arguments)}function y(_,T){var O=Object.keys(_);if(Object.getOwnPropertySymbols){var A=Object.getOwnPropertySymbols(_);T&&(A=A.filter(function(P){return Object.getOwnPropertyDescriptor(_,P).enumerable})),O.push.apply(O,A)}return O}function b(_){for(var T=1;T<arguments.length;T++){var O=arguments[T]!=null?arguments[T]:{};T%2?y(Object(O),!0).forEach(function(A){p(_,A,O[A])}):Object.getOwnPropertyDescriptors?Object.defineProperties(_,Object.getOwnPropertyDescriptors(O)):y(Object(O)).forEach(function(A){Object.defineProperty(_,A,Object.getOwnPropertyDescriptor(O,A))})}return _}function p(_,T,O){return T in _?Object.defineProperty(_,T,{value:O,enumerable:!0,configurable:!0,writable:!0}):_[T]=O,_}var C=b(b({autoStartLoad:!0,startPosition:-1,defaultAudioCodec:void 0,debug:!1,capLevelOnFPSDrop:!1,capLevelToPlayerSize:!1,initialLiveManifestSize:1,maxBufferLength:30,backBufferLength:1/0,maxBufferSize:6e7,maxBufferHole:.1,highBufferWatchdogPeriod:2,nudgeOffset:.1,nudgeMaxRetry:3,maxFragLookUpTolerance:.25,liveSyncDurationCount:3,liveMaxLatencyDurationCount:1/0,liveSyncDuration:void 0,liveMaxLatencyDuration:void 0,maxLiveSyncPlaybackRate:1,liveDurationInfinity:!1,liveBackBufferLength:null,maxMaxBufferLength:600,enableWorker:!0,enableSoftwareAES:!0,manifestLoadingTimeOut:1e4,manifestLoadingMaxRetry:1,manifestLoadingRetryDelay:1e3,manifestLoadingMaxRetryTimeout:64e3,startLevel:void 0,levelLoadingTimeOut:1e4,levelLoadingMaxRetry:4,levelLoadingRetryDelay:1e3,levelLoadingMaxRetryTimeout:64e3,fragLoadingTimeOut:2e4,fragLoadingMaxRetry:6,fragLoadingRetryDelay:1e3,fragLoadingMaxRetryTimeout:64e3,startFragPrefetch:!1,fpsDroppedMonitoringPeriod:5e3,fpsDroppedMonitoringThreshold:.2,appendErrorMaxRetry:3,loader:S.default,fLoader:void 0,pLoader:void 0,xhrSetup:void 0,licenseXhrSetup:void 0,licenseResponseCallback:void 0,abrController:r.default,bufferController:u.default,capLevelController:c.default,fpsController:d.default,stretchShortVideoTrack:!1,maxAudioFramesDrift:1,forceKeyFrameOnDiscontinuity:!0,abrEwmaFastLive:3,abrEwmaSlowLive:9,abrEwmaFastVoD:3,abrEwmaSlowVoD:9,abrEwmaDefaultEstimate:5e5,abrBandWidthFactor:.95,abrBandWidthUpFactor:.7,abrMaxWithRealBitrate:!1,maxStarvationDelay:4,maxLoadingDelay:4,minAutoBitrate:0,emeEnabled:!1,widevineLicenseUrl:void 0,drmSystemOptions:{},requestMediaKeySystemAccessFunc:f.requestMediaKeySystemAccess,testBandwidth:!0,progressive:!1,lowLatencyMode:!0},{cueHandler:m.default,enableCEA708Captions:!0,enableWebVTT:!0,enableIMSC1:!0,captionsTextTrack1Label:"English",captionsTextTrack1LanguageCode:"en",captionsTextTrack2Label:"Spanish",captionsTextTrack2LanguageCode:"es",captionsTextTrack3Label:"Unknown CC",captionsTextTrack3LanguageCode:"",captionsTextTrack4Label:"Unknown CC",captionsTextTrack4LanguageCode:"",renderTextTracksNatively:!0}),{},{subtitleStreamController:o.SubtitleStreamController,subtitleTrackController:l.default,timelineController:s.TimelineController,audioStreamController:a.default,audioTrackController:i.default,emeController:v.default});function w(_,T){if((T.liveSyncDurationCount||T.liveMaxLatencyDurationCount)&&(T.liveSyncDuration||T.liveMaxLatencyDuration))throw new Error("Illegal hls.js config: don't mix up liveSyncDurationCount/liveMaxLatencyDurationCount and liveSyncDuration/liveMaxLatencyDuration");if(T.liveMaxLatencyDurationCount!==void 0&&(T.liveSyncDurationCount===void 0||T.liveMaxLatencyDurationCount<=T.liveSyncDurationCount))throw new Error('Illegal hls.js config: "liveMaxLatencyDurationCount" must be greater than "liveSyncDurationCount"');if(T.liveMaxLatencyDuration!==void 0&&(T.liveSyncDuration===void 0||T.liveMaxLatencyDuration<=T.liveSyncDuration))throw new Error('Illegal hls.js config: "liveMaxLatencyDuration" must be greater than "liveSyncDuration"');return h({},_,T)}function k(_){var T=_.loader;T!==E.default&&T!==S.default?(g.logger.log("[config]: Custom loader detected, cannot enable progressive streaming"),_.progressive=!1):Object(E.fetchSupported)()&&(_.loader=E.default,_.progressive=!0,_.enableSoftwareAES=!0,g.logger.log("[config]: Progressive streaming enabled, using FetchLoader"))}},"./src/controller/abr-controller.ts":function(e,t,n){n.r(t);var r=n("./src/polyfills/number.ts"),a=n("./src/utils/ewma-bandwidth-estimator.ts"),i=n("./src/events.ts"),o=n("./src/utils/buffer-helper.ts"),l=n("./src/errors.ts"),u=n("./src/types/loader.ts"),s=n("./src/utils/logger.ts");function c(v,S){for(var E=0;E<S.length;E++){var m=S[E];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(v,m.key,m)}}var d=function(){function v(f){this.hls=void 0,this.lastLoadedFragLevel=0,this._nextAutoLevel=-1,this.timer=void 0,this.onCheck=this._abandonRulesCheck.bind(this),this.fragCurrent=null,this.partCurrent=null,this.bitrateTestDelay=0,this.bwEstimator=void 0,this.hls=f;var g=f.config;this.bwEstimator=new a.default(g.abrEwmaSlowVoD,g.abrEwmaFastVoD,g.abrEwmaDefaultEstimate),this.registerListeners()}var S,E,m=v.prototype;return m.registerListeners=function(){var f=this.hls;f.on(i.Events.FRAG_LOADING,this.onFragLoading,this),f.on(i.Events.FRAG_LOADED,this.onFragLoaded,this),f.on(i.Events.FRAG_BUFFERED,this.onFragBuffered,this),f.on(i.Events.LEVEL_LOADED,this.onLevelLoaded,this),f.on(i.Events.ERROR,this.onError,this)},m.unregisterListeners=function(){var f=this.hls;f.off(i.Events.FRAG_LOADING,this.onFragLoading,this),f.off(i.Events.FRAG_LOADED,this.onFragLoaded,this),f.off(i.Events.FRAG_BUFFERED,this.onFragBuffered,this),f.off(i.Events.LEVEL_LOADED,this.onLevelLoaded,this),f.off(i.Events.ERROR,this.onError,this)},m.destroy=function(){this.unregisterListeners(),this.clearTimer(),this.hls=this.onCheck=null,this.fragCurrent=this.partCurrent=null},m.onFragLoading=function(f,g){var h,y=g.frag;y.type===u.PlaylistLevelType.MAIN&&(this.timer||(this.fragCurrent=y,this.partCurrent=(h=g.part)!=null?h:null,this.timer=self.setInterval(this.onCheck,100)))},m.onLevelLoaded=function(f,g){var h=this.hls.config;g.details.live?this.bwEstimator.update(h.abrEwmaSlowLive,h.abrEwmaFastLive):this.bwEstimator.update(h.abrEwmaSlowVoD,h.abrEwmaFastVoD)},m._abandonRulesCheck=function(){var f=this.fragCurrent,g=this.partCurrent,h=this.hls,y=h.autoLevelEnabled,b=h.config,p=h.media;if(f&&p){var C=g?g.stats:f.stats,w=g?g.duration:f.duration;if(C.aborted)return s.logger.warn("frag loader destroy or aborted, disarm abandonRules"),this.clearTimer(),void(this._nextAutoLevel=-1);if(y&&!p.paused&&p.playbackRate&&p.readyState){var k=performance.now()-C.loading.start,_=Math.abs(p.playbackRate);if(!(k<=500*w/_)){var T=h.levels,O=h.minAutoLevel,A=T[f.level],P=C.total||Math.max(C.loaded,Math.round(w*A.maxBitrate/8)),D=Math.max(1,C.bwEstimate?C.bwEstimate/8:1e3*C.loaded/k),I=(P-C.loaded)/D,x=p.currentTime,L=(o.BufferHelper.bufferInfo(p,x,b.maxBufferHole).end-x)/_;if(!(L>=2*w/_||I<=L)){var $,M=Number.POSITIVE_INFINITY;for($=f.level-1;$>O&&!((M=w*T[$].maxBitrate/(6.4*D))<L);$--);if(!(M>=I)){var j=this.bwEstimator.getEstimate();s.logger.warn("Fragment "+f.sn+(g?" part "+g.index:"")+" of level "+f.level+" is loading too slowly and will cause an underbuffer; aborting and switching to level "+$+`
      Current BW estimate: `+(Object(r.isFiniteNumber)(j)?(j/1024).toFixed(3):"Unknown")+` Kb/s
      Estimated load time for current fragment: `+I.toFixed(3)+` s
      Estimated load time for the next fragment: `+M.toFixed(3)+` s
      Time to underbuffer: `+L.toFixed(3)+" s"),h.nextLoadLevel=$,this.bwEstimator.sample(k,C.loaded),this.clearTimer(),f.loader&&(this.fragCurrent=this.partCurrent=null,f.loader.abort()),h.trigger(i.Events.FRAG_LOAD_EMERGENCY_ABORTED,{frag:f,part:g,stats:C})}}}}}},m.onFragLoaded=function(f,g){var h=g.frag,y=g.part;if(h.type===u.PlaylistLevelType.MAIN&&Object(r.isFiniteNumber)(h.sn)){var b=y?y.stats:h.stats,p=y?y.duration:h.duration;if(this.clearTimer(),this.lastLoadedFragLevel=h.level,this._nextAutoLevel=-1,this.hls.config.abrMaxWithRealBitrate){var C=this.hls.levels[h.level],w=(C.loaded?C.loaded.bytes:0)+b.loaded,k=(C.loaded?C.loaded.duration:0)+p;C.loaded={bytes:w,duration:k},C.realBitrate=Math.round(8*w/k)}if(h.bitrateTest){var _={stats:b,frag:h,part:y,id:h.type};this.onFragBuffered(i.Events.FRAG_BUFFERED,_),h.bitrateTest=!1}}},m.onFragBuffered=function(f,g){var h=g.frag,y=g.part,b=y?y.stats:h.stats;if(!b.aborted&&h.type===u.PlaylistLevelType.MAIN&&h.sn!=="initSegment"){var p=b.parsing.end-b.loading.start;this.bwEstimator.sample(p,b.loaded),b.bwEstimate=this.bwEstimator.getEstimate(),h.bitrateTest?this.bitrateTestDelay=p/1e3:this.bitrateTestDelay=0}},m.onError=function(f,g){switch(g.details){case l.ErrorDetails.FRAG_LOAD_ERROR:case l.ErrorDetails.FRAG_LOAD_TIMEOUT:this.clearTimer()}},m.clearTimer=function(){self.clearInterval(this.timer),this.timer=void 0},m.getNextABRAutoLevel=function(){var f=this.fragCurrent,g=this.partCurrent,h=this.hls,y=h.maxAutoLevel,b=h.config,p=h.minAutoLevel,C=h.media,w=g?g.duration:f?f.duration:0,k=C?C.currentTime:0,_=C&&C.playbackRate!==0?Math.abs(C.playbackRate):1,T=this.bwEstimator?this.bwEstimator.getEstimate():b.abrEwmaDefaultEstimate,O=(o.BufferHelper.bufferInfo(C,k,b.maxBufferHole).end-k)/_,A=this.findBestLevel(T,p,y,O,b.abrBandWidthFactor,b.abrBandWidthUpFactor);if(A>=0)return A;s.logger.trace((O?"rebuffering expected":"buffer is empty")+", finding optimal quality level");var P=w?Math.min(w,b.maxStarvationDelay):b.maxStarvationDelay,D=b.abrBandWidthFactor,I=b.abrBandWidthUpFactor;if(!O){var x=this.bitrateTestDelay;x&&(P=(w?Math.min(w,b.maxLoadingDelay):b.maxLoadingDelay)-x,s.logger.trace("bitrate test took "+Math.round(1e3*x)+"ms, set first fragment max fetchDuration to "+Math.round(1e3*P)+" ms"),D=I=1)}return A=this.findBestLevel(T,p,y,O+P,D,I),Math.max(A,0)},m.findBestLevel=function(f,g,h,y,b,p){for(var C,w=this.fragCurrent,k=this.partCurrent,_=this.lastLoadedFragLevel,T=this.hls.levels,O=T[_],A=!(O==null||(C=O.details)===null||C===void 0||!C.live),P=O==null?void 0:O.codecSet,D=k?k.duration:w?w.duration:0,I=h;I>=g;I--){var x=T[I];if(x&&(!P||x.codecSet===P)){var L=x.details,$=(k?L==null?void 0:L.partTarget:L==null?void 0:L.averagetargetduration)||D,M=void 0;M=I<=_?b*f:p*f;var j=T[I].maxBitrate,F=j*$/M;if(s.logger.trace("level/adjustedbw/bitrate/avgDuration/maxFetchDuration/fetchDuration: "+I+"/"+Math.round(M)+"/"+j+"/"+$+"/"+y+"/"+F),M>j&&(!F||A&&!this.bitrateTestDelay||F<y))return I}}return-1},S=v,(E=[{key:"nextAutoLevel",get:function(){var f=this._nextAutoLevel,g=this.bwEstimator;if(!(f===-1||g&&g.canEstimate()))return f;var h=this.getNextABRAutoLevel();return f!==-1&&(h=Math.min(f,h)),h},set:function(f){this._nextAutoLevel=f}}])&&c(S.prototype,E),v}();t.default=d},"./src/controller/audio-stream-controller.ts":function(e,t,n){n.r(t);var r=n("./src/polyfills/number.ts"),a=n("./src/controller/base-stream-controller.ts"),i=n("./src/events.ts"),o=n("./src/utils/buffer-helper.ts"),l=n("./src/controller/fragment-tracker.ts"),u=n("./src/types/level.ts"),s=n("./src/types/loader.ts"),c=n("./src/loader/fragment.ts"),d=n("./src/demux/chunk-cache.ts"),v=n("./src/demux/transmuxer-interface.ts"),S=n("./src/types/transmuxer.ts"),E=n("./src/controller/fragment-finders.ts"),m=n("./src/utils/discontinuities.ts"),f=n("./src/errors.ts"),g=n("./src/utils/logger.ts");function h(){return(h=Object.assign||function(p){for(var C=1;C<arguments.length;C++){var w=arguments[C];for(var k in w)Object.prototype.hasOwnProperty.call(w,k)&&(p[k]=w[k])}return p}).apply(this,arguments)}function y(p,C){return(y=Object.setPrototypeOf||function(w,k){return w.__proto__=k,w})(p,C)}var b=function(p){var C,w;function k(T,O){var A;return(A=p.call(this,T,O,"[audio-stream-controller]")||this).videoBuffer=null,A.videoTrackCC=-1,A.waitingVideoCC=-1,A.audioSwitch=!1,A.trackId=-1,A.waitingData=null,A.mainDetails=null,A.bufferFlushed=!1,A._registerListeners(),A}w=p,(C=k).prototype=Object.create(w.prototype),C.prototype.constructor=C,y(C,w);var _=k.prototype;return _.onHandlerDestroying=function(){this._unregisterListeners(),this.mainDetails=null},_._registerListeners=function(){var T=this.hls;T.on(i.Events.MEDIA_ATTACHED,this.onMediaAttached,this),T.on(i.Events.MEDIA_DETACHING,this.onMediaDetaching,this),T.on(i.Events.MANIFEST_LOADING,this.onManifestLoading,this),T.on(i.Events.LEVEL_LOADED,this.onLevelLoaded,this),T.on(i.Events.AUDIO_TRACKS_UPDATED,this.onAudioTracksUpdated,this),T.on(i.Events.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),T.on(i.Events.AUDIO_TRACK_LOADED,this.onAudioTrackLoaded,this),T.on(i.Events.ERROR,this.onError,this),T.on(i.Events.BUFFER_RESET,this.onBufferReset,this),T.on(i.Events.BUFFER_CREATED,this.onBufferCreated,this),T.on(i.Events.BUFFER_FLUSHED,this.onBufferFlushed,this),T.on(i.Events.INIT_PTS_FOUND,this.onInitPtsFound,this),T.on(i.Events.FRAG_BUFFERED,this.onFragBuffered,this)},_._unregisterListeners=function(){var T=this.hls;T.off(i.Events.MEDIA_ATTACHED,this.onMediaAttached,this),T.off(i.Events.MEDIA_DETACHING,this.onMediaDetaching,this),T.off(i.Events.MANIFEST_LOADING,this.onManifestLoading,this),T.off(i.Events.LEVEL_LOADED,this.onLevelLoaded,this),T.off(i.Events.AUDIO_TRACKS_UPDATED,this.onAudioTracksUpdated,this),T.off(i.Events.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),T.off(i.Events.AUDIO_TRACK_LOADED,this.onAudioTrackLoaded,this),T.off(i.Events.ERROR,this.onError,this),T.off(i.Events.BUFFER_RESET,this.onBufferReset,this),T.off(i.Events.BUFFER_CREATED,this.onBufferCreated,this),T.off(i.Events.BUFFER_FLUSHED,this.onBufferFlushed,this),T.off(i.Events.INIT_PTS_FOUND,this.onInitPtsFound,this),T.off(i.Events.FRAG_BUFFERED,this.onFragBuffered,this)},_.onInitPtsFound=function(T,O){var A=O.frag,P=O.id,D=O.initPTS;if(P==="main"){var I=A.cc;this.initPTS[A.cc]=D,this.log("InitPTS for cc: "+I+" found from main: "+D),this.videoTrackCC=I,this.state===a.State.WAITING_INIT_PTS&&this.tick()}},_.startLoad=function(T){if(!this.levels)return this.startPosition=T,void(this.state=a.State.STOPPED);var O=this.lastCurrentTime;this.stopLoad(),this.setInterval(100),this.fragLoadError=0,O>0&&T===-1?(this.log("Override startPosition with lastCurrentTime @"+O.toFixed(3)),this.state=a.State.IDLE):(this.loadedmetadata=!1,this.state=a.State.WAITING_TRACK),this.nextLoadPosition=this.startPosition=this.lastCurrentTime=T,this.tick()},_.doTick=function(){switch(this.state){case a.State.IDLE:this.doTickIdle();break;case a.State.WAITING_TRACK:var T,O=this.levels,A=this.trackId,P=O==null||(T=O[A])===null||T===void 0?void 0:T.details;if(P){if(this.waitForCdnTuneIn(P))break;this.state=a.State.WAITING_INIT_PTS}break;case a.State.FRAG_LOADING_WAITING_RETRY:var D,I=performance.now(),x=this.retryDate;(!x||I>=x||(D=this.media)!==null&&D!==void 0&&D.seeking)&&(this.log("RetryDate reached, switch back to IDLE state"),this.state=a.State.IDLE);break;case a.State.WAITING_INIT_PTS:var L=this.waitingData;if(L){var $=L.frag,M=L.part,j=L.cache,F=L.complete;if(this.initPTS[$.cc]!==void 0){this.waitingData=null,this.waitingVideoCC=-1,this.state=a.State.FRAG_LOADING;var U={frag:$,part:M,payload:j.flush(),networkDetails:null};this._handleFragmentLoadProgress(U),F&&p.prototype._handleFragmentLoadComplete.call(this,U)}else if(this.videoTrackCC!==this.waitingVideoCC)g.logger.log("Waiting fragment cc ("+$.cc+") cancelled because video is at cc "+this.videoTrackCC),this.clearWaitingFragment();else{var B=this.getLoadPosition(),K=o.BufferHelper.bufferInfo(this.mediaBuffer,B,this.config.maxBufferHole);Object(E.fragmentWithinToleranceTest)(K.end,this.config.maxFragLookUpTolerance,$)<0&&(g.logger.log("Waiting fragment cc ("+$.cc+") @ "+$.start+" cancelled because another fragment at "+K.end+" is needed"),this.clearWaitingFragment())}}else this.state=a.State.IDLE}this.onTickEnd()},_.clearWaitingFragment=function(){var T=this.waitingData;T&&(this.fragmentTracker.removeFragment(T.frag),this.waitingData=null,this.waitingVideoCC=-1,this.state=a.State.IDLE)},_.onTickEnd=function(){var T=this.media;if(T&&T.readyState){var O=(this.mediaBuffer?this.mediaBuffer:T).buffered;!this.loadedmetadata&&O.length&&(this.loadedmetadata=!0),this.lastCurrentTime=T.currentTime}},_.doTickIdle=function(){var T,O,A=this.hls,P=this.levels,D=this.media,I=this.trackId,x=A.config;if(P&&P[I]&&(D||!this.startFragRequested&&x.startFragPrefetch)){var L=P[I].details;if(!L||L.live&&this.levelLastLoaded!==I||this.waitForCdnTuneIn(L))this.state=a.State.WAITING_TRACK;else{this.bufferFlushed&&(this.bufferFlushed=!1,this.afterBufferFlushed(this.mediaBuffer?this.mediaBuffer:this.media,c.ElementaryStreamTypes.AUDIO,s.PlaylistLevelType.AUDIO));var $=this.getFwdBufferInfo(this.mediaBuffer?this.mediaBuffer:this.media,s.PlaylistLevelType.AUDIO);if($!==null){var M=$.len,j=this.getMaxBufferLength(),F=this.audioSwitch;if(!(M>=j)||F){if(!F&&this._streamEnded($,L))return A.trigger(i.Events.BUFFER_EOS,{type:"audio"}),void(this.state=a.State.ENDED);var U=L.fragments[0].start,B=$.end;if(F){var K=this.getLoadPosition();B=K,L.PTSKnown&&K<U&&($.end>U||$.nextStart)&&(this.log("Alt audio track ahead of main track, seek to start of alt audio track"),D.currentTime=U+.05)}var V=this.getNextFragment(B,L);V?((T=V.decryptdata)===null||T===void 0?void 0:T.keyFormat)!=="identity"||(O=V.decryptdata)!==null&&O!==void 0&&O.key?this.loadFragment(V,L,B):this.loadKey(V,L):this.bufferFlushed=!0}}}}},_.getMaxBufferLength=function(){var T=p.prototype.getMaxBufferLength.call(this),O=this.getFwdBufferInfo(this.videoBuffer?this.videoBuffer:this.media,s.PlaylistLevelType.MAIN);return O===null?T:Math.max(T,O.len)},_.onMediaDetaching=function(){this.videoBuffer=null,p.prototype.onMediaDetaching.call(this)},_.onAudioTracksUpdated=function(T,O){var A=O.audioTracks;this.resetTransmuxer(),this.levels=A.map(function(P){return new u.Level(P)})},_.onAudioTrackSwitching=function(T,O){var A=!!O.url;this.trackId=O.id;var P=this.fragCurrent;P!=null&&P.loader&&P.loader.abort(),this.fragCurrent=null,this.clearWaitingFragment(),A?this.setInterval(100):this.resetTransmuxer(),A?(this.audioSwitch=!0,this.state=a.State.IDLE):this.state=a.State.STOPPED,this.tick()},_.onManifestLoading=function(){this.mainDetails=null,this.fragmentTracker.removeAllFragments(),this.startPosition=this.lastCurrentTime=0,this.bufferFlushed=!1},_.onLevelLoaded=function(T,O){this.mainDetails=O.details},_.onAudioTrackLoaded=function(T,O){var A,P=this.levels,D=O.details,I=O.id;if(P){this.log("Track "+I+" loaded ["+D.startSN+","+D.endSN+"],duration:"+D.totalduration);var x=P[I],L=0;if(D.live||(A=x.details)!==null&&A!==void 0&&A.live){var $=this.mainDetails;if(D.fragments[0]||(D.deltaUpdateFailed=!0),D.deltaUpdateFailed||!$)return;!x.details&&D.hasProgramDateTime&&$.hasProgramDateTime?(Object(m.alignPDT)(D,$),L=D.fragments[0].start):L=this.alignPlaylists(D,x.details)}x.details=D,this.levelLastLoaded=I,this.startFragRequested||!this.mainDetails&&D.live||this.setStartPosition(x.details,L),this.state!==a.State.WAITING_TRACK||this.waitForCdnTuneIn(D)||(this.state=a.State.IDLE),this.tick()}else this.warn("Audio tracks were reset while loading level "+I)},_._handleFragmentLoadProgress=function(T){var O,A=T.frag,P=T.part,D=T.payload,I=this.config,x=this.trackId,L=this.levels;if(L){var $=L[x];console.assert($,"Audio track is defined on fragment load progress");var M=$.details;console.assert(M,"Audio track details are defined on fragment load progress");var j=I.defaultAudioCodec||$.audioCodec||"mp4a.40.2",F=this.transmuxer;F||(F=this.transmuxer=new v.default(this.hls,s.PlaylistLevelType.AUDIO,this._handleTransmuxComplete.bind(this),this._handleTransmuxerFlush.bind(this)));var U=this.initPTS[A.cc],B=(O=A.initSegment)===null||O===void 0?void 0:O.data;if(U!==void 0){var K=P?P.index:-1,V=K!==-1,X=new S.ChunkMetadata(A.level,A.sn,A.stats.chunkCount,D.byteLength,K,V);F.push(D,B,j,"",A,P,M.totalduration,!1,X,U)}else g.logger.log("Unknown video PTS for cc "+A.cc+", waiting for video PTS before demuxing audio frag "+A.sn+" of ["+M.startSN+" ,"+M.endSN+"],track "+x),(this.waitingData=this.waitingData||{frag:A,part:P,cache:new d.default,complete:!1}).cache.push(new Uint8Array(D)),this.waitingVideoCC=this.videoTrackCC,this.state=a.State.WAITING_INIT_PTS}else this.warn("Audio tracks were reset while fragment load was in progress. Fragment "+A.sn+" of level "+A.level+" will not be buffered")},_._handleFragmentLoadComplete=function(T){this.waitingData?this.waitingData.complete=!0:p.prototype._handleFragmentLoadComplete.call(this,T)},_.onBufferReset=function(){this.mediaBuffer=this.videoBuffer=null,this.loadedmetadata=!1},_.onBufferCreated=function(T,O){var A=O.tracks.audio;A&&(this.mediaBuffer=A.buffer),O.tracks.video&&(this.videoBuffer=O.tracks.video.buffer)},_.onFragBuffered=function(T,O){var A=O.frag,P=O.part;A.type===s.PlaylistLevelType.AUDIO&&(this.fragContextChanged(A)?this.warn("Fragment "+A.sn+(P?" p: "+P.index:"")+" of level "+A.level+" finished buffering, but was aborted. state: "+this.state+", audioSwitch: "+this.audioSwitch):(A.sn!=="initSegment"&&(this.fragPrevious=A,this.audioSwitch&&(this.audioSwitch=!1,this.hls.trigger(i.Events.AUDIO_TRACK_SWITCHED,{id:this.trackId}))),this.fragBufferedComplete(A,P)))},_.onError=function(T,O){switch(O.details){case f.ErrorDetails.FRAG_LOAD_ERROR:case f.ErrorDetails.FRAG_LOAD_TIMEOUT:case f.ErrorDetails.KEY_LOAD_ERROR:case f.ErrorDetails.KEY_LOAD_TIMEOUT:this.onFragmentOrKeyLoadError(s.PlaylistLevelType.AUDIO,O);break;case f.ErrorDetails.AUDIO_TRACK_LOAD_ERROR:case f.ErrorDetails.AUDIO_TRACK_LOAD_TIMEOUT:this.state!==a.State.ERROR&&this.state!==a.State.STOPPED&&(this.state=O.fatal?a.State.ERROR:a.State.IDLE,this.warn(O.details+" while loading frag, switching to "+this.state+" state"));break;case f.ErrorDetails.BUFFER_FULL_ERROR:if(O.parent==="audio"&&(this.state===a.State.PARSING||this.state===a.State.PARSED)){var A=!0,P=this.getFwdBufferInfo(this.mediaBuffer,s.PlaylistLevelType.AUDIO);P&&P.len>.5&&(A=!this.reduceMaxBufferLength(P.len)),A&&(this.warn("Buffer full error also media.currentTime is not buffered, flush audio buffer"),this.fragCurrent=null,p.prototype.flushMainBuffer.call(this,0,Number.POSITIVE_INFINITY,"audio")),this.resetLoadingState()}}},_.onBufferFlushed=function(T,O){O.type===c.ElementaryStreamTypes.AUDIO&&(this.bufferFlushed=!0)},_._handleTransmuxComplete=function(T){var O,A="audio",P=this.hls,D=T.remuxResult,I=T.chunkMeta,x=this.getCurrentContext(I);if(!x)return this.warn("The loading context changed while buffering fragment "+I.sn+" of level "+I.level+". This chunk will not be buffered."),void this.resetLiveStartWhenNotLoaded(I.level);var L=x.frag,$=x.part,M=D.audio,j=D.text,F=D.id3,U=D.initSegment;if(!this.fragContextChanged(L)){if(this.state=a.State.PARSING,this.audioSwitch&&M&&this.completeAudioSwitch(),U!=null&&U.tracks&&(this._bufferInitSegment(U.tracks,L,I),P.trigger(i.Events.FRAG_PARSING_INIT_SEGMENT,{frag:L,id:A,tracks:U.tracks})),M){var B=M.startPTS,K=M.endPTS,V=M.startDTS,X=M.endDTS;$&&($.elementaryStreams[c.ElementaryStreamTypes.AUDIO]={startPTS:B,endPTS:K,startDTS:V,endDTS:X}),L.setElementaryStreamInfo(c.ElementaryStreamTypes.AUDIO,B,K,V,X),this.bufferFragmentData(M,L,$,I)}if(F!=null&&(O=F.samples)!==null&&O!==void 0&&O.length){var Z=h({frag:L,id:A},F);P.trigger(i.Events.FRAG_PARSING_METADATA,Z)}if(j){var ne=h({frag:L,id:A},j);P.trigger(i.Events.FRAG_PARSING_USERDATA,ne)}}},_._bufferInitSegment=function(T,O,A){if(this.state===a.State.PARSING){T.video&&delete T.video;var P=T.audio;if(P){P.levelCodec=P.codec,P.id="audio",this.log("Init audio buffer, container:"+P.container+", codecs[parsed]=["+P.codec+"]"),this.hls.trigger(i.Events.BUFFER_CODECS,T);var D=P.initSegment;if(D!=null&&D.byteLength){var I={type:"audio",frag:O,part:null,chunkMeta:A,parent:O.type,data:D};this.hls.trigger(i.Events.BUFFER_APPENDING,I)}this.tick()}}},_.loadFragment=function(T,O,A){var P=this.fragmentTracker.getState(T);this.fragCurrent=T,(this.audioSwitch||P===l.FragmentState.NOT_LOADED||P===l.FragmentState.PARTIAL)&&(T.sn==="initSegment"?this._loadInitSegment(T):O.live&&!Object(r.isFiniteNumber)(this.initPTS[T.cc])?(this.log("Waiting for video PTS in continuity counter "+T.cc+" of live stream before loading audio fragment "+T.sn+" of level "+this.trackId),this.state=a.State.WAITING_INIT_PTS):(this.startFragRequested=!0,p.prototype.loadFragment.call(this,T,O,A)))},_.completeAudioSwitch=function(){var T=this.hls,O=this.media,A=this.trackId;O&&(this.log("Switching audio track : flushing all audio"),p.prototype.flushMainBuffer.call(this,0,Number.POSITIVE_INFINITY,"audio")),this.audioSwitch=!1,T.trigger(i.Events.AUDIO_TRACK_SWITCHED,{id:A})},k}(a.default);t.default=b},"./src/controller/audio-track-controller.ts":function(e,t,n){n.r(t);var r=n("./src/events.ts"),a=n("./src/errors.ts"),i=n("./src/controller/base-playlist-controller.ts"),o=n("./src/types/loader.ts");function l(c,d){for(var v=0;v<d.length;v++){var S=d[v];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(c,S.key,S)}}function u(c,d){return(u=Object.setPrototypeOf||function(v,S){return v.__proto__=S,v})(c,d)}var s=function(c){var d,v;function S(g){var h;return(h=c.call(this,g,"[audio-track-controller]")||this).tracks=[],h.groupId=null,h.tracksInGroup=[],h.trackId=-1,h.trackName="",h.selectDefaultTrack=!0,h.registerListeners(),h}v=c,(d=S).prototype=Object.create(v.prototype),d.prototype.constructor=d,u(d,v);var E,m,f=S.prototype;return f.registerListeners=function(){var g=this.hls;g.on(r.Events.MANIFEST_LOADING,this.onManifestLoading,this),g.on(r.Events.MANIFEST_PARSED,this.onManifestParsed,this),g.on(r.Events.LEVEL_LOADING,this.onLevelLoading,this),g.on(r.Events.LEVEL_SWITCHING,this.onLevelSwitching,this),g.on(r.Events.AUDIO_TRACK_LOADED,this.onAudioTrackLoaded,this),g.on(r.Events.ERROR,this.onError,this)},f.unregisterListeners=function(){var g=this.hls;g.off(r.Events.MANIFEST_LOADING,this.onManifestLoading,this),g.off(r.Events.MANIFEST_PARSED,this.onManifestParsed,this),g.off(r.Events.LEVEL_LOADING,this.onLevelLoading,this),g.off(r.Events.LEVEL_SWITCHING,this.onLevelSwitching,this),g.off(r.Events.AUDIO_TRACK_LOADED,this.onAudioTrackLoaded,this),g.off(r.Events.ERROR,this.onError,this)},f.destroy=function(){this.unregisterListeners(),this.tracks.length=0,this.tracksInGroup.length=0,c.prototype.destroy.call(this)},f.onManifestLoading=function(){this.tracks=[],this.groupId=null,this.tracksInGroup=[],this.trackId=-1,this.trackName="",this.selectDefaultTrack=!0},f.onManifestParsed=function(g,h){this.tracks=h.audioTracks||[]},f.onAudioTrackLoaded=function(g,h){var y=h.id,b=h.details,p=this.tracksInGroup[y];if(p){var C=p.details;p.details=h.details,this.log("audioTrack "+y+" loaded ["+b.startSN+"-"+b.endSN+"]"),y===this.trackId&&(this.retryCount=0,this.playlistLoaded(y,h,C))}else this.warn("Invalid audio track id "+y)},f.onLevelLoading=function(g,h){this.switchLevel(h.level)},f.onLevelSwitching=function(g,h){this.switchLevel(h.level)},f.switchLevel=function(g){var h=this.hls.levels[g];if(h!=null&&h.audioGroupIds){var y=h.audioGroupIds[h.urlId];if(this.groupId!==y){this.groupId=y;var b=this.tracks.filter(function(C){return!y||C.groupId===y});this.selectDefaultTrack&&!b.some(function(C){return C.default})&&(this.selectDefaultTrack=!1),this.tracksInGroup=b;var p={audioTracks:b};this.log("Updating audio tracks, "+b.length+' track(s) found in "'+y+'" group-id'),this.hls.trigger(r.Events.AUDIO_TRACKS_UPDATED,p),this.selectInitialTrack()}}},f.onError=function(g,h){c.prototype.onError.call(this,g,h),!h.fatal&&h.context&&h.context.type===o.PlaylistContextType.AUDIO_TRACK&&h.context.id===this.trackId&&h.context.groupId===this.groupId&&this.retryLoadingOrFail(h)},f.setAudioTrack=function(g){var h=this.tracksInGroup;if(g<0||g>=h.length)this.warn("Invalid id passed to audio-track controller");else{this.clearTimer();var y=h[this.trackId];this.log("Now switching to audio-track index "+g);var b=h[g],p=b.id,C=b.groupId,w=C===void 0?"":C,k=b.name,_=b.type,T=b.url;if(this.trackId=g,this.trackName=k,this.selectDefaultTrack=!1,this.hls.trigger(r.Events.AUDIO_TRACK_SWITCHING,{id:p,groupId:w,name:k,type:_,url:T}),!b.details||b.details.live){var O=this.switchParams(b.url,y==null?void 0:y.details);this.loadPlaylist(O)}}},f.selectInitialTrack=function(){var g=this.tracksInGroup;console.assert(g.length,"Initial audio track should be selected when tracks are known");var h=this.trackName,y=this.findTrackId(h)||this.findTrackId();y!==-1?this.setAudioTrack(y):(this.warn("No track found for running audio group-ID: "+this.groupId),this.hls.trigger(r.Events.ERROR,{type:a.ErrorTypes.MEDIA_ERROR,details:a.ErrorDetails.AUDIO_TRACK_LOAD_ERROR,fatal:!0}))},f.findTrackId=function(g){for(var h=this.tracksInGroup,y=0;y<h.length;y++){var b=h[y];if((!this.selectDefaultTrack||b.default)&&(!g||g===b.name))return b.id}return-1},f.loadPlaylist=function(g){var h=this.tracksInGroup[this.trackId];if(this.shouldLoadTrack(h)){var y=h.id,b=h.groupId,p=h.url;if(g)try{p=g.addDirectives(p)}catch(C){this.warn("Could not construct new URL with HLS Delivery Directives: "+C)}this.log("loading audio-track playlist for id: "+y),this.clearTimer(),this.hls.trigger(r.Events.AUDIO_TRACK_LOADING,{url:p,id:y,groupId:b,deliveryDirectives:g||null})}},E=S,(m=[{key:"audioTracks",get:function(){return this.tracksInGroup}},{key:"audioTrack",get:function(){return this.trackId},set:function(g){this.selectDefaultTrack=!1,this.setAudioTrack(g)}}])&&l(E.prototype,m),S}(i.default);t.default=s},"./src/controller/base-playlist-controller.ts":function(e,t,n){n.r(t),n.d(t,"default",function(){return u});var r=n("./src/polyfills/number.ts"),a=n("./src/types/level.ts"),i=n("./src/controller/level-helper.ts"),o=n("./src/utils/logger.ts"),l=n("./src/errors.ts"),u=function(){function s(d,v){this.hls=void 0,this.timer=-1,this.canLoad=!1,this.retryCount=0,this.log=void 0,this.warn=void 0,this.log=o.logger.log.bind(o.logger,v+":"),this.warn=o.logger.warn.bind(o.logger,v+":"),this.hls=d}var c=s.prototype;return c.destroy=function(){this.clearTimer(),this.hls=this.log=this.warn=null},c.onError=function(d,v){v.fatal&&v.type===l.ErrorTypes.NETWORK_ERROR&&this.clearTimer()},c.clearTimer=function(){clearTimeout(this.timer),this.timer=-1},c.startLoad=function(){this.canLoad=!0,this.retryCount=0,this.loadPlaylist()},c.stopLoad=function(){this.canLoad=!1,this.clearTimer()},c.switchParams=function(d,v){var S=v==null?void 0:v.renditionReports;if(S)for(var E=0;E<S.length;E++){var m=S[E],f=""+m.URI;if(f===d.substr(-f.length)){var g=parseInt(m["LAST-MSN"]),h=parseInt(m["LAST-PART"]);if(v&&this.hls.config.lowLatencyMode){var y=Math.min(v.age-v.partTarget,v.targetduration);h!==void 0&&y>v.partTarget&&(h+=1)}if(Object(r.isFiniteNumber)(g))return new a.HlsUrlParameters(g,Object(r.isFiniteNumber)(h)?h:void 0,a.HlsSkip.No)}}},c.loadPlaylist=function(d){},c.shouldLoadTrack=function(d){return this.canLoad&&d&&!!d.url&&(!d.details||d.details.live)},c.playlistLoaded=function(d,v,S){var E=this,m=v.details,f=v.stats,g=f.loading.end?Math.max(0,self.performance.now()-f.loading.end):0;if(m.advancedDateTime=Date.now()-g,m.live||S!=null&&S.live){if(m.reloaded(S),S&&this.log("live playlist "+d+" "+(m.advanced?"REFRESHED "+m.lastPartSn+"-"+m.lastPartIndex:"MISSED")),S&&m.fragments.length>0&&Object(i.mergeDetails)(S,m),!this.canLoad||!m.live)return;var h,y=void 0,b=void 0;if(m.canBlockReload&&m.endSN&&m.advanced){var p=this.hls.config.lowLatencyMode,C=m.lastPartSn,w=m.endSN,k=m.lastPartIndex,_=C===w;k!==-1?(y=_?w+1:C,b=_?p?0:k:k+1):y=w+1;var T=m.age,O=T+m.ageHeader,A=Math.min(O-m.partTarget,1.5*m.targetduration);if(A>0){if(S&&A>S.tuneInGoal)this.warn("CDN Tune-in goal increased from: "+S.tuneInGoal+" to: "+A+" with playlist age: "+m.age),A=0;else{var P=Math.floor(A/m.targetduration);y+=P,b!==void 0&&(b+=Math.round(A%m.targetduration/m.partTarget)),this.log("CDN Tune-in age: "+m.ageHeader+"s last advanced "+T.toFixed(2)+"s goal: "+A+" skip sn "+P+" to part "+b)}m.tuneInGoal=A}if(h=this.getDeliveryDirectives(m,v.deliveryDirectives,y,b),p||!_)return void this.loadPlaylist(h)}else h=this.getDeliveryDirectives(m,v.deliveryDirectives,y,b);var D=Object(i.computeReloadInterval)(m,f);y!==void 0&&m.canBlockReload&&(D-=m.partTarget||1),this.log("reload live playlist "+d+" in "+Math.round(D)+" ms"),this.timer=self.setTimeout(function(){return E.loadPlaylist(h)},D)}else this.clearTimer()},c.getDeliveryDirectives=function(d,v,S,E){var m=Object(a.getSkipValue)(d,S);return v!=null&&v.skip&&d.deltaUpdateFailed&&(S=v.msn,E=v.part,m=a.HlsSkip.No),new a.HlsUrlParameters(S,E,m)},c.retryLoadingOrFail=function(d){var v,S=this,E=this.hls.config,m=this.retryCount<E.levelLoadingMaxRetry;if(m)if(this.retryCount++,d.details.indexOf("LoadTimeOut")>-1&&(v=d.context)!==null&&v!==void 0&&v.deliveryDirectives)this.warn("retry playlist loading #"+this.retryCount+' after "'+d.details+'"'),this.loadPlaylist();else{var f=Math.min(Math.pow(2,this.retryCount)*E.levelLoadingRetryDelay,E.levelLoadingMaxRetryTimeout);this.timer=self.setTimeout(function(){return S.loadPlaylist()},f),this.warn("retry playlist loading #"+this.retryCount+" in "+f+' ms after "'+d.details+'"')}else this.warn('cannot recover from error "'+d.details+'"'),this.clearTimer(),d.fatal=!0;return m},s}()},"./src/controller/base-stream-controller.ts":function(e,t,n){n.r(t),n.d(t,"State",function(){return p}),n.d(t,"default",function(){return C});var r=n("./src/polyfills/number.ts"),a=n("./src/task-loop.ts"),i=n("./src/controller/fragment-tracker.ts"),o=n("./src/utils/buffer-helper.ts"),l=n("./src/utils/logger.ts"),u=n("./src/events.ts"),s=n("./src/errors.ts"),c=n("./src/types/transmuxer.ts"),d=n("./src/utils/mp4-tools.ts"),v=n("./src/utils/discontinuities.ts"),S=n("./src/controller/fragment-finders.ts"),E=n("./src/controller/level-helper.ts"),m=n("./src/loader/fragment-loader.ts"),f=n("./src/crypt/decrypter.ts"),g=n("./src/utils/time-ranges.ts"),h=n("./src/types/loader.ts");function y(w,k){for(var _=0;_<k.length;_++){var T=k[_];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(w,T.key,T)}}function b(w,k){return(b=Object.setPrototypeOf||function(_,T){return _.__proto__=T,_})(w,k)}var p={STOPPED:"STOPPED",IDLE:"IDLE",KEY_LOADING:"KEY_LOADING",FRAG_LOADING:"FRAG_LOADING",FRAG_LOADING_WAITING_RETRY:"FRAG_LOADING_WAITING_RETRY",WAITING_TRACK:"WAITING_TRACK",PARSING:"PARSING",PARSED:"PARSED",BACKTRACKING:"BACKTRACKING",ENDED:"ENDED",ERROR:"ERROR",WAITING_INIT_PTS:"WAITING_INIT_PTS",WAITING_LEVEL:"WAITING_LEVEL"},C=function(w){var k,_;function T(D,I,x){var L;return(L=w.call(this)||this).hls=void 0,L.fragPrevious=null,L.fragCurrent=null,L.fragmentTracker=void 0,L.transmuxer=null,L._state=p.STOPPED,L.media=void 0,L.mediaBuffer=void 0,L.config=void 0,L.bitrateTest=!1,L.lastCurrentTime=0,L.nextLoadPosition=0,L.startPosition=0,L.loadedmetadata=!1,L.fragLoadError=0,L.retryDate=0,L.levels=null,L.fragmentLoader=void 0,L.levelLastLoaded=null,L.startFragRequested=!1,L.decrypter=void 0,L.initPTS=[],L.onvseeking=null,L.onvended=null,L.logPrefix="",L.log=void 0,L.warn=void 0,L.logPrefix=x,L.log=l.logger.log.bind(l.logger,x+":"),L.warn=l.logger.warn.bind(l.logger,x+":"),L.hls=D,L.fragmentLoader=new m.default(D.config),L.fragmentTracker=I,L.config=D.config,L.decrypter=new f.default(D,D.config),D.on(u.Events.KEY_LOADED,L.onKeyLoaded,function($){if($===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return $}(L)),L}_=w,(k=T).prototype=Object.create(_.prototype),k.prototype.constructor=k,b(k,_);var O,A,P=T.prototype;return P.doTick=function(){this.onTickEnd()},P.onTickEnd=function(){},P.startLoad=function(D){},P.stopLoad=function(){this.fragmentLoader.abort();var D=this.fragCurrent;D&&this.fragmentTracker.removeFragment(D),this.resetTransmuxer(),this.fragCurrent=null,this.fragPrevious=null,this.clearInterval(),this.clearNextTick(),this.state=p.STOPPED},P._streamEnded=function(D,I){var x=this.fragCurrent,L=this.fragmentTracker;if(!I.live&&x&&x.sn===I.endSN&&!D.nextStart){var $=L.getState(x);return $===i.FragmentState.PARTIAL||$===i.FragmentState.OK}return!1},P.onMediaAttached=function(D,I){var x=this.media=this.mediaBuffer=I.media;this.onvseeking=this.onMediaSeeking.bind(this),this.onvended=this.onMediaEnded.bind(this),x.addEventListener("seeking",this.onvseeking),x.addEventListener("ended",this.onvended);var L=this.config;this.levels&&L.autoStartLoad&&this.state===p.STOPPED&&this.startLoad(L.startPosition)},P.onMediaDetaching=function(){var D=this.media;D!=null&&D.ended&&(this.log("MSE detaching and video ended, reset startPosition"),this.startPosition=this.lastCurrentTime=0),D&&(D.removeEventListener("seeking",this.onvseeking),D.removeEventListener("ended",this.onvended),this.onvseeking=this.onvended=null),this.media=this.mediaBuffer=null,this.loadedmetadata=!1,this.fragmentTracker.removeAllFragments(),this.stopLoad()},P.onMediaSeeking=function(){var D=this.config,I=this.fragCurrent,x=this.media,L=this.mediaBuffer,$=this.state,M=x?x.currentTime:0,j=o.BufferHelper.bufferInfo(L||x,M,D.maxBufferHole);if(this.log("media seeking to "+(Object(r.isFiniteNumber)(M)?M.toFixed(3):M)+", state: "+$),$===p.ENDED)this.resetLoadingState();else if(I&&!j.len){var F=D.maxFragLookUpTolerance,U=I.start-F,B=M>I.start+I.duration+F;(M<U||B)&&(B&&I.loader&&(this.log("seeking outside of buffer while fragment load in progress, cancel fragment load"),I.loader.abort()),this.resetLoadingState())}x&&(this.lastCurrentTime=M),this.loadedmetadata||j.len||(this.nextLoadPosition=this.startPosition=M),this.tickImmediate()},P.onMediaEnded=function(){this.startPosition=this.lastCurrentTime=0},P.onKeyLoaded=function(D,I){if(this.state===p.KEY_LOADING&&I.frag===this.fragCurrent&&this.levels){this.state=p.IDLE;var x=this.levels[I.frag.level].details;x&&this.loadFragment(I.frag,x,I.frag.start)}},P.onHandlerDestroying=function(){this.stopLoad(),w.prototype.onHandlerDestroying.call(this)},P.onHandlerDestroyed=function(){this.state=p.STOPPED,this.hls.off(u.Events.KEY_LOADED,this.onKeyLoaded,this),this.fragmentLoader&&this.fragmentLoader.destroy(),this.decrypter&&this.decrypter.destroy(),this.hls=this.log=this.warn=this.decrypter=this.fragmentLoader=this.fragmentTracker=null,w.prototype.onHandlerDestroyed.call(this)},P.loadKey=function(D,I){this.log("Loading key for "+D.sn+" of ["+I.startSN+"-"+I.endSN+"], "+(this.logPrefix==="[stream-controller]"?"level":"track")+" "+D.level),this.state=p.KEY_LOADING,this.fragCurrent=D,this.hls.trigger(u.Events.KEY_LOADING,{frag:D})},P.loadFragment=function(D,I,x){this._loadFragForPlayback(D,I,x)},P._loadFragForPlayback=function(D,I,x){var L=this;this._doFragLoad(D,I,x,function($){if(L.fragContextChanged(D))return L.warn("Fragment "+D.sn+($.part?" p: "+$.part.index:"")+" of level "+D.level+" was dropped during download."),void L.fragmentTracker.removeFragment(D);D.stats.chunkCount++,L._handleFragmentLoadProgress($)}).then(function($){if($){L.fragLoadError=0;var M=L.state;if(!L.fragContextChanged(D))return"payload"in $&&(L.log("Loaded fragment "+D.sn+" of level "+D.level),L.hls.trigger(u.Events.FRAG_LOADED,$),L.state===p.BACKTRACKING)?(L.fragmentTracker.backtrack(D,$),void L.resetFragmentLoading(D)):void L._handleFragmentLoadComplete($);(M===p.FRAG_LOADING||M===p.BACKTRACKING||!L.fragCurrent&&M===p.PARSING)&&(L.fragmentTracker.removeFragment(D),L.state=p.IDLE)}}).catch(function($){L.warn($),L.resetFragmentLoading(D)})},P.flushMainBuffer=function(D,I,x){if(x===void 0&&(x=null),D-I){var L={startOffset:D,endOffset:I,type:x};this.fragLoadError=0,this.hls.trigger(u.Events.BUFFER_FLUSHING,L)}},P._loadInitSegment=function(D){var I=this;this._doFragLoad(D).then(function(x){if(!x||I.fragContextChanged(D)||!I.levels)throw new Error("init load aborted");return x}).then(function(x){var L=I.hls,$=x.payload,M=D.decryptdata;if($&&$.byteLength>0&&M&&M.key&&M.iv&&M.method==="AES-128"){var j=self.performance.now();return I.decrypter.webCryptoDecrypt(new Uint8Array($),M.key.buffer,M.iv.buffer).then(function(F){var U=self.performance.now();return L.trigger(u.Events.FRAG_DECRYPTED,{frag:D,payload:F,stats:{tstart:j,tdecrypt:U}}),x.payload=F,x})}return x}).then(function(x){var L=I.fragCurrent,$=I.hls,M=I.levels;if(!M)throw new Error("init load aborted, missing levels");var j=M[D.level].details;console.assert(j,"Level details are defined when init segment is loaded");var F=D.stats;I.state=p.IDLE,I.fragLoadError=0,D.data=new Uint8Array(x.payload),F.parsing.start=F.buffering.start=self.performance.now(),F.parsing.end=F.buffering.end=self.performance.now(),x.frag===L&&$.trigger(u.Events.FRAG_BUFFERED,{stats:F,frag:L,part:null,id:D.type}),I.tick()}).catch(function(x){I.warn(x),I.resetFragmentLoading(D)})},P.fragContextChanged=function(D){var I=this.fragCurrent;return!D||!I||D.level!==I.level||D.sn!==I.sn||D.urlId!==I.urlId},P.fragBufferedComplete=function(D,I){var x=this.mediaBuffer?this.mediaBuffer:this.media;this.log("Buffered "+D.type+" sn: "+D.sn+(I?" part: "+I.index:"")+" of "+(this.logPrefix==="[stream-controller]"?"level":"track")+" "+D.level+" "+g.default.toString(o.BufferHelper.getBuffered(x))),this.state=p.IDLE,this.tick()},P._handleFragmentLoadComplete=function(D){var I=this.transmuxer;if(I){var x=D.frag,L=D.part,$=D.partsLoaded,M=!$||$.length===0||$.some(function(F){return!F}),j=new c.ChunkMetadata(x.level,x.sn,x.stats.chunkCount+1,0,L?L.index:-1,!M);I.flush(j)}},P._handleFragmentLoadProgress=function(D){},P._doFragLoad=function(D,I,x,L){var $=this;if(x===void 0&&(x=null),!this.levels)throw new Error("frag load aborted, missing levels");if(x=Math.max(D.start,x||0),this.config.lowLatencyMode&&I){var M=I.partList;if(M&&L){x>D.end&&I.fragmentHint&&(D=I.fragmentHint);var j=this.getNextPart(M,D,x);if(j>-1){var F=M[j];return this.log("Loading part sn: "+D.sn+" p: "+F.index+" cc: "+D.cc+" of playlist ["+I.startSN+"-"+I.endSN+"] parts [0-"+j+"-"+(M.length-1)+"] "+(this.logPrefix==="[stream-controller]"?"level":"track")+": "+D.level+", target: "+parseFloat(x.toFixed(3))),this.nextLoadPosition=F.start+F.duration,this.state=p.FRAG_LOADING,this.hls.trigger(u.Events.FRAG_LOADING,{frag:D,part:M[j],targetBufferTime:x}),this.doFragPartsLoad(D,M,j,L).catch(function(U){return $.handleFragLoadError(U)})}if(!D.url||this.loadedEndOfParts(M,x))return Promise.resolve(null)}}return this.log("Loading fragment "+D.sn+" cc: "+D.cc+" "+(I?"of ["+I.startSN+"-"+I.endSN+"] ":"")+(this.logPrefix==="[stream-controller]"?"level":"track")+": "+D.level+", target: "+parseFloat(x.toFixed(3))),Object(r.isFiniteNumber)(D.sn)&&!this.bitrateTest&&(this.nextLoadPosition=D.start+D.duration),this.state=p.FRAG_LOADING,this.hls.trigger(u.Events.FRAG_LOADING,{frag:D,targetBufferTime:x}),this.fragmentLoader.load(D,L).catch(function(U){return $.handleFragLoadError(U)})},P.doFragPartsLoad=function(D,I,x,L){var $=this;return new Promise(function(M,j){var F=[];(function U(B){var K=I[B];$.fragmentLoader.loadPart(D,K,L).then(function(V){F[K.index]=V;var X=V.part;$.hls.trigger(u.Events.FRAG_LOADED,V);var Z=I[B+1];if(!Z||Z.fragment!==D)return M({frag:D,part:X,partsLoaded:F});U(B+1)}).catch(j)})(x)})},P.handleFragLoadError=function(D){var I=D.data;return I&&I.details===s.ErrorDetails.INTERNAL_ABORTED?this.handleFragLoadAborted(I.frag,I.part):this.hls.trigger(u.Events.ERROR,I),null},P._handleTransmuxerFlush=function(D){var I=this.getCurrentContext(D);if(I&&this.state===p.PARSING){var x=I.frag,L=I.part,$=I.level,M=self.performance.now();x.stats.parsing.end=M,L&&(L.stats.parsing.end=M),this.updateLevelTiming(x,L,$,D.partial)}else this.fragCurrent||(this.state=p.IDLE)},P.getCurrentContext=function(D){var I=this.levels,x=D.level,L=D.sn,$=D.part;if(!I||!I[x])return this.warn("Levels object was unset while buffering fragment "+L+" of level "+x+". The current chunk will not be buffered."),null;var M=I[x],j=$>-1?Object(E.getPartWith)(M,L,$):null,F=j?j.fragment:Object(E.getFragmentWithSN)(M,L,this.fragCurrent);return F?{frag:F,part:j,level:M}:null},P.bufferFragmentData=function(D,I,x,L){if(D&&this.state===p.PARSING){var $=D.data1,M=D.data2,j=$;if($&&M&&(j=Object(d.appendUint8Array)($,M)),j&&j.length){var F={type:D.type,frag:I,part:x,chunkMeta:L,parent:I.type,data:j};this.hls.trigger(u.Events.BUFFER_APPENDING,F),D.dropped&&D.independent&&!x&&this.flushBufferGap(I)}}},P.flushBufferGap=function(D){var I=this.media;if(I)if(o.BufferHelper.isBuffered(I,I.currentTime)){var x=I.currentTime,L=o.BufferHelper.bufferInfo(I,x,0),$=D.duration,M=Math.min(2*this.config.maxFragLookUpTolerance,.25*$),j=Math.max(Math.min(D.start-M,L.end-M),x+M);D.start-j>M&&this.flushMainBuffer(j,D.start)}else this.flushMainBuffer(0,D.start)},P.getFwdBufferInfo=function(D,I){var x=this.config,L=this.getLoadPosition();if(!Object(r.isFiniteNumber)(L))return null;var $=o.BufferHelper.bufferInfo(D,L,x.maxBufferHole);if($.len===0&&$.nextStart!==void 0){var M=this.fragmentTracker.getBufferedFrag(L,I);if(M&&$.nextStart<M.end)return o.BufferHelper.bufferInfo(D,L,Math.max($.nextStart,x.maxBufferHole))}return $},P.getMaxBufferLength=function(D){var I,x=this.config;return I=D?Math.max(8*x.maxBufferSize/D,x.maxBufferLength):x.maxBufferLength,Math.min(I,x.maxMaxBufferLength)},P.reduceMaxBufferLength=function(D){var I=this.config,x=D||I.maxBufferLength;return I.maxMaxBufferLength>=x&&(I.maxMaxBufferLength/=2,this.warn("Reduce max buffer length to "+I.maxMaxBufferLength+"s"),!0)},P.getNextFragment=function(D,I){var x,L,$=I.fragments,M=$.length;if(!M)return null;var j,F=this.config,U=$[0].start;if(I.live){var B=F.initialLiveManifestSize;if(M<B)return this.warn("Not enough fragments to start playback (have: "+M+", need: "+B+")"),null;I.PTSKnown||this.startFragRequested||this.startPosition!==-1||(j=this.getInitialLiveFragment(I,$),this.startPosition=j?this.hls.liveSyncPosition||j.start:D)}else D<=U&&(j=$[0]);if(!j){var K=F.lowLatencyMode?I.partEnd:I.fragmentEnd;j=this.getFragmentAtPosition(D,K,I)}return(x=j)===null||x===void 0||!x.initSegment||(L=j)!==null&&L!==void 0&&L.initSegment.data||this.bitrateTest||(j=j.initSegment),j},P.getNextPart=function(D,I,x){for(var L=-1,$=!1,M=!0,j=0,F=D.length;j<F;j++){var U=D[j];if(M=M&&!U.independent,L>-1&&x<U.start)break;var B=U.loaded;!B&&($||U.independent||M)&&U.fragment===I&&(L=j),$=B}return L},P.loadedEndOfParts=function(D,I){var x=D[D.length-1];return x&&I>x.start&&x.loaded},P.getInitialLiveFragment=function(D,I){var x=this.fragPrevious,L=null;if(x){if(D.hasProgramDateTime&&(this.log("Live playlist, switching playlist, load frag with same PDT: "+x.programDateTime),L=Object(S.findFragmentByPDT)(I,x.endProgramDateTime,this.config.maxFragLookUpTolerance)),!L){var $=x.sn+1;if($>=D.startSN&&$<=D.endSN){var M=I[$-D.startSN];x.cc===M.cc&&(L=M,this.log("Live playlist, switching playlist, load frag with next SN: "+L.sn))}L||(L=Object(S.findFragWithCC)(I,x.cc))&&this.log("Live playlist, switching playlist, load frag with same CC: "+L.sn)}}else{var j=this.hls.liveSyncPosition;j!==null&&(L=this.getFragmentAtPosition(j,this.bitrateTest?D.fragmentEnd:D.edge,D))}return L},P.getFragmentAtPosition=function(D,I,x){var L,$=this.config,M=this.fragPrevious,j=x.fragments,F=x.endSN,U=x.fragmentHint,B=$.maxFragLookUpTolerance,K=!!($.lowLatencyMode&&x.partList&&U);if(K&&U&&!this.bitrateTest&&(j=j.concat(U),F=U.sn),D<I){var V=D>I-B?0:B;L=Object(S.findFragmentByPTS)(M,j,D,V)}else L=j[j.length-1];if(L){var X=L.sn-x.startSN,Z=M&&L.level===M.level,ne=j[X+1];if(this.fragmentTracker.getState(L)===i.FragmentState.BACKTRACKED){L=null;for(var ae=X;j[ae]&&this.fragmentTracker.getState(j[ae])===i.FragmentState.BACKTRACKED;)L=M?j[ae--]:j[--ae];L||(L=ne)}else M&&L.sn===M.sn&&!K&&Z&&(L.sn<F&&this.fragmentTracker.getState(ne)!==i.FragmentState.OK?(this.log("SN "+L.sn+" just loaded, load next one: "+ne.sn),L=ne):L=null)}return L},P.synchronizeToLiveEdge=function(D){var I=this.config,x=this.media;if(x){var L=this.hls.liveSyncPosition,$=x.currentTime,M=D.fragments[0].start,j=D.edge,F=$>=M-I.maxFragLookUpTolerance&&$<=j;if(L!==null&&x.duration>L&&($<L||!F)){var U=I.liveMaxLatencyDuration!==void 0?I.liveMaxLatencyDuration:I.liveMaxLatencyDurationCount*D.targetduration;(!F&&x.readyState<4||$<j-U)&&(this.loadedmetadata||(this.nextLoadPosition=L),x.readyState&&(this.warn("Playback: "+$.toFixed(3)+" is located too far from the end of live sliding playlist: "+j+", reset currentTime to : "+L.toFixed(3)),x.currentTime=L))}}},P.alignPlaylists=function(D,I){var x=this.levels,L=this.levelLastLoaded,$=this.fragPrevious,M=L!==null?x[L]:null,j=D.fragments.length;if(!j)return this.warn("No fragments in live playlist"),0;var F=D.fragments[0].start,U=!I,B=D.alignedSliding&&Object(r.isFiniteNumber)(F);if(U||!B&&!F){Object(v.alignStream)($,M,D);var K=D.fragments[0].start;return this.log("Live playlist sliding: "+K.toFixed(2)+" start-sn: "+(I?I.startSN:"na")+"->"+D.startSN+" prev-sn: "+($?$.sn:"na")+" fragments: "+j),K}return F},P.waitForCdnTuneIn=function(D){return D.live&&D.canBlockReload&&D.tuneInGoal>Math.max(D.partHoldBack,3*D.partTarget)},P.setStartPosition=function(D,I){var x=this.startPosition;if(x<I&&(x=-1),x===-1||this.lastCurrentTime===-1){var L=D.startTimeOffset;Object(r.isFiniteNumber)(L)?(x=I+L,L<0&&(x+=D.totalduration),x=Math.min(Math.max(I,x),I+D.totalduration),this.log("Start time offset "+L+" found in playlist, adjust startPosition to "+x),this.startPosition=x):D.live?x=this.hls.liveSyncPosition||I:this.startPosition=x=0,this.lastCurrentTime=x}this.nextLoadPosition=x},P.getLoadPosition=function(){var D=this.media,I=0;return this.loadedmetadata&&D?I=D.currentTime:this.nextLoadPosition&&(I=this.nextLoadPosition),I},P.handleFragLoadAborted=function(D,I){this.transmuxer&&D.sn!=="initSegment"&&D.stats.aborted&&(this.warn("Fragment "+D.sn+(I?" part"+I.index:"")+" of level "+D.level+" was aborted"),this.resetFragmentLoading(D))},P.resetFragmentLoading=function(D){this.fragCurrent&&this.fragContextChanged(D)||(this.state=p.IDLE)},P.onFragmentOrKeyLoadError=function(D,I){if(!I.fatal){var x=I.frag;if(x&&x.type===D){var L=this.fragCurrent;console.assert(L&&x.sn===L.sn&&x.level===L.level&&x.urlId===L.urlId,"Frag load error must match current frag to retry");var $=this.config;if(this.fragLoadError+1<=$.fragLoadingMaxRetry){if(this.resetLiveStartWhenNotLoaded(x.level))return;var M=Math.min(Math.pow(2,this.fragLoadError)*$.fragLoadingRetryDelay,$.fragLoadingMaxRetryTimeout);this.warn("Fragment "+x.sn+" of "+D+" "+x.level+" failed to load, retrying in "+M+"ms"),this.retryDate=self.performance.now()+M,this.fragLoadError++,this.state=p.FRAG_LOADING_WAITING_RETRY}else I.levelRetry?(D===h.PlaylistLevelType.AUDIO&&(this.fragCurrent=null),this.fragLoadError=0,this.state=p.IDLE):(l.logger.error(I.details+" reaches max retry, redispatch as fatal ..."),I.fatal=!0,this.hls.stopLoad(),this.state=p.ERROR)}}},P.afterBufferFlushed=function(D,I,x){if(D){var L=o.BufferHelper.getBuffered(D);this.fragmentTracker.detectEvictedFragments(I,L,x),this.state===p.ENDED&&this.resetLoadingState()}},P.resetLoadingState=function(){this.fragCurrent=null,this.fragPrevious=null,this.state=p.IDLE},P.resetLiveStartWhenNotLoaded=function(D){if(!this.loadedmetadata){this.startFragRequested=!1;var I=this.levels?this.levels[D].details:null;if(I!=null&&I.live)return this.startPosition=-1,this.setStartPosition(I,0),this.resetLoadingState(),!0;this.nextLoadPosition=this.startPosition}return!1},P.updateLevelTiming=function(D,I,x,L){var $=this,M=x.details;console.assert(!!M,"level.details must be defined"),Object.keys(D.elementaryStreams).reduce(function(j,F){var U=D.elementaryStreams[F];if(U){var B=U.endPTS-U.startPTS;if(B<=0)return $.warn("Could not parse fragment "+D.sn+" "+F+" duration reliably ("+B+") resetting transmuxer to fallback to playlist timing"),$.resetTransmuxer(),j||!1;var K=L?0:Object(E.updateFragPTSDTS)(M,D,U.startPTS,U.endPTS,U.startDTS,U.endDTS);return $.hls.trigger(u.Events.LEVEL_PTS_UPDATED,{details:M,level:x,drift:K,type:F,frag:D,start:U.startPTS,end:U.endPTS}),!0}return j},!1)?(this.state=p.PARSED,this.hls.trigger(u.Events.FRAG_PARSED,{frag:D,part:I})):this.resetLoadingState()},P.resetTransmuxer=function(){this.transmuxer&&(this.transmuxer.destroy(),this.transmuxer=null)},O=T,(A=[{key:"state",get:function(){return this._state},set:function(D){var I=this._state;I!==D&&(this._state=D,this.log(I+"->"+D))}}])&&y(O.prototype,A),T}(a.default)},"./src/controller/buffer-controller.ts":function(e,t,n){n.r(t),n.d(t,"default",function(){return S});var r=n("./src/polyfills/number.ts"),a=n("./src/events.ts"),i=n("./src/utils/logger.ts"),o=n("./src/errors.ts"),l=n("./src/utils/buffer-helper.ts"),u=n("./src/utils/mediasource-helper.ts"),s=n("./src/loader/fragment.ts"),c=n("./src/controller/buffer-operation-queue.ts"),d=Object(u.getMediaSource)(),v=/([ha]vc.)(?:\.[^.,]+)+/,S=function(){function E(f){var g=this;this.details=null,this._objectUrl=null,this.operationQueue=void 0,this.listeners=void 0,this.hls=void 0,this.bufferCodecEventsExpected=0,this._bufferCodecEventsTotal=0,this.media=null,this.mediaSource=null,this.appendError=0,this.tracks={},this.pendingTracks={},this.sourceBuffer=void 0,this._onMediaSourceOpen=function(){var h=g.hls,y=g.media,b=g.mediaSource;i.logger.log("[buffer-controller]: Media source opened"),y&&(g.updateMediaElementDuration(),h.trigger(a.Events.MEDIA_ATTACHED,{media:y})),b&&b.removeEventListener("sourceopen",g._onMediaSourceOpen),g.checkPendingTracks()},this._onMediaSourceClose=function(){i.logger.log("[buffer-controller]: Media source closed")},this._onMediaSourceEnded=function(){i.logger.log("[buffer-controller]: Media source ended")},this.hls=f,this._initSourceBuffer(),this.registerListeners()}var m=E.prototype;return m.hasSourceTypes=function(){return this.getSourceBufferTypes().length>0||Object.keys(this.pendingTracks).length>0},m.destroy=function(){this.unregisterListeners(),this.details=null},m.registerListeners=function(){var f=this.hls;f.on(a.Events.MEDIA_ATTACHING,this.onMediaAttaching,this),f.on(a.Events.MEDIA_DETACHING,this.onMediaDetaching,this),f.on(a.Events.MANIFEST_PARSED,this.onManifestParsed,this),f.on(a.Events.BUFFER_RESET,this.onBufferReset,this),f.on(a.Events.BUFFER_APPENDING,this.onBufferAppending,this),f.on(a.Events.BUFFER_CODECS,this.onBufferCodecs,this),f.on(a.Events.BUFFER_EOS,this.onBufferEos,this),f.on(a.Events.BUFFER_FLUSHING,this.onBufferFlushing,this),f.on(a.Events.LEVEL_UPDATED,this.onLevelUpdated,this),f.on(a.Events.FRAG_PARSED,this.onFragParsed,this),f.on(a.Events.FRAG_CHANGED,this.onFragChanged,this)},m.unregisterListeners=function(){var f=this.hls;f.off(a.Events.MEDIA_ATTACHING,this.onMediaAttaching,this),f.off(a.Events.MEDIA_DETACHING,this.onMediaDetaching,this),f.off(a.Events.MANIFEST_PARSED,this.onManifestParsed,this),f.off(a.Events.BUFFER_RESET,this.onBufferReset,this),f.off(a.Events.BUFFER_APPENDING,this.onBufferAppending,this),f.off(a.Events.BUFFER_CODECS,this.onBufferCodecs,this),f.off(a.Events.BUFFER_EOS,this.onBufferEos,this),f.off(a.Events.BUFFER_FLUSHING,this.onBufferFlushing,this),f.off(a.Events.LEVEL_UPDATED,this.onLevelUpdated,this),f.off(a.Events.FRAG_PARSED,this.onFragParsed,this),f.off(a.Events.FRAG_CHANGED,this.onFragChanged,this)},m._initSourceBuffer=function(){this.sourceBuffer={},this.operationQueue=new c.default(this.sourceBuffer),this.listeners={audio:[],video:[],audiovideo:[]}},m.onManifestParsed=function(f,g){var h=2;(g.audio&&!g.video||!g.altAudio)&&(h=1),this.bufferCodecEventsExpected=this._bufferCodecEventsTotal=h,this.details=null,i.logger.log(this.bufferCodecEventsExpected+" bufferCodec event(s) expected")},m.onMediaAttaching=function(f,g){var h=this.media=g.media;if(h&&d){var y=this.mediaSource=new d;y.addEventListener("sourceopen",this._onMediaSourceOpen),y.addEventListener("sourceended",this._onMediaSourceEnded),y.addEventListener("sourceclose",this._onMediaSourceClose),h.src=self.URL.createObjectURL(y),this._objectUrl=h.src}},m.onMediaDetaching=function(){var f=this.media,g=this.mediaSource,h=this._objectUrl;if(g){if(i.logger.log("[buffer-controller]: media source detaching"),g.readyState==="open")try{g.endOfStream()}catch(y){i.logger.warn("[buffer-controller]: onMediaDetaching: "+y.message+" while calling endOfStream")}this.onBufferReset(),g.removeEventListener("sourceopen",this._onMediaSourceOpen),g.removeEventListener("sourceended",this._onMediaSourceEnded),g.removeEventListener("sourceclose",this._onMediaSourceClose),f&&(h&&self.URL.revokeObjectURL(h),f.src===h?(f.removeAttribute("src"),f.load()):i.logger.warn("[buffer-controller]: media.src was changed by a third party - skip cleanup")),this.mediaSource=null,this.media=null,this._objectUrl=null,this.bufferCodecEventsExpected=this._bufferCodecEventsTotal,this.pendingTracks={},this.tracks={}}this.hls.trigger(a.Events.MEDIA_DETACHED,void 0)},m.onBufferReset=function(){var f=this;this.getSourceBufferTypes().forEach(function(g){var h=f.sourceBuffer[g];try{h&&(f.removeBufferListeners(g),f.mediaSource&&f.mediaSource.removeSourceBuffer(h),f.sourceBuffer[g]=void 0)}catch(y){i.logger.warn("[buffer-controller]: Failed to reset the "+g+" buffer",y)}}),this._initSourceBuffer()},m.onBufferCodecs=function(f,g){var h=this,y=this.getSourceBufferTypes().length;Object.keys(g).forEach(function(b){if(y){var p=h.tracks[b];if(p&&typeof p.buffer.changeType=="function"){var C=g[b],w=C.codec,k=C.levelCodec,_=C.container;if((p.levelCodec||p.codec).replace(v,"$1")!==(k||w).replace(v,"$1")){var T=_+";codecs="+(k||w);h.appendChangeType(b,T)}}}else h.pendingTracks[b]=g[b]}),y||(this.bufferCodecEventsExpected=Math.max(this.bufferCodecEventsExpected-1,0),this.mediaSource&&this.mediaSource.readyState==="open"&&this.checkPendingTracks())},m.appendChangeType=function(f,g){var h=this,y=this.operationQueue,b={execute:function(){var p=h.sourceBuffer[f];p&&(i.logger.log("[buffer-controller]: changing "+f+" sourceBuffer type to "+g),p.changeType(g)),y.shiftAndExecuteNext(f)},onStart:function(){},onComplete:function(){},onError:function(p){i.logger.warn("[buffer-controller]: Failed to change "+f+" SourceBuffer type",p)}};y.append(b,f)},m.onBufferAppending=function(f,g){var h=this,y=this.hls,b=this.operationQueue,p=this.tracks,C=g.data,w=g.type,k=g.frag,_=g.part,T=g.chunkMeta,O=T.buffering[w],A=self.performance.now();O.start=A;var P=k.stats.buffering,D=_?_.stats.buffering:null;P.start===0&&(P.start=A),D&&D.start===0&&(D.start=A);var I=p.audio,x=w==="audio"&&T.id===1&&(I==null?void 0:I.container)==="audio/mpeg",L={execute:function(){if(O.executeStart=self.performance.now(),x){var $=h.sourceBuffer[w];if($){var M=k.start-$.timestampOffset;Math.abs(M)>=.1&&(i.logger.log("[buffer-controller]: Updating audio SourceBuffer timestampOffset to "+k.start+" (delta: "+M+") sn: "+k.sn+")"),$.timestampOffset=k.start)}}h.appendExecutor(C,w)},onStart:function(){},onComplete:function(){var $=self.performance.now();O.executeEnd=O.end=$,P.first===0&&(P.first=$),D&&D.first===0&&(D.first=$);var M=h.sourceBuffer,j={};for(var F in M)j[F]=l.BufferHelper.getBuffered(M[F]);h.appendError=0,h.hls.trigger(a.Events.BUFFER_APPENDED,{type:w,frag:k,part:_,chunkMeta:T,parent:k.type,timeRanges:j})},onError:function($){i.logger.error("[buffer-controller]: Error encountered while trying to append to the "+w+" SourceBuffer",$);var M={type:o.ErrorTypes.MEDIA_ERROR,parent:k.type,details:o.ErrorDetails.BUFFER_APPEND_ERROR,err:$,fatal:!1};$.code===DOMException.QUOTA_EXCEEDED_ERR?M.details=o.ErrorDetails.BUFFER_FULL_ERROR:(h.appendError++,M.details=o.ErrorDetails.BUFFER_APPEND_ERROR,h.appendError>y.config.appendErrorMaxRetry&&(i.logger.error("[buffer-controller]: Failed "+y.config.appendErrorMaxRetry+" times to append segment in sourceBuffer"),M.fatal=!0)),y.trigger(a.Events.ERROR,M)}};b.append(L,w)},m.onBufferFlushing=function(f,g){var h=this,y=this.operationQueue,b=function(p){return{execute:h.removeExecutor.bind(h,p,g.startOffset,g.endOffset),onStart:function(){},onComplete:function(){h.hls.trigger(a.Events.BUFFER_FLUSHED,{type:p})},onError:function(C){i.logger.warn("[buffer-controller]: Failed to remove from "+p+" SourceBuffer",C)}}};g.type?y.append(b(g.type),g.type):this.getSourceBufferTypes().forEach(function(p){y.append(b(p),p)})},m.onFragParsed=function(f,g){var h=this,y=g.frag,b=g.part,p=[],C=b?b.elementaryStreams:y.elementaryStreams;C[s.ElementaryStreamTypes.AUDIOVIDEO]?p.push("audiovideo"):(C[s.ElementaryStreamTypes.AUDIO]&&p.push("audio"),C[s.ElementaryStreamTypes.VIDEO]&&p.push("video")),p.length===0&&i.logger.warn("Fragments must have at least one ElementaryStreamType set. type: "+y.type+" level: "+y.level+" sn: "+y.sn),this.blockBuffers(function(){var w=self.performance.now();y.stats.buffering.end=w,b&&(b.stats.buffering.end=w);var k=b?b.stats:y.stats;h.hls.trigger(a.Events.FRAG_BUFFERED,{frag:y,part:b,stats:k,id:y.type})},p)},m.onFragChanged=function(f,g){this.flushBackBuffer()},m.onBufferEos=function(f,g){var h=this;this.getSourceBufferTypes().reduce(function(y,b){var p=h.sourceBuffer[b];return g.type&&g.type!==b||p&&!p.ended&&(p.ended=!0,i.logger.log("[buffer-controller]: "+b+" sourceBuffer now EOS")),y&&!(p&&!p.ended)},!0)&&this.blockBuffers(function(){var y=h.mediaSource;y&&y.readyState==="open"&&y.endOfStream()})},m.onLevelUpdated=function(f,g){var h=g.details;h.fragments.length&&(this.details=h,this.getSourceBufferTypes().length?this.blockBuffers(this.updateMediaElementDuration.bind(this)):this.updateMediaElementDuration())},m.flushBackBuffer=function(){var f=this.hls,g=this.details,h=this.media,y=this.sourceBuffer;if(h&&g!==null){var b=this.getSourceBufferTypes();if(b.length){var p=g.live&&f.config.liveBackBufferLength!==null?f.config.liveBackBufferLength:f.config.backBufferLength;if(Object(r.isFiniteNumber)(p)&&!(p<0)){var C=h.currentTime,w=g.levelTargetDuration,k=Math.max(p,w),_=Math.floor(C/w)*w-k;b.forEach(function(T){var O=y[T];if(O){var A=l.BufferHelper.getBuffered(O);A.length>0&&_>A.start(0)&&(f.trigger(a.Events.BACK_BUFFER_REACHED,{bufferEnd:_}),g.live&&f.trigger(a.Events.LIVE_BACK_BUFFER_REACHED,{bufferEnd:_}),f.trigger(a.Events.BUFFER_FLUSHING,{startOffset:0,endOffset:_,type:T}))}})}}}},m.updateMediaElementDuration=function(){if(this.details&&this.media&&this.mediaSource&&this.mediaSource.readyState==="open"){var f=this.details,g=this.hls,h=this.media,y=this.mediaSource,b=f.fragments[0].start+f.totalduration,p=h.duration,C=Object(r.isFiniteNumber)(y.duration)?y.duration:0;f.live&&g.config.liveDurationInfinity?(i.logger.log("[buffer-controller]: Media Source duration is set to Infinity"),y.duration=1/0,this.updateSeekableRange(f)):(b>C&&b>p||!Object(r.isFiniteNumber)(p))&&(i.logger.log("[buffer-controller]: Updating Media Source duration to "+b.toFixed(3)),y.duration=b)}},m.updateSeekableRange=function(f){var g=this.mediaSource,h=f.fragments;if(h.length&&f.live&&g!=null&&g.setLiveSeekableRange){var y=Math.max(0,h[0].start),b=Math.max(y,y+f.totalduration);g.setLiveSeekableRange(y,b)}},m.checkPendingTracks=function(){var f=this.bufferCodecEventsExpected,g=this.operationQueue,h=this.pendingTracks,y=Object.keys(h).length;if(y&&!f||y===2){this.createSourceBuffers(h),this.pendingTracks={};var b=this.getSourceBufferTypes();if(b.length===0)return void this.hls.trigger(a.Events.ERROR,{type:o.ErrorTypes.MEDIA_ERROR,details:o.ErrorDetails.BUFFER_INCOMPATIBLE_CODECS_ERROR,fatal:!0,reason:"could not create source buffer for media codec(s)"});b.forEach(function(p){g.executeNext(p)})}},m.createSourceBuffers=function(f){var g=this.sourceBuffer,h=this.mediaSource;if(!h)throw Error("createSourceBuffers called when mediaSource was null");var y=0;for(var b in f)if(!g[b]){var p=f[b];if(!p)throw Error("source buffer exists for track "+b+", however track does not");var C=p.levelCodec||p.codec,w=p.container+";codecs="+C;i.logger.log("[buffer-controller]: creating sourceBuffer("+w+")");try{var k=g[b]=h.addSourceBuffer(w),_=b;this.addBufferListener(_,"updatestart",this._onSBUpdateStart),this.addBufferListener(_,"updateend",this._onSBUpdateEnd),this.addBufferListener(_,"error",this._onSBUpdateError),this.tracks[b]={buffer:k,codec:C,container:p.container,levelCodec:p.levelCodec,id:p.id},y++}catch(T){i.logger.error("[buffer-controller]: error while trying to add sourceBuffer: "+T.message),this.hls.trigger(a.Events.ERROR,{type:o.ErrorTypes.MEDIA_ERROR,details:o.ErrorDetails.BUFFER_ADD_CODEC_ERROR,fatal:!1,error:T,mimeType:w})}}y&&this.hls.trigger(a.Events.BUFFER_CREATED,{tracks:this.tracks})},m._onSBUpdateStart=function(f){this.operationQueue.current(f).onStart()},m._onSBUpdateEnd=function(f){var g=this.operationQueue;g.current(f).onComplete(),g.shiftAndExecuteNext(f)},m._onSBUpdateError=function(f,g){i.logger.error("[buffer-controller]: "+f+" SourceBuffer error",g),this.hls.trigger(a.Events.ERROR,{type:o.ErrorTypes.MEDIA_ERROR,details:o.ErrorDetails.BUFFER_APPENDING_ERROR,fatal:!1});var h=this.operationQueue.current(f);h&&h.onError(g)},m.removeExecutor=function(f,g,h){var y=this.media,b=this.mediaSource,p=this.operationQueue,C=this.sourceBuffer[f];if(!y||!b||!C)return i.logger.warn("[buffer-controller]: Attempting to remove from the "+f+" SourceBuffer, but it does not exist"),void p.shiftAndExecuteNext(f);var w=Object(r.isFiniteNumber)(y.duration)?y.duration:1/0,k=Object(r.isFiniteNumber)(b.duration)?b.duration:1/0,_=Math.max(0,g),T=Math.min(h,w,k);T>_?(i.logger.log("[buffer-controller]: Removing ["+_+","+T+"] from the "+f+" SourceBuffer"),console.assert(!C.updating,f+" sourceBuffer must not be updating"),C.remove(_,T)):p.shiftAndExecuteNext(f)},m.appendExecutor=function(f,g){var h=this.operationQueue,y=this.sourceBuffer[g];if(!y)return i.logger.warn("[buffer-controller]: Attempting to append to the "+g+" SourceBuffer, but it does not exist"),void h.shiftAndExecuteNext(g);y.ended=!1,console.assert(!y.updating,g+" sourceBuffer must not be updating"),y.appendBuffer(f)},m.blockBuffers=function(f,g){var h=this;if(g===void 0&&(g=this.getSourceBufferTypes()),!g.length)return i.logger.log("[buffer-controller]: Blocking operation requested, but no SourceBuffers exist"),void Promise.resolve(f);var y=this.operationQueue,b=g.map(function(p){return y.appendBlocker(p)});Promise.all(b).then(function(){f(),g.forEach(function(p){var C=h.sourceBuffer[p];C&&C.updating||y.shiftAndExecuteNext(p)})})},m.getSourceBufferTypes=function(){return Object.keys(this.sourceBuffer)},m.addBufferListener=function(f,g,h){var y=this.sourceBuffer[f];if(y){var b=h.bind(this,f);this.listeners[f].push({event:g,listener:b}),y.addEventListener(g,b)}},m.removeBufferListeners=function(f){var g=this.sourceBuffer[f];g&&this.listeners[f].forEach(function(h){g.removeEventListener(h.event,h.listener)})},E}()},"./src/controller/buffer-operation-queue.ts":function(e,t,n){n.r(t),n.d(t,"default",function(){return a});var r=n("./src/utils/logger.ts"),a=function(){function i(l){this.buffers=void 0,this.queues={video:[],audio:[],audiovideo:[]},this.buffers=l}var o=i.prototype;return o.append=function(l,u){var s=this.queues[u];s.push(l),s.length===1&&this.buffers[u]&&this.executeNext(u)},o.insertAbort=function(l,u){this.queues[u].unshift(l),this.executeNext(u)},o.appendBlocker=function(l){var u,s=new Promise(function(d){u=d}),c={execute:u,onStart:function(){},onComplete:function(){},onError:function(){}};return this.append(c,l),s},o.executeNext=function(l){var u=this.buffers,s=this.queues,c=u[l],d=s[l];if(d.length){var v=d[0];try{v.execute()}catch(S){r.logger.warn("[buffer-operation-queue]: Unhandled exception executing the current operation"),v.onError(S),c&&c.updating||(d.shift(),this.executeNext(l))}}},o.shiftAndExecuteNext=function(l){this.queues[l].shift(),this.executeNext(l)},o.current=function(l){return this.queues[l][0]},i}()},"./src/controller/cap-level-controller.ts":function(e,t,n){n.r(t);var r=n("./src/events.ts");function a(o,l){for(var u=0;u<l.length;u++){var s=l[u];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(o,s.key,s)}}var i=function(){function o(d){this.autoLevelCapping=void 0,this.firstLevel=void 0,this.media=void 0,this.restrictedLevels=void 0,this.timer=void 0,this.hls=void 0,this.streamController=void 0,this.clientRect=void 0,this.hls=d,this.autoLevelCapping=Number.POSITIVE_INFINITY,this.firstLevel=-1,this.media=null,this.restrictedLevels=[],this.timer=void 0,this.clientRect=null,this.registerListeners()}var l,u,s,c=o.prototype;return c.setStreamController=function(d){this.streamController=d},c.destroy=function(){this.unregisterListener(),this.hls.config.capLevelToPlayerSize&&this.stopCapping(),this.media=null,this.clientRect=null,this.hls=this.streamController=null},c.registerListeners=function(){var d=this.hls;d.on(r.Events.FPS_DROP_LEVEL_CAPPING,this.onFpsDropLevelCapping,this),d.on(r.Events.MEDIA_ATTACHING,this.onMediaAttaching,this),d.on(r.Events.MANIFEST_PARSED,this.onManifestParsed,this),d.on(r.Events.BUFFER_CODECS,this.onBufferCodecs,this),d.on(r.Events.MEDIA_DETACHING,this.onMediaDetaching,this)},c.unregisterListener=function(){var d=this.hls;d.off(r.Events.FPS_DROP_LEVEL_CAPPING,this.onFpsDropLevelCapping,this),d.off(r.Events.MEDIA_ATTACHING,this.onMediaAttaching,this),d.off(r.Events.MANIFEST_PARSED,this.onManifestParsed,this),d.off(r.Events.BUFFER_CODECS,this.onBufferCodecs,this),d.off(r.Events.MEDIA_DETACHING,this.onMediaDetaching,this)},c.onFpsDropLevelCapping=function(d,v){o.isLevelAllowed(v.droppedLevel,this.restrictedLevels)&&this.restrictedLevels.push(v.droppedLevel)},c.onMediaAttaching=function(d,v){this.media=v.media instanceof HTMLVideoElement?v.media:null},c.onManifestParsed=function(d,v){var S=this.hls;this.restrictedLevels=[],this.firstLevel=v.firstLevel,S.config.capLevelToPlayerSize&&v.video&&this.startCapping()},c.onBufferCodecs=function(d,v){this.hls.config.capLevelToPlayerSize&&v.video&&this.startCapping()},c.onMediaDetaching=function(){this.stopCapping()},c.detectPlayerSize=function(){if(this.media&&this.mediaHeight>0&&this.mediaWidth>0){var d=this.hls.levels;if(d.length){var v=this.hls;v.autoLevelCapping=this.getMaxLevel(d.length-1),v.autoLevelCapping>this.autoLevelCapping&&this.streamController&&this.streamController.nextLevelSwitch(),this.autoLevelCapping=v.autoLevelCapping}}},c.getMaxLevel=function(d){var v=this,S=this.hls.levels;if(!S.length)return-1;var E=S.filter(function(m,f){return o.isLevelAllowed(f,v.restrictedLevels)&&f<=d});return this.clientRect=null,o.getMaxLevelByMediaSize(E,this.mediaWidth,this.mediaHeight)},c.startCapping=function(){this.timer||(this.autoLevelCapping=Number.POSITIVE_INFINITY,this.hls.firstLevel=this.getMaxLevel(this.firstLevel),self.clearInterval(this.timer),this.timer=self.setInterval(this.detectPlayerSize.bind(this),1e3),this.detectPlayerSize())},c.stopCapping=function(){this.restrictedLevels=[],this.firstLevel=-1,this.autoLevelCapping=Number.POSITIVE_INFINITY,this.timer&&(self.clearInterval(this.timer),this.timer=void 0)},c.getDimensions=function(){if(this.clientRect)return this.clientRect;var d=this.media,v={width:0,height:0};if(d){var S=d.getBoundingClientRect();v.width=S.width,v.height=S.height,v.width||v.height||(v.width=S.right-S.left||d.width||0,v.height=S.bottom-S.top||d.height||0)}return this.clientRect=v,v},o.isLevelAllowed=function(d,v){return v===void 0&&(v=[]),v.indexOf(d)===-1},o.getMaxLevelByMediaSize=function(d,v,S){if(!d||!d.length)return-1;for(var E,m,f=d.length-1,g=0;g<d.length;g+=1){var h=d[g];if((h.width>=v||h.height>=S)&&(E=h,!(m=d[g+1])||E.width!==m.width||E.height!==m.height)){f=g;break}}return f},l=o,s=[{key:"contentScaleFactor",get:function(){var d=1;try{d=self.devicePixelRatio}catch{}return d}}],(u=[{key:"mediaWidth",get:function(){return this.getDimensions().width*o.contentScaleFactor}},{key:"mediaHeight",get:function(){return this.getDimensions().height*o.contentScaleFactor}}])&&a(l.prototype,u),s&&a(l,s),o}();t.default=i},"./src/controller/eme-controller.ts":function(e,t,n){n.r(t);var r=n("./src/events.ts"),a=n("./src/errors.ts"),i=n("./src/utils/logger.ts"),o=n("./src/utils/mediakeys-helper.ts");function l(s,c){for(var d=0;d<c.length;d++){var v=c[d];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(s,v.key,v)}}var u=function(){function s(S){this.hls=void 0,this._widevineLicenseUrl=void 0,this._licenseXhrSetup=void 0,this._licenseResponseCallback=void 0,this._emeEnabled=void 0,this._requestMediaKeySystemAccess=void 0,this._drmSystemOptions=void 0,this._config=void 0,this._mediaKeysList=[],this._media=null,this._hasSetMediaKeys=!1,this._requestLicenseFailureCount=0,this.mediaKeysPromise=null,this._onMediaEncrypted=this.onMediaEncrypted.bind(this),this.hls=S,this._config=S.config,this._widevineLicenseUrl=this._config.widevineLicenseUrl,this._licenseXhrSetup=this._config.licenseXhrSetup,this._licenseResponseCallback=this._config.licenseResponseCallback,this._emeEnabled=this._config.emeEnabled,this._requestMediaKeySystemAccess=this._config.requestMediaKeySystemAccessFunc,this._drmSystemOptions=this._config.drmSystemOptions,this._registerListeners()}var c,d,v=s.prototype;return v.destroy=function(){this._unregisterListeners(),this.hls=this._onMediaEncrypted=null,this._requestMediaKeySystemAccess=null},v._registerListeners=function(){this.hls.on(r.Events.MEDIA_ATTACHED,this.onMediaAttached,this),this.hls.on(r.Events.MEDIA_DETACHED,this.onMediaDetached,this),this.hls.on(r.Events.MANIFEST_PARSED,this.onManifestParsed,this)},v._unregisterListeners=function(){this.hls.off(r.Events.MEDIA_ATTACHED,this.onMediaAttached,this),this.hls.off(r.Events.MEDIA_DETACHED,this.onMediaDetached,this),this.hls.off(r.Events.MANIFEST_PARSED,this.onManifestParsed,this)},v.getLicenseServerUrl=function(S){switch(S){case o.KeySystems.WIDEVINE:if(!this._widevineLicenseUrl)break;return this._widevineLicenseUrl}throw new Error('no license server URL configured for key-system "'+S+'"')},v._attemptKeySystemAccess=function(S,E,m){var f=this,g=function(y,b,p,C){switch(y){case o.KeySystems.WIDEVINE:return function(w,k,_){var T={audioCapabilities:[],videoCapabilities:[]};return w.forEach(function(O){T.audioCapabilities.push({contentType:'audio/mp4; codecs="'+O+'"',robustness:_.audioRobustness||""})}),k.forEach(function(O){T.videoCapabilities.push({contentType:'video/mp4; codecs="'+O+'"',robustness:_.videoRobustness||""})}),[T]}(b,p,C);default:throw new Error("Unknown key-system: "+y)}}(S,E,m,this._drmSystemOptions);i.logger.log("Requesting encrypted media key-system access");var h=this.requestMediaKeySystemAccess(S,g);this.mediaKeysPromise=h.then(function(y){return f._onMediaKeySystemAccessObtained(S,y)}),h.catch(function(y){i.logger.error('Failed to obtain key-system "'+S+'" access:',y)})},v._onMediaKeySystemAccessObtained=function(S,E){var m=this;i.logger.log('Access for key-system "'+S+'" obtained');var f={mediaKeysSessionInitialized:!1,mediaKeySystemAccess:E,mediaKeySystemDomain:S};this._mediaKeysList.push(f);var g=Promise.resolve().then(function(){return E.createMediaKeys()}).then(function(h){return f.mediaKeys=h,i.logger.log('Media-keys created for key-system "'+S+'"'),m._onMediaKeysCreated(),h});return g.catch(function(h){i.logger.error("Failed to create media-keys:",h)}),g},v._onMediaKeysCreated=function(){var S=this;this._mediaKeysList.forEach(function(E){E.mediaKeysSession||(E.mediaKeysSession=E.mediaKeys.createSession(),S._onNewMediaKeySession(E.mediaKeysSession))})},v._onNewMediaKeySession=function(S){var E=this;i.logger.log("New key-system session "+S.sessionId),S.addEventListener("message",function(m){E._onKeySessionMessage(S,m.message)},!1)},v._onKeySessionMessage=function(S,E){i.logger.log("Got EME message event, creating license request"),this._requestLicense(E,function(m){i.logger.log("Received license data (length: "+(m&&m.byteLength)+"), updating key-session"),S.update(m)})},v.onMediaEncrypted=function(S){var E=this;if(i.logger.log('Media is encrypted using "'+S.initDataType+'" init data type'),!this.mediaKeysPromise)return i.logger.error("Fatal: Media is encrypted but no CDM access or no keys have been requested"),void this.hls.trigger(r.Events.ERROR,{type:a.ErrorTypes.KEY_SYSTEM_ERROR,details:a.ErrorDetails.KEY_SYSTEM_NO_KEYS,fatal:!0});var m=function(f){E._media&&(E._attemptSetMediaKeys(f),E._generateRequestWithPreferredKeySession(S.initDataType,S.initData))};this.mediaKeysPromise.then(m).catch(m)},v._attemptSetMediaKeys=function(S){if(!this._media)throw new Error("Attempted to set mediaKeys without first attaching a media element");if(!this._hasSetMediaKeys){var E=this._mediaKeysList[0];if(!E||!E.mediaKeys)return i.logger.error("Fatal: Media is encrypted but no CDM access or no keys have been obtained yet"),void this.hls.trigger(r.Events.ERROR,{type:a.ErrorTypes.KEY_SYSTEM_ERROR,details:a.ErrorDetails.KEY_SYSTEM_NO_KEYS,fatal:!0});i.logger.log("Setting keys for encrypted media"),this._media.setMediaKeys(E.mediaKeys),this._hasSetMediaKeys=!0}},v._generateRequestWithPreferredKeySession=function(S,E){var m=this,f=this._mediaKeysList[0];if(!f)return i.logger.error("Fatal: Media is encrypted but not any key-system access has been obtained yet"),void this.hls.trigger(r.Events.ERROR,{type:a.ErrorTypes.KEY_SYSTEM_ERROR,details:a.ErrorDetails.KEY_SYSTEM_NO_ACCESS,fatal:!0});if(f.mediaKeysSessionInitialized)i.logger.warn("Key-Session already initialized but requested again");else{var g=f.mediaKeysSession;if(!g)return i.logger.error("Fatal: Media is encrypted but no key-session existing"),void this.hls.trigger(r.Events.ERROR,{type:a.ErrorTypes.KEY_SYSTEM_ERROR,details:a.ErrorDetails.KEY_SYSTEM_NO_SESSION,fatal:!0});if(!E)return i.logger.warn("Fatal: initData required for generating a key session is null"),void this.hls.trigger(r.Events.ERROR,{type:a.ErrorTypes.KEY_SYSTEM_ERROR,details:a.ErrorDetails.KEY_SYSTEM_NO_INIT_DATA,fatal:!0});i.logger.log('Generating key-session request for "'+S+'" init data type'),f.mediaKeysSessionInitialized=!0,g.generateRequest(S,E).then(function(){i.logger.debug("Key-session generation succeeded")}).catch(function(h){i.logger.error("Error generating key-session request:",h),m.hls.trigger(r.Events.ERROR,{type:a.ErrorTypes.KEY_SYSTEM_ERROR,details:a.ErrorDetails.KEY_SYSTEM_NO_SESSION,fatal:!1})})}},v._createLicenseXhr=function(S,E,m){var f=new XMLHttpRequest;f.responseType="arraybuffer",f.onreadystatechange=this._onLicenseRequestReadyStageChange.bind(this,f,S,E,m);var g=this._licenseXhrSetup;if(g)try{g.call(this.hls,f,S),g=void 0}catch(h){i.logger.error(h)}try{f.readyState||f.open("POST",S,!0),g&&g.call(this.hls,f,S)}catch(h){throw new Error("issue setting up KeySystem license XHR "+h)}return f},v._onLicenseRequestReadyStageChange=function(S,E,m,f){switch(S.readyState){case 4:if(S.status===200){this._requestLicenseFailureCount=0,i.logger.log("License request succeeded");var g=S.response,h=this._licenseResponseCallback;if(h)try{g=h.call(this.hls,S,E)}catch(b){i.logger.error(b)}f(g)}else{if(i.logger.error("License Request XHR failed ("+E+"). Status: "+S.status+" ("+S.statusText+")"),this._requestLicenseFailureCount++,this._requestLicenseFailureCount>3)return void this.hls.trigger(r.Events.ERROR,{type:a.ErrorTypes.KEY_SYSTEM_ERROR,details:a.ErrorDetails.KEY_SYSTEM_LICENSE_REQUEST_FAILED,fatal:!0});var y=3-this._requestLicenseFailureCount+1;i.logger.warn("Retrying license request, "+y+" attempts left"),this._requestLicense(m,f)}}},v._generateLicenseRequestChallenge=function(S,E){switch(S.mediaKeySystemDomain){case o.KeySystems.WIDEVINE:return E}throw new Error("unsupported key-system: "+S.mediaKeySystemDomain)},v._requestLicense=function(S,E){i.logger.log("Requesting content license for key-system");var m=this._mediaKeysList[0];if(!m)return i.logger.error("Fatal error: Media is encrypted but no key-system access has been obtained yet"),void this.hls.trigger(r.Events.ERROR,{type:a.ErrorTypes.KEY_SYSTEM_ERROR,details:a.ErrorDetails.KEY_SYSTEM_NO_ACCESS,fatal:!0});try{var f=this.getLicenseServerUrl(m.mediaKeySystemDomain),g=this._createLicenseXhr(f,S,E);i.logger.log("Sending license request to URL: "+f);var h=this._generateLicenseRequestChallenge(m,S);g.send(h)}catch(y){i.logger.error("Failure requesting DRM license: "+y),this.hls.trigger(r.Events.ERROR,{type:a.ErrorTypes.KEY_SYSTEM_ERROR,details:a.ErrorDetails.KEY_SYSTEM_LICENSE_REQUEST_FAILED,fatal:!0})}},v.onMediaAttached=function(S,E){if(this._emeEnabled){var m=E.media;this._media=m,m.addEventListener("encrypted",this._onMediaEncrypted)}},v.onMediaDetached=function(){var S=this._media,E=this._mediaKeysList;S&&(S.removeEventListener("encrypted",this._onMediaEncrypted),this._media=null,this._mediaKeysList=[],Promise.all(E.map(function(m){if(m.mediaKeysSession)return m.mediaKeysSession.close().catch(function(){})})).then(function(){return S.setMediaKeys(null)}).catch(function(){}))},v.onManifestParsed=function(S,E){if(this._emeEnabled){var m=E.levels.map(function(g){return g.audioCodec}).filter(function(g){return!!g}),f=E.levels.map(function(g){return g.videoCodec}).filter(function(g){return!!g});this._attemptKeySystemAccess(o.KeySystems.WIDEVINE,m,f)}},c=s,(d=[{key:"requestMediaKeySystemAccess",get:function(){if(!this._requestMediaKeySystemAccess)throw new Error("No requestMediaKeySystemAccess function configured");return this._requestMediaKeySystemAccess}}])&&l(c.prototype,d),s}();t.default=u},"./src/controller/fps-controller.ts":function(e,t,n){n.r(t);var r=n("./src/events.ts"),a=n("./src/utils/logger.ts"),i=function(){function o(u){this.hls=void 0,this.isVideoPlaybackQualityAvailable=!1,this.timer=void 0,this.media=null,this.lastTime=void 0,this.lastDroppedFrames=0,this.lastDecodedFrames=0,this.streamController=void 0,this.hls=u,this.registerListeners()}var l=o.prototype;return l.setStreamController=function(u){this.streamController=u},l.registerListeners=function(){this.hls.on(r.Events.MEDIA_ATTACHING,this.onMediaAttaching,this)},l.unregisterListeners=function(){this.hls.off(r.Events.MEDIA_ATTACHING,this.onMediaAttaching)},l.destroy=function(){this.timer&&clearInterval(this.timer),this.unregisterListeners(),this.isVideoPlaybackQualityAvailable=!1,this.media=null},l.onMediaAttaching=function(u,s){var c=this.hls.config;if(c.capLevelOnFPSDrop){var d=s.media instanceof self.HTMLVideoElement?s.media:null;this.media=d,d&&typeof d.getVideoPlaybackQuality=="function"&&(this.isVideoPlaybackQualityAvailable=!0),self.clearInterval(this.timer),this.timer=self.setInterval(this.checkFPSInterval.bind(this),c.fpsDroppedMonitoringPeriod)}},l.checkFPS=function(u,s,c){var d=performance.now();if(s){if(this.lastTime){var v=d-this.lastTime,S=c-this.lastDroppedFrames,E=s-this.lastDecodedFrames,m=1e3*S/v,f=this.hls;if(f.trigger(r.Events.FPS_DROP,{currentDropped:S,currentDecoded:E,totalDroppedFrames:c}),m>0&&S>f.config.fpsDroppedMonitoringThreshold*E){var g=f.currentLevel;a.logger.warn("drop FPS ratio greater than max allowed value for currentLevel: "+g),g>0&&(f.autoLevelCapping===-1||f.autoLevelCapping>=g)&&(g-=1,f.trigger(r.Events.FPS_DROP_LEVEL_CAPPING,{level:g,droppedLevel:f.currentLevel}),f.autoLevelCapping=g,this.streamController.nextLevelSwitch())}}this.lastTime=d,this.lastDroppedFrames=c,this.lastDecodedFrames=s}},l.checkFPSInterval=function(){var u=this.media;if(u)if(this.isVideoPlaybackQualityAvailable){var s=u.getVideoPlaybackQuality();this.checkFPS(u,s.totalVideoFrames,s.droppedVideoFrames)}else this.checkFPS(u,u.webkitDecodedFrameCount,u.webkitDroppedFrameCount)},o}();t.default=i},"./src/controller/fragment-finders.ts":function(e,t,n){n.r(t),n.d(t,"findFragmentByPDT",function(){return i}),n.d(t,"findFragmentByPTS",function(){return o}),n.d(t,"fragmentWithinToleranceTest",function(){return l}),n.d(t,"pdtWithinToleranceTest",function(){return u}),n.d(t,"findFragWithCC",function(){return s});var r=n("./src/polyfills/number.ts"),a=n("./src/utils/binary-search.ts");function i(c,d,v){if(d===null||!Array.isArray(c)||!c.length||!Object(r.isFiniteNumber)(d)||d<(c[0].programDateTime||0)||d>=(c[c.length-1].endProgramDateTime||0))return null;v=v||0;for(var S=0;S<c.length;++S){var E=c[S];if(u(d,v,E))return E}return null}function o(c,d,v,S){v===void 0&&(v=0),S===void 0&&(S=0);var E=null;if(c?E=d[c.sn-d[0].sn+1]||null:v===0&&d[0].start===0&&(E=d[0]),E&&l(v,S,E)===0)return E;var m=a.default.search(d,l.bind(null,v,S));return m||E}function l(c,d,v){c===void 0&&(c=0),d===void 0&&(d=0);var S=Math.min(d,v.duration+(v.deltaPTS?v.deltaPTS:0));return v.start+v.duration-S<=c?1:v.start-S>c&&v.start?-1:0}function u(c,d,v){var S=1e3*Math.min(d,v.duration+(v.deltaPTS?v.deltaPTS:0));return(v.endProgramDateTime||0)-S>c}function s(c,d){return a.default.search(c,function(v){return v.cc<d?1:v.cc>d?-1:0})}},"./src/controller/fragment-tracker.ts":function(e,t,n){n.r(t),n.d(t,"FragmentState",function(){return r}),n.d(t,"FragmentTracker",function(){return l});var r,a,i=n("./src/events.ts"),o=n("./src/types/loader.ts");(a=r||(r={})).NOT_LOADED="NOT_LOADED",a.BACKTRACKED="BACKTRACKED",a.APPENDING="APPENDING",a.PARTIAL="PARTIAL",a.OK="OK";var l=function(){function c(v){this.activeFragment=null,this.activeParts=null,this.fragments=Object.create(null),this.timeRanges=Object.create(null),this.bufferPadding=.2,this.hls=void 0,this.hls=v,this._registerListeners()}var d=c.prototype;return d._registerListeners=function(){var v=this.hls;v.on(i.Events.BUFFER_APPENDED,this.onBufferAppended,this),v.on(i.Events.FRAG_BUFFERED,this.onFragBuffered,this),v.on(i.Events.FRAG_LOADED,this.onFragLoaded,this)},d._unregisterListeners=function(){var v=this.hls;v.off(i.Events.BUFFER_APPENDED,this.onBufferAppended,this),v.off(i.Events.FRAG_BUFFERED,this.onFragBuffered,this),v.off(i.Events.FRAG_LOADED,this.onFragLoaded,this)},d.destroy=function(){this._unregisterListeners(),this.fragments=this.timeRanges=null},d.getAppendedFrag=function(v,S){if(S===o.PlaylistLevelType.MAIN){var E=this.activeFragment,m=this.activeParts;if(!E)return null;if(m)for(var f=m.length;f--;){var g=m[f],h=g?g.end:E.appendedPTS;if(g.start<=v&&h!==void 0&&v<=h)return f>9&&(this.activeParts=m.slice(f-9)),g}else if(E.start<=v&&E.appendedPTS!==void 0&&v<=E.appendedPTS)return E}return this.getBufferedFrag(v,S)},d.getBufferedFrag=function(v,S){for(var E=this.fragments,m=Object.keys(E),f=m.length;f--;){var g=E[m[f]];if((g==null?void 0:g.body.type)===S&&g.buffered){var h=g.body;if(h.start<=v&&v<=h.end)return h}}return null},d.detectEvictedFragments=function(v,S,E){var m=this;Object.keys(this.fragments).forEach(function(f){var g=m.fragments[f];if(g)if(g.buffered){var h=g.range[v];h&&h.time.some(function(y){var b=!m.isTimeBuffered(y.startPTS,y.endPTS,S);return b&&m.removeFragment(g.body),b})}else g.body.type===E&&m.removeFragment(g.body)})},d.detectPartialFragments=function(v){var S=this,E=this.timeRanges,m=v.frag,f=v.part;if(E&&m.sn!=="initSegment"){var g=s(m),h=this.fragments[g];h&&(Object.keys(E).forEach(function(y){var b=m.elementaryStreams[y];if(b){var p=E[y],C=f!==null||b.partial===!0;h.range[y]=S.getBufferedTimes(m,f,C,p)}}),h.backtrack=h.loaded=null,Object.keys(h.range).length?h.buffered=!0:this.removeFragment(h.body))}},d.fragBuffered=function(v){var S=s(v),E=this.fragments[S];E&&(E.backtrack=E.loaded=null,E.buffered=!0)},d.getBufferedTimes=function(v,S,E,m){for(var f={time:[],partial:E},g=S?S.start:v.start,h=S?S.end:v.end,y=v.minEndPTS||h,b=v.maxStartPTS||g,p=0;p<m.length;p++){var C=m.start(p)-this.bufferPadding,w=m.end(p)+this.bufferPadding;if(b>=C&&y<=w){f.time.push({startPTS:Math.max(g,m.start(p)),endPTS:Math.min(h,m.end(p))});break}if(g<w&&h>C)f.partial=!0,f.time.push({startPTS:Math.max(g,m.start(p)),endPTS:Math.min(h,m.end(p))});else if(h<=C)break}return f},d.getPartialFragment=function(v){var S,E,m,f=null,g=0,h=this.bufferPadding,y=this.fragments;return Object.keys(y).forEach(function(b){var p=y[b];p&&u(p)&&(E=p.body.start-h,m=p.body.end+h,v>=E&&v<=m&&(S=Math.min(v-E,m-v),g<=S&&(f=p.body,g=S)))}),f},d.getState=function(v){var S=s(v),E=this.fragments[S];return E?E.buffered?u(E)?r.PARTIAL:r.OK:E.backtrack?r.BACKTRACKED:r.APPENDING:r.NOT_LOADED},d.backtrack=function(v,S){var E=s(v),m=this.fragments[E];if(!m||m.backtrack)return null;var f=m.backtrack=S||m.loaded;return m.loaded=null,f},d.getBacktrackData=function(v){var S=s(v),E=this.fragments[S];if(E){var m,f=E.backtrack;if(f!=null&&(m=f.payload)!==null&&m!==void 0&&m.byteLength)return f;this.removeFragment(v)}return null},d.isTimeBuffered=function(v,S,E){for(var m,f,g=0;g<E.length;g++){if(m=E.start(g)-this.bufferPadding,f=E.end(g)+this.bufferPadding,v>=m&&S<=f)return!0;if(S<=m)return!1}return!1},d.onFragLoaded=function(v,S){var E=S.frag,m=S.part;if(E.sn!=="initSegment"&&!E.bitrateTest&&!m){var f=s(E);this.fragments[f]={body:E,loaded:S,backtrack:null,buffered:!1,range:Object.create(null)}}},d.onBufferAppended=function(v,S){var E=this,m=S.frag,f=S.part,g=S.timeRanges;if(m.type===o.PlaylistLevelType.MAIN)if(this.activeFragment=m,f){var h=this.activeParts;h||(this.activeParts=h=[]),h.push(f)}else this.activeParts=null;this.timeRanges=g,Object.keys(g).forEach(function(y){var b=g[y];if(E.detectEvictedFragments(y,b),!f)for(var p=0;p<b.length;p++)m.appendedPTS=Math.max(b.end(p),m.appendedPTS||0)})},d.onFragBuffered=function(v,S){this.detectPartialFragments(S)},d.hasFragment=function(v){var S=s(v);return!!this.fragments[S]},d.removeFragmentsInRange=function(v,S,E){var m=this;Object.keys(this.fragments).forEach(function(f){var g=m.fragments[f];if(g&&g.buffered){var h=g.body;h.type===E&&h.start<S&&h.end>v&&m.removeFragment(h)}})},d.removeFragment=function(v){var S=s(v);v.stats.loaded=0,v.clearElementaryStreamInfo(),delete this.fragments[S]},d.removeAllFragments=function(){this.fragments=Object.create(null),this.activeFragment=null,this.activeParts=null},c}();function u(c){var d,v;return c.buffered&&(((d=c.range.video)===null||d===void 0?void 0:d.partial)||((v=c.range.audio)===null||v===void 0?void 0:v.partial))}function s(c){return c.type+"_"+c.level+"_"+c.urlId+"_"+c.sn}},"./src/controller/gap-controller.ts":function(e,t,n){n.r(t),n.d(t,"STALL_MINIMUM_DURATION_MS",function(){return l}),n.d(t,"MAX_START_GAP_JUMP",function(){return u}),n.d(t,"SKIP_BUFFER_HOLE_STEP_SECONDS",function(){return s}),n.d(t,"SKIP_BUFFER_RANGE_START",function(){return c}),n.d(t,"default",function(){return d});var r=n("./src/utils/buffer-helper.ts"),a=n("./src/errors.ts"),i=n("./src/events.ts"),o=n("./src/utils/logger.ts"),l=250,u=2,s=.1,c=.05,d=function(){function v(E,m,f,g){this.config=void 0,this.media=void 0,this.fragmentTracker=void 0,this.hls=void 0,this.nudgeRetry=0,this.stallReported=!1,this.stalled=null,this.moved=!1,this.seeking=!1,this.config=E,this.media=m,this.fragmentTracker=f,this.hls=g}var S=v.prototype;return S.destroy=function(){this.hls=this.fragmentTracker=this.media=null},S.poll=function(E){var m=this.config,f=this.media,g=this.stalled,h=f.currentTime,y=f.seeking,b=this.seeking&&!y,p=!this.seeking&&y;if(this.seeking=y,h===E){if((p||b)&&(this.stalled=null),!f.paused&&!f.ended&&f.playbackRate!==0&&r.BufferHelper.getBuffered(f).length){var C=r.BufferHelper.bufferInfo(f,h,0),w=C.len>0,k=C.nextStart||0;if(w||k){if(y){var _=C.len>u,T=!k||k-h>u&&!this.fragmentTracker.getPartialFragment(h);if(_||T)return;this.moved=!1}if(!this.moved&&this.stalled!==null){var O,A=Math.max(k,C.start||0)-h,P=this.hls.levels?this.hls.levels[this.hls.currentLevel]:null,D=!(P==null||(O=P.details)===null||O===void 0)&&O.live?2*P.details.targetduration:u;if(A>0&&A<=D)return void this._trySkipBufferHole(null)}var I=self.performance.now();if(g!==null){var x=I-g;!y&&x>=l&&this._reportStall(C.len);var L=r.BufferHelper.bufferInfo(f,h,m.maxBufferHole);this._tryFixBufferStall(L,x)}else this.stalled=I}}}else if(this.moved=!0,g!==null){if(this.stallReported){var $=self.performance.now()-g;o.logger.warn("playback not stuck anymore @"+h+", after "+Math.round($)+"ms"),this.stallReported=!1}this.stalled=null,this.nudgeRetry=0}},S._tryFixBufferStall=function(E,m){var f=this.config,g=this.fragmentTracker,h=this.media.currentTime,y=g.getPartialFragment(h);y&&this._trySkipBufferHole(y)||E.len>f.maxBufferHole&&m>1e3*f.highBufferWatchdogPeriod&&(o.logger.warn("Trying to nudge playhead over buffer-hole"),this.stalled=null,this._tryNudgeBuffer())},S._reportStall=function(E){var m=this.hls,f=this.media;this.stallReported||(this.stallReported=!0,o.logger.warn("Playback stalling at @"+f.currentTime+" due to low buffer (buffer="+E+")"),m.trigger(i.Events.ERROR,{type:a.ErrorTypes.MEDIA_ERROR,details:a.ErrorDetails.BUFFER_STALLED_ERROR,fatal:!1,buffer:E}))},S._trySkipBufferHole=function(E){for(var m=this.config,f=this.hls,g=this.media,h=g.currentTime,y=0,b=r.BufferHelper.getBuffered(g),p=0;p<b.length;p++){var C=b.start(p);if(h+m.maxBufferHole>=y&&h<C){var w=Math.max(C+c,g.currentTime+s);return o.logger.warn("skipping hole, adjusting currentTime from "+h+" to "+w),this.moved=!0,this.stalled=null,g.currentTime=w,E&&f.trigger(i.Events.ERROR,{type:a.ErrorTypes.MEDIA_ERROR,details:a.ErrorDetails.BUFFER_SEEK_OVER_HOLE,fatal:!1,reason:"fragment loaded with buffer holes, seeking from "+h+" to "+w,frag:E}),w}y=b.end(p)}return 0},S._tryNudgeBuffer=function(){var E=this.config,m=this.hls,f=this.media,g=f.currentTime,h=(this.nudgeRetry||0)+1;if(this.nudgeRetry=h,h<E.nudgeMaxRetry){var y=g+h*E.nudgeOffset;o.logger.warn("Nudging 'currentTime' from "+g+" to "+y),f.currentTime=y,m.trigger(i.Events.ERROR,{type:a.ErrorTypes.MEDIA_ERROR,details:a.ErrorDetails.BUFFER_NUDGE_ON_STALL,fatal:!1})}else o.logger.error("Playhead still not moving while enough data buffered @"+g+" after "+E.nudgeMaxRetry+" nudges"),m.trigger(i.Events.ERROR,{type:a.ErrorTypes.MEDIA_ERROR,details:a.ErrorDetails.BUFFER_STALLED_ERROR,fatal:!0})},v}()},"./src/controller/id3-track-controller.ts":function(e,t,n){n.r(t);var r=n("./src/events.ts"),a=n("./src/utils/texttrack-utils.ts"),i=n("./src/demux/id3.ts"),o=function(){function l(s){this.hls=void 0,this.id3Track=null,this.media=null,this.hls=s,this._registerListeners()}var u=l.prototype;return u.destroy=function(){this._unregisterListeners()},u._registerListeners=function(){var s=this.hls;s.on(r.Events.MEDIA_ATTACHED,this.onMediaAttached,this),s.on(r.Events.MEDIA_DETACHING,this.onMediaDetaching,this),s.on(r.Events.FRAG_PARSING_METADATA,this.onFragParsingMetadata,this),s.on(r.Events.BUFFER_FLUSHING,this.onBufferFlushing,this)},u._unregisterListeners=function(){var s=this.hls;s.off(r.Events.MEDIA_ATTACHED,this.onMediaAttached,this),s.off(r.Events.MEDIA_DETACHING,this.onMediaDetaching,this),s.off(r.Events.FRAG_PARSING_METADATA,this.onFragParsingMetadata,this),s.off(r.Events.BUFFER_FLUSHING,this.onBufferFlushing,this)},u.onMediaAttached=function(s,c){this.media=c.media},u.onMediaDetaching=function(){this.id3Track&&(Object(a.clearCurrentCues)(this.id3Track),this.id3Track=null,this.media=null)},u.getID3Track=function(s){if(this.media){for(var c=0;c<s.length;c++){var d=s[c];if(d.kind==="metadata"&&d.label==="id3")return Object(a.sendAddTrackEvent)(d,this.media),d}return this.media.addTextTrack("metadata","id3")}},u.onFragParsingMetadata=function(s,c){if(this.media){var d=c.frag,v=c.samples;this.id3Track||(this.id3Track=this.getID3Track(this.media.textTracks),this.id3Track.mode="hidden");for(var S=self.WebKitDataCue||self.VTTCue||self.TextTrackCue,E=0;E<v.length;E++){var m=i.getID3Frames(v[E].data);if(m){var f=v[E].pts,g=E<v.length-1?v[E+1].pts:d.end;g-f<=0&&(g=f+.25);for(var h=0;h<m.length;h++){var y=m[h];if(!i.isTimeStampFrame(y)){var b=new S(f,g,"");b.value=y,this.id3Track.addCue(b)}}}}}},u.onBufferFlushing=function(s,c){var d=c.startOffset,v=c.endOffset,S=c.type;if(!S||S==="audio"){var E=this.id3Track;E&&Object(a.removeCuesInRange)(E,d,v)}},l}();t.default=o},"./src/controller/latency-controller.ts":function(e,t,n){n.r(t),n.d(t,"default",function(){return l});var r=n("./src/errors.ts"),a=n("./src/events.ts"),i=n("./src/utils/logger.ts");function o(u,s){for(var c=0;c<s.length;c++){var d=s[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(u,d.key,d)}}var l=function(){function u(v){var S=this;this.hls=void 0,this.config=void 0,this.media=null,this.levelDetails=null,this.currentTime=0,this.stallCount=0,this._latency=null,this.timeupdateHandler=function(){return S.timeupdate()},this.hls=v,this.config=v.config,this.registerListeners()}var s,c,d=u.prototype;return d.destroy=function(){this.unregisterListeners(),this.onMediaDetaching(),this.levelDetails=null,this.hls=this.timeupdateHandler=null},d.registerListeners=function(){this.hls.on(a.Events.MEDIA_ATTACHED,this.onMediaAttached,this),this.hls.on(a.Events.MEDIA_DETACHING,this.onMediaDetaching,this),this.hls.on(a.Events.MANIFEST_LOADING,this.onManifestLoading,this),this.hls.on(a.Events.LEVEL_UPDATED,this.onLevelUpdated,this),this.hls.on(a.Events.ERROR,this.onError,this)},d.unregisterListeners=function(){this.hls.off(a.Events.MEDIA_ATTACHED,this.onMediaAttached),this.hls.off(a.Events.MEDIA_DETACHING,this.onMediaDetaching),this.hls.off(a.Events.MANIFEST_LOADING,this.onManifestLoading),this.hls.off(a.Events.LEVEL_UPDATED,this.onLevelUpdated),this.hls.off(a.Events.ERROR,this.onError)},d.onMediaAttached=function(v,S){this.media=S.media,this.media.addEventListener("timeupdate",this.timeupdateHandler)},d.onMediaDetaching=function(){this.media&&(this.media.removeEventListener("timeupdate",this.timeupdateHandler),this.media=null)},d.onManifestLoading=function(){this.levelDetails=null,this._latency=null,this.stallCount=0},d.onLevelUpdated=function(v,S){var E=S.details;this.levelDetails=E,E.advanced&&this.timeupdate(),!E.live&&this.media&&this.media.removeEventListener("timeupdate",this.timeupdateHandler)},d.onError=function(v,S){S.details===r.ErrorDetails.BUFFER_STALLED_ERROR&&(this.stallCount++,i.logger.warn("[playback-rate-controller]: Stall detected, adjusting target latency"))},d.timeupdate=function(){var v=this.media,S=this.levelDetails;if(v&&S){this.currentTime=v.currentTime;var E=this.computeLatency();if(E!==null){this._latency=E;var m=this.config,f=m.lowLatencyMode,g=m.maxLiveSyncPlaybackRate;if(f&&g!==1){var h=this.targetLatency;if(h!==null){var y=E-h,b=y<Math.min(this.maxLatency,h+S.targetduration);if(S.live&&b&&y>.05&&this.forwardBufferLength>1){var p=Math.min(2,Math.max(1,g)),C=Math.round(2/(1+Math.exp(-.75*y-this.edgeStalled))*20)/20;v.playbackRate=Math.min(p,Math.max(1,C))}else v.playbackRate!==1&&v.playbackRate!==0&&(v.playbackRate=1)}}}}},d.estimateLiveEdge=function(){var v=this.levelDetails;return v===null?null:v.edge+v.age},d.computeLatency=function(){var v=this.estimateLiveEdge();return v===null?null:v-this.currentTime},s=u,(c=[{key:"latency",get:function(){return this._latency||0}},{key:"maxLatency",get:function(){var v=this.config,S=this.levelDetails;return v.liveMaxLatencyDuration!==void 0?v.liveMaxLatencyDuration:S?v.liveMaxLatencyDurationCount*S.targetduration:0}},{key:"targetLatency",get:function(){var v=this.levelDetails;if(v===null)return null;var S=v.holdBack,E=v.partHoldBack,m=v.targetduration,f=this.config,g=f.liveSyncDuration,h=f.liveSyncDurationCount,y=f.lowLatencyMode,b=this.hls.userConfig,p=y&&E||S;(b.liveSyncDuration||b.liveSyncDurationCount||p===0)&&(p=g!==void 0?g:h*m);var C=m;return p+Math.min(1*this.stallCount,C)}},{key:"liveSyncPosition",get:function(){var v=this.estimateLiveEdge(),S=this.targetLatency,E=this.levelDetails;if(v===null||S===null||E===null)return null;var m=E.edge,f=v-S-this.edgeStalled,g=m-E.totalduration,h=m-(this.config.lowLatencyMode&&E.partTarget||E.targetduration);return Math.min(Math.max(g,f),h)}},{key:"drift",get:function(){var v=this.levelDetails;return v===null?1:v.drift}},{key:"edgeStalled",get:function(){var v=this.levelDetails;if(v===null)return 0;var S=3*(this.config.lowLatencyMode&&v.partTarget||v.targetduration);return Math.max(v.age-S,0)}},{key:"forwardBufferLength",get:function(){var v=this.media,S=this.levelDetails;if(!v||!S)return 0;var E=v.buffered.length;return E?v.buffered.end(E-1):S.edge-this.currentTime}}])&&o(s.prototype,c),u}()},"./src/controller/level-controller.ts":function(e,t,n){n.r(t),n.d(t,"default",function(){return E});var r=n("./src/types/level.ts"),a=n("./src/events.ts"),i=n("./src/errors.ts"),o=n("./src/utils/codecs.ts"),l=n("./src/controller/level-helper.ts"),u=n("./src/controller/base-playlist-controller.ts"),s=n("./src/types/loader.ts");function c(){return(c=Object.assign||function(m){for(var f=1;f<arguments.length;f++){var g=arguments[f];for(var h in g)Object.prototype.hasOwnProperty.call(g,h)&&(m[h]=g[h])}return m}).apply(this,arguments)}function d(m,f){for(var g=0;g<f.length;g++){var h=f[g];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(m,h.key,h)}}function v(m,f){return(v=Object.setPrototypeOf||function(g,h){return g.__proto__=h,g})(m,f)}var S=/chrome|firefox/.test(navigator.userAgent.toLowerCase()),E=function(m){var f,g;function h(C){var w;return(w=m.call(this,C,"[level-controller]")||this)._levels=[],w._firstLevel=-1,w._startLevel=void 0,w.currentLevelIndex=-1,w.manualLevelIndex=-1,w.onParsedComplete=void 0,w._registerListeners(),w}g=m,(f=h).prototype=Object.create(g.prototype),f.prototype.constructor=f,v(f,g);var y,b,p=h.prototype;return p._registerListeners=function(){var C=this.hls;C.on(a.Events.MANIFEST_LOADED,this.onManifestLoaded,this),C.on(a.Events.LEVEL_LOADED,this.onLevelLoaded,this),C.on(a.Events.AUDIO_TRACK_SWITCHED,this.onAudioTrackSwitched,this),C.on(a.Events.FRAG_LOADED,this.onFragLoaded,this),C.on(a.Events.ERROR,this.onError,this)},p._unregisterListeners=function(){var C=this.hls;C.off(a.Events.MANIFEST_LOADED,this.onManifestLoaded,this),C.off(a.Events.LEVEL_LOADED,this.onLevelLoaded,this),C.off(a.Events.AUDIO_TRACK_SWITCHED,this.onAudioTrackSwitched,this),C.off(a.Events.FRAG_LOADED,this.onFragLoaded,this),C.off(a.Events.ERROR,this.onError,this)},p.destroy=function(){this._unregisterListeners(),this.manualLevelIndex=-1,this._levels.length=0,m.prototype.destroy.call(this)},p.startLoad=function(){this._levels.forEach(function(C){C.loadError=0}),m.prototype.startLoad.call(this)},p.onManifestLoaded=function(C,w){var k,_,T=[],O=[],A=[],P={},D=!1,I=!1,x=!1;if(w.levels.forEach(function(j){var F=j.attrs;D=D||!(!j.width||!j.height),I=I||!!j.videoCodec,x=x||!!j.audioCodec,S&&j.audioCodec&&j.audioCodec.indexOf("mp4a.40.34")!==-1&&(j.audioCodec=void 0);var U=j.bitrate+"-"+j.attrs.RESOLUTION+"-"+j.attrs.CODECS;(_=P[U])?_.url.push(j.url):(_=new r.Level(j),P[U]=_,T.push(_)),F&&(F.AUDIO&&Object(l.addGroupId)(_,"audio",F.AUDIO),F.SUBTITLES&&Object(l.addGroupId)(_,"text",F.SUBTITLES))}),(D||I)&&x&&(T=T.filter(function(j){var F=j.videoCodec,U=j.width,B=j.height;return!!F||!(!U||!B)})),T=T.filter(function(j){var F=j.audioCodec,U=j.videoCodec;return(!F||Object(o.isCodecSupportedInMp4)(F,"audio"))&&(!U||Object(o.isCodecSupportedInMp4)(U,"video"))}),w.audioTracks&&(O=w.audioTracks.filter(function(j){return!j.audioCodec||Object(o.isCodecSupportedInMp4)(j.audioCodec,"audio")}),Object(l.assignTrackIdsByGroup)(O)),w.subtitles&&(A=w.subtitles,Object(l.assignTrackIdsByGroup)(A)),T.length>0){k=T[0].bitrate,T.sort(function(j,F){return j.bitrate-F.bitrate}),this._levels=T;for(var L=0;L<T.length;L++)if(T[L].bitrate===k){this._firstLevel=L,this.log("manifest loaded, "+T.length+" level(s) found, first bitrate: "+k);break}var $=x&&!I,M={levels:T,audioTracks:O,subtitleTracks:A,firstLevel:this._firstLevel,stats:w.stats,audio:x,video:I,altAudio:!$&&O.some(function(j){return!!j.url})};this.hls.trigger(a.Events.MANIFEST_PARSED,M),(this.hls.config.autoStartLoad||this.hls.forceStartLoad)&&this.hls.startLoad(this.hls.config.startPosition)}else this.hls.trigger(a.Events.ERROR,{type:i.ErrorTypes.MEDIA_ERROR,details:i.ErrorDetails.MANIFEST_INCOMPATIBLE_CODECS_ERROR,fatal:!0,url:w.url,reason:"no level with compatible codecs found in manifest"})},p.onError=function(C,w){if(m.prototype.onError.call(this,C,w),!w.fatal){var k=w.context,_=this._levels[this.currentLevelIndex];if(k&&(k.type===s.PlaylistContextType.AUDIO_TRACK&&_.audioGroupIds&&k.groupId===_.audioGroupIds[_.urlId]||k.type===s.PlaylistContextType.SUBTITLE_TRACK&&_.textGroupIds&&k.groupId===_.textGroupIds[_.urlId]))this.redundantFailover(this.currentLevelIndex);else{var T,O=!1,A=!0;switch(w.details){case i.ErrorDetails.FRAG_LOAD_ERROR:case i.ErrorDetails.FRAG_LOAD_TIMEOUT:case i.ErrorDetails.KEY_LOAD_ERROR:case i.ErrorDetails.KEY_LOAD_TIMEOUT:if(w.frag){var P=this._levels[w.frag.level];P?(P.fragmentError++,P.fragmentError>this.hls.config.fragLoadingMaxRetry&&(T=w.frag.level)):T=w.frag.level}break;case i.ErrorDetails.LEVEL_LOAD_ERROR:case i.ErrorDetails.LEVEL_LOAD_TIMEOUT:k&&(k.deliveryDirectives&&(A=!1),T=k.level),O=!0;break;case i.ErrorDetails.REMUX_ALLOC_ERROR:T=w.level,O=!0}T!==void 0&&this.recoverLevel(w,T,O,A)}}},p.recoverLevel=function(C,w,k,_){var T=C.details,O=this._levels[w];if(O.loadError++,k){if(!this.retryLoadingOrFail(C))return void(this.currentLevelIndex=-1);C.levelRetry=!0}if(_){var A=O.url.length;if(A>1&&O.loadError<A)C.levelRetry=!0,this.redundantFailover(w);else if(this.manualLevelIndex===-1){var P=w===0?this._levels.length-1:w-1;this.currentLevelIndex!==P&&this._levels[P].loadError===0&&(this.warn(T+": switch to "+P),C.levelRetry=!0,this.hls.nextAutoLevel=P)}}},p.redundantFailover=function(C){var w=this._levels[C],k=w.url.length;if(k>1){var _=(w.urlId+1)%k;this.warn("Switching to redundant URL-id "+_),this._levels.forEach(function(T){T.urlId=_}),this.level=C}},p.onFragLoaded=function(C,w){var k=w.frag;if(k!==void 0&&k.type===s.PlaylistLevelType.MAIN){var _=this._levels[k.level];_!==void 0&&(_.fragmentError=0,_.loadError=0)}},p.onLevelLoaded=function(C,w){var k,_,T=w.level,O=w.details,A=this._levels[T];if(!A)return this.warn("Invalid level index "+T),void((_=w.deliveryDirectives)!==null&&_!==void 0&&_.skip&&(O.deltaUpdateFailed=!0));T===this.currentLevelIndex?(A.fragmentError===0&&(A.loadError=0,this.retryCount=0),this.playlistLoaded(T,w,A.details)):(k=w.deliveryDirectives)!==null&&k!==void 0&&k.skip&&(O.deltaUpdateFailed=!0)},p.onAudioTrackSwitched=function(C,w){var k=this.hls.levels[this.currentLevelIndex];if(k&&k.audioGroupIds){for(var _=-1,T=this.hls.audioTracks[w.id].groupId,O=0;O<k.audioGroupIds.length;O++)if(k.audioGroupIds[O]===T){_=O;break}_!==k.urlId&&(k.urlId=_,this.startLoad())}},p.loadPlaylist=function(C){var w=this.currentLevelIndex,k=this._levels[w];if(this.canLoad&&k&&k.url.length>0){var _=k.urlId,T=k.url[_];if(C)try{T=C.addDirectives(T)}catch(O){this.warn("Could not construct new URL with HLS Delivery Directives: "+O)}this.log("Attempt loading level index "+w+(C?" at sn "+C.msn+" part "+C.part:"")+" with URL-id "+_+" "+T),this.clearTimer(),this.hls.trigger(a.Events.LEVEL_LOADING,{url:T,level:w,id:_,deliveryDirectives:C||null})}},p.removeLevel=function(C,w){var k=function(T,O){return O!==w},_=this._levels.filter(function(T,O){return O!==C||T.url.length>1&&w!==void 0&&(T.url=T.url.filter(k),T.audioGroupIds&&(T.audioGroupIds=T.audioGroupIds.filter(k)),T.textGroupIds&&(T.textGroupIds=T.textGroupIds.filter(k)),T.urlId=0,!0)}).map(function(T,O){var A=T.details;return A!=null&&A.fragments&&A.fragments.forEach(function(P){P.level=O}),T});this._levels=_,this.hls.trigger(a.Events.LEVELS_UPDATED,{levels:_})},y=h,(b=[{key:"levels",get:function(){return this._levels.length===0?null:this._levels}},{key:"level",get:function(){return this.currentLevelIndex},set:function(C){var w,k=this._levels;if(k.length!==0&&(this.currentLevelIndex!==C||(w=k[C])===null||w===void 0||!w.details)){if(C<0||C>=k.length){var _=C<0;if(this.hls.trigger(a.Events.ERROR,{type:i.ErrorTypes.OTHER_ERROR,details:i.ErrorDetails.LEVEL_SWITCH_ERROR,level:C,fatal:_,reason:"invalid level idx"}),_)return;C=Math.min(C,k.length-1)}this.clearTimer();var T=this.currentLevelIndex,O=k[T],A=k[C];this.log("switching to level "+C+" from "+T),this.currentLevelIndex=C;var P=c({},A,{level:C,maxBitrate:A.maxBitrate,uri:A.uri,urlId:A.urlId});delete P._urlId,this.hls.trigger(a.Events.LEVEL_SWITCHING,P);var D=A.details;if(!D||D.live){var I=this.switchParams(A.uri,O==null?void 0:O.details);this.loadPlaylist(I)}}}},{key:"manualLevel",get:function(){return this.manualLevelIndex},set:function(C){this.manualLevelIndex=C,this._startLevel===void 0&&(this._startLevel=C),C!==-1&&(this.level=C)}},{key:"firstLevel",get:function(){return this._firstLevel},set:function(C){this._firstLevel=C}},{key:"startLevel",get:function(){if(this._startLevel===void 0){var C=this.hls.config.startLevel;return C!==void 0?C:this._firstLevel}return this._startLevel},set:function(C){this._startLevel=C}},{key:"nextLoadLevel",get:function(){return this.manualLevelIndex!==-1?this.manualLevelIndex:this.hls.nextAutoLevel},set:function(C){this.level=C,this.manualLevelIndex===-1&&(this.hls.nextAutoLevel=C)}}])&&d(y.prototype,b),h}(u.default)},"./src/controller/level-helper.ts":function(e,t,n){n.r(t),n.d(t,"addGroupId",function(){return i}),n.d(t,"assignTrackIdsByGroup",function(){return o}),n.d(t,"updatePTS",function(){return l}),n.d(t,"updateFragPTSDTS",function(){return s}),n.d(t,"mergeDetails",function(){return c}),n.d(t,"mapPartIntersection",function(){return d}),n.d(t,"mapFragmentIntersection",function(){return v}),n.d(t,"adjustSliding",function(){return S}),n.d(t,"addSliding",function(){return E}),n.d(t,"computeReloadInterval",function(){return m}),n.d(t,"getFragmentWithSN",function(){return f}),n.d(t,"getPartWith",function(){return g});var r=n("./src/polyfills/number.ts"),a=n("./src/utils/logger.ts");function i(h,y,b){switch(y){case"audio":h.audioGroupIds||(h.audioGroupIds=[]),h.audioGroupIds.push(b);break;case"text":h.textGroupIds||(h.textGroupIds=[]),h.textGroupIds.push(b)}}function o(h){var y={};h.forEach(function(b){var p=b.groupId||"";b.id=y[p]=y[p]||0,y[p]++})}function l(h,y,b){u(h[y],h[b])}function u(h,y){var b=y.startPTS;if(Object(r.isFiniteNumber)(b)){var p,C=0;y.sn>h.sn?(C=b-h.start,p=h):(C=h.start-b,p=y),p.duration!==C&&(p.duration=C)}else y.sn>h.sn?h.cc===y.cc&&h.minEndPTS?y.start=h.start+(h.minEndPTS-h.start):y.start=h.start+h.duration:y.start=Math.max(h.start-y.duration,0)}function s(h,y,b,p,C,w){p-b<=0&&(a.logger.warn("Fragment should have a positive duration",y),p=b+y.duration,w=C+y.duration);var k=b,_=p,T=y.startPTS,O=y.endPTS;if(Object(r.isFiniteNumber)(T)){var A=Math.abs(T-b);Object(r.isFiniteNumber)(y.deltaPTS)?y.deltaPTS=Math.max(A,y.deltaPTS):y.deltaPTS=A,k=Math.max(b,T),b=Math.min(b,T),C=Math.min(C,y.startDTS),_=Math.min(p,O),p=Math.max(p,O),w=Math.max(w,y.endDTS)}y.duration=p-b;var P=b-y.start;y.appendedPTS=p,y.start=y.startPTS=b,y.maxStartPTS=k,y.startDTS=C,y.endPTS=p,y.minEndPTS=_,y.endDTS=w;var D,I=y.sn;if(!h||I<h.startSN||I>h.endSN)return 0;var x=I-h.startSN,L=h.fragments;for(L[x]=y,D=x;D>0;D--)u(L[D],L[D-1]);for(D=x;D<L.length-1;D++)u(L[D],L[D+1]);return h.fragmentHint&&u(L[L.length-1],h.fragmentHint),h.PTSKnown=h.alignedSliding=!0,P}function c(h,y){for(var b=null,p=h.fragments,C=p.length-1;C>=0;C--){var w=p[C].initSegment;if(w){b=w;break}}h.fragmentHint&&delete h.fragmentHint.endPTS;var k,_=0;if(v(h,y,function(I,x){var L;I.relurl&&(_=I.cc-x.cc),Object(r.isFiniteNumber)(I.startPTS)&&Object(r.isFiniteNumber)(I.endPTS)&&(x.start=x.startPTS=I.startPTS,x.startDTS=I.startDTS,x.appendedPTS=I.appendedPTS,x.maxStartPTS=I.maxStartPTS,x.endPTS=I.endPTS,x.endDTS=I.endDTS,x.minEndPTS=I.minEndPTS,x.duration=I.endPTS-I.startPTS,x.duration&&(k=x),y.PTSKnown=y.alignedSliding=!0),x.elementaryStreams=I.elementaryStreams,x.loader=I.loader,x.stats=I.stats,x.urlId=I.urlId,I.initSegment?(x.initSegment=I.initSegment,b=I.initSegment):x.initSegment&&x.initSegment.relurl!=((L=b)===null||L===void 0?void 0:L.relurl)||(x.initSegment=b)}),y.skippedSegments&&(y.deltaUpdateFailed=y.fragments.some(function(I){return!I}),y.deltaUpdateFailed)){a.logger.warn("[level-helper] Previous playlist missing segments skipped in delta playlist");for(var T=y.skippedSegments;T--;)y.fragments.shift();y.startSN=y.fragments[0].sn,y.startCC=y.fragments[0].cc}var O=y.fragments;if(_){a.logger.warn("discontinuity sliding from playlist, take drift into account");for(var A=0;A<O.length;A++)O[A].cc+=_}y.skippedSegments&&(y.startCC=y.fragments[0].cc),d(h.partList,y.partList,function(I,x){x.elementaryStreams=I.elementaryStreams,x.stats=I.stats}),k?s(y,k,k.startPTS,k.endPTS,k.startDTS,k.endDTS):S(h,y),O.length&&(y.totalduration=y.edge-O[0].start),y.driftStartTime=h.driftStartTime,y.driftStart=h.driftStart;var P=y.advancedDateTime;if(y.advanced&&P){var D=y.edge;y.driftStart||(y.driftStartTime=P,y.driftStart=D),y.driftEndTime=P,y.driftEnd=D}else y.driftEndTime=h.driftEndTime,y.driftEnd=h.driftEnd,y.advancedDateTime=h.advancedDateTime}function d(h,y,b){if(h&&y)for(var p=0,C=0,w=h.length;C<=w;C++){var k=h[C],_=y[C+p];k&&_&&k.index===_.index&&k.fragment.sn===_.fragment.sn?b(k,_):p--}}function v(h,y,b){for(var p=y.skippedSegments,C=Math.max(h.startSN,y.startSN)-y.startSN,w=(h.fragmentHint?1:0)+(p?y.endSN:Math.min(h.endSN,y.endSN))-y.startSN,k=y.startSN-h.startSN,_=y.fragmentHint?y.fragments.concat(y.fragmentHint):y.fragments,T=h.fragmentHint?h.fragments.concat(h.fragmentHint):h.fragments,O=C;O<=w;O++){var A=T[k+O],P=_[O];p&&!P&&O<p&&(P=y.fragments[O]=A),A&&P&&b(A,P)}}function S(h,y){var b=y.startSN+y.skippedSegments-h.startSN,p=h.fragments;b<0||b>=p.length||E(y,p[b].start)}function E(h,y){if(y){for(var b=h.fragments,p=h.skippedSegments;p<b.length;p++)b[p].start+=y;h.fragmentHint&&(h.fragmentHint.start+=y)}}function m(h,y){var b,p=1e3*h.levelTargetDuration,C=p/2,w=h.age,k=w>0&&w<3*p,_=y.loading.end-y.loading.start,T=h.availabilityDelay;if(h.updated===!1)if(k){var O=333*h.misses;b=Math.max(Math.min(C,2*_),O),h.availabilityDelay=(h.availabilityDelay||0)+b}else b=C;else k?(T=Math.min(T||p/2,w),h.availabilityDelay=T,b=T+p-w):b=p-_;return Math.round(b)}function f(h,y,b){if(!h||!h.details)return null;var p=h.details,C=p.fragments[y-p.startSN];return C||((C=p.fragmentHint)&&C.sn===y?C:y<p.startSN&&b&&b.sn===y?b:null)}function g(h,y,b){if(!h||!h.details)return null;var p=h.details.partList;if(p)for(var C=p.length;C--;){var w=p[C];if(w.index===b&&w.fragment.sn===y)return w}return null}},"./src/controller/stream-controller.ts":function(e,t,n){n.r(t),n.d(t,"default",function(){return h});var r=n("./src/polyfills/number.ts"),a=n("./src/controller/base-stream-controller.ts"),i=n("./src/is-supported.ts"),o=n("./src/events.ts"),l=n("./src/utils/buffer-helper.ts"),u=n("./src/controller/fragment-tracker.ts"),s=n("./src/types/loader.ts"),c=n("./src/loader/fragment.ts"),d=n("./src/demux/transmuxer-interface.ts"),v=n("./src/types/transmuxer.ts"),S=n("./src/controller/gap-controller.ts"),E=n("./src/errors.ts"),m=n("./src/utils/logger.ts");function f(y,b){for(var p=0;p<b.length;p++){var C=b[p];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(y,C.key,C)}}function g(y,b){return(g=Object.setPrototypeOf||function(p,C){return p.__proto__=C,p})(y,b)}var h=function(y){var b,p;function C(T,O){var A;return(A=y.call(this,T,O,"[stream-controller]")||this).audioCodecSwap=!1,A.gapController=null,A.level=-1,A._forceStartLoad=!1,A.altAudio=!1,A.audioOnly=!1,A.fragPlaying=null,A.onvplaying=null,A.onvseeked=null,A.fragLastKbps=0,A.stalled=!1,A.couldBacktrack=!1,A.audioCodecSwitch=!1,A.videoBuffer=null,A._registerListeners(),A}p=y,(b=C).prototype=Object.create(p.prototype),b.prototype.constructor=b,g(b,p);var w,k,_=C.prototype;return _._registerListeners=function(){var T=this.hls;T.on(o.Events.MEDIA_ATTACHED,this.onMediaAttached,this),T.on(o.Events.MEDIA_DETACHING,this.onMediaDetaching,this),T.on(o.Events.MANIFEST_LOADING,this.onManifestLoading,this),T.on(o.Events.MANIFEST_PARSED,this.onManifestParsed,this),T.on(o.Events.LEVEL_LOADING,this.onLevelLoading,this),T.on(o.Events.LEVEL_LOADED,this.onLevelLoaded,this),T.on(o.Events.FRAG_LOAD_EMERGENCY_ABORTED,this.onFragLoadEmergencyAborted,this),T.on(o.Events.ERROR,this.onError,this),T.on(o.Events.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),T.on(o.Events.AUDIO_TRACK_SWITCHED,this.onAudioTrackSwitched,this),T.on(o.Events.BUFFER_CREATED,this.onBufferCreated,this),T.on(o.Events.BUFFER_FLUSHED,this.onBufferFlushed,this),T.on(o.Events.LEVELS_UPDATED,this.onLevelsUpdated,this),T.on(o.Events.FRAG_BUFFERED,this.onFragBuffered,this)},_._unregisterListeners=function(){var T=this.hls;T.off(o.Events.MEDIA_ATTACHED,this.onMediaAttached,this),T.off(o.Events.MEDIA_DETACHING,this.onMediaDetaching,this),T.off(o.Events.MANIFEST_LOADING,this.onManifestLoading,this),T.off(o.Events.MANIFEST_PARSED,this.onManifestParsed,this),T.off(o.Events.LEVEL_LOADED,this.onLevelLoaded,this),T.off(o.Events.FRAG_LOAD_EMERGENCY_ABORTED,this.onFragLoadEmergencyAborted,this),T.off(o.Events.ERROR,this.onError,this),T.off(o.Events.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),T.off(o.Events.AUDIO_TRACK_SWITCHED,this.onAudioTrackSwitched,this),T.off(o.Events.BUFFER_CREATED,this.onBufferCreated,this),T.off(o.Events.BUFFER_FLUSHED,this.onBufferFlushed,this),T.off(o.Events.LEVELS_UPDATED,this.onLevelsUpdated,this),T.off(o.Events.FRAG_BUFFERED,this.onFragBuffered,this)},_.onHandlerDestroying=function(){this._unregisterListeners(),this.onMediaDetaching()},_.startLoad=function(T){if(this.levels){var O=this.lastCurrentTime,A=this.hls;if(this.stopLoad(),this.setInterval(100),this.level=-1,this.fragLoadError=0,!this.startFragRequested){var P=A.startLevel;P===-1&&(A.config.testBandwidth?(P=0,this.bitrateTest=!0):P=A.nextAutoLevel),this.level=A.nextLoadLevel=P,this.loadedmetadata=!1}O>0&&T===-1&&(this.log("Override startPosition with lastCurrentTime @"+O.toFixed(3)),T=O),this.state=a.State.IDLE,this.nextLoadPosition=this.startPosition=this.lastCurrentTime=T,this.tick()}else this._forceStartLoad=!0,this.state=a.State.STOPPED},_.stopLoad=function(){this._forceStartLoad=!1,y.prototype.stopLoad.call(this)},_.doTick=function(){switch(this.state){case a.State.IDLE:this.doTickIdle();break;case a.State.WAITING_LEVEL:var T,O=this.levels,A=this.level,P=O==null||(T=O[A])===null||T===void 0?void 0:T.details;if(P&&(!P.live||this.levelLastLoaded===this.level)){if(this.waitForCdnTuneIn(P))break;this.state=a.State.IDLE;break}break;case a.State.FRAG_LOADING_WAITING_RETRY:var D,I=self.performance.now(),x=this.retryDate;(!x||I>=x||(D=this.media)!==null&&D!==void 0&&D.seeking)&&(this.log("retryDate reached, switch back to IDLE state"),this.state=a.State.IDLE)}this.onTickEnd()},_.onTickEnd=function(){y.prototype.onTickEnd.call(this),this.checkBuffer(),this.checkFragmentChanged()},_.doTickIdle=function(){var T,O,A=this.hls,P=this.levelLastLoaded,D=this.levels,I=this.media,x=A.config,L=A.nextLoadLevel;if(P!==null&&(I||!this.startFragRequested&&x.startFragPrefetch)&&(!this.altAudio||!this.audioOnly)&&D&&D[L]){var $=D[L];this.level=A.nextLoadLevel=L;var M=$.details;if(!M||this.state===a.State.WAITING_LEVEL||M.live&&this.levelLastLoaded!==L)this.state=a.State.WAITING_LEVEL;else{var j=this.getFwdBufferInfo(this.mediaBuffer?this.mediaBuffer:I,s.PlaylistLevelType.MAIN);if(j!==null&&!(j.len>=this.getMaxBufferLength($.maxBitrate))){if(this._streamEnded(j,M)){var F={};return this.altAudio&&(F.type="video"),this.hls.trigger(o.Events.BUFFER_EOS,F),void(this.state=a.State.ENDED)}var U=j.end,B=this.getNextFragment(U,M);if(this.couldBacktrack&&!this.fragPrevious&&B&&B.sn!=="initSegment"){var K=B.sn-M.startSN;K>1&&(B=M.fragments[K-1],this.fragmentTracker.removeFragment(B))}if(B&&this.fragmentTracker.getState(B)===u.FragmentState.OK&&this.nextLoadPosition>U){var V=this.audioOnly&&!this.altAudio?c.ElementaryStreamTypes.AUDIO:c.ElementaryStreamTypes.VIDEO;this.afterBufferFlushed(I,V,s.PlaylistLevelType.MAIN),B=this.getNextFragment(this.nextLoadPosition,M)}B&&(!B.initSegment||B.initSegment.data||this.bitrateTest||(B=B.initSegment),((T=B.decryptdata)===null||T===void 0?void 0:T.keyFormat)!=="identity"||(O=B.decryptdata)!==null&&O!==void 0&&O.key?this.loadFragment(B,M,U):this.loadKey(B,M))}}}},_.loadFragment=function(T,O,A){var P,D=this.fragmentTracker.getState(T);if(this.fragCurrent=T,D===u.FragmentState.BACKTRACKED){var I=this.fragmentTracker.getBacktrackData(T);if(I)return this._handleFragmentLoadProgress(I),void this._handleFragmentLoadComplete(I);D=u.FragmentState.NOT_LOADED}D===u.FragmentState.NOT_LOADED||D===u.FragmentState.PARTIAL?T.sn==="initSegment"?this._loadInitSegment(T):this.bitrateTest?(T.bitrateTest=!0,this.log("Fragment "+T.sn+" of level "+T.level+" is being downloaded to test bitrate and will not be buffered"),this._loadBitrateTestFrag(T)):(this.startFragRequested=!0,y.prototype.loadFragment.call(this,T,O,A)):D===u.FragmentState.APPENDING?this.reduceMaxBufferLength(T.duration)&&this.fragmentTracker.removeFragment(T):((P=this.media)===null||P===void 0?void 0:P.buffered.length)===0&&this.fragmentTracker.removeAllFragments()},_.getAppendedFrag=function(T){var O=this.fragmentTracker.getAppendedFrag(T,s.PlaylistLevelType.MAIN);return O&&"fragment"in O?O.fragment:O},_.getBufferedFrag=function(T){return this.fragmentTracker.getBufferedFrag(T,s.PlaylistLevelType.MAIN)},_.followingBufferedFrag=function(T){return T?this.getBufferedFrag(T.end+.5):null},_.immediateLevelSwitch=function(){this.abortCurrentFrag(),this.flushMainBuffer(0,Number.POSITIVE_INFINITY)},_.nextLevelSwitch=function(){var T=this.levels,O=this.media;if(O!=null&&O.readyState){var A,P=this.getAppendedFrag(O.currentTime);if(P&&P.start>1&&this.flushMainBuffer(0,P.start-1),!O.paused&&T){var D=T[this.hls.nextLoadLevel],I=this.fragLastKbps;A=I&&this.fragCurrent?this.fragCurrent.duration*D.maxBitrate/(1e3*I)+1:0}else A=0;var x=this.getBufferedFrag(O.currentTime+A);if(x){var L=this.followingBufferedFrag(x);if(L){this.abortCurrentFrag();var $=L.maxStartPTS?L.maxStartPTS:L.start,M=L.duration,j=Math.max(x.end,$+Math.min(Math.max(M-this.config.maxFragLookUpTolerance,.5*M),.75*M));this.flushMainBuffer(j,Number.POSITIVE_INFINITY)}}}},_.abortCurrentFrag=function(){var T=this.fragCurrent;this.fragCurrent=null,T!=null&&T.loader&&T.loader.abort(),this.state===a.State.KEY_LOADING&&(this.state=a.State.IDLE),this.nextLoadPosition=this.getLoadPosition()},_.flushMainBuffer=function(T,O){y.prototype.flushMainBuffer.call(this,T,O,this.altAudio?"video":null)},_.onMediaAttached=function(T,O){y.prototype.onMediaAttached.call(this,T,O);var A=O.media;this.onvplaying=this.onMediaPlaying.bind(this),this.onvseeked=this.onMediaSeeked.bind(this),A.addEventListener("playing",this.onvplaying),A.addEventListener("seeked",this.onvseeked),this.gapController=new S.default(this.config,A,this.fragmentTracker,this.hls)},_.onMediaDetaching=function(){var T=this.media;T&&(T.removeEventListener("playing",this.onvplaying),T.removeEventListener("seeked",this.onvseeked),this.onvplaying=this.onvseeked=null,this.videoBuffer=null),this.fragPlaying=null,this.gapController&&(this.gapController.destroy(),this.gapController=null),y.prototype.onMediaDetaching.call(this)},_.onMediaPlaying=function(){this.tick()},_.onMediaSeeked=function(){var T=this.media,O=T?T.currentTime:null;Object(r.isFiniteNumber)(O)&&this.log("Media seeked to "+O.toFixed(3)),this.tick()},_.onManifestLoading=function(){this.log("Trigger BUFFER_RESET"),this.hls.trigger(o.Events.BUFFER_RESET,void 0),this.fragmentTracker.removeAllFragments(),this.couldBacktrack=this.stalled=!1,this.startPosition=this.lastCurrentTime=0,this.fragPlaying=null},_.onManifestParsed=function(T,O){var A,P=!1,D=!1;O.levels.forEach(function(I){(A=I.audioCodec)&&(A.indexOf("mp4a.40.2")!==-1&&(P=!0),A.indexOf("mp4a.40.5")!==-1&&(D=!0))}),this.audioCodecSwitch=P&&D&&!Object(i.changeTypeSupported)(),this.audioCodecSwitch&&this.log("Both AAC/HE-AAC audio found in levels; declaring level codec as HE-AAC"),this.levels=O.levels,this.startFragRequested=!1},_.onLevelLoading=function(T,O){var A=this.levels;if(A&&this.state===a.State.IDLE){var P=A[O.level];(!P.details||P.details.live&&this.levelLastLoaded!==O.level||this.waitForCdnTuneIn(P.details))&&(this.state=a.State.WAITING_LEVEL)}},_.onLevelLoaded=function(T,O){var A,P=this.levels,D=O.level,I=O.details,x=I.totalduration;if(P){this.log("Level "+D+" loaded ["+I.startSN+","+I.endSN+"], cc ["+I.startCC+", "+I.endCC+"] duration:"+x);var L=this.fragCurrent;!L||this.state!==a.State.FRAG_LOADING&&this.state!==a.State.FRAG_LOADING_WAITING_RETRY||L.level!==O.level&&L.loader&&(this.state=a.State.IDLE,L.loader.abort());var $=P[D],M=0;if(I.live||(A=$.details)!==null&&A!==void 0&&A.live){if(I.fragments[0]||(I.deltaUpdateFailed=!0),I.deltaUpdateFailed)return;M=this.alignPlaylists(I,$.details)}if($.details=I,this.levelLastLoaded=D,this.hls.trigger(o.Events.LEVEL_UPDATED,{details:I,level:D}),this.state===a.State.WAITING_LEVEL){if(this.waitForCdnTuneIn(I))return;this.state=a.State.IDLE}this.startFragRequested?I.live&&this.synchronizeToLiveEdge(I):this.setStartPosition(I,M),this.tick()}else this.warn("Levels were reset while loading level "+D)},_._handleFragmentLoadProgress=function(T){var O,A=T.frag,P=T.part,D=T.payload,I=this.levels;if(I){var x=I[A.level],L=x.details;if(L){var $=x.videoCodec,M=L.PTSKnown||!L.live,j=(O=A.initSegment)===null||O===void 0?void 0:O.data,F=this._getAudioCodec(x),U=this.transmuxer=this.transmuxer||new d.default(this.hls,s.PlaylistLevelType.MAIN,this._handleTransmuxComplete.bind(this),this._handleTransmuxerFlush.bind(this)),B=P?P.index:-1,K=B!==-1,V=new v.ChunkMetadata(A.level,A.sn,A.stats.chunkCount,D.byteLength,B,K),X=this.initPTS[A.cc];U.push(D,j,F,$,A,P,L.totalduration,M,V,X)}else this.warn("Dropping fragment "+A.sn+" of level "+A.level+" after level details were reset")}else this.warn("Levels were reset while fragment load was in progress. Fragment "+A.sn+" of level "+A.level+" will not be buffered")},_.onAudioTrackSwitching=function(T,O){var A=this.altAudio,P=!!O.url,D=O.id;if(!P){if(this.mediaBuffer!==this.media){this.log("Switching on main audio, use media.buffered to schedule main fragment loading"),this.mediaBuffer=this.media;var I=this.fragCurrent;I!=null&&I.loader&&(this.log("Switching to main audio track, cancel main fragment load"),I.loader.abort()),this.resetTransmuxer(),this.resetLoadingState()}else this.audioOnly&&this.resetTransmuxer();var x=this.hls;A&&x.trigger(o.Events.BUFFER_FLUSHING,{startOffset:0,endOffset:Number.POSITIVE_INFINITY,type:"audio"}),x.trigger(o.Events.AUDIO_TRACK_SWITCHED,{id:D})}},_.onAudioTrackSwitched=function(T,O){var A=O.id,P=!!this.hls.audioTracks[A].url;if(P){var D=this.videoBuffer;D&&this.mediaBuffer!==D&&(this.log("Switching on alternate audio, use video.buffered to schedule main fragment loading"),this.mediaBuffer=D)}this.altAudio=P,this.tick()},_.onBufferCreated=function(T,O){var A,P,D=O.tracks,I=!1;for(var x in D){var L=D[x];if(L.id==="main"){if(P=x,A=L,x==="video"){var $=D[x];$&&(this.videoBuffer=$.buffer)}}else I=!0}I&&A?(this.log("Alternate track found, use "+P+".buffered to schedule main fragment loading"),this.mediaBuffer=A.buffer):this.mediaBuffer=this.media},_.onFragBuffered=function(T,O){var A=O.frag,P=O.part;if(!A||A.type===s.PlaylistLevelType.MAIN){if(this.fragContextChanged(A))return this.warn("Fragment "+A.sn+(P?" p: "+P.index:"")+" of level "+A.level+" finished buffering, but was aborted. state: "+this.state),void(this.state===a.State.PARSED&&(this.state=a.State.IDLE));var D=P?P.stats:A.stats;this.fragLastKbps=Math.round(8*D.total/(D.buffering.end-D.loading.first)),A.sn!=="initSegment"&&(this.fragPrevious=A),this.fragBufferedComplete(A,P)}},_.onError=function(T,O){switch(O.details){case E.ErrorDetails.FRAG_LOAD_ERROR:case E.ErrorDetails.FRAG_LOAD_TIMEOUT:case E.ErrorDetails.KEY_LOAD_ERROR:case E.ErrorDetails.KEY_LOAD_TIMEOUT:this.onFragmentOrKeyLoadError(s.PlaylistLevelType.MAIN,O);break;case E.ErrorDetails.LEVEL_LOAD_ERROR:case E.ErrorDetails.LEVEL_LOAD_TIMEOUT:this.state!==a.State.ERROR&&(O.fatal?(this.warn(""+O.details),this.state=a.State.ERROR):O.levelRetry||this.state!==a.State.WAITING_LEVEL||(this.state=a.State.IDLE));break;case E.ErrorDetails.BUFFER_FULL_ERROR:if(O.parent==="main"&&(this.state===a.State.PARSING||this.state===a.State.PARSED)){var A=!0,P=this.getFwdBufferInfo(this.media,s.PlaylistLevelType.MAIN);P&&P.len>.5&&(A=!this.reduceMaxBufferLength(P.len)),A&&(this.warn("buffer full error also media.currentTime is not buffered, flush main"),this.immediateLevelSwitch()),this.resetLoadingState()}}},_.checkBuffer=function(){var T=this.media,O=this.gapController;if(T&&O&&T.readyState){var A=l.BufferHelper.getBuffered(T);!this.loadedmetadata&&A.length?(this.loadedmetadata=!0,this.seekToStartPos()):O.poll(this.lastCurrentTime),this.lastCurrentTime=T.currentTime}},_.onFragLoadEmergencyAborted=function(){this.state=a.State.IDLE,this.loadedmetadata||(this.startFragRequested=!1,this.nextLoadPosition=this.startPosition),this.tickImmediate()},_.onBufferFlushed=function(T,O){var A=O.type;if(A!==c.ElementaryStreamTypes.AUDIO||this.audioOnly&&!this.altAudio){var P=(A===c.ElementaryStreamTypes.VIDEO?this.videoBuffer:this.mediaBuffer)||this.media;this.afterBufferFlushed(P,A,s.PlaylistLevelType.MAIN)}},_.onLevelsUpdated=function(T,O){this.levels=O.levels},_.swapAudioCodec=function(){this.audioCodecSwap=!this.audioCodecSwap},_.seekToStartPos=function(){var T=this.media,O=T.currentTime,A=this.startPosition;if(A>=0&&O<A){if(T.seeking)return void m.logger.log("could not seek to "+A+", already seeking at "+O);var P=l.BufferHelper.getBuffered(T),D=(P.length?P.start(0):0)-A;D>0&&D<this.config.maxBufferHole&&(m.logger.log("adjusting start position by "+D+" to match buffer start"),A+=D,this.startPosition=A),this.log("seek to target start position "+A+" from current time "+O),T.currentTime=A}},_._getAudioCodec=function(T){var O=this.config.defaultAudioCodec||T.audioCodec;return this.audioCodecSwap&&O&&(this.log("Swapping audio codec"),O=O.indexOf("mp4a.40.5")!==-1?"mp4a.40.2":"mp4a.40.5"),O},_._loadBitrateTestFrag=function(T){var O=this;this._doFragLoad(T).then(function(A){var P=O.hls;if(A&&!P.nextLoadLevel&&!O.fragContextChanged(T)){O.fragLoadError=0,O.state=a.State.IDLE,O.startFragRequested=!1,O.bitrateTest=!1;var D=T.stats;D.parsing.start=D.parsing.end=D.buffering.start=D.buffering.end=self.performance.now(),P.trigger(o.Events.FRAG_LOADED,A)}})},_._handleTransmuxComplete=function(T){var O,A="main",P=this.hls,D=T.remuxResult,I=T.chunkMeta,x=this.getCurrentContext(I);if(!x)return this.warn("The loading context changed while buffering fragment "+I.sn+" of level "+I.level+". This chunk will not be buffered."),void this.resetLiveStartWhenNotLoaded(I.level);var L=x.frag,$=x.part,M=x.level,j=D.video,F=D.text,U=D.id3,B=D.initSegment,K=this.altAudio?void 0:D.audio;if(!this.fragContextChanged(L)){if(this.state=a.State.PARSING,B){B.tracks&&(this._bufferInitSegment(M,B.tracks,L,I),P.trigger(o.Events.FRAG_PARSING_INIT_SEGMENT,{frag:L,id:A,tracks:B.tracks}));var V=B.initPTS,X=B.timescale;Object(r.isFiniteNumber)(V)&&(this.initPTS[L.cc]=V,P.trigger(o.Events.INIT_PTS_FOUND,{frag:L,id:A,initPTS:V,timescale:X}))}if(j&&D.independent!==!1){if(M.details){var Z=j.startPTS,ne=j.endPTS,ae=j.startDTS,ye=j.endDTS;if($)$.elementaryStreams[j.type]={startPTS:Z,endPTS:ne,startDTS:ae,endDTS:ye};else if(j.firstKeyFrame&&j.independent&&(this.couldBacktrack=!0),j.dropped&&j.independent){if(this.getLoadPosition()+this.config.maxBufferHole<Z)return void this.backtrack(L);L.setElementaryStreamInfo(j.type,L.start,ne,L.start,ye,!0)}L.setElementaryStreamInfo(j.type,Z,ne,ae,ye),this.bufferFragmentData(j,L,$,I)}}else if(D.independent===!1)return void this.backtrack(L);if(K){var de=K.startPTS,be=K.endPTS,G=K.startDTS,Y=K.endDTS;$&&($.elementaryStreams[c.ElementaryStreamTypes.AUDIO]={startPTS:de,endPTS:be,startDTS:G,endDTS:Y}),L.setElementaryStreamInfo(c.ElementaryStreamTypes.AUDIO,de,be,G,Y),this.bufferFragmentData(K,L,$,I)}if(U!=null&&(O=U.samples)!==null&&O!==void 0&&O.length){var Q={frag:L,id:A,samples:U.samples};P.trigger(o.Events.FRAG_PARSING_METADATA,Q)}if(F){var re={frag:L,id:A,samples:F.samples};P.trigger(o.Events.FRAG_PARSING_USERDATA,re)}}},_._bufferInitSegment=function(T,O,A,P){var D=this;if(this.state===a.State.PARSING){this.audioOnly=!!O.audio&&!O.video,this.altAudio&&!this.audioOnly&&delete O.audio;var I=O.audio,x=O.video,L=O.audiovideo;if(I){var $=T.audioCodec,M=navigator.userAgent.toLowerCase();this.audioCodecSwitch&&($&&($=$.indexOf("mp4a.40.5")!==-1?"mp4a.40.2":"mp4a.40.5"),I.metadata.channelCount!==1&&M.indexOf("firefox")===-1&&($="mp4a.40.5")),M.indexOf("android")!==-1&&I.container!=="audio/mpeg"&&($="mp4a.40.2",this.log("Android: force audio codec to "+$)),T.audioCodec&&T.audioCodec!==$&&this.log('Swapping manifest audio codec "'+T.audioCodec+'" for "'+$+'"'),I.levelCodec=$,I.id="main",this.log("Init audio buffer, container:"+I.container+", codecs[selected/level/parsed]=["+($||"")+"/"+(T.audioCodec||"")+"/"+I.codec+"]")}x&&(x.levelCodec=T.videoCodec,x.id="main",this.log("Init video buffer, container:"+x.container+", codecs[level/parsed]=["+(T.videoCodec||"")+"/"+x.codec+"]")),L&&this.log("Init audiovideo buffer, container:"+L.container+", codecs[level/parsed]=["+(T.attrs.CODECS||"")+"/"+L.codec+"]"),this.hls.trigger(o.Events.BUFFER_CODECS,O),Object.keys(O).forEach(function(j){var F=O[j].initSegment;F!=null&&F.byteLength&&D.hls.trigger(o.Events.BUFFER_APPENDING,{type:j,data:F,frag:A,part:null,chunkMeta:P,parent:A.type})}),this.tick()}},_.backtrack=function(T){this.couldBacktrack=!0,this.resetTransmuxer(),this.flushBufferGap(T);var O=this.fragmentTracker.backtrack(T);this.fragPrevious=null,this.nextLoadPosition=T.start,O?this.resetFragmentLoading(T):this.state=a.State.BACKTRACKING},_.checkFragmentChanged=function(){var T=this.media,O=null;if(T&&T.readyState>1&&T.seeking===!1){var A=T.currentTime;if(l.BufferHelper.isBuffered(T,A)?O=this.getAppendedFrag(A):l.BufferHelper.isBuffered(T,A+.1)&&(O=this.getAppendedFrag(A+.1)),O){var P=this.fragPlaying,D=O.level;P&&O.sn===P.sn&&P.level===D&&O.urlId===P.urlId||(this.hls.trigger(o.Events.FRAG_CHANGED,{frag:O}),P&&P.level===D||this.hls.trigger(o.Events.LEVEL_SWITCHED,{level:D}),this.fragPlaying=O)}}},w=C,(k=[{key:"nextLevel",get:function(){var T=this.nextBufferedFrag;return T?T.level:-1}},{key:"currentLevel",get:function(){var T=this.media;if(T){var O=this.getAppendedFrag(T.currentTime);if(O)return O.level}return-1}},{key:"nextBufferedFrag",get:function(){var T=this.media;if(T){var O=this.getAppendedFrag(T.currentTime);return this.followingBufferedFrag(O)}return null}},{key:"forceStartLoad",get:function(){return this._forceStartLoad}}])&&f(w.prototype,k),C}(a.default)},"./src/controller/subtitle-stream-controller.ts":function(e,t,n){n.r(t),n.d(t,"SubtitleStreamController",function(){return m});var r=n("./src/events.ts"),a=n("./src/utils/logger.ts"),i=n("./src/utils/buffer-helper.ts"),o=n("./src/controller/fragment-finders.ts"),l=n("./src/utils/discontinuities.ts"),u=n("./src/controller/level-helper.ts"),s=n("./src/controller/fragment-tracker.ts"),c=n("./src/controller/base-stream-controller.ts"),d=n("./src/types/loader.ts"),v=n("./src/types/level.ts");function S(f,g){for(var h=0;h<g.length;h++){var y=g[h];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(f,y.key,y)}}function E(f,g){return(E=Object.setPrototypeOf||function(h,y){return h.__proto__=y,h})(f,g)}var m=function(f){var g,h;function y(w,k){var _;return(_=f.call(this,w,k,"[subtitle-stream-controller]")||this).levels=[],_.currentTrackId=-1,_.tracksBuffered=[],_.mainDetails=null,_._registerListeners(),_}h=f,(g=y).prototype=Object.create(h.prototype),g.prototype.constructor=g,E(g,h);var b,p,C=y.prototype;return C.onHandlerDestroying=function(){this._unregisterListeners(),this.mainDetails=null},C._registerListeners=function(){var w=this.hls;w.on(r.Events.MEDIA_ATTACHED,this.onMediaAttached,this),w.on(r.Events.MEDIA_DETACHING,this.onMediaDetaching,this),w.on(r.Events.MANIFEST_LOADING,this.onManifestLoading,this),w.on(r.Events.LEVEL_LOADED,this.onLevelLoaded,this),w.on(r.Events.ERROR,this.onError,this),w.on(r.Events.SUBTITLE_TRACKS_UPDATED,this.onSubtitleTracksUpdated,this),w.on(r.Events.SUBTITLE_TRACK_SWITCH,this.onSubtitleTrackSwitch,this),w.on(r.Events.SUBTITLE_TRACK_LOADED,this.onSubtitleTrackLoaded,this),w.on(r.Events.SUBTITLE_FRAG_PROCESSED,this.onSubtitleFragProcessed,this),w.on(r.Events.BUFFER_FLUSHING,this.onBufferFlushing,this)},C._unregisterListeners=function(){var w=this.hls;w.off(r.Events.MEDIA_ATTACHED,this.onMediaAttached,this),w.off(r.Events.MEDIA_DETACHING,this.onMediaDetaching,this),w.off(r.Events.MANIFEST_LOADING,this.onManifestLoading,this),w.off(r.Events.LEVEL_LOADED,this.onLevelLoaded,this),w.off(r.Events.ERROR,this.onError,this),w.off(r.Events.SUBTITLE_TRACKS_UPDATED,this.onSubtitleTracksUpdated,this),w.off(r.Events.SUBTITLE_TRACK_SWITCH,this.onSubtitleTrackSwitch,this),w.off(r.Events.SUBTITLE_TRACK_LOADED,this.onSubtitleTrackLoaded,this),w.off(r.Events.SUBTITLE_FRAG_PROCESSED,this.onSubtitleFragProcessed,this),w.off(r.Events.BUFFER_FLUSHING,this.onBufferFlushing,this)},C.startLoad=function(){this.stopLoad(),this.state=c.State.IDLE,this.setInterval(500),this.tick()},C.onManifestLoading=function(){this.mainDetails=null,this.fragmentTracker.removeAllFragments()},C.onLevelLoaded=function(w,k){this.mainDetails=k.details},C.onSubtitleFragProcessed=function(w,k){var _=k.frag,T=k.success;if(this.fragPrevious=_,this.state=c.State.IDLE,T){var O=this.tracksBuffered[this.currentTrackId];if(O){for(var A,P=_.start,D=0;D<O.length;D++)if(P>=O[D].start&&P<=O[D].end){A=O[D];break}var I=_.start+_.duration;A?A.end=I:(A={start:P,end:I},O.push(A)),this.fragmentTracker.fragBuffered(_)}}},C.onBufferFlushing=function(w,k){var _=k.startOffset,T=k.endOffset;if(_===0&&T!==Number.POSITIVE_INFINITY){var O=this.currentTrackId,A=this.levels;if(!A.length||!A[O]||!A[O].details)return;var P=T-A[O].details.targetduration;if(P<=0)return;k.endOffsetSubtitles=Math.max(0,P),this.tracksBuffered.forEach(function(D){for(var I=0;I<D.length;)if(D[I].end<=P)D.shift();else{if(!(D[I].start<P))break;D[I].start=P,I++}}),this.fragmentTracker.removeFragmentsInRange(_,P,d.PlaylistLevelType.SUBTITLE)}},C.onError=function(w,k){var _,T=k.frag;T&&T.type===d.PlaylistLevelType.SUBTITLE&&((_=this.fragCurrent)!==null&&_!==void 0&&_.loader&&this.fragCurrent.loader.abort(),this.state=c.State.IDLE)},C.onSubtitleTracksUpdated=function(w,k){var _=this,T=k.subtitleTracks;this.tracksBuffered=[],this.levels=T.map(function(O){return new v.Level(O)}),this.fragmentTracker.removeAllFragments(),this.fragPrevious=null,this.levels.forEach(function(O){_.tracksBuffered[O.id]=[]}),this.mediaBuffer=null},C.onSubtitleTrackSwitch=function(w,k){if(this.currentTrackId=k.id,this.levels.length&&this.currentTrackId!==-1){var _=this.levels[this.currentTrackId];_!=null&&_.details?(this.mediaBuffer=this.mediaBufferTimeRanges,this.setInterval(500)):this.mediaBuffer=null}else this.clearInterval()},C.onSubtitleTrackLoaded=function(w,k){var _,T=k.details,O=k.id,A=this.currentTrackId,P=this.levels;if(P.length){var D=P[A];if(!(O>=P.length||O!==A)&&D){if(this.mediaBuffer=this.mediaBufferTimeRanges,T.live||(_=D.details)!==null&&_!==void 0&&_.live){var I=this.mainDetails;if(T.deltaUpdateFailed||!I)return;var x=I.fragments[0];D.details?this.alignPlaylists(T,D.details)===0&&x&&Object(u.addSliding)(T,x.start):T.hasProgramDateTime&&I.hasProgramDateTime?Object(l.alignPDT)(T,I):x&&Object(u.addSliding)(T,x.start)}D.details=T,this.levelLastLoaded=O,this.tick(),T.live&&!this.fragCurrent&&this.media&&this.state===c.State.IDLE&&(Object(o.findFragmentByPTS)(null,T.fragments,this.media.currentTime,0)||(this.warn("Subtitle playlist not aligned with playback"),D.details=void 0))}}},C._handleFragmentLoadComplete=function(w){var k=w.frag,_=w.payload,T=k.decryptdata,O=this.hls;if(!this.fragContextChanged(k)&&_&&_.byteLength>0&&T&&T.key&&T.iv&&T.method==="AES-128"){var A=performance.now();this.decrypter.webCryptoDecrypt(new Uint8Array(_),T.key.buffer,T.iv.buffer).then(function(P){var D=performance.now();O.trigger(r.Events.FRAG_DECRYPTED,{frag:k,payload:P,stats:{tstart:A,tdecrypt:D}})})}},C.doTick=function(){if(this.media){if(this.state===c.State.IDLE){var w,k=this.currentTrackId,_=this.levels;if(!_.length||!_[k]||!_[k].details)return;var T=_[k].details,O=T.targetduration,A=this.config,P=this.media,D=i.BufferHelper.bufferedInfo(this.mediaBufferTimeRanges,P.currentTime-O,A.maxBufferHole),I=D.end;if(D.len>this.getMaxBufferLength()+O)return;console.assert(T,"Subtitle track details are defined on idle subtitle stream controller tick");var x,L=T.fragments,$=L.length,M=T.edge,j=this.fragPrevious;if(I<M){var F=A.maxFragLookUpTolerance;j&&T.hasProgramDateTime&&(x=Object(o.findFragmentByPDT)(L,j.endProgramDateTime,F)),x||!(x=Object(o.findFragmentByPTS)(j,L,I,F))&&j&&j.start<L[0].start&&(x=L[0])}else x=L[$-1];(w=x)!==null&&w!==void 0&&w.encrypted?(a.logger.log("Loading key for "+x.sn),this.state=c.State.KEY_LOADING,this.hls.trigger(r.Events.KEY_LOADING,{frag:x})):x&&this.fragmentTracker.getState(x)===s.FragmentState.NOT_LOADED&&this.loadFragment(x,T,I)}}else this.state=c.State.IDLE},C.loadFragment=function(w,k,_){this.fragCurrent=w,f.prototype.loadFragment.call(this,w,k,_)},b=y,(p=[{key:"mediaBufferTimeRanges",get:function(){return this.tracksBuffered[this.currentTrackId]||[]}}])&&S(b.prototype,p),y}(c.default)},"./src/controller/subtitle-track-controller.ts":function(e,t,n){n.r(t);var r=n("./src/events.ts"),a=n("./src/utils/texttrack-utils.ts"),i=n("./src/controller/base-playlist-controller.ts"),o=n("./src/types/loader.ts");function l(d,v){for(var S=0;S<v.length;S++){var E=v[S];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(d,E.key,E)}}function u(d,v){return(u=Object.setPrototypeOf||function(S,E){return S.__proto__=E,S})(d,v)}var s=function(d){var v,S;function E(h){var y;return(y=d.call(this,h,"[subtitle-track-controller]")||this).media=null,y.tracks=[],y.groupId=null,y.tracksInGroup=[],y.trackId=-1,y.selectDefaultTrack=!0,y.queuedDefaultTrack=-1,y.trackChangeListener=function(){return y.onTextTracksChanged()},y.asyncPollTrackChange=function(){return y.pollTrackChange(0)},y.useTextTrackPolling=!1,y.subtitlePollingInterval=-1,y.subtitleDisplay=!0,y.registerListeners(),y}S=d,(v=E).prototype=Object.create(S.prototype),v.prototype.constructor=v,u(v,S);var m,f,g=E.prototype;return g.destroy=function(){this.unregisterListeners(),this.tracks.length=0,this.tracksInGroup.length=0,this.trackChangeListener=this.asyncPollTrackChange=null,d.prototype.destroy.call(this)},g.registerListeners=function(){var h=this.hls;h.on(r.Events.MEDIA_ATTACHED,this.onMediaAttached,this),h.on(r.Events.MEDIA_DETACHING,this.onMediaDetaching,this),h.on(r.Events.MANIFEST_LOADING,this.onManifestLoading,this),h.on(r.Events.MANIFEST_PARSED,this.onManifestParsed,this),h.on(r.Events.LEVEL_LOADING,this.onLevelLoading,this),h.on(r.Events.LEVEL_SWITCHING,this.onLevelSwitching,this),h.on(r.Events.SUBTITLE_TRACK_LOADED,this.onSubtitleTrackLoaded,this),h.on(r.Events.ERROR,this.onError,this)},g.unregisterListeners=function(){var h=this.hls;h.off(r.Events.MEDIA_ATTACHED,this.onMediaAttached,this),h.off(r.Events.MEDIA_DETACHING,this.onMediaDetaching,this),h.off(r.Events.MANIFEST_LOADING,this.onManifestLoading,this),h.off(r.Events.MANIFEST_PARSED,this.onManifestParsed,this),h.off(r.Events.LEVEL_LOADING,this.onLevelLoading,this),h.off(r.Events.LEVEL_SWITCHING,this.onLevelSwitching,this),h.off(r.Events.SUBTITLE_TRACK_LOADED,this.onSubtitleTrackLoaded,this),h.off(r.Events.ERROR,this.onError,this)},g.onMediaAttached=function(h,y){this.media=y.media,this.media&&(this.queuedDefaultTrack>-1&&(this.subtitleTrack=this.queuedDefaultTrack,this.queuedDefaultTrack=-1),this.useTextTrackPolling=!(this.media.textTracks&&"onchange"in this.media.textTracks),this.useTextTrackPolling?this.pollTrackChange(500):this.media.textTracks.addEventListener("change",this.asyncPollTrackChange))},g.pollTrackChange=function(h){self.clearInterval(this.subtitlePollingInterval),this.subtitlePollingInterval=self.setInterval(this.trackChangeListener,h)},g.onMediaDetaching=function(){this.media&&(self.clearInterval(this.subtitlePollingInterval),this.useTextTrackPolling||this.media.textTracks.removeEventListener("change",this.asyncPollTrackChange),this.trackId>-1&&(this.queuedDefaultTrack=this.trackId),c(this.media.textTracks).forEach(function(h){Object(a.clearCurrentCues)(h)}),this.subtitleTrack=-1,this.media=null)},g.onManifestLoading=function(){this.tracks=[],this.groupId=null,this.tracksInGroup=[],this.trackId=-1,this.selectDefaultTrack=!0},g.onManifestParsed=function(h,y){this.tracks=y.subtitleTracks},g.onSubtitleTrackLoaded=function(h,y){var b=y.id,p=y.details,C=this.trackId,w=this.tracksInGroup[C];if(w){var k=w.details;w.details=y.details,this.log("subtitle track "+b+" loaded ["+p.startSN+"-"+p.endSN+"]"),b===this.trackId&&(this.retryCount=0,this.playlistLoaded(b,y,k))}else this.warn("Invalid subtitle track id "+b)},g.onLevelLoading=function(h,y){this.switchLevel(y.level)},g.onLevelSwitching=function(h,y){this.switchLevel(y.level)},g.switchLevel=function(h){var y=this.hls.levels[h];if(y!=null&&y.textGroupIds){var b=y.textGroupIds[y.urlId];if(this.groupId!==b){var p=this.tracksInGroup?this.tracksInGroup[this.trackId]:void 0,C=this.tracks.filter(function(_){return!b||_.groupId===b});this.tracksInGroup=C;var w=this.findTrackId(p==null?void 0:p.name)||this.findTrackId();this.groupId=b;var k={subtitleTracks:C};this.log("Updating subtitle tracks, "+C.length+' track(s) found in "'+b+'" group-id'),this.hls.trigger(r.Events.SUBTITLE_TRACKS_UPDATED,k),w!==-1&&this.setSubtitleTrack(w,p)}}},g.findTrackId=function(h){for(var y=this.tracksInGroup,b=0;b<y.length;b++){var p=y[b];if((!this.selectDefaultTrack||p.default)&&(!h||h===p.name))return p.id}return-1},g.onError=function(h,y){d.prototype.onError.call(this,h,y),!y.fatal&&y.context&&y.context.type===o.PlaylistContextType.SUBTITLE_TRACK&&y.context.id===this.trackId&&y.context.groupId===this.groupId&&this.retryLoadingOrFail(y)},g.loadPlaylist=function(h){var y=this.tracksInGroup[this.trackId];if(this.shouldLoadTrack(y)){var b=y.id,p=y.groupId,C=y.url;if(h)try{C=h.addDirectives(C)}catch(w){this.warn("Could not construct new URL with HLS Delivery Directives: "+w)}this.log("Loading subtitle playlist for id "+b),this.hls.trigger(r.Events.SUBTITLE_TRACK_LOADING,{url:C,id:b,groupId:p,deliveryDirectives:h||null})}},g.toggleTrackModes=function(h){var y=this,b=this.media,p=this.subtitleDisplay,C=this.trackId;if(b){var w=c(b.textTracks),k=w.filter(function(O){return O.groupId===y.groupId});if(h===-1)[].slice.call(w).forEach(function(O){O.mode="disabled"});else{var _=k[C];_&&(_.mode="disabled")}var T=k[h];T&&(T.mode=p?"showing":"hidden")}},g.setSubtitleTrack=function(h,y){var b,p=this.tracksInGroup;if(this.media){if(this.trackId!==h&&this.toggleTrackModes(h),!(this.trackId===h&&(h===-1||(b=p[h])!==null&&b!==void 0&&b.details)||h<-1||h>=p.length)){this.clearTimer();var C=p[h];if(this.log("Switching to subtitle track "+h),this.trackId=h,C){var w=C.id,k=C.groupId,_=k===void 0?"":k,T=C.name,O=C.type,A=C.url;this.hls.trigger(r.Events.SUBTITLE_TRACK_SWITCH,{id:w,groupId:_,name:T,type:O,url:A});var P=this.switchParams(C.url,y==null?void 0:y.details);this.loadPlaylist(P)}else this.hls.trigger(r.Events.SUBTITLE_TRACK_SWITCH,{id:h})}}else this.queuedDefaultTrack=h},g.onTextTracksChanged=function(){if(this.useTextTrackPolling||self.clearInterval(this.subtitlePollingInterval),this.media&&this.hls.config.renderTextTracksNatively){for(var h=-1,y=c(this.media.textTracks),b=0;b<y.length;b++)if(y[b].mode==="hidden")h=b;else if(y[b].mode==="showing"){h=b;break}this.subtitleTrack!==h&&(this.subtitleTrack=h)}},m=E,(f=[{key:"subtitleTracks",get:function(){return this.tracksInGroup}},{key:"subtitleTrack",get:function(){return this.trackId},set:function(h){this.selectDefaultTrack=!1;var y=this.tracksInGroup?this.tracksInGroup[this.trackId]:void 0;this.setSubtitleTrack(h,y)}}])&&l(m.prototype,f),E}(i.default);function c(d){for(var v=[],S=0;S<d.length;S++){var E=d[S];E.kind==="subtitles"&&E.label&&v.push(d[S])}return v}t.default=s},"./src/controller/timeline-controller.ts":function(e,t,n){n.r(t),n.d(t,"TimelineController",function(){return v});var r=n("./src/polyfills/number.ts"),a=n("./src/events.ts"),i=n("./src/utils/cea-608-parser.ts"),o=n("./src/utils/output-filter.ts"),l=n("./src/utils/webvtt-parser.ts"),u=n("./src/utils/texttrack-utils.ts"),s=n("./src/utils/imsc1-ttml-parser.ts"),c=n("./src/types/loader.ts"),d=n("./src/utils/logger.ts"),v=function(){function E(f){if(this.hls=void 0,this.media=null,this.config=void 0,this.enabled=!0,this.Cues=void 0,this.textTracks=[],this.tracks=[],this.initPTS=[],this.timescale=[],this.unparsedVttFrags=[],this.captionsTracks={},this.nonNativeCaptionsTracks={},this.cea608Parser1=void 0,this.cea608Parser2=void 0,this.lastSn=-1,this.prevCC=-1,this.vttCCs={ccOffset:0,presentationOffset:0,0:{start:0,prevCC:-1,new:!1}},this.captionsProperties=void 0,this.hls=f,this.config=f.config,this.Cues=f.config.cueHandler,this.captionsProperties={textTrack1:{label:this.config.captionsTextTrack1Label,languageCode:this.config.captionsTextTrack1LanguageCode},textTrack2:{label:this.config.captionsTextTrack2Label,languageCode:this.config.captionsTextTrack2LanguageCode},textTrack3:{label:this.config.captionsTextTrack3Label,languageCode:this.config.captionsTextTrack3LanguageCode},textTrack4:{label:this.config.captionsTextTrack4Label,languageCode:this.config.captionsTextTrack4LanguageCode}},this.config.enableCEA708Captions){var g=new o.default(this,"textTrack1"),h=new o.default(this,"textTrack2"),y=new o.default(this,"textTrack3"),b=new o.default(this,"textTrack4");this.cea608Parser1=new i.default(1,g,h),this.cea608Parser2=new i.default(3,y,b)}f.on(a.Events.MEDIA_ATTACHING,this.onMediaAttaching,this),f.on(a.Events.MEDIA_DETACHING,this.onMediaDetaching,this),f.on(a.Events.MANIFEST_LOADING,this.onManifestLoading,this),f.on(a.Events.MANIFEST_LOADED,this.onManifestLoaded,this),f.on(a.Events.SUBTITLE_TRACKS_UPDATED,this.onSubtitleTracksUpdated,this),f.on(a.Events.FRAG_LOADING,this.onFragLoading,this),f.on(a.Events.FRAG_LOADED,this.onFragLoaded,this),f.on(a.Events.FRAG_PARSING_USERDATA,this.onFragParsingUserdata,this),f.on(a.Events.FRAG_DECRYPTED,this.onFragDecrypted,this),f.on(a.Events.INIT_PTS_FOUND,this.onInitPtsFound,this),f.on(a.Events.SUBTITLE_TRACKS_CLEARED,this.onSubtitleTracksCleared,this),f.on(a.Events.BUFFER_FLUSHING,this.onBufferFlushing,this)}var m=E.prototype;return m.destroy=function(){var f=this.hls;f.off(a.Events.MEDIA_ATTACHING,this.onMediaAttaching,this),f.off(a.Events.MEDIA_DETACHING,this.onMediaDetaching,this),f.off(a.Events.MANIFEST_LOADING,this.onManifestLoading,this),f.off(a.Events.MANIFEST_LOADED,this.onManifestLoaded,this),f.off(a.Events.SUBTITLE_TRACKS_UPDATED,this.onSubtitleTracksUpdated,this),f.off(a.Events.FRAG_LOADING,this.onFragLoading,this),f.off(a.Events.FRAG_LOADED,this.onFragLoaded,this),f.off(a.Events.FRAG_PARSING_USERDATA,this.onFragParsingUserdata,this),f.off(a.Events.FRAG_DECRYPTED,this.onFragDecrypted,this),f.off(a.Events.INIT_PTS_FOUND,this.onInitPtsFound,this),f.off(a.Events.SUBTITLE_TRACKS_CLEARED,this.onSubtitleTracksCleared,this),f.off(a.Events.BUFFER_FLUSHING,this.onBufferFlushing,this),this.hls=this.config=this.cea608Parser1=this.cea608Parser2=null},m.addCues=function(f,g,h,y,b){for(var p,C,w,k,_=!1,T=b.length;T--;){var O=b[T],A=(p=O[0],C=O[1],w=g,k=h,Math.min(C,k)-Math.max(p,w));if(A>=0&&(O[0]=Math.min(O[0],g),O[1]=Math.max(O[1],h),_=!0,A/(h-g)>.5))return}if(_||b.push([g,h]),this.config.renderTextTracksNatively){var P=this.captionsTracks[f];this.Cues.newCue(P,g,h,y)}else{var D=this.Cues.newCue(null,g,h,y);this.hls.trigger(a.Events.CUES_PARSED,{type:"captions",cues:D,track:f})}},m.onInitPtsFound=function(f,g){var h=this,y=g.frag,b=g.id,p=g.initPTS,C=g.timescale,w=this.unparsedVttFrags;b==="main"&&(this.initPTS[y.cc]=p,this.timescale[y.cc]=C),w.length&&(this.unparsedVttFrags=[],w.forEach(function(k){h.onFragLoaded(a.Events.FRAG_LOADED,k)}))},m.getExistingTrack=function(f){var g=this.media;if(g)for(var h=0;h<g.textTracks.length;h++){var y=g.textTracks[h];if(y[f])return y}return null},m.createCaptionsTrack=function(f){this.config.renderTextTracksNatively?this.createNativeTrack(f):this.createNonNativeTrack(f)},m.createNativeTrack=function(f){if(!this.captionsTracks[f]){var g=this.captionsProperties,h=this.captionsTracks,y=this.media,b=g[f],p=b.label,C=b.languageCode,w=this.getExistingTrack(f);if(w)h[f]=w,Object(u.clearCurrentCues)(h[f]),Object(u.sendAddTrackEvent)(h[f],y);else{var k=this.createTextTrack("captions",p,C);k&&(k[f]=!0,h[f]=k)}}},m.createNonNativeTrack=function(f){if(!this.nonNativeCaptionsTracks[f]){var g=this.captionsProperties[f];if(g){var h={_id:f,label:g.label,kind:"captions",default:!!g.media&&!!g.media.default,closedCaptions:g.media};this.nonNativeCaptionsTracks[f]=h,this.hls.trigger(a.Events.NON_NATIVE_TEXT_TRACKS_FOUND,{tracks:[h]})}}},m.createTextTrack=function(f,g,h){var y=this.media;if(y)return y.addTextTrack(f,g,h)},m.onMediaAttaching=function(f,g){this.media=g.media,this._cleanTracks()},m.onMediaDetaching=function(){var f=this.captionsTracks;Object.keys(f).forEach(function(g){Object(u.clearCurrentCues)(f[g]),delete f[g]}),this.nonNativeCaptionsTracks={}},m.onManifestLoading=function(){this.lastSn=-1,this.prevCC=-1,this.vttCCs={ccOffset:0,presentationOffset:0,0:{start:0,prevCC:-1,new:!1}},this._cleanTracks(),this.tracks=[],this.captionsTracks={},this.nonNativeCaptionsTracks={},this.textTracks=[],this.unparsedVttFrags=this.unparsedVttFrags||[],this.initPTS=[],this.timescale=[],this.cea608Parser1&&this.cea608Parser2&&(this.cea608Parser1.reset(),this.cea608Parser2.reset())},m._cleanTracks=function(){var f=this.media;if(f){var g=f.textTracks;if(g)for(var h=0;h<g.length;h++)Object(u.clearCurrentCues)(g[h])}},m.onSubtitleTracksUpdated=function(f,g){var h=this;this.textTracks=[];var y=g.subtitleTracks||[],b=y.some(function(k){return k.textCodec===s.IMSC1_CODEC});if(this.config.enableWebVTT||b&&this.config.enableIMSC1){var p=this.tracks&&y&&this.tracks.length===y.length;if(this.tracks=y||[],this.config.renderTextTracksNatively){var C=this.media?this.media.textTracks:[];this.tracks.forEach(function(k,_){var T;if(_<C.length){for(var O=null,A=0;A<C.length;A++)if(S(C[A],k)){O=C[A];break}O&&(T=O)}T?Object(u.clearCurrentCues)(T):(T=h.createTextTrack("subtitles",k.name,k.lang))&&(T.mode="disabled"),T&&(T.groupId=k.groupId,h.textTracks.push(T))})}else if(!p&&this.tracks&&this.tracks.length){var w=this.tracks.map(function(k){return{label:k.name,kind:k.type.toLowerCase(),default:k.default,subtitleTrack:k}});this.hls.trigger(a.Events.NON_NATIVE_TEXT_TRACKS_FOUND,{tracks:w})}}},m.onManifestLoaded=function(f,g){var h=this;this.config.enableCEA708Captions&&g.captions&&g.captions.forEach(function(y){var b=/(?:CC|SERVICE)([1-4])/.exec(y.instreamId);if(b){var p="textTrack"+b[1],C=h.captionsProperties[p];C&&(C.label=y.name,y.lang&&(C.languageCode=y.lang),C.media=y)}})},m.onFragLoading=function(f,g){var h=this.cea608Parser1,y=this.cea608Parser2,b=this.lastSn;if(this.enabled&&h&&y&&g.frag.type===c.PlaylistLevelType.MAIN){var p=g.frag.sn;p!==b+1&&(h.reset(),y.reset()),this.lastSn=p}},m.onFragLoaded=function(f,g){var h=g.frag,y=g.payload,b=this.initPTS,p=this.unparsedVttFrags;if(h.type===c.PlaylistLevelType.SUBTITLE)if(y.byteLength){if(!Object(r.isFiniteNumber)(b[h.cc]))return p.push(g),void(b.length&&this.hls.trigger(a.Events.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:h,error:new Error("Missing initial subtitle PTS")}));var C=h.decryptdata;if(C==null||C.key==null||C.method!=="AES-128"){var w=this.tracks[h.level],k=this.vttCCs;k[h.cc]||(k[h.cc]={start:h.start,prevCC:this.prevCC,new:!0},this.prevCC=h.cc),w&&w.textCodec===s.IMSC1_CODEC?this._parseIMSC1(h,y):this._parseVTTs(h,y,k)}}else this.hls.trigger(a.Events.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:h,error:new Error("Empty subtitle payload")})},m._parseIMSC1=function(f,g){var h=this,y=this.hls;Object(s.parseIMSC1)(g,this.initPTS[f.cc],this.timescale[f.cc],function(b){h._appendCues(b,f.level),y.trigger(a.Events.SUBTITLE_FRAG_PROCESSED,{success:!0,frag:f})},function(b){d.logger.log("Failed to parse IMSC1: "+b),y.trigger(a.Events.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:f,error:b})})},m._parseVTTs=function(f,g,h){var y=this,b=this.hls;Object(l.parseWebVTT)(g,this.initPTS[f.cc],this.timescale[f.cc],h,f.cc,f.start,function(p){y._appendCues(p,f.level),b.trigger(a.Events.SUBTITLE_FRAG_PROCESSED,{success:!0,frag:f})},function(p){y._fallbackToIMSC1(f,g),d.logger.log("Failed to parse VTT cue: "+p),b.trigger(a.Events.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:f,error:p})})},m._fallbackToIMSC1=function(f,g){var h=this,y=this.tracks[f.level];y.textCodec||Object(s.parseIMSC1)(g,this.initPTS[f.cc],this.timescale[f.cc],function(){y.textCodec=s.IMSC1_CODEC,h._parseIMSC1(f,g)},function(){y.textCodec="wvtt"})},m._appendCues=function(f,g){var h=this.hls;if(this.config.renderTextTracksNatively){var y=this.textTracks[g];if(y.mode==="disabled")return;f.forEach(function(p){return Object(u.addCueToTrack)(y,p)})}else{var b=this.tracks[g].default?"default":"subtitles"+g;h.trigger(a.Events.CUES_PARSED,{type:"subtitles",cues:f,track:b})}},m.onFragDecrypted=function(f,g){var h=g.frag;if(h.type===c.PlaylistLevelType.SUBTITLE){if(!Object(r.isFiniteNumber)(this.initPTS[h.cc]))return void this.unparsedVttFrags.push(g);this.onFragLoaded(a.Events.FRAG_LOADED,g)}},m.onSubtitleTracksCleared=function(){this.tracks=[],this.captionsTracks={}},m.onFragParsingUserdata=function(f,g){var h=this.cea608Parser1,y=this.cea608Parser2;if(this.enabled&&h&&y)for(var b=0;b<g.samples.length;b++){var p=g.samples[b].bytes;if(p){var C=this.extractCea608Data(p);h.addData(g.samples[b].pts,C[0]),y.addData(g.samples[b].pts,C[1])}}},m.onBufferFlushing=function(f,g){var h=g.startOffset,y=g.endOffset,b=g.endOffsetSubtitles,p=g.type,C=this.media;if(C&&!(C.currentTime<y)){if(!p||p==="video"){var w=this.captionsTracks;Object.keys(w).forEach(function(_){return Object(u.removeCuesInRange)(w[_],h,y)})}if(this.config.renderTextTracksNatively&&h===0&&b!==void 0){var k=this.textTracks;Object.keys(k).forEach(function(_){return Object(u.removeCuesInRange)(k[_],h,b)})}}},m.extractCea608Data=function(f){for(var g=31&f[0],h=2,y=[[],[]],b=0;b<g;b++){var p=f[h++],C=127&f[h++],w=127&f[h++],k=3&p;C===0&&w===0||(4&p)!=0&&(k!==0&&k!==1||(y[k].push(C),y[k].push(w)))}return y},E}();function S(E,m){return E&&E.label===m.name&&!(E.textTrack1||E.textTrack2)}},"./src/crypt/aes-crypto.ts":function(e,t,n){n.r(t),n.d(t,"default",function(){return r});var r=function(){function a(i,o){this.subtle=void 0,this.aesIV=void 0,this.subtle=i,this.aesIV=o}return a.prototype.decrypt=function(i,o){return this.subtle.decrypt({name:"AES-CBC",iv:this.aesIV},o,i)},a}()},"./src/crypt/aes-decryptor.ts":function(e,t,n){n.r(t),n.d(t,"removePadding",function(){return a}),n.d(t,"default",function(){return i});var r=n("./src/utils/typed-array.ts");function a(o){var l=o.byteLength,u=l&&new DataView(o.buffer).getUint8(l-1);return u?Object(r.sliceUint8)(o,0,l-u):o}var i=function(){function o(){this.rcon=[0,1,2,4,8,16,32,64,128,27,54],this.subMix=[new Uint32Array(256),new Uint32Array(256),new Uint32Array(256),new Uint32Array(256)],this.invSubMix=[new Uint32Array(256),new Uint32Array(256),new Uint32Array(256),new Uint32Array(256)],this.sBox=new Uint32Array(256),this.invSBox=new Uint32Array(256),this.key=new Uint32Array(0),this.ksRows=0,this.keySize=0,this.keySchedule=void 0,this.invKeySchedule=void 0,this.initTable()}var l=o.prototype;return l.uint8ArrayToUint32Array_=function(u){for(var s=new DataView(u),c=new Uint32Array(4),d=0;d<4;d++)c[d]=s.getUint32(4*d);return c},l.initTable=function(){var u=this.sBox,s=this.invSBox,c=this.subMix,d=c[0],v=c[1],S=c[2],E=c[3],m=this.invSubMix,f=m[0],g=m[1],h=m[2],y=m[3],b=new Uint32Array(256),p=0,C=0,w=0;for(w=0;w<256;w++)b[w]=w<128?w<<1:w<<1^283;for(w=0;w<256;w++){var k=C^C<<1^C<<2^C<<3^C<<4;k=k>>>8^255&k^99,u[p]=k,s[k]=p;var _=b[p],T=b[_],O=b[T],A=257*b[k]^16843008*k;d[p]=A<<24|A>>>8,v[p]=A<<16|A>>>16,S[p]=A<<8|A>>>24,E[p]=A,A=16843009*O^65537*T^257*_^16843008*p,f[k]=A<<24|A>>>8,g[k]=A<<16|A>>>16,h[k]=A<<8|A>>>24,y[k]=A,p?(p=_^b[b[b[O^_]]],C^=b[b[C]]):p=C=1}},l.expandKey=function(u){for(var s=this.uint8ArrayToUint32Array_(u),c=!0,d=0;d<s.length&&c;)c=s[d]===this.key[d],d++;if(!c){this.key=s;var v=this.keySize=s.length;if(v!==4&&v!==6&&v!==8)throw new Error("Invalid aes key size="+v);var S,E,m,f,g=this.ksRows=4*(v+6+1),h=this.keySchedule=new Uint32Array(g),y=this.invKeySchedule=new Uint32Array(g),b=this.sBox,p=this.rcon,C=this.invSubMix,w=C[0],k=C[1],_=C[2],T=C[3];for(S=0;S<g;S++)S<v?m=h[S]=s[S]:(f=m,S%v==0?(f=b[(f=f<<8|f>>>24)>>>24]<<24|b[f>>>16&255]<<16|b[f>>>8&255]<<8|b[255&f],f^=p[S/v|0]<<24):v>6&&S%v==4&&(f=b[f>>>24]<<24|b[f>>>16&255]<<16|b[f>>>8&255]<<8|b[255&f]),h[S]=m=(h[S-v]^f)>>>0);for(E=0;E<g;E++)S=g-E,f=3&E?h[S]:h[S-4],y[E]=E<4||S<=4?f:w[b[f>>>24]]^k[b[f>>>16&255]]^_[b[f>>>8&255]]^T[b[255&f]],y[E]=y[E]>>>0}},l.networkToHostOrderSwap=function(u){return u<<24|(65280&u)<<8|(16711680&u)>>8|u>>>24},l.decrypt=function(u,s,c){for(var d,v,S,E,m,f,g,h,y,b,p,C,w,k,_=this.keySize+6,T=this.invKeySchedule,O=this.invSBox,A=this.invSubMix,P=A[0],D=A[1],I=A[2],x=A[3],L=this.uint8ArrayToUint32Array_(c),$=L[0],M=L[1],j=L[2],F=L[3],U=new Int32Array(u),B=new Int32Array(U.length),K=this.networkToHostOrderSwap;s<U.length;){for(y=K(U[s]),b=K(U[s+1]),p=K(U[s+2]),C=K(U[s+3]),m=y^T[0],f=C^T[1],g=p^T[2],h=b^T[3],w=4,k=1;k<_;k++)d=P[m>>>24]^D[f>>16&255]^I[g>>8&255]^x[255&h]^T[w],v=P[f>>>24]^D[g>>16&255]^I[h>>8&255]^x[255&m]^T[w+1],S=P[g>>>24]^D[h>>16&255]^I[m>>8&255]^x[255&f]^T[w+2],E=P[h>>>24]^D[m>>16&255]^I[f>>8&255]^x[255&g]^T[w+3],m=d,f=v,g=S,h=E,w+=4;d=O[m>>>24]<<24^O[f>>16&255]<<16^O[g>>8&255]<<8^O[255&h]^T[w],v=O[f>>>24]<<24^O[g>>16&255]<<16^O[h>>8&255]<<8^O[255&m]^T[w+1],S=O[g>>>24]<<24^O[h>>16&255]<<16^O[m>>8&255]<<8^O[255&f]^T[w+2],E=O[h>>>24]<<24^O[m>>16&255]<<16^O[f>>8&255]<<8^O[255&g]^T[w+3],B[s]=K(d^$),B[s+1]=K(E^M),B[s+2]=K(S^j),B[s+3]=K(v^F),$=y,M=b,j=p,F=C,s+=4}return B.buffer},o}()},"./src/crypt/decrypter.ts":function(e,t,n){n.r(t),n.d(t,"default",function(){return s});var r=n("./src/crypt/aes-crypto.ts"),a=n("./src/crypt/fast-aes-key.ts"),i=n("./src/crypt/aes-decryptor.ts"),o=n("./src/utils/logger.ts"),l=n("./src/utils/mp4-tools.ts"),u=n("./src/utils/typed-array.ts"),s=function(){function c(v,S,E){var m=(E===void 0?{}:E).removePKCS7Padding,f=m===void 0||m;if(this.logEnabled=!0,this.observer=void 0,this.config=void 0,this.removePKCS7Padding=void 0,this.subtle=null,this.softwareDecrypter=null,this.key=null,this.fastAesKey=null,this.remainderData=null,this.currentIV=null,this.currentResult=null,this.observer=v,this.config=S,this.removePKCS7Padding=f,f)try{var g=self.crypto;g&&(this.subtle=g.subtle||g.webkitSubtle)}catch{}this.subtle===null&&(this.config.enableSoftwareAES=!0)}var d=c.prototype;return d.destroy=function(){this.observer=null},d.isSync=function(){return this.config.enableSoftwareAES},d.flush=function(){var v=this.currentResult;if(v){var S=new Uint8Array(v);return this.reset(),this.removePKCS7Padding?Object(i.removePadding)(S):S}this.reset()},d.reset=function(){this.currentResult=null,this.currentIV=null,this.remainderData=null,this.softwareDecrypter&&(this.softwareDecrypter=null)},d.decrypt=function(v,S,E,m){if(this.config.enableSoftwareAES){this.softwareDecrypt(new Uint8Array(v),S,E);var f=this.flush();f&&m(f.buffer)}else this.webCryptoDecrypt(new Uint8Array(v),S,E).then(m)},d.softwareDecrypt=function(v,S,E){var m=this.currentIV,f=this.currentResult,g=this.remainderData;this.logOnce("JS AES decrypt"),g&&(v=Object(l.appendUint8Array)(g,v),this.remainderData=null);var h=this.getValidChunk(v);if(!h.length)return null;m&&(E=m);var y=this.softwareDecrypter;y||(y=this.softwareDecrypter=new i.default),y.expandKey(S);var b=f;return this.currentResult=y.decrypt(h.buffer,0,E),this.currentIV=Object(u.sliceUint8)(h,-16).buffer,b||null},d.webCryptoDecrypt=function(v,S,E){var m=this,f=this.subtle;return this.key===S&&this.fastAesKey||(this.key=S,this.fastAesKey=new a.default(f,S)),this.fastAesKey.expandKey().then(function(g){return f?new r.default(f,E).decrypt(v.buffer,g):Promise.reject(new Error("web crypto not initialized"))}).catch(function(g){return m.onWebCryptoError(g,v,S,E)})},d.onWebCryptoError=function(v,S,E,m){return o.logger.warn("[decrypter.ts]: WebCrypto Error, disable WebCrypto API:",v),this.config.enableSoftwareAES=!0,this.logEnabled=!0,this.softwareDecrypt(S,E,m)},d.getValidChunk=function(v){var S=v,E=v.length-v.length%16;return E!==v.length&&(S=Object(u.sliceUint8)(v,0,E),this.remainderData=Object(u.sliceUint8)(v,E)),S},d.logOnce=function(v){this.logEnabled&&(o.logger.log("[decrypter.ts]: "+v),this.logEnabled=!1)},c}()},"./src/crypt/fast-aes-key.ts":function(e,t,n){n.r(t),n.d(t,"default",function(){return r});var r=function(){function a(i,o){this.subtle=void 0,this.key=void 0,this.subtle=i,this.key=o}return a.prototype.expandKey=function(){return this.subtle.importKey("raw",this.key,{name:"AES-CBC"},!1,["encrypt","decrypt"])},a}()},"./src/demux/aacdemuxer.ts":function(e,t,n){n.r(t);var r=n("./src/demux/base-audio-demuxer.ts"),a=n("./src/demux/adts.ts"),i=n("./src/utils/logger.ts"),o=n("./src/demux/id3.ts");function l(s,c){return(l=Object.setPrototypeOf||function(d,v){return d.__proto__=v,d})(s,c)}var u=function(s){var c,d;function v(E,m){var f;return(f=s.call(this)||this).observer=void 0,f.config=void 0,f.observer=E,f.config=m,f}d=s,(c=v).prototype=Object.create(d.prototype),c.prototype.constructor=c,l(c,d);var S=v.prototype;return S.resetInitSegment=function(E,m,f){s.prototype.resetInitSegment.call(this,E,m,f),this._audioTrack={container:"audio/adts",type:"audio",id:0,pid:-1,sequenceNumber:0,isAAC:!0,samples:[],manifestCodec:E,duration:f,inputTimeScale:9e4,dropped:0}},v.probe=function(E){if(!E)return!1;for(var m=(o.getID3Data(E,0)||[]).length,f=E.length;m<f;m++)if(a.probe(E,m))return i.logger.log("ADTS sync word found !"),!0;return!1},S.canParse=function(E,m){return a.canParse(E,m)},S.appendFrame=function(E,m,f){a.initTrackConfig(E,this.observer,m,f,E.manifestCodec);var g=a.appendFrame(E,m,f,this.initPTS,this.frameIndex);if(g&&g.missing===0)return g},v}(r.default);u.minProbeByteLength=9,t.default=u},"./src/demux/adts.ts":function(e,t,n){n.r(t),n.d(t,"getAudioConfig",function(){return o}),n.d(t,"isHeaderPattern",function(){return l}),n.d(t,"getHeaderLength",function(){return u}),n.d(t,"getFullFrameLength",function(){return s}),n.d(t,"canGetFrameLength",function(){return c}),n.d(t,"isHeader",function(){return d}),n.d(t,"canParse",function(){return v}),n.d(t,"probe",function(){return S}),n.d(t,"initTrackConfig",function(){return E}),n.d(t,"getFrameDuration",function(){return m}),n.d(t,"parseFrameHeader",function(){return f}),n.d(t,"appendFrame",function(){return g});var r=n("./src/utils/logger.ts"),a=n("./src/errors.ts"),i=n("./src/events.ts");function o(h,y,b,p){var C,w,k,_,T=navigator.userAgent.toLowerCase(),O=p,A=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350];C=1+((192&y[b+2])>>>6);var P=(60&y[b+2])>>>2;if(!(P>A.length-1))return k=(1&y[b+2])<<2,k|=(192&y[b+3])>>>6,r.logger.log("manifest codec:"+p+", ADTS type:"+C+", samplingIndex:"+P),/firefox/i.test(T)?P>=6?(C=5,_=new Array(4),w=P-3):(C=2,_=new Array(2),w=P):T.indexOf("android")!==-1?(C=2,_=new Array(2),w=P):(C=5,_=new Array(4),p&&(p.indexOf("mp4a.40.29")!==-1||p.indexOf("mp4a.40.5")!==-1)||!p&&P>=6?w=P-3:((p&&p.indexOf("mp4a.40.2")!==-1&&(P>=6&&k===1||/vivaldi/i.test(T))||!p&&k===1)&&(C=2,_=new Array(2)),w=P)),_[0]=C<<3,_[0]|=(14&P)>>1,_[1]|=(1&P)<<7,_[1]|=k<<3,C===5&&(_[1]|=(14&w)>>1,_[2]=(1&w)<<7,_[2]|=8,_[3]=0),{config:_,samplerate:A[P],channelCount:k,codec:"mp4a.40."+C,manifestCodec:O};h.trigger(i.Events.ERROR,{type:a.ErrorTypes.MEDIA_ERROR,details:a.ErrorDetails.FRAG_PARSING_ERROR,fatal:!0,reason:"invalid ADTS sampling index:"+P})}function l(h,y){return h[y]===255&&(246&h[y+1])==240}function u(h,y){return 1&h[y+1]?7:9}function s(h,y){return(3&h[y+3])<<11|h[y+4]<<3|(224&h[y+5])>>>5}function c(h,y){return y+5<h.length}function d(h,y){return y+1<h.length&&l(h,y)}function v(h,y){return c(h,y)&&l(h,y)&&s(h,y)<=h.length-y}function S(h,y){if(d(h,y)){var b=u(h,y);if(y+b>=h.length)return!1;var p=s(h,y);if(p<=b)return!1;var C=y+p;return C===h.length||d(h,C)}return!1}function E(h,y,b,p,C){if(!h.samplerate){var w=o(y,b,p,C);if(!w)return;h.config=w.config,h.samplerate=w.samplerate,h.channelCount=w.channelCount,h.codec=w.codec,h.manifestCodec=w.manifestCodec,r.logger.log("parsed codec:"+h.codec+", rate:"+w.samplerate+", channels:"+w.channelCount)}}function m(h){return 9216e4/h}function f(h,y,b,p,C){var w=u(h,y),k=s(h,y);if((k-=w)>0)return{headerLength:w,frameLength:k,stamp:b+p*C}}function g(h,y,b,p,C){var w=f(y,b,p,C,m(h.samplerate));if(w){var k,_=w.frameLength,T=w.headerLength,O=w.stamp,A=T+_,P=Math.max(0,b+A-y.length);P?(k=new Uint8Array(A-T)).set(y.subarray(b+T,y.length),0):k=y.subarray(b+T,b+A);var D={unit:k,pts:O};return P||h.samples.push(D),{sample:D,length:A,missing:P}}}},"./src/demux/base-audio-demuxer.ts":function(e,t,n){n.r(t),n.d(t,"initPTSFn",function(){return s});var r=n("./src/polyfills/number.ts"),a=n("./src/demux/id3.ts"),i=n("./src/demux/dummy-demuxed-track.ts"),o=n("./src/utils/mp4-tools.ts"),l=n("./src/utils/typed-array.ts"),u=function(){function c(){this._audioTrack=void 0,this._id3Track=void 0,this.frameIndex=0,this.cachedData=null,this.initPTS=null}var d=c.prototype;return d.resetInitSegment=function(v,S,E){this._id3Track={type:"id3",id:0,pid:-1,inputTimeScale:9e4,sequenceNumber:0,samples:[],dropped:0}},d.resetTimeStamp=function(){},d.resetContiguity=function(){},d.canParse=function(v,S){return!1},d.appendFrame=function(v,S,E){},d.demux=function(v,S){this.cachedData&&(v=Object(o.appendUint8Array)(this.cachedData,v),this.cachedData=null);var E,m,f=a.getID3Data(v,0),g=f?f.length:0,h=this._audioTrack,y=this._id3Track,b=f?a.getTimeStamp(f):void 0,p=v.length;for(this.frameIndex!==0&&this.initPTS!==null||(this.initPTS=s(b,S)),f&&f.length>0&&y.samples.push({pts:this.initPTS,dts:this.initPTS,data:f}),m=this.initPTS;g<p;){if(this.canParse(v,g)){var C=this.appendFrame(h,v,g);C?(this.frameIndex++,m=C.sample.pts,E=g+=C.length):g=p}else a.canParse(v,g)?(f=a.getID3Data(v,g),y.samples.push({pts:m,dts:m,data:f}),E=g+=f.length):g++;if(g===p&&E!==p){var w=Object(l.sliceUint8)(v,E);this.cachedData?this.cachedData=Object(o.appendUint8Array)(this.cachedData,w):this.cachedData=w}}return{audioTrack:h,avcTrack:Object(i.dummyTrack)(),id3Track:y,textTrack:Object(i.dummyTrack)()}},d.demuxSampleAes=function(v,S,E){return Promise.reject(new Error("["+this+"] This demuxer does not support Sample-AES decryption"))},d.flush=function(v){var S=this.cachedData;return S&&(this.cachedData=null,this.demux(S,0)),this.frameIndex=0,{audioTrack:this._audioTrack,avcTrack:Object(i.dummyTrack)(),id3Track:this._id3Track,textTrack:Object(i.dummyTrack)()}},d.destroy=function(){},c}(),s=function(c,d){return Object(r.isFiniteNumber)(c)?90*c:9e4*d};t.default=u},"./src/demux/chunk-cache.ts":function(e,t,n){n.r(t),n.d(t,"default",function(){return r});var r=function(){function a(){this.chunks=[],this.dataLength=0}var i=a.prototype;return i.push=function(o){this.chunks.push(o),this.dataLength+=o.length},i.flush=function(){var o,l=this.chunks,u=this.dataLength;return l.length?(o=l.length===1?l[0]:function(s,c){for(var d=new Uint8Array(c),v=0,S=0;S<s.length;S++){var E=s[S];d.set(E,v),v+=E.length}return d}(l,u),this.reset(),o):new Uint8Array(0)},i.reset=function(){this.chunks.length=0,this.dataLength=0},a}()},"./src/demux/dummy-demuxed-track.ts":function(e,t,n){function r(){return{type:"",id:-1,pid:-1,inputTimeScale:9e4,sequenceNumber:-1,samples:[],dropped:0}}n.r(t),n.d(t,"dummyTrack",function(){return r})},"./src/demux/exp-golomb.ts":function(e,t,n){n.r(t);var r=n("./src/utils/logger.ts"),a=function(){function i(l){this.data=void 0,this.bytesAvailable=void 0,this.word=void 0,this.bitsAvailable=void 0,this.data=l,this.bytesAvailable=l.byteLength,this.word=0,this.bitsAvailable=0}var o=i.prototype;return o.loadWord=function(){var l=this.data,u=this.bytesAvailable,s=l.byteLength-u,c=new Uint8Array(4),d=Math.min(4,u);if(d===0)throw new Error("no bytes available");c.set(l.subarray(s,s+d)),this.word=new DataView(c.buffer).getUint32(0),this.bitsAvailable=8*d,this.bytesAvailable-=d},o.skipBits=function(l){var u;this.bitsAvailable>l?(this.word<<=l,this.bitsAvailable-=l):(l-=this.bitsAvailable,l-=(u=l>>3)>>3,this.bytesAvailable-=u,this.loadWord(),this.word<<=l,this.bitsAvailable-=l)},o.readBits=function(l){var u=Math.min(this.bitsAvailable,l),s=this.word>>>32-u;return l>32&&r.logger.error("Cannot read more than 32 bits at a time"),this.bitsAvailable-=u,this.bitsAvailable>0?this.word<<=u:this.bytesAvailable>0&&this.loadWord(),(u=l-u)>0&&this.bitsAvailable?s<<u|this.readBits(u):s},o.skipLZ=function(){var l;for(l=0;l<this.bitsAvailable;++l)if((this.word&2147483648>>>l)!=0)return this.word<<=l,this.bitsAvailable-=l,l;return this.loadWord(),l+this.skipLZ()},o.skipUEG=function(){this.skipBits(1+this.skipLZ())},o.skipEG=function(){this.skipBits(1+this.skipLZ())},o.readUEG=function(){var l=this.skipLZ();return this.readBits(l+1)-1},o.readEG=function(){var l=this.readUEG();return 1&l?1+l>>>1:-1*(l>>>1)},o.readBoolean=function(){return this.readBits(1)===1},o.readUByte=function(){return this.readBits(8)},o.readUShort=function(){return this.readBits(16)},o.readUInt=function(){return this.readBits(32)},o.skipScalingList=function(l){for(var u=8,s=8,c=0;c<l;c++)s!==0&&(s=(u+this.readEG()+256)%256),u=s===0?u:s},o.readSPS=function(){var l,u,s,c=0,d=0,v=0,S=0,E=this.readUByte.bind(this),m=this.readBits.bind(this),f=this.readUEG.bind(this),g=this.readBoolean.bind(this),h=this.skipBits.bind(this),y=this.skipEG.bind(this),b=this.skipUEG.bind(this),p=this.skipScalingList.bind(this);E();var C=E();if(m(5),h(3),E(),b(),C===100||C===110||C===122||C===244||C===44||C===83||C===86||C===118||C===128){var w=f();if(w===3&&h(1),b(),b(),h(1),g())for(u=w!==3?8:12,s=0;s<u;s++)g()&&p(s<6?16:64)}b();var k=f();if(k===0)f();else if(k===1)for(h(1),y(),y(),l=f(),s=0;s<l;s++)y();b(),h(1);var _=f(),T=f(),O=m(1);O===0&&h(1),h(1),g()&&(c=f(),d=f(),v=f(),S=f());var A=[1,1];if(g()&&g())switch(E()){case 1:A=[1,1];break;case 2:A=[12,11];break;case 3:A=[10,11];break;case 4:A=[16,11];break;case 5:A=[40,33];break;case 6:A=[24,11];break;case 7:A=[20,11];break;case 8:A=[32,11];break;case 9:A=[80,33];break;case 10:A=[18,11];break;case 11:A=[15,11];break;case 12:A=[64,33];break;case 13:A=[160,99];break;case 14:A=[4,3];break;case 15:A=[3,2];break;case 16:A=[2,1];break;case 255:A=[E()<<8|E(),E()<<8|E()]}return{width:Math.ceil(16*(_+1)-2*c-2*d),height:(2-O)*(T+1)*16-(O?2:4)*(v+S),pixelRatio:A}},o.readSliceType=function(){return this.readUByte(),this.readUEG(),this.readUEG()},i}();t.default=a},"./src/demux/id3.ts":function(e,t,n){n.r(t),n.d(t,"isHeader",function(){return a}),n.d(t,"isFooter",function(){return i}),n.d(t,"getID3Data",function(){return o}),n.d(t,"canParse",function(){return u}),n.d(t,"getTimeStamp",function(){return s}),n.d(t,"isTimeStampFrame",function(){return c}),n.d(t,"getID3Frames",function(){return v}),n.d(t,"decodeFrame",function(){return S}),n.d(t,"utf8ArrayToStr",function(){return h}),n.d(t,"testables",function(){return y});var r,a=function(b,p){return p+10<=b.length&&b[p]===73&&b[p+1]===68&&b[p+2]===51&&b[p+3]<255&&b[p+4]<255&&b[p+6]<128&&b[p+7]<128&&b[p+8]<128&&b[p+9]<128},i=function(b,p){return p+10<=b.length&&b[p]===51&&b[p+1]===68&&b[p+2]===73&&b[p+3]<255&&b[p+4]<255&&b[p+6]<128&&b[p+7]<128&&b[p+8]<128&&b[p+9]<128},o=function(b,p){for(var C=p,w=0;a(b,p);)w+=10,w+=l(b,p+6),i(b,p+10)&&(w+=10),p+=w;if(w>0)return b.subarray(C,C+w)},l=function(b,p){var C=0;return C=(127&b[p])<<21,C|=(127&b[p+1])<<14,C|=(127&b[p+2])<<7,C|=127&b[p+3]},u=function(b,p){return a(b,p)&&l(b,p+6)+10<=b.length-p},s=function(b){for(var p=v(b),C=0;C<p.length;C++){var w=p[C];if(c(w))return g(w)}},c=function(b){return b&&b.key==="PRIV"&&b.info==="com.apple.streaming.transportStreamTimestamp"},d=function(b){var p=String.fromCharCode(b[0],b[1],b[2],b[3]),C=l(b,4);return{type:p,size:C,data:b.subarray(10,10+C)}},v=function(b){for(var p=0,C=[];a(b,p);){for(var w=l(b,p+6),k=(p+=10)+w;p+8<k;){var _=d(b.subarray(p)),T=S(_);T&&C.push(T),p+=_.size+10}i(b,p)&&(p+=10)}return C},S=function(b){return b.type==="PRIV"?E(b):b.type[0]==="W"?f(b):m(b)},E=function(b){if(!(b.size<2)){var p=h(b.data,!0),C=new Uint8Array(b.data.subarray(p.length+1));return{key:b.type,info:p,data:C.buffer}}},m=function(b){if(!(b.size<2)){if(b.type==="TXXX"){var p=1,C=h(b.data.subarray(p),!0);p+=C.length+1;var w=h(b.data.subarray(p));return{key:b.type,info:C,data:w}}var k=h(b.data.subarray(1));return{key:b.type,data:k}}},f=function(b){if(b.type==="WXXX"){if(b.size<2)return;var p=1,C=h(b.data.subarray(p),!0);p+=C.length+1;var w=h(b.data.subarray(p));return{key:b.type,info:C,data:w}}var k=h(b.data);return{key:b.type,data:k}},g=function(b){if(b.data.byteLength===8){var p=new Uint8Array(b.data),C=1&p[3],w=(p[4]<<23)+(p[5]<<15)+(p[6]<<7)+p[7];return w/=45,C&&(w+=4772185884e-2),Math.round(w)}},h=function(b,p){p===void 0&&(p=!1);var C=(r||self.TextDecoder===void 0||(r=new self.TextDecoder("utf-8")),r);if(C){var w=C.decode(b);if(p){var k=w.indexOf("\0");return k!==-1?w.substring(0,k):w}return w.replace(/\0/g,"")}for(var _,T,O,A=b.length,P="",D=0;D<A;){if((_=b[D++])===0&&p)return P;if(_!==0&&_!==3)switch(_>>4){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:P+=String.fromCharCode(_);break;case 12:case 13:T=b[D++],P+=String.fromCharCode((31&_)<<6|63&T);break;case 14:T=b[D++],O=b[D++],P+=String.fromCharCode((15&_)<<12|(63&T)<<6|(63&O)<<0)}}return P},y={decodeTextFrame:m}},"./src/demux/mp3demuxer.ts":function(e,t,n){n.r(t);var r=n("./src/demux/base-audio-demuxer.ts"),a=n("./src/demux/id3.ts"),i=n("./src/utils/logger.ts"),o=n("./src/demux/mpegaudio.ts");function l(s,c){return(l=Object.setPrototypeOf||function(d,v){return d.__proto__=v,d})(s,c)}var u=function(s){var c,d;function v(){return s.apply(this,arguments)||this}d=s,(c=v).prototype=Object.create(d.prototype),c.prototype.constructor=c,l(c,d);var S=v.prototype;return S.resetInitSegment=function(E,m,f){s.prototype.resetInitSegment.call(this,E,m,f),this._audioTrack={container:"audio/mpeg",type:"audio",id:0,pid:-1,sequenceNumber:0,isAAC:!1,samples:[],manifestCodec:E,duration:f,inputTimeScale:9e4,dropped:0}},v.probe=function(E){if(!E)return!1;for(var m=(a.getID3Data(E,0)||[]).length,f=E.length;m<f;m++)if(o.probe(E,m))return i.logger.log("MPEG Audio sync word found !"),!0;return!1},S.canParse=function(E,m){return o.canParse(E,m)},S.appendFrame=function(E,m,f){if(this.initPTS!==null)return o.appendFrame(E,m,f,this.initPTS,this.frameIndex)},v}(r.default);u.minProbeByteLength=4,t.default=u},"./src/demux/mp4demuxer.ts":function(e,t,n){n.r(t);var r=n("./src/utils/mp4-tools.ts"),a=n("./src/demux/dummy-demuxed-track.ts"),i=function(){function o(u,s){this.remainderData=null,this.config=void 0,this.config=s}var l=o.prototype;return l.resetTimeStamp=function(){},l.resetInitSegment=function(){},l.resetContiguity=function(){},o.probe=function(u){return Object(r.findBox)({data:u,start:0,end:Math.min(u.length,16384)},["moof"]).length>0},l.demux=function(u){var s=u,c=Object(a.dummyTrack)();if(this.config.progressive){this.remainderData&&(s=Object(r.appendUint8Array)(this.remainderData,u));var d=Object(r.segmentValidRange)(s);this.remainderData=d.remainder,c.samples=d.valid||new Uint8Array}else c.samples=s;return{audioTrack:Object(a.dummyTrack)(),avcTrack:c,id3Track:Object(a.dummyTrack)(),textTrack:Object(a.dummyTrack)()}},l.flush=function(){var u=Object(a.dummyTrack)();return u.samples=this.remainderData||new Uint8Array,this.remainderData=null,{audioTrack:Object(a.dummyTrack)(),avcTrack:u,id3Track:Object(a.dummyTrack)(),textTrack:Object(a.dummyTrack)()}},l.demuxSampleAes=function(u,s,c){return Promise.reject(new Error("The MP4 demuxer does not support SAMPLE-AES decryption"))},l.destroy=function(){},o}();i.minProbeByteLength=1024,t.default=i},"./src/demux/mpegaudio.ts":function(e,t,n){n.r(t),n.d(t,"appendFrame",function(){return u}),n.d(t,"parseHeader",function(){return s}),n.d(t,"isHeaderPattern",function(){return c}),n.d(t,"isHeader",function(){return d}),n.d(t,"canParse",function(){return v}),n.d(t,"probe",function(){return S});var r=null,a=[32,64,96,128,160,192,224,256,288,320,352,384,416,448,32,48,56,64,80,96,112,128,160,192,224,256,320,384,32,40,48,56,64,80,96,112,128,160,192,224,256,320,32,48,56,64,80,96,112,128,144,160,176,192,224,256,8,16,24,32,40,48,56,64,80,96,112,128,144,160],i=[44100,48e3,32e3,22050,24e3,16e3,11025,12e3,8e3],o=[[0,72,144,12],[0,0,0,0],[0,72,144,12],[0,144,144,12]],l=[0,1,1,4];function u(E,m,f,g,h){if(!(f+24>m.length)){var y=s(m,f);if(y&&f+y.frameLength<=m.length){var b=g+h*(9e4*y.samplesPerFrame/y.sampleRate),p={unit:m.subarray(f,f+y.frameLength),pts:b,dts:b};return E.config=[],E.channelCount=y.channelCount,E.samplerate=y.sampleRate,E.samples.push(p),{sample:p,length:y.frameLength,missing:0}}}}function s(E,m){var f=E[m+1]>>3&3,g=E[m+1]>>1&3,h=E[m+2]>>4&15,y=E[m+2]>>2&3;if(f!==1&&h!==0&&h!==15&&y!==3){var b=E[m+2]>>1&1,p=E[m+3]>>6,C=1e3*a[14*(f===3?3-g:g===3?3:4)+h-1],w=i[3*(f===3?0:f===2?1:2)+y],k=p===3?1:2,_=o[f][g],T=l[g],O=8*_*T,A=Math.floor(_*C/w+b)*T;if(r===null){var P=(navigator.userAgent||"").match(/Chrome\/(\d+)/i);r=P?parseInt(P[1]):0}return!!r&&r<=87&&g===2&&C>=224e3&&p===0&&(E[m+3]=128|E[m+3]),{sampleRate:w,channelCount:k,frameLength:A,samplesPerFrame:O}}}function c(E,m){return E[m]===255&&(224&E[m+1])==224&&(6&E[m+1])!=0}function d(E,m){return m+1<E.length&&c(E,m)}function v(E,m){return c(E,m)&&4<=E.length-m}function S(E,m){if(m+1<E.length&&c(E,m)){var f=s(E,m),g=4;f!=null&&f.frameLength&&(g=f.frameLength);var h=m+g;return h===E.length||d(E,h)}return!1}},"./src/demux/sample-aes.ts":function(e,t,n){n.r(t);var r=n("./src/crypt/decrypter.ts"),a=n("./src/demux/tsdemuxer.ts"),i=function(){function o(u,s,c){this.keyData=void 0,this.decrypter=void 0,this.keyData=c,this.decrypter=new r.default(u,s,{removePKCS7Padding:!1})}var l=o.prototype;return l.decryptBuffer=function(u,s){this.decrypter.decrypt(u,this.keyData.key.buffer,this.keyData.iv.buffer,s)},l.decryptAacSample=function(u,s,c,d){var v=u[s].unit,S=v.subarray(16,v.length-v.length%16),E=S.buffer.slice(S.byteOffset,S.byteOffset+S.length),m=this;this.decryptBuffer(E,function(f){var g=new Uint8Array(f);v.set(g,16),d||m.decryptAacSamples(u,s+1,c)})},l.decryptAacSamples=function(u,s,c){for(;;s++){if(s>=u.length)return void c();if(!(u[s].unit.length<32)){var d=this.decrypter.isSync();if(this.decryptAacSample(u,s,c,d),!d)return}}},l.getAvcEncryptedData=function(u){for(var s=16*Math.floor((u.length-48)/160)+16,c=new Int8Array(s),d=0,v=32;v<=u.length-16;v+=160,d+=16)c.set(u.subarray(v,v+16),d);return c},l.getAvcDecryptedUnit=function(u,s){for(var c=new Uint8Array(s),d=0,v=32;v<=u.length-16;v+=160,d+=16)u.set(c.subarray(d,d+16),v);return u},l.decryptAvcSample=function(u,s,c,d,v,S){var E=Object(a.discardEPB)(v.data),m=this.getAvcEncryptedData(E),f=this;this.decryptBuffer(m.buffer,function(g){v.data=f.getAvcDecryptedUnit(E,g),S||f.decryptAvcSamples(u,s,c+1,d)})},l.decryptAvcSamples=function(u,s,c,d){if(u instanceof Uint8Array)throw new Error("Cannot decrypt samples of type Uint8Array");for(;;s++,c=0){if(s>=u.length)return void d();for(var v=u[s].units;!(c>=v.length);c++){var S=v[c];if(!(S.data.length<=48||S.type!==1&&S.type!==5)){var E=this.decrypter.isSync();if(this.decryptAvcSample(u,s,c,d,S,E),!E)return}}}},o}();t.default=i},"./src/demux/transmuxer-interface.ts":function(e,t,n){n.r(t),n.d(t,"default",function(){return d});var r=n("./node_modules/webworkify-webpack/index.js"),a=n("./src/events.ts"),i=n("./src/demux/transmuxer.ts"),o=n("./src/utils/logger.ts"),l=n("./src/errors.ts"),u=n("./src/utils/mediasource-helper.ts"),s=n("./node_modules/eventemitter3/index.js"),c=Object(u.getMediaSource)()||{isTypeSupported:function(){return!1}},d=function(){function v(E,m,f,g){var h=this;this.hls=void 0,this.id=void 0,this.observer=void 0,this.frag=null,this.part=null,this.worker=void 0,this.onwmsg=void 0,this.transmuxer=null,this.onTransmuxComplete=void 0,this.onFlush=void 0,this.hls=E,this.id=m,this.onTransmuxComplete=f,this.onFlush=g;var y=E.config,b=function(k,_){(_=_||{}).frag=h.frag,_.id=h.id,E.trigger(k,_)};this.observer=new s.EventEmitter,this.observer.on(a.Events.FRAG_DECRYPTED,b),this.observer.on(a.Events.ERROR,b);var p={mp4:c.isTypeSupported("video/mp4"),mpeg:c.isTypeSupported("audio/mpeg"),mp3:c.isTypeSupported('audio/mp4; codecs="mp3"')},C=navigator.vendor;if(y.enableWorker&&typeof Worker!="undefined"){var w;o.logger.log("demuxing in webworker");try{w=this.worker=r("./src/demux/transmuxer-worker.ts"),this.onwmsg=this.onWorkerMessage.bind(this),w.addEventListener("message",this.onwmsg),w.onerror=function(k){E.trigger(a.Events.ERROR,{type:l.ErrorTypes.OTHER_ERROR,details:l.ErrorDetails.INTERNAL_EXCEPTION,fatal:!0,event:"demuxerWorker",error:new Error(k.message+"  ("+k.filename+":"+k.lineno+")")})},w.postMessage({cmd:"init",typeSupported:p,vendor:C,id:m,config:JSON.stringify(y)})}catch(k){o.logger.warn("Error in worker:",k),o.logger.error("Error while initializing DemuxerWorker, fallback to inline"),w&&self.URL.revokeObjectURL(w.objectURL),this.transmuxer=new i.default(this.observer,p,y,C,m),this.worker=null}}else this.transmuxer=new i.default(this.observer,p,y,C,m)}var S=v.prototype;return S.destroy=function(){var E=this.worker;if(E)E.removeEventListener("message",this.onwmsg),E.terminate(),this.worker=null;else{var m=this.transmuxer;m&&(m.destroy(),this.transmuxer=null)}var f=this.observer;f&&f.removeAllListeners(),this.observer=null},S.push=function(E,m,f,g,h,y,b,p,C,w){var k=this;C.transmuxing.start=self.performance.now();var _=this.transmuxer,T=this.worker,O=y?y.start:h.start,A=h.decryptdata,P=this.frag,D=!(P&&h.cc===P.cc),I=!(P&&C.level===P.level),x=P?C.sn-P.sn:-1,L=this.part?C.part-this.part.index:1,$=!I&&(x===1||x===0&&L===1),M=self.performance.now();(I||x||h.stats.parsing.start===0)&&(h.stats.parsing.start=M),!y||!L&&$||(y.stats.parsing.start=M);var j=new i.TransmuxState(D,$,p,I,O);if(!$||D){o.logger.log("[transmuxer-interface, "+h.type+"]: Starting new transmux session for sn: "+C.sn+" p: "+C.part+" level: "+C.level+" id: "+C.id+`
        discontinuity: `+D+`
        trackSwitch: `+I+`
        contiguous: `+$+`
        accurateTimeOffset: `+p+`
        timeOffset: `+O);var F=new i.TransmuxConfig(f,g,m,b,w);this.configureTransmuxer(F)}if(this.frag=h,this.part=y,T)T.postMessage({cmd:"demux",data:E,decryptdata:A,chunkMeta:C,state:j},E instanceof ArrayBuffer?[E]:[]);else if(_){var U=_.push(E,A,C,j);Object(i.isPromise)(U)?U.then(function(B){k.handleTransmuxComplete(B)}):this.handleTransmuxComplete(U)}},S.flush=function(E){var m=this;E.transmuxing.start=self.performance.now();var f=this.transmuxer,g=this.worker;if(g)g.postMessage({cmd:"flush",chunkMeta:E});else if(f){var h=f.flush(E);Object(i.isPromise)(h)?h.then(function(y){m.handleFlushResult(y,E)}):this.handleFlushResult(h,E)}},S.handleFlushResult=function(E,m){var f=this;E.forEach(function(g){f.handleTransmuxComplete(g)}),this.onFlush(m)},S.onWorkerMessage=function(E){var m=E.data,f=this.hls;switch(m.event){case"init":self.URL.revokeObjectURL(this.worker.objectURL);break;case"transmuxComplete":this.handleTransmuxComplete(m.data);break;case"flush":this.onFlush(m.data);break;default:m.data=m.data||{},m.data.frag=this.frag,m.data.id=this.id,f.trigger(m.event,m.data)}},S.configureTransmuxer=function(E){var m=this.worker,f=this.transmuxer;m?m.postMessage({cmd:"configure",config:E}):f&&f.configure(E)},S.handleTransmuxComplete=function(E){E.chunkMeta.transmuxing.end=self.performance.now(),this.onTransmuxComplete(E)},v}()},"./src/demux/transmuxer-worker.ts":function(e,t,n){n.r(t),n.d(t,"default",function(){return l});var r=n("./src/demux/transmuxer.ts"),a=n("./src/events.ts"),i=n("./src/utils/logger.ts"),o=n("./node_modules/eventemitter3/index.js");function l(d){var v=new o.EventEmitter,S=function(E,m){d.postMessage({event:E,data:m})};v.on(a.Events.FRAG_DECRYPTED,S),v.on(a.Events.ERROR,S),d.addEventListener("message",function(E){var m=E.data;switch(m.cmd){case"init":var f=JSON.parse(m.config);d.transmuxer=new r.default(v,m.typeSupported,f,m.vendor,m.id),Object(i.enableLogs)(f.debug),S("init",null);break;case"configure":d.transmuxer.configure(m.config);break;case"demux":var g=d.transmuxer.push(m.data,m.decryptdata,m.chunkMeta,m.state);Object(r.isPromise)(g)?g.then(function(b){u(d,b)}):u(d,g);break;case"flush":var h=m.chunkMeta,y=d.transmuxer.flush(h);Object(r.isPromise)(y)?y.then(function(b){c(d,b,h)}):c(d,y,h)}})}function u(d,v){if((S=v.remuxResult).audio||S.video||S.text||S.id3||S.initSegment){var S,E=[],m=v.remuxResult,f=m.audio,g=m.video;f&&s(E,f),g&&s(E,g),d.postMessage({event:"transmuxComplete",data:v},E)}}function s(d,v){v.data1&&d.push(v.data1.buffer),v.data2&&d.push(v.data2.buffer)}function c(d,v,S){v.forEach(function(E){u(d,E)}),d.postMessage({event:"flush",data:S})}},"./src/demux/transmuxer.ts":function(e,t,n){n.r(t),n.d(t,"default",function(){return h}),n.d(t,"isPromise",function(){return b}),n.d(t,"TransmuxConfig",function(){return p}),n.d(t,"TransmuxState",function(){return C});var r,a=n("./src/events.ts"),i=n("./src/errors.ts"),o=n("./src/crypt/decrypter.ts"),l=n("./src/demux/aacdemuxer.ts"),u=n("./src/demux/mp4demuxer.ts"),s=n("./src/demux/tsdemuxer.ts"),c=n("./src/demux/mp3demuxer.ts"),d=n("./src/remux/mp4-remuxer.ts"),v=n("./src/remux/passthrough-remuxer.ts"),S=n("./src/demux/chunk-cache.ts"),E=n("./src/utils/mp4-tools.ts"),m=n("./src/utils/logger.ts");try{r=self.performance.now.bind(self.performance)}catch{m.logger.debug("Unable to use Performance API on this environment"),r=self.Date.now}var f=[{demux:s.default,remux:d.default},{demux:u.default,remux:v.default},{demux:l.default,remux:d.default},{demux:c.default,remux:d.default}],g=1024;f.forEach(function(w){var k=w.demux;g=Math.max(g,k.minProbeByteLength)});var h=function(){function w(_,T,O,A,P){this.observer=void 0,this.typeSupported=void 0,this.config=void 0,this.vendor=void 0,this.id=void 0,this.demuxer=void 0,this.remuxer=void 0,this.decrypter=void 0,this.probe=void 0,this.decryptionPromise=null,this.transmuxConfig=void 0,this.currentTransmuxState=void 0,this.cache=new S.default,this.observer=_,this.typeSupported=T,this.config=O,this.vendor=A,this.id=P}var k=w.prototype;return k.configure=function(_){this.transmuxConfig=_,this.decrypter&&this.decrypter.reset()},k.push=function(_,T,O,A){var P=this,D=O.transmuxing;D.executeStart=r();var I=new Uint8Array(_),x=this.cache,L=this.config,$=this.currentTransmuxState,M=this.transmuxConfig;A&&(this.currentTransmuxState=A);var j=function(ie,le){var Se=null;return ie.byteLength>0&&le!=null&&le.key!=null&&le.iv!==null&&le.method!=null&&(Se=le),Se}(I,T);if(j&&j.method==="AES-128"){var F=this.getDecrypter();if(!L.enableSoftwareAES)return this.decryptionPromise=F.webCryptoDecrypt(I,j.key.buffer,j.iv.buffer).then(function(ie){var le=P.push(ie,null,O);return P.decryptionPromise=null,le}),this.decryptionPromise;var U=F.softwareDecrypt(I,j.key.buffer,j.iv.buffer);if(!U)return D.executeEnd=r(),y(O);I=new Uint8Array(U)}var B=A||$,K=B.contiguous,V=B.discontinuity,X=B.trackSwitch,Z=B.accurateTimeOffset,ne=B.timeOffset,ae=M.audioCodec,ye=M.videoCodec,de=M.defaultInitPts,be=M.duration,G=M.initSegmentData;if((V||X)&&this.resetInitSegment(G,ae,ye,be),V&&this.resetInitialTimestamp(de),K||this.resetContiguity(),this.needsProbing(I,V,X)){if(x.dataLength){var Y=x.flush();I=Object(E.appendUint8Array)(Y,I)}this.configureTransmuxer(I,M)}var Q=this.transmux(I,j,ne,Z,O),re=this.currentTransmuxState;return re.contiguous=!0,re.discontinuity=!1,re.trackSwitch=!1,D.executeEnd=r(),Q},k.flush=function(_){var T=this,O=_.transmuxing;O.executeStart=r();var A=this.decrypter,P=this.cache,D=this.currentTransmuxState,I=this.decryptionPromise;if(I)return I.then(function(){return T.flush(_)});var x=[],L=D.timeOffset;if(A){var $=A.flush();$&&x.push(this.push($,null,_))}var M=P.dataLength;P.reset();var j=this.demuxer,F=this.remuxer;if(!j||!F)return M>=g&&this.observer.emit(a.Events.ERROR,a.Events.ERROR,{type:i.ErrorTypes.MEDIA_ERROR,details:i.ErrorDetails.FRAG_PARSING_ERROR,fatal:!0,reason:"no demux matching with content found"}),O.executeEnd=r(),[y(_)];var U=j.flush(L);return b(U)?U.then(function(B){return T.flushRemux(x,B,_),x}):(this.flushRemux(x,U,_),x)},k.flushRemux=function(_,T,O){var A=T.audioTrack,P=T.avcTrack,D=T.id3Track,I=T.textTrack,x=this.currentTransmuxState,L=x.accurateTimeOffset,$=x.timeOffset;m.logger.log("[transmuxer.ts]: Flushed fragment "+O.sn+(O.part>-1?" p: "+O.part:"")+" of level "+O.level);var M=this.remuxer.remux(A,P,D,I,$,L,!0,this.id);_.push({remuxResult:M,chunkMeta:O}),O.transmuxing.executeEnd=r()},k.resetInitialTimestamp=function(_){var T=this.demuxer,O=this.remuxer;T&&O&&(T.resetTimeStamp(_),O.resetTimeStamp(_))},k.resetContiguity=function(){var _=this.demuxer,T=this.remuxer;_&&T&&(_.resetContiguity(),T.resetNextTimestamp())},k.resetInitSegment=function(_,T,O,A){var P=this.demuxer,D=this.remuxer;P&&D&&(P.resetInitSegment(T,O,A),D.resetInitSegment(_,T,O))},k.destroy=function(){this.demuxer&&(this.demuxer.destroy(),this.demuxer=void 0),this.remuxer&&(this.remuxer.destroy(),this.remuxer=void 0)},k.transmux=function(_,T,O,A,P){return T&&T.method==="SAMPLE-AES"?this.transmuxSampleAes(_,T,O,A,P):this.transmuxUnencrypted(_,O,A,P)},k.transmuxUnencrypted=function(_,T,O,A){var P=this.demuxer.demux(_,T,!1,!this.config.progressive),D=P.audioTrack,I=P.avcTrack,x=P.id3Track,L=P.textTrack;return{remuxResult:this.remuxer.remux(D,I,x,L,T,O,!1,this.id),chunkMeta:A}},k.transmuxSampleAes=function(_,T,O,A,P){var D=this;return this.demuxer.demuxSampleAes(_,T,O).then(function(I){return{remuxResult:D.remuxer.remux(I.audioTrack,I.avcTrack,I.id3Track,I.textTrack,O,A,!1,D.id),chunkMeta:P}})},k.configureTransmuxer=function(_,T){for(var O,A=this.config,P=this.observer,D=this.typeSupported,I=this.vendor,x=T.audioCodec,L=T.defaultInitPts,$=T.duration,M=T.initSegmentData,j=T.videoCodec,F=0,U=f.length;F<U;F++)if(f[F].demux.probe(_)){O=f[F];break}O||(m.logger.warn("Failed to find demuxer by probing frag, treating as mp4 passthrough"),O={demux:u.default,remux:v.default});var B=this.demuxer,K=this.remuxer,V=O.remux,X=O.demux;K&&K instanceof V||(this.remuxer=new V(P,A,D,I)),B&&B instanceof X||(this.demuxer=new X(P,A,D),this.probe=X.probe),this.resetInitSegment(M,x,j,$),this.resetInitialTimestamp(L)},k.needsProbing=function(_,T,O){return!this.demuxer||!this.remuxer||T||O},k.getDecrypter=function(){var _=this.decrypter;return _||(_=this.decrypter=new o.default(this.observer,this.config)),_},w}(),y=function(w){return{remuxResult:{},chunkMeta:w}};function b(w){return"then"in w&&w.then instanceof Function}var p=function(w,k,_,T,O){this.audioCodec=void 0,this.videoCodec=void 0,this.initSegmentData=void 0,this.duration=void 0,this.defaultInitPts=void 0,this.audioCodec=w,this.videoCodec=k,this.initSegmentData=_,this.duration=T,this.defaultInitPts=O},C=function(w,k,_,T,O){this.discontinuity=void 0,this.contiguous=void 0,this.accurateTimeOffset=void 0,this.trackSwitch=void 0,this.timeOffset=void 0,this.discontinuity=w,this.contiguous=k,this.accurateTimeOffset=_,this.trackSwitch=T,this.timeOffset=O}},"./src/demux/tsdemuxer.ts":function(e,t,n){n.r(t),n.d(t,"discardEPB",function(){return b});var r=n("./src/demux/adts.ts"),a=n("./src/demux/mpegaudio.ts"),i=n("./src/demux/exp-golomb.ts"),o=n("./src/demux/id3.ts"),l=n("./src/demux/sample-aes.ts"),u=n("./src/events.ts"),s=n("./src/utils/mp4-tools.ts"),c=n("./src/utils/logger.ts"),d=n("./src/errors.ts"),v={video:1,audio:2,id3:3,text:4},S=function(){function p(w,k,_){this.observer=void 0,this.config=void 0,this.typeSupported=void 0,this.sampleAes=null,this.pmtParsed=!1,this.audioCodec=void 0,this.videoCodec=void 0,this._duration=0,this.aacLastPTS=null,this._initPTS=null,this._initDTS=null,this._pmtId=-1,this._avcTrack=void 0,this._audioTrack=void 0,this._id3Track=void 0,this._txtTrack=void 0,this.aacOverFlow=null,this.avcSample=null,this.remainderData=null,this.observer=w,this.config=k,this.typeSupported=_}p.probe=function(w){var k=p.syncOffset(w);return!(k<0||(k&&c.logger.warn("MPEG2-TS detected but first sync word found @ offset "+k+", junk ahead ?"),0))},p.syncOffset=function(w){for(var k=Math.min(1e3,w.length-564),_=0;_<k;){if(w[_]===71&&w[_+188]===71&&w[_+376]===71)return _;_++}return-1},p.createTrack=function(w,k){return{container:w==="video"||w==="audio"?"video/mp2t":void 0,type:w,id:v[w],pid:-1,inputTimeScale:9e4,sequenceNumber:0,samples:[],dropped:0,duration:w==="audio"?k:void 0}};var C=p.prototype;return C.resetInitSegment=function(w,k,_){this.pmtParsed=!1,this._pmtId=-1,this._avcTrack=p.createTrack("video",_),this._audioTrack=p.createTrack("audio",_),this._id3Track=p.createTrack("id3",_),this._txtTrack=p.createTrack("text",_),this._audioTrack.isAAC=!0,this.aacOverFlow=null,this.aacLastPTS=null,this.avcSample=null,this.audioCodec=w,this.videoCodec=k,this._duration=_},C.resetTimeStamp=function(){},C.resetContiguity=function(){var w=this._audioTrack,k=this._avcTrack,_=this._id3Track;w&&(w.pesData=null),k&&(k.pesData=null),_&&(_.pesData=null),this.aacOverFlow=null,this.aacLastPTS=null},C.demux=function(w,k,_,T){var O;_===void 0&&(_=!1),T===void 0&&(T=!1),_||(this.sampleAes=null);var A=this._avcTrack,P=this._audioTrack,D=this._id3Track,I=A.pid,x=A.pesData,L=P.pid,$=D.pid,M=P.pesData,j=D.pesData,F=!1,U=this.pmtParsed,B=this._pmtId,K=w.length;if(this.remainderData&&(K=(w=Object(s.appendUint8Array)(this.remainderData,w)).length,this.remainderData=null),K<188&&!T)return this.remainderData=w,{audioTrack:P,avcTrack:A,id3Track:D,textTrack:this._txtTrack};var V=Math.max(0,p.syncOffset(w));(K-=(K+V)%188)<w.byteLength&&!T&&(this.remainderData=new Uint8Array(w.buffer,K,w.buffer.byteLength-K));for(var X=V;X<K;X+=188)if(w[X]===71){var Z=!!(64&w[X+1]),ne=((31&w[X+1])<<8)+w[X+2],ae=void 0;if((48&w[X+3])>>4>1){if((ae=X+5+w[X+4])===X+188)continue}else ae=X+4;switch(ne){case I:Z&&(x&&(O=g(x))&&this.parseAVCPES(O,!1),x={data:[],size:0}),x&&(x.data.push(w.subarray(ae,X+188)),x.size+=X+188-ae);break;case L:Z&&(M&&(O=g(M))&&(P.isAAC?this.parseAACPES(O):this.parseMPEGPES(O)),M={data:[],size:0}),M&&(M.data.push(w.subarray(ae,X+188)),M.size+=X+188-ae);break;case $:Z&&(j&&(O=g(j))&&this.parseID3PES(O),j={data:[],size:0}),j&&(j.data.push(w.subarray(ae,X+188)),j.size+=X+188-ae);break;case 0:Z&&(ae+=w[ae]+1),B=this._pmtId=m(w,ae);break;case B:Z&&(ae+=w[ae]+1);var ye=f(w,ae,this.typeSupported.mpeg===!0||this.typeSupported.mp3===!0,_);(I=ye.avc)>0&&(A.pid=I),(L=ye.audio)>0&&(P.pid=L,P.isAAC=ye.isAAC),($=ye.id3)>0&&(D.pid=$),F&&!U&&(c.logger.log("reparse from beginning"),F=!1,X=V-188),U=this.pmtParsed=!0;break;case 17:case 8191:break;default:F=!0}}else this.observer.emit(u.Events.ERROR,u.Events.ERROR,{type:d.ErrorTypes.MEDIA_ERROR,details:d.ErrorDetails.FRAG_PARSING_ERROR,fatal:!1,reason:"TS packet did not start with 0x47"});A.pesData=x,P.pesData=M,D.pesData=j;var de={audioTrack:P,avcTrack:A,id3Track:D,textTrack:this._txtTrack};return T&&this.extractRemainingSamples(de),de},C.flush=function(){var w,k=this.remainderData;return this.remainderData=null,w=k?this.demux(k,-1,!1,!0):{audioTrack:this._audioTrack,avcTrack:this._avcTrack,textTrack:this._txtTrack,id3Track:this._id3Track},this.extractRemainingSamples(w),this.sampleAes?this.decrypt(w,this.sampleAes):w},C.extractRemainingSamples=function(w){var k,_=w.audioTrack,T=w.avcTrack,O=w.id3Track,A=T.pesData,P=_.pesData,D=O.pesData;A&&(k=g(A))?(this.parseAVCPES(k,!0),T.pesData=null):T.pesData=A,P&&(k=g(P))?(_.isAAC?this.parseAACPES(k):this.parseMPEGPES(k),_.pesData=null):(P!=null&&P.size&&c.logger.log("last AAC PES packet truncated,might overlap between fragments"),_.pesData=P),D&&(k=g(D))?(this.parseID3PES(k),O.pesData=null):O.pesData=D},C.demuxSampleAes=function(w,k,_){var T=this.demux(w,_,!0,!this.config.progressive),O=this.sampleAes=new l.default(this.observer,this.config,k);return this.decrypt(T,O)},C.decrypt=function(w,k){return new Promise(function(_){var T=w.audioTrack,O=w.avcTrack;T.samples&&T.isAAC?k.decryptAacSamples(T.samples,0,function(){O.samples?k.decryptAvcSamples(O.samples,0,0,function(){_(w)}):_(w)}):O.samples&&k.decryptAvcSamples(O.samples,0,0,function(){_(w)})})},C.destroy=function(){this._initPTS=this._initDTS=null,this._duration=0},C.parseAVCPES=function(w,k){var _,T=this,O=this._avcTrack,A=this.parseAVCNALu(w.data),P=this.avcSample,D=!1;w.data=null,P&&A.length&&!O.audFound&&(h(P,O),P=this.avcSample=E(!1,w.pts,w.dts,"")),A.forEach(function(I){switch(I.type){case 1:_=!0,P||(P=T.avcSample=E(!0,w.pts,w.dts,"")),P.frame=!0;var x=I.data;if(D&&x.length>4){var L=new i.default(x).readSliceType();L!==2&&L!==4&&L!==7&&L!==9||(P.key=!0)}break;case 5:_=!0,P||(P=T.avcSample=E(!0,w.pts,w.dts,"")),P.key=!0,P.frame=!0;break;case 6:_=!0;var $=new i.default(b(I.data));$.readUByte();for(var M=0,j=0,F=!1,U=0;!F&&$.bytesAvailable>1;){M=0;do M+=U=$.readUByte();while(U===255);j=0;do j+=U=$.readUByte();while(U===255);if(M===4&&$.bytesAvailable!==0){if(F=!0,$.readUByte()===181&&$.readUShort()===49&&$.readUInt()===1195456820&&$.readUByte()===3){for(var B=$.readUByte(),K=31&B,V=[B,$.readUByte()],X=0;X<K;X++)V.push($.readUByte()),V.push($.readUByte()),V.push($.readUByte());y(T._txtTrack.samples,{type:3,pts:w.pts,bytes:V})}}else if(M===5&&$.bytesAvailable!==0){if(F=!0,j>16){for(var Z=[],ne=0;ne<16;ne++)Z.push($.readUByte().toString(16)),ne!==3&&ne!==5&&ne!==7&&ne!==9||Z.push("-");for(var ae=j-16,ye=new Uint8Array(ae),de=0;de<ae;de++)ye[de]=$.readUByte();y(T._txtTrack.samples,{pts:w.pts,payloadType:M,uuid:Z.join(""),userData:Object(o.utf8ArrayToStr)(ye),userDataBytes:ye})}}else if(j<$.bytesAvailable)for(var be=0;be<j;be++)$.readUByte()}break;case 7:if(_=!0,D=!0,!O.sps){var G=new i.default(I.data).readSPS();O.width=G.width,O.height=G.height,O.pixelRatio=G.pixelRatio,O.sps=[I.data],O.duration=T._duration;for(var Y=I.data.subarray(1,4),Q="avc1.",re=0;re<3;re++){var ie=Y[re].toString(16);ie.length<2&&(ie="0"+ie),Q+=ie}O.codec=Q}break;case 8:_=!0,O.pps||(O.pps=[I.data]);break;case 9:_=!1,O.audFound=!0,P&&h(P,O),P=T.avcSample=E(!1,w.pts,w.dts,"");break;case 12:_=!1;break;default:_=!1,P&&(P.debug+="unknown NAL "+I.type+" ")}P&&_&&P.units.push(I)}),k&&P&&(h(P,O),this.avcSample=null)},C.getLastNalUnit=function(){var w,k,_=this.avcSample;if(!_||_.units.length===0){var T=this._avcTrack.samples;_=T[T.length-1]}if((w=_)!==null&&w!==void 0&&w.units){var O=_.units;k=O[O.length-1]}return k},C.parseAVCNALu=function(w){var k,_,T=w.byteLength,O=this._avcTrack,A=O.naluState||0,P=A,D=[],I=0,x=-1,L=0;for(A===-1&&(x=0,L=31&w[0],A=0,I=1);I<T;)if(k=w[I++],A)if(A!==1)if(k)if(k===1){if(x>=0){var $={data:w.subarray(x,I-A-1),type:L};D.push($)}else{var M=this.getLastNalUnit();if(M&&(P&&I<=4-P&&M.state&&(M.data=M.data.subarray(0,M.data.byteLength-P)),(_=I-A-1)>0)){var j=new Uint8Array(M.data.byteLength+_);j.set(M.data,0),j.set(w.subarray(0,_),M.data.byteLength),M.data=j}}I<T?(x=I,L=31&w[I],A=0):A=-1}else A=0;else A=3;else A=k?0:2;else A=k?0:1;if(x>=0&&A>=0){var F={data:w.subarray(x,T),type:L,state:A};D.push(F)}if(D.length===0){var U=this.getLastNalUnit();if(U){var B=new Uint8Array(U.data.byteLength+w.byteLength);B.set(U.data,0),B.set(w,U.data.byteLength),U.data=B}}return O.naluState=A,D},C.parseAACPES=function(w){var k,_,T,O,A,P=0,D=this._audioTrack,I=this.aacOverFlow,x=w.data;if(I){this.aacOverFlow=null;var L=I.sample.unit.byteLength,$=Math.min(I.missing,L),M=L-$;I.sample.unit.set(x.subarray(0,$),M),D.samples.push(I.sample),P=I.missing}for(k=P,_=x.length;k<_-1&&!r.isHeader(x,k);k++);if(k===P||(k<_-1?(T="AAC PES did not start with ADTS header,offset:"+k,O=!1):(T="no ADTS header found in AAC PES",O=!0),c.logger.warn("parsing error:"+T),this.observer.emit(u.Events.ERROR,u.Events.ERROR,{type:d.ErrorTypes.MEDIA_ERROR,details:d.ErrorDetails.FRAG_PARSING_ERROR,fatal:O,reason:T}),!O)){if(r.initTrackConfig(D,this.observer,x,k,this.audioCodec),w.pts!==void 0)A=w.pts;else{if(!I)return void c.logger.warn("[tsdemuxer]: AAC PES unknown PTS");var j=r.getFrameDuration(D.samplerate);A=I.sample.pts+j}for(var F=0;k<_;){if(r.isHeader(x,k)){if(k+5<_){var U=r.appendFrame(D,x,k,A,F);if(U){if(!U.missing){k+=U.length,F++;continue}this.aacOverFlow=U}}break}k++}}},C.parseMPEGPES=function(w){var k=w.data,_=k.length,T=0,O=0,A=w.pts;if(A!==void 0)for(;O<_;)if(a.isHeader(k,O)){var P=a.appendFrame(this._audioTrack,k,O,A,T);if(!P)break;O+=P.length,T++}else O++;else c.logger.warn("[tsdemuxer]: MPEG PES unknown PTS")},C.parseID3PES=function(w){w.pts!==void 0?this._id3Track.samples.push(w):c.logger.warn("[tsdemuxer]: ID3 PES unknown PTS")},p}();function E(p,C,w,k){return{key:p,frame:!1,pts:C,dts:w,units:[],debug:k,length:0}}function m(p,C){return(31&p[C+10])<<8|p[C+11]}function f(p,C,w,k){var _={audio:-1,avc:-1,id3:-1,isAAC:!0},T=C+3+((15&p[C+1])<<8|p[C+2])-4;for(C+=12+((15&p[C+10])<<8|p[C+11]);C<T;){var O=(31&p[C+1])<<8|p[C+2];switch(p[C]){case 207:if(!k){c.logger.log("ADTS AAC with AES-128-CBC frame encryption found in unencrypted stream");break}case 15:_.audio===-1&&(_.audio=O);break;case 21:_.id3===-1&&(_.id3=O);break;case 219:if(!k){c.logger.log("H.264 with AES-128-CBC slice encryption found in unencrypted stream");break}case 27:_.avc===-1&&(_.avc=O);break;case 3:case 4:w?_.audio===-1&&(_.audio=O,_.isAAC=!1):c.logger.log("MPEG audio found, not supported in this browser");break;case 36:c.logger.warn("Unsupported HEVC stream type found")}C+=5+((15&p[C+3])<<8|p[C+4])}return _}function g(p){var C,w,k,_,T,O=0,A=p.data;if(!p||p.size===0)return null;for(;A[0].length<19&&A.length>1;){var P=new Uint8Array(A[0].length+A[1].length);P.set(A[0]),P.set(A[1],A[0].length),A[0]=P,A.splice(1,1)}if(((C=A[0])[0]<<16)+(C[1]<<8)+C[2]===1){if((w=(C[4]<<8)+C[5])&&w>p.size-6)return null;var D=C[7];192&D&&(_=536870912*(14&C[9])+4194304*(255&C[10])+16384*(254&C[11])+128*(255&C[12])+(254&C[13])/2,64&D?_-(T=536870912*(14&C[14])+4194304*(255&C[15])+16384*(254&C[16])+128*(255&C[17])+(254&C[18])/2)>54e5&&(c.logger.warn(Math.round((_-T)/9e4)+"s delta between PTS and DTS, align them"),_=T):T=_);var I=(k=C[8])+9;if(p.size<=I)return null;p.size-=I;for(var x=new Uint8Array(p.size),L=0,$=A.length;L<$;L++){var M=(C=A[L]).byteLength;if(I){if(I>M){I-=M;continue}C=C.subarray(I),M-=I,I=0}x.set(C,O),O+=M}return w&&(w-=k+3),{data:x,pts:_,dts:T,len:w}}return null}function h(p,C){if(p.units.length&&p.frame){if(p.pts===void 0){var w=C.samples,k=w.length;if(!k)return void C.dropped++;var _=w[k-1];p.pts=_.pts,p.dts=_.dts}C.samples.push(p)}p.debug.length&&c.logger.log(p.pts+"/"+p.dts+":"+p.debug)}function y(p,C){var w=p.length;if(w>0){if(C.pts>=p[w-1].pts)p.push(C);else for(var k=w-1;k>=0;k--)if(C.pts<p[k].pts){p.splice(k,0,C);break}}else p.push(C)}function b(p){for(var C=p.byteLength,w=[],k=1;k<C-2;)p[k]===0&&p[k+1]===0&&p[k+2]===3?(w.push(k+2),k+=2):k++;if(w.length===0)return p;var _=C-w.length,T=new Uint8Array(_),O=0;for(k=0;k<_;O++,k++)O===w[0]&&(O++,w.shift()),T[k]=p[O];return T}S.minProbeByteLength=188,t.default=S},"./src/errors.ts":function(e,t,n){var r,a,i,o;n.r(t),n.d(t,"ErrorTypes",function(){return r}),n.d(t,"ErrorDetails",function(){return i}),(a=r||(r={})).NETWORK_ERROR="networkError",a.MEDIA_ERROR="mediaError",a.KEY_SYSTEM_ERROR="keySystemError",a.MUX_ERROR="muxError",a.OTHER_ERROR="otherError",(o=i||(i={})).KEY_SYSTEM_NO_KEYS="keySystemNoKeys",o.KEY_SYSTEM_NO_ACCESS="keySystemNoAccess",o.KEY_SYSTEM_NO_SESSION="keySystemNoSession",o.KEY_SYSTEM_LICENSE_REQUEST_FAILED="keySystemLicenseRequestFailed",o.KEY_SYSTEM_NO_INIT_DATA="keySystemNoInitData",o.MANIFEST_LOAD_ERROR="manifestLoadError",o.MANIFEST_LOAD_TIMEOUT="manifestLoadTimeOut",o.MANIFEST_PARSING_ERROR="manifestParsingError",o.MANIFEST_INCOMPATIBLE_CODECS_ERROR="manifestIncompatibleCodecsError",o.LEVEL_EMPTY_ERROR="levelEmptyError",o.LEVEL_LOAD_ERROR="levelLoadError",o.LEVEL_LOAD_TIMEOUT="levelLoadTimeOut",o.LEVEL_SWITCH_ERROR="levelSwitchError",o.AUDIO_TRACK_LOAD_ERROR="audioTrackLoadError",o.AUDIO_TRACK_LOAD_TIMEOUT="audioTrackLoadTimeOut",o.SUBTITLE_LOAD_ERROR="subtitleTrackLoadError",o.SUBTITLE_TRACK_LOAD_TIMEOUT="subtitleTrackLoadTimeOut",o.FRAG_LOAD_ERROR="fragLoadError",o.FRAG_LOAD_TIMEOUT="fragLoadTimeOut",o.FRAG_DECRYPT_ERROR="fragDecryptError",o.FRAG_PARSING_ERROR="fragParsingError",o.REMUX_ALLOC_ERROR="remuxAllocError",o.KEY_LOAD_ERROR="keyLoadError",o.KEY_LOAD_TIMEOUT="keyLoadTimeOut",o.BUFFER_ADD_CODEC_ERROR="bufferAddCodecError",o.BUFFER_INCOMPATIBLE_CODECS_ERROR="bufferIncompatibleCodecsError",o.BUFFER_APPEND_ERROR="bufferAppendError",o.BUFFER_APPENDING_ERROR="bufferAppendingError",o.BUFFER_STALLED_ERROR="bufferStalledError",o.BUFFER_FULL_ERROR="bufferFullError",o.BUFFER_SEEK_OVER_HOLE="bufferSeekOverHole",o.BUFFER_NUDGE_ON_STALL="bufferNudgeOnStall",o.INTERNAL_EXCEPTION="internalException",o.INTERNAL_ABORTED="aborted",o.UNKNOWN="unknown"},"./src/events.ts":function(e,t,n){var r,a;n.r(t),n.d(t,"Events",function(){return r}),(a=r||(r={})).MEDIA_ATTACHING="hlsMediaAttaching",a.MEDIA_ATTACHED="hlsMediaAttached",a.MEDIA_DETACHING="hlsMediaDetaching",a.MEDIA_DETACHED="hlsMediaDetached",a.BUFFER_RESET="hlsBufferReset",a.BUFFER_CODECS="hlsBufferCodecs",a.BUFFER_CREATED="hlsBufferCreated",a.BUFFER_APPENDING="hlsBufferAppending",a.BUFFER_APPENDED="hlsBufferAppended",a.BUFFER_EOS="hlsBufferEos",a.BUFFER_FLUSHING="hlsBufferFlushing",a.BUFFER_FLUSHED="hlsBufferFlushed",a.MANIFEST_LOADING="hlsManifestLoading",a.MANIFEST_LOADED="hlsManifestLoaded",a.MANIFEST_PARSED="hlsManifestParsed",a.LEVEL_SWITCHING="hlsLevelSwitching",a.LEVEL_SWITCHED="hlsLevelSwitched",a.LEVEL_LOADING="hlsLevelLoading",a.LEVEL_LOADED="hlsLevelLoaded",a.LEVEL_UPDATED="hlsLevelUpdated",a.LEVEL_PTS_UPDATED="hlsLevelPtsUpdated",a.LEVELS_UPDATED="hlsLevelsUpdated",a.AUDIO_TRACKS_UPDATED="hlsAudioTracksUpdated",a.AUDIO_TRACK_SWITCHING="hlsAudioTrackSwitching",a.AUDIO_TRACK_SWITCHED="hlsAudioTrackSwitched",a.AUDIO_TRACK_LOADING="hlsAudioTrackLoading",a.AUDIO_TRACK_LOADED="hlsAudioTrackLoaded",a.SUBTITLE_TRACKS_UPDATED="hlsSubtitleTracksUpdated",a.SUBTITLE_TRACKS_CLEARED="hlsSubtitleTracksCleared",a.SUBTITLE_TRACK_SWITCH="hlsSubtitleTrackSwitch",a.SUBTITLE_TRACK_LOADING="hlsSubtitleTrackLoading",a.SUBTITLE_TRACK_LOADED="hlsSubtitleTrackLoaded",a.SUBTITLE_FRAG_PROCESSED="hlsSubtitleFragProcessed",a.CUES_PARSED="hlsCuesParsed",a.NON_NATIVE_TEXT_TRACKS_FOUND="hlsNonNativeTextTracksFound",a.INIT_PTS_FOUND="hlsInitPtsFound",a.FRAG_LOADING="hlsFragLoading",a.FRAG_LOAD_EMERGENCY_ABORTED="hlsFragLoadEmergencyAborted",a.FRAG_LOADED="hlsFragLoaded",a.FRAG_DECRYPTED="hlsFragDecrypted",a.FRAG_PARSING_INIT_SEGMENT="hlsFragParsingInitSegment",a.FRAG_PARSING_USERDATA="hlsFragParsingUserdata",a.FRAG_PARSING_METADATA="hlsFragParsingMetadata",a.FRAG_PARSED="hlsFragParsed",a.FRAG_BUFFERED="hlsFragBuffered",a.FRAG_CHANGED="hlsFragChanged",a.FPS_DROP="hlsFpsDrop",a.FPS_DROP_LEVEL_CAPPING="hlsFpsDropLevelCapping",a.ERROR="hlsError",a.DESTROYING="hlsDestroying",a.KEY_LOADING="hlsKeyLoading",a.KEY_LOADED="hlsKeyLoaded",a.LIVE_BACK_BUFFER_REACHED="hlsLiveBackBufferReached",a.BACK_BUFFER_REACHED="hlsBackBufferReached"},"./src/hls.ts":function(e,t,n){n.r(t),n.d(t,"default",function(){return h});var r=n("./node_modules/url-toolkit/src/url-toolkit.js"),a=n("./src/loader/playlist-loader.ts"),i=n("./src/loader/key-loader.ts"),o=n("./src/controller/id3-track-controller.ts"),l=n("./src/controller/latency-controller.ts"),u=n("./src/controller/level-controller.ts"),s=n("./src/controller/fragment-tracker.ts"),c=n("./src/controller/stream-controller.ts"),d=n("./src/is-supported.ts"),v=n("./src/utils/logger.ts"),S=n("./src/config.ts"),E=n("./node_modules/eventemitter3/index.js"),m=n("./src/events.ts"),f=n("./src/errors.ts");function g(y,b){for(var p=0;p<b.length;p++){var C=b[p];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(y,C.key,C)}}var h=function(){function y(k){k===void 0&&(k={}),this.config=void 0,this.userConfig=void 0,this.coreComponents=void 0,this.networkControllers=void 0,this._emitter=new E.EventEmitter,this._autoLevelCapping=void 0,this.abrController=void 0,this.bufferController=void 0,this.capLevelController=void 0,this.latencyController=void 0,this.levelController=void 0,this.streamController=void 0,this.audioTrackController=void 0,this.subtitleTrackController=void 0,this.emeController=void 0,this._media=null,this.url=null;var _=this.config=Object(S.mergeConfig)(y.DefaultConfig,k);this.userConfig=k,Object(v.enableLogs)(_.debug),this._autoLevelCapping=-1,_.progressive&&Object(S.enableStreamingMode)(_);var T=_.abrController,O=_.bufferController,A=_.capLevelController,P=_.fpsController,D=this.abrController=new T(this),I=this.bufferController=new O(this),x=this.capLevelController=new A(this),L=new P(this),$=new a.default(this),M=new i.default(this),j=new o.default(this),F=this.levelController=new u.default(this),U=new s.FragmentTracker(this),B=this.streamController=new c.default(this,U);x.setStreamController(B),L.setStreamController(B);var K=[F,B];this.networkControllers=K;var V=[$,M,D,I,x,L,j,U];this.audioTrackController=this.createController(_.audioTrackController,null,K),this.createController(_.audioStreamController,U,K),this.subtitleTrackController=this.createController(_.subtitleTrackController,null,K),this.createController(_.subtitleStreamController,U,K),this.createController(_.timelineController,null,V),this.emeController=this.createController(_.emeController,null,V),this.latencyController=this.createController(l.default,null,V),this.coreComponents=V}y.isSupported=function(){return Object(d.isSupported)()};var b,p,C,w=y.prototype;return w.createController=function(k,_,T){if(k){var O=_?new k(this,_):new k(this);return T&&T.push(O),O}return null},w.on=function(k,_,T){T===void 0&&(T=this),this._emitter.on(k,_,T)},w.once=function(k,_,T){T===void 0&&(T=this),this._emitter.once(k,_,T)},w.removeAllListeners=function(k){this._emitter.removeAllListeners(k)},w.off=function(k,_,T,O){T===void 0&&(T=this),this._emitter.off(k,_,T,O)},w.listeners=function(k){return this._emitter.listeners(k)},w.emit=function(k,_,T){return this._emitter.emit(k,_,T)},w.trigger=function(k,_){if(this.config.debug)return this.emit(k,k,_);try{return this.emit(k,k,_)}catch(T){v.logger.error("An internal error happened while handling event "+k+'. Error message: "'+T.message+'". Here is a stacktrace:',T),this.trigger(m.Events.ERROR,{type:f.ErrorTypes.OTHER_ERROR,details:f.ErrorDetails.INTERNAL_EXCEPTION,fatal:!1,event:k,error:T})}return!1},w.listenerCount=function(k){return this._emitter.listenerCount(k)},w.destroy=function(){v.logger.log("destroy"),this.trigger(m.Events.DESTROYING,void 0),this.detachMedia(),this.removeAllListeners(),this._autoLevelCapping=-1,this.url=null,this.networkControllers.forEach(function(k){return k.destroy()}),this.networkControllers.length=0,this.coreComponents.forEach(function(k){return k.destroy()}),this.coreComponents.length=0},w.attachMedia=function(k){v.logger.log("attachMedia"),this._media=k,this.trigger(m.Events.MEDIA_ATTACHING,{media:k})},w.detachMedia=function(){v.logger.log("detachMedia"),this.trigger(m.Events.MEDIA_DETACHING,void 0),this._media=null},w.loadSource=function(k){this.stopLoad();var _=this.media,T=this.url,O=this.url=r.buildAbsoluteURL(self.location.href,k,{alwaysNormalize:!0});v.logger.log("loadSource:"+O),_&&T&&T!==O&&this.bufferController.hasSourceTypes()&&(this.detachMedia(),this.attachMedia(_)),this.trigger(m.Events.MANIFEST_LOADING,{url:k})},w.startLoad=function(k){k===void 0&&(k=-1),v.logger.log("startLoad("+k+")"),this.networkControllers.forEach(function(_){_.startLoad(k)})},w.stopLoad=function(){v.logger.log("stopLoad"),this.networkControllers.forEach(function(k){k.stopLoad()})},w.swapAudioCodec=function(){v.logger.log("swapAudioCodec"),this.streamController.swapAudioCodec()},w.recoverMediaError=function(){v.logger.log("recoverMediaError");var k=this._media;this.detachMedia(),k&&this.attachMedia(k)},w.removeLevel=function(k,_){_===void 0&&(_=0),this.levelController.removeLevel(k,_)},b=y,C=[{key:"version",get:function(){return"1.0.10"}},{key:"Events",get:function(){return m.Events}},{key:"ErrorTypes",get:function(){return f.ErrorTypes}},{key:"ErrorDetails",get:function(){return f.ErrorDetails}},{key:"DefaultConfig",get:function(){return y.defaultConfig?y.defaultConfig:S.hlsDefaultConfig},set:function(k){y.defaultConfig=k}}],(p=[{key:"levels",get:function(){var k=this.levelController.levels;return k||[]}},{key:"currentLevel",get:function(){return this.streamController.currentLevel},set:function(k){v.logger.log("set currentLevel:"+k),this.loadLevel=k,this.abrController.clearTimer(),this.streamController.immediateLevelSwitch()}},{key:"nextLevel",get:function(){return this.streamController.nextLevel},set:function(k){v.logger.log("set nextLevel:"+k),this.levelController.manualLevel=k,this.streamController.nextLevelSwitch()}},{key:"loadLevel",get:function(){return this.levelController.level},set:function(k){v.logger.log("set loadLevel:"+k),this.levelController.manualLevel=k}},{key:"nextLoadLevel",get:function(){return this.levelController.nextLoadLevel},set:function(k){this.levelController.nextLoadLevel=k}},{key:"firstLevel",get:function(){return Math.max(this.levelController.firstLevel,this.minAutoLevel)},set:function(k){v.logger.log("set firstLevel:"+k),this.levelController.firstLevel=k}},{key:"startLevel",get:function(){return this.levelController.startLevel},set:function(k){v.logger.log("set startLevel:"+k),k!==-1&&(k=Math.max(k,this.minAutoLevel)),this.levelController.startLevel=k}},{key:"capLevelToPlayerSize",get:function(){return this.config.capLevelToPlayerSize},set:function(k){var _=!!k;_!==this.config.capLevelToPlayerSize&&(_?this.capLevelController.startCapping():(this.capLevelController.stopCapping(),this.autoLevelCapping=-1,this.streamController.nextLevelSwitch()),this.config.capLevelToPlayerSize=_)}},{key:"autoLevelCapping",get:function(){return this._autoLevelCapping},set:function(k){this._autoLevelCapping!==k&&(v.logger.log("set autoLevelCapping:"+k),this._autoLevelCapping=k)}},{key:"bandwidthEstimate",get:function(){var k=this.abrController.bwEstimator;return k?k.getEstimate():NaN}},{key:"autoLevelEnabled",get:function(){return this.levelController.manualLevel===-1}},{key:"manualLevel",get:function(){return this.levelController.manualLevel}},{key:"minAutoLevel",get:function(){var k=this.levels,_=this.config.minAutoBitrate;if(!k)return 0;for(var T=k.length,O=0;O<T;O++)if(k[O].maxBitrate>_)return O;return 0}},{key:"maxAutoLevel",get:function(){var k=this.levels,_=this.autoLevelCapping;return _===-1&&k&&k.length?k.length-1:_}},{key:"nextAutoLevel",get:function(){return Math.min(Math.max(this.abrController.nextAutoLevel,this.minAutoLevel),this.maxAutoLevel)},set:function(k){this.abrController.nextAutoLevel=Math.max(this.minAutoLevel,k)}},{key:"audioTracks",get:function(){var k=this.audioTrackController;return k?k.audioTracks:[]}},{key:"audioTrack",get:function(){var k=this.audioTrackController;return k?k.audioTrack:-1},set:function(k){var _=this.audioTrackController;_&&(_.audioTrack=k)}},{key:"subtitleTracks",get:function(){var k=this.subtitleTrackController;return k?k.subtitleTracks:[]}},{key:"subtitleTrack",get:function(){var k=this.subtitleTrackController;return k?k.subtitleTrack:-1},set:function(k){var _=this.subtitleTrackController;_&&(_.subtitleTrack=k)}},{key:"media",get:function(){return this._media}},{key:"subtitleDisplay",get:function(){var k=this.subtitleTrackController;return!!k&&k.subtitleDisplay},set:function(k){var _=this.subtitleTrackController;_&&(_.subtitleDisplay=k)}},{key:"lowLatencyMode",get:function(){return this.config.lowLatencyMode},set:function(k){this.config.lowLatencyMode=k}},{key:"liveSyncPosition",get:function(){return this.latencyController.liveSyncPosition}},{key:"latency",get:function(){return this.latencyController.latency}},{key:"maxLatency",get:function(){return this.latencyController.maxLatency}},{key:"targetLatency",get:function(){return this.latencyController.targetLatency}},{key:"drift",get:function(){return this.latencyController.drift}},{key:"forceStartLoad",get:function(){return this.streamController.forceStartLoad}}])&&g(b.prototype,p),C&&g(b,C),y}();h.defaultConfig=void 0},"./src/is-supported.ts":function(e,t,n){n.r(t),n.d(t,"isSupported",function(){return i}),n.d(t,"changeTypeSupported",function(){return o});var r=n("./src/utils/mediasource-helper.ts");function a(){return self.SourceBuffer||self.WebKitSourceBuffer}function i(){var l=Object(r.getMediaSource)();if(!l)return!1;var u=a(),s=l&&typeof l.isTypeSupported=="function"&&l.isTypeSupported('video/mp4; codecs="avc1.42E01E,mp4a.40.2"'),c=!u||u.prototype&&typeof u.prototype.appendBuffer=="function"&&typeof u.prototype.remove=="function";return!!s&&!!c}function o(){var l,u=a();return typeof(u==null||(l=u.prototype)===null||l===void 0?void 0:l.changeType)=="function"}},"./src/loader/fragment-loader.ts":function(e,t,n){n.r(t),n.d(t,"default",function(){return d}),n.d(t,"LoadError",function(){return S});var r=n("./src/polyfills/number.ts"),a=n("./src/errors.ts");function i(E){var m=typeof Map=="function"?new Map:void 0;return(i=function(f){if(f===null||(g=f,Function.toString.call(g).indexOf("[native code]")===-1))return f;var g;if(typeof f!="function")throw new TypeError("Super expression must either be null or a function");if(m!==void 0){if(m.has(f))return m.get(f);m.set(f,h)}function h(){return o(f,arguments,s(this).constructor)}return h.prototype=Object.create(f.prototype,{constructor:{value:h,enumerable:!1,writable:!0,configurable:!0}}),u(h,f)})(E)}function o(E,m,f){return(o=l()?Reflect.construct:function(g,h,y){var b=[null];b.push.apply(b,h);var p=new(Function.bind.apply(g,b));return y&&u(p,y.prototype),p}).apply(null,arguments)}function l(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function u(E,m){return(u=Object.setPrototypeOf||function(f,g){return f.__proto__=g,f})(E,m)}function s(E){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(m){return m.__proto__||Object.getPrototypeOf(m)})(E)}var c=Math.pow(2,17),d=function(){function E(f){this.config=void 0,this.loader=null,this.partLoadTimeout=-1,this.config=f}var m=E.prototype;return m.destroy=function(){this.loader&&(this.loader.destroy(),this.loader=null)},m.abort=function(){this.loader&&this.loader.abort()},m.load=function(f,g){var h=this,y=f.url;if(!y)return Promise.reject(new S({type:a.ErrorTypes.NETWORK_ERROR,details:a.ErrorDetails.FRAG_LOAD_ERROR,fatal:!1,frag:f,networkDetails:null},"Fragment does not have a "+(y?"part list":"url")));this.abort();var b=this.config,p=b.fLoader,C=b.loader;return new Promise(function(w,k){h.loader&&h.loader.destroy();var _=h.loader=f.loader=p?new p(b):new C(b),T=v(f),O={timeout:b.fragLoadingTimeOut,maxRetry:0,retryDelay:0,maxRetryDelay:b.fragLoadingMaxRetryTimeout,highWaterMark:c};f.stats=_.stats,_.load(T,O,{onSuccess:function(A,P,D,I){h.resetLoader(f,_),w({frag:f,part:null,payload:A.data,networkDetails:I})},onError:function(A,P,D){h.resetLoader(f,_),k(new S({type:a.ErrorTypes.NETWORK_ERROR,details:a.ErrorDetails.FRAG_LOAD_ERROR,fatal:!1,frag:f,response:A,networkDetails:D}))},onAbort:function(A,P,D){h.resetLoader(f,_),k(new S({type:a.ErrorTypes.NETWORK_ERROR,details:a.ErrorDetails.INTERNAL_ABORTED,fatal:!1,frag:f,networkDetails:D}))},onTimeout:function(A,P,D){h.resetLoader(f,_),k(new S({type:a.ErrorTypes.NETWORK_ERROR,details:a.ErrorDetails.FRAG_LOAD_TIMEOUT,fatal:!1,frag:f,networkDetails:D}))},onProgress:function(A,P,D,I){g&&g({frag:f,part:null,payload:D,networkDetails:I})}})})},m.loadPart=function(f,g,h){var y=this;this.abort();var b=this.config,p=b.fLoader,C=b.loader;return new Promise(function(w,k){y.loader&&y.loader.destroy();var _=y.loader=f.loader=p?new p(b):new C(b),T=v(f,g),O={timeout:b.fragLoadingTimeOut,maxRetry:0,retryDelay:0,maxRetryDelay:b.fragLoadingMaxRetryTimeout,highWaterMark:c};g.stats=_.stats,_.load(T,O,{onSuccess:function(A,P,D,I){y.resetLoader(f,_),y.updateStatsFromPart(f,g);var x={frag:f,part:g,payload:A.data,networkDetails:I};h(x),w(x)},onError:function(A,P,D){y.resetLoader(f,_),k(new S({type:a.ErrorTypes.NETWORK_ERROR,details:a.ErrorDetails.FRAG_LOAD_ERROR,fatal:!1,frag:f,part:g,response:A,networkDetails:D}))},onAbort:function(A,P,D){f.stats.aborted=g.stats.aborted,y.resetLoader(f,_),k(new S({type:a.ErrorTypes.NETWORK_ERROR,details:a.ErrorDetails.INTERNAL_ABORTED,fatal:!1,frag:f,part:g,networkDetails:D}))},onTimeout:function(A,P,D){y.resetLoader(f,_),k(new S({type:a.ErrorTypes.NETWORK_ERROR,details:a.ErrorDetails.FRAG_LOAD_TIMEOUT,fatal:!1,frag:f,part:g,networkDetails:D}))}})})},m.updateStatsFromPart=function(f,g){var h=f.stats,y=g.stats,b=y.total;if(h.loaded+=y.loaded,b){var p=Math.round(f.duration/g.duration),C=Math.min(Math.round(h.loaded/b),p),w=(p-C)*Math.round(h.loaded/C);h.total=h.loaded+w}else h.total=Math.max(h.loaded,h.total);var k=h.loading,_=y.loading;k.start?k.first+=_.first-_.start:(k.start=_.start,k.first=_.first),k.end=_.end},m.resetLoader=function(f,g){f.loader=null,this.loader===g&&(self.clearTimeout(this.partLoadTimeout),this.loader=null),g.destroy()},E}();function v(E,m){m===void 0&&(m=null);var f=m||E,g={frag:E,part:m,responseType:"arraybuffer",url:f.url,rangeStart:0,rangeEnd:0},h=f.byteRangeStartOffset,y=f.byteRangeEndOffset;return Object(r.isFiniteNumber)(h)&&Object(r.isFiniteNumber)(y)&&(g.rangeStart=h,g.rangeEnd=y),g}var S=function(E){var m,f;function g(h){for(var y,b=arguments.length,p=new Array(b>1?b-1:0),C=1;C<b;C++)p[C-1]=arguments[C];return(y=E.call.apply(E,[this].concat(p))||this).data=void 0,y.data=h,y}return f=E,(m=g).prototype=Object.create(f.prototype),m.prototype.constructor=m,u(m,f),g}(i(Error))},"./src/loader/fragment.ts":function(e,t,n){n.r(t),n.d(t,"ElementaryStreamTypes",function(){return r}),n.d(t,"BaseSegment",function(){return E}),n.d(t,"Fragment",function(){return m}),n.d(t,"Part",function(){return f});var r,a,i=n("./src/polyfills/number.ts"),o=n("./node_modules/url-toolkit/src/url-toolkit.js"),l=n("./src/utils/logger.ts"),u=n("./src/loader/level-key.ts"),s=n("./src/loader/load-stats.ts");function c(g,h){g.prototype=Object.create(h.prototype),g.prototype.constructor=g,d(g,h)}function d(g,h){return(d=Object.setPrototypeOf||function(y,b){return y.__proto__=b,y})(g,h)}function v(g,h){for(var y=0;y<h.length;y++){var b=h[y];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(g,b.key,b)}}function S(g,h,y){return h&&v(g.prototype,h),y&&v(g,y),g}(a=r||(r={})).AUDIO="audio",a.VIDEO="video",a.AUDIOVIDEO="audiovideo";var E=function(){function g(h){var y;this._byteRange=null,this._url=null,this.baseurl=void 0,this.relurl=void 0,this.elementaryStreams=((y={})[r.AUDIO]=null,y[r.VIDEO]=null,y[r.AUDIOVIDEO]=null,y),this.baseurl=h}return g.prototype.setByteRange=function(h,y){var b=h.split("@",2),p=[];b.length===1?p[0]=y?y.byteRangeEndOffset:0:p[0]=parseInt(b[1]),p[1]=parseInt(b[0])+p[0],this._byteRange=p},S(g,[{key:"byteRange",get:function(){return this._byteRange?this._byteRange:[]}},{key:"byteRangeStartOffset",get:function(){return this.byteRange[0]}},{key:"byteRangeEndOffset",get:function(){return this.byteRange[1]}},{key:"url",get:function(){return!this._url&&this.baseurl&&this.relurl&&(this._url=Object(o.buildAbsoluteURL)(this.baseurl,this.relurl,{alwaysNormalize:!0})),this._url||""},set:function(h){this._url=h}}]),g}(),m=function(g){function h(b,p){var C;return(C=g.call(this,p)||this)._decryptdata=null,C.rawProgramDateTime=null,C.programDateTime=null,C.tagList=[],C.duration=0,C.sn=0,C.levelkey=void 0,C.type=void 0,C.loader=null,C.level=-1,C.cc=0,C.startPTS=void 0,C.endPTS=void 0,C.appendedPTS=void 0,C.startDTS=void 0,C.endDTS=void 0,C.start=0,C.deltaPTS=void 0,C.maxStartPTS=void 0,C.minEndPTS=void 0,C.stats=new s.LoadStats,C.urlId=0,C.data=void 0,C.bitrateTest=!1,C.title=null,C.initSegment=null,C.type=b,C}c(h,g);var y=h.prototype;return y.createInitializationVector=function(b){for(var p=new Uint8Array(16),C=12;C<16;C++)p[C]=b>>8*(15-C)&255;return p},y.setDecryptDataFromLevelKey=function(b,p){var C=b;return(b==null?void 0:b.method)==="AES-128"&&b.uri&&!b.iv&&((C=u.LevelKey.fromURI(b.uri)).method=b.method,C.iv=this.createInitializationVector(p),C.keyFormat="identity"),C},y.setElementaryStreamInfo=function(b,p,C,w,k,_){_===void 0&&(_=!1);var T=this.elementaryStreams,O=T[b];O?(O.startPTS=Math.min(O.startPTS,p),O.endPTS=Math.max(O.endPTS,C),O.startDTS=Math.min(O.startDTS,w),O.endDTS=Math.max(O.endDTS,k)):T[b]={startPTS:p,endPTS:C,startDTS:w,endDTS:k,partial:_}},y.clearElementaryStreamInfo=function(){var b=this.elementaryStreams;b[r.AUDIO]=null,b[r.VIDEO]=null,b[r.AUDIOVIDEO]=null},S(h,[{key:"decryptdata",get:function(){if(!this.levelkey&&!this._decryptdata)return null;if(!this._decryptdata&&this.levelkey){var b=this.sn;typeof b!="number"&&(this.levelkey&&this.levelkey.method==="AES-128"&&!this.levelkey.iv&&l.logger.warn('missing IV for initialization segment with method="'+this.levelkey.method+'" - compliance issue'),b=0),this._decryptdata=this.setDecryptDataFromLevelKey(this.levelkey,b)}return this._decryptdata}},{key:"end",get:function(){return this.start+this.duration}},{key:"endProgramDateTime",get:function(){if(this.programDateTime===null||!Object(i.isFiniteNumber)(this.programDateTime))return null;var b=Object(i.isFiniteNumber)(this.duration)?this.duration:0;return this.programDateTime+1e3*b}},{key:"encrypted",get:function(){var b;return!((b=this.decryptdata)===null||b===void 0||!b.keyFormat||!this.decryptdata.uri)}}]),h}(E),f=function(g){function h(y,b,p,C,w){var k;(k=g.call(this,p)||this).fragOffset=0,k.duration=0,k.gap=!1,k.independent=!1,k.relurl=void 0,k.fragment=void 0,k.index=void 0,k.stats=new s.LoadStats,k.duration=y.decimalFloatingPoint("DURATION"),k.gap=y.bool("GAP"),k.independent=y.bool("INDEPENDENT"),k.relurl=y.enumeratedString("URI"),k.fragment=b,k.index=C;var _=y.enumeratedString("BYTERANGE");return _&&k.setByteRange(_,w),w&&(k.fragOffset=w.fragOffset+w.duration),k}return c(h,g),S(h,[{key:"start",get:function(){return this.fragment.start+this.fragOffset}},{key:"end",get:function(){return this.start+this.duration}},{key:"loaded",get:function(){var y=this.elementaryStreams;return!!(y.audio||y.video||y.audiovideo)}}]),h}(E)},"./src/loader/key-loader.ts":function(e,t,n){n.r(t),n.d(t,"default",function(){return o});var r=n("./src/events.ts"),a=n("./src/errors.ts"),i=n("./src/utils/logger.ts"),o=function(){function l(s){this.hls=void 0,this.loaders={},this.decryptkey=null,this.decrypturl=null,this.hls=s,this._registerListeners()}var u=l.prototype;return u._registerListeners=function(){this.hls.on(r.Events.KEY_LOADING,this.onKeyLoading,this)},u._unregisterListeners=function(){this.hls.off(r.Events.KEY_LOADING,this.onKeyLoading)},u.destroy=function(){for(var s in this._unregisterListeners(),this.loaders){var c=this.loaders[s];c&&c.destroy()}this.loaders={}},u.onKeyLoading=function(s,c){var d=c.frag,v=d.type,S=this.loaders[v];if(d.decryptdata){var E=d.decryptdata.uri;if(E!==this.decrypturl||this.decryptkey===null){var m=this.hls.config;if(S&&(i.logger.warn("abort previous key loader for type:"+v),S.abort()),!E)return void i.logger.warn("key uri is falsy");var f=m.loader,g=d.loader=this.loaders[v]=new f(m);this.decrypturl=E,this.decryptkey=null;var h={url:E,frag:d,responseType:"arraybuffer"},y={timeout:m.fragLoadingTimeOut,maxRetry:0,retryDelay:m.fragLoadingRetryDelay,maxRetryDelay:m.fragLoadingMaxRetryTimeout,highWaterMark:0},b={onSuccess:this.loadsuccess.bind(this),onError:this.loaderror.bind(this),onTimeout:this.loadtimeout.bind(this)};g.load(h,y,b)}else this.decryptkey&&(d.decryptdata.key=this.decryptkey,this.hls.trigger(r.Events.KEY_LOADED,{frag:d}))}else i.logger.warn("Missing decryption data on fragment in onKeyLoading")},u.loadsuccess=function(s,c,d){var v=d.frag;v.decryptdata?(this.decryptkey=v.decryptdata.key=new Uint8Array(s.data),v.loader=null,delete this.loaders[v.type],this.hls.trigger(r.Events.KEY_LOADED,{frag:v})):i.logger.error("after key load, decryptdata unset")},u.loaderror=function(s,c){var d=c.frag,v=d.loader;v&&v.abort(),delete this.loaders[d.type],this.hls.trigger(r.Events.ERROR,{type:a.ErrorTypes.NETWORK_ERROR,details:a.ErrorDetails.KEY_LOAD_ERROR,fatal:!1,frag:d,response:s})},u.loadtimeout=function(s,c){var d=c.frag,v=d.loader;v&&v.abort(),delete this.loaders[d.type],this.hls.trigger(r.Events.ERROR,{type:a.ErrorTypes.NETWORK_ERROR,details:a.ErrorDetails.KEY_LOAD_TIMEOUT,fatal:!1,frag:d})},l}()},"./src/loader/level-details.ts":function(e,t,n){n.r(t),n.d(t,"LevelDetails",function(){return i});var r=n("./src/polyfills/number.ts");function a(o,l){for(var u=0;u<l.length;u++){var s=l[u];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(o,s.key,s)}}var i=function(){function o(s){this.PTSKnown=!1,this.alignedSliding=!1,this.averagetargetduration=void 0,this.endCC=0,this.endSN=0,this.fragments=void 0,this.fragmentHint=void 0,this.partList=null,this.live=!0,this.ageHeader=0,this.advancedDateTime=void 0,this.updated=!0,this.advanced=!0,this.availabilityDelay=void 0,this.misses=0,this.needSidxRanges=!1,this.startCC=0,this.startSN=0,this.startTimeOffset=null,this.targetduration=0,this.totalduration=0,this.type=null,this.url=void 0,this.m3u8="",this.version=null,this.canBlockReload=!1,this.canSkipUntil=0,this.canSkipDateRanges=!1,this.skippedSegments=0,this.recentlyRemovedDateranges=void 0,this.partHoldBack=0,this.holdBack=0,this.partTarget=0,this.preloadHint=void 0,this.renditionReports=void 0,this.tuneInGoal=0,this.deltaUpdateFailed=void 0,this.driftStartTime=0,this.driftEndTime=0,this.driftStart=0,this.driftEnd=0,this.fragments=[],this.url=s}var l,u;return o.prototype.reloaded=function(s){if(!s)return this.advanced=!0,void(this.updated=!0);var c=this.lastPartSn-s.lastPartSn,d=this.lastPartIndex-s.lastPartIndex;this.updated=this.endSN!==s.endSN||!!d||!!c,this.advanced=this.endSN>s.endSN||c>0||c===0&&d>0,this.updated||this.advanced?this.misses=Math.floor(.6*s.misses):this.misses=s.misses+1,this.availabilityDelay=s.availabilityDelay},l=o,(u=[{key:"hasProgramDateTime",get:function(){return!!this.fragments.length&&Object(r.isFiniteNumber)(this.fragments[this.fragments.length-1].programDateTime)}},{key:"levelTargetDuration",get:function(){return this.averagetargetduration||this.targetduration||10}},{key:"drift",get:function(){var s=this.driftEndTime-this.driftStartTime;return s>0?1e3*(this.driftEnd-this.driftStart)/s:1}},{key:"edge",get:function(){return this.partEnd||this.fragmentEnd}},{key:"partEnd",get:function(){var s;return(s=this.partList)!==null&&s!==void 0&&s.length?this.partList[this.partList.length-1].end:this.fragmentEnd}},{key:"fragmentEnd",get:function(){var s;return(s=this.fragments)!==null&&s!==void 0&&s.length?this.fragments[this.fragments.length-1].end:0}},{key:"age",get:function(){return this.advancedDateTime?Math.max(Date.now()-this.advancedDateTime,0)/1e3:0}},{key:"lastPartIndex",get:function(){var s;return(s=this.partList)!==null&&s!==void 0&&s.length?this.partList[this.partList.length-1].index:-1}},{key:"lastPartSn",get:function(){var s;return(s=this.partList)!==null&&s!==void 0&&s.length?this.partList[this.partList.length-1].fragment.sn:this.endSN}}])&&a(l.prototype,u),o}()},"./src/loader/level-key.ts":function(e,t,n){n.r(t),n.d(t,"LevelKey",function(){return i});var r=n("./node_modules/url-toolkit/src/url-toolkit.js");function a(o,l){for(var u=0;u<l.length;u++){var s=l[u];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(o,s.key,s)}}var i=function(){function o(s,c){this._uri=null,this.method=null,this.keyFormat=null,this.keyFormatVersions=null,this.keyID=null,this.key=null,this.iv=null,this._uri=c?Object(r.buildAbsoluteURL)(s,c,{alwaysNormalize:!0}):s}var l,u;return o.fromURL=function(s,c){return new o(s,c)},o.fromURI=function(s){return new o(s)},l=o,(u=[{key:"uri",get:function(){return this._uri}}])&&a(l.prototype,u),o}()},"./src/loader/load-stats.ts":function(e,t,n){n.r(t),n.d(t,"LoadStats",function(){return r});var r=function(){this.aborted=!1,this.loaded=0,this.retry=0,this.total=0,this.chunkCount=0,this.bwEstimate=0,this.loading={start:0,first:0,end:0},this.parsing={start:0,end:0},this.buffering={start:0,first:0,end:0}}},"./src/loader/m3u8-parser.ts":function(e,t,n){n.r(t),n.d(t,"default",function(){return f});var r=n("./src/polyfills/number.ts"),a=n("./node_modules/url-toolkit/src/url-toolkit.js"),i=n("./src/loader/fragment.ts"),o=n("./src/loader/level-details.ts"),l=n("./src/loader/level-key.ts"),u=n("./src/utils/attr-list.ts"),s=n("./src/utils/logger.ts"),c=n("./src/utils/codecs.ts"),d=/#EXT-X-STREAM-INF:([^\r\n]*)(?:[\r\n](?:#[^\r\n]*)?)*([^\r\n]+)|#EXT-X-SESSION-DATA:([^\r\n]*)[\r\n]+/g,v=/#EXT-X-MEDIA:(.*)/g,S=new RegExp([/#EXTINF:\s*(\d*(?:\.\d+)?)(?:,(.*)\s+)?/.source,/(?!#) *(\S[\S ]*)/.source,/#EXT-X-BYTERANGE:*(.+)/.source,/#EXT-X-PROGRAM-DATE-TIME:(.+)/.source,/#.*/.source].join("|"),"g"),E=new RegExp([/#(EXTM3U)/.source,/#EXT-X-(PLAYLIST-TYPE):(.+)/.source,/#EXT-X-(MEDIA-SEQUENCE): *(\d+)/.source,/#EXT-X-(SKIP):(.+)/.source,/#EXT-X-(TARGETDURATION): *(\d+)/.source,/#EXT-X-(KEY):(.+)/.source,/#EXT-X-(START):(.+)/.source,/#EXT-X-(ENDLIST)/.source,/#EXT-X-(DISCONTINUITY-SEQ)UENCE: *(\d+)/.source,/#EXT-X-(DIS)CONTINUITY/.source,/#EXT-X-(VERSION):(\d+)/.source,/#EXT-X-(MAP):(.+)/.source,/#EXT-X-(SERVER-CONTROL):(.+)/.source,/#EXT-X-(PART-INF):(.+)/.source,/#EXT-X-(GAP)/.source,/#EXT-X-(BITRATE):\s*(\d+)/.source,/#EXT-X-(PART):(.+)/.source,/#EXT-X-(PRELOAD-HINT):(.+)/.source,/#EXT-X-(RENDITION-REPORT):(.+)/.source,/(#)([^:]*):(.*)/.source,/(#)(.*)(?:.*)\r?\n?/.source].join("|")),m=/\.(mp4|m4s|m4v|m4a)$/i,f=function(){function b(){}return b.findGroup=function(p,C){for(var w=0;w<p.length;w++){var k=p[w];if(k.id===C)return k}},b.convertAVC1ToAVCOTI=function(p){var C=p.split(".");if(C.length>2){var w=C.shift()+".";return w+=parseInt(C.shift()).toString(16),w+=("000"+parseInt(C.shift()).toString(16)).substr(-4)}return p},b.resolve=function(p,C){return a.buildAbsoluteURL(C,p,{alwaysNormalize:!0})},b.parseMasterPlaylist=function(p,C){var w,k=[],_={},T=!1;for(d.lastIndex=0;(w=d.exec(p))!=null;)if(w[1]){var O=new u.AttrList(w[1]),A={attrs:O,bitrate:O.decimalInteger("AVERAGE-BANDWIDTH")||O.decimalInteger("BANDWIDTH"),name:O.NAME,url:b.resolve(w[2],C)},P=O.decimalResolution("RESOLUTION");P&&(A.width=P.width,A.height=P.height),g((O.CODECS||"").split(/[ ,]+/).filter(function(I){return I}),A),A.videoCodec&&A.videoCodec.indexOf("avc1")!==-1&&(A.videoCodec=b.convertAVC1ToAVCOTI(A.videoCodec)),k.push(A)}else if(w[3]){var D=new u.AttrList(w[3]);D["DATA-ID"]&&(T=!0,_[D["DATA-ID"]]=D)}return{levels:k,sessionData:T?_:null}},b.parseMasterPlaylistMedia=function(p,C,w,k){var _;k===void 0&&(k=[]);var T=[],O=0;for(v.lastIndex=0;(_=v.exec(p))!==null;){var A=new u.AttrList(_[1]);if(A.TYPE===w){var P={attrs:A,bitrate:0,id:O++,groupId:A["GROUP-ID"],instreamId:A["INSTREAM-ID"],name:A.NAME||A.LANGUAGE||"",type:w,default:A.bool("DEFAULT"),autoselect:A.bool("AUTOSELECT"),forced:A.bool("FORCED"),lang:A.LANGUAGE,url:A.URI?b.resolve(A.URI,C):""};if(k.length){var D=b.findGroup(k,P.groupId)||k[0];h(P,D,"audioCodec"),h(P,D,"textCodec")}T.push(P)}}return T},b.parseLevelPlaylist=function(p,C,w,k,_){var T,O,A,P=new o.LevelDetails(C),D=P.fragments,I=null,x=0,L=0,$=0,M=0,j=null,F=new i.Fragment(k,C),U=-1,B=!1;for(S.lastIndex=0,P.m3u8=p;(T=S.exec(p))!==null;){B&&(B=!1,(F=new i.Fragment(k,C)).start=$,F.sn=x,F.cc=M,F.level=w,I&&(F.initSegment=I,F.rawProgramDateTime=I.rawProgramDateTime));var K=T[1];if(K){F.duration=parseFloat(K);var V=(" "+T[2]).slice(1);F.title=V||null,F.tagList.push(V?["INF",K,V]:["INF",K])}else if(T[3])Object(r.isFiniteNumber)(F.duration)&&(F.start=$,A&&(F.levelkey=A),F.sn=x,F.level=w,F.cc=M,F.urlId=_,D.push(F),F.relurl=(" "+T[3]).slice(1),y(F,j),j=F,$+=F.duration,x++,L=0,B=!0);else if(T[4]){var X=(" "+T[4]).slice(1);j?F.setByteRange(X,j):F.setByteRange(X)}else if(T[5])F.rawProgramDateTime=(" "+T[5]).slice(1),F.tagList.push(["PROGRAM-DATE-TIME",F.rawProgramDateTime]),U===-1&&(U=D.length);else{if(!(T=T[0].match(E))){s.logger.warn("No matches on slow regex match for level playlist!");continue}for(O=1;O<T.length&&T[O]===void 0;O++);var Z=(" "+T[O]).slice(1),ne=(" "+T[O+1]).slice(1),ae=T[O+2]?(" "+T[O+2]).slice(1):"";switch(Z){case"PLAYLIST-TYPE":P.type=ne.toUpperCase();break;case"MEDIA-SEQUENCE":x=P.startSN=parseInt(ne);break;case"SKIP":var ye=new u.AttrList(ne),de=ye.decimalInteger("SKIPPED-SEGMENTS");if(Object(r.isFiniteNumber)(de)){P.skippedSegments=de;for(var be=de;be--;)D.unshift(null);x+=de}var G=ye.enumeratedString("RECENTLY-REMOVED-DATERANGES");G&&(P.recentlyRemovedDateranges=G.split("	"));break;case"TARGETDURATION":P.targetduration=parseFloat(ne);break;case"VERSION":P.version=parseInt(ne);break;case"EXTM3U":break;case"ENDLIST":P.live=!1;break;case"#":(ne||ae)&&F.tagList.push(ae?[ne,ae]:[ne]);break;case"DIS":M++;case"GAP":F.tagList.push([Z]);break;case"BITRATE":F.tagList.push([Z,ne]);break;case"DISCONTINUITY-SEQ":M=parseInt(ne);break;case"KEY":var Y,Q=new u.AttrList(ne),re=Q.enumeratedString("METHOD"),ie=Q.URI,le=Q.hexadecimalInteger("IV"),Se=Q.enumeratedString("KEYFORMATVERSIONS"),fe=Q.enumeratedString("KEYID"),me=(Y=Q.enumeratedString("KEYFORMAT"))!=null?Y:"identity";if(["com.apple.streamingkeydelivery","com.microsoft.playready","urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed","com.widevine"].indexOf(me)>-1){s.logger.warn("Keyformat "+me+" is not supported from the manifest");continue}if(me!=="identity")continue;re&&(A=l.LevelKey.fromURL(C,ie),ie&&["AES-128","SAMPLE-AES","SAMPLE-AES-CENC"].indexOf(re)>=0&&(A.method=re,A.keyFormat=me,fe&&(A.keyID=fe),Se&&(A.keyFormatVersions=Se),A.iv=le));break;case"START":var ue=new u.AttrList(ne).decimalFloatingPoint("TIME-OFFSET");Object(r.isFiniteNumber)(ue)&&(P.startTimeOffset=ue);break;case"MAP":var ke=new u.AttrList(ne);F.relurl=ke.URI,ke.BYTERANGE&&F.setByteRange(ke.BYTERANGE),F.level=w,F.sn="initSegment",A&&(F.levelkey=A),F.initSegment=null,I=F,B=!0;break;case"SERVER-CONTROL":var Ee=new u.AttrList(ne);P.canBlockReload=Ee.bool("CAN-BLOCK-RELOAD"),P.canSkipUntil=Ee.optionalFloat("CAN-SKIP-UNTIL",0),P.canSkipDateRanges=P.canSkipUntil>0&&Ee.bool("CAN-SKIP-DATERANGES"),P.partHoldBack=Ee.optionalFloat("PART-HOLD-BACK",0),P.holdBack=Ee.optionalFloat("HOLD-BACK",0);break;case"PART-INF":var Ie=new u.AttrList(ne);P.partTarget=Ie.decimalFloatingPoint("PART-TARGET");break;case"PART":var $e=P.partList;$e||($e=P.partList=[]);var je=L>0?$e[$e.length-1]:void 0,at=L++,Ze=new i.Part(new u.AttrList(ne),F,C,at,je);$e.push(Ze),F.duration+=Ze.duration;break;case"PRELOAD-HINT":var Je=new u.AttrList(ne);P.preloadHint=Je;break;case"RENDITION-REPORT":var Ht=new u.AttrList(ne);P.renditionReports=P.renditionReports||[],P.renditionReports.push(Ht);break;default:s.logger.warn("line parsed but not handled: "+T)}}}j&&!j.relurl?(D.pop(),$-=j.duration,P.partList&&(P.fragmentHint=j)):P.partList&&(y(F,j),F.cc=M,P.fragmentHint=F);var ln=D.length,pn=D[0],On=D[ln-1];if(($+=P.skippedSegments*P.targetduration)>0&&ln&&On){P.averagetargetduration=$/ln;var ir=On.sn;P.endSN=ir!=="initSegment"?ir:0,pn&&(P.startCC=pn.cc,pn.initSegment||P.fragments.every(function(Ct){return Ct.relurl&&(Pt=Ct.relurl,m.test((Un=(Vn=a.parseURL(Pt))===null||Vn===void 0?void 0:Vn.path)!=null?Un:""));var Pt,Un,Vn})&&(s.logger.warn("MP4 fragments found but no init segment (probably no MAP, incomplete M3U8), trying to fetch SIDX"),(F=new i.Fragment(k,C)).relurl=On.relurl,F.level=w,F.sn="initSegment",pn.initSegment=F,P.needSidxRanges=!0))}else P.endSN=0,P.startCC=0;return P.fragmentHint&&($+=P.fragmentHint.duration),P.totalduration=$,P.endCC=M,U>0&&function(Ct,Pt){for(var Un=Ct[Pt],Vn=Pt;Vn--;){var ta=Ct[Vn];if(!ta)return;ta.programDateTime=Un.programDateTime-1e3*ta.duration,Un=ta}}(D,U),P},b}();function g(b,p){["video","audio","text"].forEach(function(C){var w=b.filter(function(_){return Object(c.isCodecType)(_,C)});if(w.length){var k=w.filter(function(_){return _.lastIndexOf("avc1",0)===0||_.lastIndexOf("mp4a",0)===0});p[C+"Codec"]=k.length>0?k[0]:w[0],b=b.filter(function(_){return w.indexOf(_)===-1})}}),p.unknownCodecs=b}function h(b,p,C){var w=p[C];w&&(b[C]=w)}function y(b,p){b.rawProgramDateTime?b.programDateTime=Date.parse(b.rawProgramDateTime):p!=null&&p.programDateTime&&(b.programDateTime=p.endProgramDateTime),Object(r.isFiniteNumber)(b.programDateTime)||(b.programDateTime=null,b.rawProgramDateTime=null)}},"./src/loader/playlist-loader.ts":function(e,t,n){n.r(t);var r=n("./src/polyfills/number.ts"),a=n("./src/events.ts"),i=n("./src/errors.ts"),o=n("./src/utils/logger.ts"),l=n("./src/utils/mp4-tools.ts"),u=n("./src/loader/m3u8-parser.ts"),s=n("./src/types/loader.ts"),c=n("./src/utils/attr-list.ts");function d(S,E){var m=S.url;return m!==void 0&&m.indexOf("data:")!==0||(m=E.url),m}var v=function(){function S(m){this.hls=void 0,this.loaders=Object.create(null),this.hls=m,this.registerListeners()}var E=S.prototype;return E.registerListeners=function(){var m=this.hls;m.on(a.Events.MANIFEST_LOADING,this.onManifestLoading,this),m.on(a.Events.LEVEL_LOADING,this.onLevelLoading,this),m.on(a.Events.AUDIO_TRACK_LOADING,this.onAudioTrackLoading,this),m.on(a.Events.SUBTITLE_TRACK_LOADING,this.onSubtitleTrackLoading,this)},E.unregisterListeners=function(){var m=this.hls;m.off(a.Events.MANIFEST_LOADING,this.onManifestLoading,this),m.off(a.Events.LEVEL_LOADING,this.onLevelLoading,this),m.off(a.Events.AUDIO_TRACK_LOADING,this.onAudioTrackLoading,this),m.off(a.Events.SUBTITLE_TRACK_LOADING,this.onSubtitleTrackLoading,this)},E.createInternalLoader=function(m){var f=this.hls.config,g=f.pLoader,h=f.loader,y=new(g||h)(f);return m.loader=y,this.loaders[m.type]=y,y},E.getInternalLoader=function(m){return this.loaders[m.type]},E.resetInternalLoader=function(m){this.loaders[m]&&delete this.loaders[m]},E.destroyInternalLoaders=function(){for(var m in this.loaders){var f=this.loaders[m];f&&f.destroy(),this.resetInternalLoader(m)}},E.destroy=function(){this.unregisterListeners(),this.destroyInternalLoaders()},E.onManifestLoading=function(m,f){var g=f.url;this.load({id:null,groupId:null,level:0,responseType:"text",type:s.PlaylistContextType.MANIFEST,url:g,deliveryDirectives:null})},E.onLevelLoading=function(m,f){var g=f.id,h=f.level,y=f.url,b=f.deliveryDirectives;this.load({id:g,groupId:null,level:h,responseType:"text",type:s.PlaylistContextType.LEVEL,url:y,deliveryDirectives:b})},E.onAudioTrackLoading=function(m,f){var g=f.id,h=f.groupId,y=f.url,b=f.deliveryDirectives;this.load({id:g,groupId:h,level:null,responseType:"text",type:s.PlaylistContextType.AUDIO_TRACK,url:y,deliveryDirectives:b})},E.onSubtitleTrackLoading=function(m,f){var g=f.id,h=f.groupId,y=f.url,b=f.deliveryDirectives;this.load({id:g,groupId:h,level:null,responseType:"text",type:s.PlaylistContextType.SUBTITLE_TRACK,url:y,deliveryDirectives:b})},E.load=function(m){var f,g,h,y,b,p,C=this.hls.config,w=this.getInternalLoader(m);if(w){var k=w.context;if(k&&k.url===m.url)return void o.logger.trace("[playlist-loader]: playlist request ongoing");o.logger.log("[playlist-loader]: aborting previous loader for type: "+m.type),w.abort()}switch(m.type){case s.PlaylistContextType.MANIFEST:g=C.manifestLoadingMaxRetry,h=C.manifestLoadingTimeOut,y=C.manifestLoadingRetryDelay,b=C.manifestLoadingMaxRetryTimeout;break;case s.PlaylistContextType.LEVEL:case s.PlaylistContextType.AUDIO_TRACK:case s.PlaylistContextType.SUBTITLE_TRACK:g=0,h=C.levelLoadingTimeOut;break;default:g=C.levelLoadingMaxRetry,h=C.levelLoadingTimeOut,y=C.levelLoadingRetryDelay,b=C.levelLoadingMaxRetryTimeout}if(w=this.createInternalLoader(m),(f=m.deliveryDirectives)!==null&&f!==void 0&&f.part&&(m.type===s.PlaylistContextType.LEVEL&&m.level!==null?p=this.hls.levels[m.level].details:m.type===s.PlaylistContextType.AUDIO_TRACK&&m.id!==null?p=this.hls.audioTracks[m.id].details:m.type===s.PlaylistContextType.SUBTITLE_TRACK&&m.id!==null&&(p=this.hls.subtitleTracks[m.id].details),p)){var _=p.partTarget,T=p.targetduration;_&&T&&(h=Math.min(1e3*Math.max(3*_,.8*T),h))}var O={timeout:h,maxRetry:g,retryDelay:y,maxRetryDelay:b,highWaterMark:0},A={onSuccess:this.loadsuccess.bind(this),onError:this.loaderror.bind(this),onTimeout:this.loadtimeout.bind(this)};w.load(m,O,A)},E.loadsuccess=function(m,f,g,h){if(h===void 0&&(h=null),g.isSidxRequest)return this.handleSidxRequest(m,g),void this.handlePlaylistLoaded(m,f,g,h);this.resetInternalLoader(g.type);var y=m.data;y.indexOf("#EXTM3U")===0?(f.parsing.start=performance.now(),y.indexOf("#EXTINF:")>0||y.indexOf("#EXT-X-TARGETDURATION:")>0?this.handleTrackOrLevelPlaylist(m,f,g,h):this.handleMasterPlaylist(m,f,g,h)):this.handleManifestParsingError(m,g,"no EXTM3U delimiter",h)},E.loaderror=function(m,f,g){g===void 0&&(g=null),this.handleNetworkError(f,g,!1,m)},E.loadtimeout=function(m,f,g){g===void 0&&(g=null),this.handleNetworkError(f,g,!0)},E.handleMasterPlaylist=function(m,f,g,h){var y=this.hls,b=m.data,p=d(m,g),C=u.default.parseMasterPlaylist(b,p),w=C.levels,k=C.sessionData;if(w.length){var _=w.map(function(D){return{id:D.attrs.AUDIO,audioCodec:D.audioCodec}}),T=w.map(function(D){return{id:D.attrs.SUBTITLES,textCodec:D.textCodec}}),O=u.default.parseMasterPlaylistMedia(b,p,"AUDIO",_),A=u.default.parseMasterPlaylistMedia(b,p,"SUBTITLES",T),P=u.default.parseMasterPlaylistMedia(b,p,"CLOSED-CAPTIONS");O.length&&(O.some(function(D){return!D.url})||!w[0].audioCodec||w[0].attrs.AUDIO||(o.logger.log("[playlist-loader]: audio codec signaled in quality level, but no embedded audio track signaled, create one"),O.unshift({type:"main",name:"main",default:!1,autoselect:!1,forced:!1,id:-1,attrs:new c.AttrList({}),bitrate:0,url:""}))),y.trigger(a.Events.MANIFEST_LOADED,{levels:w,audioTracks:O,subtitles:A,captions:P,url:p,stats:f,networkDetails:h,sessionData:k})}else this.handleManifestParsingError(m,g,"no level found in manifest",h)},E.handleTrackOrLevelPlaylist=function(m,f,g,h){var y=this.hls,b=g.id,p=g.level,C=g.type,w=d(m,g),k=Object(r.isFiniteNumber)(b)?b:0,_=Object(r.isFiniteNumber)(p)?p:k,T=function(I){switch(I.type){case s.PlaylistContextType.AUDIO_TRACK:return s.PlaylistLevelType.AUDIO;case s.PlaylistContextType.SUBTITLE_TRACK:return s.PlaylistLevelType.SUBTITLE;default:return s.PlaylistLevelType.MAIN}}(g),O=u.default.parseLevelPlaylist(m.data,w,_,T,k);if(O.fragments.length){if(C===s.PlaylistContextType.MANIFEST){var A={attrs:new c.AttrList({}),bitrate:0,details:O,name:"",url:w};y.trigger(a.Events.MANIFEST_LOADED,{levels:[A],audioTracks:[],url:w,stats:f,networkDetails:h,sessionData:null})}if(f.parsing.end=performance.now(),O.needSidxRanges){var P,D=(P=O.fragments[0].initSegment)===null||P===void 0?void 0:P.url;this.load({url:D,isSidxRequest:!0,type:C,level:p,levelDetails:O,id:b,groupId:null,rangeStart:0,rangeEnd:2048,responseType:"arraybuffer",deliveryDirectives:null})}else g.levelDetails=O,this.handlePlaylistLoaded(m,f,g,h)}else y.trigger(a.Events.ERROR,{type:i.ErrorTypes.NETWORK_ERROR,details:i.ErrorDetails.LEVEL_EMPTY_ERROR,fatal:!1,url:w,reason:"no fragments found in level",level:typeof g.level=="number"?g.level:void 0})},E.handleSidxRequest=function(m,f){var g=Object(l.parseSegmentIndex)(new Uint8Array(m.data));if(g){var h=g.references,y=f.levelDetails;h.forEach(function(b,p){var C=b.info,w=y.fragments[p];w.byteRange.length===0&&w.setByteRange(String(1+C.end-C.start)+"@"+String(C.start)),w.initSegment&&w.initSegment.setByteRange(String(g.moovEndOffset)+"@0")})}},E.handleManifestParsingError=function(m,f,g,h){this.hls.trigger(a.Events.ERROR,{type:i.ErrorTypes.NETWORK_ERROR,details:i.ErrorDetails.MANIFEST_PARSING_ERROR,fatal:f.type===s.PlaylistContextType.MANIFEST,url:m.url,reason:g,response:m,context:f,networkDetails:h})},E.handleNetworkError=function(m,f,g,h){g===void 0&&(g=!1),o.logger.warn("[playlist-loader]: A network "+(g?"timeout":"error")+" occurred while loading "+m.type+" level: "+m.level+" id: "+m.id+' group-id: "'+m.groupId+'"');var y=i.ErrorDetails.UNKNOWN,b=!1,p=this.getInternalLoader(m);switch(m.type){case s.PlaylistContextType.MANIFEST:y=g?i.ErrorDetails.MANIFEST_LOAD_TIMEOUT:i.ErrorDetails.MANIFEST_LOAD_ERROR,b=!0;break;case s.PlaylistContextType.LEVEL:y=g?i.ErrorDetails.LEVEL_LOAD_TIMEOUT:i.ErrorDetails.LEVEL_LOAD_ERROR,b=!1;break;case s.PlaylistContextType.AUDIO_TRACK:y=g?i.ErrorDetails.AUDIO_TRACK_LOAD_TIMEOUT:i.ErrorDetails.AUDIO_TRACK_LOAD_ERROR,b=!1;break;case s.PlaylistContextType.SUBTITLE_TRACK:y=g?i.ErrorDetails.SUBTITLE_TRACK_LOAD_TIMEOUT:i.ErrorDetails.SUBTITLE_LOAD_ERROR,b=!1}p&&this.resetInternalLoader(m.type);var C={type:i.ErrorTypes.NETWORK_ERROR,details:y,fatal:b,url:m.url,loader:p,context:m,networkDetails:f};h&&(C.response=h),this.hls.trigger(a.Events.ERROR,C)},E.handlePlaylistLoaded=function(m,f,g,h){var y=g.type,b=g.level,p=g.id,C=g.groupId,w=g.loader,k=g.levelDetails,_=g.deliveryDirectives;if(k!=null&&k.targetduration){if(w)switch(k.live&&(w.getCacheAge&&(k.ageHeader=w.getCacheAge()||0),w.getCacheAge&&!isNaN(k.ageHeader)||(k.ageHeader=0)),y){case s.PlaylistContextType.MANIFEST:case s.PlaylistContextType.LEVEL:this.hls.trigger(a.Events.LEVEL_LOADED,{details:k,level:b||0,id:p||0,stats:f,networkDetails:h,deliveryDirectives:_});break;case s.PlaylistContextType.AUDIO_TRACK:this.hls.trigger(a.Events.AUDIO_TRACK_LOADED,{details:k,id:p||0,groupId:C||"",stats:f,networkDetails:h,deliveryDirectives:_});break;case s.PlaylistContextType.SUBTITLE_TRACK:this.hls.trigger(a.Events.SUBTITLE_TRACK_LOADED,{details:k,id:p||0,groupId:C||"",stats:f,networkDetails:h,deliveryDirectives:_})}}else this.handleManifestParsingError(m,g,"invalid target duration",h)},S}();t.default=v},"./src/polyfills/number.ts":function(e,t,n){n.r(t),n.d(t,"isFiniteNumber",function(){return r}),n.d(t,"MAX_SAFE_INTEGER",function(){return a});var r=Number.isFinite||function(i){return typeof i=="number"&&isFinite(i)},a=Number.MAX_SAFE_INTEGER||9007199254740991},"./src/remux/aac-helper.ts":function(e,t,n){n.r(t);var r=function(){function a(){}return a.getSilentFrame=function(i,o){switch(i){case"mp4a.40.2":if(o===1)return new Uint8Array([0,200,0,128,35,128]);if(o===2)return new Uint8Array([33,0,73,144,2,25,0,35,128]);if(o===3)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,142]);if(o===4)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,128,44,128,8,2,56]);if(o===5)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,56]);if(o===6)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,0,178,0,32,8,224]);break;default:if(o===1)return new Uint8Array([1,64,34,128,163,78,230,128,186,8,0,0,0,28,6,241,193,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);if(o===2)return new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);if(o===3)return new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94])}},a}();t.default=r},"./src/remux/mp4-generator.ts":function(e,t,n){n.r(t);var r=Math.pow(2,32)-1,a=function(){function i(){}return i.init=function(){var o;for(o in i.types={avc1:[],avcC:[],btrt:[],dinf:[],dref:[],esds:[],ftyp:[],hdlr:[],mdat:[],mdhd:[],mdia:[],mfhd:[],minf:[],moof:[],moov:[],mp4a:[],".mp3":[],mvex:[],mvhd:[],pasp:[],sdtp:[],stbl:[],stco:[],stsc:[],stsd:[],stsz:[],stts:[],tfdt:[],tfhd:[],traf:[],trak:[],trun:[],trex:[],tkhd:[],vmhd:[],smhd:[]},i.types)i.types.hasOwnProperty(o)&&(i.types[o]=[o.charCodeAt(0),o.charCodeAt(1),o.charCodeAt(2),o.charCodeAt(3)]);var l=new Uint8Array([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0]),u=new Uint8Array([0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0]);i.HDLR_TYPES={video:l,audio:u};var s=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1]),c=new Uint8Array([0,0,0,0,0,0,0,0]);i.STTS=i.STSC=i.STCO=c,i.STSZ=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0]),i.VMHD=new Uint8Array([0,0,0,1,0,0,0,0,0,0,0,0]),i.SMHD=new Uint8Array([0,0,0,0,0,0,0,0]),i.STSD=new Uint8Array([0,0,0,0,0,0,0,1]);var d=new Uint8Array([105,115,111,109]),v=new Uint8Array([97,118,99,49]),S=new Uint8Array([0,0,0,1]);i.FTYP=i.box(i.types.ftyp,d,S,d,v),i.DINF=i.box(i.types.dinf,i.box(i.types.dref,s))},i.box=function(o){for(var l=8,u=arguments.length,s=new Array(u>1?u-1:0),c=1;c<u;c++)s[c-1]=arguments[c];for(var d=s.length,v=d;d--;)l+=s[d].byteLength;var S=new Uint8Array(l);for(S[0]=l>>24&255,S[1]=l>>16&255,S[2]=l>>8&255,S[3]=255&l,S.set(o,4),d=0,l=8;d<v;d++)S.set(s[d],l),l+=s[d].byteLength;return S},i.hdlr=function(o){return i.box(i.types.hdlr,i.HDLR_TYPES[o])},i.mdat=function(o){return i.box(i.types.mdat,o)},i.mdhd=function(o,l){l*=o;var u=Math.floor(l/(r+1)),s=Math.floor(l%(r+1));return i.box(i.types.mdhd,new Uint8Array([1,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,o>>24&255,o>>16&255,o>>8&255,255&o,u>>24,u>>16&255,u>>8&255,255&u,s>>24,s>>16&255,s>>8&255,255&s,85,196,0,0]))},i.mdia=function(o){return i.box(i.types.mdia,i.mdhd(o.timescale,o.duration),i.hdlr(o.type),i.minf(o))},i.mfhd=function(o){return i.box(i.types.mfhd,new Uint8Array([0,0,0,0,o>>24,o>>16&255,o>>8&255,255&o]))},i.minf=function(o){return o.type==="audio"?i.box(i.types.minf,i.box(i.types.smhd,i.SMHD),i.DINF,i.stbl(o)):i.box(i.types.minf,i.box(i.types.vmhd,i.VMHD),i.DINF,i.stbl(o))},i.moof=function(o,l,u){return i.box(i.types.moof,i.mfhd(o),i.traf(u,l))},i.moov=function(o){for(var l=o.length,u=[];l--;)u[l]=i.trak(o[l]);return i.box.apply(null,[i.types.moov,i.mvhd(o[0].timescale,o[0].duration)].concat(u).concat(i.mvex(o)))},i.mvex=function(o){for(var l=o.length,u=[];l--;)u[l]=i.trex(o[l]);return i.box.apply(null,[i.types.mvex].concat(u))},i.mvhd=function(o,l){l*=o;var u=Math.floor(l/(r+1)),s=Math.floor(l%(r+1)),c=new Uint8Array([1,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,o>>24&255,o>>16&255,o>>8&255,255&o,u>>24,u>>16&255,u>>8&255,255&u,s>>24,s>>16&255,s>>8&255,255&s,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255]);return i.box(i.types.mvhd,c)},i.sdtp=function(o){var l,u,s=o.samples||[],c=new Uint8Array(4+s.length);for(l=0;l<s.length;l++)u=s[l].flags,c[l+4]=u.dependsOn<<4|u.isDependedOn<<2|u.hasRedundancy;return i.box(i.types.sdtp,c)},i.stbl=function(o){return i.box(i.types.stbl,i.stsd(o),i.box(i.types.stts,i.STTS),i.box(i.types.stsc,i.STSC),i.box(i.types.stsz,i.STSZ),i.box(i.types.stco,i.STCO))},i.avc1=function(o){var l,u,s,c=[],d=[];for(l=0;l<o.sps.length;l++)s=(u=o.sps[l]).byteLength,c.push(s>>>8&255),c.push(255&s),c=c.concat(Array.prototype.slice.call(u));for(l=0;l<o.pps.length;l++)s=(u=o.pps[l]).byteLength,d.push(s>>>8&255),d.push(255&s),d=d.concat(Array.prototype.slice.call(u));var v=i.box(i.types.avcC,new Uint8Array([1,c[3],c[4],c[5],255,224|o.sps.length].concat(c).concat([o.pps.length]).concat(d))),S=o.width,E=o.height,m=o.pixelRatio[0],f=o.pixelRatio[1];return i.box(i.types.avc1,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,S>>8&255,255&S,E>>8&255,255&E,0,72,0,0,0,72,0,0,0,0,0,0,0,1,18,100,97,105,108,121,109,111,116,105,111,110,47,104,108,115,46,106,115,0,0,0,0,0,0,0,0,0,0,0,0,0,0,24,17,17]),v,i.box(i.types.btrt,new Uint8Array([0,28,156,128,0,45,198,192,0,45,198,192])),i.box(i.types.pasp,new Uint8Array([m>>24,m>>16&255,m>>8&255,255&m,f>>24,f>>16&255,f>>8&255,255&f])))},i.esds=function(o){var l=o.config.length;return new Uint8Array([0,0,0,0,3,23+l,0,1,0,4,15+l,64,21,0,0,0,0,0,0,0,0,0,0,0,5].concat([l]).concat(o.config).concat([6,1,2]))},i.mp4a=function(o){var l=o.samplerate;return i.box(i.types.mp4a,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,o.channelCount,0,16,0,0,0,0,l>>8&255,255&l,0,0]),i.box(i.types.esds,i.esds(o)))},i.mp3=function(o){var l=o.samplerate;return i.box(i.types[".mp3"],new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,o.channelCount,0,16,0,0,0,0,l>>8&255,255&l,0,0]))},i.stsd=function(o){return o.type==="audio"?o.isAAC||o.codec!=="mp3"?i.box(i.types.stsd,i.STSD,i.mp4a(o)):i.box(i.types.stsd,i.STSD,i.mp3(o)):i.box(i.types.stsd,i.STSD,i.avc1(o))},i.tkhd=function(o){var l=o.id,u=o.duration*o.timescale,s=o.width,c=o.height,d=Math.floor(u/(r+1)),v=Math.floor(u%(r+1));return i.box(i.types.tkhd,new Uint8Array([1,0,0,7,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,l>>24&255,l>>16&255,l>>8&255,255&l,0,0,0,0,d>>24,d>>16&255,d>>8&255,255&d,v>>24,v>>16&255,v>>8&255,255&v,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,s>>8&255,255&s,0,0,c>>8&255,255&c,0,0]))},i.traf=function(o,l){var u=i.sdtp(o),s=o.id,c=Math.floor(l/(r+1)),d=Math.floor(l%(r+1));return i.box(i.types.traf,i.box(i.types.tfhd,new Uint8Array([0,0,0,0,s>>24,s>>16&255,s>>8&255,255&s])),i.box(i.types.tfdt,new Uint8Array([1,0,0,0,c>>24,c>>16&255,c>>8&255,255&c,d>>24,d>>16&255,d>>8&255,255&d])),i.trun(o,u.length+16+20+8+16+8+8),u)},i.trak=function(o){return o.duration=o.duration||4294967295,i.box(i.types.trak,i.tkhd(o),i.mdia(o))},i.trex=function(o){var l=o.id;return i.box(i.types.trex,new Uint8Array([0,0,0,0,l>>24,l>>16&255,l>>8&255,255&l,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,1]))},i.trun=function(o,l){var u,s,c,d,v,S,E=o.samples||[],m=E.length,f=12+16*m,g=new Uint8Array(f);for(l+=8+f,g.set([0,0,15,1,m>>>24&255,m>>>16&255,m>>>8&255,255&m,l>>>24&255,l>>>16&255,l>>>8&255,255&l],0),u=0;u<m;u++)c=(s=E[u]).duration,d=s.size,v=s.flags,S=s.cts,g.set([c>>>24&255,c>>>16&255,c>>>8&255,255&c,d>>>24&255,d>>>16&255,d>>>8&255,255&d,v.isLeading<<2|v.dependsOn,v.isDependedOn<<6|v.hasRedundancy<<4|v.paddingValue<<1|v.isNonSync,61440&v.degradPrio,15&v.degradPrio,S>>>24&255,S>>>16&255,S>>>8&255,255&S],12+16*u);return i.box(i.types.trun,g)},i.initSegment=function(o){i.types||i.init();var l=i.moov(o),u=new Uint8Array(i.FTYP.byteLength+l.byteLength);return u.set(i.FTYP),u.set(l,i.FTYP.byteLength),u},i}();a.types=void 0,a.HDLR_TYPES=void 0,a.STTS=void 0,a.STSC=void 0,a.STCO=void 0,a.STSZ=void 0,a.VMHD=void 0,a.SMHD=void 0,a.STSD=void 0,a.FTYP=void 0,a.DINF=void 0,t.default=a},"./src/remux/mp4-remuxer.ts":function(e,t,n){n.r(t),n.d(t,"default",function(){return m}),n.d(t,"normalizePts",function(){return f});var r=n("./src/polyfills/number.ts"),a=n("./src/remux/aac-helper.ts"),i=n("./src/remux/mp4-generator.ts"),o=n("./src/events.ts"),l=n("./src/errors.ts"),u=n("./src/utils/logger.ts"),s=n("./src/types/loader.ts"),c=n("./src/utils/timescale-conversion.ts");function d(){return(d=Object.assign||function(y){for(var b=1;b<arguments.length;b++){var p=arguments[b];for(var C in p)Object.prototype.hasOwnProperty.call(p,C)&&(y[C]=p[C])}return y}).apply(this,arguments)}var v=null,S=null,E=!1,m=function(){function y(p,C,w,k){if(this.observer=void 0,this.config=void 0,this.typeSupported=void 0,this.ISGenerated=!1,this._initPTS=void 0,this._initDTS=void 0,this.nextAvcDts=null,this.nextAudioPts=null,this.isAudioContiguous=!1,this.isVideoContiguous=!1,this.observer=p,this.config=C,this.typeSupported=w,this.ISGenerated=!1,v===null){var _=(navigator.userAgent||"").match(/Chrome\/(\d+)/i);v=_?parseInt(_[1]):0}if(S===null){var T=navigator.userAgent.match(/Safari\/(\d+)/i);S=T?parseInt(T[1]):0}E=!!v&&v<75||!!S&&S<600}var b=y.prototype;return b.destroy=function(){},b.resetTimeStamp=function(p){u.logger.log("[mp4-remuxer]: initPTS & initDTS reset"),this._initPTS=this._initDTS=p},b.resetNextTimestamp=function(){u.logger.log("[mp4-remuxer]: reset next timestamp"),this.isVideoContiguous=!1,this.isAudioContiguous=!1},b.resetInitSegment=function(){u.logger.log("[mp4-remuxer]: ISGenerated flag reset"),this.ISGenerated=!1},b.getVideoStartPts=function(p){var C=!1,w=p.reduce(function(k,_){var T=_.pts-k;return T<-4294967296?(C=!0,f(k,_.pts)):T>0?k:_.pts},p[0].pts);return C&&u.logger.debug("PTS rollover detected"),w},b.remux=function(p,C,w,k,_,T,O,A){var P,D,I,x,L,$,M=_,j=_,F=p.pid>-1,U=C.pid>-1,B=C.samples.length,K=p.samples.length>0,V=B>1;if((!F||K)&&(!U||V)||this.ISGenerated||O){this.ISGenerated||(I=this.generateIS(p,C,_));var X=this.isVideoContiguous,Z=-1;if(V&&(Z=function(be){for(var G=0;G<be.length;G++)if(be[G].key)return G;return-1}(C.samples),!X&&this.config.forceKeyFrameOnDiscontinuity))if($=!0,Z>0){u.logger.warn("[mp4-remuxer]: Dropped "+Z+" out of "+B+" video samples due to a missing keyframe");var ne=this.getVideoStartPts(C.samples);C.samples=C.samples.slice(Z),C.dropped+=Z,j+=(C.samples[0].pts-ne)/(C.timescale||9e4)}else Z===-1&&(u.logger.warn("[mp4-remuxer]: No keyframe found out of "+B+" video samples"),$=!1);if(this.ISGenerated){if(K&&V){var ae=this.getVideoStartPts(C.samples),ye=(f(p.samples[0].pts,ae)-ae)/C.inputTimeScale;M+=Math.max(0,ye),j+=Math.max(0,-ye)}if(K){if(p.samplerate||(u.logger.warn("[mp4-remuxer]: regenerate InitSegment as audio detected"),I=this.generateIS(p,C,_)),D=this.remuxAudio(p,M,this.isAudioContiguous,T,U||V||A===s.PlaylistLevelType.AUDIO?j:void 0),V){var de=D?D.endPTS-D.startPTS:0;C.inputTimeScale||(u.logger.warn("[mp4-remuxer]: regenerate InitSegment as video detected"),I=this.generateIS(p,C,_)),P=this.remuxVideo(C,j,X,de)}}else V&&(P=this.remuxVideo(C,j,X,0));P&&(P.firstKeyFrame=Z,P.independent=Z!==-1)}}return this.ISGenerated&&(w.samples.length&&(L=this.remuxID3(w,_)),k.samples.length&&(x=this.remuxText(k,_))),{audio:D,video:P,initSegment:I,independent:$,text:x,id3:L}},b.generateIS=function(p,C,w){var k,_,T,O=p.samples,A=C.samples,P=this.typeSupported,D={},I=!Object(r.isFiniteNumber)(this._initPTS),x="audio/mp4";if(I&&(k=_=1/0),p.config&&O.length&&(p.timescale=p.samplerate,p.isAAC||(P.mpeg?(x="audio/mpeg",p.codec=""):P.mp3&&(p.codec="mp3")),D.audio={id:"audio",container:x,codec:p.codec,initSegment:!p.isAAC&&P.mpeg?new Uint8Array(0):i.default.initSegment([p]),metadata:{channelCount:p.channelCount}},I&&(T=p.inputTimeScale,k=_=O[0].pts-Math.round(T*w))),C.sps&&C.pps&&A.length&&(C.timescale=C.inputTimeScale,D.video={id:"main",container:"video/mp4",codec:C.codec,initSegment:i.default.initSegment([C]),metadata:{width:C.width,height:C.height}},I)){T=C.inputTimeScale;var L=this.getVideoStartPts(A),$=Math.round(T*w);_=Math.min(_,f(A[0].dts,L)-$),k=Math.min(k,L-$)}if(Object.keys(D).length)return this.ISGenerated=!0,I&&(this._initPTS=k,this._initDTS=_),{tracks:D,initPTS:k,timescale:T}},b.remuxVideo=function(p,C,w,k){var _,T,O,A=p.inputTimeScale,P=p.samples,D=[],I=P.length,x=this._initPTS,L=this.nextAvcDts,$=8,M=Number.POSITIVE_INFINITY,j=Number.NEGATIVE_INFINITY,F=0,U=!1;w&&L!==null||(L=C*A-(P[0].pts-f(P[0].dts,P[0].pts)));for(var B=0;B<I;B++){var K=P[B];K.pts=f(K.pts-x,L),K.dts=f(K.dts-x,L),K.dts>K.pts&&(F=Math.max(Math.min(F,K.pts-K.dts),-18e3)),K.dts<P[B>0?B-1:B].dts&&(U=!0)}U&&P.sort(function(Vn,ta){var dC=Vn.dts-ta.dts,fC=Vn.pts-ta.pts;return dC||fC}),T=P[0].dts,O=P[P.length-1].dts;var V=Math.round((O-T)/(I-1));if(F<0){if(F<-2*V){u.logger.warn("PTS < DTS detected in video samples, offsetting DTS from PTS by "+Object(c.toMsFromMpegTsClock)(-V,!0)+" ms");for(var X=F,Z=0;Z<I;Z++)P[Z].dts=X=Math.max(X,P[Z].pts-V),P[Z].pts=Math.max(X,P[Z].pts)}else{u.logger.warn("PTS < DTS detected in video samples, shifting DTS by "+Object(c.toMsFromMpegTsClock)(F,!0)+" ms to overcome this issue");for(var ne=0;ne<I;ne++)P[ne].dts=P[ne].dts+F}T=P[0].dts}if(w){var ae=T-L,ye=ae>V;if(ye||ae<-1){ye?u.logger.warn("AVC: "+Object(c.toMsFromMpegTsClock)(ae,!0)+" ms ("+ae+"dts) hole between fragments detected, filling it"):u.logger.warn("AVC: "+Object(c.toMsFromMpegTsClock)(-ae,!0)+" ms ("+ae+"dts) overlapping between fragments detected"),T=L;var de=P[0].pts-ae;P[0].dts=T,P[0].pts=de,u.logger.log("Video: First PTS/DTS adjusted: "+Object(c.toMsFromMpegTsClock)(de,!0)+"/"+Object(c.toMsFromMpegTsClock)(T,!0)+", delta: "+Object(c.toMsFromMpegTsClock)(ae,!0)+" ms")}}E&&(T=Math.max(0,T));for(var be=0,G=0,Y=0;Y<I;Y++){for(var Q=P[Y],re=Q.units,ie=re.length,le=0,Se=0;Se<ie;Se++)le+=re[Se].data.length;G+=le,be+=ie,Q.length=le,Q.dts=Math.max(Q.dts,T),Q.pts=Math.max(Q.pts,Q.dts,0),M=Math.min(Q.pts,M),j=Math.max(Q.pts,j)}O=P[I-1].dts;var fe,me=G+4*be+8;try{fe=new Uint8Array(me)}catch{return void this.observer.emit(o.Events.ERROR,o.Events.ERROR,{type:l.ErrorTypes.MUX_ERROR,details:l.ErrorDetails.REMUX_ALLOC_ERROR,fatal:!1,bytes:me,reason:"fail allocating video mdat "+me})}var ue=new DataView(fe.buffer);ue.setUint32(0,me),fe.set(i.default.types.mdat,4);for(var ke=0;ke<I;ke++){for(var Ee=P[ke],Ie=Ee.units,$e=0,je=0,at=Ie.length;je<at;je++){var Ze=Ie[je],Je=Ze.data,Ht=Ze.data.byteLength;ue.setUint32($,Ht),$+=4,fe.set(Je,$),$+=Ht,$e+=4+Ht}if(ke<I-1)_=P[ke+1].dts-Ee.dts;else{var ln=this.config,pn=Ee.dts-P[ke>0?ke-1:ke].dts;if(ln.stretchShortVideoTrack&&this.nextAudioPts!==null){var On=Math.floor(ln.maxBufferHole*A),ir=(k?M+k*A:this.nextAudioPts)-Ee.pts;ir>On?((_=ir-pn)<0&&(_=pn),u.logger.log("[mp4-remuxer]: It is approximately "+ir/90+" ms to the next segment; using duration "+_/90+" ms for the last video frame.")):_=pn}else _=pn}var Ct=Math.round(Ee.pts-Ee.dts);D.push(new g(Ee.key,_,$e,Ct))}if(D.length&&v&&v<70){var Pt=D[0].flags;Pt.dependsOn=2,Pt.isNonSync=0}console.assert(_!==void 0,"mp4SampleDuration must be computed"),this.nextAvcDts=L=O+_,this.isVideoContiguous=!0;var Un={data1:i.default.moof(p.sequenceNumber++,T,d({},p,{samples:D})),data2:fe,startPTS:M/A,endPTS:(j+_)/A,startDTS:T/A,endDTS:L/A,type:"video",hasAudio:!1,hasVideo:!0,nb:D.length,dropped:p.dropped};return p.samples=[],p.dropped=0,console.assert(fe.length,"MDAT length must not be zero"),Un},b.remuxAudio=function(p,C,w,k,_){var T=p.inputTimeScale,O=T/(p.samplerate?p.samplerate:T),A=p.isAAC?1024:1152,P=A*O,D=this._initPTS,I=!p.isAAC&&this.typeSupported.mpeg,x=[],L=p.samples,$=I?0:8,M=this.nextAudioPts||-1,j=C*T;if(this.isAudioContiguous=w=w||L.length&&M>0&&(k&&Math.abs(j-M)<9e3||Math.abs(f(L[0].pts-D,j)-M)<20*P),L.forEach(function(Je){Je.pts=f(Je.pts-D,j)}),!w||M<0){if(!(L=L.filter(function(Je){return Je.pts>=0})).length)return;M=_===0?0:k?Math.max(0,j):L[0].pts}if(p.isAAC)for(var F=_!==void 0,U=this.config.maxAudioFramesDrift,B=0,K=M;B<L.length;B++){var V=L[B],X=V.pts,Z=X-K,ne=Math.abs(1e3*Z/T);if(Z<=-U*P&&F)B===0&&(u.logger.warn("Audio frame @ "+(X/T).toFixed(3)+"s overlaps nextAudioPts by "+Math.round(1e3*Z/T)+" ms."),this.nextAudioPts=M=K=X);else if(Z>=U*P&&ne<1e4&&F){var ae=Math.round(Z/P);(K=X-ae*P)<0&&(ae--,K+=P),B===0&&(this.nextAudioPts=M=K),u.logger.warn("[mp4-remuxer]: Injecting "+ae+" audio frame @ "+(K/T).toFixed(3)+"s due to "+Math.round(1e3*Z/T)+" ms gap.");for(var ye=0;ye<ae;ye++){var de=Math.max(K,0),be=a.default.getSilentFrame(p.manifestCodec||p.codec,p.channelCount);be||(u.logger.log("[mp4-remuxer]: Unable to get silent frame for given audio codec; duplicating last frame instead."),be=V.unit.subarray()),L.splice(B,0,{unit:be,pts:de}),K+=P,B++}}V.pts=K,K+=P}for(var G,Y=null,Q=null,re=0,ie=L.length;ie--;)re+=L[ie].unit.byteLength;for(var le=0,Se=L.length;le<Se;le++){var fe=L[le],me=fe.unit,ue=fe.pts;if(Q!==null)x[le-1].duration=Math.round((ue-Q)/O);else{if(w&&p.isAAC&&(ue=M),Y=ue,!(re>0))return;re+=$;try{G=new Uint8Array(re)}catch{return void this.observer.emit(o.Events.ERROR,o.Events.ERROR,{type:l.ErrorTypes.MUX_ERROR,details:l.ErrorDetails.REMUX_ALLOC_ERROR,fatal:!1,bytes:re,reason:"fail allocating audio mdat "+re})}I||(new DataView(G.buffer).setUint32(0,re),G.set(i.default.types.mdat,4))}G.set(me,$);var ke=me.byteLength;$+=ke,x.push(new g(!0,A,ke,0)),Q=ue}var Ee=x.length;if(Ee){var Ie=x[x.length-1];this.nextAudioPts=M=Q+O*Ie.duration;var $e=I?new Uint8Array(0):i.default.moof(p.sequenceNumber++,Y/O,d({},p,{samples:x}));p.samples=[];var je=Y/T,at=M/T,Ze={data1:$e,data2:G,startPTS:je,endPTS:at,startDTS:je,endDTS:at,type:"audio",hasAudio:!0,hasVideo:!1,nb:Ee};return this.isAudioContiguous=!0,console.assert(G.length,"MDAT length must not be zero"),Ze}},b.remuxEmptyAudio=function(p,C,w,k){var _=p.inputTimeScale,T=_/(p.samplerate?p.samplerate:_),O=this.nextAudioPts,A=(O!==null?O:k.startDTS*_)+this._initDTS,P=k.endDTS*_+this._initDTS,D=1024*T,I=Math.ceil((P-A)/D),x=a.default.getSilentFrame(p.manifestCodec||p.codec,p.channelCount);if(u.logger.warn("[mp4-remuxer]: remux empty Audio"),x){for(var L=[],$=0;$<I;$++){var M=A+$*D;L.push({unit:x,pts:M,dts:M})}return p.samples=L,this.remuxAudio(p,C,w,!1)}u.logger.trace("[mp4-remuxer]: Unable to remuxEmptyAudio since we were unable to get a silent frame for given audio codec")},b.remuxID3=function(p,C){var w=p.samples.length;if(w){for(var k=p.inputTimeScale,_=this._initPTS,T=this._initDTS,O=0;O<w;O++){var A=p.samples[O];A.pts=f(A.pts-_,C*k)/k,A.dts=f(A.dts-T,C*k)/k}var P=p.samples;return p.samples=[],{samples:P}}},b.remuxText=function(p,C){var w=p.samples.length;if(w){for(var k=p.inputTimeScale,_=this._initPTS,T=0;T<w;T++){var O=p.samples[T];O.pts=f(O.pts-_,C*k)/k}p.samples.sort(function(P,D){return P.pts-D.pts});var A=p.samples;return p.samples=[],{samples:A}}},y}();function f(y,b){var p;if(b===null)return y;for(p=b<y?-8589934592:8589934592;Math.abs(y-b)>4294967296;)y+=p;return y}var g=function(y,b,p,C){this.size=void 0,this.duration=void 0,this.cts=void 0,this.flags=void 0,this.duration=b,this.size=p,this.cts=C,this.flags=new h(y)},h=function(y){this.isLeading=0,this.isDependedOn=0,this.hasRedundancy=0,this.degradPrio=0,this.dependsOn=1,this.isNonSync=1,this.dependsOn=y?2:1,this.isNonSync=y?0:1}},"./src/remux/passthrough-remuxer.ts":function(e,t,n){n.r(t);var r=n("./src/polyfills/number.ts"),a=n("./src/utils/mp4-tools.ts"),i=n("./src/loader/fragment.ts"),o=n("./src/utils/logger.ts"),l=function(){function c(){this.emitInitSegment=!1,this.audioCodec=void 0,this.videoCodec=void 0,this.initData=void 0,this.initPTS=void 0,this.initTracks=void 0,this.lastEndDTS=null}var d=c.prototype;return d.destroy=function(){},d.resetTimeStamp=function(v){this.initPTS=v,this.lastEndDTS=null},d.resetNextTimestamp=function(){this.lastEndDTS=null},d.resetInitSegment=function(v,S,E){this.audioCodec=S,this.videoCodec=E,this.generateInitSegment(v),this.emitInitSegment=!0},d.generateInitSegment=function(v){var S=this.audioCodec,E=this.videoCodec;if(!v||!v.byteLength)return this.initTracks=void 0,void(this.initData=void 0);var m=this.initData=Object(a.parseInitSegment)(v);S||(S=s(m.audio,i.ElementaryStreamTypes.AUDIO)),E||(E=s(m.video,i.ElementaryStreamTypes.VIDEO));var f={};m.audio&&m.video?f.audiovideo={container:"video/mp4",codec:S+","+E,initSegment:v,id:"main"}:m.audio?f.audio={container:"audio/mp4",codec:S,initSegment:v,id:"audio"}:m.video?f.video={container:"video/mp4",codec:E,initSegment:v,id:"main"}:o.logger.warn("[passthrough-remuxer.ts]: initSegment does not contain moov or trak boxes."),this.initTracks=f},d.remux=function(v,S,E,m,f){var g=this.initPTS,h=this.lastEndDTS,y={audio:void 0,video:void 0,text:m,id3:E,initSegment:void 0};Object(r.isFiniteNumber)(h)||(h=this.lastEndDTS=f||0);var b=S.samples;if(!b||!b.length)return y;var p={initPTS:void 0,timescale:1},C=this.initData;if(C&&C.length||(this.generateInitSegment(b),C=this.initData),!C||!C.length)return o.logger.warn("[passthrough-remuxer.ts]: Failed to generate initSegment."),y;this.emitInitSegment&&(p.tracks=this.initTracks,this.emitInitSegment=!1),Object(r.isFiniteNumber)(g)||(this.initPTS=p.initPTS=g=u(C,b,h));var w=Object(a.getDuration)(b,C),k=h,_=w+k;Object(a.offsetStartDTS)(C,b,g),w>0?this.lastEndDTS=_:(o.logger.warn("Duration parsed from mp4 should be greater than zero"),this.resetNextTimestamp());var T=!!C.audio,O=!!C.video,A="";T&&(A+="audio"),O&&(A+="video");var P={data1:b,startPTS:k,startDTS:k,endPTS:_,endDTS:_,type:A,hasAudio:T,hasVideo:O,nb:1,dropped:0};return y.audio=P.type==="audio"?P:void 0,y.video=P.type!=="audio"?P:void 0,y.text=m,y.id3=E,y.initSegment=p,y},c}(),u=function(c,d,v){return Object(a.getStartDTS)(c,d)-v};function s(c,d){var v=c==null?void 0:c.codec;return v&&v.length>4?v:v==="hvc1"?"hvc1.1.c.L120.90":v==="av01"?"av01.0.04M.08":v==="avc1"||d===i.ElementaryStreamTypes.VIDEO?"avc1.42e01e":"mp4a.40.5"}t.default=l},"./src/task-loop.ts":function(e,t,n){n.r(t),n.d(t,"default",function(){return r});var r=function(){function a(){this._boundTick=void 0,this._tickTimer=null,this._tickInterval=null,this._tickCallCount=0,this._boundTick=this.tick.bind(this)}var i=a.prototype;return i.destroy=function(){this.onHandlerDestroying(),this.onHandlerDestroyed()},i.onHandlerDestroying=function(){this.clearNextTick(),this.clearInterval()},i.onHandlerDestroyed=function(){},i.hasInterval=function(){return!!this._tickInterval},i.hasNextTick=function(){return!!this._tickTimer},i.setInterval=function(o){return!this._tickInterval&&(this._tickInterval=self.setInterval(this._boundTick,o),!0)},i.clearInterval=function(){return!!this._tickInterval&&(self.clearInterval(this._tickInterval),this._tickInterval=null,!0)},i.clearNextTick=function(){return!!this._tickTimer&&(self.clearTimeout(this._tickTimer),this._tickTimer=null,!0)},i.tick=function(){this._tickCallCount++,this._tickCallCount===1&&(this.doTick(),this._tickCallCount>1&&this.tickImmediate(),this._tickCallCount=0)},i.tickImmediate=function(){this.clearNextTick(),this._tickTimer=self.setTimeout(this._boundTick,0)},i.doTick=function(){},a}()},"./src/types/level.ts":function(e,t,n){function r(s,c){for(var d=0;d<c.length;d++){var v=c[d];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(s,v.key,v)}}var a,i;function o(s,c){var d=s.canSkipUntil,v=s.canSkipDateRanges,S=s.endSN;return d&&(c!==void 0?c-S:0)<d?v?a.v2:a.Yes:a.No}n.r(t),n.d(t,"HlsSkip",function(){return a}),n.d(t,"getSkipValue",function(){return o}),n.d(t,"HlsUrlParameters",function(){return l}),n.d(t,"Level",function(){return u}),(i=a||(a={})).No="",i.Yes="YES",i.v2="v2";var l=function(){function s(c,d,v){this.msn=void 0,this.part=void 0,this.skip=void 0,this.msn=c,this.part=d,this.skip=v}return s.prototype.addDirectives=function(c){var d=new self.URL(c);return this.msn!==void 0&&d.searchParams.set("_HLS_msn",this.msn.toString()),this.part!==void 0&&d.searchParams.set("_HLS_part",this.part.toString()),this.skip&&d.searchParams.set("_HLS_skip",this.skip),d.toString()},s}(),u=function(){function s(v){this.attrs=void 0,this.audioCodec=void 0,this.bitrate=void 0,this.codecSet=void 0,this.height=void 0,this.id=void 0,this.name=void 0,this.videoCodec=void 0,this.width=void 0,this.unknownCodecs=void 0,this.audioGroupIds=void 0,this.details=void 0,this.fragmentError=0,this.loadError=0,this.loaded=void 0,this.realBitrate=0,this.textGroupIds=void 0,this.url=void 0,this._urlId=0,this.url=[v.url],this.attrs=v.attrs,this.bitrate=v.bitrate,v.details&&(this.details=v.details),this.id=v.id||0,this.name=v.name,this.width=v.width||0,this.height=v.height||0,this.audioCodec=v.audioCodec,this.videoCodec=v.videoCodec,this.unknownCodecs=v.unknownCodecs,this.codecSet=[v.videoCodec,v.audioCodec].filter(function(S){return S}).join(",").replace(/\.[^.,]+/g,"")}var c,d;return c=s,(d=[{key:"maxBitrate",get:function(){return Math.max(this.realBitrate,this.bitrate)}},{key:"uri",get:function(){return this.url[this._urlId]||""}},{key:"urlId",get:function(){return this._urlId},set:function(v){var S=v%this.url.length;this._urlId!==S&&(this.details=void 0,this._urlId=S)}}])&&r(c.prototype,d),s}()},"./src/types/loader.ts":function(e,t,n){var r,a,i,o;n.r(t),n.d(t,"PlaylistContextType",function(){return r}),n.d(t,"PlaylistLevelType",function(){return i}),(a=r||(r={})).MANIFEST="manifest",a.LEVEL="level",a.AUDIO_TRACK="audioTrack",a.SUBTITLE_TRACK="subtitleTrack",(o=i||(i={})).MAIN="main",o.AUDIO="audio",o.SUBTITLE="subtitle"},"./src/types/transmuxer.ts":function(e,t,n){n.r(t),n.d(t,"ChunkMetadata",function(){return r});var r=function(a,i,o,l,u,s){l===void 0&&(l=0),u===void 0&&(u=-1),s===void 0&&(s=!1),this.level=void 0,this.sn=void 0,this.part=void 0,this.id=void 0,this.size=void 0,this.partial=void 0,this.transmuxing={start:0,executeStart:0,executeEnd:0,end:0},this.buffering={audio:{start:0,executeStart:0,executeEnd:0,end:0},video:{start:0,executeStart:0,executeEnd:0,end:0},audiovideo:{start:0,executeStart:0,executeEnd:0,end:0}},this.level=a,this.sn=i,this.id=o,this.size=l,this.part=u,this.partial=s}},"./src/utils/attr-list.ts":function(e,t,n){n.r(t),n.d(t,"AttrList",function(){return i});var r=/^(\d+)x(\d+)$/,a=/\s*(.+?)\s*=((?:\".*?\")|.*?)(?:,|$)/g,i=function(){function o(u){for(var s in typeof u=="string"&&(u=o.parseAttrList(u)),u)u.hasOwnProperty(s)&&(this[s]=u[s])}var l=o.prototype;return l.decimalInteger=function(u){var s=parseInt(this[u],10);return s>Number.MAX_SAFE_INTEGER?1/0:s},l.hexadecimalInteger=function(u){if(this[u]){var s=(this[u]||"0x").slice(2);s=(1&s.length?"0":"")+s;for(var c=new Uint8Array(s.length/2),d=0;d<s.length/2;d++)c[d]=parseInt(s.slice(2*d,2*d+2),16);return c}return null},l.hexadecimalIntegerAsNumber=function(u){var s=parseInt(this[u],16);return s>Number.MAX_SAFE_INTEGER?1/0:s},l.decimalFloatingPoint=function(u){return parseFloat(this[u])},l.optionalFloat=function(u,s){var c=this[u];return c?parseFloat(c):s},l.enumeratedString=function(u){return this[u]},l.bool=function(u){return this[u]==="YES"},l.decimalResolution=function(u){var s=r.exec(this[u]);if(s!==null)return{width:parseInt(s[1],10),height:parseInt(s[2],10)}},o.parseAttrList=function(u){var s,c={};for(a.lastIndex=0;(s=a.exec(u))!==null;){var d=s[2];d.indexOf('"')===0&&d.lastIndexOf('"')===d.length-1&&(d=d.slice(1,-1)),c[s[1]]=d}return c},o}()},"./src/utils/binary-search.ts":function(e,t,n){n.r(t),t.default={search:function(r,a){for(var i=0,o=r.length-1,l=null,u=null;i<=o;){var s=a(u=r[l=(i+o)/2|0]);if(s>0)i=l+1;else{if(!(s<0))return u;o=l-1}}return null}}},"./src/utils/buffer-helper.ts":function(e,t,n){n.r(t),n.d(t,"BufferHelper",function(){return i});var r=n("./src/utils/logger.ts"),a={length:0,start:function(){return 0},end:function(){return 0}},i=function(){function o(){}return o.isBuffered=function(l,u){try{if(l){for(var s=o.getBuffered(l),c=0;c<s.length;c++)if(u>=s.start(c)&&u<=s.end(c))return!0}}catch{}return!1},o.bufferInfo=function(l,u,s){try{if(l){var c,d=o.getBuffered(l),v=[];for(c=0;c<d.length;c++)v.push({start:d.start(c),end:d.end(c)});return this.bufferedInfo(v,u,s)}}catch{}return{len:0,start:u,end:u,nextStart:void 0}},o.bufferedInfo=function(l,u,s){u=Math.max(0,u),l.sort(function(p,C){var w=p.start-C.start;return w||C.end-p.end});var c=[];if(s)for(var d=0;d<l.length;d++){var v=c.length;if(v){var S=c[v-1].end;l[d].start-S<s?l[d].end>S&&(c[v-1].end=l[d].end):c.push(l[d])}else c.push(l[d])}else c=l;for(var E,m=0,f=u,g=u,h=0;h<c.length;h++){var y=c[h].start,b=c[h].end;if(u+s>=y&&u<b)f=y,m=(g=b)-u;else if(u+s<y){E=y;break}}return{len:m,start:f||0,end:g||0,nextStart:E}},o.getBuffered=function(l){try{return l.buffered}catch(u){return r.logger.log("failed to get media.buffered",u),a}},o}()},"./src/utils/cea-608-parser.ts":function(e,t,n){n.r(t),n.d(t,"Row",function(){return y}),n.d(t,"CaptionScreen",function(){return b});var r,a,i=n("./src/utils/logger.ts"),o={42:225,92:233,94:237,95:243,96:250,123:231,124:247,125:209,126:241,127:9608,128:174,129:176,130:189,131:191,132:8482,133:162,134:163,135:9834,136:224,137:32,138:232,139:226,140:234,141:238,142:244,143:251,144:193,145:201,146:211,147:218,148:220,149:252,150:8216,151:161,152:42,153:8217,154:9473,155:169,156:8480,157:8226,158:8220,159:8221,160:192,161:194,162:199,163:200,164:202,165:203,166:235,167:206,168:207,169:239,170:212,171:217,172:249,173:219,174:171,175:187,176:195,177:227,178:205,179:204,180:236,181:210,182:242,183:213,184:245,185:123,186:125,187:92,188:94,189:95,190:124,191:8764,192:196,193:228,194:214,195:246,196:223,197:165,198:164,199:9475,200:197,201:229,202:216,203:248,204:9487,205:9491,206:9495,207:9499},l=function(_){var T=_;return o.hasOwnProperty(_)&&(T=o[_]),String.fromCharCode(T)},u=15,s=100,c={17:1,18:3,21:5,22:7,23:9,16:11,19:12,20:14},d={17:2,18:4,21:6,22:8,23:10,19:13,20:15},v={25:1,26:3,29:5,30:7,31:9,24:11,27:12,28:14},S={25:2,26:4,29:6,30:8,31:10,27:13,28:15},E=["white","green","blue","cyan","red","yellow","magenta","black","transparent"];(a=r||(r={}))[a.ERROR=0]="ERROR",a[a.TEXT=1]="TEXT",a[a.WARNING=2]="WARNING",a[a.INFO=2]="INFO",a[a.DEBUG=3]="DEBUG",a[a.DATA=3]="DATA";var m=function(){function _(){this.time=null,this.verboseLevel=r.ERROR}return _.prototype.log=function(T,O){this.verboseLevel>=T&&i.logger.log(this.time+" ["+T+"] "+O)},_}(),f=function(_){for(var T=[],O=0;O<_.length;O++)T.push(_[O].toString(16));return T},g=function(){function _(O,A,P,D,I){this.foreground=void 0,this.underline=void 0,this.italics=void 0,this.background=void 0,this.flash=void 0,this.foreground=O||"white",this.underline=A||!1,this.italics=P||!1,this.background=D||"black",this.flash=I||!1}var T=_.prototype;return T.reset=function(){this.foreground="white",this.underline=!1,this.italics=!1,this.background="black",this.flash=!1},T.setStyles=function(O){for(var A=["foreground","underline","italics","background","flash"],P=0;P<A.length;P++){var D=A[P];O.hasOwnProperty(D)&&(this[D]=O[D])}},T.isDefault=function(){return this.foreground==="white"&&!this.underline&&!this.italics&&this.background==="black"&&!this.flash},T.equals=function(O){return this.foreground===O.foreground&&this.underline===O.underline&&this.italics===O.italics&&this.background===O.background&&this.flash===O.flash},T.copy=function(O){this.foreground=O.foreground,this.underline=O.underline,this.italics=O.italics,this.background=O.background,this.flash=O.flash},T.toString=function(){return"color="+this.foreground+", underline="+this.underline+", italics="+this.italics+", background="+this.background+", flash="+this.flash},_}(),h=function(){function _(O,A,P,D,I,x){this.uchar=void 0,this.penState=void 0,this.uchar=O||" ",this.penState=new g(A,P,D,I,x)}var T=_.prototype;return T.reset=function(){this.uchar=" ",this.penState.reset()},T.setChar=function(O,A){this.uchar=O,this.penState.copy(A)},T.setPenState=function(O){this.penState.copy(O)},T.equals=function(O){return this.uchar===O.uchar&&this.penState.equals(O.penState)},T.copy=function(O){this.uchar=O.uchar,this.penState.copy(O.penState)},T.isEmpty=function(){return this.uchar===" "&&this.penState.isDefault()},_}(),y=function(){function _(O){this.chars=void 0,this.pos=void 0,this.currPenState=void 0,this.cueStartTime=void 0,this.logger=void 0,this.chars=[];for(var A=0;A<s;A++)this.chars.push(new h);this.logger=O,this.pos=0,this.currPenState=new g}var T=_.prototype;return T.equals=function(O){for(var A=!0,P=0;P<s;P++)if(!this.chars[P].equals(O.chars[P])){A=!1;break}return A},T.copy=function(O){for(var A=0;A<s;A++)this.chars[A].copy(O.chars[A])},T.isEmpty=function(){for(var O=!0,A=0;A<s;A++)if(!this.chars[A].isEmpty()){O=!1;break}return O},T.setCursor=function(O){this.pos!==O&&(this.pos=O),this.pos<0?(this.logger.log(r.DEBUG,"Negative cursor position "+this.pos),this.pos=0):this.pos>s&&(this.logger.log(r.DEBUG,"Too large cursor position "+this.pos),this.pos=s)},T.moveCursor=function(O){var A=this.pos+O;if(O>1)for(var P=this.pos+1;P<A+1;P++)this.chars[P].setPenState(this.currPenState);this.setCursor(A)},T.backSpace=function(){this.moveCursor(-1),this.chars[this.pos].setChar(" ",this.currPenState)},T.insertChar=function(O){O>=144&&this.backSpace();var A=l(O);this.pos>=s?this.logger.log(r.ERROR,"Cannot insert "+O.toString(16)+" ("+A+") at position "+this.pos+". Skipping it!"):(this.chars[this.pos].setChar(A,this.currPenState),this.moveCursor(1))},T.clearFromPos=function(O){var A;for(A=O;A<s;A++)this.chars[A].reset()},T.clear=function(){this.clearFromPos(0),this.pos=0,this.currPenState.reset()},T.clearToEndOfRow=function(){this.clearFromPos(this.pos)},T.getTextString=function(){for(var O=[],A=!0,P=0;P<s;P++){var D=this.chars[P].uchar;D!==" "&&(A=!1),O.push(D)}return A?"":O.join("")},T.setPenStyles=function(O){this.currPenState.setStyles(O),this.chars[this.pos].setPenState(this.currPenState)},_}(),b=function(){function _(O){this.rows=void 0,this.currRow=void 0,this.nrRollUpRows=void 0,this.lastOutputScreen=void 0,this.logger=void 0,this.rows=[];for(var A=0;A<u;A++)this.rows.push(new y(O));this.logger=O,this.currRow=14,this.nrRollUpRows=null,this.lastOutputScreen=null,this.reset()}var T=_.prototype;return T.reset=function(){for(var O=0;O<u;O++)this.rows[O].clear();this.currRow=14},T.equals=function(O){for(var A=!0,P=0;P<u;P++)if(!this.rows[P].equals(O.rows[P])){A=!1;break}return A},T.copy=function(O){for(var A=0;A<u;A++)this.rows[A].copy(O.rows[A])},T.isEmpty=function(){for(var O=!0,A=0;A<u;A++)if(!this.rows[A].isEmpty()){O=!1;break}return O},T.backSpace=function(){this.rows[this.currRow].backSpace()},T.clearToEndOfRow=function(){this.rows[this.currRow].clearToEndOfRow()},T.insertChar=function(O){this.rows[this.currRow].insertChar(O)},T.setPen=function(O){this.rows[this.currRow].setPenStyles(O)},T.moveCursor=function(O){this.rows[this.currRow].moveCursor(O)},T.setCursor=function(O){this.logger.log(r.INFO,"setCursor: "+O),this.rows[this.currRow].setCursor(O)},T.setPAC=function(O){this.logger.log(r.INFO,"pacData = "+JSON.stringify(O));var A=O.row-1;if(this.nrRollUpRows&&A<this.nrRollUpRows-1&&(A=this.nrRollUpRows-1),this.nrRollUpRows&&this.currRow!==A){for(var P=0;P<u;P++)this.rows[P].clear();var D=this.currRow+1-this.nrRollUpRows,I=this.lastOutputScreen;if(I){var x=I.rows[D].cueStartTime,L=this.logger.time;if(x&&L!==null&&x<L)for(var $=0;$<this.nrRollUpRows;$++)this.rows[A-this.nrRollUpRows+$+1].copy(I.rows[D+$])}}this.currRow=A;var M=this.rows[this.currRow];if(O.indent!==null){var j=O.indent,F=Math.max(j-1,0);M.setCursor(O.indent),O.color=M.chars[F].penState.foreground}var U={foreground:O.color,underline:O.underline,italics:O.italics,background:"black",flash:!1};this.setPen(U)},T.setBkgData=function(O){this.logger.log(r.INFO,"bkgData = "+JSON.stringify(O)),this.backSpace(),this.setPen(O),this.insertChar(32)},T.setRollUpRows=function(O){this.nrRollUpRows=O},T.rollUp=function(){if(this.nrRollUpRows!==null){this.logger.log(r.TEXT,this.getDisplayText());var O=this.currRow+1-this.nrRollUpRows,A=this.rows.splice(O,1)[0];A.clear(),this.rows.splice(this.currRow,0,A),this.logger.log(r.INFO,"Rolling up")}else this.logger.log(r.DEBUG,"roll_up but nrRollUpRows not set yet")},T.getDisplayText=function(O){O=O||!1;for(var A=[],P="",D=-1,I=0;I<u;I++){var x=this.rows[I].getTextString();x&&(D=I+1,O?A.push("Row "+D+": '"+x+"'"):A.push(x.trim()))}return A.length>0&&(P=O?"["+A.join(" | ")+"]":A.join(`
`)),P},T.getTextAndFormat=function(){return this.rows},_}(),p=function(){function _(O,A,P){this.chNr=void 0,this.outputFilter=void 0,this.mode=void 0,this.verbose=void 0,this.displayedMemory=void 0,this.nonDisplayedMemory=void 0,this.lastOutputScreen=void 0,this.currRollUpRow=void 0,this.writeScreen=void 0,this.cueStartTime=void 0,this.logger=void 0,this.chNr=O,this.outputFilter=A,this.mode=null,this.verbose=0,this.displayedMemory=new b(P),this.nonDisplayedMemory=new b(P),this.lastOutputScreen=new b(P),this.currRollUpRow=this.displayedMemory.rows[14],this.writeScreen=this.displayedMemory,this.mode=null,this.cueStartTime=null,this.logger=P}var T=_.prototype;return T.reset=function(){this.mode=null,this.displayedMemory.reset(),this.nonDisplayedMemory.reset(),this.lastOutputScreen.reset(),this.outputFilter.reset(),this.currRollUpRow=this.displayedMemory.rows[14],this.writeScreen=this.displayedMemory,this.mode=null,this.cueStartTime=null},T.getHandler=function(){return this.outputFilter},T.setHandler=function(O){this.outputFilter=O},T.setPAC=function(O){this.writeScreen.setPAC(O)},T.setBkgData=function(O){this.writeScreen.setBkgData(O)},T.setMode=function(O){O!==this.mode&&(this.mode=O,this.logger.log(r.INFO,"MODE="+O),this.mode==="MODE_POP-ON"?this.writeScreen=this.nonDisplayedMemory:(this.writeScreen=this.displayedMemory,this.writeScreen.reset()),this.mode!=="MODE_ROLL-UP"&&(this.displayedMemory.nrRollUpRows=null,this.nonDisplayedMemory.nrRollUpRows=null),this.mode=O)},T.insertChars=function(O){for(var A=0;A<O.length;A++)this.writeScreen.insertChar(O[A]);var P=this.writeScreen===this.displayedMemory?"DISP":"NON_DISP";this.logger.log(r.INFO,P+": "+this.writeScreen.getDisplayText(!0)),this.mode!=="MODE_PAINT-ON"&&this.mode!=="MODE_ROLL-UP"||(this.logger.log(r.TEXT,"DISPLAYED: "+this.displayedMemory.getDisplayText(!0)),this.outputDataUpdate())},T.ccRCL=function(){this.logger.log(r.INFO,"RCL - Resume Caption Loading"),this.setMode("MODE_POP-ON")},T.ccBS=function(){this.logger.log(r.INFO,"BS - BackSpace"),this.mode!=="MODE_TEXT"&&(this.writeScreen.backSpace(),this.writeScreen===this.displayedMemory&&this.outputDataUpdate())},T.ccAOF=function(){},T.ccAON=function(){},T.ccDER=function(){this.logger.log(r.INFO,"DER- Delete to End of Row"),this.writeScreen.clearToEndOfRow(),this.outputDataUpdate()},T.ccRU=function(O){this.logger.log(r.INFO,"RU("+O+") - Roll Up"),this.writeScreen=this.displayedMemory,this.setMode("MODE_ROLL-UP"),this.writeScreen.setRollUpRows(O)},T.ccFON=function(){this.logger.log(r.INFO,"FON - Flash On"),this.writeScreen.setPen({flash:!0})},T.ccRDC=function(){this.logger.log(r.INFO,"RDC - Resume Direct Captioning"),this.setMode("MODE_PAINT-ON")},T.ccTR=function(){this.logger.log(r.INFO,"TR"),this.setMode("MODE_TEXT")},T.ccRTD=function(){this.logger.log(r.INFO,"RTD"),this.setMode("MODE_TEXT")},T.ccEDM=function(){this.logger.log(r.INFO,"EDM - Erase Displayed Memory"),this.displayedMemory.reset(),this.outputDataUpdate(!0)},T.ccCR=function(){this.logger.log(r.INFO,"CR - Carriage Return"),this.writeScreen.rollUp(),this.outputDataUpdate(!0)},T.ccENM=function(){this.logger.log(r.INFO,"ENM - Erase Non-displayed Memory"),this.nonDisplayedMemory.reset()},T.ccEOC=function(){if(this.logger.log(r.INFO,"EOC - End Of Caption"),this.mode==="MODE_POP-ON"){var O=this.displayedMemory;this.displayedMemory=this.nonDisplayedMemory,this.nonDisplayedMemory=O,this.writeScreen=this.nonDisplayedMemory,this.logger.log(r.TEXT,"DISP: "+this.displayedMemory.getDisplayText())}this.outputDataUpdate(!0)},T.ccTO=function(O){this.logger.log(r.INFO,"TO("+O+") - Tab Offset"),this.writeScreen.moveCursor(O)},T.ccMIDROW=function(O){var A={flash:!1};if(A.underline=O%2==1,A.italics=O>=46,A.italics)A.foreground="white";else{var P=Math.floor(O/2)-16;A.foreground=["white","green","blue","cyan","red","yellow","magenta"][P]}this.logger.log(r.INFO,"MIDROW: "+JSON.stringify(A)),this.writeScreen.setPen(A)},T.outputDataUpdate=function(O){O===void 0&&(O=!1);var A=this.logger.time;A!==null&&this.outputFilter&&(this.cueStartTime!==null||this.displayedMemory.isEmpty()?this.displayedMemory.equals(this.lastOutputScreen)||(this.outputFilter.newCue(this.cueStartTime,A,this.lastOutputScreen),O&&this.outputFilter.dispatchCue&&this.outputFilter.dispatchCue(),this.cueStartTime=this.displayedMemory.isEmpty()?null:A):this.cueStartTime=A,this.lastOutputScreen.copy(this.displayedMemory))},T.cueSplitAtTime=function(O){this.outputFilter&&(this.displayedMemory.isEmpty()||(this.outputFilter.newCue&&this.outputFilter.newCue(this.cueStartTime,O,this.displayedMemory),this.cueStartTime=O))},_}(),C=function(){function _(O,A,P){this.channels=void 0,this.currentChannel=0,this.cmdHistory=void 0,this.logger=void 0;var D=new m;this.channels=[null,new p(O,A,D),new p(O+1,P,D)],this.cmdHistory={a:null,b:null},this.logger=D}var T=_.prototype;return T.getHandler=function(O){return this.channels[O].getHandler()},T.setHandler=function(O,A){this.channels[O].setHandler(A)},T.addData=function(O,A){var P,D,I,x=!1;this.logger.time=O;for(var L=0;L<A.length;L+=2)if(D=127&A[L],I=127&A[L+1],D!==0||I!==0){if(this.logger.log(r.DATA,"["+f([A[L],A[L+1]])+"] -> ("+f([D,I])+")"),(P=this.parseCmd(D,I))||(P=this.parseMidrow(D,I)),P||(P=this.parsePAC(D,I)),P||(P=this.parseBackgroundAttributes(D,I)),!P&&(x=this.parseChars(D,I))){var $=this.currentChannel;$&&$>0?this.channels[$].insertChars(x):this.logger.log(r.WARNING,"No channel found yet. TEXT-MODE?")}P||x||this.logger.log(r.WARNING,"Couldn't parse cleaned data "+f([D,I])+" orig: "+f([A[L],A[L+1]]))}},T.parseCmd=function(O,A){var P=this.cmdHistory;if(!((O===20||O===28||O===21||O===29)&&A>=32&&A<=47||(O===23||O===31)&&A>=33&&A<=35))return!1;if(k(O,A,P))return w(null,null,P),this.logger.log(r.DEBUG,"Repeated command ("+f([O,A])+") is dropped"),!0;var D=O===20||O===21||O===23?1:2,I=this.channels[D];return O===20||O===21||O===28||O===29?A===32?I.ccRCL():A===33?I.ccBS():A===34?I.ccAOF():A===35?I.ccAON():A===36?I.ccDER():A===37?I.ccRU(2):A===38?I.ccRU(3):A===39?I.ccRU(4):A===40?I.ccFON():A===41?I.ccRDC():A===42?I.ccTR():A===43?I.ccRTD():A===44?I.ccEDM():A===45?I.ccCR():A===46?I.ccENM():A===47&&I.ccEOC():I.ccTO(A-32),w(O,A,P),this.currentChannel=D,!0},T.parseMidrow=function(O,A){var P=0;if((O===17||O===25)&&A>=32&&A<=47){if((P=O===17?1:2)!==this.currentChannel)return this.logger.log(r.ERROR,"Mismatch channel in midrow parsing"),!1;var D=this.channels[P];return!!D&&(D.ccMIDROW(A),this.logger.log(r.DEBUG,"MIDROW ("+f([O,A])+")"),!0)}return!1},T.parsePAC=function(O,A){var P,D=this.cmdHistory;if(!((O>=17&&O<=23||O>=25&&O<=31)&&A>=64&&A<=127||(O===16||O===24)&&A>=64&&A<=95))return!1;if(k(O,A,D))return w(null,null,D),!0;var I=O<=23?1:2;P=A>=64&&A<=95?I===1?c[O]:v[O]:I===1?d[O]:S[O];var x=this.channels[I];return!!x&&(x.setPAC(this.interpretPAC(P,A)),w(O,A,D),this.currentChannel=I,!0)},T.interpretPAC=function(O,A){var P,D={color:null,italics:!1,indent:null,underline:!1,row:O};return P=A>95?A-96:A-64,D.underline=(1&P)==1,P<=13?D.color=["white","green","blue","cyan","red","yellow","magenta","white"][Math.floor(P/2)]:P<=15?(D.italics=!0,D.color="white"):D.indent=4*Math.floor((P-16)/2),D},T.parseChars=function(O,A){var P,D,I=null,x=null;if(O>=25?(P=2,x=O-8):(P=1,x=O),x>=17&&x<=19?(D=x===17?A+80:x===18?A+112:A+144,this.logger.log(r.INFO,"Special char '"+l(D)+"' in channel "+P),I=[D]):O>=32&&O<=127&&(I=A===0?[O]:[O,A]),I){var L=f(I);this.logger.log(r.DEBUG,"Char codes =  "+L.join(",")),w(O,A,this.cmdHistory)}return I},T.parseBackgroundAttributes=function(O,A){var P;if(!((O===16||O===24)&&A>=32&&A<=47||(O===23||O===31)&&A>=45&&A<=47))return!1;var D={};O===16||O===24?(P=Math.floor((A-32)/2),D.background=E[P],A%2==1&&(D.background=D.background+"_semi")):A===45?D.background="transparent":(D.foreground="black",A===47&&(D.underline=!0));var I=O<=23?1:2;return this.channels[I].setBkgData(D),w(O,A,this.cmdHistory),!0},T.reset=function(){for(var O=0;O<Object.keys(this.channels).length;O++){var A=this.channels[O];A&&A.reset()}this.cmdHistory={a:null,b:null}},T.cueSplitAtTime=function(O){for(var A=0;A<this.channels.length;A++){var P=this.channels[A];P&&P.cueSplitAtTime(O)}},_}();function w(_,T,O){O.a=_,O.b=T}function k(_,T,O){return O.a===_&&O.b===T}t.default=C},"./src/utils/codecs.ts":function(e,t,n){n.r(t),n.d(t,"isCodecType",function(){return a}),n.d(t,"isCodecSupportedInMp4",function(){return i});var r={audio:{a3ds:!0,"ac-3":!0,"ac-4":!0,alac:!0,alaw:!0,dra1:!0,"dts+":!0,"dts-":!0,dtsc:!0,dtse:!0,dtsh:!0,"ec-3":!0,enca:!0,g719:!0,g726:!0,m4ae:!0,mha1:!0,mha2:!0,mhm1:!0,mhm2:!0,mlpa:!0,mp4a:!0,"raw ":!0,Opus:!0,samr:!0,sawb:!0,sawp:!0,sevc:!0,sqcp:!0,ssmv:!0,twos:!0,ulaw:!0},video:{avc1:!0,avc2:!0,avc3:!0,avc4:!0,avcp:!0,av01:!0,drac:!0,dvav:!0,dvhe:!0,encv:!0,hev1:!0,hvc1:!0,mjp2:!0,mp4v:!0,mvc1:!0,mvc2:!0,mvc3:!0,mvc4:!0,resv:!0,rv60:!0,s263:!0,svc1:!0,svc2:!0,"vc-1":!0,vp08:!0,vp09:!0},text:{stpp:!0,wvtt:!0}};function a(o,l){var u=r[l];return!!u&&u[o.slice(0,4)]===!0}function i(o,l){return MediaSource.isTypeSupported((l||"video")+'/mp4;codecs="'+o+'"')}},"./src/utils/cues.ts":function(e,t,n){n.r(t);var r=n("./src/utils/vttparser.ts"),a=n("./src/utils/webvtt-parser.ts"),i=n("./src/utils/texttrack-utils.ts"),o=/\s/,l={newCue:function(u,s,c,d){for(var v,S,E,m,f,g=[],h=self.VTTCue||self.TextTrackCue,y=0;y<d.rows.length;y++)if(E=!0,m=0,f="",!(v=d.rows[y]).isEmpty()){for(var b=0;b<v.chars.length;b++)o.test(v.chars[b].uchar)&&E?m++:(f+=v.chars[b].uchar,E=!1);v.cueStartTime=s,s===c&&(c+=1e-4),m>=16?m--:m++;var p=Object(r.fixLineBreaks)(f.trim()),C=Object(a.generateCueId)(s,c,p);u&&u.cues&&u.cues.getCueById(C)||((S=new h(s,c,p)).id=C,S.line=y+1,S.align="left",S.position=10+Math.min(80,10*Math.floor(8*m/32)),g.push(S))}return u&&g.length&&(g.sort(function(w,k){return w.line==="auto"||k.line==="auto"?0:w.line>8&&k.line>8?k.line-w.line:w.line-k.line}),g.forEach(function(w){return Object(i.addCueToTrack)(u,w)})),g}};t.default=l},"./src/utils/discontinuities.ts":function(e,t,n){n.r(t),n.d(t,"findFirstFragWithCC",function(){return o}),n.d(t,"shouldAlignOnDiscontinuities",function(){return l}),n.d(t,"findDiscontinuousReferenceFrag",function(){return u}),n.d(t,"adjustSlidingStart",function(){return c}),n.d(t,"alignStream",function(){return d}),n.d(t,"alignPDT",function(){return v});var r=n("./src/polyfills/number.ts"),a=n("./src/utils/logger.ts"),i=n("./src/controller/level-helper.ts");function o(S,E){for(var m=null,f=0,g=S.length;f<g;f++){var h=S[f];if(h&&h.cc===E){m=h;break}}return m}function l(S,E,m){return!(!E.details||!(m.endCC>m.startCC||S&&S.cc<m.startCC))}function u(S,E){var m=S.fragments,f=E.fragments;if(f.length&&m.length){var g=o(m,f[0].cc);if(g&&(!g||g.startPTS))return g;a.logger.log("No frag in previous level to align on")}else a.logger.log("No fragments to align")}function s(S,E){if(S){var m=S.start+E;S.start=S.startPTS=m,S.endPTS=m+S.duration}}function c(S,E){for(var m=E.fragments,f=0,g=m.length;f<g;f++)s(m[f],S);E.fragmentHint&&s(E.fragmentHint,S),E.alignedSliding=!0}function d(S,E,m){E&&(function(f,g,h){if(l(f,h,g)){var y=u(h.details,g);y&&Object(r.isFiniteNumber)(y.start)&&(a.logger.log("Adjusting PTS using last level due to CC increase within current level "+g.url),c(y.start,g))}}(S,m,E),!m.alignedSliding&&E.details&&v(m,E.details),m.alignedSliding||!E.details||m.skippedSegments||Object(i.adjustSliding)(E.details,m))}function v(S,E){if(E.fragments.length&&S.hasProgramDateTime&&E.hasProgramDateTime){var m=E.fragments[0].programDateTime,f=S.fragments[0].programDateTime,g=(f-m)/1e3+E.fragments[0].start;g&&Object(r.isFiniteNumber)(g)&&(a.logger.log("Adjusting PTS using programDateTime delta "+(f-m)+"ms, sliding:"+g.toFixed(3)+" "+S.url+" "),c(g,S))}}},"./src/utils/ewma-bandwidth-estimator.ts":function(e,t,n){n.r(t);var r=n("./src/utils/ewma.ts"),a=function(){function i(l,u,s){this.defaultEstimate_=void 0,this.minWeight_=void 0,this.minDelayMs_=void 0,this.slow_=void 0,this.fast_=void 0,this.defaultEstimate_=s,this.minWeight_=.001,this.minDelayMs_=50,this.slow_=new r.default(l),this.fast_=new r.default(u)}var o=i.prototype;return o.update=function(l,u){var s=this.slow_,c=this.fast_;this.slow_.halfLife!==l&&(this.slow_=new r.default(l,s.getEstimate(),s.getTotalWeight())),this.fast_.halfLife!==u&&(this.fast_=new r.default(u,c.getEstimate(),c.getTotalWeight()))},o.sample=function(l,u){var s=(l=Math.max(l,this.minDelayMs_))/1e3,c=8*u/s;this.fast_.sample(s,c),this.slow_.sample(s,c)},o.canEstimate=function(){var l=this.fast_;return l&&l.getTotalWeight()>=this.minWeight_},o.getEstimate=function(){return this.canEstimate()?Math.min(this.fast_.getEstimate(),this.slow_.getEstimate()):this.defaultEstimate_},o.destroy=function(){},i}();t.default=a},"./src/utils/ewma.ts":function(e,t,n){n.r(t);var r=function(){function a(o,l,u){l===void 0&&(l=0),u===void 0&&(u=0),this.halfLife=void 0,this.alpha_=void 0,this.estimate_=void 0,this.totalWeight_=void 0,this.halfLife=o,this.alpha_=o?Math.exp(Math.log(.5)/o):0,this.estimate_=l,this.totalWeight_=u}var i=a.prototype;return i.sample=function(o,l){var u=Math.pow(this.alpha_,o);this.estimate_=l*(1-u)+u*this.estimate_,this.totalWeight_+=o},i.getTotalWeight=function(){return this.totalWeight_},i.getEstimate=function(){if(this.alpha_){var o=1-Math.pow(this.alpha_,this.totalWeight_);if(o)return this.estimate_/o}return this.estimate_},a}();t.default=r},"./src/utils/fetch-loader.ts":function(e,t,n){n.r(t),n.d(t,"fetchSupported",function(){return d});var r=n("./src/polyfills/number.ts"),a=n("./src/loader/load-stats.ts"),i=n("./src/demux/chunk-cache.ts");function o(m){var f=typeof Map=="function"?new Map:void 0;return(o=function(g){if(g===null||(h=g,Function.toString.call(h).indexOf("[native code]")===-1))return g;var h;if(typeof g!="function")throw new TypeError("Super expression must either be null or a function");if(f!==void 0){if(f.has(g))return f.get(g);f.set(g,y)}function y(){return l(g,arguments,c(this).constructor)}return y.prototype=Object.create(g.prototype,{constructor:{value:y,enumerable:!1,writable:!0,configurable:!0}}),s(y,g)})(m)}function l(m,f,g){return(l=u()?Reflect.construct:function(h,y,b){var p=[null];p.push.apply(p,y);var C=new(Function.bind.apply(h,p));return b&&s(C,b.prototype),C}).apply(null,arguments)}function u(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function s(m,f){return(s=Object.setPrototypeOf||function(g,h){return g.__proto__=h,g})(m,f)}function c(m){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(f){return f.__proto__||Object.getPrototypeOf(f)})(m)}function d(){if(self.fetch&&self.AbortController&&self.ReadableStream&&self.Request)try{return new self.ReadableStream({}),!0}catch{}return!1}var v=function(){function m(g){this.fetchSetup=void 0,this.requestTimeout=void 0,this.request=void 0,this.response=void 0,this.controller=void 0,this.context=void 0,this.config=null,this.callbacks=null,this.stats=void 0,this.loader=null,this.fetchSetup=g.fetchSetup||S,this.controller=new self.AbortController,this.stats=new a.LoadStats}var f=m.prototype;return f.destroy=function(){this.loader=this.callbacks=null,this.abortInternal()},f.abortInternal=function(){var g=this.response;g&&g.ok||(this.stats.aborted=!0,this.controller.abort())},f.abort=function(){var g;this.abortInternal(),(g=this.callbacks)!==null&&g!==void 0&&g.onAbort&&this.callbacks.onAbort(this.stats,this.context,this.response)},f.load=function(g,h,y){var b=this,p=this.stats;if(p.loading.start)throw new Error("Loader can only be used once.");p.loading.start=self.performance.now();var C=function(T,O){var A={method:"GET",mode:"cors",credentials:"same-origin",signal:O};return T.rangeEnd&&(A.headers=new self.Headers({Range:"bytes="+T.rangeStart+"-"+String(T.rangeEnd-1)})),A}(g,this.controller.signal),w=y.onProgress,k=g.responseType==="arraybuffer",_=k?"byteLength":"length";this.context=g,this.config=h,this.callbacks=y,this.request=this.fetchSetup(g,C),self.clearTimeout(this.requestTimeout),this.requestTimeout=self.setTimeout(function(){b.abortInternal(),y.onTimeout(p,g,b.response)},h.timeout),self.fetch(this.request).then(function(T){if(b.response=b.loader=T,!T.ok){var O=T.status,A=T.statusText;throw new E(A||"fetch, bad network response",O,T)}return p.loading.first=Math.max(self.performance.now(),p.loading.start),p.total=parseInt(T.headers.get("Content-Length")||"0"),w&&Object(r.isFiniteNumber)(h.highWaterMark)?b.loadProgressively(T,p,g,h.highWaterMark,w):k?T.arrayBuffer():T.text()}).then(function(T){var O=b.response;self.clearTimeout(b.requestTimeout),p.loading.end=Math.max(self.performance.now(),p.loading.first),p.loaded=p.total=T[_];var A={url:O.url,data:T};w&&!Object(r.isFiniteNumber)(h.highWaterMark)&&w(p,g,T,O),y.onSuccess(A,p,g,O)}).catch(function(T){if(self.clearTimeout(b.requestTimeout),!p.aborted){var O=T.code||0;y.onError({code:O,text:T.message},g,T.details)}})},f.getCacheAge=function(){var g=null;if(this.response){var h=this.response.headers.get("age");g=h?parseFloat(h):null}return g},f.loadProgressively=function(g,h,y,b,p){b===void 0&&(b=0);var C=new i.default,w=g.body.getReader();return function k(){return w.read().then(function(_){if(_.done)return C.dataLength&&p(h,y,C.flush(),g),Promise.resolve(new ArrayBuffer(0));var T=_.value,O=T.length;return h.loaded+=O,O<b||C.dataLength?(C.push(T),C.dataLength>=b&&p(h,y,C.flush(),g)):p(h,y,T,g),k()}).catch(function(){return Promise.reject()})}()},m}();function S(m,f){return new self.Request(m.url,f)}var E=function(m){var f,g;function h(y,b,p){var C;return(C=m.call(this,y)||this).code=void 0,C.details=void 0,C.code=b,C.details=p,C}return g=m,(f=h).prototype=Object.create(g.prototype),f.prototype.constructor=f,s(f,g),h}(o(Error));t.default=v},"./src/utils/imsc1-ttml-parser.ts":function(e,t,n){n.r(t),n.d(t,"IMSC1_CODEC",function(){return c}),n.d(t,"parseIMSC1",function(){return E});var r=n("./src/utils/mp4-tools.ts"),a=n("./src/utils/vttparser.ts"),i=n("./src/utils/vttcue.ts"),o=n("./src/demux/id3.ts"),l=n("./src/utils/timescale-conversion.ts"),u=n("./src/utils/webvtt-parser.ts");function s(){return(s=Object.assign||function(p){for(var C=1;C<arguments.length;C++){var w=arguments[C];for(var k in w)Object.prototype.hasOwnProperty.call(w,k)&&(p[k]=w[k])}return p}).apply(this,arguments)}var c="stpp.ttml.im1t",d=/^(\d{2,}):(\d{2}):(\d{2}):(\d{2})\.?(\d+)?$/,v=/^(\d*(?:\.\d*)?)(h|m|s|ms|f|t)$/,S={left:"start",center:"center",right:"end",start:"start",end:"end"};function E(p,C,w,k,_){var T=Object(r.findBox)(new Uint8Array(p),["mdat"]);if(T.length!==0){var O=T[0],A=Object(o.utf8ArrayToStr)(new Uint8Array(p,O.start,O.end-O.start)),P=Object(l.toTimescaleFromScale)(C,1,w);try{k(function(D,I){var x=new DOMParser().parseFromString(D,"text/xml").getElementsByTagName("tt")[0];if(!x)throw new Error("Invalid ttml");var L={frameRate:30,subFrameRate:1,frameRateMultiplier:0,tickRate:0},$=Object.keys(L).reduce(function(B,K){return B[K]=x.getAttribute("ttp:"+K)||L[K],B},{}),M=x.getAttribute("xml:space")!=="preserve",j=f(m(x,"styling","style")),F=f(m(x,"layout","region")),U=m(x,"body","[begin]");return[].map.call(U,function(B){var K=g(B,M);if(!K||!B.hasAttribute("begin"))return null;var V=b(B.getAttribute("begin"),$),X=b(B.getAttribute("dur"),$),Z=b(B.getAttribute("end"),$);if(V===null)throw y(B);if(Z===null){if(X===null)throw y(B);Z=V+X}var ne=new i.default(V-I,Z-I,K);ne.id=Object(u.generateCueId)(ne.startTime,ne.endTime,ne.text);var ae=F[B.getAttribute("region")],ye=j[B.getAttribute("style")];ne.position=10,ne.size=80;var de=function(Y,Q){var re="http://www.w3.org/ns/ttml#styling";return["displayAlign","textAlign","color","backgroundColor","fontSize","fontFamily"].reduce(function(ie,le){var Se=h(Q,re,le)||h(Y,re,le);return Se&&(ie[le]=Se),ie},{})}(ae,ye),be=de.textAlign;if(be){var G=S[be];G&&(ne.lineAlign=G),ne.align=be}return s(ne,de),ne}).filter(function(B){return B!==null})}(A,P))}catch(D){_(D)}}else _(new Error("Could not parse IMSC1 mdat"))}function m(p,C,w){var k=p.getElementsByTagName(C)[0];return k?[].slice.call(k.querySelectorAll(w)):[]}function f(p){return p.reduce(function(C,w){var k=w.getAttribute("xml:id");return k&&(C[k]=w),C},{})}function g(p,C){return[].slice.call(p.childNodes).reduce(function(w,k,_){var T;return k.nodeName==="br"&&_?w+`
`:(T=k.childNodes)!==null&&T!==void 0&&T.length?g(k,C):C?w+k.textContent.trim().replace(/\s+/g," "):w+k.textContent},"")}function h(p,C,w){return p.hasAttributeNS(C,w)?p.getAttributeNS(C,w):null}function y(p){return new Error("Could not parse ttml timestamp "+p)}function b(p,C){if(!p)return null;var w=Object(a.parseTimeStamp)(p);return w===null&&(d.test(p)?w=function(k,_){var T=d.exec(k),O=(0|T[4])+(0|T[5])/_.subFrameRate;return 3600*(0|T[1])+60*(0|T[2])+(0|T[3])+O/_.frameRate}(p,C):v.test(p)&&(w=function(k,_){var T=v.exec(k),O=Number(T[1]);switch(T[2]){case"h":return 3600*O;case"m":return 60*O;case"ms":return 1e3*O;case"f":return O/_.frameRate;case"t":return O/_.tickRate}return O}(p,C))),w}},"./src/utils/logger.ts":function(e,t,n){n.r(t),n.d(t,"enableLogs",function(){return l}),n.d(t,"logger",function(){return u});var r=function(){},a={trace:r,debug:r,log:r,warn:r,info:r,error:r},i=a;function o(s){var c=self.console[s];return c?c.bind(self.console,"["+s+"] >"):r}function l(s){if(self.console&&s===!0||typeof s=="object"){(function(c){for(var d=arguments.length,v=new Array(d>1?d-1:0),S=1;S<d;S++)v[S-1]=arguments[S];v.forEach(function(E){i[E]=c[E]?c[E].bind(c):o(E)})})(s,"debug","log","info","warn","error");try{i.log()}catch{i=a}}else i=a}var u=a},"./src/utils/mediakeys-helper.ts":function(e,t,n){var r,a;n.r(t),n.d(t,"KeySystems",function(){return r}),n.d(t,"requestMediaKeySystemAccess",function(){return i}),(a=r||(r={})).WIDEVINE="com.widevine.alpha",a.PLAYREADY="com.microsoft.playready";var i=typeof self!="undefined"&&self.navigator&&self.navigator.requestMediaKeySystemAccess?self.navigator.requestMediaKeySystemAccess.bind(self.navigator):null},"./src/utils/mediasource-helper.ts":function(e,t,n){function r(){return self.MediaSource||self.WebKitMediaSource}n.r(t),n.d(t,"getMediaSource",function(){return r})},"./src/utils/mp4-tools.ts":function(e,t,n){n.r(t),n.d(t,"bin2str",function(){return l}),n.d(t,"readUint16",function(){return u}),n.d(t,"readUint32",function(){return s}),n.d(t,"writeUint32",function(){return c}),n.d(t,"findBox",function(){return d}),n.d(t,"parseSegmentIndex",function(){return v}),n.d(t,"parseInitSegment",function(){return S}),n.d(t,"getStartDTS",function(){return E}),n.d(t,"getDuration",function(){return m}),n.d(t,"computeRawDurationFromSamples",function(){return f}),n.d(t,"offsetStartDTS",function(){return g}),n.d(t,"segmentValidRange",function(){return h}),n.d(t,"appendUint8Array",function(){return y});var r=n("./src/utils/typed-array.ts"),a=n("./src/loader/fragment.ts"),i=Math.pow(2,32)-1,o=[].push;function l(b){return String.fromCharCode.apply(null,b)}function u(b,p){"data"in b&&(p+=b.start,b=b.data);var C=b[p]<<8|b[p+1];return C<0?65536+C:C}function s(b,p){"data"in b&&(p+=b.start,b=b.data);var C=b[p]<<24|b[p+1]<<16|b[p+2]<<8|b[p+3];return C<0?4294967296+C:C}function c(b,p,C){"data"in b&&(p+=b.start,b=b.data),b[p]=C>>24,b[p+1]=C>>16&255,b[p+2]=C>>8&255,b[p+3]=255&C}function d(b,p){var C,w,k,_=[];if(!p.length)return _;"data"in b?(C=b.data,w=b.start,k=b.end):(w=0,k=(C=b).byteLength);for(var T=w;T<k;){var O=s(C,T),A=O>1?T+O:k;if(l(C.subarray(T+4,T+8))===p[0])if(p.length===1)_.push({data:C,start:T+8,end:A});else{var P=d({data:C,start:T+8,end:A},p.slice(1));P.length&&o.apply(_,P)}T=A}return _}function v(b){var p=d(b,["moov"])[0],C=p?p.end:null,w=d(b,["sidx"]);if(!w||!w[0])return null;var k=[],_=w[0],T=_.data[0],O=T===0?8:16,A=s(_,O);O+=4,O+=T===0?8:16,O+=2;var P=_.end+0,D=u(_,O);O+=2;for(var I=0;I<D;I++){var x=O,L=s(_,x);x+=4;var $=2147483647&L;if((2147483648&L)>>>31==1)return console.warn("SIDX has hierarchical references (not supported)"),null;var M=s(_,x);x+=4,k.push({referenceSize:$,subsegmentDuration:M,info:{duration:M/A,start:P,end:P+$-1}}),P+=$,O=x+=4}return{earliestPresentationTime:0,timescale:A,version:T,referencesCount:D,references:k,moovEndOffset:C}}function S(b){for(var p=[],C=d(b,["moov","trak"]),w=0;w<C.length;w++){var k=C[w],_=d(k,["tkhd"])[0];if(_){var T=_.data[_.start],O=T===0?12:20,A=s(_,O),P=d(k,["mdia","mdhd"])[0];if(P){var D=s(P,O=(T=P.data[P.start])===0?12:20),I=d(k,["mdia","hdlr"])[0];if(I){var x=l(I.data.subarray(I.start+8,I.start+12)),L={soun:a.ElementaryStreamTypes.AUDIO,vide:a.ElementaryStreamTypes.VIDEO}[x];if(L){var $=d(k,["mdia","minf","stbl","stsd"])[0],M=void 0;$&&(M=l($.data.subarray($.start+12,$.start+16))),p[A]={timescale:D,type:L},p[L]={timescale:D,id:A,codec:M}}}}}}return d(b,["moov","mvex","trex"]).forEach(function(j){var F=s(j,4),U=p[F];U&&(U.default={duration:s(j,12),flags:s(j,20)})}),p}function E(b,p){return d(p,["moof","traf"]).reduce(function(C,w){var k=d(w,["tfdt"])[0],_=k.data[k.start],T=d(w,["tfhd"]).reduce(function(O,A){var P=s(A,4),D=b[P];if(D){var I=s(k,4);_===1&&(I*=Math.pow(2,32),I+=s(k,8));var x=I/(D.timescale||9e4);if(isFinite(x)&&(O===null||x<O))return x}return O},null);return T!==null&&isFinite(T)&&(C===null||T<C)?T:C},null)||0}function m(b,p){for(var C=0,w=0,k=0,_=d(b,["moof","traf"]),T=0;T<_.length;T++){var O=_[T],A=d(O,["tfhd"])[0],P=p[s(A,4)];if(P){var D=P.default,I=s(A,0)|(D==null?void 0:D.flags),x=D==null?void 0:D.duration;8&I&&(x=s(A,2&I?12:8));for(var L=P.timescale||9e4,$=d(O,["trun"]),M=0;M<$.length;M++)C=x?x*s($[M],4):f($[M]),P.type===a.ElementaryStreamTypes.VIDEO?w+=C/L:P.type===a.ElementaryStreamTypes.AUDIO&&(k+=C/L)}}if(w===0&&k===0){var j=v(b);if(j!=null&&j.references)return j.references.reduce(function(F,U){return F+U.info.duration||0},0)}return w||k}function f(b){var p=s(b,0),C=8;1&p&&(C+=4),4&p&&(C+=4);for(var w=0,k=s(b,4),_=0;_<k;_++)256&p&&(w+=s(b,C),C+=4),512&p&&(C+=4),1024&p&&(C+=4),2048&p&&(C+=4);return w}function g(b,p,C){d(p,["moof","traf"]).forEach(function(w){d(w,["tfhd"]).forEach(function(k){var _=s(k,4),T=b[_];if(T){var O=T.timescale||9e4;d(w,["tfdt"]).forEach(function(A){var P=A.data[A.start],D=s(A,4);if(P===0)c(A,4,D-C*O);else{D*=Math.pow(2,32),D+=s(A,8),D-=C*O,D=Math.max(D,0);var I=Math.floor(D/(i+1)),x=Math.floor(D%(i+1));c(A,4,I),c(A,8,x)}})}})})}function h(b){var p={valid:null,remainder:null},C=d(b,["moof"]);if(!C)return p;if(C.length<2)return p.remainder=b,p;var w=C[C.length-1];return p.valid=Object(r.sliceUint8)(b,0,w.start-8),p.remainder=Object(r.sliceUint8)(b,w.start-8),p}function y(b,p){var C=new Uint8Array(b.length+p.length);return C.set(b),C.set(p,b.length),C}},"./src/utils/output-filter.ts":function(e,t,n){n.r(t),n.d(t,"default",function(){return r});var r=function(){function a(o,l){this.timelineController=void 0,this.cueRanges=[],this.trackName=void 0,this.startTime=null,this.endTime=null,this.screen=null,this.timelineController=o,this.trackName=l}var i=a.prototype;return i.dispatchCue=function(){this.startTime!==null&&(this.timelineController.addCues(this.trackName,this.startTime,this.endTime,this.screen,this.cueRanges),this.startTime=null)},i.newCue=function(o,l,u){(this.startTime===null||this.startTime>o)&&(this.startTime=o),this.endTime=l,this.screen=u,this.timelineController.createCaptionsTrack(this.trackName)},i.reset=function(){this.cueRanges=[]},a}()},"./src/utils/texttrack-utils.ts":function(e,t,n){n.r(t),n.d(t,"sendAddTrackEvent",function(){return a}),n.d(t,"addCueToTrack",function(){return i}),n.d(t,"clearCurrentCues",function(){return o}),n.d(t,"removeCuesInRange",function(){return l}),n.d(t,"getCuesInRange",function(){return u});var r=n("./src/utils/logger.ts");function a(s,c){var d;try{d=new Event("addtrack")}catch{(d=document.createEvent("Event")).initEvent("addtrack",!1,!1)}d.track=s,c.dispatchEvent(d)}function i(s,c){var d=s.mode;if(d==="disabled"&&(s.mode="hidden"),s.cues&&!s.cues.getCueById(c.id))try{if(s.addCue(c),!s.cues.getCueById(c.id))throw new Error("addCue is failed for: "+c)}catch(S){r.logger.debug("[texttrack-utils]: "+S);var v=new self.TextTrackCue(c.startTime,c.endTime,c.text);v.id=c.id,s.addCue(v)}d==="disabled"&&(s.mode=d)}function o(s){var c=s.mode;if(c==="disabled"&&(s.mode="hidden"),s.cues)for(var d=s.cues.length;d--;)s.removeCue(s.cues[d]);c==="disabled"&&(s.mode=c)}function l(s,c,d){var v=s.mode;if(v==="disabled"&&(s.mode="hidden"),s.cues&&s.cues.length>0)for(var S=u(s.cues,c,d),E=0;E<S.length;E++)s.removeCue(S[E]);v==="disabled"&&(s.mode=v)}function u(s,c,d){var v=[],S=function(g,h){if(h<g[0].startTime)return 0;var y=g.length-1;if(h>g[y].endTime)return-1;for(var b=0,p=y;b<=p;){var C=Math.floor((p+b)/2);if(h<g[C].startTime)p=C-1;else{if(!(h>g[C].startTime&&b<y))return C;b=C+1}}return g[b].startTime-h<h-g[p].startTime?b:p}(s,c);if(S>-1)for(var E=S,m=s.length;E<m;E++){var f=s[E];if(f.startTime>=c&&f.endTime<=d)v.push(f);else if(f.startTime>d)return v}return v}},"./src/utils/time-ranges.ts":function(e,t,n){n.r(t),t.default={toString:function(r){for(var a="",i=r.length,o=0;o<i;o++)a+="["+r.start(o).toFixed(3)+","+r.end(o).toFixed(3)+"]";return a}}},"./src/utils/timescale-conversion.ts":function(e,t,n){function r(l,u,s,c){s===void 0&&(s=1),c===void 0&&(c=!1);var d=l*u*s;return c?Math.round(d):d}function a(l,u,s,c){return s===void 0&&(s=1),c===void 0&&(c=!1),r(l,u,1/s,c)}function i(l,u){return u===void 0&&(u=!1),r(l,1e3,1/9e4,u)}function o(l,u){return u===void 0&&(u=1),r(l,9e4,1/u)}n.r(t),n.d(t,"toTimescaleFromBase",function(){return r}),n.d(t,"toTimescaleFromScale",function(){return a}),n.d(t,"toMsFromMpegTsClock",function(){return i}),n.d(t,"toMpegTsClockFromTimescale",function(){return o})},"./src/utils/typed-array.ts":function(e,t,n){function r(a,i,o){return Uint8Array.prototype.slice?a.slice(i,o):new Uint8Array(Array.prototype.slice.call(a,i,o))}n.r(t),n.d(t,"sliceUint8",function(){return r})},"./src/utils/vttcue.ts":function(e,t,n){n.r(t),t.default=function(){if(typeof self!="undefined"&&self.VTTCue)return self.VTTCue;var r=["","lr","rl"],a=["start","middle","end","left","right"];function i(s,c){if(typeof c!="string"||!Array.isArray(s))return!1;var d=c.toLowerCase();return!!~s.indexOf(d)&&d}function o(s){return i(a,s)}function l(s){for(var c=arguments.length,d=new Array(c>1?c-1:0),v=1;v<c;v++)d[v-1]=arguments[v];for(var S=1;S<arguments.length;S++){var E=arguments[S];for(var m in E)s[m]=E[m]}return s}function u(s,c,d){var v=this,S={enumerable:!0};v.hasBeenReset=!1;var E="",m=!1,f=s,g=c,h=d,y=null,b="",p=!0,C="auto",w="start",k=50,_="middle",T=50,O="middle";Object.defineProperty(v,"id",l({},S,{get:function(){return E},set:function(A){E=""+A}})),Object.defineProperty(v,"pauseOnExit",l({},S,{get:function(){return m},set:function(A){m=!!A}})),Object.defineProperty(v,"startTime",l({},S,{get:function(){return f},set:function(A){if(typeof A!="number")throw new TypeError("Start time must be set to a number.");f=A,this.hasBeenReset=!0}})),Object.defineProperty(v,"endTime",l({},S,{get:function(){return g},set:function(A){if(typeof A!="number")throw new TypeError("End time must be set to a number.");g=A,this.hasBeenReset=!0}})),Object.defineProperty(v,"text",l({},S,{get:function(){return h},set:function(A){h=""+A,this.hasBeenReset=!0}})),Object.defineProperty(v,"region",l({},S,{get:function(){return y},set:function(A){y=A,this.hasBeenReset=!0}})),Object.defineProperty(v,"vertical",l({},S,{get:function(){return b},set:function(A){var P=function(D){return i(r,D)}(A);if(P===!1)throw new SyntaxError("An invalid or illegal string was specified.");b=P,this.hasBeenReset=!0}})),Object.defineProperty(v,"snapToLines",l({},S,{get:function(){return p},set:function(A){p=!!A,this.hasBeenReset=!0}})),Object.defineProperty(v,"line",l({},S,{get:function(){return C},set:function(A){if(typeof A!="number"&&A!=="auto")throw new SyntaxError("An invalid number or illegal string was specified.");C=A,this.hasBeenReset=!0}})),Object.defineProperty(v,"lineAlign",l({},S,{get:function(){return w},set:function(A){var P=o(A);if(!P)throw new SyntaxError("An invalid or illegal string was specified.");w=P,this.hasBeenReset=!0}})),Object.defineProperty(v,"position",l({},S,{get:function(){return k},set:function(A){if(A<0||A>100)throw new Error("Position must be between 0 and 100.");k=A,this.hasBeenReset=!0}})),Object.defineProperty(v,"positionAlign",l({},S,{get:function(){return _},set:function(A){var P=o(A);if(!P)throw new SyntaxError("An invalid or illegal string was specified.");_=P,this.hasBeenReset=!0}})),Object.defineProperty(v,"size",l({},S,{get:function(){return T},set:function(A){if(A<0||A>100)throw new Error("Size must be between 0 and 100.");T=A,this.hasBeenReset=!0}})),Object.defineProperty(v,"align",l({},S,{get:function(){return O},set:function(A){var P=o(A);if(!P)throw new SyntaxError("An invalid or illegal string was specified.");O=P,this.hasBeenReset=!0}})),v.displayState=void 0}return u.prototype.getCueAsHTML=function(){return self.WebVTT.convertCueToDOMTree(self,this.text)},u}()},"./src/utils/vttparser.ts":function(e,t,n){n.r(t),n.d(t,"parseTimeStamp",function(){return i}),n.d(t,"fixLineBreaks",function(){return d}),n.d(t,"VTTParser",function(){return v});var r=n("./src/utils/vttcue.ts"),a=function(){function S(){}return S.prototype.decode=function(E,m){if(!E)return"";if(typeof E!="string")throw new Error("Error - expected string data.");return decodeURIComponent(encodeURIComponent(E))},S}();function i(S){function E(f,g,h,y){return 3600*(0|f)+60*(0|g)+(0|h)+parseFloat(y||0)}var m=S.match(/^(?:(\d+):)?(\d{2}):(\d{2})(\.\d+)?/);return m?parseFloat(m[2])>59?E(m[2],m[3],0,m[4]):E(m[1],m[2],m[3],m[4]):null}var o=function(){function S(){this.values=Object.create(null)}var E=S.prototype;return E.set=function(m,f){this.get(m)||f===""||(this.values[m]=f)},E.get=function(m,f,g){return g?this.has(m)?this.values[m]:f[g]:this.has(m)?this.values[m]:f},E.has=function(m){return m in this.values},E.alt=function(m,f,g){for(var h=0;h<g.length;++h)if(f===g[h]){this.set(m,f);break}},E.integer=function(m,f){/^-?\d+$/.test(f)&&this.set(m,parseInt(f,10))},E.percent=function(m,f){if(/^([\d]{1,3})(\.[\d]*)?%$/.test(f)){var g=parseFloat(f);if(g>=0&&g<=100)return this.set(m,g),!0}return!1},S}();function l(S,E,m,f){var g=f?S.split(f):[S];for(var h in g)if(typeof g[h]=="string"){var y=g[h].split(m);y.length===2&&E(y[0],y[1])}}var u=new r.default(0,0,""),s=u.align==="middle"?"middle":"center";function c(S,E,m){var f=S;function g(){var y=i(S);if(y===null)throw new Error("Malformed timestamp: "+f);return S=S.replace(/^[^\sa-zA-Z-]+/,""),y}function h(){S=S.replace(/^\s+/,"")}if(h(),E.startTime=g(),h(),S.substr(0,3)!=="-->")throw new Error("Malformed time stamp (time stamps must be separated by '-->'): "+f);S=S.substr(3),h(),E.endTime=g(),h(),function(y,b){var p=new o;l(y,function(k,_){var T;switch(k){case"region":for(var O=m.length-1;O>=0;O--)if(m[O].id===_){p.set(k,m[O].region);break}break;case"vertical":p.alt(k,_,["rl","lr"]);break;case"line":T=_.split(","),p.integer(k,T[0]),p.percent(k,T[0])&&p.set("snapToLines",!1),p.alt(k,T[0],["auto"]),T.length===2&&p.alt("lineAlign",T[1],["start",s,"end"]);break;case"position":T=_.split(","),p.percent(k,T[0]),T.length===2&&p.alt("positionAlign",T[1],["start",s,"end","line-left","line-right","auto"]);break;case"size":p.percent(k,_);break;case"align":p.alt(k,_,["start",s,"end","left","right"])}},/:/,/\s/),b.region=p.get("region",null),b.vertical=p.get("vertical","");var C=p.get("line","auto");C==="auto"&&u.line===-1&&(C=-1),b.line=C,b.lineAlign=p.get("lineAlign","start"),b.snapToLines=p.get("snapToLines",!0),b.size=p.get("size",100),b.align=p.get("align",s);var w=p.get("position","auto");w==="auto"&&u.position===50&&(w=b.align==="start"||b.align==="left"?0:b.align==="end"||b.align==="right"?100:50),b.position=w}(S,E)}function d(S){return S.replace(/<br(?: \/)?>/gi,`
`)}var v=function(){function S(){this.state="INITIAL",this.buffer="",this.decoder=new a,this.regionList=[],this.cue=null,this.oncue=void 0,this.onparsingerror=void 0,this.onflush=void 0}var E=S.prototype;return E.parse=function(m){var f=this;function g(){var C=f.buffer,w=0;for(C=d(C);w<C.length&&C[w]!=="\r"&&C[w]!==`
`;)++w;var k=C.substr(0,w);return C[w]==="\r"&&++w,C[w]===`
`&&++w,f.buffer=C.substr(w),k}m&&(f.buffer+=f.decoder.decode(m,{stream:!0}));try{var h="";if(f.state==="INITIAL"){if(!/\r\n|\n/.test(f.buffer))return this;var y=(h=g()).match(/^(ï»¿)?WEBVTT([ \t].*)?$/);if(!y||!y[0])throw new Error("Malformed WebVTT signature.");f.state="HEADER"}for(var b=!1;f.buffer;){if(!/\r\n|\n/.test(f.buffer))return this;switch(b?b=!1:h=g(),f.state){case"HEADER":/:/.test(h)?l(h,function(C,w){},/:/):h||(f.state="ID");continue;case"NOTE":h||(f.state="ID");continue;case"ID":if(/^NOTE($|[ \t])/.test(h)){f.state="NOTE";break}if(!h)continue;if(f.cue=new r.default(0,0,""),f.state="CUE",h.indexOf("-->")===-1){f.cue.id=h;continue}case"CUE":if(!f.cue){f.state="BADCUE";continue}try{c(h,f.cue,f.regionList)}catch{f.cue=null,f.state="BADCUE";continue}f.state="CUETEXT";continue;case"CUETEXT":var p=h.indexOf("-->")!==-1;if(!h||p&&(b=!0)){f.oncue&&f.cue&&f.oncue(f.cue),f.cue=null,f.state="ID";continue}if(f.cue===null)continue;f.cue.text&&(f.cue.text+=`
`),f.cue.text+=h;continue;case"BADCUE":h||(f.state="ID")}}}catch{f.state==="CUETEXT"&&f.cue&&f.oncue&&f.oncue(f.cue),f.cue=null,f.state=f.state==="INITIAL"?"BADWEBVTT":"BADCUE"}return this},E.flush=function(){var m=this;try{if((m.cue||m.state==="HEADER")&&(m.buffer+=`

`,m.parse()),m.state==="INITIAL"||m.state==="BADWEBVTT")throw new Error("Malformed WebVTT signature.")}catch(f){m.onparsingerror&&m.onparsingerror(f)}return m.onflush&&m.onflush(),this},S}()},"./src/utils/webvtt-parser.ts":function(e,t,n){n.r(t),n.d(t,"generateCueId",function(){return d}),n.d(t,"parseWebVTT",function(){return v});var r=n("./src/polyfills/number.ts"),a=n("./src/utils/vttparser.ts"),i=n("./src/demux/id3.ts"),o=n("./src/utils/timescale-conversion.ts"),l=n("./src/remux/mp4-remuxer.ts"),u=/\r\n|\n\r|\n|\r/g,s=function(S,E,m){return m===void 0&&(m=0),S.substr(m,E.length)===E},c=function(S){for(var E=5381,m=S.length;m;)E=33*E^S.charCodeAt(--m);return(E>>>0).toString()};function d(S,E,m){return c(S.toString())+c(E.toString())+c(m)}function v(S,E,m,f,g,h,y,b){var p,C=new a.VTTParser,w=Object(i.utf8ArrayToStr)(new Uint8Array(S)).trim().replace(u,`
`).split(`
`),k=[],_=Object(o.toMpegTsClockFromTimescale)(E,m),T="00:00.000",O=0,A=0,P=!0,D=!1;C.oncue=function(I){var x=f[g],L=f.ccOffset,$=(O-_)/9e4;if(x!=null&&x.new&&(A!==void 0?L=f.ccOffset=x.start:function(U,B,K){var V=U[B],X=U[V.prevCC];if(!X||!X.new&&V.new)return U.ccOffset=U.presentationOffset=V.start,void(V.new=!1);for(;(Z=X)!==null&&Z!==void 0&&Z.new;){var Z;U.ccOffset+=V.start-X.start,V.new=!1,X=U[(V=X).prevCC]}U.presentationOffset=K}(f,g,$)),$&&(L=$-f.presentationOffset),D){var M=I.endTime-I.startTime,j=Object(l.normalizePts)(9e4*(I.startTime+L-A),9e4*h)/9e4;I.startTime=j,I.endTime=j+M}var F=I.text.trim();I.text=decodeURIComponent(encodeURIComponent(F)),I.id||(I.id=d(I.startTime,I.endTime,F)),I.endTime>0&&k.push(I)},C.onparsingerror=function(I){p=I},C.onflush=function(){p?b(p):y(k)},w.forEach(function(I){if(P){if(s(I,"X-TIMESTAMP-MAP=")){P=!1,D=!0,I.substr(16).split(",").forEach(function(x){s(x,"LOCAL:")?T=x.substr(6):s(x,"MPEGTS:")&&(O=parseInt(x.substr(7)))});try{A=function(x){var L=parseInt(x.substr(-3)),$=parseInt(x.substr(-6,2)),M=parseInt(x.substr(-9,2)),j=x.length>9?parseInt(x.substr(0,x.indexOf(":"))):0;if(!(Object(r.isFiniteNumber)(L)&&Object(r.isFiniteNumber)($)&&Object(r.isFiniteNumber)(M)&&Object(r.isFiniteNumber)(j)))throw Error("Malformed X-TIMESTAMP-MAP: Local:"+x);return L+=1e3*$,(L+=6e4*M)+36e5*j}(T)/1e3}catch(x){D=!1,p=x}return}I===""&&(P=!1)}C.parse(I+`
`)}),C.flush()}},"./src/utils/xhr-loader.ts":function(e,t,n){n.r(t);var r=n("./src/utils/logger.ts"),a=n("./src/loader/load-stats.ts"),i=/^age:\s*[\d.]+\s*$/m,o=function(){function l(s){this.xhrSetup=void 0,this.requestTimeout=void 0,this.retryTimeout=void 0,this.retryDelay=void 0,this.config=null,this.callbacks=null,this.context=void 0,this.loader=null,this.stats=void 0,this.xhrSetup=s?s.xhrSetup:null,this.stats=new a.LoadStats,this.retryDelay=0}var u=l.prototype;return u.destroy=function(){this.callbacks=null,this.abortInternal(),this.loader=null,this.config=null},u.abortInternal=function(){var s=this.loader;self.clearTimeout(this.requestTimeout),self.clearTimeout(this.retryTimeout),s&&(s.onreadystatechange=null,s.onprogress=null,s.readyState!==4&&(this.stats.aborted=!0,s.abort()))},u.abort=function(){var s;this.abortInternal(),(s=this.callbacks)!==null&&s!==void 0&&s.onAbort&&this.callbacks.onAbort(this.stats,this.context,this.loader)},u.load=function(s,c,d){if(this.stats.loading.start)throw new Error("Loader can only be used once.");this.stats.loading.start=self.performance.now(),this.context=s,this.config=c,this.callbacks=d,this.retryDelay=c.retryDelay,this.loadInternal()},u.loadInternal=function(){var s=this.config,c=this.context;if(s){var d=this.loader=new self.XMLHttpRequest,v=this.stats;v.loading.first=0,v.loaded=0;var S=this.xhrSetup;try{if(S)try{S(d,c.url)}catch{d.open("GET",c.url,!0),S(d,c.url)}d.readyState||d.open("GET",c.url,!0)}catch(E){return void this.callbacks.onError({code:d.status,text:E.message},c,d)}c.rangeEnd&&d.setRequestHeader("Range","bytes="+c.rangeStart+"-"+(c.rangeEnd-1)),d.onreadystatechange=this.readystatechange.bind(this),d.onprogress=this.loadprogress.bind(this),d.responseType=c.responseType,self.clearTimeout(this.requestTimeout),this.requestTimeout=self.setTimeout(this.loadtimeout.bind(this),s.timeout),d.send()}},u.readystatechange=function(){var s=this.context,c=this.loader,d=this.stats;if(s&&c){var v=c.readyState,S=this.config;if(!d.aborted&&v>=2)if(self.clearTimeout(this.requestTimeout),d.loading.first===0&&(d.loading.first=Math.max(self.performance.now(),d.loading.start)),v===4){c.onreadystatechange=null,c.onprogress=null;var E=c.status;if(E>=200&&E<300){var m,f;if(d.loading.end=Math.max(self.performance.now(),d.loading.first),f=s.responseType==="arraybuffer"?(m=c.response).byteLength:(m=c.responseText).length,d.loaded=d.total=f,!this.callbacks)return;var g=this.callbacks.onProgress;if(g&&g(d,s,m,c),!this.callbacks)return;var h={url:c.responseURL,data:m};this.callbacks.onSuccess(h,d,s,c)}else d.retry>=S.maxRetry||E>=400&&E<499?(r.logger.error(E+" while loading "+s.url),this.callbacks.onError({code:E,text:c.statusText},s,c)):(r.logger.warn(E+" while loading "+s.url+", retrying in "+this.retryDelay+"..."),this.abortInternal(),this.loader=null,self.clearTimeout(this.retryTimeout),this.retryTimeout=self.setTimeout(this.loadInternal.bind(this),this.retryDelay),this.retryDelay=Math.min(2*this.retryDelay,S.maxRetryDelay),d.retry++)}else self.clearTimeout(this.requestTimeout),this.requestTimeout=self.setTimeout(this.loadtimeout.bind(this),S.timeout)}},u.loadtimeout=function(){r.logger.warn("timeout while loading "+this.context.url);var s=this.callbacks;s&&(this.abortInternal(),s.onTimeout(this.stats,this.context,this.loader))},u.loadprogress=function(s){var c=this.stats;c.loaded=s.loaded,s.lengthComputable&&(c.total=s.total)},u.getCacheAge=function(){var s=null;if(this.loader&&i.test(this.loader.getAllResponseHeaders())){var c=this.loader.getResponseHeader("age");s=c?parseFloat(c):null}return s},l}();t.default=o}}).default);var Qu=FW(sC.exports);const BW={name:"d-icon"},In=Object.assign(BW,{props:{icon:String,size:[Number,String]},setup:function(e){const t=e,n=N(()=>({fontSize:/^\d+$/.test(t.size)?t.size+"px":t.size}));return(r,a)=>(H(),W("i",{class:z(["d-icon iconfont",e.icon]),style:De(he(n))},null,6))}});In.__scopeId="data-v-0c690e66";Vr("data-v-4cb76d59");const NW={class:"d-player-top"},jW={class:"top-title"},UW={class:"top-title"};Hr();const VW={props:{title:{default:""}},setup(e){Date.prototype.format=function(r){let a={"h+":this.getHours(),"m+":this.getMinutes(),"s+":this.getSeconds()};for(var i in a)new RegExp("("+i+")").test(r)&&(r=r.replace(RegExp.$1,RegExp.$1.length==1?a[i]:("00"+a[i]).substr((""+a[i]).length)));return r};let t=q("00:00:00");t.value=new Date().format("hh:mm:ss");let n=null;return n=setInterval(()=>{t.value=new Date().format("hh:mm:ss")},1e3),Mn(()=>{clearInterval(n)}),(r,a)=>(H(),W("div",NW,[J("p",jW,Ae(e.title||""),1),J("p",UW,Ae(he(t)),1)]))},__scopeId:"data-v-4cb76d59"};Vr("data-v-ac2469ec");const HW={class:"d-status"},zW={class:"d-flex-center"},GW={class:"d-flex-center"},KW=nt("5X\u901F\u64AD\u653E\u4E2D ");Hr();var lC=ee({props:["state"],setup:e=>(t,n)=>Ke((H(),W("div",HW,[Ke(J("li",zW,[R(In,{size:"18",class:"d-status-icon",icon:"icon-volume-"+(e.state.volume==0?"mute":e.state.volume>.5?"up":"down")},null,8,["icon"]),nt(" "+Ae(~~(100*e.state.volume))+"% ",1)],512),[[Xe,e.state.handleType=="volume"]]),Ke(J("li",GW,[R(In,{size:"12",icon:"icon-play"}),R(In,{size:"12",icon:"icon-play",style:{"margin-right":"5px"}}),KW],512),[[Xe,e.state.handleType=="playbackRate"||e.state.isMultiplesPlay]])],512)),[[Xe,e.state.handleType||e.state.isMultiplesPlay]])});lC.__scopeId="data-v-ac2469ec",Vr("data-v-385f7870");const WW=["checked","true-value","false-value"],YW=J("span",{class:"d-switch_action"},null,-1);Hr();var Vs=ee({props:{modelValue:{type:[Number,String,Boolean]},width:{type:String,default:"40px"},trueValue:{type:[Number,String,Boolean],default:!0},falseValue:{type:[Number,String,Boolean],default:!0},activeColor:{type:[String],default:"#409EFF"}},emits:["update:modelValue","change"],setup(e,{emit:t}){const n=e;Pd(o=>({"014e5dc0":e.width,e4e32852:e.activeColor}));const r=q(null),a=N(()=>n.modelValue===n.trueValue),i=()=>{Re(()=>{const o=r.value.checked;t("update:modelValue",o),t("change",o)})};return(o,l)=>(H(),W("div",{class:z(["d-switch",{"is-checked":he(a)}])},[J("input",{class:"d-switch__input",ref:r,type:"checkbox",checked:he(a),onChange:i,"true-value":e.trueValue,"false-value":e.falseValue},null,40,WW),YW],2))}});Vs.__scopeId="data-v-385f7870",Vr("data-v-b2384226");const qW={key:0},XW=J("i",{class:"rotating iconfont icon-loading f50"},null,-1),ZW=[J("i",{class:"rotating iconfont icon-loading f50"},null,-1),J("p",null,"\u6B63\u5728\u7F13\u51B2...",-1)],JW=[J("i",{class:"iconfont icon-replay f24 mr5"},null,-1),nt("\u91CD\u65B0\u64AD\u653E ")],QW=[J("i",{class:"iconfont icon-replay f24 mr5"},null,-1),nt("\u8BF7\u6C42\u9519\u8BEF ")];Hr();var uC=ee({props:{loadType:String,text:{type:String,default:""}},setup(e){const t=e,{proxy:n}=Be(),r=["loadstart","waiting","ended","error","stalled"],a=()=>{n.$parent.play()},i=N(()=>{let o="background: rgba(0, 0, 0, .1);z-index:1";return t.loadType=="loadstart"&&(o="background: rgba(0, 0, 0, 1);;z-index:3"),o});return(o,l)=>Ke((H(),W("div",{class:"d-loading",style:De(he(i))},[J("div",null,[e.loadType=="loadstart"?(H(),W("span",qW,[XW,J("p",null,Ae(e.text),1)])):se("",!0),Ke(J("span",null,ZW,512),[[Xe,e.loadType=="waiting"]]),Ke(J("span",null,[J("p",{onClick:a,class:"d-flex-x d-pointer"},JW)],512),[[Xe,e.loadType=="ended"]]),Ke(J("span",null,[J("p",{onClick:a,class:"d-flex-x d-pointer"},QW)],512),[[Xe,e.loadType=="error"||e.loadType=="stalled"]])])],4)),[[Xe,r.includes(e.loadType)]])}});uC.__scopeId="data-v-b2384226";const ga=function(e,t,n,r=!1){e&&t&&n&&e.addEventListener(t,n,r)},dn=function(e,t,n,r=!1){e&&t&&n&&e.removeEventListener(t,n,r)};Vr("data-v-5a794390");const eY=["onMousedown"];Hr();var di=ee(ad(rd({},{name:"DSlider"}),{props:{modelValue:{required:!0,type:Number,default:0},disabled:{type:Boolean,default:!1},vertical:{type:Boolean,default:!1},hover:{type:Boolean,default:!0},hoverText:{type:String,default:""},preload:{type:Number,default:0},size:{type:String,default:"10px"}},emits:["update:modelValue","change","onMousemove"],setup:function(e,{emit:t}){const n=e;Pd(f=>({"5242b67b":e.size}));const r=q(null),a=q(null),i=Me({dragging:!1,hoverPosition:0,hoverTipsLeft:"50%"}),o=N(()=>{let f=n.modelValue<0?0:n.modelValue>1?1:n.modelValue;return n.vertical?`height:${100*f}%`:`width:${100*f}%`}),l=N(()=>{let f=n.preload<0?0:n.preload>1?1:n.preload;return n.vertical?`height:${100*f}%`:`width:${100*f}%`}),u=N(()=>{let f=i.hoverPosition<0?0:i.hoverPosition>1?1:i.hoverPosition;return n.vertical?`bottom:${100*f}%`:`left:${100*f}%`}),s=f=>{f.preventDefault()},c=f=>{n.disabled||(f.preventDefault(),i.dragging=!0,v(f),ga(window,"mousemove",E),ga(window,"touchmove",E),ga(window,"mouseup",m),ga(window,"touchend",m))},d=f=>{if(!n.hover)return;let g=S(f);if(t("onMousemove",f,g),i.hoverPosition=g,n.vertical)return;let h=r.value,y=a.value.clientWidth/2,b=f.clientX-h.getBoundingClientRect().left;b<y?i.hoverTipsLeft=y-b+"px":h.clientWidth-b<y?i.hoverTipsLeft=h.clientWidth-b-y+"px":i.hoverTipsLeft="50%"},v=f=>{let g=S(f);t("update:modelValue",g),t("change",f,g)},S=f=>{let g=r.value,h=0;if(n.vertical){let y=g.clientHeight;h=(g.getBoundingClientRect().bottom-f.clientY)/y}else h=(f.clientX-g.getBoundingClientRect().left)/g.clientWidth;return h<0?0:h>1?1:h},E=f=>{v(f)},m=f=>{i.dragging&&(dn(window,"mousemove",E),dn(window,"touchmove",E),dn(window,"mouseup",m),dn(window,"touchend",m),dn(window,"contextmenu",m),setTimeout(()=>{i.dragging=!1},0))};return(f,g)=>(H(),W("div",{ref:r,class:z(["d-slider",{"is-vertical":n.vertical}]),onMousedown:Xn(c,["stop"]),onContextmenu:s},[J("div",{class:"d-slider__runway",onMousemove:d},[Ke(J("div",{class:"d-slider__cursor",style:De(he(u))},[Ke(J("div",{class:"d-slider__tips",ref:a,style:De({left:he(i).hoverTipsLeft})},Ae(n.hoverText),5),[[Xe,n.hoverText]])],4),[[Xe,n.hover]]),J("div",{class:"d-slider__preload",style:De(he(l))},null,4),J("div",{class:"d-slider__bar",style:De(he(o))},null,4)],32)],42,eY))}}));di.__scopeId="data-v-5a794390";Vr("data-v-570fa0d1");const tY={key:0,class:"d-player-dialog"},nY={class:"d-player-dialog-body"},rY={class:"d-player-dialog-title"},aY={class:"d-player-hotkey-panel"},iY={class:"d-player-filter-panel"},oY={class:"d-player-filter-panel-item"},sY=J("span",null,"\u9971\u548C\u5EA6",-1),lY={class:"d-player-filter-panel-item"},uY=J("span",null,"\u4EAE\u5EA6",-1),cY={class:"d-player-filter-panel-item"},dY=J("span",null,"\u5BF9\u6BD4\u5EA6",-1),fY={key:0,class:"d-player-contextmenu"},hY=["dplayerKeyCode"],vY=J("input",{class:"d-player-copyText"},null,-1);Hr();var cC=ee({setup(e){const t=Me({show:!1,dialogType:"",dialogTitle:"",version:"1.3.1-beta.6",mouseX:0,mouseY:0}),n=[{label:"\u89C6\u9891\u8272\u5F69\u8C03\u6574",key:"filter"},{label:"\u5FEB\u6377\u952E\u8BF4\u660E",key:"hotkey"},{label:"\u590D\u5236\u89C6\u9891\u7F51\u5740",key:"copy"},{label:"\u7248\u672C\uFF1A1.3.1-beta.6",key:"version"}],r=[{key:"Space",label:"\u64AD\u653E/\u6682\u505C"},{key:"\u2192",label:"\u5355\u6B21\u5FEB\u8FDB10s\uFF0C\u957F\u63095\u500D\u901F\u64AD\u653E"},{key:"\u2190",label:"\u5FEB\u90005s"},{key:"\u2191",label:"\u97F3\u91CF\u589E\u52A010%"},{key:"\u2193",label:"\u97F3\u91CF\u589E\u52A0\u964D\u4F4E10%"},{key:"Esc",label:"\u9000\u51FA\u5168\u5C4F/\u9000\u51FA\u7F51\u9875\u5168\u5C4F"},{key:"F",label:"\u5168\u5C4F/\u9000\u51FA\u5168\u5C4F"}],a=Me({saturate:.392,brightness:.392,contrast:.392}),i=N(()=>({left:t.mouseX+"px",top:t.mouseY+"px"}));oe(a,c=>{let d=document.querySelector("#dPlayerVideo"),v=(2.55*c.saturate).toFixed(2),S=(2.55*c.brightness).toFixed(2),E=(2.55*c.contrast).toFixed(2);d.style.filter=`saturate(${v}) brightness(${S}) contrast(${E})`});const o=()=>{a.saturate=.392,a.brightness=.392,a.contrast=.392},l=c=>{c.key=="Escape"&&s(0)},u=c=>{c.preventDefault(),ga(window,"keydown",l),ga(window,"click",s);let d=document.querySelector("#refPlayerWrap"),v=d.clientWidth;d.clientHeight,t.mouseX=c.clientX-d.getBoundingClientRect().left,v-t.mouseX<130&&(t.mouseX=t.mouseX+(v-t.mouseX-130)),t.mouseY=c.clientY-d.getBoundingClientRect().top,t.show=!0},s=c=>{let d=c.path[0].tagName=="LI",v=c.path[0].attributes.dplayerKeyCode&&c.path[0].attributes.dplayerKeyCode.value,S=n.map(E=>E.key);if(d&&S.includes(v))if(t.dialogTitle=c.path[0].innerText,t.dialogType=v,v=="copy"){let E=document.querySelector(".d-player-copyText");E.value=window.location.href,E.select(),document.execCommand("copy"),t.dialogType=""}else v=="version"&&(t.dialogType="");t.show=!1,dn(window,"keydown",l),dn(window,"click",s)};return tt(()=>{let c=document.querySelector("#refPlayerWrap");dn(window,"keydown",l),dn(window,"click",s),dn(c,"contextmenu",u),ga(c,"contextmenu",u)}),Mn(()=>{let c=document.querySelector("#refPlayerWrap");dn(window,"keydown",l),dn(window,"click",s),dn(c,"contextmenu",u)}),(c,d)=>(H(),W("div",null,[R(gn,{name:"d-fade-in"},{default:Ue(()=>[he(t).dialogType?(H(),W("div",tY,[J("div",nY,[J("h5",rY,[nt(Ae(he(t).dialogTitle)+" ",1),J("i",{onClick:d[0]||(d[0]=v=>he(t).dialogType=!1),class:"icon icon-close"},"X")]),Ke(J("ul",aY,[(H(),W(Ce,null,Ne(r,v=>J("li",{class:"d-player-hotkey-panel-item",key:v.key},[J("span",null,Ae(v.key),1),J("span",null,Ae(v.label),1)])),64))],512),[[Xe,he(t).dialogType=="hotkey"]]),Ke(J("ul",iY,[J("li",oY,[sY,R(di,{class:"filter-panel-slider",size:"5px",modelValue:he(a).saturate,"onUpdate:modelValue":d[1]||(d[1]=v=>he(a).saturate=v)},null,8,["modelValue"]),J("span",null,Ae(Math.round(255*he(a).saturate)),1)]),J("li",lY,[uY,R(di,{class:"filter-panel-slider",size:"5px",modelValue:he(a).brightness,"onUpdate:modelValue":d[2]||(d[2]=v=>he(a).brightness=v)},null,8,["modelValue"]),J("span",null,Ae(Math.round(255*he(a).brightness)),1)]),J("li",cY,[dY,R(di,{class:"filter-panel-slider",size:"5px",modelValue:he(a).contrast,"onUpdate:modelValue":d[3]||(d[3]=v=>he(a).contrast=v)},null,8,["modelValue"]),J("span",null,Ae(Math.round(255*he(a).contrast)),1)]),J("span",{onClick:o,title:"\u91CD\u7F6E","aria-label":"\u91CD\u7F6E",class:"d-player-filter-reset"},"\u91CD\u7F6E")],512),[[Xe,he(t).dialogType=="filter"]])])])):se("",!0)]),_:1}),he(t).show?(H(),W("div",fY,[J("ul",{class:"d-player-contextmenu-body",style:De(he(i))},[(H(),W(Ce,null,Ne(n,v=>J("li",{dplayerKeyCode:v.key,key:v.key},Ae(v.label),9,hY)),64))],4),vY])):se("",!0)]))}});cC.__scopeId="data-v-570fa0d1";const ec=e=>{let t=~~(e/3600),n=~~(e%3600/60),r=~~(e%60);return t=t<10?"0"+t:t,n=n<10?"0"+n:n,r=r<10?"0"+r:r,`${t}:${n}:${r}`},fo="ontouchstart"in window,uy=["loadstart","play","pause","playing","seeking","seeked","waiting","durationchange","progress","canplay","timeupdate","ended","error","stalled"],mY={width:{type:String,default:"800px"},height:{type:String,default:"450px"},color:{type:String,default:"#409eff"},src:{required:!0,type:String,default:""},title:{type:String,default:""},type:{type:String,default:"video/mp4"},poster:{type:String,default:""},webFullScreen:{type:Boolean,default:!1},speed:{type:Boolean,default:!0},currentTime:{type:Number,default:0},playsinline:{type:Boolean,default:!1},muted:{type:Boolean,default:!1},speedRate:{type:Array,default:()=>["2.0","1.5","1.25","1.0","0.75","0.5"]},autoPlay:{type:Boolean,default:!1},loop:{type:Boolean,default:!1},mirror:{type:Boolean,default:!1},ligthOff:{type:Boolean,default:!1},volume:{type:[String,Number],default:.3},control:{type:Boolean,default:!0},controlBtns:{type:Array,default:["audioTrack","quality","speedRate","volume","setting","pip","pageFullScreen","fullScreen"]},preload:{type:String,default:"auto"}};Vr("data-v-01791e9e");const gY={class:"d-player-video",id:"dPlayerVideo"},pY=["controls","webkit-playsinline","playsinline","volume","muted","loop","preload","src","poster"],yY={class:"d-player-lightoff"},bY={key:1,class:"d-player-state"},SY={class:"d-play-btn"},TY=["onKeyup","onKeydown"],CY={class:"d-control-progress"},EY={class:"d-tool-bar"},wY={key:0,class:"d-tool-item d-tool-time audioTrack-btn"},OY=J("span",{style:{margin:"0 3px"}},"/",-1),kY={class:"total-time"},_Y={class:"d-tool-bar"},AY={key:0,class:"d-tool-item quality-btn"},DY={class:"d-tool-item-main"},PY={class:"speed-main",style:{"text-align":"center"}},IY=["onClick"],LY={key:1,class:"d-tool-item speedRate-btn"},RY={class:"d-tool-item-main"},xY={class:"speed-main"},$Y=["onClick"],MY={key:2,class:"d-tool-item volume-btn"},FY={class:"d-tool-item-main volume-box",style:{width:"52px"}},BY={class:"volume-text-size"},NY={key:3,class:"d-tool-item setting-btn"},jY={class:"d-tool-item-main"},UY={class:"speed-main"},VY=nt(" \u955C\u50CF\u753B\u9762 "),HY=nt(" \u5FAA\u73AF\u64AD\u653E "),zY=nt(" \u5173\u706F\u6A21\u5F0F "),GY=J("div",{class:"d-tool-item-main"},"\u753B\u4E2D\u753B",-1),KY=J("div",{class:"d-tool-item-main"},"\u7F51\u9875\u5168\u5C4F",-1),WY=J("div",{class:"d-tool-item-main"},"\u5168\u5C4F",-1);Hr();var Bo=ee(ad(rd({},{name:"vue3VideoPlay",inheritAttrs:!1}),{props:mY,emits:[...uy,"mirrorChange","loopChange","lightOffChange"],setup:function(e,{expose:t,emit:n}){const r=e;Pd(L=>({"51d4439c":he(S),"77e758a6":L.width,b8a1afc0:L.height}));const a=new Qu({fragLoadingTimeOut:2e3}),i=q(null),o=q(null),l=q(null),u=q(null),s=Me(ad(rd({dVideo:null},r),{muted:r.muted,playBtnState:r.autoPlay?"pause":"play",loadStateType:"loadstart",fullScreen:!1,handleType:"",currentTime:"00:00:00",preloadBar:0,totalTime:"00:00:00",isVideoHovering:!0,speedActive:"1.0",playProgress:0,isMultiplesPlay:!1,longPressTimeout:null,progressCursorTime:"00:00:00",qualityLevels:[],currentLevel:0})),c=(...L)=>$=>L.reverse().reduce((M,j)=>j(M),$),d=uy.reduce((L,$)=>{var M;return L[`on${M=$,M.charAt(0).toUpperCase()+M.slice(1)}`]=j=>{s.loadStateType=$,n($,j)},L},{});d.onCanplay=c(d.onCanplay,()=>{s.playBtnState!="play"&&s.dVideo.play(),s.autoPlay&&(s.dVideo.play(),s.playBtnState="pause")}),d.onEnded=c(d.onEnded,()=>{s.playBtnState="replay"}),d.onDurationchange=L=>{n("durationchange",L),r.currentTime!=0&&(s.dVideo.currentTime=r.currentTime),d.onTimeupdate(L)},d.onProgress=L=>{console.log("\u7F13\u51B2\u4E2D..."),n("progress",L);let $=L.target.duration,M=L.target.buffered,j=L.target.buffered.length&&L.target.buffered.end(M-1);s.preloadBar=j/$},d.onTimeupdate=L=>{n("timeupdate",L);let $=L.duration||L.target.duration||0,M=L.currentTime||L.target.currentTime;s.playProgress=M/$,s.currentTime=ec(M),s.totalTime=ec($)},d.onError=c(d.onError,()=>{s.playBtnState="replay"});let v=gw();for(let L in v)d[L]=v[L];const S=(E=s.color,`${parseInt("0x"+E.slice(1,3))},${parseInt("0x"+E.slice(3,5))},${parseInt("0x"+E.slice(5,7))}`);var E;const m=ly(500,()=>{s.handleType=""}),f=L=>{L.preventDefault(),L.code=="ArrowUp"?s.volume=s.volume+.1>1?1:s.volume+.1:s.volume=s.volume-.1<0?0:s.volume-.1,s.muted=!1,s.handleType="volume",m()},g=L=>{r.speed&&(s.dVideo.currentTime=s.dVideo.currentTime<10?.1:s.dVideo.currentTime-10,d.onTimeupdate(s.dVideo),b())},h=L=>{L.preventDefault();let $=L.type;if(L.key=="ArrowRight"){if(b(),$=="keyup"){if(clearTimeout(s.longPressTimeout),!r.speed&&!s.longPressTimeout)return;s.isMultiplesPlay?(s.dVideo.playbackRate=s.speedActive,s.isMultiplesPlay=!1):(s.dVideo.currentTime=s.dVideo.currentTime+10,d.onTimeupdate(s.dVideo))}else if($=="keydown"){if(!r.speed)return;s.isMultiplesPlay&&clearTimeout(s.longPressTimeout),s.longPressTimeout=setTimeout(()=>{s.isMultiplesPlay=!0,s.dVideo.playbackRate=5,s.handleType="playbackRate",m()},500)}}},y=()=>{fo||u.value.focus()},b=()=>{s.loadStateType="play",s.dVideo.play().catch(()=>{setTimeout(()=>{s.playBtnState="replay",s.loadStateType="error"},500)}),s.playBtnState="pause"},p=()=>{s.dVideo.pause(),s.playBtnState="play"},C=L=>{L&&L.preventDefault(),s.playBtnState=="play"||s.playBtnState=="replay"?b():s.playBtnState=="pause"&&p()},w=()=>{s.muted=!s.muted,s.volume==0&&(s.volume=.05)},k=(L,$)=>{let M=s.dVideo.duration||s.dVideo.target.duration;s.dVideo.currentTime=M*$,s.playBtnState=="play"&&(s.dVideo.play(),s.playBtnState="pause")},_=(L,$)=>{s.progressCursorTime=ec(s.dVideo.duration*$)},T=ly(2500,()=>{s.isVideoHovering=!1}),O=L=>{s.isVideoHovering=!0,T()},A=L=>{n("mirrorChange",L,s.dVideo)},P=L=>{n("loopChange",L,s.dVideo)},D=L=>{n("lightOffChange",L,s.dVideo)},I=()=>{var L;L=s.dVideo,document.pictureInPictureElement?document.exitPictureInPicture().catch($=>{console.log($,"Video failed to leave Picture-in-Picture mode.")}):L.requestPictureInPicture().catch($=>{console.log($,"Video failed to enter Picture-in-Picture mode.")})},x=()=>{s.fullScreen=(L=>{let $=document,M=$.webkitIsFullScreen||$.fullscreen;return M?(document.exitFullscreen||$.webkitExitFullScreen).call($):(L.requestFullscreen||L.webkitRequestFullScreen).call(L),!M})(i.value)};return oe(()=>r.src,()=>{Re(()=>{s.dVideo.canPlayType(r.type)||s.dVideo.canPlayType("application/vnd.apple.mpegurl")?s.muted=r.autoPlay:Qu.isSupported()&&(a.detachMedia(),a.attachMedia(s.dVideo),a.on(Qu.Events.MEDIA_ATTACHED,()=>{a.loadSource(r.src),a.on("hlsManifestParsed",(L,$)=>{console.log($),s.currentLevel=$.level,s.qualityLevels=$.levels||[]})}),a.on("hlsLevelSwitching",(L,$)=>{console.log($),console.log("LEVEL_SWITCHING")}),a.on("hlsLevelSwitched",(L,$)=>{s.currentLevel=$.level,console.log("LEVEL_SWITCHED")}))})},{immediate:!0}),tt(()=>{s.dVideo=o,y()}),t({play:b,pause:p,togglePlay:C}),(L,$)=>(H(),W("div",{ref:i,id:"refPlayerWrap",class:z(["d-player-wrap",{"web-full-screen":he(s).webFullScreen,"is-lightoff":he(s).lightOff,"d-player-wrap-hover":he(s).playBtnState=="play"||he(s).isVideoHovering}]),onMousemove:O},[J("div",gY,[J("video",Ye({ref:o,class:["d-player-video-main",{"video-mirror":he(s).mirror}],id:"dPlayerVideoMain",controls:!(!he(fo)||!he(s).speed),"webkit-playsinline":r.playsinline,playsinline:r.playsinline},he(d),{volume:he(s).volume,muted:he(s).muted,loop:he(s).loop,preload:L.preload,width:"100%",height:"100%",src:r.src,poster:r.poster}),"\u60A8\u7684\u6D4F\u89C8\u5668\u4E0D\u652F\u6301Video\u6807\u7B7E\u3002",16,pY)]),R(gn,{name:"d-fade-in"},{default:Ue(()=>[Ke(J("div",yY,null,512),[[Xe,he(s).lightOff]])]),_:1}),he(s).fullScreen?(H(),Oe(VW,{key:0,title:r.title},null,8,["title"])):se("",!0),he(fo)?se("",!0):(H(),W("div",bY,[R(gn,{name:"d-scale-out"},{default:Ue(()=>[Ke(J("div",SY,[R(In,{icon:"icon-play",size:40})],512),[[Xe,he(s).playBtnState=="play"]])]),_:1}),R(lC,{state:he(s)},null,8,["state"])])),he(fo)?se("",!0):(H(),W("input",{key:2,type:"input",readonly:"readonly",ref:u,onDblclick:x,onKeyup:[ti(x,["f"]),$[0]||($[0]=ti(M=>he(s).webFullScreen=!1,["esc"])),h],onClick:C,onKeydown:[ti(C,["space"]),ti(g,["arrow-left"]),ti(f,["arrow-up","arrow-down"]),h],class:"d-player-input",maxlength:"0"},null,40,TY)),R(uC,{loadType:he(s).loadStateType},null,8,["loadType"]),R(cC),!he(fo)&&he(s).control?(H(),W("div",{key:3,class:"d-player-control",ref:l},[J("div",CY,[R(di,{class:"d-progress-bar",onOnMousemove:_,onChange:k,disabled:!he(s).speed,hoverText:he(s).progressCursorTime,modelValue:he(s).playProgress,"onUpdate:modelValue":$[1]||($[1]=M=>he(s).playProgress=M),preload:he(s).preloadBar},null,8,["disabled","hoverText","modelValue","preload"])]),J("div",{class:"d-control-tool",onClick:y},[J("div",EY,[J("div",{class:"d-tool-item",onClick:C},[R(In,{size:"24",icon:`icon-${he(s).playBtnState}`},null,8,["icon"])]),r.controlBtns.includes("audioTrack")?(H(),W("div",wY,[J("span",null,Ae(he(s).currentTime),1),OY,J("span",kY,Ae(he(s).totalTime),1)])):se("",!0)]),J("div",_Y,[he(s).qualityLevels.length&&r.controlBtns.includes("quality")?(H(),W("div",AY,[nt(Ae(he(s).qualityLevels.length&&(he(s).qualityLevels[he(s).currentLevel]||{}).height)+"P ",1),J("div",DY,[J("ul",PY,[(H(!0),W(Ce,null,Ne(he(s).qualityLevels,(M,j)=>(H(),W("li",{class:z({"speed-active":he(s).currentLevel==j}),onClick:F=>((U,B)=>{a.currentLevel=B,s.currentLevel=B})(0,j),key:M},Ae(M.height)+"P",11,IY))),128))])])])):se("",!0),r.controlBtns.includes("speedRate")?(H(),W("div",LY,[nt(Ae(he(s).speedActive=="1.0"?"\u500D\u901F":he(s).speedActive+"x")+" ",1),J("div",RY,[J("ul",xY,[(H(!0),W(Ce,null,Ne(he(s).speedRate,M=>(H(),W("li",{class:z({"speed-active":he(s).speedActive==M}),onClick:j=>(F=>{s.speedActive=F,s.dVideo.playbackRate=F})(M),key:M},Ae(M)+"x",11,$Y))),128))])])])):se("",!0),r.controlBtns.includes("volume")?(H(),W("div",MY,[J("div",FY,[J("div",{class:z(["volume-main",{"is-muted":he(s).muted}])},[J("span",BY,Ae(he(s).muted?0:~~(100*he(s).volume))+"%",1),R(di,{onChange:$[2]||($[2]=M=>he(s).muted=!1),hover:!1,size:"5px",vertical:!0,modelValue:he(s).volume,"onUpdate:modelValue":$[3]||($[3]=M=>he(s).volume=M)},null,8,["modelValue"])],2)]),J("span",{onClick:w,style:{display:"flex"}},[R(In,{size:"20",icon:"icon-volume-"+(he(s).volume==0||he(s).muted?"mute":he(s).volume>.5?"up":"down")},null,8,["icon"])])])):se("",!0),r.controlBtns.includes("setting")?(H(),W("div",NY,[R(In,{size:"20",class:"rotateHover",icon:"icon-settings"}),J("div",jY,[J("ul",UY,[J("li",null,[VY,R(Vs,{onChange:A,modelValue:he(s).mirror,"onUpdate:modelValue":$[4]||($[4]=M=>he(s).mirror=M)},null,8,["modelValue"])]),J("li",null,[HY,R(Vs,{onChange:P,modelValue:he(s).loop,"onUpdate:modelValue":$[5]||($[5]=M=>he(s).loop=M)},null,8,["modelValue"])]),J("li",null,[zY,R(Vs,{onChange:D,modelValue:he(s).lightOff,"onUpdate:modelValue":$[6]||($[6]=M=>he(s).lightOff=M)},null,8,["modelValue"])])])])])):se("",!0),r.controlBtns.includes("pip")?(H(),W("div",{key:4,class:"d-tool-item pip-btn",onClick:I},[R(In,{size:"20",icon:"icon-pip"}),GY])):se("",!0),r.controlBtns.includes("pageFullScreen")?(H(),W("div",{key:5,class:"d-tool-item pip-btn",onClick:$[7]||($[7]=M=>he(s).webFullScreen=!he(s).webFullScreen)},[R(In,{size:"20",icon:"icon-web-screen"}),KY])):se("",!0),r.controlBtns.includes("fullScreen")?(H(),W("div",{key:6,class:"d-tool-item fullScreen-btn",onClick:x},[WY,R(In,{size:"20",icon:"icon-screen"})])):se("",!0)])])],512)):se("",!0)],34))}}));function YY(e){e.component(Bo.name,Bo)}Bo.__scopeId="data-v-01791e9e",Bo.install=YY;const Fi=Uo(CO);Fi.use(hU);Fi.use(Q9);Fi.use(AW);Fi.use(IW);Fi.use(Bo);Fi.mount("#app");export{Cq as $,He as A,QY as B,De as C,Mt as D,kq as E,Ce as F,_q as G,Oq as H,$o as I,lq as J,Aq as K,q as L,kc as M,co as N,gq as O,dq as P,pq as Q,Vr as R,Hr as S,eq as T,Re as U,vq as V,hq as W,sq as X,fq as Y,XY as Z,bW as _,H as a,Sq as a0,Tq as a1,Eq as a2,wq as a3,mq as a4,cq as a5,xq as a6,Nq as a7,Bq as a8,Fq as a9,aq as aa,oq as ab,N as ac,Ot as ad,St as ae,bt as af,Ke as ag,rq as ah,Xe as ai,iq as aj,iC as ak,Pq as al,Iq as am,Rq as an,$q as ao,nq as ap,oe as aq,z as ar,Ye as as,Mq as at,ZY as b,W as c,R as d,J as e,d0 as f,s7 as g,Lq as h,nt as i,ge as j,bq as k,yq as l,ee as m,Ae as n,tt as o,Ne as p,se as q,Me as r,tq as s,ze as t,JY as u,Oe as v,Ue as w,Xn as x,uq as y,Dq as z};
