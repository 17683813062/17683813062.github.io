var w=Object.defineProperty,V=Object.defineProperties;var k=Object.getOwnPropertyDescriptors;var _=Object.getOwnPropertySymbols;var v=Object.prototype.hasOwnProperty,C=Object.prototype.propertyIsEnumerable;var g=(o,e,t)=>e in o?w(o,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):o[e]=t,b=(o,e)=>{for(var t in e||(e={}))v.call(e,t)&&g(o,t,e[t]);if(_)for(var t of _(e))C.call(e,t)&&g(o,t,e[t]);return o},h=(o,e)=>V(o,k(e));import{_ as R,r as y,o as B,t as N,c as S,a as r,w as i,b as x,u as z,d as E,M as u,e as m,f as F,g as c}from"./index.e98d96b3.js";import{l as M}from"./index.1cc9ff52.js";const U={beforeRouteEnter(o,e,t){t(s=>{s.store.commit("changeFooter",!1)})},setup(){const o=z(),e=E();let t=y({store:o,username:"",password:""}),s=()=>{e.push({path:"/regist"})},d=async()=>{if(!t.username||!t.password)u.error("\u7528\u6237\u540D\u6216\u5BC6\u7801\u9519\u8BEF");else{let l={username:t.username,password:t.password},a=await M(l);u.success("\u767B\u5F55\u6210\u529F"),a.code==1?(e.push({path:"/home"}),localStorage.setItem("user",JSON.stringify(a.result[0]))):u.error(a.msg)}};return B((l,a)=>{o.commit("changeFooter",!0)}),h(b({},N(t)),{submit:d,goRegister:s})}},I=c(" \u767B\u5F55 "),J=c("\u53BB\u6CE8\u518C"),L=c("\u767B\u5F55");function O(o,e,t,s,d,l){const a=m("t-navbar"),p=m("t-input"),f=m("t-button");return F(),S("div",null,[r(a,{onClickRight:s.submit},{default:i(()=>[I]),_:1},8,["onClickRight"]),x("div",null,[r(p,{modelValue:o.username,"onUpdate:modelValue":e[0]||(e[0]=n=>o.username=n),label:"\u7528\u6237\u540D",type:"text",clearable:""},null,8,["modelValue"]),r(p,{modelValue:o.password,"onUpdate:modelValue":e[1]||(e[1]=n=>o.password=n),label:"\u5BC6\u7801",type:"password",clearable:""},null,8,["modelValue"])]),r(f,{onClick:s.goRegister,theme:"primary",size:"small"},{default:i(()=>[J]),_:1},8,["onClick"]),r(f,{onClick:s.submit,theme:"primary",size:"small"},{default:i(()=>[L]),_:1},8,["onClick"])])}var j=R(U,[["render",O]]);export{j as default};
