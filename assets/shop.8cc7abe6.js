var B=Object.defineProperty,R=Object.defineProperties;var x=Object.getOwnPropertyDescriptors;var T=Object.getOwnPropertySymbols;var M=Object.prototype.hasOwnProperty,V=Object.prototype.propertyIsEnumerable;var I=(e,t,s)=>t in e?B(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s,N=(e,t)=>{for(var s in t||(t={}))M.call(t,s)&&I(e,s,t[s]);if(T)for(var s of T(t))V.call(t,s)&&I(e,s,t[s]);return e},$=(e,t)=>R(e,x(t));import{_ as q,h as E,k as J,r as O,o as U,l as H,t as P,c as _,a as i,w as p,b as c,F as v,m as y,u as j,d as A,M as K,p as Q,n as W,e as n,f as d,q as X,g as w,i as u}from"./index.6af7fc65.js";import{g as Y,a as Z,b as ee}from"./index.1aebecf9.js";var te="./assets/icon.d0eadf8f.png";const se=E({beforeRouteEnter(e,t,s){s(a=>{t.path=="/shopdetail"?(console.log(a,"vm"),a.scroll=localStorage.getItem("scrollTop")):(a.scroll=0,localStorage.removeItem("scrollTop")),console.log(t,"from"),a.store.commit("changeFooter",!1)})},setup(){const e=j(),t=A();let s=J(null),a=O({listDom:s,store:e,imgUrl:te,goodsList:[],typeList:[],flutureList:[],scroll:null}),L=async()=>{let o=await Y();a.typeList=o.result.filter(r=>r.name!="\u5373\u5C06\u4E0A\u65B0")},D=o=>{t.push({path:"/shopdetail",query:{_id:o}}),localStorage.setItem("scrollTop",s.value.scrollHeight)},f=async()=>{let o=await Z();console.log(o),a.goodsList=o.result},m=async o=>{let r=await ee({type:o});r.code==1&&K.success("\u7B5B\u9009\u6210\u529F"),console.log(o,r.result),o=="\u5373\u5C06\u4E0A\u65B0"?a.flutureList=r.result:a.goodsList=r.result},h=o=>{m(o)};return U((o,r)=>{e.commit("changeFooter",!0)}),H(()=>{f(),L(),m("\u5373\u5C06\u4E0A\u65B0"),setTimeout(()=>{s._value.scrollTop=a.scroll},100)}),$(N({},P(a)),{listDom:s,goDetail:D,filterData:h})}}),k=e=>(Q("data-v-e70565dc"),e=e(),W(),e),oe={ref:"listDom",id:"shoplist1",class:"shopList"},le=w(" \u5546\u57CE "),ae=k(()=>c("img",{src:"https://tdesign.gtimg.com/site/swiper/02.png",alt:""},null,-1)),ie=k(()=>c("p",{style:{"font-size":"0.3rem","font-weight":"bold","text-indent":"0.2rem","line-height":"1rem"}},"\u5373\u5C06\u4E0A\u65B0",-1)),ne={class:"list"},re=["onClick"],ce=k(()=>c("p",{style:{"font-size":"0.3rem","font-weight":"bold","text-indent":"0.2rem","line-height":"1rem"}},"\u5168\u90E8\u5546\u54C1",-1)),pe={class:"list list1"},de=["onClick"];function _e(e,t,s,a,L,D){const f=n("t-navbar"),m=n("van-sticky"),h=n("t-swiper-item"),o=n("t-image"),r=n("t-swiper"),z=n("t-grid-item"),F=n("t-grid"),S=n("t-tag"),b=n("van-image"),G=n("t-divider");return d(),_("div",oe,[i(m,{"offset-top":0},{default:p(()=>[i(f,null,{default:p(()=>[le]),_:1})]),_:1}),i(r,{class:"my-swiper",autoplay:!1,height:180,direction:"horizontal",navigation:{type:"fraction"}},{default:p(()=>[i(h,{class:"swiper-item--demo"},{default:p(()=>[ae]),_:1}),i(h,{class:"swiper-item--demo"},{default:p(()=>[i(o,{fit:"contain",lazy:"",class:"image-container",src:"https://tdesign.gtimg.com/site/swiper/02.png",alt:"\u4E00\u5F20\u56FE\u7247"})]),_:1})]),_:1}),i(F,null,{default:p(()=>[(d(!0),_(v,null,y(e.typeList,(l,g)=>(d(),X(z,{onClick:C=>e.filterData(l.name),key:g,text:l.name,image:e.imgUrl},null,8,["onClick","text","image"]))),128))]),_:1}),ie,c("ul",ne,[(d(!0),_(v,null,y(e.flutureList,(l,g)=>(d(),_("li",{onClick:C=>e.goDetail(l._id),key:g},[i(S,{size:"small",class:"tag",theme:"primary",variant:"light-outline"},{default:p(()=>[w(u(l.typeName),1)]),_:2},1024),i(b,{width:"86%",height:"3rem",fit:"cover",src:JSON.parse(l.bannerList)[0].url},null,8,["src"]),c("p",null,u(l.title),1),c("p",null,u(l.desc),1)],8,re))),128))]),i(G),ce,c("ul",pe,[(d(!0),_(v,null,y(e.goodsList,(l,g)=>(d(),_("li",{onClick:C=>e.goDetail(l._id),key:g},[i(S,{size:"small",class:"tag",theme:"primary",variant:"light-outline"},{default:p(()=>[w(u(l.typeName),1)]),_:2},1024),i(b,{width:"86%",height:"3rem",fit:"cover",src:JSON.parse(l.bannerList)[0].url},null,8,["src"]),c("p",null,u(l.title),1),c("p",null,u(l.desc),1)],8,de))),128))])],512)}var he=q(se,[["render",_e],["__scopeId","data-v-e70565dc"]]);export{he as default};
