var B=Object.defineProperty,R=Object.defineProperties;var x=Object.getOwnPropertyDescriptors;var T=Object.getOwnPropertySymbols;var M=Object.prototype.hasOwnProperty,V=Object.prototype.propertyIsEnumerable;var I=(e,t,s)=>t in e?B(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s,N=(e,t)=>{for(var s in t||(t={}))M.call(t,s)&&I(e,s,t[s]);if(T)for(var s of T(t))V.call(t,s)&&I(e,s,t[s]);return e},$=(e,t)=>R(e,x(t));import{_ as q,h as E,k as J,r as O,o as U,l as H,t as P,c as u,a as i,w as p,b as n,F as v,m as y,u as j,d as A,M as K,p as Q,n as W,e as r,f as d,q as X,g as w,i as _}from"./index.dc23639b.js";import{g as Y,a as Z,b as ee}from"./index.3a8d7b49.js";var te="./assets/icon.d0eadf8f.png";const se=E({beforeRouteEnter(e,t,s){s(a=>{t.path=="/shopdetail"?(console.log(a,"vm"),a.scroll=localStorage.getItem("scrollTop")):(a.scroll=0,localStorage.removeItem("scrollTop")),console.log(t,"from"),a.store.commit("changeFooter",!1)})},setup(){const e=j(),t=A();let s=J(null),a=O({listDom:s,store:e,imgUrl:te,goodsList:[],typeList:[],flutureList:[],scroll:null}),L=async()=>{let l=await Y();a.typeList=l.result.filter(c=>c.name!="\u5373\u5C06\u4E0A\u65B0")},b=l=>{t.push({path:"/shopdetail",query:{_id:l}}),localStorage.setItem("scrollTop",s.value.scrollHeight)},f=async()=>{let l=await Z();console.log(l),a.goodsList=l.result},m=async l=>{let c=await ee({type:l});c.code==1&&K.success("\u7B5B\u9009\u6210\u529F"),console.log(l,c.result),l=="\u5373\u5C06\u4E0A\u65B0"?a.flutureList=c.result:a.goodsList=c.result},h=l=>{m(l)};return U((l,c)=>{e.commit("changeFooter",!0)}),H(()=>{f(),L(),m("\u5373\u5C06\u4E0A\u65B0"),setTimeout(()=>{s._value.scrollTop=a.scroll},100)}),$(N({},P(a)),{listDom:s,goDetail:b,filterData:h})}}),k=e=>(Q("data-v-5bf06c0b"),e=e(),W(),e),oe={ref:"listDom",id:"shoplist1",class:"shopList"},le=w(" \u5546\u57CE "),ae=k(()=>n("img",{src:"https://tdesign.gtimg.com/site/swiper/02.png",alt:""},null,-1)),ie=k(()=>n("p",{style:{"font-size":"0.3rem","font-weight":"bold","text-indent":"0.2rem","line-height":"1rem"}},"\u5373\u5C06\u4E0A\u65B0",-1)),ne={class:"list"},re=["onClick"],ce={class:"price"},pe=k(()=>n("p",{style:{"font-size":"0.3rem","font-weight":"bold","text-indent":"0.2rem","line-height":"1rem"}},"\u5168\u90E8\u5546\u54C1",-1)),_e={class:"list list1"},de=["onClick"],ue={class:"price"};function ge(e,t,s,a,L,b){const f=r("t-navbar"),m=r("van-sticky"),h=r("t-swiper-item"),l=r("t-image"),c=r("t-swiper"),z=r("t-grid-item"),F=r("t-grid"),D=r("t-tag"),S=r("van-image"),G=r("t-divider");return d(),u("div",oe,[i(m,{"offset-top":0},{default:p(()=>[i(f,null,{default:p(()=>[le]),_:1})]),_:1}),i(c,{class:"my-swiper",autoplay:!1,height:180,direction:"horizontal",navigation:{type:"fraction"}},{default:p(()=>[i(h,{class:"swiper-item--demo"},{default:p(()=>[ae]),_:1}),i(h,{class:"swiper-item--demo"},{default:p(()=>[i(l,{fit:"contain",lazy:"",class:"image-container",src:"https://tdesign.gtimg.com/site/swiper/02.png",alt:"\u4E00\u5F20\u56FE\u7247"})]),_:1})]),_:1}),i(F,null,{default:p(()=>[(d(!0),u(v,null,y(e.typeList,(o,g)=>(d(),X(z,{onClick:C=>e.filterData(o.name),key:g,text:o.name,image:e.imgUrl},null,8,["onClick","text","image"]))),128))]),_:1}),ie,n("ul",ne,[(d(!0),u(v,null,y(e.flutureList,(o,g)=>(d(),u("li",{onClick:C=>e.goDetail(o._id),key:g},[i(D,{size:"small",class:"tag",theme:"primary",variant:"light-outline"},{default:p(()=>[w(_(o.typeName),1)]),_:2},1024),i(S,{width:"86%",height:"3rem",fit:"cover",src:JSON.parse(o.bannerList)[0].url},null,8,["src"]),n("p",ce,"\uFFE5"+_(o.price),1),n("p",null,_(o.title),1),n("p",null,_(o.desc),1)],8,re))),128))]),i(G),pe,n("ul",_e,[(d(!0),u(v,null,y(e.goodsList,(o,g)=>(d(),u("li",{onClick:C=>e.goDetail(o._id),key:g},[i(D,{size:"small",class:"tag",theme:"primary",variant:"light-outline"},{default:p(()=>[w(_(o.typeName),1)]),_:2},1024),i(S,{width:"86%",height:"3rem",fit:"cover",src:JSON.parse(o.bannerList)[0].url},null,8,["src"]),n("p",ue,"\uFFE5"+_(o.price),1),n("p",null,_(o.title),1),n("p",null,_(o.desc),1)],8,de))),128))])],512)}var ve=q(se,[["render",ge],["__scopeId","data-v-5bf06c0b"]]);export{ve as default};
