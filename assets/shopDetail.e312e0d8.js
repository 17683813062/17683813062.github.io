var B=Object.defineProperty,M=Object.defineProperties;var $=Object.getOwnPropertyDescriptors;var O=Object.getOwnPropertySymbols;var D=Object.prototype.hasOwnProperty,I=Object.prototype.propertyIsEnumerable;var j=(e,o,t)=>o in e?B(e,o,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[o]=t,C=(e,o)=>{for(var t in o||(o={}))D.call(o,t)&&j(e,t,o[t]);if(O)for(var t of O(o))I.call(o,t)&&j(e,t,o[t]);return e},k=(e,o)=>M(e,$(o));import{_ as R,m as z,u as F,d as V,b as q,r as H,o as T,e as E,t as J,a as u,c as w,f as i,w as l,F as A,z as P,B as b,g as d,A as N,n as p,a5 as K,M as Q,a6 as U,a3 as W,i as h,j as n}from"./index.bd460a8a.js";const X=z({beforeRouteEnter(e,o,t){t(a=>{a.store.commit("changeFooter",!1)})},setup(){const e=F(),o=V(),t=q();let a=H({store:t,user:JSON.parse(localStorage.getItem("user")),timer:null,goodObj:{_id:"",bannerList:[],title:"",desc:"",price:null,html:"",typeName:"",typeId:"",timestamp:"",time:""}}),v=async()=>{let r=a.goodObj._id;await K({_id:r,username:a.user.username}),Q.success("\u52A0\u5165\u8D2D\u7269\u8F66\u6210\u529F")},f=()=>{o.push({path:"/shopcar"})},_=async()=>{let r=await U({_id:a.goodObj._id});console.log(r,"\u5220\u9664\u5546\u54C1"),o.push({path:"/shop"})},m=()=>{o.push({path:"/editgood",query:{_id:a.goodObj._id}})},g=async r=>{let s=await W({_id:r});a.goodObj.bannerList=JSON.parse(s.result[0].bannerList),a.goodObj.title=s.result[0].title,a.goodObj.desc=s.result[0].desc,a.goodObj.price=s.result[0].price,a.goodObj.html=s.result[0].html,a.goodObj.typeName=s.result[0].typeName,a.goodObj.typeId=s.result[0].typeId};return T(()=>{a.goodObj._id=e.query._id,g(e.query._id)}),E((r,s)=>{t.commit("changeFooter",!0)}),k(C({},J(a)),{editGoods:m,removeGoods:_,goShopCar:f,addShopCar:v})}}),Y=h(" \u8BE6\u60C5 "),Z={class:"goodsMsg"},x=h("\u7F16\u8F91\u5546\u54C1 "),ee=h("\u5220\u9664\u5546\u54C1"),oe=["innerHTML"];function te(e,o,t,a,v,f){const _=n("sound-icon"),m=n("t-navbar"),g=n("van-image"),r=n("van-swipe-item"),s=n("van-swipe"),y=n("t-button"),S=n("van-action-bar-icon"),L=n("van-action-bar-button"),G=n("van-action-bar");return u(),w("div",null,[i(m,null,{right:l(()=>[i(_)]),default:l(()=>[Y]),_:1}),i(s,{autoplay:3e3,"lazy-render":""},{default:l(()=>[(u(!0),w(A,null,P(e.goodObj.bannerList,c=>(u(),b(r,{key:c},{default:l(()=>[i(g,{width:"100%",height:"7rem",fit:"cover",src:c.url},null,8,["src"])]),_:2},1024))),128))]),_:1}),d("div",Z,[e.user&&e.user.username=="admin"?(u(),b(y,{key:0,onClick:o[0]||(o[0]=c=>e.editGoods()),theme:"primary",size:"small"},{default:l(()=>[x]),_:1})):N("",!0),e.user&&e.user.username=="admin"?(u(),b(y,{key:1,style:{"margin-left":"0.2rem"},onClick:o[1]||(o[1]=c=>e.removeGoods()),theme:"primary",size:"small"},{default:l(()=>[ee]),_:1})):N("",!0),d("h6",null,"\uFFE5"+p(e.goodObj.price),1),d("p",null,p(e.goodObj.title),1),d("p",null,"\u7C7B\u578B\uFF1A"+p(e.goodObj.typeName),1),d("p",null,p(e.goodObj.desc),1),d("div",{class:"goodHtml",innerHTML:e.goodObj.html},null,8,oe)]),i(G,null,{default:l(()=>[i(S,{onClick:e.goShopCar,icon:"shop-o",text:"\u8D2D\u7269\u8F66"},null,8,["onClick"]),i(L,{onClick:e.addShopCar,color:"#be99ff",type:"warning",text:"\u52A0\u5165\u8D2D\u7269\u8F66"},null,8,["onClick"])]),_:1})])}var ne=R(X,[["render",te],["__scopeId","data-v-77b6920f"]]);export{ne as default};
