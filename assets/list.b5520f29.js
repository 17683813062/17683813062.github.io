var Y=Object.defineProperty,R=Object.defineProperties;var U=Object.getOwnPropertyDescriptors;var L=Object.getOwnPropertySymbols;var G=Object.prototype.hasOwnProperty,H=Object.prototype.propertyIsEnumerable;var N=(o,e,r)=>e in o?Y(o,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):o[e]=r,Q=(o,e)=>{for(var r in e||(e={}))G.call(e,r)&&N(o,r,e[r]);if(L)for(var r of L(e))H.call(e,r)&&N(o,r,e[r]);return o},V=(o,e)=>R(o,U(e));import{_ as T,b as Z,r as W,o as M,e as P,t as E,a as g,c as d,f,w as b,g as A,F as K,C as D,N as I,n as p,q as C,ag as X,p as z,aj as x,M as S,a0 as O,ak as q,al as j,i as y,j as w,ah as _}from"./index.3f80cc32.js";import{c as $}from"./utils.5cf54832.js";import{d as ee}from"./download.1d24ffdb.js";var te="data:image/png;base64,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",se="data:image/png;base64,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",oe="data:image/png;base64,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";const ae={components:{},beforeRouteEnter(o,e,r){r(m=>{m.store.commit("changeFooter",!1)})},setup(){let o=Z(),e=W({store:o,user:JSON.parse(localStorage.getItem("user")),myVideoList:[],timer:null,loading:!0,fxImg:te,removeImg:se,closeImg:oe,options:{width:"100%",height:"3.5rem",color:"#409eff",muted:!1,webFullScreen:!1,speedRate:["0.75","1.0","1.25","1.5","2.0"],autoPlay:!1,loop:!1,mirror:!1,ligthOff:!1,volume:.3,control:TextTrackCue,title:"",poster:""},shareFlag:!1,videoShare:"",shareImg:"",codeURl:""}),r=async l=>{let s=await x({_id:l._id,videoPath:JSON.parse(l.videoList)[0].url});s.code==1?(u(),S.success(s.msg)):S.error(s.msg)},m=()=>{if(e.loading==!0){S.error("\u7F51\u7EDC\u4E0D\u597D\uFF0C\u8BF7\u7B49\u5F85 \u6216 \u5237\u65B0\u91CD\u65B0\u5206\u4EAB\uFF01\uFF01\uFF01");return}console.log(e.videoShare);let l=e.videoShare.split("/"),s=l[l.length-1];console.log(s),s=s.replace(".mp4",""),console.log(s),new html2canvas(document.getElementById("shareMain"),{allowTaint:!0,useCORS:!0,backgroundColor:"transparent"}).then(c=>{let t=new Image,a=c.toDataURL();t.src=a,t.setAttribute("crossOrigin","Anonymous"),ee(a,s||"photo","image/png")})},B=()=>{e.shareFlag=!1,e.shareImg="",e.codeURl=""},J=l=>{e.shareFlag=!0;let s=document.createElement("video");s.style="width:0;height:0;position:fixed;right:-100%;",s.muted="muted",s.crossOrigin="Anonymous",s.currentTime=15,s.onloadeddata=function(t){console.log(t.srcElement.videoHeight,t.srcElement.videoWidth,"\u89C6\u9891\u5C3A\u5BF8");let{width:a,height:i}=c(750,t.srcElement.videoWidth,t.srcElement.videoHeight),n=document.createElement("canvas");n.width=a,n.height=i,n.getContext("2d").drawImage(this,0,0,a,i),e.shareImg=n.toDataURL("image/png"),e.timer=setTimeout(()=>{e.loading=!1,clearTimeout(e.timer)},1e3),document.body.removeChild(s)},s.src=JSON.parse(l.videoList)[0].url,e.videoShare=JSON.parse(l.videoList)[0].url,e.codeURl=JSON.parse(l.videoList)[0].url,document.body.appendChild(s),O(async()=>{let t=await q({text:JSON.parse(l.videoList)[0].url,size:100}),a="data:image/png;base64,"+t.base64;e.codeURl=a});function c(t,a,i){return t>=a?{width:a,height:i}:{width:t,height:Math.floor(t/a*i)}}},u=async()=>{let s=(await j()).result;s.forEach((t,a)=>{s[a].timestamp=$(t.timestamp)}),e.myVideoList=s,s.forEach((t,a)=>{let i=JSON.parse(t.videoList)[0].url,n=document.createElement("video");n.style="width:0;height:0;position:fixed;right:-100%;",n.muted="muted",n.crossOrigin="Anonymous",n.currentTime=30,n.onloadeddata=function(h){let{width:F,height:k}=c(750,h.srcElement.videoWidth,h.srcElement.videoHeight),v=document.createElement("canvas");v.width=F,v.height=k,v.getContext("2d").drawImage(this,0,0,F,k),t.poster=v.toDataURL("image/png")},n.src=i});function c(t,a,i){return t>=a?{width:a,height:i}:{width:t,height:Math.floor(t/a*i)}}O(()=>{e.myVideoList=s,console.log(e.myVideoList,"state.myVideoList")})};return M(()=>{u()}),P((l,s)=>{o.commit("changeFooter",!0)}),V(Q({},E(e)),{goShare:J,closeShare:B,saveImgFunc:m,goRemove:r})}},re=y(" \u8D44\u6E90 "),le={id:"myVideoBox"},ie={style:{"font-size":"0.26rem","line-height":"0.3rem","margin-top":"0.1rem",overflow:"hidden","text-overflow":"ellipsis",display:"-webkit-box","-webkit-line-clamp":"2","-webkit-box-orient":"vertical"}},ne={style:{"margin-top":"0.1rem","white-space":"nowrap",overflow:"hidden","text-overflow":"ellipsis"}},Ae=["onClick","src"],me=["onClick","src"],ce=["src"],ge={key:0,class:"shareBox"},de={id:"shareMain",class:"main"},ue=["src"],ve=["src"],we=["src"],he=y("\u4FDD\u5B58");function fe(o,e,r,m,B,J){const u=w("t-navbar"),l=w("vue3VideoPlay"),s=w("van-loading"),c=w("van-button");return g(),d(K,null,[f(u,null,{default:b(()=>[re]),_:1}),A("div",null,[A("ul",le,[(g(!0),d(K,null,D(o.myVideoList,(t,a)=>(g(),d("li",{key:"video_"+a},[f(l,I({poster:t.poster,class:"video_"+a,src:JSON.parse(t.videoList)[0].url},o.options),null,16,["poster","class","src"]),A("p",ie,p(t.name?t.name:""),1),A("p",ne," \u4E0A\u4F20\u4EBA\uFF1A"+p(JSON.parse(t.user).username),1),A("p",null,p(t.timestamp),1),A("img",{onClick:i=>m.goShare(t),class:"fxImg",src:o.fxImg,alt:""},null,8,Ae),o.user.username=="admin"?(g(),d("img",{key:0,onClick:i=>m.goRemove(t),class:"removeImg",src:o.removeImg,alt:""},null,8,me)):C("",!0),X(A("video",{id:"shareB",src:JSON.parse(t.videoList)[0].url},null,8,ce),[[_,!1]])]))),128))]),o.shareFlag?(g(),d("div",ge,[A("div",de,[o.loading?(g(),z(s,{key:0,color:"#1989fa"})):C("",!0),A("img",{onClick:e[0]||(e[0]=(...t)=>m.closeShare&&m.closeShare(...t)),class:"close",src:o.closeImg,alt:""},null,8,ue),A("img",{class:"mainImg",src:o.shareImg,alt:""},null,8,ve),A("img",{class:"codeImg",src:o.codeURl,alt:""},null,8,we),f(c,{onClick:m.saveImgFunc,style:{position:"absolute",bottom:"-12vw"},type:"primary",block:""},{default:b(()=>[he]),_:1},8,["onClick"])])])):C("",!0)])],64)}var Fe=T(ae,[["render",fe],["__scopeId","data-v-5e9365b4"]]);export{Fe as default};
