var I=Object.defineProperty,W=Object.defineProperties;var H=Object.getOwnPropertyDescriptors;var V=Object.getOwnPropertySymbols;var q=Object.prototype.hasOwnProperty,E=Object.prototype.propertyIsEnumerable;var R=(t,s,l)=>s in t?I(t,s,{enumerable:!0,configurable:!0,writable:!0,value:l}):t[s]=l,T=(t,s)=>{for(var l in s||(s={}))q.call(s,l)&&R(t,l,s[l]);if(V)for(var l of V(s))E.call(s,l)&&R(t,l,s[l]);return t},G=(t,s)=>W(t,H(s));import{ae as X,_ as z,r as x,o as j,t as _,a as y,c as k,g as A,F as $,z as ee,f as K,L as te,n as Y,ab as oe,B as ae,A as Z,w as se,M as ne,$ as re,af as le,ag as ie,i as ce,j as F,ac as de}from"./index.e752eb38.js";import{c as me}from"./utils.95e6bb58.js";var Ae="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGwAAABsCAYAAACPZlfNAAAAAXNSR0IArs4c6QAACJlJREFUeF7tnQeoJEUQhj8Fcz4DgooBxIhiQMWA8cxZz5xzzjmfOeecc845Z1AxYFZQUFFBUVFBURRU/nPmsbdvd6Zmpnu6Z3cKlvfuXnd1dX07Mz3d1dWT0EqjPDBJo6xtjaUosIWBccAsyWdmYLLI/fgiMD5yG83mWYHtDOwArGLWHE/Bk4YJ2KLAscBW8fi/sCVDA0y3viuBMYVdFFeFoQAmWHfH5ffS1vgApmf5x6UtqlCx1zNsY+CBCjpjq+oD2IfAFiGgdQObHXgWWCQ2r1ewxwewf4GPQkDrBnYtsGsF58RY1Rcw9bV2aJ3A1gKeNHj8l6Tcp8DbwG+GOqGL6F3MpegKS6VWaJ3AbgO2yenVg8AhwBcue99AXZ3Aar3SUmBLA2/mOE5At2ugc32Y3A2sNmgpML0cn5rRs6+AeXz0vKE6ewGrBVoKTFeXrrJ+shlwf0Od68PsfsC8QxOwhQzvExruf++j5w3VmQXMKzQBy3tR/hKYt6GO9WV2HjBv0ARsd+DqjJ5pSLyqr543VK8FmBdoAnYMcFqG414AVmuoY32ZbQXmHJqAnQhoNqCfPA+s7qvnDdVbBJhTaBZgzwFrNNSxvswuCswZtBZYOaRlgDmBZgGm2fux5fo1sLXKAqsMzQLsGWDNgXW9rWNTAjN1fF61VetbqvSEsQXY04Bm8odBFGS0chJsNCPQ+XHd/1LQLMCeAtZ2bW0k+lYEVgLSn9PVbFdhaBZgWiNbp+aO+GxuMWBzQPOjis0ILYWgWYA9AawbulcV25+qA9JGFXX5qG6GZgH2OLCeDytr0DkFcDCwZwOWh0zQBhmYFlsFa8kavhiumsiFZgH2GLC+K4tq0KORnkBtWENbPprIhGYB9iiwgQ/LPOjUqrlWz5sufaFZgD3SkG+rwsr1rBoU6QnNAuxhIMaRVQpmhiTsbrlBIdXRj1HQLMAeSlalY/THgsAnMRrm0KaJoFmAKRZxE4cGuFKll3m9cgyDjEBrKrCtgduHgVT37dECTDtZNo3IObsB10RkT12mTLjKLMAUj6h5txhkGK8s+b3QLfG+ZB4uNDDNqGsieprQhtTcfuFBx71J5oCa7ZyoOa1LaZlnmZBGBGi71LD+nmTjWgB7R5q8DtglpAEB2i794qy9zlsGMDhtUtubzgvYfoimK01NhQSm59YrITwWsM3Kk793BczToXnMJq0UVOXsZHnlTkDD6bpFE7ma0B0WyYUlR1jew+4wbKV17dQ5klvhsOyaMcGyAtMU0LauieTouxjYv+Y2QzVnhmUFVvfe5qWAt0J5r+Z2C8GyArsV2L7GjlwF7FFje72a+ivZcapdp/p92mSGpfNnVRMLw7ICuyVJvVfVQEv9Oq+uf4B3gfc6PgL0HfBzjrFVYuuluhSsGIH5vLqUW0QBRW8kgD6wfIP6lKkCrDQsK7CbgR0rdM5aVbkZqzixu52/gZcAbUhUIJFL3WWBVYJlBXYTsJPV6xXKnQIcV6G+qn6drEILlDZx/FRRX7/qZYBVhmUFdiOgFLI+ZXJAKe3mL9nI64BGsxogKReWbykKzAksK7Abapgp1yhUt96iovUxrT7XnfSlCDBnsKzArq8hJZ+eMUXi9zWyuxDQ1R9CrMCcwrIC01qU4ih8yXzAZ8CkhgaU6u/0BNYfhvK+iliAOYcVC7C9gCsMnn0ZOBLQ8yq05AHzAssKTFlKlS3HlygqS+mTskS3P8HSrEMMEjQ5WF5iFT3UfU0VaVZet0NtuOslmnk4HNBsS0wSNP1eHjDlofK1yUCvCxrU9BK9RwnW+zGRSmwJmuAyD5imi/Sc8SFaHO0VL3JuAstHmy50Bk0hmwdMq757u+hllw4dtPN5klqh80864yW2W2B394Mmac4DphHcPh6AKfxbQaqdouT9CquLXVJg3kaD/RxgCRHwBax7t2RTYMmXQQ8ayLvCLgf29fCVVyRvmhKpSbDkiqBHeeQBuwzYzzEwzWpo1kLDeS3dlJlHdGxSIXVBD8vJA3aph4CYNE/+JcABhVw1eIUth+iNnGxheYb5cOpByQYL3RJ/HzwGhXqkFL1Z0JRvuRAwhZwdWMiE/MIayCii2PWZKPktx1fCObCLAF0RLuXQIdzg0M9/zoFp4lWZZVrx44EWmB+/etPqHNgFyRFU3iwecsXOgZ0P6JnTih8POAem3Y+H+bG11Qo4Bxb7UkfTqTsHdg5wRNO9ErH9zoGdncRTRNznRpvWAmsYPufAzgKOapgTmmSuc2BnAkc3yQMNs9U5sDOSQ+Ea5ofGmOscmEKjByHxcawEnQPTcYtV923F6qwY7HIOTMEyx8fQswG1wTkw7Yw8YUCdFUO3WmAxUChgg3NgJycn0RawoS1awAPOgY3POTa4gG1t0R4eKAxMO0Q0X9hPfAWStvT+98CvwPQZzlgiSQAzoYjC3JTSQRvP+0l7tL2/r5bC/BQBnSVzAt+mBQRMp+8pQ0w/+QGYzZ/NQ605L4hXzlFKDCWJGbnCxhgSkLQvz+6/VwsAn+aoHXV30xUmUU7EvKyjywOvubd7aDXqkB8d9pMl2oSiMcSIpMCUwFJZZLLkG0BBpYoEjmVzeBNpa5uwItF0jFaWKJnZsoAeSaOA6T+UVFLp7/Lkna6kW4KeflS389/Wv6VfnLrrZtlbxaZuvcqzuHhyHqf1WBRdRKMOBEqNUgPKFKD9zK2E90DfDSidwGSmcjcNyzH24bH0tiDzJI5uYFLxJTB3rL0ZcLvk+8xM4r2AySfKM6jhfiv1eUCDurnymusHTPV0hMe4PAXt3514wHwgURYwWaKIqTaI1AmTnkp0rowyvipjnknygEnJCklWmrHA1CatbaEsD2gzvhJyKimaDoQtJBZgqULBEjzNeGhucdbkU6jBISys2XiNCX5MUgc+AfxZ1g9FgJVto63n0AMtMIfOrEPVfyoOFt+v9irkAAAAAElFTkSuQmCC",ue="data:image/png;base64,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",M={exports:{}};(function(t,s){(function(l,m){t.exports=m()})(X,function(){return function l(m,p,d){var o=window,i="application/octet-stream",a=d||i,e=m,r=!p&&!d&&e,c=document.createElement("a"),C=function(n){return String(n)},u=o.Blob||o.MozBlob||o.WebKitBlob||C,w=p||"download",g,L;if(u=u.call?u.bind(o):Blob,String(this)==="true"&&(e=[e,a],a=e[0],e=e[1]),r&&r.length<2048&&(w=r.split("/").pop().split("?")[0],c.href=r,c.href.indexOf(r)!==-1)){var v=new XMLHttpRequest;return v.open("GET",r,!0),v.responseType="blob",v.onload=function(n){l(n.target.response,w,i)},setTimeout(function(){v.send()},0),v}if(/^data:([\w+-]+\/[\w+.-]+)?[,;]/.test(e))if(e.length>1024*1024*1.999&&u!==C)e=O(e),a=e.type||i;else return navigator.msSaveBlob?navigator.msSaveBlob(O(e),w):b(e);else if(/([\x80-\xff])/.test(e)){var h=0,J=new Uint8Array(e.length),P=J.length;for(h;h<P;++h)J[h]=e.charCodeAt(h);e=new u([J],{type:a})}g=e instanceof u?e:new u([e],{type:a});function O(n){var f=n.split(/[:;,]/),B=f[1],D=f[2]=="base64"?atob:decodeURIComponent,Q=D(f.pop()),U=Q.length,S=0,N=new Uint8Array(U);for(S;S<U;++S)N[S]=Q.charCodeAt(S);return new u([N],{type:B})}function b(n,f){if("download"in c)return c.href=n,c.setAttribute("download",w),c.className="download-js-link",c.innerHTML="downloading...",c.style.display="none",document.body.appendChild(c),setTimeout(function(){c.click(),document.body.removeChild(c),f===!0&&setTimeout(function(){o.URL.revokeObjectURL(c.href)},250)},66),!0;if(/(Version)\/(\d+)\.(\d+)(?:\.(\d+))?.*Safari\//.test(navigator.userAgent))return/^data:/.test(n)&&(n="data:"+n.replace(/^data:([\w\/\-\+]+)/,i)),window.open(n)||confirm(`Displaying New Document

Use Save As... to download, then click back to return to this page.`)&&(location.href=n),!0;var B=document.createElement("iframe");document.body.appendChild(B),!f&&/^data:/.test(n)&&(n="data:"+n.replace(/^data:([\w\/\-\+]+)/,i)),B.src=n,setTimeout(function(){document.body.removeChild(B)},333)}if(navigator.msSaveBlob)return navigator.msSaveBlob(g,w);if(o.URL)b(o.URL.createObjectURL(g),!0);else{if(typeof g=="string"||g.constructor===C)try{return b("data:"+a+";base64,"+o.btoa(g))}catch{return b("data:"+a+","+encodeURIComponent(g))}L=new FileReader,L.onload=function(n){b(this.result)},L.readAsDataURL(g)}return!0}})})(M);var ge=M.exports;const fe={components:{},setup(){let t=x({myVideoList:[],timer:null,loading:!0,fxImg:Ae,closeImg:ue,options:{width:"100%",height:"3.5rem",color:"#409eff",muted:!1,webFullScreen:!1,speedRate:["0.75","1.0","1.25","1.5","2.0"],autoPlay:!1,loop:!1,mirror:!1,ligthOff:!1,volume:.3,control:TextTrackCue,title:"",poster:""},shareFlag:!1,videoShare:"",shareImg:"",codeURl:""}),s=()=>{if(t.loading==!0){ne.error("\u7F51\u7EDC\u4E0D\u597D\uFF0C\u8BF7\u7B49\u5F85 \u6216 \u5237\u65B0\u91CD\u65B0\u5206\u4EAB\uFF01\uFF01\uFF01");return}console.log(t.videoShare);let d=t.videoShare.split("/"),o=d[d.length-1];console.log(o),o=o.replace(".mp4",""),console.log(o),new html2canvas(document.getElementById("shareMain"),{allowTaint:!0,useCORS:!0,backgroundColor:"transparent"}).then(i=>{let a=new Image,e=i.toDataURL();a.src=e,a.setAttribute("crossOrigin","Anonymous"),ge(res.data,o||"photo","image/png")})},l=()=>{t.shareFlag=!1,t.shareImg="",t.codeURl=""},m=d=>{t.shareFlag=!0;let o=document.createElement("video");o.style="width:0;height:0;position:fixed;right:-100%;",o.muted="muted",o.crossOrigin="Anonymous",o.currentTime=15,o.onloadeddata=function(){let{width:a,height:e}=i(750,750,1375),r=document.createElement("canvas");r.width=a,r.height=e,r.getContext("2d").drawImage(this,0,0,a,e),t.shareImg=r.toDataURL("image/png"),t.timer=setTimeout(()=>{t.loading=!1,clearTimeout(t.timer)},1e3),document.body.removeChild(o)},o.src=JSON.parse(d.videoList)[0].url,t.videoShare=JSON.parse(d.videoList)[0].url,t.codeURl=JSON.parse(d.videoList)[0].url,document.body.appendChild(o),re(async()=>{let a=await le({text:JSON.parse(d.videoList)[0].url,size:100}),e="data:image/png;base64,"+a.base64;t.codeURl=e});function i(a,e,r){return a>=e?{width:e,height:r}:{width:a,height:Math.floor(a/e*r)}}},p=async()=>{let o=(await ie()).result;o.forEach((i,a)=>{o[a].timestamp=me(i.timestamp)}),t.myVideoList=o,console.log(t.myVideoList,"state.myVideoList")};return j(()=>{p()}),G(T({},_(t)),{goShare:m,closeShare:l,saveImgFunc:s})}},pe={id:"myVideoBox"},we={style:{"margin-top":"0.1rem"}},ve=["onClick","src"],he=["src"],be={key:0,class:"shareBox"},Be={id:"shareMain",class:"main"},Se=["src"],ye=["src"],ke=["src"],Ce=ce("\u4FDD\u5B58");function Le(t,s,l,m,p,d){const o=F("vue3VideoPlay"),i=F("van-loading"),a=F("van-button");return y(),k("div",null,[A("ul",pe,[(y(!0),k($,null,ee(t.myVideoList,(e,r)=>(y(),k("li",{key:"video_"+r},[K(o,te({class:"video_"+r,src:JSON.parse(e.videoList)[0].url},t.options),null,16,["class","src"]),A("p",we,"\u4E0A\u4F20\u4EBA\uFF1A"+Y(JSON.parse(e.user).username),1),A("p",null,Y(e.timestamp),1),A("img",{onClick:c=>m.goShare(e),class:"fxImg",src:t.fxImg,alt:""},null,8,ve),oe(A("video",{id:"shareB",src:JSON.parse(e.videoList)[0].url},null,8,he),[[de,!1]])]))),128))]),t.shareFlag?(y(),k("div",be,[A("div",Be,[t.loading?(y(),ae(i,{key:0,color:"#1989fa"})):Z("",!0),A("img",{onClick:s[0]||(s[0]=(...e)=>m.closeShare&&m.closeShare(...e)),class:"close",src:t.closeImg,alt:""},null,8,Se),A("img",{class:"mainImg",src:t.shareImg,alt:""},null,8,ye),A("img",{class:"codeImg",src:t.codeURl,alt:""},null,8,ke),K(a,{onClick:m.saveImgFunc,style:{position:"absolute",bottom:"-12vw"},type:"primary",block:""},{default:se(()=>[Ce]),_:1},8,["onClick"])])])):Z("",!0)])}var Qe=z(fe,[["render",Le],["__scopeId","data-v-1b54e9a2"]]);export{Qe as default};
