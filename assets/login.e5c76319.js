var b=Object.defineProperty,w=Object.defineProperties;var V=Object.getOwnPropertyDescriptors;var i=Object.getOwnPropertySymbols;var v=Object.prototype.hasOwnProperty,h=Object.prototype.propertyIsEnumerable;var d=(s,e,o)=>e in s?b(s,e,{enumerable:!0,configurable:!0,writable:!0,value:o}):s[e]=o,p=(s,e)=>{for(var o in e||(e={}))v.call(e,o)&&d(s,o,e[o]);if(i)for(var o of i(e))h.call(e,o)&&d(s,o,e[o]);return s},c=(s,e)=>w(s,V(e));import{_ as R,r as y,o as k,t as B,c as C,a as n,w as N,b as _,u as S,d as $,M as u,e as f,f as x,g as E}from"./index.6af7fc65.js";import{l as F}from"./index.1aebecf9.js";const M={beforeRouteEnter(s,e,o){o(t=>{t.store.commit("changeFooter",!1)})},setup(){const s=S(),e=$();let o=y({store:s,username:"",password:""}),t=async()=>{if(!o.username||!o.password)u.error("\u7528\u6237\u540D\u6216\u5BC6\u7801\u9519\u8BEF");else{let r={username:o.username,password:o.password},a=await F(r);a.code==1?(u.success("\u767B\u5F55\u6210\u529F"),e.push({path:"/home"}),localStorage.setItem("user",JSON.stringify(a.result[0]))):u.error(a.msg)}};return k((r,a)=>{s.commit("changeFooter",!0)}),c(p({},B(o)),{submit:t})}},U=E(" \u767B\u5F55 "),z=_("p",{style:{"font-size":"0.24rem",color:"red"}},"\u76EE\u524D\u672A\u5F00\u653E\u6CE8\u518C",-1);function I(s,e,o,t,r,a){const g=f("t-navbar"),m=f("t-input");return x(),C("div",null,[n(g,{onClickRight:t.submit},{default:N(()=>[U]),_:1},8,["onClickRight"]),_("div",null,[n(m,{modelValue:s.username,"onUpdate:modelValue":e[0]||(e[0]=l=>s.username=l),label:"\u7528\u6237\u540D",type:"text",clearable:""},null,8,["modelValue"]),n(m,{modelValue:s.password,"onUpdate:modelValue":e[1]||(e[1]=l=>s.password=l),label:"\u5BC6\u7801",type:"password",clearable:""},null,8,["modelValue"])]),z])}var P=R(M,[["render",I]]);export{P as default};
