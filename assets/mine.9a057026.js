var S=Object.defineProperty,A=Object.defineProperties;var N=Object.getOwnPropertyDescriptors;var _=Object.getOwnPropertySymbols;var P=Object.prototype.hasOwnProperty,b=Object.prototype.propertyIsEnumerable;var f=(e,o,t)=>o in e?S(e,o,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[o]=t,C=(e,o)=>{for(var t in o||(o={}))P.call(o,t)&&f(e,t,o[t]);if(_)for(var t of _(o))b.call(o,t)&&f(e,t,o[t]);return e},k=(e,o)=>A(e,N(o));import{_ as w,m as O,r as J,o as L,t as $,a as B,c as F,d as l,w as i,e as n,n as v,F as R,g as V,p as z,i as E,j as c}from"./index.e6417789.js";const G=O({setup(){const e=V();let o=J({user:JSON.parse(localStorage.getItem("user")),address:""}),t=()=>{AMap.plugin("AMap.Geolocation",function(){var a=new AMap.Geolocation({enableHighAccuracy:!0,timeout:1e4,buttonOffset:new AMap.Pixel(10,20),zoomToAccuracy:!0,buttonPosition:"RB"});a.getCurrentPosition(),AMap.event.addListener(a,"complete",r),AMap.event.addListener(a,"error",h);function r(s){let M=s.position.lng,y=s.position.lat;z({lng:M,lat:y}).then(p=>{alert(JSON.stringify(p)),o.address=p.address,console.log(p,"\u5B9A\u4F4D\u4FE1\u606F")}),console.log(JSON.stringify(s))}function h(s){alert(JSON.stringify(s,"error")),console.log(JSON.stringify(s,"error"))}})};L(()=>{t()});let g=()=>{!o.user||!o.user.username||e.push({path:"/nearMan"})},d=()=>{e.push({path:"/leaveword"})},m=()=>{e.push({path:"/login"})},u=()=>{e.push({path:"/share"})};return k(C({},$(o)),{onLogin:m,goSpeakPage:d,goMapPage:g,goshare:u})}}),I=E("\u767B\u5F55"),T=n("br",null,null,-1),j=n("span",null,"\u9644\u8FD1\u7684\u4EBA",-1),D=n("span",null,"\u7559\u8A00",-1),H=n("span",null,"\u63A8\u5E7F",-1);function q(e,o,t,g,d,m){const u=c("t-button"),a=c("van-image"),r=c("t-cell");return B(),F(R,null,[l(u,{style:{float:"right"},onClick:o[0]||(o[0]=h=>e.onLogin()),theme:"primary",size:"small"},{default:i(()=>[I]),_:1}),T,l(a,{round:"",width:"2rem",height:"2rem",src:e.user?e.user.headImg:""},null,8,["src"]),n("p",null,"\xA0\xA0\xA0\xA0"+v(e.user?e.user.username?"\u767B\u5F55\u6210\u529F\uFF01\uFF01\uFF01 \u6B22\u8FCE\u767B\u5F55\uFF1A "+e.user.username:"\u7528\u6237\u540D\u4E0D\u5B58\u5728":" \u672A\u767B\u5F55"),1),n("p",null,"\xA0\xA0\xA0\xA0"+v(e.address),1),n("div",null,[l(r,{onClick:e.goMapPage,note:"\u4EC5\u53EF\u767B\u5F55\u7528\u6237\u67E5\u770B"},{title:i(()=>[j]),_:1},8,["onClick"]),l(r,{onClick:e.goSpeakPage,note:"\u6709\u95EE\u9898\u53EF\u4EE5\u5728\u8FD9\u7559\u8A00"},{title:i(()=>[D]),_:1},8,["onClick"]),l(r,{onClick:e.goshare},{title:i(()=>[H]),_:1},8,["onClick"])])],64)}var U=w(G,[["render",q]]);export{U as default};
