var R=Object.defineProperty,V=Object.defineProperties;var v=Object.getOwnPropertyDescriptors;var g=Object.getOwnPropertySymbols;var k=Object.prototype.hasOwnProperty,C=Object.prototype.propertyIsEnumerable;var c=(t,e,o)=>e in t?R(t,e,{enumerable:!0,configurable:!0,writable:!0,value:o}):t[e]=o,f=(t,e)=>{for(var o in e||(e={}))k.call(e,o)&&c(t,o,e[o]);if(g)for(var o of g(e))C.call(e,o)&&c(t,o,e[o]);return t},_=(t,e)=>V(t,v(e));import{_ as y,b as B,d as N,r as x,e as I,t as S,a as z,c as E,f as i,w as h,g as b,M as u,h as F,l as M,i as w,j as m}from"./index.529e3e65.js";const P={beforeRouteEnter(t,e,o){o(s=>{s.store.commit("changeFooter",!1)})},setup(){const t=B(),e=N();let o=x({store:t,username:"",password:""}),s=()=>{e.push({path:"/phone_login"})},d=()=>{e.push({path:"/regist"})},p=async()=>{if(!o.username||!o.password)u.error("\u7528\u6237\u540D\u6216\u5BC6\u7801\u9519\u8BEF");else{let a=await F();if(a.code==1){console.log(a,"\u5934\u50CF");let l={username:o.username,password:o.password,headImg:a.result.imgurl},r=await M(l);u.success("\u767B\u5F55\u6210\u529F"),r.code==1?(e.push({path:"/home"}),console.log(r,"\u767B\u5F55\u6210\u529F"),localStorage.setItem("user",JSON.stringify(r.result[0]))):u.error(r.msg)}}};return I((a,l)=>{t.commit("changeFooter",!0)}),_(f({},S(o)),{submit:p,goRegister:d,goPhoneRegister:s})}},U=w(" \u767B\u5F55 "),j=w("\u767B\u5F55");function H(t,e,o,s,d,p){const a=m("t-navbar"),l=m("t-input"),r=m("t-button");return z(),E("div",null,[i(a,{onClickRight:s.submit},{default:h(()=>[U]),_:1},8,["onClickRight"]),b("div",null,[i(l,{modelValue:t.username,"onUpdate:modelValue":e[0]||(e[0]=n=>t.username=n),label:"\u7528\u6237\u540D",type:"text",clearable:""},null,8,["modelValue"]),i(l,{modelValue:t.password,"onUpdate:modelValue":e[1]||(e[1]=n=>t.password=n),label:"\u5BC6\u7801",type:"password",clearable:""},null,8,["modelValue"])]),b("p",{onClick:e[2]||(e[2]=(...n)=>s.goRegister&&s.goRegister(...n)),style:{color:"green","font-size":"0.3rem","font-weight":"bold","text-indent":"0.3rem"}},"\u53BB\u6CE8\u518C"),i(r,{onClick:s.submit,theme:"primary",size:"large"},{default:h(()=>[j]),_:1},8,["onClick"])])}var O=y(P,[["render",H]]);export{O as default};
